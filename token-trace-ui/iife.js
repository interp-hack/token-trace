"use strict";var TokenTrace=(()=>{var xA=Object.create;var P0=Object.defineProperty;var bA=Object.getOwnPropertyDescriptor;var wA=Object.getOwnPropertyNames;var TA=Object.getPrototypeOf,AA=Object.prototype.hasOwnProperty;var Os=(G,re)=>()=>(re||G((re={exports:{}}).exports,re),re.exports),MA=(G,re)=>{for(var ge in re)P0(G,ge,{get:re[ge],enumerable:!0})},fx=(G,re,ge,Be)=>{if(re&&typeof re=="object"||typeof re=="function")for(let V of wA(re))!AA.call(G,V)&&V!==ge&&P0(G,V,{get:()=>re[V],enumerable:!(Be=bA(re,V))||Be.enumerable});return G};var of=(G,re,ge)=>(ge=G!=null?xA(TA(G)):{},fx(re||!G||!G.__esModule?P0(ge,"default",{value:G,enumerable:!0}):ge,G)),SA=G=>fx(P0({},"__esModule",{value:!0}),G);var wx=Os(ui=>{"use strict";var ud=Symbol.for("react.element"),EA=Symbol.for("react.portal"),CA=Symbol.for("react.fragment"),LA=Symbol.for("react.strict_mode"),PA=Symbol.for("react.profiler"),RA=Symbol.for("react.provider"),DA=Symbol.for("react.context"),IA=Symbol.for("react.forward_ref"),kA=Symbol.for("react.suspense"),FA=Symbol.for("react.memo"),_A=Symbol.for("react.lazy"),cx=Symbol.iterator;function zA(G){return G===null||typeof G!="object"?null:(G=cx&&G[cx]||G["@@iterator"],typeof G=="function"?G:null)}var dx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},px=Object.assign,gx={};function cv(G,re,ge){this.props=G,this.context=re,this.refs=gx,this.updater=ge||dx}cv.prototype.isReactComponent={};cv.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")};cv.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function yx(){}yx.prototype=cv.prototype;function Fg(G,re,ge){this.props=G,this.context=re,this.refs=gx,this.updater=ge||dx}var _g=Fg.prototype=new yx;_g.constructor=Fg;px(_g,cv.prototype);_g.isPureReactComponent=!0;var hx=Array.isArray,mx=Object.prototype.hasOwnProperty,zg={current:null},xx={key:!0,ref:!0,__self:!0,__source:!0};function bx(G,re,ge){var Be,V={},U=null,e=null;if(re!=null)for(Be in re.ref!==void 0&&(e=re.ref),re.key!==void 0&&(U=""+re.key),re)mx.call(re,Be)&&!xx.hasOwnProperty(Be)&&(V[Be]=re[Be]);var x=arguments.length-2;if(x===1)V.children=ge;else if(1<x){for(var P=Array(x),i=0;i<x;i++)P[i]=arguments[i+2];V.children=P}if(G&&G.defaultProps)for(Be in x=G.defaultProps,x)V[Be]===void 0&&(V[Be]=x[Be]);return{$$typeof:ud,type:G,key:U,ref:e,props:V,_owner:zg.current}}function OA(G,re){return{$$typeof:ud,type:G.type,key:re,ref:G.ref,props:G.props,_owner:G._owner}}function Og(G){return typeof G=="object"&&G!==null&&G.$$typeof===ud}function BA(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ge){return re[ge]})}var vx=/\/+/g;function kg(G,re){return typeof G=="object"&&G!==null&&G.key!=null?BA(""+G.key):re.toString(36)}function D0(G,re,ge,Be,V){var U=typeof G;(U==="undefined"||U==="boolean")&&(G=null);var e=!1;if(G===null)e=!0;else switch(U){case"string":case"number":e=!0;break;case"object":switch(G.$$typeof){case ud:case EA:e=!0}}if(e)return e=G,V=V(e),G=Be===""?"."+kg(e,0):Be,hx(V)?(ge="",G!=null&&(ge=G.replace(vx,"$&/")+"/"),D0(V,re,ge,"",function(i){return i})):V!=null&&(Og(V)&&(V=OA(V,ge+(!V.key||e&&e.key===V.key?"":(""+V.key).replace(vx,"$&/")+"/")+G)),re.push(V)),1;if(e=0,Be=Be===""?".":Be+":",hx(G))for(var x=0;x<G.length;x++){U=G[x];var P=Be+kg(U,x);e+=D0(U,re,ge,P,V)}else if(P=zA(G),typeof P=="function")for(G=P.call(G),x=0;!(U=G.next()).done;)U=U.value,P=Be+kg(U,x++),e+=D0(U,re,ge,P,V);else if(U==="object")throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return e}function R0(G,re,ge){if(G==null)return G;var Be=[],V=0;return D0(G,Be,"","",function(U){return re.call(ge,U,V++)}),Be}function NA(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(ge){(G._status===0||G._status===-1)&&(G._status=1,G._result=ge)},function(ge){(G._status===0||G._status===-1)&&(G._status=2,G._result=ge)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var Bs={current:null},I0={transition:null},UA={ReactCurrentDispatcher:Bs,ReactCurrentBatchConfig:I0,ReactCurrentOwner:zg};ui.Children={map:R0,forEach:function(G,re,ge){R0(G,function(){re.apply(this,arguments)},ge)},count:function(G){var re=0;return R0(G,function(){re++}),re},toArray:function(G){return R0(G,function(re){return re})||[]},only:function(G){if(!Og(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};ui.Component=cv;ui.Fragment=CA;ui.Profiler=PA;ui.PureComponent=Fg;ui.StrictMode=LA;ui.Suspense=kA;ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UA;ui.cloneElement=function(G,re,ge){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Be=px({},G.props),V=G.key,U=G.ref,e=G._owner;if(re!=null){if(re.ref!==void 0&&(U=re.ref,e=zg.current),re.key!==void 0&&(V=""+re.key),G.type&&G.type.defaultProps)var x=G.type.defaultProps;for(P in re)mx.call(re,P)&&!xx.hasOwnProperty(P)&&(Be[P]=re[P]===void 0&&x!==void 0?x[P]:re[P])}var P=arguments.length-2;if(P===1)Be.children=ge;else if(1<P){x=Array(P);for(var i=0;i<P;i++)x[i]=arguments[i+2];Be.children=x}return{$$typeof:ud,type:G.type,key:V,ref:U,props:Be,_owner:e}};ui.createContext=function(G){return G={$$typeof:DA,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:RA,_context:G},G.Consumer=G};ui.createElement=bx;ui.createFactory=function(G){var re=bx.bind(null,G);return re.type=G,re};ui.createRef=function(){return{current:null}};ui.forwardRef=function(G){return{$$typeof:IA,render:G}};ui.isValidElement=Og;ui.lazy=function(G){return{$$typeof:_A,_payload:{_status:-1,_result:G},_init:NA}};ui.memo=function(G,re){return{$$typeof:FA,type:G,compare:re===void 0?null:re}};ui.startTransition=function(G){var re=I0.transition;I0.transition={};try{G()}finally{I0.transition=re}};ui.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ui.useCallback=function(G,re){return Bs.current.useCallback(G,re)};ui.useContext=function(G){return Bs.current.useContext(G)};ui.useDebugValue=function(){};ui.useDeferredValue=function(G){return Bs.current.useDeferredValue(G)};ui.useEffect=function(G,re){return Bs.current.useEffect(G,re)};ui.useId=function(){return Bs.current.useId()};ui.useImperativeHandle=function(G,re,ge){return Bs.current.useImperativeHandle(G,re,ge)};ui.useInsertionEffect=function(G,re){return Bs.current.useInsertionEffect(G,re)};ui.useLayoutEffect=function(G,re){return Bs.current.useLayoutEffect(G,re)};ui.useMemo=function(G,re){return Bs.current.useMemo(G,re)};ui.useReducer=function(G,re,ge){return Bs.current.useReducer(G,re,ge)};ui.useRef=function(G){return Bs.current.useRef(G)};ui.useState=function(G){return Bs.current.useState(G)};ui.useSyncExternalStore=function(G,re,ge){return Bs.current.useSyncExternalStore(G,re,ge)};ui.useTransition=function(){return Bs.current.useTransition()};ui.version="18.2.0"});var hv=Os((SM,Tx)=>{"use strict";Tx.exports=wx()});var Mx=Os(k0=>{"use strict";var VA=hv(),HA=Symbol.for("react.element"),GA=Symbol.for("react.fragment"),WA=Object.prototype.hasOwnProperty,YA=VA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XA={key:!0,ref:!0,__self:!0,__source:!0};function Ax(G,re,ge){var Be,V={},U=null,e=null;ge!==void 0&&(U=""+ge),re.key!==void 0&&(U=""+re.key),re.ref!==void 0&&(e=re.ref);for(Be in re)WA.call(re,Be)&&!XA.hasOwnProperty(Be)&&(V[Be]=re[Be]);if(G&&G.defaultProps)for(Be in re=G.defaultProps,re)V[Be]===void 0&&(V[Be]=re[Be]);return{$$typeof:HA,type:G,key:U,ref:e,props:V,_owner:YA.current}}k0.Fragment=GA;k0.jsx=Ax;k0.jsxs=Ax});var Ah=Os((CM,Sx)=>{"use strict";Sx.exports=Mx()});var Lx=Os((PM,Cx)=>{"use strict";var jA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Cx.exports=jA});var Ix=Os((RM,Dx)=>{"use strict";var KA=Lx();function Px(){}function Rx(){}Rx.resetWarningCache=Px;Dx.exports=function(){function G(Be,V,U,e,x,P){if(P!==KA){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}G.isRequired=G;function re(){return G}var ge={array:G,bigint:G,bool:G,func:G,number:G,object:G,string:G,symbol:G,any:G,arrayOf:re,element:G,elementType:G,instanceOf:re,node:G,objectOf:re,oneOf:re,oneOfType:re,shape:re,exact:re,checkPropTypes:Rx,resetWarningCache:Px};return ge.PropTypes=ge,ge}});var Fx=Os((kM,kx)=>{kx.exports=Ix()();var DM,IM});var Ux=Os(Ug=>{"use strict";function F0(G){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},F0(G)}Object.defineProperty(Ug,"__esModule",{value:!0});Ug.default=a5;var _x=QA(hv()),ts=JA(Fx());function JA(G){return G&&G.__esModule?G:{default:G}}function Nx(G){if(typeof WeakMap!="function")return null;var re=new WeakMap,ge=new WeakMap;return(Nx=function(V){return V?ge:re})(G)}function QA(G,re){if(!re&&G&&G.__esModule)return G;if(G===null||F0(G)!=="object"&&typeof G!="function")return{default:G};var ge=Nx(re);if(ge&&ge.has(G))return ge.get(G);var Be={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in G)if(U!=="default"&&Object.prototype.hasOwnProperty.call(G,U)){var e=V?Object.getOwnPropertyDescriptor(G,U):null;e&&(e.get||e.set)?Object.defineProperty(Be,U,e):Be[U]=G[U]}return Be.default=G,ge&&ge.set(G,Be),Be}function $A(G,re){if(!(G instanceof re))throw new TypeError("Cannot call a class as a function")}function zx(G,re){for(var ge=0;ge<re.length;ge++){var Be=re[ge];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(G,Be.key,Be)}}function qA(G,re,ge){return re&&zx(G.prototype,re),ge&&zx(G,ge),Object.defineProperty(G,"prototype",{writable:!1}),G}function e5(G,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(re&&re.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),re&&Ng(G,re)}function Ng(G,re){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,V){return Be.__proto__=V,Be},Ng(G,re)}function t5(G){var re=n5();return function(){var Be=_0(G),V;if(re){var U=_0(this).constructor;V=Reflect.construct(Be,arguments,U)}else V=Be.apply(this,arguments);return r5(this,V)}}function r5(G,re){if(re&&(F0(re)==="object"||typeof re=="function"))return re;if(re!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pc(G)}function Pc(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function n5(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G){return!1}}function _0(G){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},_0(G)}var Ox=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],Bx=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],Bg=typeof window!="undefined";function a5(G){var re=function(ge){e5(V,ge);var Be=t5(V);function V(U){var e;return $A(this,V),e=Be.call(this,U),e.p=Promise.resolve(),e.resizeHandler=null,e.handlers={},e.syncWindowResize=e.syncWindowResize.bind(Pc(e)),e.syncEventHandlers=e.syncEventHandlers.bind(Pc(e)),e.attachUpdateEvents=e.attachUpdateEvents.bind(Pc(e)),e.getRef=e.getRef.bind(Pc(e)),e.handleUpdate=e.handleUpdate.bind(Pc(e)),e.figureCallback=e.figureCallback.bind(Pc(e)),e.updatePlotly=e.updatePlotly.bind(Pc(e)),e}return qA(V,[{key:"updatePlotly",value:function(e,x,P){var i=this;this.p=this.p.then(function(){if(!i.unmounting){if(!i.el)throw new Error("Missing element reference");return G.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}}).then(function(){i.unmounting||(i.syncWindowResize(e),i.syncEventHandlers(),i.figureCallback(x),P&&i.attachUpdateEvents())}).catch(function(L){i.props.onError&&i.props.onError(L)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(e){this.unmounting=!1;var x=e.frames&&e.frames.length?e.frames.length:0,P=this.props.frames&&this.props.frames.length?this.props.frames.length:0,i=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&P===x),L=e.revision!==void 0,C=e.revision!==this.props.revision;!i&&(!L||L&&!C)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&Bg&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),G.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var e=this;!this.el||!this.el.removeListener||Bx.forEach(function(x){e.el.on(x,e.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var e=this;!this.el||!this.el.removeListener||Bx.forEach(function(x){e.el.removeListener(x,e.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(e){if(typeof e=="function"){var x=this.el,P=x.data,i=x.layout,L=this.el._transitionData?this.el._transitionData._frames:null,C={data:P,layout:i,frames:L};e(C,this.el)}}},{key:"syncWindowResize",value:function(e){var x=this;Bg&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return G.Plots.resize(x.el)},window.addEventListener("resize",this.resizeHandler),e&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(e){this.el=e,this.props.debug&&Bg&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var e=this;Ox.forEach(function(x){var P=e.props["on"+x],i=e.handlers[x],L=!!i;P&&!L?e.addEventHandler(x,P):!P&&L?e.removeEventHandler(x):P&&L&&P!==i&&(e.removeEventHandler(x),e.addEventHandler(x,P))})}},{key:"addEventHandler",value:function(e,x){this.handlers[e]=x,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:"removeEventHandler",value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:"getPlotlyEventName",value:function(e){return"plotly_"+e.toLowerCase()}},{key:"render",value:function(){return _x.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),V}(_x.Component);return re.propTypes={data:ts.default.arrayOf(ts.default.object),config:ts.default.object,layout:ts.default.object,frames:ts.default.arrayOf(ts.default.object),revision:ts.default.number,onInitialized:ts.default.func,onPurge:ts.default.func,onError:ts.default.func,onUpdate:ts.default.func,debug:ts.default.bool,style:ts.default.object,className:ts.default.string,useResizeHandler:ts.default.bool,divId:ts.default.string},Ox.forEach(function(ge){re.propTypes["on"+ge]=ts.default.func}),re.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},re}});var Vx=Os((z0,Vg)=>{(function(re,ge){typeof z0=="object"&&typeof Vg=="object"?Vg.exports=ge():typeof define=="function"&&define.amd?define([],ge):typeof z0=="object"?z0.Plotly=ge():re.Plotly=ge()})(self,function(){return function(){var G={79288:function(V,U,e){"use strict";var x=e(3400),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in P){var L=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");x.addStyleRule(L,P[i])}},86712:function(V,U,e){"use strict";V.exports=e(84224)},37240:function(V,U,e){"use strict";V.exports=e(51132)},29744:function(V,U,e){"use strict";V.exports=e(94456)},29352:function(V,U,e){"use strict";V.exports=e(67244)},96144:function(V,U,e){"use strict";V.exports=e(97776)},53219:function(V,U,e){"use strict";V.exports=e(61712)},4624:function(V,U,e){"use strict";V.exports=e(95856)},54543:function(V,U,e){"use strict";V.exports=e(54272)},45e3:function(V,U,e){"use strict";V.exports=e(85404)},62300:function(V,U,e){"use strict";V.exports=e(26048)},6920:function(V,U,e){"use strict";V.exports=e(66240)},10264:function(V,U,e){"use strict";V.exports=e(40448)},32016:function(V,U,e){"use strict";V.exports=e(64884)},27528:function(V,U,e){"use strict";V.exports=e(15088)},75556:function(V,U,e){"use strict";V.exports=e(76744)},39204:function(V,U,e){"use strict";V.exports=e(94704)},73996:function(V,U,e){"use strict";V.exports=e(62396)},16489:function(V,U,e){"use strict";V.exports=e(32028)},5e3:function(V,U,e){"use strict";V.exports=e(81932)},77280:function(V,U,e){"use strict";V.exports=e(45536)},33992:function(V,U,e){"use strict";V.exports=e(42600)},17600:function(V,U,e){"use strict";V.exports=e(21536)},49116:function(V,U,e){"use strict";V.exports=e(65664)},46808:function(V,U,e){"use strict";V.exports=e(29044)},36168:function(V,U,e){"use strict";V.exports=e(48928)},13792:function(V,U,e){"use strict";var x=e(32016);x.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),V.exports=x},3920:function(V,U,e){"use strict";V.exports=e(43480)},25120:function(V,U,e){"use strict";V.exports=e(6296)},4340:function(V,U,e){"use strict";V.exports=e(7404)},86152:function(V,U,e){"use strict";V.exports=e(65456)},56816:function(V,U,e){"use strict";V.exports=e(22020)},89296:function(V,U,e){"use strict";V.exports=e(29928)},20260:function(V,U,e){"use strict";V.exports=e(75792)},32140:function(V,U,e){"use strict";V.exports=e(156)},84764:function(V,U,e){"use strict";V.exports=e(45499)},48824:function(V,U,e){"use strict";V.exports=e(3296)},69967:function(V,U,e){"use strict";V.exports=e(4184)},8363:function(V,U,e){"use strict";V.exports=e(36952)},86636:function(V,U,e){"use strict";V.exports=e(38983)},70192:function(V,U,e){"use strict";V.exports=e(11572)},81604:function(V,U,e){"use strict";V.exports=e(76924)},63796:function(V,U,e){"use strict";V.exports=e(62944)},89336:function(V,U,e){"use strict";V.exports=e(95443)},67484:function(V,U,e){"use strict";V.exports=e(34864)},97312:function(V,U,e){"use strict";V.exports=e(76272)},42192:function(V,U,e){"use strict";V.exports=e(97924)},29800:function(V,U,e){"use strict";V.exports=e(15436)},63560:function(V,U,e){"use strict";V.exports=e(5621)},89904:function(V,U,e){"use strict";V.exports=e(91304)},50248:function(V,U,e){"use strict";V.exports=e(41724)},65832:function(V,U,e){"use strict";V.exports=e(31991)},79440:function(V,U,e){"use strict";V.exports=e(22869)},13752:function(V,U,e){"use strict";V.exports=e(67776)},83096:function(V,U,e){"use strict";V.exports=e(95952)},72196:function(V){"use strict";V.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(V,U,e){"use strict";var x=e(72196),P=e(25376),i=e(33816),L=e(31780).templatedArray,C=e(36208);function c(r){return["In order for absolute positioning of the arrow to work, *a"+r+"ref* must be exactly the same as *"+r+"ref*, otherwise *a"+r+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+r+"ref* can be set to *pixel*,","in which case the *a"+r+"* value is specified in pixels","relative to *"+r+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function y(r,t,s){return["Sets the",r,"component of the arrow tail about the arrow head.","If `a"+r+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",s,"to",t,"("+t,"to",s+").","If `a"+r+"ref` is not `pixel` and is exactly the same as `"+r+"ref`,","this is an absolute value on that axis,","like `"+r+"`, specified in the same coordinates as `"+r+"ref`."].join(" ")}V.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:x.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:x.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(23816).draw;V.exports=function(y){var r=y._fullLayout,t=x.filterVisible(r.annotations);if(t.length&&y._fullData.length)return x.syncOrAsync([i,L],y)};function L(c){var y=c._fullLayout;x.filterVisible(y.annotations).forEach(function(r){var t=P.getFromId(c,r.xref),s=P.getFromId(c,r.yref),n=P.getRefType(r.xref),u=P.getRefType(r.yref);r._extremes={},n==="range"&&C(r,t),u==="range"&&C(r,s)})}function C(c,y){var r=y._id,t=r.charAt(0),s=c[t],n=c["a"+t],u=c[t+"ref"],l=c["a"+t+"ref"],f=c["_"+t+"padplus"],g=c["_"+t+"padminus"],h={x:1,y:-1}[t]*c[t+"shift"],w=3*c.arrowsize*c.arrowwidth||0,d=w+h,o=w-h,v=3*c.startarrowsize*c.arrowwidth||0,A=v+h,b=v-h,M;if(l===u){var m=P.findExtremes(y,[y.r2c(s)],{ppadplus:d,ppadminus:o}),S=P.findExtremes(y,[y.r2c(n)],{ppadplus:Math.max(f,A),ppadminus:Math.max(g,b)});M={min:[m.min[0],S.min[0]],max:[m.max[0],S.max[0]]}}else A=n?A+n:A,b=n?b-n:b,M=P.findExtremes(y,[y.r2c(s)],{ppadplus:Math.max(f,d,A),ppadminus:Math.max(g,o,b)});c._extremes[r]=M}},42300:function(V,U,e){"use strict";var x=e(3400),P=e(24040),i=e(31780).arrayEditor;V.exports={hasClickToShow:L,onClick:C};function L(r,t){var s=c(r,t);return s.on.length>0||s.explicitOff.length>0}function C(r,t){var s=c(r,t),n=s.on,u=s.off.concat(s.explicitOff),l={},f=r._fullLayout.annotations,g,h;if(n.length||u.length){for(g=0;g<n.length;g++)h=i(r.layout,"annotations",f[n[g]]),h.modifyItem("visible",!0),x.extendFlat(l,h.getUpdateObj());for(g=0;g<u.length;g++)h=i(r.layout,"annotations",f[u[g]]),h.modifyItem("visible",!1),x.extendFlat(l,h.getUpdateObj());return P.call("update",r,{},l)}}function c(r,t){var s=r._fullLayout.annotations,n=[],u=[],l=[],f=(t||[]).length,g,h,w,d,o,v,A,b;for(g=0;g<s.length;g++)if(w=s[g],d=w.clicktoshow,d){for(h=0;h<f;h++)if(o=t[h],v=o.xaxis,A=o.yaxis,v._id===w.xref&&A._id===w.yref&&v.d2r(o.x)===y(w._xclick,v)&&A.d2r(o.y)===y(w._yclick,A)){w.visible?d==="onout"?b=u:b=l:b=n,b.push(g);break}h===f&&w.visible&&d==="onout"&&u.push(g)}return{on:n,off:u,explicitOff:l}}function y(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(V,U,e){"use strict";var x=e(3400),P=e(76308);V.exports=function(L,C,c,y){y("opacity");var r=y("bgcolor"),t=y("bordercolor"),s=P.opacity(t);y("borderpad");var n=y("borderwidth"),u=y("showarrow");y("text",u?" ":c._dfltTitle.annotation),y("textangle"),x.coerceFont(y,"font",c.font),y("width"),y("align");var l=y("height");if(l&&y("valign"),u){var f=y("arrowside"),g,h;f.indexOf("end")!==-1&&(g=y("arrowhead"),h=y("arrowsize")),f.indexOf("start")!==-1&&(y("startarrowhead",g),y("startarrowsize",h)),y("arrowcolor",s?C.bordercolor:P.defaultLine),y("arrowwidth",(s&&n||1)*2),y("standoff"),y("startstandoff")}var w=y("hovertext"),d=c.hoverlabel||{};if(w){var o=y("hoverlabel.bgcolor",d.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),v=y("hoverlabel.bordercolor",d.bordercolor||P.contrast(o));x.coerceFont(y,"hoverlabel.font",{family:d.font.family,size:d.font.size,color:d.font.color||v})}y("captureevents",!!w)}},26828:function(V,U,e){"use strict";var x=e(38248),P=e(36896);V.exports=function(L,C,c,y){C=C||{};var r=c==="log"&&C.type==="linear",t=c==="linear"&&C.type==="log";if(!(r||t))return;var s=L._fullLayout.annotations,n=C._id.charAt(0),u,l;function f(h){var w=u[h],d=null;r?d=P(w,C.range):d=Math.pow(10,w),x(d)||(d=null),y(l+h,d)}for(var g=0;g<s.length;g++)u=s[g],l="annotations["+g+"].",u[n+"ref"]===C._id&&f(n),u["a"+n+"ref"]===C._id&&f("a"+n)}},45216:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(51272),L=e(87192),C=e(13916);V.exports=function(r,t){i(r,t,{name:"annotations",handleItemDefaults:c})};function c(y,r,t){function s(T,a){return x.coerce(y,r,C,T,a)}var n=s("visible"),u=s("clicktoshow");if(n||u){L(y,r,t,s);for(var l=r.showarrow,f=["x","y"],g=[-10,-30],h={_fullLayout:t},w=0;w<2;w++){var d=f[w],o=P.coerceRef(y,r,h,d,"","paper");if(o!=="paper"){var v=P.getFromId(h,o);v._annIndices.push(r._index)}if(P.coercePosition(r,h,s,o,d,.5),l){var A="a"+d,b=P.coerceRef(y,r,h,A,"pixel",["pixel","paper"]);b!=="pixel"&&b!==o&&(b=r[A]="pixel");var M=b==="pixel"?g[w]:.4;P.coercePosition(r,h,s,b,A,M)}s(d+"anchor"),s(d+"shift")}if(x.noneOrAll(y,r,["x","y"]),l&&x.noneOrAll(y,r,["ax","ay"]),u){var m=s("xclick"),S=s("yclick");r._xclick=m===void 0?r.x:P.cleanPosition(m,h,r.xref),r._yclick=S===void 0?r.y:P.cleanPosition(S,h,r.yref)}}}},23816:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(7316),L=e(3400),C=L.strTranslate,c=e(54460),y=e(76308),r=e(43616),t=e(93024),s=e(72736),n=e(93972),u=e(86476),l=e(31780).arrayEditor,f=e(33652);V.exports={draw:g,drawOne:h,drawRaw:d};function g(o){var v=o._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var A=0;A<v.annotations.length;A++)v.annotations[A].visible&&h(o,A);return i.previousPromises(o)}function h(o,v){var A=o._fullLayout,b=A.annotations[v]||{},M=c.getFromId(o,b.xref),m=c.getFromId(o,b.yref);M&&M.setScale(),m&&m.setScale(),d(o,b,v,!1,M,m)}function w(o,v,A,b,M){var m=M[A],S=M[A+"ref"],T=A.indexOf("y")!==-1,a=c.getRefType(S)==="domain",E=T?b.h:b.w;return o?a?m+(T?-v:v)/o._length:o.p2r(o.r2p(m)+v):m+(T?-v:v)/E}function d(o,v,A,b,M,m){var S=o._fullLayout,T=o._fullLayout._size,a=o._context.edits,E,p;b?(E="annotation-"+b,p=b+".annotations"):(E="annotation",p="annotations");var k=l(o.layout,p,v),R=k.modifyBase,B=k.modifyItem,F=k.getUpdateObj;S._infolayer.selectAll("."+E+'[data-index="'+A+'"]').remove();var _="clip"+S._uid+"_ann"+A;if(!v._input||v.visible===!1){x.selectAll("#"+_).remove();return}var O={x:{},y:{}},z=+v.textangle||0,N=S._infolayer.append("g").classed(E,!0).attr("data-index",String(A)).style("opacity",v.opacity),Y=N.append("g").classed("annotation-text-g",!0),J=a[v.showarrow?"annotationTail":"annotationPosition"],ae=v.captureevents||a.annotationText||J;function se(pe){var Ae={index:A,annotation:v._input,fullAnnotation:v,event:pe};return b&&(Ae.subplotId=b),Ae}var ue=Y.append("g").style("pointer-events",ae?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",se(x.event))});v.hovertext&&ue.on("mouseover",function(){var pe=v.hoverlabel,Ae=pe.font,be=this.getBoundingClientRect(),Pe=o.getBoundingClientRect();t.loneHover({x0:be.left-Pe.left,x1:be.right-Pe.left,y:(be.top+be.bottom)/2-Pe.top,text:v.hovertext,color:pe.bgcolor,borderColor:pe.bordercolor,fontFamily:Ae.family,fontSize:Ae.size,fontColor:Ae.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(S._hoverlayer.node())});var K=v.borderwidth,j=v.borderpad,ie=K+j,W=ue.append("rect").attr("class","bg").style("stroke-width",K+"px").call(y.stroke,v.bordercolor).call(y.fill,v.bgcolor),Q=v.width||v.height,ee=S._topclips.selectAll("#"+_).data(Q?[0]:[]);ee.enter().append("clipPath").classed("annclip",!0).attr("id",_).append("rect"),ee.exit().remove();var $=v.font,X=S._meta?L.templateString(v.text,S._meta):v.text,oe=ue.append("text").classed("annotation-text",!0).text(X);function te(pe){return pe.call(r.font,$).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),s.convertToTspans(pe,o,fe),pe}function fe(){var pe=oe.selectAll("a");if(pe.size()===1&&pe.text()===oe.text()){var Ae=ue.insert("a",":first-child").attr({"xlink:xlink:href":pe.attr("xlink:href"),"xlink:xlink:show":pe.attr("xlink:show")}).style({cursor:"pointer"});Ae.node().appendChild(W.node())}var be=ue.select(".annotation-text-math-group"),Pe=!be.empty(),me=r.bBox((Pe?be:oe).node()),Ee=me.width,xe=me.height,De=v.width||Ee,Ve=v.height||xe,Ze=Math.round(De+2*ie),ke=Math.round(Ve+2*ie);function Ye(gr,sr){return sr==="auto"&&(gr<.3333333333333333?sr="left":gr>.6666666666666666?sr="right":sr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[sr]}for(var lt=!1,yt=["x","y"],He=0;He<yt.length;He++){var Fe=yt[He],nt=v[Fe+"ref"]||Fe,ot=v["a"+Fe+"ref"],ct={x:M,y:m}[Fe],ht=(z+(Fe==="x"?0:-90))*Math.PI/180,mt=Ze*Math.cos(ht),tt=ke*Math.sin(ht),Re=Math.abs(mt)+Math.abs(tt),Ge=v[Fe+"anchor"],Je=v[Fe+"shift"]*(Fe==="x"?1:-1),Xe=O[Fe],Oe,Ne,ze,et,Le,Te=c.getRefType(nt);if(ct&&Te!=="domain"){var ye=ct.r2fraction(v[Fe]);(ye<0||ye>1)&&(ot===nt?(ye=ct.r2fraction(v["a"+Fe]),(ye<0||ye>1)&&(lt=!0)):lt=!0),Oe=ct._offset+ct.r2p(v[Fe]),et=.5}else{var Se=Te==="domain";Fe==="x"?(ze=v[Fe],Oe=Se?ct._offset+ct._length*ze:Oe=T.l+T.w*ze):(ze=1-v[Fe],Oe=Se?ct._offset+ct._length*ze:Oe=T.t+T.h*ze),et=v.showarrow?.5:ze}if(v.showarrow){Xe.head=Oe;var Ke=v["a"+Fe];if(Le=mt*Ye(.5,v.xanchor)-tt*Ye(.5,v.yanchor),ot===nt){var rt=c.getRefType(ot);rt==="domain"?(Fe==="y"&&(Ke=1-Ke),Xe.tail=ct._offset+ct._length*Ke):rt==="paper"?Fe==="y"?(Ke=1-Ke,Xe.tail=T.t+T.h*Ke):Xe.tail=T.l+T.w*Ke:Xe.tail=ct._offset+ct.r2p(Ke),Ne=Le}else Xe.tail=Oe+Ke,Ne=Le+Ke;Xe.text=Xe.tail+Le;var Lt=S[Fe==="x"?"width":"height"];if(nt==="paper"&&(Xe.head=L.constrain(Xe.head,1,Lt-1)),ot==="pixel"){var It=-Math.max(Xe.tail-3,Xe.text),wt=Math.min(Xe.tail+3,Xe.text)-Lt;It>0?(Xe.tail+=It,Xe.text+=It):wt>0&&(Xe.tail-=wt,Xe.text-=wt)}Xe.tail+=Je,Xe.head+=Je}else Le=Re*Ye(et,Ge),Ne=Le,Xe.text=Oe+Le;Xe.text+=Je,Le+=Je,Ne+=Je,v["_"+Fe+"padplus"]=Re/2+Ne,v["_"+Fe+"padminus"]=Re/2-Ne,v["_"+Fe+"size"]=Re,v["_"+Fe+"shift"]=Le}if(lt){ue.remove();return}var Et=0,Wt=0;if(v.align!=="left"&&(Et=(De-Ee)*(v.align==="center"?.5:1)),v.valign!=="top"&&(Wt=(Ve-xe)*(v.valign==="middle"?.5:1)),Pe)be.select("svg").attr({x:ie+Et-1,y:ie+Wt}).call(r.setClipUrl,Q?_:null,o);else{var vr=ie+Wt-me.top,dt=ie+Et-me.left;oe.call(s.positionText,dt,vr).call(r.setClipUrl,Q?_:null,o)}ee.select("rect").call(r.setRect,ie,ie,De,Ve),W.call(r.setRect,K/2,K/2,Ze-K,ke-K),ue.call(r.setTranslate,Math.round(O.x.text-Ze/2),Math.round(O.y.text-ke/2)),Y.attr({transform:"rotate("+z+","+O.x.text+","+O.y.text+")"});var Yt=function(gr,sr){N.selectAll(".annotation-arrow-g").remove();var gt=O.x.head,st=O.y.head,xt=O.x.tail+gr,Mt=O.y.tail+sr,Rt=O.x.text+gr,Vt=O.y.text+sr,Ct=L.rotationXYMatrix(z,Rt,Vt),Bt=L.apply2DTransform(Ct),Xt=L.apply2DTransform2(Ct),ir=+W.attr("width"),or=+W.attr("height"),cr=Rt-.5*ir,We=cr+ir,Ue=Vt-.5*or,Ft=Ue+or,kt=[[cr,Ue,cr,Ft],[cr,Ft,We,Ft],[We,Ft,We,Ue],[We,Ue,cr,Ue]].map(Xt);if(!kt.reduce(function(Gr,rn){return Gr^!!L.segmentsIntersect(gt,st,gt+1e6,st+1e6,rn[0],rn[1],rn[2],rn[3])},!1)){kt.forEach(function(Gr){var rn=L.segmentsIntersect(xt,Mt,gt,st,Gr[0],Gr[1],Gr[2],Gr[3]);rn&&(xt=rn.x,Mt=rn.y)});var Zt=v.arrowwidth,rr=v.arrowcolor,lr=v.arrowside,qt=N.append("g").style({opacity:y.opacity(rr)}).classed("annotation-arrow-g",!0),Ot=qt.append("path").attr("d","M"+xt+","+Mt+"L"+gt+","+st).style("stroke-width",Zt+"px").call(y.stroke,y.rgb(rr));if(f(Ot,lr,v),a.annotationPosition&&Ot.node().parentNode&&!b){var tr=gt,dr=st;if(v.standoff){var mr=Math.sqrt(Math.pow(gt-xt,2)+Math.pow(st-Mt,2));tr+=v.standoff*(xt-gt)/mr,dr+=v.standoff*(Mt-st)/mr}var Cr=qt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-tr)+","+(Mt-dr),transform:C(tr,dr)}).style("stroke-width",Zt+6+"px").call(y.stroke,"rgba(0,0,0,0)").call(y.fill,"rgba(0,0,0,0)"),$r,yr;u.init({element:Cr.node(),gd:o,prepFn:function(){var Gr=r.getTranslate(ue);$r=Gr.x,yr=Gr.y,M&&M.autorange&&R(M._name+".autorange",!0),m&&m.autorange&&R(m._name+".autorange",!0)},moveFn:function(Gr,rn){var _r=Bt($r,yr),bn=_r[0]+Gr,xn=_r[1]+rn;ue.call(r.setTranslate,bn,xn),B("x",w(M,Gr,"x",T,v)),B("y",w(m,rn,"y",T,v)),v.axref===v.xref&&B("ax",w(M,Gr,"ax",T,v)),v.ayref===v.yref&&B("ay",w(m,rn,"ay",T,v)),qt.attr("transform",C(Gr,rn)),Y.attr({transform:"rotate("+z+","+bn+","+xn+")"})},doneFn:function(){P.call("_guiRelayout",o,F());var Gr=document.querySelector(".js-notes-box-panel");Gr&&Gr.redraw(Gr.selectedObj)}})}}};if(v.showarrow&&Yt(0,0),J){var jt;u.init({element:ue.node(),gd:o,prepFn:function(){jt=Y.attr("transform")},moveFn:function(gr,sr){var gt="pointer";if(v.showarrow)v.axref===v.xref?B("ax",w(M,gr,"ax",T,v)):B("ax",v.ax+gr),v.ayref===v.yref?B("ay",w(m,sr,"ay",T.w,v)):B("ay",v.ay+sr),Yt(gr,sr);else{if(b)return;var st,xt;if(M)st=w(M,gr,"x",T,v);else{var Mt=v._xsize/T.w,Rt=v.x+(v._xshift-v.xshift)/T.w-Mt/2;st=u.align(Rt+gr/T.w,Mt,0,1,v.xanchor)}if(m)xt=w(m,sr,"y",T,v);else{var Vt=v._ysize/T.h,Ct=v.y-(v._yshift+v.yshift)/T.h-Vt/2;xt=u.align(Ct-sr/T.h,Vt,0,1,v.yanchor)}B("x",st),B("y",xt),(!M||!m)&&(gt=u.getCursor(M?.5:st,m?.5:xt,v.xanchor,v.yanchor))}Y.attr({transform:C(gr,sr)+jt}),n(ue,gt)},clickFn:function(gr,sr){v.captureevents&&o.emit("plotly_clickannotation",se(sr))},doneFn:function(){n(ue),P.call("_guiRelayout",o,F());var gr=document.querySelector(".js-notes-box-panel");gr&&gr.redraw(gr.selectedObj)}})}}a.annotationText?oe.call(s.makeEditable,{delegate:ue,gd:o}).call(te).on("edit",function(pe){v.text=pe,this.call(te),B("text",pe),M&&M.autorange&&R(M._name+".autorange",!0),m&&m.autorange&&R(m._name+".autorange",!0),P.call("_guiRelayout",o,F())}):oe.call(te)}},33652:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(72196),L=e(3400),C=L.strScale,c=L.strRotate,y=L.strTranslate;V.exports=function(t,s,n){var u=t.node(),l=i[n.arrowhead||0],f=i[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),w=s.indexOf("start")>=0,d=s.indexOf("end")>=0,o=l.backoff*g+n.standoff,v=f.backoff*h+n.startstandoff,A,b,M,m;if(u.nodeName==="line"){A={x:+t.attr("x1"),y:+t.attr("y1")},b={x:+t.attr("x2"),y:+t.attr("y2")};var S=A.x-b.x,T=A.y-b.y;if(M=Math.atan2(T,S),m=M+Math.PI,o&&v&&o+v>Math.sqrt(S*S+T*T)){Y();return}if(o){if(o*o>S*S+T*T){Y();return}var a=o*Math.cos(M),E=o*Math.sin(M);b.x+=a,b.y+=E,t.attr({x2:b.x,y2:b.y})}if(v){if(v*v>S*S+T*T){Y();return}var p=v*Math.cos(M),k=v*Math.sin(M);A.x-=p,A.y-=k,t.attr({x1:A.x,y1:A.y})}}else if(u.nodeName==="path"){var R=u.getTotalLength(),B="";if(R<o+v){Y();return}var F=u.getPointAtLength(0),_=u.getPointAtLength(.1);M=Math.atan2(F.y-_.y,F.x-_.x),A=u.getPointAtLength(Math.min(v,R)),B="0px,"+v+"px,";var O=u.getPointAtLength(R),z=u.getPointAtLength(R-.1);m=Math.atan2(O.y-z.y,O.x-z.x),b=u.getPointAtLength(Math.max(0,R-o));var N=B?v+o:o;B+=R-N+"px,"+R+"px",t.style("stroke-dasharray",B)}function Y(){t.style("stroke-dasharray","0px,100px")}function J(ae,se,ue,K){ae.path&&(ae.noRotate&&(ue=0),x.select(u.parentNode).append("path").attr({class:t.attr("class"),d:ae.path,transform:y(se.x,se.y)+c(ue*180/Math.PI)+C(K)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}w&&J(f,A,M,h),d&&J(l,b,m,g)}},79180:function(V,U,e){"use strict";var x=e(23816),P=e(42300);V.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:x.draw,drawOne:x.drawOne,drawRaw:x.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(26828)}},45899:function(V,U,e){"use strict";var x=e(13916),P=e(67824).overrideAll,i=e(31780).templatedArray;V.exports=P(i("annotation",{visible:x.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:x.xanchor,xshift:x.xshift,yanchor:x.yanchor,yshift:x.yshift,text:x.text,textangle:x.textangle,font:x.font,width:x.width,height:x.height,opacity:x.opacity,align:x.align,valign:x.valign,bgcolor:x.bgcolor,bordercolor:x.bordercolor,borderpad:x.borderpad,borderwidth:x.borderwidth,showarrow:x.showarrow,arrowcolor:x.arrowcolor,arrowhead:x.arrowhead,startarrowhead:x.startarrowhead,arrowside:x.arrowside,arrowsize:x.arrowsize,startarrowsize:x.startarrowsize,arrowwidth:x.arrowwidth,standoff:x.standoff,startstandoff:x.startstandoff,hovertext:x.hovertext,hoverlabel:x.hoverlabel,captureevents:x.captureevents}),"calc","from-root")},42456:function(V,U,e){"use strict";var x=e(3400),P=e(54460);V.exports=function(C){for(var c=C.fullSceneLayout,y=c.annotations,r=0;r<y.length;r++)i(y[r],C);C.fullLayout._infolayer.selectAll(".annotation-"+C.id).remove()};function i(L,C){var c=C.fullSceneLayout,y=c.domain,r=C.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},x.extendFlat(L._xa,t),P.setConvert(L._xa),L._xa._offset=r.l+y.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(y.x[1]-y.x[0])},L._ya={},x.extendFlat(L._ya,t),P.setConvert(L._ya),L._ya._offset=r.t+(1-y.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(y.y[1]-y.y[0])}}},52808:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(51272),L=e(87192),C=e(45899);V.exports=function(r,t,s){i(r,t,{name:"annotations",handleItemDefaults:c,fullLayout:s.fullLayout})};function c(y,r,t,s){function n(f,g){return x.coerce(y,r,C,f,g)}function u(f){var g=f+"axis",h={_fullLayout:{}};return h._fullLayout[g]=t[g],P.coercePosition(r,h,n,f,f,.5)}var l=n("visible");l&&(L(y,r,s.fullLayout,n),u("x"),u("y"),u("z"),x.noneOrAll(y,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),x.noneOrAll(y,r,["ax","ay"])))}},71836:function(V,U,e){"use strict";var x=e(23816).drawRaw,P=e(94424),i=["x","y","z"];V.exports=function(C){for(var c=C.fullSceneLayout,y=C.dataScale,r=c.annotations,t=0;t<r.length;t++){for(var s=r[t],n=!1,u=0;u<3;u++){var l=i[u],f=s[l],g=c[l+"axis"],h=g.r2fraction(f);if(h<0||h>1){n=!0;break}}n?C.fullLayout._infolayer.select(".annotation-"+C.id+'[data-index="'+t+'"]').remove():(s._pdata=P(C.glplot.cameraParams,[c.xaxis.r2l(s.x)*y[0],c.yaxis.r2l(s.y)*y[1],c.zaxis.r2l(s.z)*y[2]]),x(C.graphDiv,s,t,C.id,s._xa,s._ya))}}},56864:function(V,U,e){"use strict";var x=e(24040),P=e(3400);V.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:i,convert:e(42456),draw:e(71836)};function i(L,C){var c=x.subplotsRegistry.gl3d;if(c)for(var y=c.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var s=r[t];y.test(s)&&(L[s].annotations||[]).length&&(P.pushUnique(C._basePlotModules,c),P.pushUnique(C._subplots.gl3d,s))}}},54976:function(V,U,e){"use strict";V.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(V,U,e){"use strict";var x=e(54976),P=e(3400),i=e(39032),L=i.EPOCHJD,C=i.ONEDAY,c={valType:"enumerated",values:P.sortObjectKeys(x.calendars),editType:"calc",dflt:"gregorian"},y=function(M,m,S,T){var a={};return a[S]=c,P.coerce(M,m,a,S,T)},r=function(M,m,S,T){for(var a=0;a<S.length;a++)y(M,m,S[a]+"calendar",T.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},u="##",l={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function f(M,m,S){for(var T=Math.floor((m+.05)/C)+L,a=h(S).fromJD(T),E=0,p,k,R,B,F;(E=M.indexOf("%",E))!==-1;)p=M.charAt(E+1),p==="0"||p==="-"||p==="_"?(R=3,k=M.charAt(E+2),p==="_"&&(p="-")):(k=p,p="0",R=2),B=l[k],B?(B===u?F=u:F=a.formatDate(B[p]),M=M.substr(0,E)+F+M.substr(E+R),E+=F.length):E+=R;return M}var g={};function h(M){var m=g[M];return m||(m=g[M]=x.instance(M),m)}function w(M){return P.extendFlat({},c,{description:M})}function d(M){return"Sets the calendar system to use with `"+M+"` date data."}var o={xcalendar:w(d("x"))},v=P.extendFlat({},o,{ycalendar:w(d("y"))}),A=P.extendFlat({},v,{zcalendar:w(d("z"))}),b=w(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));V.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:A,surface:A,mesh3d:A,scattergl:v,ohlc:o,candlestick:o},layout:{calendar:w(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:c,handleDefaults:y,handleTraceDefaults:r,CANONICAL_SUNDAY:s,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:f}},22548:function(V,U){"use strict";U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},76308:function(V,U,e){"use strict";var x=e(49760),P=e(38248),i=e(38116).isTypedArray,L=V.exports={},C=e(22548);L.defaults=C.defaults;var c=L.defaultLine=C.defaultLine;L.lightLine=C.lightLine;var y=L.background=C.background;L.tinyRGB=function(t){var s=t.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},L.rgb=function(t){return L.tinyRGB(x(t))},L.opacity=function(t){return t?x(t).getAlpha():0},L.addOpacity=function(t,s){var n=x(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+s+")"},L.combine=function(t,s){var n=x(t).toRgb();if(n.a===1)return x(t).toRgbString();var u=x(s||y).toRgb(),l=u.a===1?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a},f={r:l.r*(1-n.a)+n.r*n.a,g:l.g*(1-n.a)+n.g*n.a,b:l.b*(1-n.a)+n.b*n.a};return x(f).toRgbString()},L.interpolate=function(t,s,n){var u=x(t).toRgb(),l=x(s).toRgb(),f={r:n*u.r+(1-n)*l.r,g:n*u.g+(1-n)*l.g,b:n*u.b+(1-n)*l.b};return x(f).toRgbString()},L.contrast=function(t,s,n){var u=x(t);u.getAlpha()!==1&&(u=x(L.combine(t,y)));var l=u.isDark()?s?u.lighten(s):y:n?u.darken(n):c;return l.toString()},L.stroke=function(t,s){var n=x(s);t.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(t,s){var n=x(s);t.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var s=Object.keys(t),n,u,l,f;for(n=0;n<s.length;n++)if(l=s[n],f=t[l],l.substr(l.length-5)==="color")if(Array.isArray(f))for(u=0;u<f.length;u++)f[u]=r(f[u]);else t[l]=r(f);else if(l.substr(l.length-10)==="colorscale"&&Array.isArray(f))for(u=0;u<f.length;u++)Array.isArray(f[u])&&(f[u][1]=r(f[u][1]));else if(Array.isArray(f)){var g=f[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(u=0;u<f.length;u++)L.clean(f[u])}else f&&typeof f=="object"&&!i(f)&&L.clean(f)}};function r(t){if(P(t)||typeof t!="string")return t;var s=t.trim();if(s.substr(0,3)!=="rgb")return t;var n=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var u=n[1].trim().split(/\s*[\s,]\s*/),l=s.charAt(3)==="a"&&u.length===4;if(!l&&u.length!==3)return t;for(var f=0;f<u.length;f++){if(!u[f].length||(u[f]=Number(u[f]),!(u[f]>=0)))return t;if(f===3)u[f]>1&&(u[f]=1);else if(u[f]>=1)return t}var g=Math.round(u[0]*255)+", "+Math.round(u[1]*255)+", "+Math.round(u[2]*255);return l?"rgba("+g+", "+u[3]+")":"rgb("+g+")"}},42996:function(V,U,e){"use strict";var x=e(94724),P=e(25376),i=e(92880).extendFlat,L=e(67824).overrideAll;V.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:x.linecolor,outlinewidth:x.linewidth,bordercolor:x.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:x.minor.tickmode,nticks:x.nticks,tick0:x.tick0,dtick:x.dtick,tickvals:x.tickvals,ticktext:x.ticktext,ticks:i({},x.ticks,{dflt:""}),ticklabeloverflow:i({},x.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:x.ticklen,tickwidth:x.tickwidth,tickcolor:x.tickcolor,ticklabelstep:x.ticklabelstep,showticklabels:x.showticklabels,labelalias:x.labelalias,tickfont:P({}),tickangle:x.tickangle,tickformat:x.tickformat,tickformatstops:x.tickformatstops,tickprefix:x.tickprefix,showtickprefix:x.showtickprefix,ticksuffix:x.ticksuffix,showticksuffix:x.showticksuffix,separatethousands:x.separatethousands,exponentformat:x.exponentformat,minexponent:x.minexponent,showexponent:x.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(V){"use strict";V.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(V,U,e){"use strict";var x=e(3400),P=e(31780),i=e(26332),L=e(25404),C=e(95936),c=e(42568),y=e(42996);V.exports=function(t,s,n){var u=P.newContainer(s,"colorbar"),l=t.colorbar||{};function f(O,z){return x.coerce(l,u,y,O,z)}var g=n.margin||{t:0,b:0,l:0,r:0},h=n.width-g.l-g.r,w=n.height-g.t-g.b,d=f("orientation"),o=d==="v",v=f("thicknessmode");f("thickness",v==="fraction"?30/(o?h:w):30);var A=f("lenmode");f("len",A==="fraction"?1:o?w:h);var b=f("yref"),M=f("xref"),m=b==="paper",S=M==="paper",T,a,E,p="left";o?(E="middle",p=S?"left":"right",T=S?1.02:1,a=.5):(E=m?"bottom":"top",p="center",T=.5,a=m?1.02:1),x.coerce(l,u,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:T}},"x"),x.coerce(l,u,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:a}},"y"),f("xanchor",p),f("xpad"),f("yanchor",E),f("ypad"),x.noneOrAll(l,u,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var k=x.coerce(l,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");f("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(l,u,f,"linear");var R=n.font,B={noAutotickangles:!0,outerTicks:!1,font:R};k.indexOf("inside")!==-1&&(B.bgColor="black"),c(l,u,f,"linear",B),C(l,u,f,"linear",B),L(l,u,f,"linear",B),f("title.text",n._dfltTitle.colorbar);var F=u.showticklabels?u.tickfont:R,_=x.extendFlat({},F,{color:R.color,size:x.bigFont(F.size)});x.coerceFont(f,"title.font",_),f("title.side",o?"top":"right")}},37848:function(V,U,e){"use strict";var x=e(33428),P=e(49760),i=e(7316),L=e(24040),C=e(54460),c=e(86476),y=e(3400),r=y.strTranslate,t=e(92880).extendFlat,s=e(93972),n=e(43616),u=e(76308),l=e(81668),f=e(72736),g=e(94288).flipScale,h=e(28336),w=e(37668),d=e(94724),o=e(84284),v=o.LINE_SPACING,A=o.FROM_TL,b=o.FROM_BR,M=e(63964).cn;function m(k){var R=k._fullLayout,B=R._infolayer.selectAll("g."+M.colorbar).data(S(k),function(F){return F._id});B.enter().append("g").attr("class",function(F){return F._id}).classed(M.colorbar,!0),B.each(function(F){var _=x.select(this);y.ensureSingle(_,"rect",M.cbbg),y.ensureSingle(_,"g",M.cbfills),y.ensureSingle(_,"g",M.cblines),y.ensureSingle(_,"g",M.cbaxis,function(z){z.classed(M.crisp,!0)}),y.ensureSingle(_,"g",M.cbtitleunshift,function(z){z.append("g").classed(M.cbtitle,!0)}),y.ensureSingle(_,"rect",M.cboutline);var O=T(_,F,k);O&&O.then&&(k._promises||[]).push(O),k._context.edits.colorbarPosition&&a(_,F,k)}),B.exit().each(function(F){i.autoMargin(k,F._id)}).remove(),B.order()}function S(k){var R=k._fullLayout,B=k.calcdata,F=[],_,O,z,N;function Y($){return t($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){typeof N.calc=="function"?N.calc(k,z,_):(_._fillgradient=O.reversescale?g(O.colorscale):O.colorscale,_._zrange=[O[N.min],O[N.max]])}for(var ae=0;ae<B.length;ae++){var se=B[ae];if(z=se[0].trace,!!z._module){var ue=z._module.colorbar;if(z.visible===!0&&ue)for(var K=Array.isArray(ue),j=K?ue:[ue],ie=0;ie<j.length;ie++){N=j[ie];var W=N.container;O=W?z[W]:z,O&&O.showscale&&(_=Y(O.colorbar),_._id="cb"+z.uid+(K&&W?"-"+W:""),_._traceIndex=z.index,_._propPrefix=(W?W+".":"")+"colorbar.",_._meta=z._meta,J(),F.push(_))}}}for(var Q in R._colorAxes)if(O=R[Q],O.showscale){var ee=R._colorAxes[Q];_=Y(O.colorbar),_._id="cb"+Q,_._propPrefix=Q+".colorbar.",_._meta=R._meta,N={min:"cmin",max:"cmax"},ee[0]!=="heatmap"&&(z=ee[1],N.calc=z._module.colorbar.calc),J(),F.push(_)}return F}function T(k,R,B){var F=R.orientation==="v",_=R.len,O=R.lenmode,z=R.thickness,N=R.thicknessmode,Y=R.outlinewidth,J=R.borderwidth,ae=R.bgcolor,se=R.xanchor,ue=R.yanchor,K=R.xpad,j=R.ypad,ie=R.x,W=F?R.y:1-R.y,Q=R.yref==="paper",ee=R.xref==="paper",$=B._fullLayout,X=$._size,oe=R._fillcolor,te=R._line,fe=R.title,pe=fe.side,Ae=R._zrange||x.extent((typeof oe=="function"?oe:te.color).domain()),be=typeof te.color=="function"?te.color:function(){return te.color},Pe=typeof oe=="function"?oe:function(){return oe},me=R._levels,Ee=E(B,R,Ae),xe=Ee.fill,De=Ee.line,Ve=Math.round(z*(N==="fraction"?F?X.w:X.h:1)),Ze=Ve/(F?X.w:X.h),ke=Math.round(_*(O==="fraction"?F?X.h:X.w:1)),Ye=ke/(F?X.h:X.w),lt=ee?X.w:B._fullLayout.width,yt=Q?X.h:B._fullLayout.height,He=Math.round(F?ie*lt+K:W*yt+j),Fe={center:.5,right:1}[se]||0,nt={top:1,middle:.5}[ue]||0,ot=F?ie-Fe*Ze:W-nt*Ze,ct=F?W-nt*Ye:ie-Fe*Ye,ht=Math.round(F?yt*(1-ct):lt*ct);R._lenFrac=Ye,R._thickFrac=Ze,R._uFrac=ot,R._vFrac=ct;var mt=R._axis=p(B,R,Ae);mt.position=Ze+(F?ie+K/X.w:W+j/X.h);var tt=["top","bottom"].indexOf(pe)!==-1;if(F&&tt&&(mt.title.side=pe,mt.titlex=ie+K/X.w,mt.titley=ct+(fe.side==="top"?Ye-j/X.h:j/X.h)),!F&&!tt&&(mt.title.side=pe,mt.titley=W+j/X.h,mt.titlex=ct+K/X.w),te.color&&R.tickmode==="auto"){mt.tickmode="linear",mt.tick0=me.start;var Re=me.size,Ge=y.constrain(ke/50,4,15)+1,Je=(Ae[1]-Ae[0])/((R.nticks||Ge)*Re);if(Je>1){var Xe=Math.pow(10,Math.floor(Math.log(Je)/Math.LN10));Re*=Xe*y.roundUp(Je/Xe,[2,5,10]),(Math.abs(me.start)/me.size+1e-6)%1<2e-6&&(mt.tick0=0)}mt.dtick=Re}mt.domain=F?[ct+j/X.h,ct+Ye-j/X.h]:[ct+K/X.w,ct+Ye-K/X.w],mt.setScale(),k.attr("transform",r(Math.round(X.l),Math.round(X.t)));var Oe=k.select("."+M.cbtitleunshift).attr("transform",r(-Math.round(X.l),-Math.round(X.t))),Ne=mt.ticklabelposition,ze=mt.title.font.size,et=k.select("."+M.cbaxis),Le,Te=0,ye=0;function Se(wt,Et){var Wt={propContainer:mt,propName:R._propPrefix+"title",traceIndex:R._traceIndex,_meta:R._meta,placeholder:$._dfltTitle.colorbar,containerGroup:k.select("."+M.cbtitle)},vr=wt.charAt(0)==="h"?wt.substr(1):"h"+wt;k.selectAll("."+vr+",."+vr+"-math-group").remove(),l.draw(B,wt,t(Wt,Et||{}))}function Ke(){if(F&&tt||!F&&!tt){var wt,Et;pe==="top"&&(wt=K+X.l+lt*ie,Et=j+X.t+yt*(1-ct-Ye)+3+ze*.75),pe==="bottom"&&(wt=K+X.l+lt*ie,Et=j+X.t+yt*(1-ct)-3-ze*.25),pe==="right"&&(Et=j+X.t+yt*W+3+ze*.75,wt=K+X.l+lt*ct),Se(mt._id+"title",{attributes:{x:wt,y:Et,"text-anchor":F?"start":"middle"}})}}function rt(){if(F&&!tt||!F&&tt){var wt=mt.position||0,Et=mt._offset+mt._length/2,Wt,vr;if(pe==="right")vr=Et,Wt=X.l+lt*wt+10+ze*(mt.showticklabels?1:.5);else if(Wt=Et,pe==="bottom"&&(vr=X.t+yt*wt+10+(Ne.indexOf("inside")===-1?mt.tickfont.size:0)+(mt.ticks!=="intside"&&R.ticklen||0)),pe==="top"){var dt=fe.text.split("<br>").length;vr=X.t+yt*wt+10-Ve-v*ze*dt}Se((F?"h":"v")+mt._id+"title",{avoid:{selection:x.select(B).selectAll("g."+mt._id+"tick"),side:pe,offsetTop:F?0:X.t,offsetLeft:F?X.l:0,maxShift:F?$.width:$.height},attributes:{x:Wt,y:vr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Lt(){if(!F&&!tt||F&&tt){var wt=k.select("."+M.cbtitle),Et=wt.select("text"),Wt=[-Y/2,Y/2],vr=wt.select(".h"+mt._id+"title-math-group").node(),dt=15.6;Et.node()&&(dt=parseInt(Et.node().style.fontSize,10)*v);var Yt;if(vr?(Yt=n.bBox(vr),ye=Yt.width,Te=Yt.height,Te>dt&&(Wt[1]-=(Te-dt)/2)):Et.node()&&!Et.classed(M.jsPlaceholder)&&(Yt=n.bBox(Et.node()),ye=Yt.width,Te=Yt.height),F){if(Te){if(Te+=5,pe==="top")mt.domain[1]-=Te/X.h,Wt[1]*=-1;else{mt.domain[0]+=Te/X.h;var jt=f.lineCount(Et);Wt[1]+=(1-jt)*dt}wt.attr("transform",r(Wt[0],Wt[1])),mt.setScale()}}else ye&&(pe==="right"&&(mt.domain[0]+=(ye+ze/2)/X.w),wt.attr("transform",r(Wt[0],Wt[1])),mt.setScale())}k.selectAll("."+M.cbfills+",."+M.cblines).attr("transform",F?r(0,Math.round(X.h*(1-mt.domain[1]))):r(Math.round(X.w*mt.domain[0]),0)),et.attr("transform",F?r(0,Math.round(-X.t)):r(Math.round(-X.l),0));var gr=k.select("."+M.cbfills).selectAll("rect."+M.cbfill).attr("style","").data(xe);gr.enter().append("rect").classed(M.cbfill,!0).attr("style",""),gr.exit().remove();var sr=Ae.map(mt.c2p).map(Math.round).sort(function(Rt,Vt){return Rt-Vt});gr.each(function(Rt,Vt){var Ct=[Vt===0?Ae[0]:(xe[Vt]+xe[Vt-1])/2,Vt===xe.length-1?Ae[1]:(xe[Vt]+xe[Vt+1])/2].map(mt.c2p).map(Math.round);F&&(Ct[1]=y.constrain(Ct[1]+(Ct[1]>Ct[0])?1:-1,sr[0],sr[1]));var Bt=x.select(this).attr(F?"x":"y",He).attr(F?"y":"x",x.min(Ct)).attr(F?"width":"height",Math.max(Ve,2)).attr(F?"height":"width",Math.max(x.max(Ct)-x.min(Ct),2));if(R._fillgradient)n.gradient(Bt,B,R._id,F?"vertical":"horizontalreversed",R._fillgradient,"fill");else{var Xt=Pe(Rt).replace("e-","");Bt.attr("fill",P(Xt).toHexString())}});var gt=k.select("."+M.cblines).selectAll("path."+M.cbline).data(te.color&&te.width?De:[]);gt.enter().append("path").classed(M.cbline,!0),gt.exit().remove(),gt.each(function(Rt){var Vt=He,Ct=Math.round(mt.c2p(Rt))+te.width/2%1;x.select(this).attr("d","M"+(F?Vt+","+Ct:Ct+","+Vt)+(F?"h":"v")+Ve).call(n.lineGroupStyle,te.width,be(Rt),te.dash)}),et.selectAll("g."+mt._id+"tick,path").remove();var st=He+Ve+(Y||0)/2-(R.ticks==="outside"?1:0),xt=C.calcTicks(mt),Mt=C.getTickSigns(mt)[2];return C.drawTicks(B,mt,{vals:mt.ticks==="inside"?C.clipEnds(mt,xt):xt,layer:et,path:C.makeTickPath(mt,st,Mt),transFn:C.makeTransTickFn(mt)}),C.drawLabels(B,mt,{vals:xt,layer:et,transFn:C.makeTransTickLabelFn(mt),labelFns:C.makeLabelFns(mt,st)})}function It(){var wt,Et=Ve+Y/2;Ne.indexOf("inside")===-1&&(wt=n.bBox(et.node()),Et+=F?wt.width:wt.height),Le=Oe.select("text");var Wt=0,vr=F&&pe==="top",dt=!F&&pe==="right",Yt=0;if(Le.node()&&!Le.classed(M.jsPlaceholder)){var jt,gr=Oe.select(".h"+mt._id+"title-math-group").node();gr&&(F&&tt||!F&&!tt)?(wt=n.bBox(gr),Wt=wt.width,jt=wt.height):(wt=n.bBox(Oe.node()),Wt=wt.right-X.l-(F?He:ht),jt=wt.bottom-X.t-(F?ht:He),!F&&pe==="top"&&(Et+=wt.height,Yt=wt.height)),dt&&(Le.attr("transform",r(Wt/2+ze/2,0)),Wt*=2),Et=Math.max(Et,F?Wt:jt)}var sr=(F?K:j)*2+Et+J+Y/2,gt=0;!F&&fe.text&&ue==="bottom"&&W<=0&&(gt=sr/2,sr+=gt,Yt+=gt),$._hColorbarMoveTitle=gt,$._hColorbarMoveCBTitle=Yt;var st=J+Y,xt=(F?He:ht)-st/2-(F?K:0),Mt=(F?ht:He)-(F?ke:j+Yt-gt);k.select("."+M.cbbg).attr("x",xt).attr("y",Mt).attr(F?"width":"height",Math.max(sr-gt,2)).attr(F?"height":"width",Math.max(ke+st,2)).call(u.fill,ae).call(u.stroke,R.bordercolor).style("stroke-width",J);var Rt=dt?Math.max(Wt-10,0):0;k.selectAll("."+M.cboutline).attr("x",(F?He:ht+K)+Rt).attr("y",(F?ht+j-ke:He)+(vr?Te:0)).attr(F?"width":"height",Math.max(Ve,2)).attr(F?"height":"width",Math.max(ke-(F?2*j+Te:2*K+Rt),2)).call(u.stroke,R.outlinecolor).style({fill:"none","stroke-width":Y});var Vt=F?Fe*sr:0,Ct=F?0:(1-nt)*sr-Yt;if(Vt=ee?X.l-Vt:-Vt,Ct=Q?X.t-Ct:-Ct,k.attr("transform",r(Vt,Ct)),!F&&(J||P(ae).getAlpha()&&!P.equals($.paper_bgcolor,ae))){var Bt=et.selectAll("text"),Xt=Bt[0].length,ir=k.select("."+M.cbbg).node(),or=n.bBox(ir),cr=n.getTranslate(k),We=2;Bt.each(function(dr,mr){var Cr=0,$r=Xt-1;if(mr===Cr||mr===$r){var yr=n.bBox(this),Gr=n.getTranslate(this),rn;if(mr===$r){var _r=yr.right+Gr.x,bn=or.right+cr.x+ht-J-We+ie;rn=bn-_r,rn>0&&(rn=0)}else if(mr===Cr){var xn=yr.left+Gr.x,fr=or.left+cr.x+ht+J+We;rn=fr-xn,rn<0&&(rn=0)}rn&&(Xt<3?this.setAttribute("transform","translate("+rn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ue={},Ft=A[se],kt=b[se],Zt=A[ue],rr=b[ue],lr=sr-Ve;F?(O==="pixels"?(Ue.y=W,Ue.t=ke*Zt,Ue.b=ke*rr):(Ue.t=Ue.b=0,Ue.yt=W+_*Zt,Ue.yb=W-_*rr),N==="pixels"?(Ue.x=ie,Ue.l=sr*Ft,Ue.r=sr*kt):(Ue.l=lr*Ft,Ue.r=lr*kt,Ue.xl=ie-z*Ft,Ue.xr=ie+z*kt)):(O==="pixels"?(Ue.x=ie,Ue.l=ke*Ft,Ue.r=ke*kt):(Ue.l=Ue.r=0,Ue.xl=ie+_*Ft,Ue.xr=ie-_*kt),N==="pixels"?(Ue.y=1-W,Ue.t=sr*Zt,Ue.b=sr*rr):(Ue.t=lr*Zt,Ue.b=lr*rr,Ue.yt=W-z*Zt,Ue.yb=W+z*rr));var qt=R.y<.5?"b":"t",Ot=R.x<.5?"l":"r";B._fullLayout._reservedMargin[R._id]={};var tr={r:$.width-xt-Vt,l:xt+Ue.r,b:$.height-Mt-Ct,t:Mt+Ue.b};ee&&Q?i.autoMargin(B,R._id,Ue):ee?B._fullLayout._reservedMargin[R._id][qt]=tr[qt]:Q||F?B._fullLayout._reservedMargin[R._id][Ot]=tr[Ot]:B._fullLayout._reservedMargin[R._id][qt]=tr[qt]}return y.syncOrAsync([i.previousPromises,Ke,Lt,rt,i.previousPromises,It],B)}function a(k,R,B){var F=R.orientation==="v",_=B._fullLayout,O=_._size,z,N,Y;c.init({element:k.node(),gd:B,prepFn:function(){z=k.attr("transform"),s(k)},moveFn:function(J,ae){k.attr("transform",z+r(J,ae)),N=c.align((F?R._uFrac:R._vFrac)+J/O.w,F?R._thickFrac:R._lenFrac,0,1,R.xanchor),Y=c.align((F?R._vFrac:1-R._uFrac)-ae/O.h,F?R._lenFrac:R._thickFrac,0,1,R.yanchor);var se=c.getCursor(N,Y,R.xanchor,R.yanchor);s(k,se)},doneFn:function(){if(s(k),N!==void 0&&Y!==void 0){var J={};J[R._propPrefix+"x"]=N,J[R._propPrefix+"y"]=Y,R._traceIndex!==void 0?L.call("_guiRestyle",B,J,R._traceIndex):L.call("_guiRelayout",B,J)}}})}function E(k,R,B){var F=R._levels,_=[],O=[],z,N,Y=F.end+F.size/100,J=F.size,ae=1.001*B[0]-.001*B[1],se=1.001*B[1]-.001*B[0];for(N=0;N<1e5&&(z=F.start+N*J,!(J>0?z>=Y:z<=Y));N++)z>ae&&z<se&&_.push(z);if(R._fillgradient)O=[0];else if(typeof R._fillcolor=="function"){var ue=R._filllevels;if(ue)for(Y=ue.end+ue.size/100,J=ue.size,N=0;N<1e5&&(z=ue.start+N*J,!(J>0?z>=Y:z<=Y));N++)z>B[0]&&z<B[1]&&O.push(z);else O=_.map(function(K){return K-F.size/2}),O.push(O[O.length-1]+F.size)}else R._fillcolor&&typeof R._fillcolor=="string"&&(O=[0]);return F.size<0&&(_.reverse(),O.reverse()),{line:_,fill:O}}function p(k,R,B){var F=k._fullLayout,_=R.orientation==="v",O={type:"linear",range:B,tickmode:R.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,ticklabelposition:R.ticklabelposition,ticklabeloverflow:R.ticklabeloverflow,ticklabelstep:R.ticklabelstep,tickfont:R.tickfont,tickangle:R.tickangle,tickformat:R.tickformat,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,showexponent:R.showexponent,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,title:R.title,showline:!0,anchor:"free",side:_?"right":"bottom",position:1},z=_?"y":"x",N={type:"linear",_id:z+R._id},Y={letter:z,font:F.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function J(ae,se){return y.coerce(O,N,d,ae,se)}return h(O,N,J,Y,F),w(O,N,J,Y),N}V.exports={draw:m}},90553:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i){return x.isPlainObject(i.colorbar)}},55080:function(V,U,e){"use strict";V.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(V,U,e){"use strict";var x=e(42996),P=e(53756).counter,i=e(95376),L=e(88304).scales,C=i(L);function c(y){return"`"+y+"`"}V.exports=function(r,t){r=r||"",t=t||{};var s=t.cLetter||"c",n="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,u="noScale"in t?t.noScale:r==="marker.line",l="showScaleDflt"in t?t.showScaleDflt:s==="z",f=typeof t.colorscaleDflt=="string"?L[t.colorscaleDflt]:null,g=t.editTypeOverride||"",h=r?r+".":"",w,d;"colorAttr"in t?(w=t.colorAttr,d=t.colorAttr):(w={z:"z",c:"color"}[s],d="in "+c(h+w));var o=n?" Has an effect only if "+d+" is set to a numerical array.":"",v=s+"auto",A=s+"min",b=s+"max",M=s+"mid",m=c(h+v),S=c(h+A),T=c(h+b),a=S+" and "+T,E={};E[A]=E[b]=void 0;var p={};p[v]=!1;var k={};return w==="color"&&(k.color={valType:"color",arrayOk:!0,editType:g||"style"},t.anim&&(k.color.anim=!0)),k[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:E},k[A]={valType:"number",dflt:null,editType:g||"plot",impliedEdits:p},k[b]={valType:"number",dflt:null,editType:g||"plot",impliedEdits:p},k[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:E},k.colorscale={valType:"colorscale",editType:"calc",dflt:f,impliedEdits:{autocolorscale:!1}},k.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},k.reversescale={valType:"boolean",dflt:!1,editType:"plot"},u||(k.showscale={valType:"boolean",dflt:l,editType:"calc"},k.colorbar=x),t.noColorAxis||(k.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),k}},47128:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(94288).extractOpts;V.exports=function(C,c,y){var r=C._fullLayout,t=y.vals,s=y.containerStr,n=s?P.nestedProperty(c,s).get():c,u=i(n),l=u.auto!==!1,f=u.min,g=u.max,h=u.mid,w=function(){return P.aggNums(Math.min,null,t)},d=function(){return P.aggNums(Math.max,null,t)};if(f===void 0?f=w():l&&(n._colorAx&&x(f)?f=Math.min(f,w()):f=w()),g===void 0?g=d():l&&(n._colorAx&&x(g)?g=Math.max(g,d()):g=d()),l&&h!==void 0&&(g-h>h-f?f=h-(g-h):g-h<h-f&&(g=h+(h-f))),f===g&&(f-=.5,g+=.5),u._sync("min",f),u._sync("max",g),u.autocolorscale){var o;f*g<0?o=r.colorscale.diverging:f>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,u._sync("colorscale",o)}}},95504:function(V,U,e){"use strict";var x=e(3400),P=e(94288).hasColorscale,i=e(94288).extractOpts;V.exports=function(C,c){function y(f,g){var h=f["_"+g];h!==void 0&&(f[g]=h)}function r(f,g){var h=g.container?x.nestedProperty(f,g.container).get():f;if(h)if(h.coloraxis)h._colorAx=c[h.coloraxis];else{var w=i(h),d=w.auto;(d||w.min===void 0)&&y(h,g.min),(d||w.max===void 0)&&y(h,g.max),w.autocolorscale&&y(h,"colorscale")}}for(var t=0;t<C.length;t++){var s=C[t],n=s._module.colorbar;if(n)if(Array.isArray(n))for(var u=0;u<n.length;u++)r(s,n[u]);else r(s,n);P(s,"marker.line")&&r(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in c._colorAxes)r(c[l],{min:"cmin",max:"cmax"})}},27260:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(90553),L=e(64013),C=e(88304).isValid,c=e(24040).traceIs;function y(r,t){var s=t.slice(0,t.length-1);return t?P.nestedProperty(r,s).get()||{}:r}V.exports=function r(t,s,n,u,l){var f=l.prefix,g=l.cLetter,h="_module"in s,w=y(t,f),d=y(s,f),o=y(s._template||{},f)||{},v=function(){return delete t.coloraxis,delete s.coloraxis,r(t,s,n,u,l)};if(h){var A=n._colorAxes||{},b=u(f+"coloraxis");if(b){var M=c(s,"contour")&&P.nestedProperty(s,"contours.coloring").get()||"heatmap",m=A[b];m?(m[2].push(v),m[0]!==M&&(m[0]=!1,P.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):A[b]=[M,s,[v]];return}}var S=w[g+"min"],T=w[g+"max"],a=x(S)&&x(T)&&S<T,E=u(f+g+"auto",!a);E?u(f+g+"mid"):(u(f+g+"min"),u(f+g+"max"));var p=w.colorscale,k=o.colorscale,R;if(p!==void 0&&(R=!C(p)),k!==void 0&&(R=!C(k)),u(f+"autocolorscale",R),u(f+"colorscale"),u(f+"reversescale"),f!=="marker.line."){var B;f&&h&&(B=i(w));var F=u(f+"showscale",B);F&&(f&&o&&(d._template=o),L(w,d,n))}}},94288:function(V,U,e){"use strict";var x=e(33428),P=e(49760),i=e(38248),L=e(3400),C=e(76308),c=e(88304).isValid;function y(h,w,d){var o=w?L.nestedProperty(h,w).get()||{}:h,v=o[d||"color"];v&&v._inputArray&&(v=v._inputArray);var A=!1;if(L.isArrayOrTypedArray(v)){for(var b=0;b<v.length;b++)if(i(v[b])){A=!0;break}}return L.isPlainObject(o)&&(A||o.showscale===!0||i(o.cmin)&&i(o.cmax)||c(o.colorscale)||L.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function s(h){var w=h._colorAx,d=w||h,o={},v,A,b;for(A=0;A<r.length;A++)b=r[A],o[b]=d[b];if(w)for(v="c",A=0;A<t.length;A++)b=t[A],o[b]=d["c"+b];else{var M;for(A=0;A<t.length;A++){if(b=t[A],M="c"+b,M in d){o[b]=d[M];continue}M="z"+b,M in d&&(o[b]=d[M])}v=M.charAt(0)}return o._sync=function(m,S){var T=t.indexOf(m)!==-1?v+m:m;d[T]=d["_"+T]=S},o}function n(h){for(var w=s(h),d=w.min,o=w.max,v=w.reversescale?u(w.colorscale):w.colorscale,A=v.length,b=new Array(A),M=new Array(A),m=0;m<A;m++){var S=v[m];b[m]=d+S[0]*(o-d),M[m]=S[1]}return{domain:b,range:M}}function u(h){for(var w=h.length,d=new Array(w),o=w-1,v=0;o>=0;o--,v++){var A=h[o];d[v]=[1-A[0],A[1]]}return d}function l(h,w){w=w||{};for(var d=h.domain,o=h.range,v=o.length,A=new Array(v),b=0;b<v;b++){var M=P(o[b]).toRgb();A[b]=[M.r,M.g,M.b,M.a]}var m=x.scale.linear().domain(d).range(A).clamp(!0),S=w.noNumericCheck,T=w.returnArray,a;return S&&T?a=m:S?a=function(E){return g(m(E))}:T?a=function(E){return i(E)?m(E):P(E).isValid()?E:C.defaultLine}:a=function(E){return i(E)?g(m(E)):P(E).isValid()?E:C.defaultLine},a.domain=m.domain,a.range=function(){return o},a}function f(h,w){return l(n(h),w)}function g(h){var w={r:h[0],g:h[1],b:h[2],a:h[3]};return P(w).toRgbString()}V.exports={hasColorscale:y,extractOpts:s,extractScale:n,flipScale:u,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:f}},8932:function(V,U,e){"use strict";var x=e(88304),P=e(94288);V.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:x.scales,defaultScale:x.defaultScale,getScale:x.get,isValidScale:x.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},92332:function(V,U,e){"use strict";var x=e(92880).extendFlat,P=e(49084),i=e(88304).scales,L="Note that `autocolorscale` must be true for this attribute to work.";V.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:x({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(V,U,e){"use strict";var x=e(3400),P=e(31780),i=e(92332),L=e(27260);V.exports=function(c,y){function r(h,w){return x.coerce(c,y,i,h,w)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=y._colorAxes,s,n;function u(h,w){return x.coerce(s,n,i.coloraxis,h,w)}for(var l in t){var f=t[l];if(f[0])s=c[l]||{},n=P.newContainer(y,l,"coloraxis"),n._name=l,L(s,n,y,u,{prefix:"",cLetter:"c"});else{for(var g=0;g<f[2].length;g++)f[2][g]();delete y._colorAxes[l]}}}},88304:function(V,U,e){"use strict";var x=e(49760),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=P.RdBu;function L(y,r){if(r||(r=i),!y)return r;function t(){try{y=P[y]||JSON.parse(y)}catch(s){y=r}}return typeof y=="string"&&(t(),typeof y=="string"&&t()),C(y)?y:r}function C(y){var r=0;if(!Array.isArray(y)||y.length<2||!y[0]||!y[y.length-1]||+y[0][0]!=0||+y[y.length-1][0]!=1)return!1;for(var t=0;t<y.length;t++){var s=y[t];if(s.length!==2||+s[0]<r||!x(s[1]).isValid())return!1;r=+s[0]}return!0}function c(y){return P[y]!==void 0?!0:C(y)}V.exports={scales:P,defaultScale:i,get:L,isValid:c}},78316:function(V){"use strict";V.exports=function(e,x,P,i,L){var C=(e-P)/(i-P),c=C+x/(i-P),y=(C+c)/2;return L==="left"||L==="bottom"?C:L==="center"||L==="middle"?y:L==="right"||L==="top"?c:C<.6666666666666666-y?C:c>1.3333333333333333-y?c:y}},67416:function(V,U,e){"use strict";var x=e(3400),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];V.exports=function(L,C,c,y){return c==="left"?L=0:c==="center"?L=1:c==="right"?L=2:L=x.constrain(Math.floor(L*3),0,2),y==="bottom"?C=0:y==="middle"?C=1:y==="top"?C=2:C=x.constrain(Math.floor(C*3),0,2),P[C][L]}},72760:function(V,U){"use strict";U.selectMode=function(e){return e==="lasso"||e==="select"},U.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.openMode=function(e){return e==="drawline"||e==="drawopenpath"},U.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},U.selectingOrDrawing=function(e){return U.freeMode(e)||U.rectMode(e)}},86476:function(V,U,e){"use strict";var x=e(29128),P=e(52264),i=e(89184),L=e(3400).removeElement,C=e(33816),c=V.exports={};c.align=e(78316),c.getCursor=e(67416);var y=e(2616);c.unhover=y.wrapped,c.unhoverRaw=y.raw,c.init=function(n){var u=n.gd,l=1,f=u._context.doubleClickDelay,g=n.element,h,w,d,o,v,A,b,M;u._mouseDownTime||(u._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=T,i?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=T,g.addEventListener("touchstart",T,{passive:!1})):g.ontouchstart=T;function m(p,k,R){return Math.abs(p)<R&&(p=0),Math.abs(k)<R&&(k=0),[p,k]}var S=n.clampFn||m;function T(p){u._dragged=!1,u._dragging=!0;var k=t(p);h=k[0],w=k[1],b=p.target,A=p,M=p.buttons===2||p.ctrlKey,typeof p.clientX=="undefined"&&typeof p.clientY=="undefined"&&(p.clientX=h,p.clientY=w),d=new Date().getTime(),d-u._mouseDownTime<f?l+=1:(l=1,u._mouseDownTime=d),n.prepFn&&n.prepFn(p,h,w),P&&!M?(v=r(),v.style.cursor=window.getComputedStyle(g).cursor):P||(v=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(p.preventDefault(),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a,{passive:!1}))}function a(p){p.preventDefault();var k=t(p),R=n.minDrag||C.MINDRAG,B=S(k[0]-h,k[1]-w,R),F=B[0],_=B[1];(F||_)&&(u._dragged=!0,c.unhover(u,p)),u._dragged&&n.moveFn&&!M&&(u._dragdata={element:g,dx:F,dy:_},n.moveFn(F,_))}function E(p){if(delete u._dragdata,n.dragmode!==!1&&(p.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),P?L(v):o&&(v.documentElement.style.cursor=o,o=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>f&&(l=Math.max(l-1,1)),u._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(l,A),!M){var k;try{k=new MouseEvent("click",p)}catch(B){var R=t(p);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",p.bubbles,p.cancelable,p.view,p.detail,p.screenX,p.screenY,R[0],R[1],p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,p.relatedTarget)}b.dispatchEvent(k)}u._dragging=!1,u._dragged=!1}};function r(){var s=document.createElement("div");s.className="dragcover";var n=s.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(s),s}c.coverSlip=r;function t(s){return x(s.changedTouches?s.changedTouches[0]:s,document.body)}},2616:function(V,U,e){"use strict";var x=e(95924),P=e(91200),i=e(52200).getGraphDiv,L=e(92456),C=V.exports={};C.wrapped=function(c,y,r){c=i(c),c._fullLayout&&P.clear(c._fullLayout._uid+L.HOVERID),C.raw(c,y,r)},C.raw=function(y,r){var t=y._fullLayout,s=y._hoverdata;r||(r={}),!(r.target&&!y._dragged&&x.triggerHandler(y,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),y._hoverdata=void 0,r.target&&s&&y.emit("plotly_unhover",{event:r,points:s}))}},98192:function(V,U){"use strict";U.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=P.numberFormat,L=e(38248),C=e(49760),c=e(24040),y=e(76308),r=e(8932),t=P.strTranslate,s=e(72736),n=e(9616),u=e(84284),l=u.LINE_SPACING,f=e(13448).DESELECTDIM,g=e(43028),h=e(7152),w=e(10624).appendArrayPointValue,d=V.exports={};d.font=function(me,Ee,xe,De){P.isPlainObject(Ee)&&(De=Ee.color,xe=Ee.size,Ee=Ee.family),Ee&&me.style("font-family",Ee),xe+1&&me.style("font-size",xe+"px"),De&&me.call(y.fill,De)},d.setPosition=function(me,Ee,xe){me.attr("x",Ee).attr("y",xe)},d.setSize=function(me,Ee,xe){me.attr("width",Ee).attr("height",xe)},d.setRect=function(me,Ee,xe,De,Ve){me.call(d.setPosition,Ee,xe).call(d.setSize,De,Ve)},d.translatePoint=function(me,Ee,xe,De){var Ve=xe.c2p(me.x),Ze=De.c2p(me.y);if(L(Ve)&&L(Ze)&&Ee.node())Ee.node().nodeName==="text"?Ee.attr("x",Ve).attr("y",Ze):Ee.attr("transform",t(Ve,Ze));else return!1;return!0},d.translatePoints=function(me,Ee,xe){me.each(function(De){var Ve=x.select(this);d.translatePoint(De,Ve,Ee,xe)})},d.hideOutsideRangePoint=function(me,Ee,xe,De,Ve,Ze){Ee.attr("display",xe.isPtWithinRange(me,Ve)&&De.isPtWithinRange(me,Ze)?null:"none")},d.hideOutsideRangePoints=function(me,Ee){if(Ee._hasClipOnAxisFalse){var xe=Ee.xaxis,De=Ee.yaxis;me.each(function(Ve){var Ze=Ve[0].trace,ke=Ze.xcalendar,Ye=Ze.ycalendar,lt=c.traceIs(Ze,"bar-like")?".bartext":".point,.textpoint";me.selectAll(lt).each(function(yt){d.hideOutsideRangePoint(yt,x.select(this),xe,De,ke,Ye)})})}},d.crispRound=function(me,Ee,xe){return!Ee||!L(Ee)?xe||0:me._context.staticPlot?Ee:Ee<1?1:Math.round(Ee)},d.singleLineStyle=function(me,Ee,xe,De,Ve){Ee.style("fill","none");var Ze=(((me||[])[0]||{}).trace||{}).line||{},ke=xe||Ze.width||0,Ye=Ve||Ze.dash||"";y.stroke(Ee,De||Ze.color),d.dashLine(Ee,Ye,ke)},d.lineGroupStyle=function(me,Ee,xe,De){me.style("fill","none").each(function(Ve){var Ze=(((Ve||[])[0]||{}).trace||{}).line||{},ke=Ee||Ze.width||0,Ye=De||Ze.dash||"";x.select(this).call(y.stroke,xe||Ze.color).call(d.dashLine,Ye,ke)})},d.dashLine=function(me,Ee,xe){xe=+xe||0,Ee=d.dashStyle(Ee,xe),me.style({"stroke-dasharray":Ee,"stroke-width":xe+"px"})},d.dashStyle=function(me,Ee){Ee=+Ee||1;var xe=Math.max(Ee,3);return me==="solid"?me="":me==="dot"?me=xe+"px,"+xe+"px":me==="dash"?me=3*xe+"px,"+3*xe+"px":me==="longdash"?me=5*xe+"px,"+5*xe+"px":me==="dashdot"?me=3*xe+"px,"+xe+"px,"+xe+"px,"+xe+"px":me==="longdashdot"&&(me=5*xe+"px,"+2*xe+"px,"+xe+"px,"+2*xe+"px"),me};function o(me,Ee,xe,De){var Ve=Ee.fillpattern,Ze=Ee.fillgradient,ke=Ve&&d.getPatternAttr(Ve.shape,0,"");if(ke){var Ye=d.getPatternAttr(Ve.bgcolor,0,null),lt=d.getPatternAttr(Ve.fgcolor,0,null),yt=Ve.fgopacity,He=d.getPatternAttr(Ve.size,0,8),Fe=d.getPatternAttr(Ve.solidity,0,.3),nt=Ee.uid;d.pattern(me,"point",xe,nt,ke,He,Fe,void 0,Ve.fillmode,Ye,lt,yt)}else if(Ze&&Ze.type!=="none"){var ot=Ze.type,ct="scatterfill-"+Ee.uid;if(De&&(ct="legendfill-"+Ee.uid),!De&&(Ze.start!==void 0||Ze.stop!==void 0)){var ht,mt;ot==="horizontal"?(ht={x:Ze.start,y:0},mt={x:Ze.stop,y:0}):ot==="vertical"&&(ht={x:0,y:Ze.start},mt={x:0,y:Ze.stop}),ht.x=Ee._xA.c2p(ht.x===void 0?Ee._extremes.x.min[0].val:ht.x,!0),ht.y=Ee._yA.c2p(ht.y===void 0?Ee._extremes.y.min[0].val:ht.y,!0),mt.x=Ee._xA.c2p(mt.x===void 0?Ee._extremes.x.max[0].val:mt.x,!0),mt.y=Ee._yA.c2p(mt.y===void 0?Ee._extremes.y.max[0].val:mt.y,!0),me.call(T,xe,ct,"linear",Ze.colorscale,"fill",ht,mt,!0,!1)}else ot==="horizontal"&&(ot=ot+"reversed"),me.call(d.gradient,xe,ct,ot,Ze.colorscale,"fill")}else Ee.fillcolor&&me.call(y.fill,Ee.fillcolor)}d.singleFillStyle=function(me,Ee){var xe=x.select(me.node()),De=xe.data(),Ve=((De[0]||[])[0]||{}).trace||{};o(me,Ve,Ee,!1)},d.fillGroupStyle=function(me,Ee,xe){me.style("stroke-width",0).each(function(De){var Ve=x.select(this);De[0].trace&&o(Ve,De[0].trace,Ee,xe)})};var v=e(71984);d.symbolNames=[],d.symbolFuncs=[],d.symbolBackOffs=[],d.symbolNeedLines={},d.symbolNoDot={},d.symbolNoFill={},d.symbolList=[],Object.keys(v).forEach(function(me){var Ee=v[me],xe=Ee.n;d.symbolList.push(xe,String(xe),me,xe+100,String(xe+100),me+"-open"),d.symbolNames[xe]=me,d.symbolFuncs[xe]=Ee.f,d.symbolBackOffs[xe]=Ee.backoff||0,Ee.needLine&&(d.symbolNeedLines[xe]=!0),Ee.noDot?d.symbolNoDot[xe]=!0:d.symbolList.push(xe+200,String(xe+200),me+"-dot",xe+300,String(xe+300),me+"-open-dot"),Ee.noFill&&(d.symbolNoFill[xe]=!0)});var A=d.symbolNames.length,b="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";d.symbolNumber=function(me){if(L(me))me=+me;else if(typeof me=="string"){var Ee=0;me.indexOf("-open")>0&&(Ee=100,me=me.replace("-open","")),me.indexOf("-dot")>0&&(Ee+=200,me=me.replace("-dot","")),me=d.symbolNames.indexOf(me),me>=0&&(me+=Ee)}return me%100>=A||me>=400?0:Math.floor(Math.max(me,0))};function M(me,Ee,xe,De){var Ve=me%100;return d.symbolFuncs[Ve](Ee,xe,De)+(me>=200?b:"")}var m=i("~f"),S={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};d.gradient=function(me,Ee,xe,De,Ve,Ze){var ke=S[De];return T(me,Ee,xe,ke.type,Ve,Ze,ke.start,ke.stop,!1,ke.reversed)};function T(me,Ee,xe,De,Ve,Ze,ke,Ye,lt,yt){var He=Ve.length,Fe;De==="linear"?Fe={node:"linearGradient",attrs:{x1:ke.x,y1:ke.y,x2:Ye.x,y2:Ye.y,gradientUnits:lt?"userSpaceOnUse":"objectBoundingBox"},reversed:yt}:De==="radial"&&(Fe={node:"radialGradient",reversed:yt});for(var nt=new Array(He),ot=0;ot<He;ot++)Fe.reversed?nt[He-1-ot]=[m((1-Ve[ot][0])*100),Ve[ot][1]]:nt[ot]=[m(Ve[ot][0]*100),Ve[ot][1]];var ct=Ee._fullLayout,ht="g"+ct._uid+"-"+xe,mt=ct._defs.select(".gradients").selectAll("#"+ht).data([De+nt.join(";")],P.identity);mt.exit().remove(),mt.enter().append(Fe.node).each(function(){var tt=x.select(this);Fe.attrs&&tt.attr(Fe.attrs),tt.attr("id",ht);var Re=tt.selectAll("stop").data(nt);Re.exit().remove(),Re.enter().append("stop"),Re.each(function(Ge){var Je=C(Ge[1]);x.select(this).attr({offset:Ge[0]+"%","stop-color":y.tinyRGB(Je),"stop-opacity":Je.getAlpha()})})}),me.style(Ze,K(ht,Ee)).style(Ze+"-opacity",null),me.classed("gradient_filled",!0)}d.pattern=function(me,Ee,xe,De,Ve,Ze,ke,Ye,lt,yt,He,Fe){var nt=Ee==="legend";Ye&&(lt==="overlay"?(yt=Ye,He=y.contrast(yt)):(yt=void 0,He=Ye));var ot=xe._fullLayout,ct="p"+ot._uid+"-"+De,ht,mt,tt=function(Se,Ke,rt,Lt,It){return Lt+(It-Lt)*(Se-Ke)/(rt-Ke)},Re,Ge,Je,Xe,Oe={},Ne=C(He),ze=y.tinyRGB(Ne),et=Ne.getAlpha(),Le=Fe*et;switch(Ve){case"/":ht=Ze*Math.sqrt(2),mt=Ze*Math.sqrt(2),Re="M-"+ht/4+","+mt/4+"l"+ht/2+",-"+mt/2+"M0,"+mt+"L"+ht+",0M"+ht/4*3+","+mt/4*5+"l"+ht/2+",-"+mt/2,Ge=ke*Ze,Xe="path",Oe={d:Re,opacity:Le,stroke:ze,"stroke-width":Ge+"px"};break;case"\\":ht=Ze*Math.sqrt(2),mt=Ze*Math.sqrt(2),Re="M"+ht/4*3+",-"+mt/4+"l"+ht/2+","+mt/2+"M0,0L"+ht+","+mt+"M-"+ht/4+","+mt/4*3+"l"+ht/2+","+mt/2,Ge=ke*Ze,Xe="path",Oe={d:Re,opacity:Le,stroke:ze,"stroke-width":Ge+"px"};break;case"x":ht=Ze*Math.sqrt(2),mt=Ze*Math.sqrt(2),Re="M-"+ht/4+","+mt/4+"l"+ht/2+",-"+mt/2+"M0,"+mt+"L"+ht+",0M"+ht/4*3+","+mt/4*5+"l"+ht/2+",-"+mt/2+"M"+ht/4*3+",-"+mt/4+"l"+ht/2+","+mt/2+"M0,0L"+ht+","+mt+"M-"+ht/4+","+mt/4*3+"l"+ht/2+","+mt/2,Ge=Ze-Ze*Math.sqrt(1-ke),Xe="path",Oe={d:Re,opacity:Le,stroke:ze,"stroke-width":Ge+"px"};break;case"|":ht=Ze,mt=Ze,Xe="path",Re="M"+ht/2+",0L"+ht/2+","+mt,Ge=ke*Ze,Xe="path",Oe={d:Re,opacity:Le,stroke:ze,"stroke-width":Ge+"px"};break;case"-":ht=Ze,mt=Ze,Xe="path",Re="M0,"+mt/2+"L"+ht+","+mt/2,Ge=ke*Ze,Xe="path",Oe={d:Re,opacity:Le,stroke:ze,"stroke-width":Ge+"px"};break;case"+":ht=Ze,mt=Ze,Xe="path",Re="M"+ht/2+",0L"+ht/2+","+mt+"M0,"+mt/2+"L"+ht+","+mt/2,Ge=Ze-Ze*Math.sqrt(1-ke),Xe="path",Oe={d:Re,opacity:Le,stroke:ze,"stroke-width":Ge+"px"};break;case".":ht=Ze,mt=Ze,ke<Math.PI/4?Je=Math.sqrt(ke*Ze*Ze/Math.PI):Je=tt(ke,Math.PI/4,1,Ze/2,Ze/Math.sqrt(2)),Xe="circle",Oe={cx:ht/2,cy:mt/2,r:Je,opacity:Le,fill:ze};break}var Te=[Ve||"noSh",yt||"noBg",He||"noFg",Ze,ke].join(";"),ye=ot._defs.select(".patterns").selectAll("#"+ct).data([Te],P.identity);ye.exit().remove(),ye.enter().append("pattern").each(function(){var Se=x.select(this);if(Se.attr({id:ct,width:ht+"px",height:mt+"px",patternUnits:"userSpaceOnUse",patternTransform:nt?"scale(0.8)":""}),yt){var Ke=C(yt),rt=y.tinyRGB(Ke),Lt=Ke.getAlpha(),It=Se.selectAll("rect").data([0]);It.exit().remove(),It.enter().append("rect").attr({width:ht+"px",height:mt+"px",fill:rt,"fill-opacity":Lt})}var wt=Se.selectAll(Xe).data([0]);wt.exit().remove(),wt.enter().append(Xe).attr(Oe)}),me.style("fill",K(ct,xe)).style("fill-opacity",null),me.classed("pattern_filled",!0)},d.initGradients=function(me){var Ee=me._fullLayout,xe=P.ensureSingle(Ee._defs,"g","gradients");xe.selectAll("linearGradient,radialGradient").remove(),x.select(me).selectAll(".gradient_filled").classed("gradient_filled",!1)},d.initPatterns=function(me){var Ee=me._fullLayout,xe=P.ensureSingle(Ee._defs,"g","patterns");xe.selectAll("pattern").remove(),x.select(me).selectAll(".pattern_filled").classed("pattern_filled",!1)},d.getPatternAttr=function(me,Ee,xe){return me&&P.isArrayOrTypedArray(me)?Ee<me.length?me[Ee]:xe:me},d.pointStyle=function(me,Ee,xe,De){if(me.size()){var Ve=d.makePointStyleFns(Ee);me.each(function(Ze){d.singlePointStyle(Ze,x.select(this),Ee,Ve,xe,De)})}},d.singlePointStyle=function(me,Ee,xe,De,Ve,Ze){var ke=xe.marker,Ye=ke.line;if(Ze&&Ze.i>=0&&me.i===void 0&&(me.i=Ze.i),Ee.style("opacity",De.selectedOpacityFn?De.selectedOpacityFn(me):me.mo===void 0?ke.opacity:me.mo),De.ms2mrc){var lt;me.ms==="various"||ke.size==="various"?lt=3:lt=De.ms2mrc(me.ms),me.mrc=lt,De.selectedSizeFn&&(lt=me.mrc=De.selectedSizeFn(me));var yt=d.symbolNumber(me.mx||ke.symbol)||0;me.om=yt%200>=100;var He=Pe(me,xe),Fe=W(me,xe);Ee.attr("d",M(yt,lt,He,Fe))}var nt=!1,ot,ct,ht;if(me.so)ht=Ye.outlierwidth,ct=Ye.outliercolor,ot=ke.outliercolor;else{var mt=(Ye||{}).width;ht=(me.mlw+1||mt+1||(me.trace?(me.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in me?ct=me.mlcc=De.lineScale(me.mlc):P.isArrayOrTypedArray(Ye.color)?ct=y.defaultLine:ct=Ye.color,P.isArrayOrTypedArray(ke.color)&&(ot=y.defaultLine,nt=!0),"mc"in me?ot=me.mcc=De.markerScale(me.mc):ot=ke.color||ke.colors||"rgba(0,0,0,0)",De.selectedColorFn&&(ot=De.selectedColorFn(me))}if(me.om)Ee.call(y.stroke,ot).style({"stroke-width":(ht||1)+"px",fill:"none"});else{Ee.style("stroke-width",(me.isBlank?0:ht)+"px");var tt=ke.gradient,Re=me.mgt;Re?nt=!0:Re=tt&&tt.type,P.isArrayOrTypedArray(Re)&&(Re=Re[0],S[Re]||(Re=0));var Ge=ke.pattern,Je=Ge&&d.getPatternAttr(Ge.shape,me.i,"");if(Re&&Re!=="none"){var Xe=me.mgc;Xe?nt=!0:Xe=tt.color;var Oe=xe.uid;nt&&(Oe+="-"+me.i),d.gradient(Ee,Ve,Oe,Re,[[0,Xe],[1,ot]],"fill")}else if(Je){var Ne=!1,ze=Ge.fgcolor;!ze&&Ze&&Ze.color&&(ze=Ze.color,Ne=!0);var et=d.getPatternAttr(ze,me.i,Ze&&Ze.color||null),Le=d.getPatternAttr(Ge.bgcolor,me.i,null),Te=Ge.fgopacity,ye=d.getPatternAttr(Ge.size,me.i,8),Se=d.getPatternAttr(Ge.solidity,me.i,.3);Ne=Ne||me.mcc||P.isArrayOrTypedArray(Ge.shape)||P.isArrayOrTypedArray(Ge.bgcolor)||P.isArrayOrTypedArray(Ge.fgcolor)||P.isArrayOrTypedArray(Ge.size)||P.isArrayOrTypedArray(Ge.solidity);var Ke=xe.uid;Ne&&(Ke+="-"+me.i),d.pattern(Ee,"point",Ve,Ke,Je,ye,Se,me.mcc,Ge.fillmode,Le,et,Te)}else P.isArrayOrTypedArray(ot)?y.fill(Ee,ot[me.i]):y.fill(Ee,ot);ht&&y.stroke(Ee,ct)}},d.makePointStyleFns=function(me){var Ee={},xe=me.marker;return Ee.markerScale=d.tryColorscale(xe,""),Ee.lineScale=d.tryColorscale(xe,"line"),c.traceIs(me,"symbols")&&(Ee.ms2mrc=g.isBubble(me)?h(me):function(){return(xe.size||6)/2}),me.selectedpoints&&P.extendFlat(Ee,d.makeSelectedPointStyleFns(me)),Ee},d.makeSelectedPointStyleFns=function(me){var Ee={},xe=me.selected||{},De=me.unselected||{},Ve=me.marker||{},Ze=xe.marker||{},ke=De.marker||{},Ye=Ve.opacity,lt=Ze.opacity,yt=ke.opacity,He=lt!==void 0,Fe=yt!==void 0;(P.isArrayOrTypedArray(Ye)||He||Fe)&&(Ee.selectedOpacityFn=function(Je){var Xe=Je.mo===void 0?Ve.opacity:Je.mo;return Je.selected?He?lt:Xe:Fe?yt:f*Xe});var nt=Ve.color,ot=Ze.color,ct=ke.color;(ot||ct)&&(Ee.selectedColorFn=function(Je){var Xe=Je.mcc||nt;return Je.selected?ot||Xe:ct||Xe});var ht=Ve.size,mt=Ze.size,tt=ke.size,Re=mt!==void 0,Ge=tt!==void 0;return c.traceIs(me,"symbols")&&(Re||Ge)&&(Ee.selectedSizeFn=function(Je){var Xe=Je.mrc||ht/2;return Je.selected?Re?mt/2:Xe:Ge?tt/2:Xe}),Ee},d.makeSelectedTextStyleFns=function(me){var Ee={},xe=me.selected||{},De=me.unselected||{},Ve=me.textfont||{},Ze=xe.textfont||{},ke=De.textfont||{},Ye=Ve.color,lt=Ze.color,yt=ke.color;return Ee.selectedTextColorFn=function(He){var Fe=He.tc||Ye;return He.selected?lt||Fe:yt||(lt?Fe:y.addOpacity(Fe,f))},Ee},d.selectedPointStyle=function(me,Ee){if(!(!me.size()||!Ee.selectedpoints)){var xe=d.makeSelectedPointStyleFns(Ee),De=Ee.marker||{},Ve=[];xe.selectedOpacityFn&&Ve.push(function(Ze,ke){Ze.style("opacity",xe.selectedOpacityFn(ke))}),xe.selectedColorFn&&Ve.push(function(Ze,ke){y.fill(Ze,xe.selectedColorFn(ke))}),xe.selectedSizeFn&&Ve.push(function(Ze,ke){var Ye=ke.mx||De.symbol||0,lt=xe.selectedSizeFn(ke);Ze.attr("d",M(d.symbolNumber(Ye),lt,Pe(ke,Ee),W(ke,Ee))),ke.mrc2=lt}),Ve.length&&me.each(function(Ze){for(var ke=x.select(this),Ye=0;Ye<Ve.length;Ye++)Ve[Ye](ke,Ze)})}},d.tryColorscale=function(me,Ee){var xe=Ee?P.nestedProperty(me,Ee).get():me;if(xe){var De=xe.color;if((xe.colorscale||xe._colorAx)&&P.isArrayOrTypedArray(De))return r.makeColorScaleFuncFromTrace(xe)}return P.identity};var a={start:1,end:-1,middle:0,bottom:1,top:-1};function E(me,Ee,xe,De,Ve){var Ze=x.select(me.node().parentNode),ke=Ee.indexOf("top")!==-1?"top":Ee.indexOf("bottom")!==-1?"bottom":"middle",Ye=Ee.indexOf("left")!==-1?"end":Ee.indexOf("right")!==-1?"start":"middle",lt=De?De/.8+1:0,yt=(s.lineCount(me)-1)*l+1,He=a[Ye]*lt,Fe=xe*.75+a[ke]*lt+(a[ke]-1)*yt*xe/2;me.attr("text-anchor",Ye),Ve||Ze.attr("transform",t(He,Fe))}function p(me,Ee){var xe=me.ts||Ee.textfont.size;return L(xe)&&xe>0?xe:0}d.textPointStyle=function(me,Ee,xe){if(me.size()){var De;if(Ee.selectedpoints){var Ve=d.makeSelectedTextStyleFns(Ee);De=Ve.selectedTextColorFn}var Ze=Ee.texttemplate,ke=xe._fullLayout;me.each(function(Ye){var lt=x.select(this),yt=Ze?P.extractOption(Ye,Ee,"txt","texttemplate"):P.extractOption(Ye,Ee,"tx","text");if(!yt&&yt!==0){lt.remove();return}if(Ze){var He=Ee._module.formatLabels,Fe=He?He(Ye,Ee,ke):{},nt={};w(nt,Ee,Ye.i);var ot=Ee._meta||{};yt=P.texttemplateString(yt,Fe,ke._d3locale,nt,Ye,ot)}var ct=Ye.tp||Ee.textposition,ht=p(Ye,Ee),mt=De?De(Ye):Ye.tc||Ee.textfont.color;lt.call(d.font,Ye.tf||Ee.textfont.family,ht,mt).text(yt).call(s.convertToTspans,xe).call(E,ct,ht,Ye.mrc)})}},d.selectedTextStyle=function(me,Ee){if(!(!me.size()||!Ee.selectedpoints)){var xe=d.makeSelectedTextStyleFns(Ee);me.each(function(De){var Ve=x.select(this),Ze=xe.selectedTextColorFn(De),ke=De.tp||Ee.textposition,Ye=p(De,Ee);y.fill(Ve,Ze);var lt=c.traceIs(Ee,"bar-like");E(Ve,ke,Ye,De.mrc2||De.mrc,lt)})}};var k=.5;d.smoothopen=function(me,Ee){if(me.length<3)return"M"+me.join("L");var xe="M"+me[0],De=[],Ve;for(Ve=1;Ve<me.length-1;Ve++)De.push(z(me[Ve-1],me[Ve],me[Ve+1],Ee));for(xe+="Q"+De[0][0]+" "+me[1],Ve=2;Ve<me.length-1;Ve++)xe+="C"+De[Ve-2][1]+" "+De[Ve-1][0]+" "+me[Ve];return xe+="Q"+De[me.length-3][1]+" "+me[me.length-1],xe},d.smoothclosed=function(me,Ee){if(me.length<3)return"M"+me.join("L")+"Z";var xe="M"+me[0],De=me.length-1,Ve=[z(me[De],me[0],me[1],Ee)],Ze;for(Ze=1;Ze<De;Ze++)Ve.push(z(me[Ze-1],me[Ze],me[Ze+1],Ee));for(Ve.push(z(me[De-1],me[De],me[0],Ee)),Ze=1;Ze<=De;Ze++)xe+="C"+Ve[Ze-1][1]+" "+Ve[Ze][0]+" "+me[Ze];return xe+="C"+Ve[De][1]+" "+Ve[0][0]+" "+me[0]+"Z",xe};var R,B;function F(me,Ee,xe){return xe&&(me=J(me)),Ee?O(me[1]):_(me[0])}function _(me){var Ee=x.round(me,2);return R=Ee,Ee}function O(me){var Ee=x.round(me,2);return B=Ee,Ee}function z(me,Ee,xe,De){var Ve=me[0]-Ee[0],Ze=me[1]-Ee[1],ke=xe[0]-Ee[0],Ye=xe[1]-Ee[1],lt=Math.pow(Ve*Ve+Ze*Ze,k/2),yt=Math.pow(ke*ke+Ye*Ye,k/2),He=(yt*yt*Ve-lt*lt*ke)*De,Fe=(yt*yt*Ze-lt*lt*Ye)*De,nt=3*yt*(lt+yt),ot=3*lt*(lt+yt);return[[_(Ee[0]+(nt&&He/nt)),O(Ee[1]+(nt&&Fe/nt))],[_(Ee[0]-(ot&&He/ot)),O(Ee[1]-(ot&&Fe/ot))]]}var N={hv:function(me,Ee,xe){return"H"+_(Ee[0])+"V"+F(Ee,1,xe)},vh:function(me,Ee,xe){return"V"+O(Ee[1])+"H"+F(Ee,0,xe)},hvh:function(me,Ee,xe){return"H"+_((me[0]+Ee[0])/2)+"V"+O(Ee[1])+"H"+F(Ee,0,xe)},vhv:function(me,Ee,xe){return"V"+O((me[1]+Ee[1])/2)+"H"+_(Ee[0])+"V"+F(Ee,1,xe)}},Y=function(me,Ee,xe){return"L"+F(Ee,0,xe)+","+F(Ee,1,xe)};d.steps=function(me){var Ee=N[me]||Y;return function(xe){for(var De="M"+_(xe[0][0])+","+O(xe[0][1]),Ve=xe.length,Ze=1;Ze<Ve;Ze++)De+=Ee(xe[Ze-1],xe[Ze],Ze===Ve-1);return De}};function J(me,Ee){var xe=me.backoff,De=me.trace,Ve=me.d,Ze=me.i;if(xe&&De&&De.marker&&De.marker.angle%360===0&&De.line&&De.line.shape!=="spline"){var ke=P.isArrayOrTypedArray(xe),Ye=me,lt=Ee?Ee[0]:R||0,yt=Ee?Ee[1]:B||0,He=Ye[0],Fe=Ye[1],nt=He-lt,ot=Fe-yt,ct=Math.atan2(ot,nt),ht=ke?xe[Ze]:xe;if(ht==="auto"){var mt=Ye.i;De.type==="scatter"&&mt--;var tt=Ye.marker,Re=tt.symbol;P.isArrayOrTypedArray(Re)&&(Re=Re[mt]);var Ge=tt.size;P.isArrayOrTypedArray(Ge)&&(Ge=Ge[mt]),ht=tt?d.symbolBackOffs[d.symbolNumber(Re)]*Ge:0,ht+=d.getMarkerStandoff(Ve[mt],De)||0}var Je=He-ht*Math.cos(ct),Xe=Fe-ht*Math.sin(ct);(Je<=He&&Je>=lt||Je>=He&&Je<=lt)&&(Xe<=Fe&&Xe>=yt||Xe>=Fe&&Xe<=yt)&&(me=[Je,Xe])}return me}d.applyBackoff=J,d.makeTester=function(){var me=P.ensureSingleById(x.select("body"),"svg","js-plotly-tester",function(xe){xe.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=P.ensureSingle(me,"path","js-reference-point",function(xe){xe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});d.tester=me,d.testref=Ee},d.savedBBoxes={};var ae=0,se=1e4;d.bBox=function(me,Ee,xe){xe||(xe=ue(me));var De;if(xe){if(De=d.savedBBoxes[xe],De)return P.extendFlat({},De)}else if(me.childNodes.length===1){var Ve=me.childNodes[0];if(xe=ue(Ve),xe){var Ze=+Ve.getAttribute("x")||0,ke=+Ve.getAttribute("y")||0,Ye=Ve.getAttribute("transform");if(!Ye){var lt=d.bBox(Ve,!1,xe);return Ze&&(lt.left+=Ze,lt.right+=Ze),ke&&(lt.top+=ke,lt.bottom+=ke),lt}if(xe+="~"+Ze+"~"+ke+"~"+Ye,De=d.savedBBoxes[xe],De)return P.extendFlat({},De)}}var yt,He;Ee?yt=me:(He=d.tester.node(),yt=me.cloneNode(!0),He.appendChild(yt)),x.select(yt).attr("transform",null).call(s.positionText,0,0);var Fe=yt.getBoundingClientRect(),nt=d.testref.node().getBoundingClientRect();Ee||He.removeChild(yt);var ot={height:Fe.height,width:Fe.width,left:Fe.left-nt.left,top:Fe.top-nt.top,right:Fe.right-nt.left,bottom:Fe.bottom-nt.top};return ae>=se&&(d.savedBBoxes={},ae=0),xe&&(d.savedBBoxes[xe]=ot),ae++,P.extendFlat({},ot)};function ue(me){var Ee=me.getAttribute("data-unformatted");if(Ee!==null)return Ee+me.getAttribute("data-math")+me.getAttribute("text-anchor")+me.getAttribute("style")}d.setClipUrl=function(me,Ee,xe){me.attr("clip-path",K(Ee,xe))};function K(me,Ee){if(!me)return null;var xe=Ee._context,De=xe._exportedPlot?"":xe._baseUrl||"";return De?"url('"+De+"#"+me+"')":"url(#"+me+")"}d.getTranslate=function(me){var Ee=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,xe=me.attr?"attr":"getAttribute",De=me[xe]("transform")||"",Ve=De.replace(Ee,function(Ze,ke,Ye){return[ke,Ye].join(" ")}).split(" ");return{x:+Ve[0]||0,y:+Ve[1]||0}},d.setTranslate=function(me,Ee,xe){var De=/(\btranslate\(.*?\);?)/,Ve=me.attr?"attr":"getAttribute",Ze=me.attr?"attr":"setAttribute",ke=me[Ve]("transform")||"";return Ee=Ee||0,xe=xe||0,ke=ke.replace(De,"").trim(),ke+=t(Ee,xe),ke=ke.trim(),me[Ze]("transform",ke),ke},d.getScale=function(me){var Ee=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,xe=me.attr?"attr":"getAttribute",De=me[xe]("transform")||"",Ve=De.replace(Ee,function(Ze,ke,Ye){return[ke,Ye].join(" ")}).split(" ");return{x:+Ve[0]||1,y:+Ve[1]||1}},d.setScale=function(me,Ee,xe){var De=/(\bscale\(.*?\);?)/,Ve=me.attr?"attr":"getAttribute",Ze=me.attr?"attr":"setAttribute",ke=me[Ve]("transform")||"";return Ee=Ee||1,xe=xe||1,ke=ke.replace(De,"").trim(),ke+="scale("+Ee+","+xe+")",ke=ke.trim(),me[Ze]("transform",ke),ke};var j=/\s*sc.*/;d.setPointGroupScale=function(me,Ee,xe){if(Ee=Ee||1,xe=xe||1,!!me){var De=Ee===1&&xe===1?"":"scale("+Ee+","+xe+")";me.each(function(){var Ve=(this.getAttribute("transform")||"").replace(j,"");Ve+=De,Ve=Ve.trim(),this.setAttribute("transform",Ve)})}};var ie=/translate\([^)]*\)\s*$/;d.setTextPointsScale=function(me,Ee,xe){me&&me.each(function(){var De,Ve=x.select(this),Ze=Ve.select("text");if(Ze.node()){var ke=parseFloat(Ze.attr("x")||0),Ye=parseFloat(Ze.attr("y")||0),lt=(Ve.attr("transform")||"").match(ie);Ee===1&&xe===1?De=[]:De=[t(ke,Ye),"scale("+Ee+","+xe+")",t(-ke,-Ye)],lt&&De.push(lt),Ve.attr("transform",De.join(""))}})};function W(me,Ee){var xe;return me&&(xe=me.mf),xe===void 0&&(xe=Ee.marker&&Ee.marker.standoff||0),!Ee._geo&&!Ee._xA?-xe:xe}d.getMarkerStandoff=W;var Q=Math.atan2,ee=Math.cos,$=Math.sin;function X(me,Ee){var xe=Ee[0],De=Ee[1];return[xe*ee(me)-De*$(me),xe*$(me)+De*ee(me)]}var oe,te,fe,pe,Ae,be;function Pe(me,Ee){var xe=me.ma;xe===void 0&&(xe=Ee.marker.angle,(!xe||P.isArrayOrTypedArray(xe))&&(xe=0));var De,Ve,Ze=Ee.marker.angleref;if(Ze==="previous"||Ze==="north"){if(Ee._geo){var ke=Ee._geo.project(me.lonlat);De=ke[0],Ve=ke[1]}else{var Ye=Ee._xA,lt=Ee._yA;if(Ye&&lt)De=Ye.c2p(me.x),Ve=lt.c2p(me.y);else return 90}if(Ee._geo){var yt=me.lonlat[0],He=me.lonlat[1],Fe=Ee._geo.project([yt,He+1e-5]),nt=Ee._geo.project([yt+1e-5,He]),ot=Q(nt[1]-Ve,nt[0]-De),ct=Q(Fe[1]-Ve,Fe[0]-De),ht;if(Ze==="north")ht=xe/180*Math.PI;else if(Ze==="previous"){var mt=yt/180*Math.PI,tt=He/180*Math.PI,Re=oe/180*Math.PI,Ge=te/180*Math.PI,Je=Re-mt,Xe=ee(Ge)*$(Je),Oe=$(Ge)*ee(tt)-ee(Ge)*$(tt)*ee(Je);ht=-Q(Xe,Oe)-Math.PI,oe=yt,te=He}var Ne=X(ot,[ee(ht),0]),ze=X(ct,[$(ht),0]);xe=Q(Ne[1]+ze[1],Ne[0]+ze[0])/Math.PI*180,Ze==="previous"&&!(be===Ee.uid&&me.i===Ae+1)&&(xe=null)}if(Ze==="previous"&&!Ee._geo)if(be===Ee.uid&&me.i===Ae+1&&L(De)&&L(Ve)){var et=De-fe,Le=Ve-pe,Te=Ee.line&&Ee.line.shape||"",ye=Te.slice(Te.length-1);ye==="h"&&(Le=0),ye==="v"&&(et=0),xe+=Q(Le,et)/Math.PI*180+90}else xe=null}return fe=De,pe=Ve,Ae=me.i,be=Ee.uid,xe}d.getMarkerAngle=Pe},71984:function(V,U,e){"use strict";var x=e(21984),P=e(33428).round,i="M0,0Z",L=Math.sqrt(2),C=Math.sqrt(3),c=Math.PI,y=Math.cos,r=Math.sin;V.exports={circle:{n:0,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return w?f(h,w,o):o}},square:{n:1,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(g,h,w){if(t(h))return i;var d=P(g*1.3,2);return f(h,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(g,h,w){if(t(h))return i;var d=P(g*.4,2),o=P(g*1.2,2);return f(h,w,"M"+o+","+d+"H"+d+"V"+o+"H-"+d+"V"+d+"H-"+o+"V-"+d+"H-"+d+"V-"+o+"H"+d+"V-"+d+"H"+o+"Z")}},x:{n:4,f:function(g,h,w){if(t(h))return i;var d=P(g*.8/L,2),o="l"+d+","+d,v="l"+d+",-"+d,A="l-"+d+",-"+d,b="l-"+d+","+d;return f(h,w,"M0,"+d+o+v+A+v+A+b+A+b+o+b+o+"Z")}},"triangle-up":{n:5,f:function(g,h,w){if(t(h))return i;var d=P(g*2/C,2),o=P(g/2,2),v=P(g,2);return f(h,w,"M-"+d+","+o+"H"+d+"L0,-"+v+"Z")}},"triangle-down":{n:6,f:function(g,h,w){if(t(h))return i;var d=P(g*2/C,2),o=P(g/2,2),v=P(g,2);return f(h,w,"M-"+d+",-"+o+"H"+d+"L0,"+v+"Z")}},"triangle-left":{n:7,f:function(g,h,w){if(t(h))return i;var d=P(g*2/C,2),o=P(g/2,2),v=P(g,2);return f(h,w,"M"+o+",-"+d+"V"+d+"L-"+v+",0Z")}},"triangle-right":{n:8,f:function(g,h,w){if(t(h))return i;var d=P(g*2/C,2),o=P(g/2,2),v=P(g,2);return f(h,w,"M-"+o+",-"+d+"V"+d+"L"+v+",0Z")}},"triangle-ne":{n:9,f:function(g,h,w){if(t(h))return i;var d=P(g*.6,2),o=P(g*1.2,2);return f(h,w,"M-"+o+",-"+d+"H"+d+"V"+o+"Z")}},"triangle-se":{n:10,f:function(g,h,w){if(t(h))return i;var d=P(g*.6,2),o=P(g*1.2,2);return f(h,w,"M"+d+",-"+o+"V"+d+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(g,h,w){if(t(h))return i;var d=P(g*.6,2),o=P(g*1.2,2);return f(h,w,"M"+o+","+d+"H-"+d+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(g,h,w){if(t(h))return i;var d=P(g*.6,2),o=P(g*1.2,2);return f(h,w,"M-"+d+","+o+"V-"+d+"H"+o+"Z")}},pentagon:{n:13,f:function(g,h,w){if(t(h))return i;var d=P(g*.951,2),o=P(g*.588,2),v=P(-g,2),A=P(g*-.309,2),b=P(g*.809,2);return f(h,w,"M"+d+","+A+"L"+o+","+b+"H-"+o+"L-"+d+","+A+"L0,"+v+"Z")}},hexagon:{n:14,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o=P(g/2,2),v=P(g*C/2,2);return f(h,w,"M"+v+",-"+o+"V"+o+"L0,"+d+"L-"+v+","+o+"V-"+o+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o=P(g/2,2),v=P(g*C/2,2);return f(h,w,"M-"+o+","+v+"H"+o+"L"+d+",0L"+o+",-"+v+"H-"+o+"L-"+d+",0Z")}},octagon:{n:16,f:function(g,h,w){if(t(h))return i;var d=P(g*.924,2),o=P(g*.383,2);return f(h,w,"M-"+o+",-"+d+"H"+o+"L"+d+",-"+o+"V"+o+"L"+o+","+d+"H-"+o+"L-"+d+","+o+"V-"+o+"Z")}},star:{n:17,f:function(g,h,w){if(t(h))return i;var d=g*1.4,o=P(d*.225,2),v=P(d*.951,2),A=P(d*.363,2),b=P(d*.588,2),M=P(-d,2),m=P(d*-.309,2),S=P(d*.118,2),T=P(d*.809,2),a=P(d*.382,2);return f(h,w,"M"+o+","+m+"H"+v+"L"+A+","+S+"L"+b+","+T+"L0,"+a+"L-"+b+","+T+"L-"+A+","+S+"L-"+v+","+m+"H-"+o+"L0,"+M+"Z")}},hexagram:{n:18,f:function(g,h,w){if(t(h))return i;var d=P(g*.66,2),o=P(g*.38,2),v=P(g*.76,2);return f(h,w,"M-"+v+",0l-"+o+",-"+d+"h"+v+"l"+o+",-"+d+"l"+o+","+d+"h"+v+"l-"+o+","+d+"l"+o+","+d+"h-"+v+"l-"+o+","+d+"l-"+o+",-"+d+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(g,h,w){if(t(h))return i;var d=P(g*C*.8,2),o=P(g*.8,2),v=P(g*1.6,2),A=P(g*4,2),b="A "+A+","+A+" 0 0 1 ";return f(h,w,"M-"+d+","+o+b+d+","+o+b+"0,-"+v+b+"-"+d+","+o+"Z")}},"star-triangle-down":{n:20,f:function(g,h,w){if(t(h))return i;var d=P(g*C*.8,2),o=P(g*.8,2),v=P(g*1.6,2),A=P(g*4,2),b="A "+A+","+A+" 0 0 1 ";return f(h,w,"M"+d+",-"+o+b+"-"+d+",-"+o+b+"0,"+v+b+d+",-"+o+"Z")}},"star-square":{n:21,f:function(g,h,w){if(t(h))return i;var d=P(g*1.1,2),o=P(g*2,2),v="A "+o+","+o+" 0 0 1 ";return f(h,w,"M-"+d+",-"+d+v+"-"+d+","+d+v+d+","+d+v+d+",-"+d+v+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(g,h,w){if(t(h))return i;var d=P(g*1.4,2),o=P(g*1.9,2),v="A "+o+","+o+" 0 0 1 ";return f(h,w,"M-"+d+",0"+v+"0,"+d+v+d+",0"+v+"0,-"+d+v+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(g,h,w){if(t(h))return i;var d=P(g*.7,2),o=P(g*1.4,2);return f(h,w,"M0,"+o+"L"+d+",0L0,-"+o+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(g,h,w){if(t(h))return i;var d=P(g*1.4,2),o=P(g*.7,2);return f(h,w,"M0,"+o+"L"+d+",0L0,-"+o+"L-"+d+",0Z")}},hourglass:{n:25,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o=P(g/L,2);return f(h,w,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,h,w){if(t(h))return i;var d=P(g*1.3,2);return f(h,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,h,w){if(t(h))return i;var d=P(g*1.3,2),o=P(g*.65,2);return f(h,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,h,w){if(t(h))return i;var d=P(g*1.4,2);return f(h,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,h,w){if(t(h))return i;var d=P(g*1.2,2),o=P(g*.85,2);return f(h,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,h,w){if(t(h))return i;var d=P(g/2,2),o=P(g,2);return f(h,w,"M"+d+","+o+"V-"+o+"M"+(d-o)+",-"+o+"V"+o+"M"+o+","+d+"H-"+o+"M-"+o+","+(d-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,h,w){if(t(h))return i;var d=P(g*1.2,2),o=P(g*1.6,2),v=P(g*.8,2);return f(h,w,"M-"+d+","+v+"L0,0M"+d+","+v+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,h,w){if(t(h))return i;var d=P(g*1.2,2),o=P(g*1.6,2),v=P(g*.8,2);return f(h,w,"M-"+d+",-"+v+"L0,0M"+d+",-"+v+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,h,w){if(t(h))return i;var d=P(g*1.2,2),o=P(g*1.6,2),v=P(g*.8,2);return f(h,w,"M"+v+","+d+"L0,0M"+v+",-"+d+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,h,w){if(t(h))return i;var d=P(g*1.2,2),o=P(g*1.6,2),v=P(g*.8,2);return f(h,w,"M-"+v+","+d+"L0,0M-"+v+",-"+d+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,h,w){if(t(h))return i;var d=P(g*1.4,2);return f(h,w,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,h,w){if(t(h))return i;var d=P(g*1.4,2);return f(h,w,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,h,w){if(t(h))return i;var d=P(g,2);return f(h,w,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o=P(g*2,2);return f(h,w,"M0,0L-"+d+","+o+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o=P(g*2,2);return f(h,w,"M0,0L-"+d+",-"+o+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,h,w){if(t(h))return i;var d=P(g*2,2),o=P(g,2);return f(h,w,"M0,0L"+d+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,h,w){if(t(h))return i;var d=P(g*2,2),o=P(g,2);return f(h,w,"M0,0L-"+d+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o=P(g*2,2);return f(h,w,"M-"+d+",0H"+d+"M0,0L-"+d+","+o+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,h,w){if(t(h))return i;var d=P(g,2),o=P(g*2,2);return f(h,w,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+o+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,h,w){if(t(h))return i;var d=P(g*2,2),o=P(g,2);return f(h,w,"M0,-"+o+"V"+o+"M0,0L"+d+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,h,w){if(t(h))return i;var d=P(g*2,2),o=P(g,2);return f(h,w,"M0,-"+o+"V"+o+"M0,0L-"+d+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,h,w){if(t(h))return i;var d=c/2.5,o=2*g*y(d),v=2*g*r(d);return f(h,w,"M0,0L"+-o+","+v+"L"+o+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,h,w){if(t(h))return i;var d=c/4,o=2*g*y(d),v=2*g*r(d);return f(h,w,"M0,0L"+-o+","+v+"A "+2*g+","+2*g+" 0 0 1 "+o+","+v+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var s,n,u,l;function f(g,h,w){if((!g||g%360===0)&&!h)return w;if(u===g&&l===h&&s===w)return n;u=g,l=h,s=w;function d(R,B){var F=y(R),_=r(R),O=B[0],z=B[1]+(h||0);return[O*F-z*_,O*_+z*F]}for(var o=g/180*c,v=0,A=0,b=x(w),M="",m=0;m<b.length;m++){var S=b[m],T=S[0],a=v,E=A;if(T==="M"||T==="L")v=+S[1],A=+S[2];else if(T==="m"||T==="l")v+=+S[1],A+=+S[2];else if(T==="H")v=+S[1];else if(T==="h")v+=+S[1];else if(T==="V")A=+S[1];else if(T==="v")A+=+S[1];else if(T==="A"){v=+S[1],A=+S[2];var p=d(o,[+S[6],+S[7]]);S[6]=p[0],S[7]=p[1],S[3]=+S[3]+g}(T==="H"||T==="V")&&(T="L"),(T==="h"||T==="v")&&(T="l"),(T==="m"||T==="l")&&(v-=a,A-=E);var k=d(o,[v,A]);(T==="H"||T==="V")&&(T="L"),(T==="M"||T==="L"||T==="m"||T==="l")&&(S[1]=k[0],S[2]=k[1]),S[0]=T,M+=S[0]+S.slice(1).join(",")}return n=M,M}},97644:function(V){"use strict";V.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(V,U,e){"use strict";var x=e(38248),P=e(24040),i=e(54460),L=e(3400),C=e(93792);V.exports=function(r){for(var t=r.calcdata,s=0;s<t.length;s++){var n=t[s],u=n[0].trace;if(u.visible===!0&&P.traceIs(u,"errorBarsOK")){var l=i.getFromId(r,u.xaxis),f=i.getFromId(r,u.yaxis);c(n,u,l,"x"),c(n,u,f,"y")}}};function c(y,r,t,s){var n=r["error_"+s]||{},u=n.visible&&["linear","log"].indexOf(t.type)!==-1,l=[];if(u){for(var f=C(n),g=0;g<y.length;g++){var h=y[g],w=h.i;if(w===void 0)w=g;else if(w===null)continue;var d=h[s];if(x(t.c2l(d))){var o=f(d,w);if(x(o[0])&&x(o[1])){var v=h[s+"s"]=d-o[0],A=h[s+"h"]=d+o[1];l.push(v,A)}}}var b=t._id,M=r._extremes[b],m=i.findExtremes(t,l,L.extendFlat({tozero:M.opts.tozero},{padded:!0}));M.min=M.min.concat(m.min),M.max=M.max.concat(m.max)}}},93792:function(V){"use strict";V.exports=function(x){var P=x.type,i=x.symmetric;if(P==="data"){var L=x.array||[];if(i)return function(t,s){var n=+L[s];return[n,n]};var C=x.arrayminus||[];return function(t,s){var n=+L[s],u=+C[s];return!isNaN(n)||!isNaN(u)?[u||0,n||0]:[NaN,NaN]}}else{var c=U(P,x.value),y=U(P,x.valueminus);return i||x.valueminus===void 0?function(t){var s=c(t);return[s,s]}:function(t){return[y(t),c(t)]}}};function U(e,x){if(e==="percent")return function(P){return Math.abs(P*x/100)};if(e==="constant")return function(){return Math.abs(x)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},65200:function(V,U,e){"use strict";var x=e(38248),P=e(24040),i=e(3400),L=e(31780),C=e(97644);V.exports=function(c,y,r,t){var s="error_"+t.axis,n=L.newContainer(y,s),u=c[s]||{};function l(v,A){return i.coerce(u,n,C,v,A)}var f=u.array!==void 0||u.value!==void 0||u.type==="sqrt",g=l("visible",f);if(g!==!1){var h=l("type","array"in u?"data":"percent"),w=!0;h!=="sqrt"&&(w=l("symmetric",!((h==="data"?"arrayminus":"valueminus")in u))),h==="data"?(l("array"),l("traceref"),w||(l("arrayminus"),l("tracerefminus"))):(h==="percent"||h==="constant")&&(l("value"),w||l("valueminus"));var d="copy_"+t.inherit+"style";if(t.inherit){var o=y["error_"+t.inherit];(o||{}).visible&&l(d,!(u.color||x(u.thickness)||x(u.width)))}(!t.inherit||!n[d])&&(l("color",r),l("thickness"),l("width",P.traceIs(y,"gl3d")?0:4))}}},64968:function(V,U,e){"use strict";var x=e(3400),P=e(67824).overrideAll,i=e(97644),L={error_x:x.extendFlat({},i),error_y:x.extendFlat({},i)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var C={error_x:x.extendFlat({},i),error_y:x.extendFlat({},i),error_z:x.extendFlat({},i)};delete C.error_x.copy_ystyle,delete C.error_y.copy_ystyle,delete C.error_z.copy_ystyle,delete C.error_z.copy_zstyle,V.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(C,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:c};function c(y,r,t){(r.error_y||{}).visible&&(t.yerr=y.yh-y.y,r.error_y.symmetric||(t.yerrneg=y.y-y.ys)),(r.error_x||{}).visible&&(t.xerr=y.xh-y.x,r.error_x.symmetric||(t.xerrneg=y.x-y.xs))}},78512:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(43616),L=e(43028);V.exports=function(y,r,t,s){var n,u=t.xaxis,l=t.yaxis,f=s&&s.duration>0,g=y._context.staticPlot;r.each(function(h){var w=h[0].trace,d=w.error_x||{},o=w.error_y||{},v;w.ids&&(v=function(m){return m.id});var A=L.hasMarkers(w)&&w.marker.maxdisplayed>0;!o.visible&&!d.visible&&(h=[]);var b=x.select(this).selectAll("g.errorbar").data(h,v);if(b.exit().remove(),!!h.length){d.visible||b.selectAll("path.xerror").remove(),o.visible||b.selectAll("path.yerror").remove(),b.style("opacity",1);var M=b.enter().append("g").classed("errorbar",!0);f&&M.style("opacity",0).transition().duration(s.duration).style("opacity",1),i.setClipUrl(b,t.layerClipId,y),b.each(function(m){var S=x.select(this),T=C(m,u,l);if(!(A&&!m.vis)){var a,E=S.select("path.yerror");if(o.visible&&P(T.x)&&P(T.yh)&&P(T.ys)){var p=o.width;a="M"+(T.x-p)+","+T.yh+"h"+2*p+"m-"+p+",0V"+T.ys,T.noYS||(a+="m-"+p+",0h"+2*p),n=!E.size(),n?E=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0):f&&(E=E.transition().duration(s.duration).ease(s.easing)),E.attr("d",a)}else E.remove();var k=S.select("path.xerror");if(d.visible&&P(T.y)&&P(T.xh)&&P(T.xs)){var R=(d.copy_ystyle?o:d).width;a="M"+T.xh+","+(T.y-R)+"v"+2*R+"m0,-"+R+"H"+T.xs,T.noXS||(a+="m0,-"+R+"v"+2*R),n=!k.size(),n?k=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0):f&&(k=k.transition().duration(s.duration).ease(s.easing)),k.attr("d",a)}else k.remove()}})}})};function C(c,y,r){var t={x:y.c2p(c.x),y:r.c2p(c.y)};return c.yh!==void 0&&(t.yh=r.c2p(c.yh),t.ys=r.c2p(c.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(c.ys,!0))),c.xh!==void 0&&(t.xh=y.c2p(c.xh),t.xs=y.c2p(c.xs),P(t.xs)||(t.noXS=!0,t.xs=y.c2p(c.xs,!0))),t}},92036:function(V,U,e){"use strict";var x=e(33428),P=e(76308);V.exports=function(L){L.each(function(C){var c=C[0].trace,y=c.error_y||{},r=c.error_x||{},t=x.select(this);t.selectAll("path.yerror").style("stroke-width",y.thickness+"px").call(P.stroke,y.color),r.copy_ystyle&&(r=y),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},55756:function(V,U,e){"use strict";var x=e(25376),P=e(65460).hoverlabel,i=e(92880).extendFlat;V.exports={hoverlabel:{bgcolor:i({},P.bgcolor,{arrayOk:!0}),bordercolor:i({},P.bordercolor,{arrayOk:!0}),font:x({arrayOk:!0,editType:"none"}),align:i({},P.align,{arrayOk:!0}),namelength:i({},P.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(V,U,e){"use strict";var x=e(3400),P=e(24040);V.exports=function(C){var c=C.calcdata,y=C._fullLayout;function r(l){return function(f){return x.coerceHoverinfo({hoverinfo:f},{_module:l._module},y)}}for(var t=0;t<c.length;t++){var s=c[t],n=s[0].trace;if(!P.traceIs(n,"pie-like")){var u=P.traceIs(n,"2dMap")?i:x.fillArray;u(n.hoverinfo,s,"hi",r(n)),n.hovertemplate&&u(n.hovertemplate,s,"ht"),n.hoverlabel&&(u(n.hoverlabel.bgcolor,s,"hbg"),u(n.hoverlabel.bordercolor,s,"hbc"),u(n.hoverlabel.font.size,s,"hts"),u(n.hoverlabel.font.color,s,"htc"),u(n.hoverlabel.font.family,s,"htf"),u(n.hoverlabel.namelength,s,"hnl"),u(n.hoverlabel.align,s,"hta"))}}};function i(L,C,c,y){y=y||x.identity,Array.isArray(L)&&(C[0][c]=y(L))}},62376:function(V,U,e){"use strict";var x=e(24040),P=e(83292).hover;V.exports=function(L,C,c){var y=x.getComponentMethod("annotations","onClick")(L,L._hoverdata);c!==void 0&&P(L,C,c,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:C})}L._hoverdata&&C&&C.target&&(y&&y.then?y.then(r):r(),C.stopImmediatePropagation&&C.stopImmediatePropagation())}},92456:function(V){"use strict";V.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(V,U,e){"use strict";var x=e(3400),P=e(55756),i=e(16132);V.exports=function(C,c,y,r){function t(n,u){return x.coerce(C,c,P,n,u)}var s=x.extendFlat({},r.hoverlabel);c.hovertemplate&&(s.namelength=-1),i(C,c,t,s)}},10624:function(V,U,e){"use strict";var x=e(3400);U.getSubplot=function(y){return y.subplot||y.xaxis+y.yaxis||y.geo},U.isTraceInSubplots=function(y,r){if(y.type==="splom"){for(var t=y.xaxes||[],s=y.yaxes||[],n=0;n<t.length;n++)for(var u=0;u<s.length;u++)if(r.indexOf(t[n]+s[u])!==-1)return!0;return!1}return r.indexOf(U.getSubplot(y))!==-1},U.flat=function(y,r){for(var t=new Array(y.length),s=0;s<y.length;s++)t[s]=r;return t},U.p2c=function(y,r){for(var t=new Array(y.length),s=0;s<y.length;s++)t[s]=y[s].p2c(r);return t},U.getDistanceFunction=function(y,r,t,s){return y==="closest"?s||U.quadrature(r,t):y.charAt(0)==="x"?r:t},U.getClosest=function(y,r,t){if(t.index!==!1)t.index>=0&&t.index<y.length?t.distance=0:t.index=!1;else for(var s=0;s<y.length;s++){var n=r(y[s]);n<=t.distance&&(t.index=s,t.distance=n)}return t},U.inbox=function(y,r,t){return y*r<0||y===0?t:1/0},U.quadrature=function(y,r){return function(t){var s=y(t),n=r(t);return Math.sqrt(s*s+n*n)}},U.makeEventData=function(y,r,t){var s="index"in y?y.index:y.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:s};if(r._indexToPoints){var u=r._indexToPoints[s];u.length===1?n.pointIndex=u[0]:n.pointIndices=u}else n.pointIndex=s;return r._module.eventData?n=r._module.eventData(n,y,r,t,s):("xVal"in y?n.x=y.xVal:"x"in y&&(n.x=y.x),"yVal"in y?n.y=y.yVal:"y"in y&&(n.y=y.y),y.xa&&(n.xaxis=y.xa),y.ya&&(n.yaxis=y.ya),y.zLabelVal!==void 0&&(n.z=y.zLabelVal)),U.appendArrayPointValue(n,r,s),n},U.appendArrayPointValue=function(y,r,t){var s=r._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var u=s[n],l=i(u);if(y[l]===void 0){var f=x.nestedProperty(r,u).get(),g=L(f,t);g!==void 0&&(y[l]=g)}}},U.appendArrayMultiPointValues=function(y,r,t){var s=r._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var u=s[n],l=i(u);if(y[l]===void 0){for(var f=x.nestedProperty(r,u).get(),g=new Array(t.length),h=0;h<t.length;h++)g[h]=L(f,t[h]);y[l]=g}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(y){return P[y]||y}function L(y,r){if(Array.isArray(r)){if(Array.isArray(y)&&Array.isArray(y[r[0]]))return y[r[0]][r[1]]}else return y[r]}var C={x:!0,y:!0},c={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(y){return typeof y!="string"?!1:!!c[y]},U.isXYhover=function(y){return typeof y!="string"?!1:!!C[y]}},83292:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(49760),L=e(3400),C=L.pushUnique,c=L.strTranslate,y=L.strRotate,r=e(95924),t=e(72736),s=e(72213),n=e(43616),u=e(76308),l=e(86476),f=e(54460),g=e(24040),h=e(10624),w=e(92456),d=e(77864),o=e(31140),v=w.YANGLE,A=Math.PI*v/180,b=1/Math.sin(A),M=Math.cos(A),m=Math.sin(A),S=w.HOVERARROWSIZE,T=w.HOVERTEXTPAD,a={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};U.hover=function($,X,oe,te){$=L.getGraphDiv($);var fe=X.target;L.throttle($._fullLayout._uid+w.HOVERID,w.HOVERMINTIME,function(){p($,X,oe,te,fe)})},U.loneHover=function($,X){var oe=!0;Array.isArray($)||(oe=!1,$=[$]);var te=X.gd,fe=ie(te),pe=W(te),Ae=$.map(function(ke){var Ye=ke._x0||ke.x0||ke.x||0,lt=ke._x1||ke.x1||ke.x||0,yt=ke._y0||ke.y0||ke.y||0,He=ke._y1||ke.y1||ke.y||0,Fe=ke.eventData;if(Fe){var nt=Math.min(Ye,lt),ot=Math.max(Ye,lt),ct=Math.min(yt,He),ht=Math.max(yt,He),mt=ke.trace;if(g.traceIs(mt,"gl3d")){var tt=te._fullLayout[mt.scene]._scene.container,Re=tt.offsetLeft,Ge=tt.offsetTop;nt+=Re,ot+=Re,ct+=Ge,ht+=Ge}Fe.bbox={x0:nt+pe,x1:ot+pe,y0:ct+fe,y1:ht+fe},X.inOut_bbox&&X.inOut_bbox.push(Fe.bbox)}else Fe=!1;return{color:ke.color||u.defaultLine,x0:ke.x0||ke.x||0,x1:ke.x1||ke.x||0,y0:ke.y0||ke.y||0,y1:ke.y1||ke.y||0,xLabel:ke.xLabel,yLabel:ke.yLabel,zLabel:ke.zLabel,text:ke.text,name:ke.name,idealAlign:ke.idealAlign,borderColor:ke.borderColor,fontFamily:ke.fontFamily,fontSize:ke.fontSize,fontColor:ke.fontColor,nameLength:ke.nameLength,textAlign:ke.textAlign,trace:ke.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ke.hovertemplate||!1,hovertemplateLabels:ke.hovertemplateLabels||!1,eventData:Fe}}),be=!1,Pe=B(Ae,{gd:te,hovermode:"closest",rotateLabels:be,bgColor:X.bgColor||u.background,container:x.select(X.container),outerContainer:X.outerContainer||X.container}),me=Pe.hoverLabels,Ee=5,xe=0,De=0;me.sort(function(ke,Ye){return ke.y0-Ye.y0}).each(function(ke,Ye){var lt=ke.y0-ke.by/2;lt-Ee<xe?ke.offset=xe-lt+Ee:ke.offset=0,xe=lt+ke.by+ke.offset,Ye===X.anchorIndex&&(De=ke.offset)}).each(function(ke){ke.offset-=De});var Ve=te._fullLayout._invScaleX,Ze=te._fullLayout._invScaleY;return N(me,be,Ve,Ze),oe?me:me.node()};function p(ee,$,X,oe,te){X||(X="xy");var fe=Array.isArray(X)?X:[X],pe,Ae=ee._fullLayout,be=Ae.hoversubplots,Pe=Ae._plots||[],me=Pe[X],Ee=Ae._has("cartesian"),xe=$.hovermode||Ae.hovermode,De=(xe||"").charAt(0)==="x",Ve=(xe||"").charAt(0)==="y";if(Ee&&(De||Ve)&&be==="axis"){for(var Ze=fe.length,ke=0;ke<Ze;ke++)if(pe=fe[ke],Pe[pe]){var Ye=f.getFromId(ee,pe,De?"x":"y")._subplotsWith;if(Ye&&Ye.length)for(var lt=0;lt<Ye.length;lt++)C(fe,Ye[lt])}}if(me&&be!=="single"){var yt=me.overlays.map(function(Un){return Un.id});fe=fe.concat(yt)}for(var He=fe.length,Fe=new Array(He),nt=new Array(He),ot=!1,ct=0;ct<He;ct++)if(pe=fe[ct],Pe[pe])ot=!0,Fe[ct]=Pe[pe].xaxis,nt[ct]=Pe[pe].yaxis;else if(Ae[pe]&&Ae[pe]._subplot){var ht=Ae[pe]._subplot;Fe[ct]=ht.xaxis,nt[ct]=ht.yaxis}else{L.warn("Unrecognized subplot: "+pe);return}if(xe&&!ot&&(xe="closest"),["x","y","closest","x unified","y unified"].indexOf(xe)===-1||!ee.calcdata||ee.querySelector(".zoombox")||ee._dragging)return l.unhoverRaw(ee,$);var mt=Ae.hoverdistance;mt===-1&&(mt=1/0);var tt=Ae.spikedistance;tt===-1&&(tt=1/0);var Re=[],Ge=[],Je,Xe,Oe,Ne,ze,et,Le,Te,ye,Se,Ke,rt,Lt,It={hLinePoint:null,vLinePoint:null},wt=!1;if(Array.isArray($))for(xe="array",Oe=0;Oe<$.length;Oe++)ze=ee.calcdata[$[Oe].curveNumber||0],ze&&(et=ze[0].trace,ze[0].trace.hoverinfo!=="skip"&&(Ge.push(ze),et.orientation==="h"&&(wt=!0)));else{var Et=ee.calcdata.slice();for(Et.sort(function(Un,ra){var Jn=Un[0].trace.zorder||0,ea=ra[0].trace.zorder||0;return Jn-ea}),Ne=0;Ne<Et.length;Ne++)ze=Et[Ne],et=ze[0].trace,et.hoverinfo!=="skip"&&h.isTraceInSubplots(et,fe)&&(Ge.push(ze),et.orientation==="h"&&(wt=!0));var Wt=!te,vr,dt;if(Wt)"xpx"in $?vr=$.xpx:vr=Fe[0]._length/2,"ypx"in $?dt=$.ypx:dt=nt[0]._length/2;else{if(r.triggerHandler(ee,"plotly_beforehover",$)===!1)return;var Yt=te.getBoundingClientRect();vr=$.clientX-Yt.left,dt=$.clientY-Yt.top,Ae._calcInverseTransform(ee);var jt=L.apply3DTransform(Ae._invTransform)(vr,dt);if(vr=jt[0],dt=jt[1],vr<0||vr>Fe[0]._length||dt<0||dt>nt[0]._length)return l.unhoverRaw(ee,$)}if($.pointerX=vr+Fe[0]._offset,$.pointerY=dt+nt[0]._offset,"xval"in $?Je=h.flat(fe,$.xval):Je=h.p2c(Fe,vr),"yval"in $?Xe=h.flat(fe,$.yval):Xe=h.p2c(nt,dt),!P(Je[0])||!P(Xe[0]))return L.warn("Fx.hover failed",$,ee),l.unhoverRaw(ee,$)}var gr=1/0;function sr(Un,ra){for(Ne=0;Ne<Ge.length;Ne++)if(ze=Ge[Ne],!(!ze||!ze[0]||!ze[0].trace)&&(et=ze[0].trace,!(et.visible!==!0||et._length===0)&&["carpet","contourcarpet"].indexOf(et._module.name)===-1)){if(ye=xe,h.isUnifiedHover(ye)&&(ye=ye.charAt(0)),et.type==="splom"?(Te=0,Le=fe[Te]):(Le=h.getSubplot(et),Te=fe.indexOf(Le)),rt={cd:ze,trace:et,xa:Fe[Te],ya:nt[Te],maxHoverDistance:mt,maxSpikeDistance:tt,index:!1,distance:Math.min(gr,mt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:et.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ae[Le]&&(rt.subplot=Ae[Le]._subplot),Ae._splomScenes&&Ae._splomScenes[et.uid]&&(rt.scene=Ae._splomScenes[et.uid]),ye==="array"){var Jn=$[Ne];"pointNumber"in Jn?(rt.index=Jn.pointNumber,ye="closest"):(ye="","xval"in Jn&&(Se=Jn.xval,ye="x"),"yval"in Jn&&(Ke=Jn.yval,ye=ye?"closest":"y"))}else Un!==void 0&&ra!==void 0?(Se=Un,Ke=ra):(Se=Je[Te],Ke=Xe[Te]);if(Lt=Re.length,mt!==0)if(et._module&&et._module.hoverPoints){var ea=et._module.hoverPoints(rt,Se,Ke,ye,{finiteRange:!0,hoverLayer:Ae._hoverlayer,hoversubplots:be,gd:ee});if(ea)for(var pr,Jr=0;Jr<ea.length;Jr++)pr=ea[Jr],P(pr.x0)&&P(pr.y0)&&Re.push(Y(pr,xe))}else L.log("Unrecognized trace type in hover:",et);if(xe==="closest"&&Re.length>Lt&&(Re.splice(0,Lt),gr=Re[0].distance),Ee&&tt!==0&&Re.length===0){rt.distance=tt,rt.index=!1;var Xr=et._module.hoverPoints(rt,Se,Ke,"closest",{hoverLayer:Ae._hoverlayer});if(Xr&&(Xr=Xr.filter(function(Wn){return Wn.spikeDistance<=tt})),Xr&&Xr.length){var vn,Bn=Xr.filter(function(Wn){return Wn.xa.showspikes&&Wn.xa.spikesnap!=="hovered data"});if(Bn.length){var Tn=Bn[0];P(Tn.x0)&&P(Tn.y0)&&(vn=st(Tn),(!It.vLinePoint||It.vLinePoint.spikeDistance>vn.spikeDistance)&&(It.vLinePoint=vn))}var Mn=Xr.filter(function(Wn){return Wn.ya.showspikes&&Wn.ya.spikesnap!=="hovered data"});if(Mn.length){var On=Mn[0];P(On.x0)&&P(On.y0)&&(vn=st(On),(!It.hLinePoint||It.hLinePoint.spikeDistance>vn.spikeDistance)&&(It.hLinePoint=vn))}}}}}sr();function gt(Un,ra,Jn){for(var ea=null,pr=1/0,Jr,Xr=0;Xr<Un.length;Xr++)Jr=Un[Xr].spikeDistance,Jn&&Xr===0&&(Jr=-1/0),Jr<=pr&&Jr<=ra&&(ea=Un[Xr],pr=Jr);return ea}function st(Un){return Un?{xa:Un.xa,ya:Un.ya,x:Un.xSpike!==void 0?Un.xSpike:(Un.x0+Un.x1)/2,y:Un.ySpike!==void 0?Un.ySpike:(Un.y0+Un.y1)/2,distance:Un.distance,spikeDistance:Un.spikeDistance,curveNumber:Un.trace.index,color:Un.color,pointNumber:Un.index}:null}var xt={fullLayout:Ae,container:Ae._hoverlayer,event:$},Mt=ee._spikepoints,Rt={vLinePoint:It.vLinePoint,hLinePoint:It.hLinePoint};ee._spikepoints=Rt;var Vt=function(){be!=="axis"&&Re.sort(function(Un,ra){return Un.distance-ra.distance}),Re=K(Re,xe)};Vt();var Ct=xe.charAt(0),Bt=(Ct==="x"||Ct==="y")&&Re[0]&&E[Re[0].trace.type];if(Ee&&tt!==0&&Re.length!==0){var Xt=Re.filter(function(Un){return Un.ya.showspikes}),ir=gt(Xt,tt,Bt);It.hLinePoint=st(ir);var or=Re.filter(function(Un){return Un.xa.showspikes}),cr=gt(or,tt,Bt);It.vLinePoint=st(cr)}if(Re.length===0){var We=l.unhoverRaw(ee,$);return Ee&&(It.hLinePoint!==null||It.vLinePoint!==null)&&se(Mt)&&J(ee,It,xt),We}if(Ee&&se(Mt)&&J(ee,It,xt),h.isXYhover(ye)&&Re[0].length!==0&&Re[0].trace.type!=="splom"){var Ue=Re[0];a[Ue.trace.type]?Re=Re.filter(function(Un){return Un.trace.index===Ue.trace.index}):Re=[Ue];var Ft=Re.length,kt=j("x",Ue,Ae),Zt=j("y",Ue,Ae);sr(kt,Zt);var rr=[],lr={},qt=0,Ot=function(Un){var ra=a[Un.trace.type]?k(Un):Un.trace.index;if(!lr[ra])qt++,lr[ra]=qt,rr.push(Un);else{var Jn=lr[ra]-1,ea=rr[Jn];Jn>0&&Math.abs(Un.distance)<Math.abs(ea.distance)&&(rr[Jn]=Un)}},tr;for(tr=0;tr<Ft;tr++)Ot(Re[tr]);for(tr=Re.length-1;tr>Ft-1;tr--)Ot(Re[tr]);Re=rr,Vt()}var dr=ee._hoverdata,mr=[],Cr=ie(ee),$r=W(ee);for(Oe=0;Oe<Re.length;Oe++){var yr=Re[Oe],Gr=h.makeEventData(yr,yr.trace,yr.cd);if(yr.hovertemplate!==!1){var rn=!1;yr.cd[yr.index]&&yr.cd[yr.index].ht&&(rn=yr.cd[yr.index].ht),yr.hovertemplate=rn||yr.trace.hovertemplate||!1}if(yr.xa&&yr.ya){var _r=yr.x0+yr.xa._offset,bn=yr.x1+yr.xa._offset,xn=yr.y0+yr.ya._offset,fr=yr.y1+yr.ya._offset,Dr=Math.min(_r,bn),Nr=Math.max(_r,bn),Ur=Math.min(xn,fr),on=Math.max(xn,fr);Gr.bbox={x0:Dr+$r,x1:Nr+$r,y0:Ur+Cr,y1:on+Cr}}yr.eventData=[Gr],mr.push(Gr)}ee._hoverdata=mr;var gn=xe==="y"&&(Ge.length>1||Re.length>1)||xe==="closest"&&wt&&Re.length>1,yn=u.combine(Ae.plot_bgcolor||u.background,Ae.paper_bgcolor),Pn=B(Re,{gd:ee,hovermode:xe,rotateLabels:gn,bgColor:yn,container:Ae._hoverlayer,outerContainer:Ae._paper.node(),commonLabelOpts:Ae.hoverlabel,hoverdistance:Ae.hoverdistance}),zn=Pn.hoverLabels;if(h.isUnifiedHover(xe)||(_(zn,gn,Ae,Pn.commonLabelBoundingBox),N(zn,gn,Ae._invScaleX,Ae._invScaleY)),te&&te.tagName){var ta=g.getComponentMethod("annotations","hasClickToShow")(ee,mr);s(x.select(te),ta?"pointer":"")}!te||oe||!ae(ee,$,dr)||(dr&&ee.emit("plotly_unhover",{event:$,points:dr}),ee.emit("plotly_hover",{event:$,points:ee._hoverdata,xaxes:Fe,yaxes:nt,xvals:Je,yvals:Xe}))}function k(ee){return[ee.trace.index,ee.index,ee.x0,ee.y0,ee.name,ee.attr,ee.xa?ee.xa._id:"",ee.ya?ee.ya._id:""].join(",")}var R=/<extra>([\s\S]*)<\/extra>/;function B(ee,$){var X=$.gd,oe=X._fullLayout,te=$.hovermode,fe=$.rotateLabels,pe=$.bgColor,Ae=$.container,be=$.outerContainer,Pe=$.commonLabelOpts||{};if(ee.length===0)return[[]];var me=$.fontFamily||w.HOVERFONT,Ee=$.fontSize||w.HOVERFONTSIZE,xe=ee[0],De=xe.xa,Ve=xe.ya,Ze=te.charAt(0),ke=Ze+"Label",Ye=xe[ke];if(Ye===void 0&&De.type==="multicategory")for(var lt=0;lt<ee.length&&(Ye=ee[lt][ke],Ye===void 0);lt++);var yt=Q(X,be),He=yt.top,Fe=yt.width,nt=yt.height,ot=Ye!==void 0&&xe.distance<=$.hoverdistance&&(te==="x"||te==="y");if(ot){var ct=!0,ht,mt;for(ht=0;ht<ee.length;ht++)if(ct&&ee[ht].zLabel===void 0&&(ct=!1),mt=ee[ht].hoverinfo||ee[ht].trace.hoverinfo,mt){var tt=Array.isArray(mt)?mt:mt.split("+");if(tt.indexOf("all")===-1&&tt.indexOf(te)===-1){ot=!1;break}}ct&&(ot=!1)}var Re=Ae.selectAll("g.axistext").data(ot?[0]:[]);Re.enter().append("g").classed("axistext",!0),Re.exit().remove();var Ge={minX:0,maxX:0,minY:0,maxY:0};if(Re.each(function(){var Ct=x.select(this),Bt=L.ensureSingle(Ct,"path","",function(rn){rn.style({"stroke-width":"1px"})}),Xt=L.ensureSingle(Ct,"text","",function(rn){rn.attr("data-notex",1)}),ir=Pe.bgcolor||u.defaultLine,or=Pe.bordercolor||u.contrast(ir),cr=u.contrast(ir),We={family:Pe.font.family||me,size:Pe.font.size||Ee,color:Pe.font.color||cr};Bt.style({fill:ir,stroke:or}),Xt.text(Ye).call(n.font,We).call(t.positionText,0,0).call(t.convertToTspans,X),Ct.attr("transform","");var Ue=Q(X,Xt.node()),Ft,kt;if(te==="x"){var Zt=De.side==="top"?"-":"";Xt.attr("text-anchor","middle").call(t.positionText,0,De.side==="top"?He-Ue.bottom-S-T:He-Ue.top+S+T),Ft=De._offset+(xe.x0+xe.x1)/2,kt=Ve._offset+(De.side==="top"?0:Ve._length);var rr=Ue.width/2+T,lr=Ft;Ft<rr?lr=rr:Ft>oe.width-rr&&(lr=oe.width-rr),Bt.attr("d","M"+(Ft-lr)+",0L"+(Ft-lr+S)+","+Zt+S+"H"+rr+"v"+Zt+(T*2+Ue.height)+"H"+-rr+"V"+Zt+S+"H"+(Ft-lr-S)+"Z"),Ft=lr,Ge.minX=Ft-rr,Ge.maxX=Ft+rr,De.side==="top"?(Ge.minY=kt-(T*2+Ue.height),Ge.maxY=kt-T):(Ge.minY=kt+T,Ge.maxY=kt+(T*2+Ue.height))}else{var qt,Ot,tr;Ve.side==="right"?(qt="start",Ot=1,tr="",Ft=De._offset+De._length):(qt="end",Ot=-1,tr="-",Ft=De._offset),kt=Ve._offset+(xe.y0+xe.y1)/2,Xt.attr("text-anchor",qt),Bt.attr("d","M0,0L"+tr+S+","+S+"V"+(T+Ue.height/2)+"h"+tr+(T*2+Ue.width)+"V-"+(T+Ue.height/2)+"H"+tr+S+"V-"+S+"Z"),Ge.minY=kt-(T+Ue.height/2),Ge.maxY=kt+(T+Ue.height/2),Ve.side==="right"?(Ge.minX=Ft+S,Ge.maxX=Ft+S+(T*2+Ue.width)):(Ge.minX=Ft-S-(T*2+Ue.width),Ge.maxX=Ft-S);var dr=Ue.height/2,mr=He-Ue.top-dr,Cr="clip"+oe._uid+"commonlabel"+Ve._id,$r;if(Ft<Ue.width+2*T+S){$r="M-"+(S+T)+"-"+dr+"h-"+(Ue.width-T)+"V"+dr+"h"+(Ue.width-T)+"Z";var yr=Ue.width-Ft+T;t.positionText(Xt,yr,mr),qt==="end"&&Xt.selectAll("tspan").each(function(){var rn=x.select(this),_r=n.tester.append("text").text(rn.text()).call(n.font,We),bn=Q(X,_r.node());Math.round(bn.width)<Math.round(Ue.width)&&rn.attr("x",yr-bn.width),_r.remove()})}else t.positionText(Xt,Ot*(T+S),mr),$r=null;var Gr=oe._topclips.selectAll("#"+Cr).data($r?[0]:[]);Gr.enter().append("clipPath").attr("id",Cr).append("path"),Gr.exit().remove(),Gr.select("path").attr("d",$r),n.setClipUrl(Xt,$r?Cr:null,X)}Ct.attr("transform",c(Ft,kt))}),h.isUnifiedHover(te)){Ae.selectAll("g.hovertext").remove();var Je=ee.filter(function(Ct){return Ct.hoverinfo!=="none"});if(Je.length===0)return[];var Xe=oe.hoverlabel,Oe=Xe.font,Ne={showlegend:!0,legend:{title:{text:Ye,font:Oe},font:Oe,bgcolor:Xe.bgcolor,bordercolor:Xe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:oe.legend?oe.legend.traceorder:void 0,orientation:"v"}},ze={font:Oe};d(Ne,ze,X._fullData);var et=ze.legend;et.entries=[];for(var Le=0;Le<Je.length;Le++){var Te=Je[Le];if(Te.hoverinfo!=="none"){var ye=F(Te,!0,te,oe,Ye),Se=ye[0],Ke=ye[1];Te.name=Ke,Ke!==""?Te.text=Ke+" : "+Se:Te.text=Se;var rt=Te.cd[Te.index];rt&&(rt.mc&&(Te.mc=rt.mc),rt.mcc&&(Te.mc=rt.mcc),rt.mlc&&(Te.mlc=rt.mlc),rt.mlcc&&(Te.mlc=rt.mlcc),rt.mlw&&(Te.mlw=rt.mlw),rt.mrc&&(Te.mrc=rt.mrc),rt.dir&&(Te.dir=rt.dir)),Te._distinct=!0,et.entries.push([Te])}}et.entries.sort(function(Ct,Bt){return Ct[0].trace.index-Bt[0].trace.index}),et.layer=Ae,et._inHover=!0,et._groupTitleFont=Xe.grouptitlefont,o(X,et);var Lt=Ae.select("g.legend"),It=Q(X,Lt.node()),wt=It.width+2*T,Et=It.height+2*T,Wt=Je[0],vr=(Wt.x0+Wt.x1)/2,dt=(Wt.y0+Wt.y1)/2,Yt=!(g.traceIs(Wt.trace,"bar-like")||g.traceIs(Wt.trace,"box-violin")),jt,gr;Ze==="y"?Yt?(gr=dt-T,jt=dt+T):(gr=Math.min.apply(null,Je.map(function(Ct){return Math.min(Ct.y0,Ct.y1)})),jt=Math.max.apply(null,Je.map(function(Ct){return Math.max(Ct.y0,Ct.y1)}))):gr=jt=L.mean(Je.map(function(Ct){return(Ct.y0+Ct.y1)/2}))-Et/2;var sr,gt;Ze==="x"?Yt?(sr=vr+T,gt=vr-T):(sr=Math.max.apply(null,Je.map(function(Ct){return Math.max(Ct.x0,Ct.x1)})),gt=Math.min.apply(null,Je.map(function(Ct){return Math.min(Ct.x0,Ct.x1)}))):sr=gt=L.mean(Je.map(function(Ct){return(Ct.x0+Ct.x1)/2}))-wt/2;var st=De._offset,xt=Ve._offset;jt+=xt,sr+=st,gt+=st-wt,gr+=xt-Et;var Mt,Rt;return sr+wt<Fe&&sr>=0?Mt=sr:gt+wt<Fe&&gt>=0?Mt=gt:st+wt<Fe?Mt=st:sr-vr<vr-gt+wt?Mt=Fe-wt:Mt=0,Mt+=T,jt+Et<nt&&jt>=0?Rt=jt:gr+Et<nt&&gr>=0?Rt=gr:xt+Et<nt?Rt=xt:jt-dt<dt-gr+Et?Rt=nt-Et:Rt=0,Rt+=T,Lt.attr("transform",c(Mt-1,Rt-1)),Lt}var Vt=Ae.selectAll("g.hovertext").data(ee,function(Ct){return k(Ct)});return Vt.enter().append("g").classed("hovertext",!0).each(function(){var Ct=x.select(this);Ct.append("rect").call(u.fill,u.addOpacity(pe,.8)),Ct.append("text").classed("name",!0),Ct.append("path").style("stroke-width","1px"),Ct.append("text").classed("nums",!0).call(n.font,me,Ee)}),Vt.exit().remove(),Vt.each(function(Ct){var Bt=x.select(this).attr("transform",""),Xt=Ct.color;Array.isArray(Xt)&&(Xt=Xt[Ct.eventData[0].pointNumber]);var ir=Ct.bgcolor||Xt,or=u.combine(u.opacity(ir)?ir:u.defaultLine,pe),cr=u.combine(u.opacity(Xt)?Xt:u.defaultLine,pe),We=Ct.borderColor||u.contrast(or),Ue=F(Ct,ot,te,oe,Ye,Bt),Ft=Ue[0],kt=Ue[1],Zt=Bt.select("text.nums").call(n.font,Ct.fontFamily||me,Ct.fontSize||Ee,Ct.fontColor||We).text(Ft).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,X),rr=Bt.select("text.name"),lr=0,qt=0;if(kt&&kt!==Ft){rr.call(n.font,Ct.fontFamily||me,Ct.fontSize||Ee,cr).text(kt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,X);var Ot=Q(X,rr.node());lr=Ot.width+2*T,qt=Ot.height+2*T}else rr.remove(),Bt.select("rect").remove();Bt.select("path").style({fill:or,stroke:We});var tr=Ct.xa._offset+(Ct.x0+Ct.x1)/2,dr=Ct.ya._offset+(Ct.y0+Ct.y1)/2,mr=Math.abs(Ct.x1-Ct.x0),Cr=Math.abs(Ct.y1-Ct.y0),$r=Q(X,Zt.node()),yr=$r.width/oe._invScaleX,Gr=$r.height/oe._invScaleY;Ct.ty0=(He-$r.top)/oe._invScaleY,Ct.bx=yr+2*T,Ct.by=Math.max(Gr+2*T,qt),Ct.anchor="start",Ct.txwidth=yr,Ct.tx2width=lr,Ct.offset=0;var rn=(yr+S+T+lr)*oe._invScaleX,_r,bn;if(fe)Ct.pos=tr,_r=dr+Cr/2+rn<=nt,bn=dr-Cr/2-rn>=0,(Ct.idealAlign==="top"||!_r)&&bn?(dr-=Cr/2,Ct.anchor="end"):_r?(dr+=Cr/2,Ct.anchor="start"):Ct.anchor="middle",Ct.crossPos=dr;else{if(Ct.pos=dr,_r=tr+mr/2+rn<=Fe,bn=tr-mr/2-rn>=0,(Ct.idealAlign==="left"||!_r)&&bn)tr-=mr/2,Ct.anchor="end";else if(_r)tr+=mr/2,Ct.anchor="start";else{Ct.anchor="middle";var xn=rn/2,fr=tr+xn-Fe,Dr=tr-xn;fr>0&&(tr-=fr),Dr<0&&(tr+=-Dr)}Ct.crossPos=tr}Zt.attr("text-anchor",Ct.anchor),lr&&rr.attr("text-anchor",Ct.anchor),Bt.attr("transform",c(tr,dr)+(fe?y(v):""))}),{hoverLabels:Vt,commonLabelBoundingBox:Ge}}function F(ee,$,X,oe,te,fe){var pe="",Ae="";ee.nameOverride!==void 0&&(ee.name=ee.nameOverride),ee.name&&(ee.trace._meta&&(ee.name=L.templateString(ee.name,ee.trace._meta)),pe=ue(ee.name,ee.nameLength));var be=X.charAt(0),Pe=be==="x"?"y":"x";ee.zLabel!==void 0?(ee.xLabel!==void 0&&(Ae+="x: "+ee.xLabel+"<br>"),ee.yLabel!==void 0&&(Ae+="y: "+ee.yLabel+"<br>"),ee.trace.type!=="choropleth"&&ee.trace.type!=="choroplethmapbox"&&(Ae+=(Ae?"z: ":"")+ee.zLabel)):$&&ee[be+"Label"]===te?Ae=ee[Pe+"Label"]||"":ee.xLabel===void 0?ee.yLabel!==void 0&&ee.trace.type!=="scattercarpet"&&(Ae=ee.yLabel):ee.yLabel===void 0?Ae=ee.xLabel:Ae="("+ee.xLabel+", "+ee.yLabel+")",(ee.text||ee.text===0)&&!Array.isArray(ee.text)&&(Ae+=(Ae?"<br>":"")+ee.text),ee.extraText!==void 0&&(Ae+=(Ae?"<br>":"")+ee.extraText),fe&&Ae===""&&!ee.hovertemplate&&(pe===""&&fe.remove(),Ae=pe);var me=ee.hovertemplate||!1;if(me){var Ee=ee.hovertemplateLabels||ee;ee[be+"Label"]!==te&&(Ee[be+"other"]=Ee[be+"Val"],Ee[be+"otherLabel"]=Ee[be+"Label"]),Ae=L.hovertemplateString(me,Ee,oe._d3locale,ee.eventData[0]||{},ee.trace._meta),Ae=Ae.replace(R,function(xe,De){return pe=ue(De,ee.nameLength),""})}return[Ae,pe]}function _(ee,$,X,oe){var te=$?"xa":"ya",fe=$?"ya":"xa",pe=0,Ae=1,be=ee.size(),Pe=new Array(be),me=0,Ee=oe.minX,xe=oe.maxX,De=oe.minY,Ve=oe.maxY,Ze=function(Oe){return Oe*X._invScaleX},ke=function(Oe){return Oe*X._invScaleY};ee.each(function(Oe){var Ne=Oe[te],ze=Oe[fe],et=Ne._id.charAt(0)==="x",Le=Ne.range;me===0&&Le&&Le[0]>Le[1]!==et&&(Ae=-1);var Te=0,ye=et?X.width:X.height;if(X.hovermode==="x"||X.hovermode==="y"){var Se=O(Oe,$),Ke=Oe.anchor,rt=Ke==="end"?-1:1,Lt,It;if(Ke==="middle")Lt=Oe.crossPos+(et?ke(Se.y-Oe.by/2):Ze(Oe.bx/2+Oe.tx2width/2)),It=Lt+(et?ke(Oe.by):Ze(Oe.bx));else if(et)Lt=Oe.crossPos+ke(S+Se.y)-ke(Oe.by/2-S),It=Lt+ke(Oe.by);else{var wt=Ze(rt*S+Se.x),Et=wt+Ze(rt*Oe.bx);Lt=Oe.crossPos+Math.min(wt,Et),It=Oe.crossPos+Math.max(wt,Et)}et?De!==void 0&&Ve!==void 0&&Math.min(It,Ve)-Math.max(Lt,De)>1&&(ze.side==="left"?(Te=ze._mainLinePosition,ye=X.width):ye=ze._mainLinePosition):Ee!==void 0&&xe!==void 0&&Math.min(It,xe)-Math.max(Lt,Ee)>1&&(ze.side==="top"?(Te=ze._mainLinePosition,ye=X.height):ye=ze._mainLinePosition)}Pe[me++]=[{datum:Oe,traceIndex:Oe.trace.index,dp:0,pos:Oe.pos,posref:Oe.posref,size:Oe.by*(et?b:1)/2,pmin:Te,pmax:ye}]}),Pe.sort(function(Oe,Ne){return Oe[0].posref-Ne[0].posref||Ae*(Ne[0].traceIndex-Oe[0].traceIndex)});var Ye,lt,yt,He,Fe,nt,ot;function ct(Oe){var Ne=Oe[0],ze=Oe[Oe.length-1];if(lt=Ne.pmin-Ne.pos-Ne.dp+Ne.size,yt=ze.pos+ze.dp+ze.size-Ne.pmax,lt>.01){for(Fe=Oe.length-1;Fe>=0;Fe--)Oe[Fe].dp+=lt;Ye=!1}if(!(yt<.01)){if(lt<-.01){for(Fe=Oe.length-1;Fe>=0;Fe--)Oe[Fe].dp-=yt;Ye=!1}if(Ye){var et=0;for(He=0;He<Oe.length;He++)nt=Oe[He],nt.pos+nt.dp+nt.size>Ne.pmax&&et++;for(He=Oe.length-1;He>=0&&!(et<=0);He--)nt=Oe[He],nt.pos>Ne.pmax-1&&(nt.del=!0,et--);for(He=0;He<Oe.length&&!(et<=0);He++)if(nt=Oe[He],nt.pos<Ne.pmin+1)for(nt.del=!0,et--,yt=nt.size*2,Fe=Oe.length-1;Fe>=0;Fe--)Oe[Fe].dp-=yt;for(He=Oe.length-1;He>=0&&!(et<=0);He--)nt=Oe[He],nt.pos+nt.dp+nt.size>Ne.pmax&&(nt.del=!0,et--)}}}for(;!Ye&&pe<=be;){for(pe++,Ye=!0,He=0;He<Pe.length-1;){var ht=Pe[He],mt=Pe[He+1],tt=ht[ht.length-1],Re=mt[0];if(lt=tt.pos+tt.dp+tt.size-Re.pos-Re.dp+Re.size,lt>.01&&tt.pmin===Re.pmin&&tt.pmax===Re.pmax){for(Fe=mt.length-1;Fe>=0;Fe--)mt[Fe].dp+=lt;for(ht.push.apply(ht,mt),Pe.splice(He+1,1),ot=0,Fe=ht.length-1;Fe>=0;Fe--)ot+=ht[Fe].dp;for(yt=ot/ht.length,Fe=ht.length-1;Fe>=0;Fe--)ht[Fe].dp-=yt;Ye=!1}else He++}Pe.forEach(ct)}for(He=Pe.length-1;He>=0;He--){var Ge=Pe[He];for(Fe=Ge.length-1;Fe>=0;Fe--){var Je=Ge[Fe],Xe=Je.datum;Xe.offset=Je.dp,Xe.del=Je.del}}}function O(ee,$){var X=0,oe=ee.offset;return $&&(oe*=-m,X=ee.offset*M),{x:X,y:oe}}function z(ee){var $={start:1,end:-1,middle:0}[ee.anchor],X=$*(S+T),oe=X+$*(ee.txwidth+T),te=ee.anchor==="middle";return te&&(X-=ee.tx2width/2,oe+=ee.txwidth/2+T),{alignShift:$,textShiftX:X,text2ShiftX:oe}}function N(ee,$,X,oe){var te=function(pe){return pe*X},fe=function(pe){return pe*oe};ee.each(function(pe){var Ae=x.select(this);if(pe.del)return Ae.remove();var be=Ae.select("text.nums"),Pe=pe.anchor,me=Pe==="end"?-1:1,Ee=z(pe),xe=O(pe,$),De=xe.x,Ve=xe.y,Ze=Pe==="middle";Ae.select("path").attr("d",Ze?"M-"+te(pe.bx/2+pe.tx2width/2)+","+fe(Ve-pe.by/2)+"h"+te(pe.bx)+"v"+fe(pe.by)+"h-"+te(pe.bx)+"Z":"M0,0L"+te(me*S+De)+","+fe(S+Ve)+"v"+fe(pe.by/2-S)+"h"+te(me*pe.bx)+"v-"+fe(pe.by)+"H"+te(me*S+De)+"V"+fe(Ve-S)+"Z");var ke=De+Ee.textShiftX,Ye=Ve+pe.ty0-pe.by/2+T,lt=pe.textAlign||"auto";lt!=="auto"&&(lt==="left"&&Pe!=="start"?(be.attr("text-anchor","start"),ke=Ze?-pe.bx/2-pe.tx2width/2+T:-pe.bx-T):lt==="right"&&Pe!=="end"&&(be.attr("text-anchor","end"),ke=Ze?pe.bx/2-pe.tx2width/2-T:pe.bx+T)),be.call(t.positionText,te(ke),fe(Ye)),pe.tx2width&&(Ae.select("text.name").call(t.positionText,te(Ee.text2ShiftX+Ee.alignShift*T+De),fe(Ve+pe.ty0-pe.by/2+T)),Ae.select("rect").call(n.setRect,te(Ee.text2ShiftX+(Ee.alignShift-1)*pe.tx2width/2+De),fe(Ve-pe.by/2-1),te(pe.tx2width),fe(pe.by+2)))})}function Y(ee,$){var X=ee.index,oe=ee.trace||{},te=ee.cd[0],fe=ee.cd[X]||{};function pe(xe){return xe||P(xe)&&xe===0}var Ae=Array.isArray(X)?function(xe,De){var Ve=L.castOption(te,X,xe);return pe(Ve)?Ve:L.extractOption({},oe,"",De)}:function(xe,De){return L.extractOption(fe,oe,xe,De)};function be(xe,De,Ve){var Ze=Ae(De,Ve);pe(Ze)&&(ee[xe]=Ze)}if(be("hoverinfo","hi","hoverinfo"),be("bgcolor","hbg","hoverlabel.bgcolor"),be("borderColor","hbc","hoverlabel.bordercolor"),be("fontFamily","htf","hoverlabel.font.family"),be("fontSize","hts","hoverlabel.font.size"),be("fontColor","htc","hoverlabel.font.color"),be("nameLength","hnl","hoverlabel.namelength"),be("textAlign","hta","hoverlabel.align"),ee.posref=$==="y"||$==="closest"&&oe.orientation==="h"?ee.xa._offset+(ee.x0+ee.x1)/2:ee.ya._offset+(ee.y0+ee.y1)/2,ee.x0=L.constrain(ee.x0,0,ee.xa._length),ee.x1=L.constrain(ee.x1,0,ee.xa._length),ee.y0=L.constrain(ee.y0,0,ee.ya._length),ee.y1=L.constrain(ee.y1,0,ee.ya._length),ee.xLabelVal!==void 0&&(ee.xLabel="xLabel"in ee?ee.xLabel:f.hoverLabelText(ee.xa,ee.xLabelVal,oe.xhoverformat),ee.xVal=ee.xa.c2d(ee.xLabelVal)),ee.yLabelVal!==void 0&&(ee.yLabel="yLabel"in ee?ee.yLabel:f.hoverLabelText(ee.ya,ee.yLabelVal,oe.yhoverformat),ee.yVal=ee.ya.c2d(ee.yLabelVal)),ee.zLabelVal!==void 0&&ee.zLabel===void 0&&(ee.zLabel=String(ee.zLabelVal)),!isNaN(ee.xerr)&&!(ee.xa.type==="log"&&ee.xerr<=0)){var Pe=f.tickText(ee.xa,ee.xa.c2l(ee.xerr),"hover").text;ee.xerrneg!==void 0?ee.xLabel+=" +"+Pe+" / -"+f.tickText(ee.xa,ee.xa.c2l(ee.xerrneg),"hover").text:ee.xLabel+=" \xB1 "+Pe,$==="x"&&(ee.distance+=1)}if(!isNaN(ee.yerr)&&!(ee.ya.type==="log"&&ee.yerr<=0)){var me=f.tickText(ee.ya,ee.ya.c2l(ee.yerr),"hover").text;ee.yerrneg!==void 0?ee.yLabel+=" +"+me+" / -"+f.tickText(ee.ya,ee.ya.c2l(ee.yerrneg),"hover").text:ee.yLabel+=" \xB1 "+me,$==="y"&&(ee.distance+=1)}var Ee=ee.hoverinfo||ee.trace.hoverinfo;return Ee&&Ee!=="all"&&(Ee=Array.isArray(Ee)?Ee:Ee.split("+"),Ee.indexOf("x")===-1&&(ee.xLabel=void 0),Ee.indexOf("y")===-1&&(ee.yLabel=void 0),Ee.indexOf("z")===-1&&(ee.zLabel=void 0),Ee.indexOf("text")===-1&&(ee.text=void 0),Ee.indexOf("name")===-1&&(ee.name=void 0)),ee}function J(ee,$,X){var oe=X.container,te=X.fullLayout,fe=te._size,pe=X.event,Ae=!!$.hLinePoint,be=!!$.vLinePoint,Pe,me;if(oe.selectAll(".spikeline").remove(),!!(be||Ae)){var Ee=u.combine(te.plot_bgcolor,te.paper_bgcolor);if(Ae){var xe=$.hLinePoint,De,Ve;Pe=xe&&xe.xa,me=xe&&xe.ya;var Ze=me.spikesnap;Ze==="cursor"?(De=pe.pointerX,Ve=pe.pointerY):(De=Pe._offset+xe.x,Ve=me._offset+xe.y);var ke=i.readability(xe.color,Ee)<1.5?u.contrast(Ee):xe.color,Ye=me.spikemode,lt=me.spikethickness,yt=me.spikecolor||ke,He=f.getPxPosition(ee,me),Fe,nt;if(Ye.indexOf("toaxis")!==-1||Ye.indexOf("across")!==-1){if(Ye.indexOf("toaxis")!==-1&&(Fe=He,nt=De),Ye.indexOf("across")!==-1){var ot=me._counterDomainMin,ct=me._counterDomainMax;me.anchor==="free"&&(ot=Math.min(ot,me.position),ct=Math.max(ct,me.position)),Fe=fe.l+ot*fe.w,nt=fe.l+ct*fe.w}oe.insert("line",":first-child").attr({x1:Fe,x2:nt,y1:Ve,y2:Ve,"stroke-width":lt,stroke:yt,"stroke-dasharray":n.dashStyle(me.spikedash,lt)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:Fe,x2:nt,y1:Ve,y2:Ve,"stroke-width":lt+2,stroke:Ee}).classed("spikeline",!0).classed("crisp",!0)}Ye.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:He+(me.side!=="right"?lt:-lt),cy:Ve,r:lt,fill:yt}).classed("spikeline",!0)}if(be){var ht=$.vLinePoint,mt,tt;Pe=ht&&ht.xa,me=ht&&ht.ya;var Re=Pe.spikesnap;Re==="cursor"?(mt=pe.pointerX,tt=pe.pointerY):(mt=Pe._offset+ht.x,tt=me._offset+ht.y);var Ge=i.readability(ht.color,Ee)<1.5?u.contrast(Ee):ht.color,Je=Pe.spikemode,Xe=Pe.spikethickness,Oe=Pe.spikecolor||Ge,Ne=f.getPxPosition(ee,Pe),ze,et;if(Je.indexOf("toaxis")!==-1||Je.indexOf("across")!==-1){if(Je.indexOf("toaxis")!==-1&&(ze=Ne,et=tt),Je.indexOf("across")!==-1){var Le=Pe._counterDomainMin,Te=Pe._counterDomainMax;Pe.anchor==="free"&&(Le=Math.min(Le,Pe.position),Te=Math.max(Te,Pe.position)),ze=fe.t+(1-Te)*fe.h,et=fe.t+(1-Le)*fe.h}oe.insert("line",":first-child").attr({x1:mt,x2:mt,y1:ze,y2:et,"stroke-width":Xe,stroke:Oe,"stroke-dasharray":n.dashStyle(Pe.spikedash,Xe)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:mt,x2:mt,y1:ze,y2:et,"stroke-width":Xe+2,stroke:Ee}).classed("spikeline",!0).classed("crisp",!0)}Je.indexOf("marker")!==-1&&oe.insert("circle",":first-child").attr({cx:mt,cy:Ne-(Pe.side!=="top"?Xe:-Xe),r:Xe,fill:Oe}).classed("spikeline",!0)}}}function ae(ee,$,X){if(!X||X.length!==ee._hoverdata.length)return!0;for(var oe=X.length-1;oe>=0;oe--){var te=X[oe],fe=ee._hoverdata[oe];if(te.curveNumber!==fe.curveNumber||String(te.pointNumber)!==String(fe.pointNumber)||String(te.pointNumbers)!==String(fe.pointNumbers))return!0}return!1}function se(ee,$){return!$||$.vLinePoint!==ee._spikepoints.vLinePoint||$.hLinePoint!==ee._spikepoints.hLinePoint}function ue(ee,$){return t.plainText(ee||"",{len:$,allowedTags:["br","sub","sup","b","i","em"]})}function K(ee,$){for(var X=$.charAt(0),oe=[],te=[],fe=[],pe=0;pe<ee.length;pe++){var Ae=ee[pe];g.traceIs(Ae.trace,"bar-like")||g.traceIs(Ae.trace,"box-violin")?fe.push(Ae):Ae.trace[X+"period"]?te.push(Ae):oe.push(Ae)}return oe.concat(te).concat(fe)}function j(ee,$,X){var oe=$[ee+"a"],te=$[ee+"Val"],fe=$.cd[0];if(oe.type==="category"||oe.type==="multicategory")te=oe._categoriesMap[te];else if(oe.type==="date"){var pe=$.trace[ee+"periodalignment"];if(pe){var Ae=$.cd[$.index],be=Ae[ee+"Start"];be===void 0&&(be=Ae[ee]);var Pe=Ae[ee+"End"];Pe===void 0&&(Pe=Ae[ee]);var me=Pe-be;pe==="end"?te+=me:pe==="middle"&&(te+=me/2)}te=oe.d2c(te)}return fe&&fe.t&&fe.t.posLetter===oe._id&&(X.boxmode==="group"||X.violinmode==="group")&&(te+=fe.t.dPos),te}function ie(ee){return ee.offsetTop+ee.clientTop}function W(ee){return ee.offsetLeft+ee.clientLeft}function Q(ee,$){var X=ee._fullLayout,oe=$.getBoundingClientRect(),te=oe.left,fe=oe.top,pe=te+oe.width,Ae=fe+oe.height,be=L.apply3DTransform(X._invTransform)(te,fe),Pe=L.apply3DTransform(X._invTransform)(pe,Ae),me=be[0],Ee=be[1],xe=Pe[0],De=Pe[1];return{x:me,y:Ee,width:xe-me,height:De-Ee,top:Math.min(Ee,De),left:Math.min(me,xe),right:Math.max(me,xe),bottom:Math.max(Ee,De)}}},16132:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(10624).isUnifiedHover;V.exports=function(C,c,y,r){r=r||{};var t=c.legend;function s(n){r.font[n]||(r.font[n]=t?c.legend.font[n]:c.font[n])}c&&i(c.hovermode)&&(r.font||(r.font={}),s("size"),s("family"),s("color"),t?(r.bgcolor||(r.bgcolor=P.combine(c.legend.bgcolor,c.paper_bgcolor)),r.bordercolor||(r.bordercolor=c.legend.bordercolor)):r.bgcolor||(r.bgcolor=c.paper_bgcolor)),y("hoverlabel.bgcolor",r.bgcolor),y("hoverlabel.bordercolor",r.bordercolor),y("hoverlabel.namelength",r.namelength),x.coerceFont(y,"hoverlabel.font",r.font),y("hoverlabel.align",r.align)}},41008:function(V,U,e){"use strict";var x=e(3400),P=e(65460);V.exports=function(L,C){function c(y,r){return C[y]!==void 0?C[y]:x.coerce(L,C,P,y,r)}return c("clickmode"),c("hoversubplots"),c("hovermode")}},93024:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(86476),L=e(10624),C=e(65460),c=e(83292);V.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:C},attributes:e(55756),layoutAttributes:C,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:c.hover,unhover:i.unhover,loneHover:c.loneHover,loneUnhover:y,click:e(62376)};function y(s){var n=P.isD3Selection(s)?s:x.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(s,n,u){return P.castOption(s,n,"hoverlabel."+u)}function t(s,n,u){function l(f){return P.coerceHoverinfo({hoverinfo:f},{_module:s._module},n)}return P.castOption(s,u,"hoverinfo",l)}},65460:function(V,U,e){"use strict";var x=e(92456),P=e(25376),i=P({editType:"none"});i.family.dflt=x.HOVERFONT,i.size.dflt=x.HOVERFONTSIZE,V.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(V,U,e){"use strict";var x=e(3400),P=e(65460),i=e(41008),L=e(16132);V.exports=function(c,y){function r(f,g){return x.coerce(c,y,P,f,g)}var t=i(c,y);t&&(r("hoverdistance"),r("spikedistance"));var s=r("dragmode");s==="select"&&r("selectdirection");var n=y._has("mapbox"),u=y._has("geo"),l=y._basePlotModules.length;y.dragmode==="zoom"&&((n||u)&&l===1||n&&u&&l===2)&&(y.dragmode="pan"),L(c,y,r),x.coerceFont(r,"hoverlabel.grouptitlefont",y.hoverlabel.font)}},81976:function(V,U,e){"use strict";var x=e(3400),P=e(16132),i=e(65460);V.exports=function(C,c){function y(r,t){return x.coerce(C,c,i,r,t)}P(C,c,y)}},12704:function(V,U,e){"use strict";var x=e(3400),P=e(53756).counter,i=e(86968).u,L=e(33816).idRegex,C=e(31780),c={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function y(u,l,f){var g=l[f+"axes"],h=Object.keys((u._splomAxes||{})[f]||{});if(Array.isArray(g))return g;if(h.length)return h}function r(u,l){var f=u.grid||{},g=y(l,f,"x"),h=y(l,f,"y");if(!u.grid&&!g&&!h)return;var w=Array.isArray(f.subplots)&&Array.isArray(f.subplots[0]),d=Array.isArray(g),o=Array.isArray(h),v=d&&g!==f.xaxes&&o&&h!==f.yaxes,A,b;w?(A=f.subplots.length,b=f.subplots[0].length):(o&&(A=h.length),d&&(b=g.length));var M=C.newContainer(l,"grid");function m(_,O){return x.coerce(f,M,c,_,O)}var S=m("rows",A),T=m("columns",b);if(!(S*T>1)){delete l.grid;return}if(!w&&!d&&!o){var a=m("pattern")==="independent";a&&(w=!0)}M._hasSubplotGrid=w;var E=m("roworder"),p=E==="top to bottom",k=w?.2:.1,R=w?.3:.1,B,F;v&&l._splomGridDflt&&(B=l._splomGridDflt.xside,F=l._splomGridDflt.yside),M._domains={x:t("x",m,k,B,T),y:t("y",m,R,F,S,p)}}function t(u,l,f,g,h,w){var d=l(u+"gap",f),o=l("domain."+u);l(u+"side",g);for(var v=new Array(h),A=o[0],b=(o[1]-A)/(h-d),M=b*(1-d),m=0;m<h;m++){var S=A+b*m;v[w?h-1-m:m]=[S,S+M]}return v}function s(u,l){var f=l.grid;if(!(!f||!f._domains)){var g=u.grid||{},h=l._subplots,w=f._hasSubplotGrid,d=f.rows,o=f.columns,v=f.pattern==="independent",A,b,M,m,S,T,a,E=f._axisMap={};if(w){var p=g.subplots||[];T=f.subplots=new Array(d);var k=1;for(A=0;A<d;A++){var R=T[A]=new Array(o),B=p[A]||[];for(b=0;b<o;b++)if(v?(S=k===1?"xy":"x"+k+"y"+k,k++):S=B[b],R[b]="",h.cartesian.indexOf(S)!==-1){if(a=S.indexOf("y"),M=S.slice(0,a),m=S.slice(a),E[M]!==void 0&&E[M]!==b||E[m]!==void 0&&E[m]!==A)continue;R[b]=S,E[M]=b,E[m]=A}}}else{var F=y(l,g,"x"),_=y(l,g,"y");f.xaxes=n(F,h.xaxis,o,E,"x"),f.yaxes=n(_,h.yaxis,d,E,"y")}var O=f._anchors={},z=f.roworder==="top to bottom";for(var N in E){var Y=N.charAt(0),J=f[Y+"side"],ae,se,ue;if(J.length<8)O[N]="free";else if(Y==="x"){if(J.charAt(0)==="t"===z?(ae=0,se=1,ue=d):(ae=d-1,se=-1,ue=-1),w){var K=E[N];for(A=ae;A!==ue;A+=se)if(S=T[A][K],!!S&&(a=S.indexOf("y"),S.slice(0,a)===N)){O[N]=S.slice(a);break}}else for(A=ae;A!==ue;A+=se)if(m=f.yaxes[A],h.cartesian.indexOf(N+m)!==-1){O[N]=m;break}}else if(J.charAt(0)==="l"?(ae=0,se=1,ue=o):(ae=o-1,se=-1,ue=-1),w){var j=E[N];for(A=ae;A!==ue;A+=se)if(S=T[j][A],!!S&&(a=S.indexOf("y"),S.slice(a)===N)){O[N]=S.slice(0,a);break}}else for(A=ae;A!==ue;A+=se)if(M=f.xaxes[A],h.cartesian.indexOf(M+N)!==-1){O[N]=M;break}}}}function n(u,l,f,g,h){var w=new Array(f),d;function o(v,A){l.indexOf(A)!==-1&&g[A]===void 0?(w[v]=A,g[A]=v):w[v]=""}if(Array.isArray(u))for(d=0;d<f;d++)o(d,u[d]);else for(o(0,h),d=1;d<f;d++)o(d,h+(d+1));return w}V.exports={moduleType:"component",name:"grid",schema:{layout:{grid:c}},layoutAttributes:c,sizeDefaults:r,contentDefaults:s}},65760:function(V,U,e){"use strict";var x=e(33816),P=e(31780).templatedArray,i=e(36208);V.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",x.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",x.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(V,U,e){"use strict";var x=e(38248),P=e(36896);V.exports=function(L,C,c,y){C=C||{};var r=c==="log"&&C.type==="linear",t=c==="linear"&&C.type==="log";if(r||t){for(var s=L._fullLayout.images,n=C._id.charAt(0),u,l,f=0;f<s.length;f++)if(u=s[f],l="images["+f+"].",u[n+"ref"]===C._id){var g=u[n],h=u["size"+n],w=null,d=null;if(r){w=P(g,C.range);var o=h/Math.pow(10,w)/2;d=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else w=Math.pow(10,g),d=w*(Math.pow(10,h/2)-Math.pow(10,-h/2));x(w)?x(d)||(d=null):(w=null,d=null),y(l+n,w),y(l+"size"+n,d)}}}},25024:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(51272),L=e(65760),C="images";V.exports=function(r,t){var s={name:C,handleItemDefaults:c};i(r,t,s)};function c(y,r,t){function s(o,v){return x.coerce(y,r,L,o,v)}var n=s("source"),u=s("visible",!!n);if(!u)return r;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var l={_fullLayout:t},f=["x","y"],g=0;g<2;g++){var h=f[g],w=P.coerceRef(y,r,l,h,"paper",void 0);if(w!=="paper"){var d=P.getFromId(l,w);d._imgIndices.push(r._index)}P.coercePosition(r,l,s,w,h,0)}return r}},60963:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(54460),L=e(79811),C=e(9616);V.exports=function(y){var r=y._fullLayout,t=[],s={},n=[],u,l;for(l=0;l<r.images.length;l++){var f=r.images[l];if(f.visible)if(f.layer==="below"&&f.xref!=="paper"&&f.yref!=="paper"){u=L.ref2id(f.xref)+L.ref2id(f.yref);var g=r._plots[u];if(!g){n.push(f);continue}g.mainplot&&(u=g.mainplot.id),s[u]||(s[u]=[]),s[u].push(f)}else f.layer==="above"?t.push(f):n.push(f)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function w(m){var S=x.select(this);if(this._imgSrc!==m.source)if(S.attr("xmlns",C.svg),m.source&&m.source.slice(0,5)==="data:")S.attr("xlink:href",m.source),this._imgSrc=m.source;else{var T=new Promise(function(a){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=p,E.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var R=k.getContext("2d",{willReadFrequently:!0});R.drawImage(this,0,0);var B=k.toDataURL("image/png");S.attr("xlink:href",B),a()},S.on("error",p),E.src=m.source,this._imgSrc=m.source;function p(){S.remove(),a()}}.bind(this));y._promises.push(T)}}function d(m){var S=x.select(this),T=i.getFromId(y,m.xref),a=i.getFromId(y,m.yref),E=i.getRefType(m.xref)==="domain",p=i.getRefType(m.yref)==="domain",k=r._size,R,B;T!==void 0?R=typeof m.xref=="string"&&E?T._length*m.sizex:Math.abs(T.l2p(m.sizex)-T.l2p(0)):R=m.sizex*k.w,a!==void 0?B=typeof m.yref=="string"&&p?a._length*m.sizey:Math.abs(a.l2p(m.sizey)-a.l2p(0)):B=m.sizey*k.h;var F=R*h.x[m.xanchor].offset,_=B*h.y[m.yanchor].offset,O=h.x[m.xanchor].sizing+h.y[m.yanchor].sizing,z,N;switch(T!==void 0?z=typeof m.xref=="string"&&E?T._length*m.x+T._offset:T.r2p(m.x)+T._offset:z=m.x*k.w+k.l,z+=F,a!==void 0?N=typeof m.yref=="string"&&p?a._length*(1-m.y)+a._offset:a.r2p(m.y)+a._offset:N=k.h-m.y*k.h+k.t,N+=_,m.sizing){case"fill":O+=" slice";break;case"stretch":O="none";break}S.attr({x:z,y:N,width:R,height:B,preserveAspectRatio:O,opacity:m.opacity});var Y=T&&i.getRefType(m.xref)!=="domain"?T._id:"",J=a&&i.getRefType(m.yref)!=="domain"?a._id:"",ae=Y+J;P.setClipUrl(S,ae?"clip"+r._uid+ae:null,y)}var o=r._imageLowerLayer.selectAll("image").data(n),v=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),v.enter().append("image"),o.exit().remove(),v.exit().remove(),o.each(function(m){w.bind(this)(m),d.bind(this)(m)}),v.each(function(m){w.bind(this)(m),d.bind(this)(m)});var A=Object.keys(r._plots);for(l=0;l<A.length;l++){u=A[l];var b=r._plots[u];if(b.imagelayer){var M=b.imagelayer.selectAll("image").data(s[u]||[]);M.enter().append("image"),M.exit().remove(),M.each(function(m){w.bind(this)(m),d.bind(this)(m)})}}}},7402:function(V,U,e){"use strict";V.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(V,U,e){"use strict";var x=e(25376),P=e(22548);V.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:x({editType:"legend"}),grouptitlefont:x({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:x({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(V){"use strict";V.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(31780),L=e(45464),C=e(3800),c=e(64859),y=e(42451);function r(t,s,n,u){var l=s[t]||{},f=i.newContainer(n,t);function g(ue,K){return P.coerce(l,f,C,ue,K)}var h=P.coerceFont(g,"font",n.font);g("bgcolor",n.paper_bgcolor),g("bordercolor");var w=g("visible");if(w){for(var d,o=function(ue,K){var j=d._input,ie=d;return P.coerce(j,ie,L,ue,K)},v=n.font||{},A=P.coerceFont(g,"grouptitlefont",P.extendFlat({},v,{size:Math.round(v.size*1.1)})),b=0,M=!1,m="normal",S=(n.shapes||[]).filter(function(ue){return ue.showlegend}),T=u.concat(S).filter(function(ue){return t===(ue.legend||"legend")}),a=0;a<T.length;a++)if(d=T[a],!!d.visible){var E=d._isShape;(d.showlegend||d._dfltShowLegend&&!(d._module&&d._module.attributes&&d._module.attributes.showlegend&&d._module.attributes.showlegend.dflt===!1))&&(b++,d.showlegend&&(M=!0,(!E&&x.traceIs(d,"pie-like")||d._input.showlegend===!0)&&b++),P.coerceFont(o,"legendgrouptitle.font",A)),(!E&&x.traceIs(d,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(d.fill)!==-1)&&(m=y.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),d.legendgroup!==void 0&&d.legendgroup!==""&&(m=y.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var p=P.coerce(s,n,c,"showlegend",M&&b>(t==="legend"?1:0));if(p===!1&&(n[t]=void 0),!(p===!1&&!l.uirevision)&&(g("uirevision",n.uirevision),p!==!1)){g("borderwidth");var k=g("orientation"),R=g("yref"),B=g("xref"),F=k==="h",_=R==="paper",O=B==="paper",z,N,Y,J="left";F?(z=0,x.getComponentMethod("rangeslider","isVisible")(s.xaxis)?_?(N=1.1,Y="bottom"):(N=1,Y="top"):_?(N=-.1,Y="top"):(N=0,Y="bottom")):(N=1,Y="auto",O?z=1.02:(z=1,J="right")),P.coerce(l,f,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:z}},"x"),P.coerce(l,f,{y:{valType:"number",editType:"legend",min:_?-2:0,max:_?3:1,dflt:N}},"y"),g("traceorder",m),y.isGrouped(n[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("indentation"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",J),g("yanchor",Y),g("valign"),P.noneOrAll(l,f,["x","y"]);var ae=g("title.text");if(ae){g("title.side",F?"left":"top");var se=P.extendFlat({},h,{size:P.bigFont(h.size)});P.coerceFont(g,"title.font",se)}}}}V.exports=function(s,n,u){var l,f=u.slice(),g=n.shapes;if(g)for(l=0;l<g.length;l++){var h=g[l];if(h.showlegend){var w={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};f.push(w)}}var d=["legend"];for(l=0;l<f.length;l++)P.pushUnique(d,f[l].legend);for(n._legends=[],l=0;l<d.length;l++){var o=d[l];r(o,s,n,f),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},31140:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(7316),L=e(24040),C=e(95924),c=e(86476),y=e(43616),r=e(76308),t=e(72736),s=e(33048),n=e(65196),u=e(84284),l=u.LINE_SPACING,f=u.FROM_TL,g=u.FROM_BR,h=e(35456),w=e(2012),d=e(42451),o=1,v=/^legend[0-9]*$/;V.exports=function(N,Y){if(Y)b(N,Y);else{var J=N._fullLayout,ae=J._legends,se=J._infolayer.selectAll('[class^="legend"]');se.each(function(){var ie=x.select(this),W=ie.attr("class"),Q=W.split(" ")[0];Q.match(v)&&ae.indexOf(Q)===-1&&ie.remove()});for(var ue=0;ue<ae.length;ue++){var K=ae[ue],j=N._fullLayout[K];b(N,j)}}};function A(z,N,Y){if(!(N.title.side!=="top center"&&N.title.side!=="top right")){var J=N.title.font,ae=J.size*l,se=0,ue=z.node(),K=y.bBox(ue).width;N.title.side==="top center"?se=.5*(N._width-2*Y-2*n.titlePad-K):N.title.side==="top right"&&(se=N._width-2*Y-2*n.titlePad-K),t.positionText(z,Y+n.titlePad+se,Y+ae)}}function b(z,N){var Y=N||{},J=z._fullLayout,ae=O(Y),se,ue,K=Y._inHover;if(K?(ue=Y.layer,se="hover"):(ue=J._infolayer,se=ae),!!ue){se+=J._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var j;if(K){if(!Y.entries)return;j=h(Y.entries,Y)}else{for(var ie=(z.calcdata||[]).slice(),W=J.shapes,Q=0;Q<W.length;Q++){var ee=W[Q];if(ee.showlegend){var $={_isShape:!0,_fullInput:ee,index:ee._index,name:ee.name||ee.label.text||"shape "+ee._index,legend:ee.legend,legendgroup:ee.legendgroup,legendgrouptitle:ee.legendgrouptitle,legendrank:ee.legendrank,legendwidth:ee.legendwidth,showlegend:ee.showlegend,visible:ee.visible,opacity:ee.opacity,mode:ee.type==="line"?"lines":"markers",line:ee.line,marker:{line:ee.line,color:ee.fillcolor,size:12,symbol:ee.type==="rect"?"square":ee.type==="circle"?"circle":"hexagon2"}};ie.push([{trace:$}])}}j=J.showlegend&&h(ie,Y,J._legends.length>1)}var X=J.hiddenlabels||[];if(!K&&(!J.showlegend||!j.length))return ue.selectAll("."+ae).remove(),J._topdefs.select("#"+se).remove(),i.autoMargin(z,ae);var oe=P.ensureSingle(ue,"g",ae,function(xe){K||xe.attr("pointer-events","all")}),te=P.ensureSingleById(J._topdefs,"clipPath",se,function(xe){xe.append("rect")}),fe=P.ensureSingle(oe,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});fe.call(r.stroke,Y.bordercolor).call(r.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var pe=P.ensureSingle(oe,"g","scrollbox"),Ae=Y.title;Y._titleWidth=0,Y._titleHeight=0;var be;Ae.text?(be=P.ensureSingle(pe,"text",ae+"titletext"),be.attr("text-anchor","start").call(y.font,Ae.font).text(Ae.text),E(be,pe,z,Y,o)):pe.selectAll("."+ae+"titletext").remove();var Pe=P.ensureSingle(oe,"rect","scrollbar",function(xe){xe.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),me=pe.selectAll("g.groups").data(j);me.enter().append("g").attr("class","groups"),me.exit().remove();var Ee=me.selectAll("g.traces").data(P.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(xe){var De=xe[0].trace;return L.traceIs(De,"pie-like")?X.indexOf(xe[0].label)!==-1?.5:1:De.visible==="legendonly"?.5:1}).each(function(){x.select(this).call(S,z,Y)}).call(w,z,Y).each(function(){K||x.select(this).call(a,z,ae)}),P.syncOrAsync([i.previousPromises,function(){return R(z,me,Ee,Y)},function(){var xe=J._size,De=Y.borderwidth,Ve=Y.xref==="paper",Ze=Y.yref==="paper";if(Ae.text&&A(be,Y,De),!K){var ke,Ye;Ve?ke=xe.l+xe.w*Y.x-f[F(Y)]*Y._width:ke=J.width*Y.x-f[F(Y)]*Y._width,Ze?Ye=xe.t+xe.h*(1-Y.y)-f[_(Y)]*Y._effHeight:Ye=J.height*(1-Y.y)-f[_(Y)]*Y._effHeight;var lt=B(z,ae,ke,Ye);if(lt)return;if(J.margin.autoexpand){var yt=ke,He=Ye;ke=Ve?P.constrain(ke,0,J.width-Y._width):yt,Ye=Ze?P.constrain(Ye,0,J.height-Y._effHeight):He,ke!==yt&&P.log("Constrain "+ae+".x to make legend fit inside graph"),Ye!==He&&P.log("Constrain "+ae+".y to make legend fit inside graph")}y.setTranslate(oe,ke,Ye)}if(Pe.on(".drag",null),oe.on("wheel",null),K||Y._height<=Y._maxHeight||z._context.staticPlot){var Fe=Y._effHeight;K&&(Fe=Y._height),fe.attr({width:Y._width-De,height:Fe-De,x:De/2,y:De/2}),y.setTranslate(pe,0,0),te.select("rect").attr({width:Y._width-2*De,height:Fe-2*De,x:De,y:De}),y.setClipUrl(pe,se,z),y.setRect(Pe,0,0,0,0),delete Y._scrollY}else{var nt=Math.max(n.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),ot=Y._effHeight-nt-2*n.scrollBarMargin,ct=Y._height-Y._effHeight,ht=ot/ct,mt=Math.min(Y._scrollY||0,ct);fe.attr({width:Y._width-2*De+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-De,x:De/2,y:De/2}),te.select("rect").attr({width:Y._width-2*De+n.scrollBarWidth+n.scrollBarMargin,height:Y._effHeight-2*De,x:De,y:De+mt}),y.setClipUrl(pe,se,z),ze(mt,nt,ht),oe.on("wheel",function(){mt=P.constrain(Y._scrollY+x.event.deltaY/ot*ct,0,ct),ze(mt,nt,ht),mt!==0&&mt!==ct&&x.event.preventDefault()});var tt,Re,Ge,Je=function(Se,Ke,rt){var Lt=(rt-Ke)/ht+Se;return P.constrain(Lt,0,ct)},Xe=function(Se,Ke,rt){var Lt=(Ke-rt)/ht+Se;return P.constrain(Lt,0,ct)},Oe=x.behavior.drag().on("dragstart",function(){var Se=x.event.sourceEvent;Se.type==="touchstart"?tt=Se.changedTouches[0].clientY:tt=Se.clientY,Ge=mt}).on("drag",function(){var Se=x.event.sourceEvent;Se.buttons===2||Se.ctrlKey||(Se.type==="touchmove"?Re=Se.changedTouches[0].clientY:Re=Se.clientY,mt=Je(Ge,tt,Re),ze(mt,nt,ht))});Pe.call(Oe);var Ne=x.behavior.drag().on("dragstart",function(){var Se=x.event.sourceEvent;Se.type==="touchstart"&&(tt=Se.changedTouches[0].clientY,Ge=mt)}).on("drag",function(){var Se=x.event.sourceEvent;Se.type==="touchmove"&&(Re=Se.changedTouches[0].clientY,mt=Xe(Ge,tt,Re),ze(mt,nt,ht))});pe.call(Ne)}function ze(Se,Ke,rt){Y._scrollY=z._fullLayout[ae]._scrollY=Se,y.setTranslate(pe,0,-Se),y.setRect(Pe,Y._width,n.scrollBarMargin+Se*rt,n.scrollBarWidth,Ke),te.select("rect").attr("y",De+Se)}if(z._context.edits.legendPosition){var et,Le,Te,ye;oe.classed("cursor-move",!0),c.init({element:oe.node(),gd:z,prepFn:function(){var Se=y.getTranslate(oe);Te=Se.x,ye=Se.y},moveFn:function(Se,Ke){var rt=Te+Se,Lt=ye+Ke;y.setTranslate(oe,rt,Lt),et=c.align(rt,Y._width,xe.l,xe.l+xe.w,Y.xanchor),Le=c.align(Lt+Y._height,-Y._height,xe.t+xe.h,xe.t,Y.yanchor)},doneFn:function(){if(et!==void 0&&Le!==void 0){var Se={};Se[ae+".x"]=et,Se[ae+".y"]=Le,L.call("_guiRelayout",z,Se)}},clickFn:function(Se,Ke){var rt=ue.selectAll("g.traces").filter(function(){var Lt=this.getBoundingClientRect();return Ke.clientX>=Lt.left&&Ke.clientX<=Lt.right&&Ke.clientY>=Lt.top&&Ke.clientY<=Lt.bottom});rt.size()>0&&m(z,oe,rt,Se,Ke)}})}}],z)}}function M(z,N,Y){var J=z[0],ae=J.width,se=N.entrywidthmode,ue=J.trace.legendwidth||N.entrywidth;return se==="fraction"?N._maxWidth*ue:Y+(ue||ae)}function m(z,N,Y,J,ae){var se=Y.data()[0][0].trace,ue={event:ae,node:Y.node(),curveNumber:se.index,expandedIndex:se._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};se._group&&(ue.group=se._group),L.traceIs(se,"pie-like")&&(ue.label=Y.datum()[0].label);var K=C.triggerHandler(z,"plotly_legendclick",ue);if(J===1){if(K===!1)return;N._clickTimeout=setTimeout(function(){z._fullLayout&&s(Y,z,J)},z._context.doubleClickDelay)}else if(J===2){N._clickTimeout&&clearTimeout(N._clickTimeout),z._legendMouseDownTime=0;var j=C.triggerHandler(z,"plotly_legenddoubleclick",ue);j!==!1&&K!==!1&&s(Y,z,J)}}function S(z,N,Y){var J=O(Y),ae=z.data()[0][0],se=ae.trace,ue=L.traceIs(se,"pie-like"),K=!Y._inHover&&N._context.edits.legendText&&!ue,j=Y._maxNameLength,ie,W;ae.groupTitle?(ie=ae.groupTitle.text,W=ae.groupTitle.font):(W=Y.font,Y.entries?ie=ae.text:(ie=ue?ae.label:se.name,se._meta&&(ie=P.templateString(ie,se._meta))));var Q=P.ensureSingle(z,"text",J+"text");Q.attr("text-anchor","start").call(y.font,W).text(K?T(ie,j):ie);var ee=Y.indentation+Y.itemwidth+n.itemGap*2;t.positionText(Q,ee,0),K?Q.call(t.makeEditable,{gd:N,text:ie}).call(E,z,N,Y).on("edit",function($){this.text(T($,j)).call(E,z,N,Y);var X=ae.trace._fullInput||{},oe={};if(L.hasTransform(X,"groupby")){var te=L.getTransformIndices(X,"groupby"),fe=te[te.length-1],pe=P.keyedContainer(X,"transforms["+fe+"].styles","target","value.name");pe.set(ae.trace._group,$),oe=pe.constructUpdate()}else oe.name=$;return X._isShape?L.call("_guiRelayout",N,"shapes["+se.index+"].name",oe.name):L.call("_guiRestyle",N,oe,se.index)}):E(Q,z,N,Y)}function T(z,N){var Y=Math.max(4,N);if(z&&z.trim().length>=Y/2)return z;z=z||"";for(var J=Y-z.length;J>0;J--)z+=" ";return z}function a(z,N,Y){var J=N._context.doubleClickDelay,ae,se=1,ue=P.ensureSingle(z,"rect",Y+"toggle",function(K){N._context.staticPlot||K.style("cursor","pointer").attr("pointer-events","all"),K.call(r.fill,"rgba(0,0,0,0)")});N._context.staticPlot||(ue.on("mousedown",function(){ae=new Date().getTime(),ae-N._legendMouseDownTime<J?se+=1:(se=1,N._legendMouseDownTime=ae)}),ue.on("mouseup",function(){if(!(N._dragged||N._editing)){var K=N._fullLayout[Y];new Date().getTime()-N._legendMouseDownTime>J&&(se=Math.max(se-1,1)),m(N,K,z,se,x.event)}}))}function E(z,N,Y,J,ae){J._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,Y,function(){p(N,Y,J,ae)})}function p(z,N,Y,J){var ae=z.data()[0][0];if(!Y._inHover&&ae&&!ae.trace.showlegend){z.remove();return}var se=z.select("g[class*=math-group]"),ue=se.node(),K=O(Y);Y||(Y=N._fullLayout[K]);var j=Y.borderwidth,ie;J===o?ie=Y.title.font:ae.groupTitle?ie=ae.groupTitle.font:ie=Y.font;var W=ie.size*l,Q,ee;if(ue){var $=y.bBox(ue);Q=$.height,ee=$.width,J===o?y.setTranslate(se,j,j+Q*.75):y.setTranslate(se,0,Q*.25)}else{var X="."+K+(J===o?"title":"")+"text",oe=z.select(X),te=t.lineCount(oe),fe=oe.node();if(Q=W*te,ee=fe?y.bBox(fe).width:0,J===o)Y.title.side==="left"&&(ee+=n.itemGap*2),t.positionText(oe,j+n.titlePad,j+W);else{var pe=n.itemGap*2+Y.indentation+Y.itemwidth;ae.groupTitle&&(pe=n.itemGap,ee-=Y.indentation+Y.itemwidth),t.positionText(oe,pe,-W*((te-1)/2-.3))}}J===o?(Y._titleWidth=ee,Y._titleHeight=Q):(ae.lineHeight=W,ae.height=Math.max(Q,16)+3,ae.width=ee)}function k(z){var N=0,Y=0,J=z.title.side;return J&&(J.indexOf("left")!==-1&&(N=z._titleWidth),J.indexOf("top")!==-1&&(Y=z._titleHeight)),[N,Y]}function R(z,N,Y,J){var ae=z._fullLayout,se=O(J);J||(J=ae[se]);var ue=ae._size,K=d.isVertical(J),j=d.isGrouped(J),ie=J.entrywidthmode==="fraction",W=J.borderwidth,Q=2*W,ee=n.itemGap,$=J.indentation+J.itemwidth+ee*2,X=2*(W+ee),oe=_(J),te=J.y<0||J.y===0&&oe==="top",fe=J.y>1||J.y===1&&oe==="bottom",pe=J.tracegroupgap,Ae={};J._maxHeight=Math.max(te||fe?ae.height/2:ue.h,30);var be=0;J._width=0,J._height=0;var Pe=k(J);if(K)Y.each(function(Ge){var Je=Ge[0].height;y.setTranslate(this,W+Pe[0],W+Pe[1]+J._height+Je/2+ee),J._height+=Je,J._width=Math.max(J._width,Ge[0].width)}),be=$+J._width,J._width+=ee+$+Q,J._height+=X,j&&(N.each(function(Ge,Je){y.setTranslate(this,0,Je*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var me=F(J),Ee=J.x<0||J.x===0&&me==="right",xe=J.x>1||J.x===1&&me==="left",De=fe||te,Ve=ae.width/2;J._maxWidth=Math.max(Ee?De&&me==="left"?ue.l+ue.w:Ve:xe?De&&me==="right"?ue.r+ue.w:Ve:ue.w,2*$);var Ze=0,ke=0;Y.each(function(Ge){var Je=M(Ge,J,$);Ze=Math.max(Ze,Je),ke+=Je}),be=null;var Ye=0;if(j){var lt=0,yt=0,He=0;N.each(function(){var Ge=0,Je=0;x.select(this).selectAll("g.traces").each(function(Oe){var Ne=M(Oe,J,$),ze=Oe[0].height;y.setTranslate(this,Pe[0],Pe[1]+W+ee+ze/2+Je),Je+=ze,Ge=Math.max(Ge,Ne),Ae[Oe[0].trace.legendgroup]=Ge});var Xe=Ge+ee;yt>0&&Xe+W+yt>J._maxWidth?(Ye=Math.max(Ye,yt),yt=0,He+=lt+pe,lt=Je):lt=Math.max(lt,Je),y.setTranslate(this,yt,He),yt+=Xe}),J._width=Math.max(Ye,yt)+W,J._height=He+lt+X}else{var Fe=Y.size(),nt=ke+Q+(Fe-1)*ee<J._maxWidth,ot=0,ct=0,ht=0,mt=0;Y.each(function(Ge){var Je=Ge[0].height,Xe=M(Ge,J,$,j),Oe=nt?Xe:Ze;ie||(Oe+=ee),Oe+W+ct-ee>=J._maxWidth&&(Ye=Math.max(Ye,mt),ct=0,ht+=ot,J._height+=ot,ot=0),y.setTranslate(this,Pe[0]+W+ct,Pe[1]+W+ht+Je/2+ee),mt=ct+Xe+ee,ct+=Oe,ot=Math.max(ot,Je)}),nt?(J._width=ct+Q,J._height=ot+X):(J._width=Math.max(Ye,mt)+Q,J._height+=ot+X)}}J._width=Math.ceil(Math.max(J._width+Pe[0],J._titleWidth+2*(W+n.titlePad))),J._height=Math.ceil(Math.max(J._height+Pe[1],J._titleHeight+2*(W+n.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var tt=z._context.edits,Re=tt.legendText||tt.legendPosition;Y.each(function(Ge){var Je=x.select(this).select("."+se+"toggle"),Xe=Ge[0].height,Oe=Ge[0].trace.legendgroup,Ne=M(Ge,J,$);j&&Oe!==""&&(Ne=Ae[Oe]);var ze=Re?$:be||Ne;!K&&!ie&&(ze+=ee/2),y.setRect(Je,0,-Xe/2,ze,Xe)})}function B(z,N,Y,J){var ae=z._fullLayout,se=ae[N],ue=F(se),K=_(se),j=se.xref==="paper",ie=se.yref==="paper";z._fullLayout._reservedMargin[N]={};var W=se.y<.5?"b":"t",Q=se.x<.5?"l":"r",ee={r:ae.width-Y,l:Y+se._width,b:ae.height-J,t:J+se._effHeight};if(j&&ie)return i.autoMargin(z,N,{x:se.x,y:se.y,l:se._width*f[ue],r:se._width*g[ue],b:se._effHeight*g[K],t:se._effHeight*f[K]});j?z._fullLayout._reservedMargin[N][W]=ee[W]:ie||se.orientation==="v"?z._fullLayout._reservedMargin[N][Q]=ee[Q]:z._fullLayout._reservedMargin[N][W]=ee[W]}function F(z){return P.isRightAnchor(z)?"right":P.isCenterAnchor(z)?"center":"left"}function _(z){return P.isBottomAnchor(z)?"bottom":P.isMiddleAnchor(z)?"middle":"top"}function O(z){return z._id||"legend"}},35456:function(V,U,e){"use strict";var x=e(24040),P=e(42451);V.exports=function(L,C,c){var y=C._inHover,r=P.isGrouped(C),t=P.isReversed(C),s={},n=[],u=!1,l={},f=0,g=0,h,w;function d(z,N,Y){if(C.visible!==!1&&!(c&&z!==C._id))if(N===""||!P.isGrouped(C)){var J="~~i"+f;n.push(J),s[J]=[Y],f++}else n.indexOf(N)===-1?(n.push(N),u=!0,s[N]=[Y]):s[N].push(Y)}for(h=0;h<L.length;h++){var o=L[h],v=o[0],A=v.trace,b=A.legend,M=A.legendgroup;if(!(!y&&(!A.visible||!A.showlegend)))if(x.traceIs(A,"pie-like"))for(l[M]||(l[M]={}),w=0;w<o.length;w++){var m=o[w].label;l[M][m]||(d(b,M,{label:m,color:o[w].color,i:o[w].i,trace:A,pts:o[w].pts}),l[M][m]=!0,g=Math.max(g,(m||"").length))}else d(b,M,v),g=Math.max(g,(A.name||"").length)}if(!n.length)return[];var S=!u||!r,T=[];for(h=0;h<n.length;h++){var a=s[n[h]];S?T.push(a[0]):T.push(a)}for(S&&(T=[T]),h=0;h<T.length;h++){var E=1/0;for(w=0;w<T[h].length;w++){var p=T[h][w].trace.legendrank;E>p&&(E=p)}T[h][0]._groupMinRank=E,T[h][0]._preGroupSort=h}var k=function(z,N){return z[0]._groupMinRank-N[0]._groupMinRank||z[0]._preGroupSort-N[0]._preGroupSort},R=function(z,N){return z.trace.legendrank-N.trace.legendrank||z._preSort-N._preSort};for(T.forEach(function(z,N){z[0]._preGroupSort=N}),T.sort(k),h=0;h<T.length;h++){T[h].forEach(function(z,N){z._preSort=N}),T[h].sort(R);var B=T[h][0].trace,F=null;for(w=0;w<T[h].length;w++){var _=T[h][w].trace.legendgrouptitle;if(_&&_.text){F=_,y&&(_.font=C._groupTitleFont);break}}if(t&&T[h].reverse(),F){var O=!1;for(w=0;w<T[h].length;w++)if(x.traceIs(T[h][w].trace,"pie-like")){O=!0;break}T[h].unshift({i:-1,groupTitle:F,noClick:O,trace:{showlegend:B.showlegend,legendgroup:B.legendgroup,visible:C.groupclick==="toggleitem"?!0:B.visible}})}for(w=0;w<T[h].length;w++)T[h][w]=[T[h][w]]}return C._lgroupsLength=T.length,C._maxNameLength=g,T}},33048:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=P.pushUnique,L=!0;V.exports=function(c,y,r){var t=y._fullLayout;if(y._dragged||y._editing)return;var s=t.legend.itemclick,n=t.legend.itemdoubleclick,u=t.legend.groupclick;r===1&&s==="toggle"&&n==="toggleothers"&&L&&y.data&&y._context.showTips&&P.notifier(P._(y,"Double-click on legend to isolate one trace"),"long"),L=!1;var l;if(r===1?l=s:r===2&&(l=n),!l)return;var f=u==="togglegroup",g=t.hiddenlabels?t.hiddenlabels.slice():[],h=c.data()[0][0];if(h.groupTitle&&h.noClick)return;var w=y._fullData,d=(t.shapes||[]).filter(function(Ve){return Ve.showlegend}),o=w.concat(d),v=h.trace;v._isShape&&(v=v._fullInput);var A=v.legendgroup,b,M,m,S,T,a,E={},p=[],k=[],R=[];function B(Ve,Ze){var ke=p.indexOf(Ve),Ye=E.visible;return Ye||(Ye=E.visible=[]),p.indexOf(Ve)===-1&&(p.push(Ve),ke=p.length-1),Ye[ke]=Ze,ke}var F=(t.shapes||[]).map(function(Ve){return Ve._input}),_=!1;function O(Ve,Ze){F[Ve].visible=Ze,_=!0}function z(Ve,Ze){if(!(h.groupTitle&&!f)){var ke=Ve._fullInput||Ve,Ye=ke._isShape,lt=ke.index;if(lt===void 0&&(lt=ke._index),x.hasTransform(ke,"groupby")){var yt=k[lt];if(!yt){var He=x.getTransformIndices(ke,"groupby"),Fe=He[He.length-1];yt=P.keyedContainer(ke,"transforms["+Fe+"].styles","target","value.visible"),k[lt]=yt}var nt=yt.get(Ve._group);nt===void 0&&(nt=!0),nt!==!1&&yt.set(Ve._group,Ze),R[lt]=B(lt,ke.visible!==!1)}else{var ot=ke.visible===!1?!1:Ze;Ye?O(lt,ot):B(lt,ot)}}}var N=v.legend,Y=v._fullInput,J=Y&&Y._isShape;if(!J&&x.traceIs(v,"pie-like")){var ae=h.label,se=g.indexOf(ae);if(l==="toggle")se===-1?g.push(ae):g.splice(se,1);else if(l==="toggleothers"){var ue=se!==-1,K=[];for(b=0;b<y.calcdata.length;b++){var j=y.calcdata[b];for(M=0;M<j.length;M++){var ie=j[M],W=ie.label;N===j[0].trace.legend&&ae!==W&&(g.indexOf(W)===-1&&(ue=!0),i(g,W),K.push(W))}}if(!ue)for(var Q=0;Q<K.length;Q++){var ee=g.indexOf(K[Q]);ee!==-1&&g.splice(ee,1)}}x.call("_guiRelayout",y,"hiddenlabels",g)}else{var $=A&&A.length,X=[],oe;if($)for(b=0;b<o.length;b++)oe=o[b],oe.visible&&oe.legendgroup===A&&X.push(b);if(l==="toggle"){var te;switch(v.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if($)if(f)for(b=0;b<o.length;b++){var fe=o[b];fe.visible!==!1&&fe.legendgroup===A&&z(fe,te)}else z(v,te);else z(v,te)}else if(l==="toggleothers"){var pe,Ae,be,Pe,me,Ee=!0;for(b=0;b<o.length;b++)if(me=o[b],pe=me===v,be=me.showlegend!==!0,!(pe||be)&&(Ae=$&&me.legendgroup===A,!Ae&&me.legend===N&&me.visible===!0&&!x.traceIs(me,"notLegendIsolatable"))){Ee=!1;break}for(b=0;b<o.length;b++)if(me=o[b],!(me.visible===!1||me.legend!==N)&&!x.traceIs(me,"notLegendIsolatable"))switch(v.visible){case"legendonly":z(me,!0);break;case!0:Pe=Ee?!0:"legendonly",pe=me===v,be=me.showlegend!==!0&&!me.legendgroup,Ae=pe||$&&me.legendgroup===A,z(me,Ae||be?!0:Pe);break}}for(b=0;b<k.length;b++)if(m=k[b],!!m){var xe=m.constructUpdate(),De=Object.keys(xe);for(M=0;M<De.length;M++)S=De[M],a=E[S]=E[S]||[],a[R[b]]=xe[S]}for(T=Object.keys(E),b=0;b<T.length;b++)for(S=T[b],M=0;M<p.length;M++)E[S].hasOwnProperty(M)||(E[S][M]=void 0);_?x.call("_guiUpdate",y,E,{shapes:F},p):x.call("_guiRestyle",y,E,p)}}},42451:function(V,U){"use strict";U.isGrouped=function(x){return(x.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(x){return x.orientation!=="h"},U.isReversed=function(x){return(x.traceorder||"").indexOf("reversed")!==-1}},2780:function(V,U,e){"use strict";V.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(3400),L=i.strTranslate,C=e(43616),c=e(76308),y=e(94288).extractOpts,r=e(43028),t=e(10528),s=e(69656).castOption,n=e(65196),u=12,l=5,f=2,g=10,h=5;V.exports=function(A,b,M){var m=b._fullLayout;M||(M=m.legend);var S=M.itemsizing==="constant",T=M.itemwidth,a=(T+n.itemGap*2)/2,E=L(a,0),p=function(K,j,ie,W){var Q;if(K+1)Q=K;else if(j&&j.width>0)Q=j.width;else return 0;return S?W:Math.min(Q,ie)};A.each(function(K){var j=x.select(this),ie=i.ensureSingle(j,"g","layers");ie.style("opacity",K[0].trace.opacity);var W=M.indentation,Q=M.valign,ee=K[0].lineHeight,$=K[0].height;if(Q==="middle"&&W===0||!ee||!$)ie.attr("transform",null);else{var X={top:1,bottom:-1}[Q],oe=X*(.5*(ee-$+3))||0,te=M.indentation;ie.attr("transform",L(te,oe))}var fe=ie.selectAll("g.legendfill").data([K]);fe.enter().append("g").classed("legendfill",!0);var pe=ie.selectAll("g.legendlines").data([K]);pe.enter().append("g").classed("legendlines",!0);var Ae=ie.selectAll("g.legendsymbols").data([K]);Ae.enter().append("g").classed("legendsymbols",!0),Ae.selectAll("g.legendpoints").data([K]).enter().append("g").classed("legendpoints",!0)}).each(ue).each(B).each(_).each(F).each(z).each(ae).each(J).each(k).each(R).each(N).each(Y);function k(K){var j=d(K),ie=j.showFill,W=j.showLine,Q=j.showGradientLine,ee=j.showGradientFill,$=j.anyFill,X=j.anyLine,oe=K[0],te=oe.trace,fe,pe,Ae=y(te),be=Ae.colorscale,Pe=Ae.reversescale,me=function(Ye){if(Ye.size())if(ie)C.fillGroupStyle(Ye,b,!0);else{var lt="legendfill-"+te.uid;C.gradient(Ye,b,lt,w(Pe),be,"fill")}},Ee=function(Ye){if(Ye.size()){var lt="legendline-"+te.uid;C.lineGroupStyle(Ye),C.gradient(Ye,b,lt,w(Pe),be,"stroke")}},xe=r.hasMarkers(te)||!$?"M5,0":X?"M5,-2":"M5,-3",De=x.select(this),Ve=De.select(".legendfill").selectAll("path").data(ie||ee?[K]:[]);if(Ve.enter().append("path").classed("js-fill",!0),Ve.exit().remove(),Ve.attr("d",xe+"h"+T+"v6h-"+T+"z").call(me),W||Q){var Ze=p(void 0,te.line,g,l);pe=i.minExtend(te,{line:{width:Ze}}),fe=[i.minExtend(oe,{trace:pe})]}var ke=De.select(".legendlines").selectAll("path").data(W||Q?[fe]:[]);ke.enter().append("path").classed("js-line",!0),ke.exit().remove(),ke.attr("d",xe+(Q?"l"+T+",0.0001":"h"+T)).call(W?C.lineGroupStyle:Ee)}function R(K){var j=d(K),ie=j.anyFill,W=j.anyLine,Q=j.showLine,ee=j.showMarker,$=K[0],X=$.trace,oe=!ee&&!W&&!ie&&r.hasText(X),te,fe;function pe(Ve,Ze,ke,Ye){var lt=i.nestedProperty(X,Ve).get(),yt=i.isArrayOrTypedArray(lt)&&Ze?Ze(lt):lt;if(S&&yt&&Ye!==void 0&&(yt=Ye),ke){if(yt<ke[0])return ke[0];if(yt>ke[1])return ke[1]}return yt}function Ae(Ve){return $._distinct&&$.index&&Ve[$.index]?Ve[$.index]:Ve[0]}if(ee||oe||Q){var be={},Pe={};if(ee){be.mc=pe("marker.color",Ae),be.mx=pe("marker.symbol",Ae),be.mo=pe("marker.opacity",i.mean,[.2,1]),be.mlc=pe("marker.line.color",Ae),be.mlw=pe("marker.line.width",i.mean,[0,5],f),Pe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var me=pe("marker.size",i.mean,[2,16],u);be.ms=me,Pe.marker.size=me}Q&&(Pe.line={width:pe("line.width",Ae,[0,10],l)}),oe&&(be.tx="Aa",be.tp=pe("textposition",Ae),be.ts=10,be.tc=pe("textfont.color",Ae),be.tf=pe("textfont.family",Ae)),te=[i.minExtend($,be)],fe=i.minExtend(X,Pe),fe.selectedpoints=null,fe.texttemplate=null}var Ee=x.select(this).select("g.legendpoints"),xe=Ee.selectAll("path.scatterpts").data(ee?te:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),xe.exit().remove(),xe.call(C.pointStyle,fe,b),ee&&(te[0].mrc=3);var De=Ee.selectAll("g.pointtext").data(oe?te:[]);De.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),De.exit().remove(),De.selectAll("text").call(C.textPointStyle,fe,b)}function B(K){var j=K[0].trace,ie=j.type==="waterfall";if(K[0]._distinct&&ie){var W=K[0].trace[K[0].dir].marker;return K[0].mc=W.color,K[0].mlw=W.line.width,K[0].mlc=W.line.color,O(K,this,"waterfall")}var Q=[];j.visible&&ie&&(Q=K[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ee=x.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Q);ee.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function($){var X=x.select(this),oe=j[$[0]].marker,te=p(void 0,oe.line,h,f);X.attr("d",$[1]).style("stroke-width",te+"px").call(c.fill,oe.color),te&&X.call(c.stroke,oe.line.color)})}function F(K){O(K,this)}function _(K){O(K,this,"funnel")}function O(K,j,ie){var W=K[0].trace,Q=W.marker||{},ee=Q.line||{},$=Q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",X=ie?W.visible&&W.type===ie:P.traceIs(W,"bar"),oe=x.select(j).select("g.legendpoints").selectAll("path.legend"+ie).data(X?[K]:[]);oe.enter().append("path").classed("legend"+ie,!0).attr("d",$).attr("transform",E),oe.exit().remove(),oe.each(function(te){var fe=x.select(this),pe=te[0],Ae=p(pe.mlw,Q.line,h,f);fe.style("stroke-width",Ae+"px");var be=pe.mcc;if(!M._inHover&&"mc"in pe){var Pe=y(Q),me=Pe.mid;me===void 0&&(me=(Pe.max+Pe.min)/2),be=C.tryColorscale(Q,"")(me)}var Ee=be||pe.mc||Q.color,xe=Q.pattern,De=xe&&C.getPatternAttr(xe.shape,0,"");if(De){var Ve=C.getPatternAttr(xe.bgcolor,0,null),Ze=C.getPatternAttr(xe.fgcolor,0,null),ke=xe.fgopacity,Ye=o(xe.size,8,10),lt=o(xe.solidity,.5,1),yt="legend-"+W.uid;fe.call(C.pattern,"legend",b,yt,De,Ye,lt,be,xe.fillmode,Ve,Ze,ke)}else fe.call(c.fill,Ee);Ae&&c.stroke(fe,pe.mlc||ee.color)})}function z(K){var j=K[0].trace,ie=x.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&P.traceIs(j,"box-violin")?[K]:[]);ie.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),ie.exit().remove(),ie.each(function(){var W=x.select(this);if((j.boxpoints==="all"||j.points==="all")&&c.opacity(j.fillcolor)===0&&c.opacity((j.line||{}).color)===0){var Q=i.minExtend(j,{marker:{size:S?u:i.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ie.call(C.pointStyle,Q,b)}else{var ee=p(void 0,j.line,h,f);W.style("stroke-width",ee+"px").call(c.fill,j.fillcolor),ee&&c.stroke(W,j.line.color)}})}function N(K){var j=K[0].trace,ie=x.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&j.type==="candlestick"?[K,K]:[]);ie.enter().append("path").classed("legendcandle",!0).attr("d",function(W,Q){return Q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(W,Q){var ee=x.select(this),$=j[Q?"increasing":"decreasing"],X=p(void 0,$.line,h,f);ee.style("stroke-width",X+"px").call(c.fill,$.fillcolor),X&&c.stroke(ee,$.line.color)})}function Y(K){var j=K[0].trace,ie=x.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&j.type==="ohlc"?[K,K]:[]);ie.enter().append("path").classed("legendohlc",!0).attr("d",function(W,Q){return Q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(W,Q){var ee=x.select(this),$=j[Q?"increasing":"decreasing"],X=p(void 0,$.line,h,f);ee.style("fill","none").call(C.dashLine,$.line.dash,X),X&&c.stroke(ee,$.line.color)})}function J(K){se(K,this,"pie")}function ae(K){se(K,this,"funnelarea")}function se(K,j,ie){var W=K[0],Q=W.trace,ee=ie?Q.visible&&Q.type===ie:P.traceIs(Q,ie),$=x.select(j).select("g.legendpoints").selectAll("path.legend"+ie).data(ee?[K]:[]);if($.enter().append("path").classed("legend"+ie,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),$.exit().remove(),$.size()){var X=Q.marker||{},oe=p(s(X.line.width,W.pts),X.line,h,f),te="pieLike",fe=i.minExtend(Q,{marker:{line:{width:oe}}},te),pe=i.minExtend(W,{trace:fe},te);t($,pe,fe,b)}}function ue(K){var j=K[0].trace,ie,W=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":W=[["M-15,-2V4H15V-2Z"]],ie=!0;break;case"choropleth":case"choroplethmapbox":W=[["M-6,-6V6H6V-6Z"]],ie=!0;break;case"densitymapbox":W=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ie="radial";break;case"cone":W=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ie=!1;break;case"streamtube":W=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ie=!1;break;case"surface":W=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ie=!0;break;case"mesh3d":W=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!1;break;case"volume":W=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!0;break;case"isosurface":W=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ie=!1;break}var Q=x.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(W);Q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(ee,$){var X=x.select(this),oe=y(j),te=oe.colorscale,fe=oe.reversescale,pe=function(me){if(me.size()){var Ee="legendfill-"+j.uid;C.gradient(me,b,Ee,w(fe,ie==="radial"),te,"fill")}},Ae;if(te){if(!ie){var Pe=te.length;Ae=$===0?te[fe?Pe-1:0][1]:$===1?te[fe?0:Pe-1][1]:te[Math.floor((Pe-1)/2)][1]}}else{var be=j.vertexcolor||j.facecolor||j.color;Ae=i.isArrayOrTypedArray(be)?be[$]||be[0]:be}X.attr("d",ee[0]),Ae?X.call(c.fill,Ae):X.call(pe)})}};function w(v,A){var b=A?"radial":"horizontal";return b+(v?"":"reversed")}function d(v){var A=v[0].trace,b=A.contours,M=r.hasLines(A),m=r.hasMarkers(A),S=A.visible&&A.fill&&A.fill!=="none",T=!1,a=!1;if(b){var E=b.coloring;E==="lines"?T=!0:M=E==="none"||E==="heatmap"||b.showlines,b.type==="constraint"?S=b._operation!=="=":(E==="fill"||E==="heatmap")&&(a=!0)}return{showMarker:m,showLine:M,showFill:S,showGradientLine:T,showGradientFill:a,anyLine:M||T,anyFill:S||a}}function o(v,A,b){return v&&i.isArrayOrTypedArray(v)?A:v>b?b:v}},66540:function(V,U,e){"use strict";var x=e(76052);V.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(V,U,e){"use strict";var x=e(24040),P=e(7316),i=e(79811),L=e(9224),C=e(4016).eraseActiveShape,c=e(3400),y=c._,r=V.exports={};r.toImage={name:"toImage",title:function(v){var A=v._context.toImageButtonOptions||{},b=A.format||"png";return b==="png"?y(v,"Download plot as a png"):y(v,"Download plot")},icon:L.camera,click:function(v){var A=v._context.toImageButtonOptions,b={format:A.format||"png"};c.notifier(y(v,"Taking snapshot - this may take a few seconds"),"long"),b.format!=="svg"&&c.isIE()&&(c.notifier(y(v,"IE only supports svg.  Changing format to svg."),"long"),b.format="svg"),["filename","width","height","scale"].forEach(function(M){M in A&&(b[M]=A[M])}),x.call("downloadImage",v,b).then(function(M){c.notifier(y(v,"Snapshot succeeded")+" - "+M,"long")}).catch(function(){c.notifier(y(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(v){return y(v,"Edit in Chart Studio")},icon:L.disk,click:function(v){P.sendDataToCloud(v)}},r.editInChartStudio={name:"editInChartStudio",title:function(v){return y(v,"Edit in Chart Studio")},icon:L.pencil,click:function(v){P.sendDataToCloud(v)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return y(v,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(v){return y(v,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(v){return y(v,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return y(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(v){return y(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(v){return y(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(v){return y(v,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(v){return y(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(v){return y(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(v){return y(v,"Erase active shape")},icon:L.eraseshape,click:C},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return y(v,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return y(v,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return y(v,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return y(v,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return y(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return y(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(v,A){var b=A.currentTarget,M=b.getAttribute("data-attr"),m=b.getAttribute("data-val")||!0,S=v._fullLayout,T={},a=i.list(v,null,!0),E=S._cartesianSpikesEnabled,p,k;if(M==="zoom"){var R=m==="in"?.5:2,B=(1+R)/2,F=(1-R)/2,_;for(k=0;k<a.length;k++)if(p=a[k],!p.fixedrange)if(_=p._name,m==="auto")T[_+".autorange"]=!0;else if(m==="reset")p._rangeInitial0===void 0&&p._rangeInitial1===void 0?T[_+".autorange"]=!0:p._rangeInitial0===void 0?(T[_+".autorange"]=p._autorangeInitial,T[_+".range"]=[null,p._rangeInitial1]):p._rangeInitial1===void 0?(T[_+".range"]=[p._rangeInitial0,null],T[_+".autorange"]=p._autorangeInitial):T[_+".range"]=[p._rangeInitial0,p._rangeInitial1],p._showSpikeInitial!==void 0&&(T[_+".showspikes"]=p._showSpikeInitial,E==="on"&&!p._showSpikeInitial&&(E="off"));else{var O=[p.r2l(p.range[0]),p.r2l(p.range[1])],z=[B*O[0]+F*O[1],B*O[1]+F*O[0]];T[_+".range[0]"]=p.l2r(z[0]),T[_+".range[1]"]=p.l2r(z[1])}}else M==="hovermode"&&(m==="x"||m==="y")&&(m=S._isHoriz?"y":"x",b.setAttribute("data-val",m)),T[M]=m;S._cartesianSpikesEnabled=E,x.call("_guiRelayout",v,T)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return y(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:s},r.pan3d={name:"pan3d",_cat:"pan",title:function(v){return y(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:s},r.orbitRotation={name:"orbitRotation",title:function(v){return y(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:s},r.tableRotation={name:"tableRotation",title:function(v){return y(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:s};function s(v,A){for(var b=A.currentTarget,M=b.getAttribute("data-attr"),m=b.getAttribute("data-val")||!0,S=v._fullLayout._subplots.gl3d||[],T={},a=M.split("."),E=0;E<S.length;E++)T[S[E]+"."+a[1]]=m;var p=m==="pan"?m:"zoom";T.dragmode=p,x.call("_guiRelayout",v,T)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return y(v,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return y(v,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(v,A){for(var b=A.currentTarget,M=b.getAttribute("data-attr"),m=M==="resetLastSave",S=M==="resetDefault",T=v._fullLayout,a=T._subplots.gl3d||[],E={},p=0;p<a.length;p++){var k=a[p],R=k+".camera",B=k+".aspectratio",F=k+".aspectmode",_=T[k]._scene,O;m?(E[R+".up"]=_.viewInitial.up,E[R+".eye"]=_.viewInitial.eye,E[R+".center"]=_.viewInitial.center,O=!0):S&&(E[R+".up"]=null,E[R+".eye"]=null,E[R+".center"]=null,O=!0),O&&(E[B+".x"]=_.viewInitial.aspectratio.x,E[B+".y"]=_.viewInitial.aspectratio.y,E[B+".z"]=_.viewInitial.aspectratio.z,E[F]=_.viewInitial.aspectmode)}x.call("_guiRelayout",v,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:l};function u(v,A){var b=A.currentTarget,M=b._previousVal,m=v._fullLayout,S=m._subplots.gl3d||[],T=["xaxis","yaxis","zaxis"],a={},E={};if(M)E=M,b._previousVal=null;else{for(var p=0;p<S.length;p++){var k=S[p],R=m[k],B=k+".hovermode";a[B]=R.hovermode,E[B]=!1;for(var F=0;F<3;F++){var _=T[F],O=k+"."+_+".showspikes";E[O]=!1,a[O]=R[_].showspikes}}b._previousVal=a}return E}function l(v,A){var b=u(v,A);x.call("_guiRelayout",v,b)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return y(v,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:f},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return y(v,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:f},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return y(v,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:f},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function f(v,A){for(var b=A.currentTarget,M=b.getAttribute("data-attr"),m=b.getAttribute("data-val")||!0,S=v._fullLayout,T=S._subplots.geo||[],a=0;a<T.length;a++){var E=T[a],p=S[E];if(M==="zoom"){var k=p.projection.scale,R=m==="in"?2*k:.5*k;x.call("_guiRelayout",v,E+".projection.scale",R)}}M==="reset"&&o(v,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function g(v){var A=v._fullLayout;return A.hovermode?!1:A._has("cartesian")?A._isHoriz?"y":"x":"closest"}function h(v){var A=g(v);x.call("_guiRelayout",v,"hovermode",A)}r.resetViewSankey={name:"resetSankeyGroup",title:function(v){return y(v,"Reset view")},icon:L.home,click:function(v){for(var A={"node.groups":[],"node.x":[],"node.y":[]},b=0;b<v._fullData.length;b++){var M=v._fullData[b]._viewInitial;A["node.groups"].push(M.node.groups.slice()),A["node.x"].push(M.node.x.slice()),A["node.y"].push(M.node.y.slice())}x.call("restyle",v,A)}},r.toggleHover={name:"toggleHover",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(v,A){var b=u(v,A);b.hovermode=g(v),x.call("_guiRelayout",v,b)}},r.resetViews={name:"resetViews",title:function(v){return y(v,"Reset views")},icon:L.home,click:function(v,A){var b=A.currentTarget;b.setAttribute("data-attr","zoom"),b.setAttribute("data-val","reset"),t(v,A),b.setAttribute("data-attr","resetLastSave"),n(v,A),o(v,"geo"),o(v,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(v){return y(v,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var A=v._fullLayout,b=A._cartesianSpikesEnabled;A._cartesianSpikesEnabled=b==="on"?"off":"on",x.call("_guiRelayout",v,w(v))}};function w(v){for(var A=v._fullLayout,b=A._cartesianSpikesEnabled==="on",M=i.list(v,null,!0),m={},S=0;S<M.length;S++){var T=M[S];m[T._name+".showspikes"]=b?!0:T._showSpikeInitial}return m}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return y(v,"Reset view")},attr:"reset",icon:L.home,click:function(v){o(v,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return y(v,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:d},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return y(v,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:d};function d(v,A){for(var b=A.currentTarget,M=b.getAttribute("data-val"),m=v._fullLayout,S=m._subplots.mapbox||[],T=1.05,a={},E=0;E<S.length;E++){var p=S[E],k=m[p].zoom,R=M==="in"?T*k:k/T;a[p+".zoom"]=R}x.call("_guiRelayout",v,a)}function o(v,A){for(var b=v._fullLayout,M=b._subplots[A]||[],m={},S=0;S<M.length;S++)for(var T=M[S],a=b[T]._subplot,E=a.viewInitial,p=Object.keys(E),k=0;k<p.length;k++){var R=p[k];m[T+"."+R]=E[R]}x.call("_guiRelayout",v,m)}},76052:function(V,U,e){"use strict";var x=e(44248),P=Object.keys(x),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),C=[],c=function(y){if(L.indexOf(y._cat||y.name)===-1){var r=y.name,t=(y._cat||y.name).toLowerCase();C.indexOf(r)===-1&&C.push(r),C.indexOf(t)===-1&&C.push(t)}};P.forEach(function(y){c(x[y])}),C.sort(),V.exports={DRAW_MODES:i,backButtons:L,foreButtons:C}},90824:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(31780),L=e(66540);V.exports=function(c,y){var r=c.modebar||{},t=i.newContainer(y,"modebar");function s(u,l){return x.coerce(r,t,L,u,l)}s("orientation"),s("bgcolor",P.addOpacity(y.paper_bgcolor,.5));var n=P.contrast(P.rgb(y.modebar.bgcolor));s("color",P.addOpacity(n,.3)),s("activecolor",P.addOpacity(n,.7)),s("uirevision",y.uirevision),s("add"),s("remove")}},45460:function(V,U,e){"use strict";V.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(V,U,e){"use strict";var x=e(79811),P=e(43028),i=e(24040),L=e(10624).isUnifiedHover,C=e(66400),c=e(44248),y=e(76052).DRAW_MODES,r=e(3400).extendDeep;V.exports=function(h){var w=h._fullLayout,d=h._context,o=w._modeBar;if(!d.displayModeBar&&!d.watermark){o&&(o.destroy(),delete w._modeBar);return}if(!Array.isArray(d.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(d.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var v=d.modeBarButtons,A;Array.isArray(v)&&v.length?A=f(v):!d.displayModeBar&&d.watermark?A=[]:A=t(h),o?o.update(h,A):w._modeBar=C(h,A)};function t(g){var h=g._fullLayout,w=g._fullData,d=g._context;function o($,X){if(typeof X=="string"){if(X.toLowerCase()===$.toLowerCase())return!0}else{var oe=X.name,te=X._cat||X.name;if(oe===$||te===$.toLowerCase())return!0}return!1}var v=h.modebar.add;typeof v=="string"&&(v=[v]);var A=h.modebar.remove;typeof A=="string"&&(A=[A]);var b=d.modeBarButtonsToAdd.concat(v.filter(function($){for(var X=0;X<d.modeBarButtonsToRemove.length;X++)if(o($,d.modeBarButtonsToRemove[X]))return!1;return!0})),M=d.modeBarButtonsToRemove.concat(A.filter(function($){for(var X=0;X<d.modeBarButtonsToAdd.length;X++)if(o($,d.modeBarButtonsToAdd[X]))return!1;return!0})),m=h._has("cartesian"),S=h._has("gl3d"),T=h._has("geo"),a=h._has("pie"),E=h._has("funnelarea"),p=h._has("gl2d"),k=h._has("ternary"),R=h._has("mapbox"),B=h._has("polar"),F=h._has("smith"),_=h._has("sankey"),O=s(h),z=L(h.hovermode),N=[];function Y($){if($.length){for(var X=[],oe=0;oe<$.length;oe++){for(var te=$[oe],fe=c[te],pe=fe.name.toLowerCase(),Ae=(fe._cat||fe.name).toLowerCase(),be=!1,Pe=0;Pe<M.length;Pe++){var me=M[Pe].toLowerCase();if(me===pe||me===Ae){be=!0;break}}be||X.push(c[te])}N.push(X)}}var J=["toImage"];d.showEditInChartStudio?J.push("editInChartStudio"):d.showSendToCloud&&J.push("sendDataToCloud"),Y(J);var ae=[],se=[],ue=[],K=[];(m||p||a||E||k)+T+S+R+B+F>1?(se=["toggleHover"],ue=["resetViews"]):T?(ae=["zoomInGeo","zoomOutGeo"],se=["hoverClosestGeo"],ue=["resetGeo"]):S?(se=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):R?(ae=["zoomInMapbox","zoomOutMapbox"],se=["toggleHover"],ue=["resetViewMapbox"]):p?se=["hoverClosestGl2d"]:a?se=["hoverClosestPie"]:_?(se=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):se=["toggleHover"],m&&(se=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(u(w)||z)&&(se=[]),(m||p)&&!O&&(ae=["zoomIn2d","zoomOut2d","autoScale2d"],ue[0]!=="resetViews"&&(ue=["resetScale2d"])),S?K=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||p)&&!O||k?K=["zoom2d","pan2d"]:R||T?K=["pan2d"]:B&&(K=["zoom2d"]),n(w)&&K.push("select2d","lasso2d");var j=[],ie=function($){j.indexOf($)===-1&&se.indexOf($)!==-1&&j.push($)};if(Array.isArray(b)){for(var W=[],Q=0;Q<b.length;Q++){var ee=b[Q];typeof ee=="string"?(ee=ee.toLowerCase(),y.indexOf(ee)!==-1?(h._has("mapbox")||h._has("cartesian"))&&K.push(ee):ee==="togglespikelines"?ie("toggleSpikelines"):ee==="togglehover"?ie("toggleHover"):ee==="hovercompare"?ie("hoverCompareCartesian"):ee==="hoverclosest"?(ie("hoverClosestCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie")):ee==="v1hovermode"&&(ie("toggleHover"),ie("hoverClosestCartesian"),ie("hoverCompareCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie"))):W.push(ee)}b=W}return Y(K),Y(ae.concat(ue)),Y(j),l(N,b)}function s(g){for(var h=x.list({_fullLayout:g},null,!0),w=0;w<h.length;w++)if(!h[w].fixedrange)return!1;return!0}function n(g){for(var h=!1,w=0;w<g.length&&!h;w++){var d=g[w];!d._module||!d._module.selectPoints||(i.traceIs(d,"scatter-like")?(P.hasMarkers(d)||P.hasText(d))&&(h=!0):i.traceIs(d,"box-violin")?(d.boxpoints==="all"||d.points==="all")&&(h=!0):h=!0)}return h}function u(g){for(var h=0;h<g.length;h++)if(!i.traceIs(g[h],"noHover"))return!1;return!0}function l(g,h){if(h.length)if(Array.isArray(h[0]))for(var w=0;w<h.length;w++)g.push(h[w]);else g.push(h);return g}function f(g){for(var h=r([],g),w=0;w<h.length;w++)for(var d=h[w],o=0;o<d.length;o++){var v=d[o];if(typeof v=="string")if(c[v]!==void 0)h[w][o]=c[v];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(3400),L=e(9224),C=e(25788).version,c=new DOMParser;function y(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=y.prototype;r.update=function(n,u){this.graphInfo=n;var l=this.graphInfo._context,f=this.graphInfo._fullLayout,g="modebar-"+f._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",l.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),f.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var h=f.modebar,w=l.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(g),i.addRelatedStyleRule(g,w+"#"+g+" .modebar-group","background-color: "+h.bgcolor),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+h.color),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+h.activecolor),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+h.activecolor);var d=!this.hasButtons(u),o=this.hasLogo!==l.displaylogo,v=this.locale!==l.locale;if(this.locale=l.locale,(d||o||v)&&(this.removeAllButtons(),this.updateButtons(u),l.watermark||l.displaylogo)){var A=this.getLogo();l.watermark&&(A.className=A.className+" watermark"),f.modebar.orientation==="v"?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var u=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(l){var f=u.createGroup();l.forEach(function(g){var h=g.name;if(!h)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");u.buttonsNames.push(h);var w=u.createButton(g);u.buttonElements.push(w),f.appendChild(w)}),u.element.appendChild(f)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var u=this,l=document.createElement("a");l.setAttribute("rel","tooltip"),l.className="modebar-btn";var f=n.title;f===void 0?f=n.name:typeof f=="function"&&(f=f(this.graphInfo)),(f||f===0)&&l.setAttribute("data-title",f),n.attr!==void 0&&l.setAttribute("data-attr",n.attr);var g=n.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),l.setAttribute("data-val",g));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");l.addEventListener("click",function(d){n.click(u.graphInfo,d),u.updateActiveButton(d.currentTarget)}),l.setAttribute("data-toggle",n.toggle||!1),n.toggle&&x.select(l).classed("active",!0);var w=n.icon;return typeof w=="function"?l.appendChild(w()):l.appendChild(this.createIcon(w||L.question)),l.setAttribute("data-gravity",n.gravity||"n"),l},r.createIcon=function(n){var u=P(n.height)?Number(n.height):n.ascent-n.descent,l="http://www.w3.org/2000/svg",f;if(n.path){f=document.createElementNS(l,"svg"),f.setAttribute("viewBox",[0,0,n.width,u].join(" ")),f.setAttribute("class","icon");var g=document.createElementNS(l,"path");g.setAttribute("d",n.path),n.transform?g.setAttribute("transform",n.transform):n.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),f.appendChild(g)}if(n.svg){var h=c.parseFromString(n.svg,"application/xml");f=h.childNodes[0]}return f.setAttribute("height","1em"),f.setAttribute("width","1em"),f},r.updateActiveButton=function(n){var u=this.graphInfo._fullLayout,l=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(f){var g=f.getAttribute("data-val")||!0,h=f.getAttribute("data-attr"),w=f.getAttribute("data-toggle")==="true",d=x.select(f);if(w)h===l&&d.classed("active",!d.classed("active"));else{var o=h===null?h:i.nestedProperty(u,h).get();d.classed("active",o===g)}})},r.hasButtons=function(n){var u=this.buttons;if(!u||n.length!==u.length)return!1;for(var l=0;l<n.length;++l){if(n[l].length!==u[l].length)return!1;for(var f=0;f<n[l].length;f++)if(n[l][f].name!==u[l][f].name)return!1}return!0};function t(n){return n+" (v"+C+")"}r.getLogo=function(){var n=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",t(i._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(u),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function s(n,u){var l=n._fullLayout,f=new y({graphInfo:n,container:l._modebardiv.node(),buttons:u});return l._privateplot&&x.select(f.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),f}V.exports=s},26680:function(V,U,e){"use strict";var x=e(25376),P=e(22548),i=e(31780).templatedArray,L=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});V.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:x({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(V){"use strict";V.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(31780),L=e(51272),C=e(26680),c=e(85984);V.exports=function(s,n,u,l,f){var g=s.rangeselector||{},h=i.newContainer(n,"rangeselector");function w(b,M){return x.coerce(g,h,C,b,M)}var d=L(g,h,{name:"buttons",handleItemDefaults:y,calendar:f}),o=w("visible",d.length>0);if(o){var v=r(n,u,l);w("x",v[0]),w("y",v[1]),x.noneOrAll(s,n,["x","y"]),w("xanchor"),w("yanchor"),x.coerceFont(w,"font",u.font);var A=w("bgcolor");w("activecolor",P.contrast(A,c.lightAmount,c.darkAmount)),w("bordercolor"),w("borderwidth")}};function y(t,s,n,u){var l=u.calendar;function f(w,d){return x.coerce(t,s,C.buttons,w,d)}var g=f("visible");if(g){var h=f("step");h!=="all"&&(l&&l!=="gregorian"&&(h==="month"||h==="year")?s.stepmode="backward":f("stepmode"),f("count")),f("label")}}function r(t,s,n){for(var u=n.filter(function(h){return s[h].anchor===t._id}),l=0,f=0;f<u.length;f++){var g=s[u[f]].domain;g&&(l=Math.max(g[1],l))}return[t.domain[0],l+c.yPad]}},50216:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(7316),L=e(76308),C=e(43616),c=e(3400),y=c.strTranslate,r=e(72736),t=e(79811),s=e(84284),n=s.LINE_SPACING,u=s.FROM_TL,l=s.FROM_BR,f=e(85984),g=e(48040);V.exports=function(S){var T=S._fullLayout,a=T._infolayer.selectAll(".rangeselector").data(h(S),w);a.enter().append("g").classed("rangeselector",!0),a.exit().remove(),a.style({cursor:"pointer","pointer-events":"all"}),a.each(function(E){var p=x.select(this),k=E,R=k.rangeselector,B=p.selectAll("g.button").data(c.filterVisible(R.buttons));B.enter().append("g").classed("button",!0),B.exit().remove(),B.each(function(F){var _=x.select(this),O=g(k,F);F._isActive=d(k,F,O),_.call(o,R,F),_.call(A,R,F,S),_.on("click",function(){S._dragged||P.call("_guiRelayout",S,O)}),_.on("mouseover",function(){F._isHovered=!0,_.call(o,R,F)}),_.on("mouseout",function(){F._isHovered=!1,_.call(o,R,F)})}),M(S,B,R,k._name,p)})};function h(m){for(var S=t.list(m,"x",!0),T=[],a=0;a<S.length;a++){var E=S[a];E.rangeselector&&E.rangeselector.visible&&T.push(E)}return T}function w(m){return m._id}function d(m,S,T){if(S.step==="all")return m.autorange===!0;var a=Object.keys(T);return m.range[0]===T[a[0]]&&m.range[1]===T[a[1]]}function o(m,S,T){var a=c.ensureSingle(m,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});a.attr({rx:f.rx,ry:f.ry}),a.call(L.stroke,S.bordercolor).call(L.fill,v(S,T)).style("stroke-width",S.borderwidth+"px")}function v(m,S){return S._isActive||S._isHovered?m.activecolor:m.bgcolor}function A(m,S,T,a){function E(k){r.convertToTspans(k,a)}var p=c.ensureSingle(m,"text","selector-text",function(k){k.attr("text-anchor","middle")});p.call(C.font,S.font).text(b(T,a._fullLayout._meta)).call(E)}function b(m,S){return m.label?S?c.templateString(m.label,S):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function M(m,S,T,a,E){var p=0,k=0,R=T.borderwidth;S.each(function(){var N=x.select(this),Y=N.select(".selector-text"),J=T.font.size*n,ae=Math.max(J*r.lineCount(Y),16)+3;k=Math.max(k,ae)}),S.each(function(){var N=x.select(this),Y=N.select(".selector-rect"),J=N.select(".selector-text"),ae=J.node()&&C.bBox(J.node()).width,se=T.font.size*n,ue=r.lineCount(J),K=Math.max(ae+10,f.minButtonWidth);N.attr("transform",y(R+p,R)),Y.attr({x:0,y:0,width:K,height:k}),r.positionText(J,K/2,k/2-(ue-1)*se/2+3),p+=K+5});var B=m._fullLayout._size,F=B.l+B.w*T.x,_=B.t+B.h*(1-T.y),O="left";c.isRightAnchor(T)&&(F-=p,O="right"),c.isCenterAnchor(T)&&(F-=p/2,O="center");var z="top";c.isBottomAnchor(T)&&(_-=k,z="bottom"),c.isMiddleAnchor(T)&&(_-=k/2,z="middle"),p=Math.ceil(p),k=Math.ceil(k),F=Math.round(F),_=Math.round(_),i.autoMargin(m,a+"-range-selector",{x:T.x,y:T.y,l:p*u[O],r:p*l[O],b:k*l[z],t:k*u[z]}),E.attr("transform",y(F,_))}},48040:function(V,U,e){"use strict";var x=e(73220),P=e(3400).titleCase;V.exports=function(C,c){var y=C._name,r={};if(c.step==="all")r[y+".autorange"]=!0;else{var t=i(C,c);r[y+".range[0]"]=t[0],r[y+".range[1]"]=t[1]}return r};function i(L,C){var c=L.range,y=new Date(L.r2l(c[1])),r=C.step,t=x["utc"+P(r)],s=C.count,n;switch(C.stepmode){case"backward":n=L.l2r(+t.offset(y,-s));break;case"todate":var u=t.offset(y,-s);n=L.l2r(+t.ceil(u));break}var l=c[1];return[n,l]}},41152:function(V,U,e){"use strict";V.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(V,U,e){"use strict";var x=e(22548);V.exports={bgcolor:{valType:"color",dflt:x.background,editType:"plot"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(V,U,e){"use strict";var x=e(79811).list,P=e(19280).getAutoRange,i=e(74636);V.exports=function(C){for(var c=x(C,"x",!0),y=0;y<c.length;y++){var r=c[y],t=r[i.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(C,r))}}},74636:function(V){"use strict";V.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(V,U,e){"use strict";var x=e(3400),P=e(31780),i=e(79811),L=e(11200),C=e(10936);V.exports=function(y,r,t){var s=y[t],n=r[t];if(!(s.rangeslider||r._requestRangeslider[n._id]))return;x.isPlainObject(s.rangeslider)||(s.rangeslider={});var u=s.rangeslider,l=P.newContainer(n,"rangeslider");function f(a,E){return x.coerce(u,l,L,a,E)}var g,h;function w(a,E){return x.coerce(g,h,C,a,E)}var d=f("visible");if(d){f("bgcolor",r.plot_bgcolor),f("bordercolor"),f("borderwidth"),f("thickness"),f("autorange",!n.isValidRange(u.range)),f("range");var o=r._subplots;if(o)for(var v=o.cartesian.filter(function(a){return a.substr(0,a.indexOf("y"))===i.name2id(t)}).map(function(a){return a.substr(a.indexOf("y"),a.length)}),A=x.simpleMap(v,i.id2name),b=0;b<A.length;b++){var M=A[b];g=u[M]||{},h=P.newContainer(l,M,"yaxis");var m=r[M],S;g.range&&m.isValidRange(g.range)&&(S="fixed");var T=w("rangemode",S);T!=="match"&&w("range",m.range.slice())}l._input=u}}},20060:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(7316),L=e(3400),C=L.strTranslate,c=e(43616),y=e(76308),r=e(81668),t=e(57952),s=e(79811),n=e(86476),u=e(93972),l=e(74636);V.exports=function(S){for(var T=S._fullLayout,a=T._rangeSliderData,E=0;E<a.length;E++){var p=a[E][l.name];p._clipId=p._id+"-"+T._uid}function k(B){return B._name}var R=T._infolayer.selectAll("g."+l.containerClassName).data(a,k);R.exit().each(function(B){var F=B[l.name];T._topdefs.select("#"+F._clipId).remove()}).remove(),a.length!==0&&(R.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),R.each(function(B){var F=x.select(this),_=B[l.name],O=T[s.id2name(B.anchor)],z=_[s.id2name(B.anchor)];if(_.range){var N=L.simpleMap(_.range,B.r2l),Y=L.simpleMap(B.range,B.r2l),J;Y[0]<Y[1]?J=[Math.min(N[0],Y[0]),Math.max(N[1],Y[1])]:J=[Math.max(N[0],Y[0]),Math.min(N[1],Y[1])],_.range=_._input.range=L.simpleMap(J,B.l2r)}B.cleanRange("rangeslider.range");var ae=T._size,se=B.domain;_._width=ae.w*(se[1]-se[0]);var ue=Math.round(ae.l+ae.w*se[0]),K=Math.round(ae.t+ae.h*(1-B._counterDomainMin)+(B.side==="bottom"?B._depth:0)+_._offsetShift+l.extraPad);F.attr("transform",C(ue,K)),_._rl=L.simpleMap(_.range,B.r2l);var j=_._rl[0],ie=_._rl[1],W=ie-j;if(_.p2d=function(be){return be/_._width*W+j},_.d2p=function(be){return(be-j)/W*_._width},B.rangebreaks){var Q=B.locateBreaks(j,ie);if(Q.length){var ee,$,X=0;for(ee=0;ee<Q.length;ee++)$=Q[ee],X+=$.max-$.min;var oe=_._width/(ie-j-X),te=[-oe*j];for(ee=0;ee<Q.length;ee++)$=Q[ee],te.push(te[te.length-1]-oe*($.max-$.min));for(_.d2p=function(be){for(var Pe=te[0],me=0;me<Q.length;me++){var Ee=Q[me];if(be>=Ee.max)Pe=te[me+1];else if(be<Ee.min)break}return Pe+oe*be},ee=0;ee<Q.length;ee++)$=Q[ee],$.pmin=_.d2p($.min),$.pmax=_.d2p($.max);_.p2d=function(be){for(var Pe=te[0],me=0;me<Q.length;me++){var Ee=Q[me];if(be>=Ee.pmax)Pe=te[me+1];else if(be<Ee.pmin)break}return(be-Pe)/oe}}}if(z.rangemode!=="match"){var fe=O.r2l(z.range[0]),pe=O.r2l(z.range[1]),Ae=pe-fe;_.d2pOppAxis=function(be){return(be-fe)/Ae*_._height}}F.call(d,S,B,_).call(o,S,B,_).call(v,S,B,_).call(b,S,B,_,z).call(M,S,B,_).call(m,S,B,_),g(F,S,B,_),w(F,S,B,_,O,z),B.side==="bottom"&&r.draw(S,B._id+"title",{propContainer:B,propName:B._name+".title",placeholder:T._dfltTitle.x,attributes:{x:B._offset+B._length/2,y:K+_._height+_._offsetShift+10+1.5*B.title.font.size,"text-anchor":"middle"}})}))};function f(S){return typeof S.clientX=="number"?S.clientX:S.touches&&S.touches.length>0?S.touches[0].clientX:0}function g(S,T,a,E){if(T._context.staticPlot)return;var p=S.select("rect."+l.slideBoxClassName).node(),k=S.select("rect."+l.grabAreaMinClassName).node(),R=S.select("rect."+l.grabAreaMaxClassName).node();function B(){var F=x.event,_=F.target,O=f(F),z=O-S.node().getBoundingClientRect().left,N=E.d2p(a._rl[0]),Y=E.d2p(a._rl[1]),J=n.coverSlip();this.addEventListener("touchmove",ae),this.addEventListener("touchend",se),J.addEventListener("mousemove",ae),J.addEventListener("mouseup",se);function ae(ue){var K=f(ue),j=+K-O,ie,W,Q;switch(_){case p:if(Q="ew-resize",N+j>a._length||Y+j<0)return;ie=N+j,W=Y+j;break;case k:if(Q="col-resize",N+j>a._length)return;ie=N+j,W=Y;break;case R:if(Q="col-resize",Y+j<0)return;ie=N,W=Y+j;break;default:Q="ew-resize",ie=z,W=z+j;break}if(W<ie){var ee=W;W=ie,ie=ee}E._pixelMin=ie,E._pixelMax=W,u(x.select(J),Q),h(S,T,a,E)}function se(){J.removeEventListener("mousemove",ae),J.removeEventListener("mouseup",se),this.removeEventListener("touchmove",ae),this.removeEventListener("touchend",se),L.removeElement(J)}}S.on("mousedown",B),S.on("touchstart",B)}function h(S,T,a,E){function p(B){return a.l2r(L.constrain(B,E._rl[0],E._rl[1]))}var k=p(E.p2d(E._pixelMin)),R=p(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",T,a._name+".range",[k,R])})}function w(S,T,a,E,p,k){var R=l.handleWidth/2;function B(ue){return L.constrain(ue,0,E._width)}function F(ue){return L.constrain(ue,0,E._height)}function _(ue){return L.constrain(ue,-R,E._width+R)}var O=B(E.d2p(a._rl[0])),z=B(E.d2p(a._rl[1]));if(S.select("rect."+l.slideBoxClassName).attr("x",O).attr("width",z-O),S.select("rect."+l.maskMinClassName).attr("width",O),S.select("rect."+l.maskMaxClassName).attr("x",z).attr("width",E._width-z),k.rangemode!=="match"){var N=E._height-F(E.d2pOppAxis(p._rl[1])),Y=E._height-F(E.d2pOppAxis(p._rl[0]));S.select("rect."+l.maskMinOppAxisClassName).attr("x",O).attr("height",N).attr("width",z-O),S.select("rect."+l.maskMaxOppAxisClassName).attr("x",O).attr("y",Y).attr("height",E._height-Y).attr("width",z-O),S.select("rect."+l.slideBoxClassName).attr("y",N).attr("height",Y-N)}var J=.5,ae=Math.round(_(O-R))-J,se=Math.round(_(z-R))+J;S.select("g."+l.grabberMinClassName).attr("transform",C(ae,J)),S.select("g."+l.grabberMaxClassName).attr("transform",C(se,J))}function d(S,T,a,E){var p=L.ensureSingle(S,"rect",l.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,R=-E._offsetShift,B=c.crispRound(T,E.borderwidth);p.attr({width:E._width+k,height:E._height+k,transform:C(R,R),"stroke-width":B}).call(y.stroke,E.bordercolor).call(y.fill,E.bgcolor)}function o(S,T,a,E){var p=T._fullLayout,k=L.ensureSingleById(p._topdefs,"clipPath",E._clipId,function(R){R.append("rect").attr({x:0,y:0})});k.select("rect").attr({width:E._width,height:E._height})}function v(S,T,a,E){var p=T.calcdata,k=S.selectAll("g."+l.rangePlotClassName).data(a._subplotsWith,L.identity);k.enter().append("g").attr("class",function(B){return l.rangePlotClassName+" "+B}).call(c.setClipUrl,E._clipId,T),k.order(),k.exit().remove();var R;k.each(function(B,F){var _=x.select(this),O=F===0,z=s.getFromId(T,B,"y"),N=z._name,Y=E[N],J={data:[],layout:{xaxis:{type:a.type,domain:[0,1],range:E.range.slice(),calendar:a.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};a.rangebreaks&&(J.layout.xaxis.rangebreaks=a.rangebreaks),J.layout[N]={type:z.type,domain:[0,1],range:Y.rangemode!=="match"?Y.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(J.layout[N].rangebreaks=z.rangebreaks),i.supplyDefaults(J);var ae=J._fullLayout.xaxis,se=J._fullLayout[N];ae.clearCalc(),ae.setScale(),se.clearCalc(),se.setScale();var ue={id:B,plotgroup:_,xaxis:ae,yaxis:se,isRangePlot:!0};O?R=ue:(ue.mainplot="xy",ue.mainplotinfo=R),t.rangePlot(T,ue,A(p,B))})}function A(S,T){for(var a=[],E=0;E<S.length;E++){var p=S[E],k=p[0].trace;k.xaxis+k.yaxis===T&&a.push(p)}return a}function b(S,T,a,E,p){var k=L.ensureSingle(S,"rect",l.maskMinClassName,function(_){_.attr({x:0,y:0,"shape-rendering":"crispEdges"})});k.attr("height",E._height).call(y.fill,l.maskColor);var R=L.ensureSingle(S,"rect",l.maskMaxClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});if(R.attr("height",E._height).call(y.fill,l.maskColor),p.rangemode!=="match"){var B=L.ensureSingle(S,"rect",l.maskMinOppAxisClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});B.attr("width",E._width).call(y.fill,l.maskOppAxisColor);var F=L.ensureSingle(S,"rect",l.maskMaxOppAxisClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",E._width).style("border-top",l.maskOppBorder).call(y.fill,l.maskOppAxisColor)}}function M(S,T,a,E){if(!T._context.staticPlot){var p=L.ensureSingle(S,"rect",l.slideBoxClassName,function(k){k.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})});p.attr({height:E._height,fill:l.slideBoxFill})}}function m(S,T,a,E){var p=L.ensureSingle(S,"g",l.grabberMinClassName),k=L.ensureSingle(S,"g",l.grabberMaxClassName),R={x:0,width:l.handleWidth,rx:l.handleRadius,fill:y.background,stroke:y.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},B={y:Math.round(E._height/4),height:Math.round(E._height/2)},F=L.ensureSingle(p,"rect",l.handleMinClassName,function(Y){Y.attr(R)});F.attr(B);var _=L.ensureSingle(k,"rect",l.handleMaxClassName,function(Y){Y.attr(R)});_.attr(B);var O={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:T._context.staticPlot?void 0:l.grabAreaCursor},z=L.ensureSingle(p,"rect",l.grabAreaMinClassName,function(Y){Y.attr(O)});z.attr("height",E._height);var N=L.ensureSingle(k,"rect",l.grabAreaMaxClassName,function(Y){Y.attr(O)});N.attr("height",E._height)}},97944:function(V,U,e){"use strict";var x=e(79811),P=e(72736),i=e(74636),L=e(84284).LINE_SPACING,C=i.name;function c(y){var r=y&&y[C];return r&&r.visible}U.isVisible=c,U.makeData=function(y){var r=x.list({_fullLayout:y},"x",!0),t=y.margin,s=[];if(!y._has("gl2d"))for(var n=0;n<r.length;n++){var u=r[n];if(c(u)){s.push(u);var l=u[C];l._id=C+u._id,l._height=(y.height-t.b-t.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}y._rangeSliderData=s},U.autoMarginOpts=function(y,r){var t=y._fullLayout,s=r[C],n=r._id.charAt(0),u=0,l=0;if(r.side==="bottom"&&(u=r._depth,r.title.text!==t._dfltTitle[n])){l=1.5*r.title.font.size+10+s._offsetShift;var f=(r.title.text.match(P.BR_TAG_ALL)||[]).length;l+=f*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:s._height+u+Math.max(t.margin.b,l),pad:i.extraPad+s._offsetShift*2}}},49692:function(V,U,e){"use strict";var x=e(3400),P=e(11200),i=e(10936),L=e(97944);V.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:x.extendFlat({},P,{yaxis:i})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},10936:function(V){"use strict";V.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(V,U,e){"use strict";var x=e(13916),P=e(52904).line,i=e(98192).u,L=e(92880).extendFlat,C=e(67824).overrideAll,c=e(31780).templatedArray,y=e(36208);V.exports=C(c("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},x.xref,{}),yref:L({},x.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},i,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(V){"use strict";V.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(51272),L=e(93956),C=e(65152);V.exports=function(r,t){i(r,t,{name:"selections",handleItemDefaults:c});for(var s=t.selections,n=0;n<s.length;n++){var u=s[n];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(t.selections[n]=null)}};function c(y,r,t){function s(p,k){return x.coerce(y,r,L,p,k)}var n=s("path"),u=n?"path":"rect",l=s("type",u),f=l!=="path";f&&delete r.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var g=["x","y"],h=0;h<2;h++){var w=g[h],d={_fullLayout:t},o,v,A,b=P.coerceRef(y,r,d,w);if(o=P.getFromId(d,b),o._selectionIndices.push(r._index),A=C.rangeToShapePosition(o),v=C.shapePositionToRange(o),f){var M=w+"0",m=w+"1",S=y[M],T=y[m];y[M]=v(y[M],!0),y[m]=v(y[m],!0),P.coercePosition(r,d,s,b,M),P.coercePosition(r,d,s,b,m);var a=r[M],E=r[m];a!==void 0&&E!==void 0&&(r[M]=A(a),r[m]=A(E),y[M]=S,y[m]=T)}}f&&x.noneOrAll(y,r,["x0","x1","y0","y1"])}},23640:function(V,U,e){"use strict";var x=e(9856).readPaths,P=e(55496),i=e(1936).clearOutlineControllers,L=e(76308),C=e(43616),c=e(31780).arrayEditor,y=e(65152),r=y.getPathString;V.exports={draw:t,drawOne:n,activateLastSelection:f};function t(h){var w=h._fullLayout;i(h),w._selectionLayer.selectAll("path").remove();for(var d in w._plots){var o=w._plots[d].selectionLayer;o&&o.selectAll("path").remove()}for(var v=0;v<w.selections.length;v++)n(h,v)}function s(h){return h._context.editSelection}function n(h,w){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+w+'"]').remove();var d=y.makeSelectionsOptionsAndPlotinfo(h,w),o=d.options,v=d.plotinfo;if(!o._input)return;A(h._fullLayout._selectionLayer);function A(b){var M=r(h,o),m={"data-index":w,"fill-rule":"evenodd",d:M},S=o.opacity,T="rgba(0,0,0,0)",a=o.line.color||L.contrast(h._fullLayout.plot_bgcolor),E=o.line.width,p=o.line.dash;E||(E=5,p="solid");var k=s(h)&&h._fullLayout._activeSelectionIndex===w;k&&(T=h._fullLayout.activeselection.fillcolor,S=h._fullLayout.activeselection.opacity);for(var R=[],B=1;B>=0;B--){var F=b.append("path").attr(m).style("opacity",B?.1:S).call(L.stroke,a).call(L.fill,T).call(C.dashLine,B?"solid":p,B?4+E:E);if(u(F,h,o),k){var _=c(h.layout,"selections",o);F.style({cursor:"move"});var O={element:F.node(),plotinfo:v,gd:h,editHelpers:_,isActiveSelection:!0},z=x(M,h);P(z,F,O)}else F.style("pointer-events",B?"all":"none");R[B]=F}var N=R[0],Y=R[1];Y.node().addEventListener("click",function(){return l(h,N)})}}function u(h,w,d){var o=d.xref+d.yref;C.setClipUrl(h,"clip"+w._fullLayout._uid+o,w)}function l(h,w){if(s(h)){var d=w.node(),o=+d.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){g(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=g,t(h)}}}function f(h){if(s(h)){var w=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=w,h._fullLayout._deactivateSelection=g,t(h)}}function g(h){if(s(h)){var w=h._fullLayout._activeSelectionIndex;w>=0&&(i(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(V,U,e){"use strict";var x=e(98192).u,P=e(92880).extendFlat;V.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},x,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(V){"use strict";V.exports=function(e,x,P){P("newselection.mode");var i=P("newselection.line.width");i&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},5968:function(V,U,e){"use strict";var x=e(72760),P=x.selectMode,i=e(1936),L=i.clearOutline,C=e(9856),c=C.readPaths,y=C.writePaths,r=C.fixDatesForPaths;V.exports=function(s,n){if(s.length){var u=s[0][0];if(u){var l=u.getAttribute("d"),f=n.gd,g=f._fullLayout.newselection,h=n.plotinfo,w=h.xaxis,d=h.yaxis,o=n.isActiveSelection,v=n.dragmode,A=(f.layout||{}).selections||[];if(!P(v)&&o!==void 0){var b=f._fullLayout._activeSelectionIndex;if(b<A.length)switch(f._fullLayout.selections[b].type){case"rect":v="select";break;case"path":v="lasso";break}}var M=c(l,f,h,o),m={xref:w._id,yref:d._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}},S;M.length===1&&(S=M[0]),S&&S.length===5&&v==="select"?(m.type="rect",m.x0=S[0][1],m.y0=S[0][2],m.x1=S[2][1],m.y1=S[2][2]):(m.type="path",w&&d&&r(M,w,d),m.path=y(M),S=null),L(f);for(var T=n.editHelpers,a=(T||{}).modifyItem,E=[],p=0;p<A.length;p++){var k=f._fullLayout.selections[p];if(!k){E[p]=k;continue}if(E[p]=k._input,o!==void 0&&p===f._fullLayout._activeSelectionIndex){var R=m;switch(k.type){case"rect":a("x0",R.x0),a("x1",R.x1),a("y0",R.y0),a("y1",R.y1);break;case"path":a("path",R.path);break}}}return o===void 0?(E.push(m),E):T?T.getUpdateObj():{}}}}},5840:function(V,U,e){"use strict";var x=e(3400).strTranslate;function P(c,y){switch(c.type){case"log":return c.p2d(y);case"date":return c.p2r(y,0,c.calendar);default:return c.p2r(y)}}function i(c,y){switch(c.type){case"log":return c.d2p(y);case"date":return c.r2p(y,0,c.calendar);default:return c.r2p(y)}}function L(c){var y=c._id.charAt(0)==="y"?1:0;return function(r){return P(c,r[y])}}function C(c){return x(c.xaxis._offset,c.yaxis._offset)}V.exports={p2r:P,r2p:i,axValue:L,getTransform:C}},22676:function(V,U,e){"use strict";var x=e(23640),P=e(43156);V.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:x.draw,drawOne:x.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},43156:function(V,U,e){"use strict";var x=e(14756),P=e(61456),i=e(24040),L=e(43616).dashStyle,C=e(76308),c=e(93024),y=e(10624).makeEventData,r=e(72760),t=r.freeMode,s=r.rectMode,n=r.drawMode,u=r.openMode,l=r.selectMode,f=e(65152),g=e(85448),h=e(55496),w=e(1936).clearOutline,d=e(9856),o=d.handleEllipse,v=d.readPaths,A=e(93940).newShapes,b=e(5968),M=e(23640).activateLastSelection,m=e(3400),S=m.sorterAsc,T=e(92065),a=e(91200),E=e(79811).getFromId,p=e(73696),k=e(39172).redrawReglTraces,R=e(83280),B=R.MINSELECT,F=T.filter,_=T.tester,O=e(5840),z=O.p2r,N=O.axValue,Y=O.getTransform;function J(Xe){return Xe.subplot!==void 0}function ae(Xe,Oe,Ne,ze,et){var Le=!J(ze),Te=t(et),ye=s(et),Se=u(et),Ke=n(et),rt=l(et),Lt=et==="drawline",It=et==="drawcircle",wt=Lt||It,Et=ze.gd,Wt=Et._fullLayout,vr=rt&&Wt.newselection.mode==="immediate"&&Le,dt=Wt._zoomlayer,Yt=ze.element.getBoundingClientRect(),jt=ze.plotinfo,gr=Y(jt),sr=Oe-Yt.left,gt=Ne-Yt.top;Wt._calcInverseTransform(Et);var st=m.apply3DTransform(Wt._invTransform)(sr,gt);sr=st[0],gt=st[1];var xt=Wt._invScaleX,Mt=Wt._invScaleY,Rt=sr,Vt=gt,Ct="M"+sr+","+gt,Bt=ze.xaxes[0],Xt=ze.yaxes[0],ir=Bt._length,or=Xt._length,cr=Xe.altKey&&!(n(et)&&Se),We,Ue,Ft,kt,Zt,rr,lr;W(Xe,Et,ze),Te&&(We=F([[sr,gt]],R.BENDPX));var qt=dt.selectAll("path.select-outline-"+jt.id).data([1]),Ot=Ke?Wt.newshape:Wt.newselection;Ke&&(ze.hasText=Ot.label.text||Ot.label.texttemplate);var tr=Ke&&!Se?Ot.fillcolor:"rgba(0,0,0,0)",dr=Ot.line.color||(Le?C.contrast(Et._fullLayout.plot_bgcolor):"#7f7f7f");qt.enter().append("path").attr("class","select-outline select-outline-"+jt.id).style({opacity:Ke?Ot.opacity/2:1,"stroke-dasharray":L(Ot.line.dash,Ot.line.width),"stroke-width":Ot.line.width+"px","shape-rendering":"crispEdges"}).call(C.stroke,dr).call(C.fill,tr).attr("fill-rule","evenodd").classed("cursor-move",!!Ke).attr("transform",gr).attr("d",Ct+"Z");var mr=dt.append("path").attr("class","zoombox-corners").style({fill:C.background,stroke:C.defaultLine,"stroke-width":1}).attr("transform",gr).attr("d","M0,0Z");if(Ke&&ze.hasText){var Cr=dt.select(".label-temp");Cr.empty()&&(Cr=dt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var $r=Wt._uid+R.SELECTID,yr=[],Gr=oe(Et,ze.xaxes,ze.yaxes,ze.subplot);vr&&!Xe.shiftKey&&(ze._clearSubplotSelections=function(){if(Le){var _r=Bt._id,bn=Xt._id;yt(Et,_r,bn,Gr);for(var xn=(Et.layout||{}).selections||[],fr=[],Dr=!1,Nr=0;Nr<xn.length;Nr++){var Ur=Wt.selections[Nr];Ur.xref!==_r||Ur.yref!==bn?fr.push(xn[Nr]):Dr=!0}Dr&&(Et._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Et,{selections:fr}))}});var rn=tt(ze);ze.moveFn=function(_r,bn){ze._clearSubplotSelections&&(ze._clearSubplotSelections(),ze._clearSubplotSelections=void 0),Rt=Math.max(0,Math.min(ir,xt*_r+sr)),Vt=Math.max(0,Math.min(or,Mt*bn+gt));var xn=Math.abs(Rt-sr),fr=Math.abs(Vt-gt);if(ye){var Dr,Nr,Ur;if(rt){var on=Wt.selectdirection;switch(on==="any"?fr<Math.min(xn*.6,B)?Dr="h":xn<Math.min(fr*.6,B)?Dr="v":Dr="d":Dr=on,Dr){case"h":Nr=It?or/2:0,Ur=or;break;case"v":Nr=It?ir/2:0,Ur=ir;break}}if(Ke)switch(Wt.newshape.drawdirection){case"vertical":Dr="h",Nr=It?or/2:0,Ur=or;break;case"horizontal":Dr="v",Nr=It?ir/2:0,Ur=ir;break;case"ortho":xn<fr?(Dr="h",Nr=gt,Ur=Vt):(Dr="v",Nr=sr,Ur=Rt);break;default:Dr="d"}Dr==="h"?(kt=wt?o(It,[Rt,Nr],[Rt,Ur]):[[sr,Nr],[sr,Ur],[Rt,Ur],[Rt,Nr]],kt.xmin=wt?Rt:Math.min(sr,Rt),kt.xmax=wt?Rt:Math.max(sr,Rt),kt.ymin=Math.min(Nr,Ur),kt.ymax=Math.max(Nr,Ur),mr.attr("d","M"+kt.xmin+","+(gt-B)+"h-4v"+2*B+"h4ZM"+(kt.xmax-1)+","+(gt-B)+"h4v"+2*B+"h-4Z")):Dr==="v"?(kt=wt?o(It,[Nr,Vt],[Ur,Vt]):[[Nr,gt],[Nr,Vt],[Ur,Vt],[Ur,gt]],kt.xmin=Math.min(Nr,Ur),kt.xmax=Math.max(Nr,Ur),kt.ymin=wt?Vt:Math.min(gt,Vt),kt.ymax=wt?Vt:Math.max(gt,Vt),mr.attr("d","M"+(sr-B)+","+kt.ymin+"v-4h"+2*B+"v4ZM"+(sr-B)+","+(kt.ymax-1)+"v4h"+2*B+"v-4Z")):Dr==="d"&&(kt=wt?o(It,[sr,gt],[Rt,Vt]):[[sr,gt],[sr,Vt],[Rt,Vt],[Rt,gt]],kt.xmin=Math.min(sr,Rt),kt.xmax=Math.max(sr,Rt),kt.ymin=Math.min(gt,Vt),kt.ymax=Math.max(gt,Vt),mr.attr("d","M0,0Z"))}else Te&&(We.addPt([Rt,Vt]),kt=We.filtered);if(ze.selectionDefs&&ze.selectionDefs.length?(Ft=xe(ze.mergedPolygons,kt,cr),kt.subtract=cr,Ue=ie(ze.selectionDefs.concat([kt]))):(Ft=[kt],Ue=_(kt)),h(Ve(Ft,Se),qt,ze),rt){var gn=ke(Et,!1),yn=gn.eventData?gn.eventData.points.slice():[];gn=ke(Et,!1,Ue,Gr,ze),Ue=gn.selectionTesters,lr=gn.eventData;var Pn;We?Pn=We.filtered:Pn=ct(Ft),a.throttle($r,R.SELECTDELAY,function(){yr=Ze(Ue,Gr);for(var zn=yr.slice(),ta=0;ta<yn.length;ta++){for(var Un=yn[ta],ra=!1,Jn=0;Jn<zn.length;Jn++)if(zn[Jn].curveNumber===Un.curveNumber&&zn[Jn].pointNumber===Un.pointNumber){ra=!0;break}ra||zn.push(Un)}zn.length&&(lr||(lr={}),lr.points=zn),rn(lr,Pn),Re(Et,lr)})}},ze.clickFn=function(_r,bn){if(mr.remove(),Et._fullLayout._activeShapeIndex>=0){Et._fullLayout._deactivateShape(Et);return}if(!Ke){var xn=Wt.clickmode;a.done($r).then(function(){if(a.clear($r),_r===2){for(qt.remove(),Zt=0;Zt<Gr.length;Zt++)rr=Gr[Zt],rr._module.selectPoints(rr,!1);if(me(Et,Gr),$(ze),Je(Et),Gr.length){var fr=Gr[0].xaxis,Dr=Gr[0].yaxis;if(fr&&Dr){for(var Nr=[],Ur=Et._fullLayout.selections,on=0;on<Ur.length;on++){var gn=Ur[on];gn&&(gn.xref!==fr._id||gn.yref!==Dr._id)&&Nr.push(gn)}Nr.length<Ur.length&&(Et._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Et,{selections:Nr}))}}}else xn.indexOf("select")>-1&&se(bn,Et,ze.xaxes,ze.yaxes,ze.subplot,ze,qt),xn==="event"&&Ge(Et,void 0);c.click(Et,bn,jt.id)}).catch(m.error)}},ze.doneFn=function(){mr.remove(),a.done($r).then(function(){a.clear($r),!vr&&kt&&ze.selectionDefs&&(kt.subtract=cr,ze.selectionDefs.push(kt),ze.mergedPolygons.length=0,[].push.apply(ze.mergedPolygons,Ft)),(vr||Ke)&&$(ze,vr),ze.doneFnCompleted&&ze.doneFnCompleted(yr),rt&&Ge(Et,lr)}).catch(m.error)}}function se(Xe,Oe,Ne,ze,et,Le,Te){var ye=Oe._hoverdata,Se=Oe._fullLayout,Ke=Se.clickmode,rt=Ke.indexOf("event")>-1,Lt=[],It,wt,Et,Wt,vr,dt,Yt,jt,gr,sr;if(fe(ye)){W(Xe,Oe,Le),It=oe(Oe,Ne,ze,et);var gt=pe(ye,It),st=gt.pointNumbers.length>0;if(st?be(It,gt):Pe(It)&&(Yt=Ae(gt))){for(Te&&Te.remove(),sr=0;sr<It.length;sr++)wt=It[sr],wt._module.selectPoints(wt,!1);me(Oe,It),$(Le),rt&&Je(Oe)}else{jt=Xe.shiftKey&&(Yt!==void 0?Yt:Ae(gt)),Et=ue(gt.pointNumber,gt.searchInfo,jt);var xt=Le.selectionDefs.concat([Et]);for(Wt=ie(xt,Wt),sr=0;sr<It.length;sr++)if(vr=It[sr]._module.selectPoints(It[sr],Wt),dt=De(vr,It[sr]),Lt.length)for(var Mt=0;Mt<dt.length;Mt++)Lt.push(dt[Mt]);else Lt=dt;if(gr={points:Lt},me(Oe,It,gr),Et&&Le&&Le.selectionDefs.push(Et),Te){var Rt=Le.mergedPolygons,Vt=u(Le.dragmode);h(Ve(Rt,Vt),Te,Le)}rt&&Ge(Oe,gr)}}}function ue(Xe,Oe,Ne){return{pointNumber:Xe,searchInfo:Oe,subtract:!!Ne}}function K(Xe){return"pointNumber"in Xe&&"searchInfo"in Xe}function j(Xe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Oe,Ne,ze,et){var Le=Xe.searchInfo.cd[0].trace._expandedIndex,Te=et.cd[0].trace._expandedIndex;return Te===Le&&ze===Xe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Xe.subtract}}function ie(Xe){if(!Xe.length)return;for(var Oe=[],Ne=K(Xe[0])?0:Xe[0][0][0],ze=Ne,et=K(Xe[0])?0:Xe[0][0][1],Le=et,Te=0;Te<Xe.length;Te++)if(K(Xe[Te]))Oe.push(j(Xe[Te]));else{var ye=_(Xe[Te]);ye.subtract=!!Xe[Te].subtract,Oe.push(ye),Ne=Math.min(Ne,ye.xmin),ze=Math.max(ze,ye.xmax),et=Math.min(et,ye.ymin),Le=Math.max(Le,ye.ymax)}function Se(Ke,rt,Lt,It){for(var wt=!1,Et=0;Et<Oe.length;Et++)Oe[Et].contains(Ke,rt,Lt,It)&&(wt=!Oe[Et].subtract);return wt}return{xmin:Ne,xmax:ze,ymin:et,ymax:Le,pts:[],contains:Se,isRect:!1,degenerate:!1}}function W(Xe,Oe,Ne){var ze=Oe._fullLayout,et=Ne.plotinfo,Le=Ne.dragmode,Te=ze._lastSelectedSubplot&&ze._lastSelectedSubplot===et.id,ye=(Xe.shiftKey||Xe.altKey)&&!(n(Le)&&u(Le));Te&&ye&&et.selection&&et.selection.selectionDefs&&!Ne.selectionDefs?(Ne.selectionDefs=et.selection.selectionDefs,Ne.mergedPolygons=et.selection.mergedPolygons):(!ye||!et.selection)&&$(Ne),Te||(w(Oe),ze._lastSelectedSubplot=et.id)}function Q(Xe){return Xe._fullLayout._activeShapeIndex>=0}function ee(Xe){return Xe._fullLayout._activeSelectionIndex>=0}function $(Xe,Oe){var Ne=Xe.dragmode,ze=Xe.plotinfo,et=Xe.gd;Q(et)&&et._fullLayout._deactivateShape(et),ee(et)&&et._fullLayout._deactivateSelection(et);var Le=et._fullLayout,Te=Le._zoomlayer,ye=n(Ne),Se=l(Ne);if(ye||Se){var Ke=Te.selectAll(".select-outline-"+ze.id);if(Ke&&et._fullLayout._outlining){var rt;ye&&(rt=A(Ke,Xe)),rt&&i.call("_guiRelayout",et,{shapes:rt});var Lt;Se&&!J(Xe)&&(Lt=b(Ke,Xe)),Lt&&(et._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",et,{selections:Lt}).then(function(){Oe&&M(et)})),et._fullLayout._outlining=!1}}ze.selection={},ze.selection.selectionDefs=Xe.selectionDefs=[],ze.selection.mergedPolygons=Xe.mergedPolygons=[]}function X(Xe){return Xe._id}function oe(Xe,Oe,Ne,ze){if(!Xe.calcdata)return[];var et=[],Le=Oe.map(X),Te=Ne.map(X),ye,Se,Ke;for(Ke=0;Ke<Xe.calcdata.length;Ke++)if(ye=Xe.calcdata[Ke],Se=ye[0].trace,!(Se.visible!==!0||!Se._module||!Se._module.selectPoints))if(J({subplot:ze})&&(Se.subplot===ze||Se.geo===ze))et.push(te(Se._module,ye,Oe[0],Ne[0]));else if(Se.type==="splom"){if(Se._xaxes[Le[0]]&&Se._yaxes[Te[0]]){var rt=te(Se._module,ye,Oe[0],Ne[0]);rt.scene=Xe._fullLayout._splomScenes[Se.uid],et.push(rt)}}else if(Se.type==="sankey"){var Lt=te(Se._module,ye,Oe[0],Ne[0]);et.push(Lt)}else{if(Le.indexOf(Se.xaxis)===-1&&(!Se._xA||!Se._xA.overlaying)||Te.indexOf(Se.yaxis)===-1&&(!Se._yA||!Se._yA.overlaying))continue;et.push(te(Se._module,ye,E(Xe,Se.xaxis),E(Xe,Se.yaxis)))}return et}function te(Xe,Oe,Ne,ze){return{_module:Xe,cd:Oe,xaxis:Ne,yaxis:ze}}function fe(Xe){return Xe&&Array.isArray(Xe)&&Xe[0].hoverOnBox!==!0}function pe(Xe,Oe){var Ne=Xe[0],ze=-1,et=[],Le,Te;for(Te=0;Te<Oe.length;Te++)if(Le=Oe[Te],Ne.fullData._expandedIndex===Le.cd[0].trace._expandedIndex){if(Ne.hoverOnBox===!0)break;Ne.pointNumber!==void 0?ze=Ne.pointNumber:Ne.binNumber!==void 0&&(ze=Ne.binNumber,et=Ne.pointNumbers);break}return{pointNumber:ze,pointNumbers:et,searchInfo:Le}}function Ae(Xe){var Oe=Xe.searchInfo.cd[0].trace,Ne=Xe.pointNumber,ze=Xe.pointNumbers,et=ze.length>0,Le=et?ze[0]:Ne;return Oe.selectedpoints?Oe.selectedpoints.indexOf(Le)>-1:!1}function be(Xe,Oe){var Ne=[],ze,et,Le,Te;for(Te=0;Te<Xe.length;Te++)ze=Xe[Te],ze.cd[0].trace.selectedpoints&&ze.cd[0].trace.selectedpoints.length>0&&Ne.push(ze);if(Ne.length===1&&(Le=Ne[0]===Oe.searchInfo,Le&&(et=Oe.searchInfo.cd[0].trace,et.selectedpoints.length===Oe.pointNumbers.length))){for(Te=0;Te<Oe.pointNumbers.length;Te++)if(et.selectedpoints.indexOf(Oe.pointNumbers[Te])<0)return!1;return!0}return!1}function Pe(Xe){var Oe=0,Ne,ze,et;for(et=0;et<Xe.length;et++)if(Ne=Xe[et],ze=Ne.cd[0].trace,ze.selectedpoints&&(ze.selectedpoints.length>1||(Oe+=ze.selectedpoints.length,Oe>1)))return!1;return Oe===1}function me(Xe,Oe,Ne){var ze;for(ze=0;ze<Oe.length;ze++){var et=Oe[ze].cd[0].trace._fullInput,Le=Xe._fullLayout._tracePreGUI[et.uid]||{};Le.selectedpoints===void 0&&(Le.selectedpoints=et._input.selectedpoints||null)}var Te;if(Ne){var ye=Ne.points||[];for(ze=0;ze<Oe.length;ze++)Te=Oe[ze].cd[0].trace,Te._input.selectedpoints=Te._fullInput.selectedpoints=[],Te._fullInput!==Te&&(Te.selectedpoints=[]);for(var Se=0;Se<ye.length;Se++){var Ke=ye[Se],rt=Ke.data,Lt=Ke.fullData,It=Ke.pointIndex,wt=Ke.pointIndices;wt?([].push.apply(rt.selectedpoints,wt),Te._fullInput!==Te&&[].push.apply(Lt.selectedpoints,wt)):(rt.selectedpoints.push(It),Te._fullInput!==Te&&Lt.selectedpoints.push(It))}}else for(ze=0;ze<Oe.length;ze++)Te=Oe[ze].cd[0].trace,delete Te.selectedpoints,delete Te._input.selectedpoints,Te._fullInput!==Te&&delete Te._fullInput.selectedpoints;Ee(Xe,Oe)}function Ee(Xe,Oe){for(var Ne=!1,ze=0;ze<Oe.length;ze++){var et=Oe[ze],Le=et.cd;i.traceIs(Le[0].trace,"regl")&&(Ne=!0);var Te=et._module,ye=Te.styleOnSelect||Te.style;ye&&(ye(Xe,Le,Le[0].node3),Le[0].nodeRangePlot3&&ye(Xe,Le,Le[0].nodeRangePlot3))}Ne&&(p(Xe),k(Xe))}function xe(Xe,Oe,Ne){for(var ze=Ne?x.difference:x.union,et=ze({regions:Xe},{regions:[Oe]}),Le=et.regions.reverse(),Te=0;Te<Le.length;Te++){var ye=Le[Te];ye.subtract=nt(ye,Le.slice(0,Te))}return Le}function De(Xe,Oe){if(Array.isArray(Xe))for(var Ne=Oe.cd,ze=Oe.cd[0].trace,et=0;et<Xe.length;et++)Xe[et]=y(Xe[et],ze,Ne);return Xe}function Ve(Xe,Oe){for(var Ne=[],ze=0;ze<Xe.length;ze++){Ne[ze]=[];for(var et=0;et<Xe[ze].length;et++){Ne[ze][et]=[],Ne[ze][et][0]=et?"L":"M";for(var Le=0;Le<Xe[ze][et].length;Le++)Ne[ze][et].push(Xe[ze][et][Le])}Oe||Ne[ze].push(["Z",Ne[ze][0][1],Ne[ze][0][2]])}return Ne}function Ze(Xe,Oe){for(var Ne=[],ze,et=[],Le,Te=0;Te<Oe.length;Te++){var ye=Oe[Te];Le=ye._module.selectPoints(ye,Xe),et.push(Le),ze=De(Le,ye),Ne=Ne.concat(ze)}return Ne}function ke(Xe,Oe,Ne,ze,et){var Le=!!ze,Te,ye,Se;et&&(Te=et.plotinfo,ye=et.xaxes[0]._id,Se=et.yaxes[0]._id);var Ke=[],rt=[],Lt=Fe(Xe),It=Xe._fullLayout;if(Te){var wt=It._zoomlayer,Et=It.dragmode,Wt=n(Et),vr=l(Et);if(Wt||vr){var dt=E(Xe,ye,"x"),Yt=E(Xe,Se,"y");if(dt&&Yt){var jt=wt.selectAll(".select-outline-"+Te.id);if(jt&&Xe._fullLayout._outlining&&jt.length){for(var gr=jt[0][0],sr=gr.getAttribute("d"),gt=v(sr,Xe,Te),st=[],xt=0;xt<gt.length;xt++){for(var Mt=gt[xt],Rt=[],Vt=0;Vt<Mt.length;Vt++)Rt.push([ot(dt,Mt[Vt][1]),ot(Yt,Mt[Vt][2])]);Rt.xref=ye,Rt.yref=Se,Rt.subtract=nt(Rt,st),st.push(Rt)}Lt=Lt.concat(st)}}}}var Ct=ye&&Se?[ye+Se]:It._subplots.cartesian;Ye(Xe);for(var Bt={},Xt=0;Xt<Ct.length;Xt++){var ir=Ct[Xt],or=ir.indexOf("y"),cr=ir.slice(0,or),We=ir.slice(or),Ue=ye&&Se?Ne:void 0;if(Ue=He(Lt,cr,We,Ue),Ue){var Ft=ze;if(!Le){var kt=E(Xe,cr,"x"),Zt=E(Xe,We,"y");Ft=oe(Xe,[kt],[Zt],ir);for(var rr=0;rr<Ft.length;rr++){var lr=Ft[rr],qt=lr.cd[0],Ot=qt.trace;if(lr._module.name==="scattergl"&&!qt.t.xpx){var tr=Ot.x,dr=Ot.y,mr=Ot._length;qt.t.xpx=[],qt.t.ypx=[];for(var Cr=0;Cr<mr;Cr++)qt.t.xpx[Cr]=kt.c2p(tr[Cr]),qt.t.ypx[Cr]=Zt.c2p(dr[Cr])}lr._module.name==="splom"&&(Bt[Ot.uid]||(Bt[Ot.uid]=!0))}}var $r=Ze(Ue,Ft);Ke=Ke.concat($r),rt=rt.concat(Ft)}}var yr={points:Ke};me(Xe,rt,yr);var Gr=It.clickmode,rn=Gr.indexOf("event")>-1&&Oe;if(!Te&&Oe){var _r=Fe(Xe,!0);if(_r.length){var bn=_r[0].xref,xn=_r[0].yref;if(bn&&xn){var fr=ct(_r),Dr=mt([E(Xe,bn,"x"),E(Xe,xn,"y")]);Dr(yr,fr)}}Xe._fullLayout._noEmitSelectedAtStart?Xe._fullLayout._noEmitSelectedAtStart=!1:rn&&Ge(Xe,yr),It._reselect=!1}if(!Te&&It._deselect){var Nr=It._deselect;ye=Nr.xref,Se=Nr.yref,lt(ye,Se,rt)||yt(Xe,ye,Se,ze),rn&&(yr.points.length?Ge(Xe,yr):Je(Xe)),It._deselect=!1}return{eventData:yr,selectionTesters:Ne}}function Ye(Xe){var Oe=Xe.calcdata;if(Oe)for(var Ne=0;Ne<Oe.length;Ne++){var ze=Oe[Ne][0],et=ze.trace,Le=Xe._fullLayout._splomScenes;if(Le){var Te=Le[et.uid];Te&&(Te.selectBatch=[])}}}function lt(Xe,Oe,Ne){for(var ze=0;ze<Ne.length;ze++){var et=Ne[ze];if(et.xaxis&&et.xaxis._id===Xe&&et.yaxis&&et.yaxis._id===Oe)return!0}return!1}function yt(Xe,Oe,Ne,ze){ze=oe(Xe,[E(Xe,Oe,"x")],[E(Xe,Ne,"y")],Oe+Ne);for(var et=0;et<ze.length;et++){var Le=ze[et];Le._module.selectPoints(Le,!1)}me(Xe,ze)}function He(Xe,Oe,Ne,ze){for(var et,Le=0;Le<Xe.length;Le++){var Te=Xe[Le];if(!(Oe!==Te.xref||Ne!==Te.yref))if(et){var ye=!!Te.subtract;et=xe(et,Te,ye),ze=ie(et)}else et=[Te],ze=_(Te)}return ze}function Fe(Xe,Oe){for(var Ne=[],ze=Xe._fullLayout,et=ze.selections,Le=et.length,Te=0;Te<Le;Te++)if(!(Oe&&Te!==ze._activeSelectionIndex)){var ye=et[Te];if(ye){var Se=ye.xref,Ke=ye.yref,rt=E(Xe,Se,"x"),Lt=E(Xe,Ke,"y"),It,wt,Et,Wt,vr;if(ye.type==="rect"){vr=[];var dt=ot(rt,ye.x0),Yt=ot(rt,ye.x1),jt=ot(Lt,ye.y0),gr=ot(Lt,ye.y1);vr=[[dt,jt],[dt,gr],[Yt,gr],[Yt,jt]],It=Math.min(dt,Yt),wt=Math.max(dt,Yt),Et=Math.min(jt,gr),Wt=Math.max(jt,gr),vr.xmin=It,vr.xmax=wt,vr.ymin=Et,vr.ymax=Wt,vr.xref=Se,vr.yref=Ke,vr.subtract=!1,vr.isRect=!0,Ne.push(vr)}else if(ye.type==="path")for(var sr=ye.path.split("Z"),gt=[],st=0;st<sr.length;st++){var xt=sr[st];if(xt){xt+="Z";var Mt=f.extractPathCoords(xt,g.paramIsX,"raw"),Rt=f.extractPathCoords(xt,g.paramIsY,"raw");It=1/0,wt=-1/0,Et=1/0,Wt=-1/0,vr=[];for(var Vt=0;Vt<Mt.length;Vt++){var Ct=ot(rt,Mt[Vt]),Bt=ot(Lt,Rt[Vt]);vr.push([Ct,Bt]),It=Math.min(Ct,It),wt=Math.max(Ct,wt),Et=Math.min(Bt,Et),Wt=Math.max(Bt,Wt)}vr.xmin=It,vr.xmax=wt,vr.ymin=Et,vr.ymax=Wt,vr.xref=Se,vr.yref=Ke,vr.subtract=nt(vr,gt),gt.push(vr),Ne.push(vr)}}}}return Ne}function nt(Xe,Oe){for(var Ne=!1,ze=0;ze<Oe.length;ze++)for(var et=Oe[ze],Le=0;Le<Xe.length;Le++)if(P(Xe[Le],et)){Ne=!Ne;break}return Ne}function ot(Xe,Oe){return Xe.type==="date"&&(Oe=Oe.replace("_"," ")),Xe.type==="log"?Xe.c2p(Oe):Xe.r2p(Oe,null,Xe.calendar)}function ct(Xe){for(var Oe=Xe.length,Ne=[],ze=0;ze<Oe;ze++){var et=Xe[ze];Ne=Ne.concat(et),Ne=Ne.concat([et[0]])}return ht(Ne)}function ht(Xe){return Xe.isRect=Xe.length===5&&Xe[0][0]===Xe[4][0]&&Xe[0][1]===Xe[4][1]&&Xe[0][0]===Xe[1][0]&&Xe[2][0]===Xe[3][0]&&Xe[0][1]===Xe[3][1]&&Xe[1][1]===Xe[2][1]||Xe[0][1]===Xe[1][1]&&Xe[2][1]===Xe[3][1]&&Xe[0][0]===Xe[3][0]&&Xe[1][0]===Xe[2][0],Xe.isRect&&(Xe.xmin=Math.min(Xe[0][0],Xe[2][0]),Xe.xmax=Math.max(Xe[0][0],Xe[2][0]),Xe.ymin=Math.min(Xe[0][1],Xe[2][1]),Xe.ymax=Math.max(Xe[0][1],Xe[2][1])),Xe}function mt(Xe){return function(Oe,Ne){for(var ze,et,Le=0;Le<Xe.length;Le++){var Te=Xe[Le],ye=Te._id,Se=ye.charAt(0);if(Ne.isRect){ze||(ze={});var Ke=Ne[Se+"min"],rt=Ne[Se+"max"];Ke!==void 0&&rt!==void 0&&(ze[ye]=[z(Te,Ke),z(Te,rt)].sort(S))}else et||(et={}),et[ye]=Ne.map(N(Te))}ze&&(Oe.range=ze),et&&(Oe.lassoPoints=et)}}function tt(Xe){var Oe=Xe.plotinfo;return Oe.fillRangeItems||mt(Xe.xaxes.concat(Xe.yaxes))}function Re(Xe,Oe){Xe.emit("plotly_selecting",Oe)}function Ge(Xe,Oe){Oe&&(Oe.selections=(Xe.layout||{}).selections||[]),Xe.emit("plotly_selected",Oe)}function Je(Xe){Xe.emit("plotly_deselect",null)}V.exports={reselect:ke,prepSelect:ae,clearOutline:w,clearSelectionsCache:$,selectOnClick:se}},46056:function(V,U,e){"use strict";var x=e(13916),P=e(25376),i=e(52904).line,L=e(98192).u,C=e(92880).extendFlat,c=e(31780).templatedArray,y=e(36208),r=e(45464),t=e(21776).ye,s=e(97728);V.exports=c("shape",{visible:C({},r.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:C({},r.legend,{editType:"calc+arraydraw"}),legendgroup:C({},r.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:C({},r.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:C({},r.legendrank,{editType:"calc+arraydraw"}),legendwidth:C({},r.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:C({},x.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:C({},x.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:C({},i.color,{editType:"arraydraw"}),width:C({},i.width,{editType:"calc+arraydraw"}),dash:C({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(s)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(85448),L=e(65152);V.exports=function(s){var n=s._fullLayout,u=x.filterVisible(n.shapes);if(!(!u.length||!s._fullData.length))for(var l=0;l<u.length;l++){var f=u[l];f._extremes={};var g,h,w=P.getRefType(f.xref),d=P.getRefType(f.yref);if(f.xref!=="paper"&&w!=="domain"){var o=f.xsizemode==="pixel"?f.xanchor:f.x0,v=f.xsizemode==="pixel"?f.xanchor:f.x1;g=P.getFromId(s,f.xref),h=r(g,o,v,f.path,i.paramIsX),h&&(f._extremes[g._id]=P.findExtremes(g,h,C(f)))}if(f.yref!=="paper"&&d!=="domain"){var A=f.ysizemode==="pixel"?f.yanchor:f.y0,b=f.ysizemode==="pixel"?f.yanchor:f.y1;g=P.getFromId(s,f.yref),h=r(g,A,b,f.path,i.paramIsY),h&&(f._extremes[g._id]=P.findExtremes(g,h,c(f)))}}};function C(t){return y(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function c(t){return y(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function y(t,s,n,u,l,f){var g=t/2,h=f;if(s==="pixel"){var w=l?L.extractPathCoords(l,f?i.paramIsY:i.paramIsX):[n,u],d=x.aggNums(Math.max,null,w),o=x.aggNums(Math.min,null,w),v=o<0?Math.abs(o)+g:g,A=d>0?d+g:g;return{ppad:g,ppadplus:h?v:A,ppadminus:h?A:v}}else return{ppad:g}}function r(t,s,n,u,l){var f=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(s!==void 0)return[f(s),f(n)];if(u){var g=1/0,h=-1/0,w=u.match(i.segmentRE),d,o,v,A,b;for(t.type==="date"&&(f=L.decodeDate(f)),d=0;d<w.length;d++)o=w[d],v=l[o.charAt(0)].drawn,v!==void 0&&(A=w[d].substr(1).match(i.paramRE),!(!A||A.length<v)&&(b=f(A[v]),b<g&&(g=b),b>h&&(h=b)));if(h>=g)return[g,h]}}},85448:function(V){"use strict";V.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(51272),L=e(46056),C=e(65152);V.exports=function(t,s){i(t,s,{name:"shapes",handleItemDefaults:y})};function c(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function y(r,t,s){function n(K,j){return x.coerce(r,t,L,K,j)}t._isShape=!0;var u=n("visible");if(u){var l=n("showlegend");l&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),x.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var f=n("path"),g=f?"path":"rect",h=n("type",g),w=h!=="path";w&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var d=n("line.width");d&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),v=n("ysizemode"),A=["x","y"],b=0;b<2;b++){var M=A[b],m=M+"anchor",S=M==="x"?o:v,T={_fullLayout:s},a,E,p,k=P.coerceRef(r,t,T,M,void 0,"paper"),R=P.getRefType(k);if(R==="range"?(a=P.getFromId(T,k),a._shapeIndices.push(t._index),p=C.rangeToShapePosition(a),E=C.shapePositionToRange(a)):E=p=x.identity,w){var B=.25,F=.75,_=M+"0",O=M+"1",z=r[_],N=r[O];r[_]=E(r[_],!0),r[O]=E(r[O],!0),S==="pixel"?(n(_,0),n(O,10)):(P.coercePosition(t,T,n,k,_,B),P.coercePosition(t,T,n,k,O,F)),t[_]=p(t[_]),t[O]=p(t[O]),r[_]=z,r[O]=N}if(S==="pixel"){var Y=r[m];r[m]=E(r[m],!0),P.coercePosition(t,T,n,k,m,.25),t[m]=p(t[m]),r[m]=Y}}w&&x.noneOrAll(r,t,["x0","x1","y0","y1"]);var J=h==="line",ae,se;if(w&&(ae=n("label.texttemplate")),ae||(se=n("label.text")),se||ae){n("label.textangle");var ue=n("label.textposition",J?"middle":"middle center");n("label.xanchor"),n("label.yanchor",c(J,ue)),n("label.padding"),x.coerceFont(n,"label.font",s.font)}}}},60728:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(72736),L=e(43616),C=e(9856).readPaths,c=e(65152),y=c.getPathString,r=e(97728),t=e(84284).FROM_TL;V.exports=function(l,f,g,h){if(h.selectAll(".shape-label").remove(),!!(g.label.text||g.label.texttemplate)){var w;if(g.label.texttemplate){var d={};if(g.type!=="path"){var o=P.getFromId(l,g.xref),v=P.getFromId(l,g.yref);for(var A in r){var b=r[A](g,o,v);b!==void 0&&(d[A]=b)}}w=x.texttemplateStringForShapes(g.label.texttemplate,{},l._fullLayout._d3locale,d)}else w=g.label.text;var M={"data-index":f},m=g.label.font,S={"data-notex":1},T=h.append("g").attr(M).classed("shape-label",!0),a=T.append("text").attr(S).classed("shape-label-text",!0).text(w),E,p,k,R;if(g.path){var B=y(l,g),F=C(B,l);E=1/0,k=1/0,p=-1/0,R=-1/0;for(var _=0;_<F.length;_++)for(var O=0;O<F[_].length;O++)for(var z=F[_][O],N=1;N<z.length;N+=2){var Y=z[N],J=z[N+1];E=Math.min(E,Y),p=Math.max(p,Y),k=Math.min(k,J),R=Math.max(R,J)}}else{var ae=P.getFromId(l,g.xref),se=P.getRefType(g.xref),ue=P.getFromId(l,g.yref),K=P.getRefType(g.yref),j=c.getDataToPixel(l,ae,!1,se),ie=c.getDataToPixel(l,ue,!0,K);E=j(g.x0),p=j(g.x1),k=ie(g.y0),R=ie(g.y1)}var W=g.label.textangle;W==="auto"&&(g.type==="line"?W=s(E,k,p,R):W=0),a.call(function(te){return te.call(L.font,m).attr({}),i.convertToTspans(te,l),te});var Q=L.bBox(a.node()),ee=n(E,k,p,R,g,W,Q),$=ee.textx,X=ee.texty,oe=ee.xanchor;a.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[oe],y:X,x:$,transform:"rotate("+W+","+$+","+X+")"}).call(i.positionText,$,X)}};function s(u,l,f,g){var h,w;return w=Math.abs(f-u),f>=u?h=l-g:h=g-l,-180/Math.PI*Math.atan2(h,w)}function n(u,l,f,g,h,w,d){var o=h.label.textposition,v=h.label.textangle,A=h.label.padding,b=h.type,M=Math.PI/180*w,m=Math.sin(M),S=Math.cos(M),T=h.label.xanchor,a=h.label.yanchor,E,p,k,R;if(b==="line"){o==="start"?(E=u,p=l):o==="end"?(E=f,p=g):(E=(u+f)/2,p=(l+g)/2),T==="auto"&&(o==="start"?v==="auto"?f>u?T="left":f<u?T="right":T="center":f>u?T="right":f<u?T="left":T="center":o==="end"?v==="auto"?f>u?T="right":f<u?T="left":T="center":f>u?T="left":f<u?T="right":T="center":T="center");var B={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(v==="auto"){var _=F[a];k=-A*m*_,R=A*S*_}else{var O=B[T],z=F[a];k=A*O,R=A*z}E=E+k,p=p+R}else k=A+3,o.indexOf("right")!==-1?(E=Math.max(u,f)-k,T==="auto"&&(T="right")):o.indexOf("left")!==-1?(E=Math.min(u,f)+k,T==="auto"&&(T="left")):(E=(u+f)/2,T==="auto"&&(T="center")),o.indexOf("top")!==-1?p=Math.min(l,g):o.indexOf("bottom")!==-1?p=Math.max(l,g):p=(l+g)/2,R=A,a==="bottom"?p=p-R:a==="top"&&(p=p+R);var N=t[a],Y=h.label.font.size,J=d.height,ae=(J*N-Y)*m,se=-(J*N-Y)*S;return{textx:E+ae,texty:p+se,xanchor:T}}},55496:function(V,U,e){"use strict";var x=e(3400),P=x.strTranslate,i=e(86476),L=e(72760),C=L.drawMode,c=L.selectMode,y=e(24040),r=e(76308),t=e(7e3),s=t.i000,n=t.i090,u=t.i180,l=t.i270,f=e(1936),g=f.clearOutlineControllers,h=e(9856),w=h.pointsOnRectangle,d=h.pointsOnEllipse,o=h.writePaths,v=e(93940).newShapes,A=e(93940).createShapeObj,b=e(5968),M=e(60728);V.exports=function a(E,p,k,R){R||(R=0);var B=k.gd;function F(){a(E,p,k,R++),(d(E[0])||k.hasText)&&_({redrawing:!0})}function _(xe){var De={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,De=v(p,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,De=b(p,k),B._fullLayout._reselect=!0),Object.keys(De).length&&y.call((xe||{}).redrawing?"relayout":"_guiRelayout",B,De)}var O=B._fullLayout,z=O._zoomlayer,N=k.dragmode,Y=C(N),J=c(N);(Y||J)&&(B._fullLayout._outlining=!0),g(B),p.attr("d",o(E));var ae,se,ue,K,j;if(!R&&(k.isActiveShape||k.isActiveSelection)){j=m([],E);var ie=z.append("g").attr("class","outline-controllers");fe(ie),Ee()}if(Y&&k.hasText){var W=z.select(".label-temp"),Q=A(p,k,k.dragmode);M(B,"label-temp",Q,W)}function ee(xe){ue=+xe.srcElement.getAttribute("data-i"),K=+xe.srcElement.getAttribute("data-j"),ae[ue][K].moveFn=$}function $(xe,De){if(E.length){var Ve=j[ue][K][1],Ze=j[ue][K][2],ke=E[ue],Ye=ke.length;if(w(ke)){var lt=xe,yt=De;if(k.isActiveSelection){var He=S(ke,K);He[1]===ke[K][1]?yt=0:lt=0}for(var Fe=0;Fe<Ye;Fe++)if(Fe!==K){var nt=ke[Fe];nt[1]===ke[K][1]&&(nt[1]=Ve+lt),nt[2]===ke[K][2]&&(nt[2]=Ze+yt)}if(ke[K][1]=Ve+lt,ke[K][2]=Ze+yt,!w(ke))for(var ot=0;ot<Ye;ot++)for(var ct=0;ct<ke[ot].length;ct++)ke[ot][ct]=j[ue][ot][ct]}else ke[K][1]=Ve+xe,ke[K][2]=Ze+De;F()}}function X(){_()}function oe(){if(E.length&&E[ue]&&E[ue].length){for(var xe=[],De=0;De<E[ue].length;De++)De!==K&&xe.push(E[ue][De]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(K===0&&(xe[0][0]="M"),E[ue]=xe,F(),_())}}function te(xe,De){if(xe===2){ue=+De.srcElement.getAttribute("data-i"),K=+De.srcElement.getAttribute("data-j");var Ve=E[ue];!w(Ve)&&!d(Ve)&&oe()}}function fe(xe){ae=[];for(var De=0;De<E.length;De++){var Ve=E[De],Ze=w(Ve),ke=!Ze&&d(Ve);ae[De]=[];for(var Ye=Ve.length,lt=0;lt<Ye;lt++)if(Ve[lt][0]!=="Z"&&!(ke&&lt!==s&&lt!==n&&lt!==u&&lt!==l)){var yt=Ze&&k.isActiveSelection,He;yt&&(He=S(Ve,lt));var Fe=Ve[lt][1],nt=Ve[lt][2],ot=xe.append(yt?"rect":"circle").attr("data-i",De).attr("data-j",lt).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(yt){var ct=He[1]-Fe,ht=He[2]-nt,mt=ht?5:Math.max(Math.min(25,Math.abs(ct)-5),5),tt=ct?5:Math.max(Math.min(25,Math.abs(ht)-5),5);ot.classed(ht?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",mt).attr("height",tt).attr("x",Fe-mt/2).attr("y",nt-tt/2).attr("transform",P(ct/2,ht/2))}else ot.classed("cursor-grab",!0).attr("r",5).attr("cx",Fe).attr("cy",nt);ae[De][lt]={element:ot.node(),gd:B,prepFn:ee,doneFn:X,clickFn:te},i.init(ae[De][lt])}}}function pe(xe,De){if(E.length)for(var Ve=0;Ve<E.length;Ve++)for(var Ze=0;Ze<E[Ve].length;Ze++)for(var ke=0;ke+2<E[Ve][Ze].length;ke+=2)E[Ve][Ze][ke+1]=j[Ve][Ze][ke+1]+xe,E[Ve][Ze][ke+2]=j[Ve][Ze][ke+2]+De}function Ae(xe,De){pe(xe,De),F()}function be(xe){ue=+xe.srcElement.getAttribute("data-i"),ue||(ue=0),se[ue].moveFn=Ae}function Pe(){_()}function me(xe){xe===2&&T(B)}function Ee(){if(se=[],!!E.length){var xe=0;se[xe]={element:p[0][0],gd:B,prepFn:be,doneFn:Pe,clickFn:me},i.init(se[xe])}}};function m(a,E){for(var p=0;p<E.length;p++){var k=E[p];a[p]=[];for(var R=0;R<k.length;R++){a[p][R]=[];for(var B=0;B<k[R].length;B++)a[p][R][B]=k[R][B]}}return a}function S(a,E){var p=a[E][1],k=a[E][2],R=a.length,B,F,_;return B=(E+1)%R,F=a[B][1],_=a[B][2],F===p&&_===k&&(B=(E+2)%R,F=a[B][1],_=a[B][2]),[B,F,_]}function T(a){if(c(a._fullLayout.dragmode)){g(a);var E=a._fullLayout._activeSelectionIndex,p=(a.layout||{}).selections||[];if(E<p.length){for(var k=[],R=0;R<p.length;R++)R!==E&&k.push(p[R]);delete a._fullLayout._activeSelectionIndex;var B=a._fullLayout.selections[E];a._fullLayout._deselect={xref:B.xref,yref:B.yref},y.call("_guiRelayout",a,{selections:k})}}}},4016:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(3400),L=e(54460),C=e(9856).readPaths,c=e(55496),y=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),s=e(43616),n=e(31780).arrayEditor,u=e(86476),l=e(93972),f=e(85448),g=e(65152),h=g.getPathString;V.exports={draw:w,drawOne:v,eraseActiveShape:T,drawLabel:y};function w(a){var E=a._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var p in E._plots){var k=E._plots[p].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var R=0;R<E.shapes.length;R++)E.shapes[R].visible===!0&&v(a,R)}function d(a){return!!a._fullLayout._outlining}function o(a){return!a._context.edits.shapePosition}function v(a,E){a._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var p=g.makeShapesOptionsAndPlotinfo(a,E),k=p.options,R=p.plotinfo;if(!k._input||k.visible!==!0)return;if(k.layer==="above")F(a._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")F(a._fullLayout._shapeLowerLayer);else if(k.layer==="between")F(R.shapelayerBetween);else if(R._hadPlotinfo){var B=R.mainplotinfo||R;F(B.shapelayer)}else F(a._fullLayout._shapeLowerLayer);function F(_){var O=h(a,k),z={"data-index":E,"fill-rule":k.fillrule,d:O},N=k.opacity,Y=k.fillcolor,J=k.line.width?k.line.color:"rgba(0,0,0,0)",ae=k.line.width,se=k.line.dash;!ae&&k.editable===!0&&(ae=5,se="solid");var ue=O[O.length-1]!=="Z",K=o(a)&&k.editable&&a._fullLayout._activeShapeIndex===E;K&&(Y=ue?"rgba(0,0,0,0)":a._fullLayout.activeshape.fillcolor,N=a._fullLayout.activeshape.opacity);var j=_.append("g").classed("shape-group",!0).attr({"data-index":E}),ie=j.append("path").attr(z).style("opacity",N).call(t.stroke,J).call(t.fill,Y).call(s.dashLine,se,ae);A(j,a,k),y(a,E,k,j);var W;if((K||a._context.edits.shapePosition)&&(W=n(a.layout,"shapes",k)),K){ie.style({cursor:"move"});var Q={element:ie.node(),plotinfo:R,gd:a,editHelpers:W,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},ee=C(O,a);c(ee,ie,Q)}else a._context.edits.shapePosition?b(a,ie,k,E,_,W):k.editable===!0&&ie.style("pointer-events",ue||t.opacity(Y)*N<=.5?"stroke":"all");ie.node().addEventListener("click",function(){return m(a,ie)})}}function A(a,E,p){var k=(p.xref+p.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(a,k?"clip"+E._fullLayout._uid+k:null,E)}function b(a,E,p,k,R,B){var F=10,_=10,O=p.xsizemode==="pixel",z=p.ysizemode==="pixel",N=p.type==="line",Y=p.type==="path",J=B.modifyItem,ae,se,ue,K,j,ie,W,Q,ee,$,X,oe,te,fe,pe,Ae=x.select(E.node().parentNode),be=L.getFromId(a,p.xref),Pe=L.getRefType(p.xref),me=L.getFromId(a,p.yref),Ee=L.getRefType(p.yref),xe=g.getDataToPixel(a,be,!1,Pe),De=g.getDataToPixel(a,me,!0,Ee),Ve=g.getPixelToData(a,be,!1,Pe),Ze=g.getPixelToData(a,me,!0,Ee),ke=yt(),Ye={element:ke.node(),gd:a,prepFn:nt,doneFn:ot,clickFn:ct},lt;u.init(Ye),ke.node().onmousemove=Fe;function yt(){return N?He():E}function He(){var Je=10,Xe=Math.max(p.line.width,Je),Oe=R.append("g").attr("data-index",k).attr("drag-helper",!0);Oe.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":Xe,"stroke-opacity":"0"});var Ne={"fill-opacity":"0"},ze=Math.max(Xe/2,Je);return Oe.append("circle").attr({"data-line-point":"start-point",cx:O?xe(p.xanchor)+p.x0:xe(p.x0),cy:z?De(p.yanchor)-p.y0:De(p.y0),r:ze}).style(Ne).classed("cursor-grab",!0),Oe.append("circle").attr({"data-line-point":"end-point",cx:O?xe(p.xanchor)+p.x1:xe(p.x1),cy:z?De(p.yanchor)-p.y1:De(p.y1),r:ze}).style(Ne).classed("cursor-grab",!0),Oe}function Fe(Je){if(d(a)){lt=null;return}if(N)Je.target.tagName==="path"?lt="move":lt=Je.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Xe=Ye.element.getBoundingClientRect(),Oe=Xe.right-Xe.left,Ne=Xe.bottom-Xe.top,ze=Je.clientX-Xe.left,et=Je.clientY-Xe.top,Le=!Y&&Oe>F&&Ne>_&&!Je.shiftKey?u.getCursor(ze/Oe,1-et/Ne):"move";l(E,Le),lt=Le.split("-")[0]}}function nt(Je){d(a)||(O&&(j=xe(p.xanchor)),z&&(ie=De(p.yanchor)),p.type==="path"?pe=p.path:(ae=O?p.x0:xe(p.x0),se=z?p.y0:De(p.y0),ue=O?p.x1:xe(p.x1),K=z?p.y1:De(p.y1)),ae<ue?(ee=ae,te="x0",$=ue,fe="x1"):(ee=ue,te="x1",$=ae,fe="x0"),!z&&se<K||z&&se>K?(W=se,X="y0",Q=K,oe="y1"):(W=K,X="y1",Q=se,oe="y0"),Fe(Je),tt(R,p),Ge(E,p,a),Ye.moveFn=lt==="move"?ht:mt,Ye.altKey=Je.altKey)}function ot(){d(a)||(l(E),Re(R),A(E,a,p),P.call("_guiRelayout",a,B.getUpdateObj()))}function ct(){d(a)||Re(R)}function ht(Je,Xe){if(p.type==="path"){var Oe=function(et){return et},Ne=Oe,ze=Oe;O?J("xanchor",p.xanchor=Ve(j+Je)):(Ne=function(Le){return Ve(xe(Le)+Je)},be&&be.type==="date"&&(Ne=g.encodeDate(Ne))),z?J("yanchor",p.yanchor=Ze(ie+Xe)):(ze=function(Le){return Ze(De(Le)+Xe)},me&&me.type==="date"&&(ze=g.encodeDate(ze))),J("path",p.path=M(pe,Ne,ze))}else O?J("xanchor",p.xanchor=Ve(j+Je)):(J("x0",p.x0=Ve(ae+Je)),J("x1",p.x1=Ve(ue+Je))),z?J("yanchor",p.yanchor=Ze(ie+Xe)):(J("y0",p.y0=Ze(se+Xe)),J("y1",p.y1=Ze(K+Xe)));E.attr("d",h(a,p)),tt(R,p),y(a,k,p,Ae)}function mt(Je,Xe){if(Y){var Oe=function(dt){return dt},Ne=Oe,ze=Oe;O?J("xanchor",p.xanchor=Ve(j+Je)):(Ne=function(Yt){return Ve(xe(Yt)+Je)},be&&be.type==="date"&&(Ne=g.encodeDate(Ne))),z?J("yanchor",p.yanchor=Ze(ie+Xe)):(ze=function(Yt){return Ze(De(Yt)+Xe)},me&&me.type==="date"&&(ze=g.encodeDate(ze))),J("path",p.path=M(pe,Ne,ze))}else if(N){if(lt==="resize-over-start-point"){var et=ae+Je,Le=z?se-Xe:se+Xe;J("x0",p.x0=O?et:Ve(et)),J("y0",p.y0=z?Le:Ze(Le))}else if(lt==="resize-over-end-point"){var Te=ue+Je,ye=z?K-Xe:K+Xe;J("x1",p.x1=O?Te:Ve(Te)),J("y1",p.y1=z?ye:Ze(ye))}}else{var Se=function(dt){return lt.indexOf(dt)!==-1},Ke=Se("n"),rt=Se("s"),Lt=Se("w"),It=Se("e"),wt=Ke?W+Xe:W,Et=rt?Q+Xe:Q,Wt=Lt?ee+Je:ee,vr=It?$+Je:$;z&&(Ke&&(wt=W-Xe),rt&&(Et=Q-Xe)),(!z&&Et-wt>_||z&&wt-Et>_)&&(J(X,p[X]=z?wt:Ze(wt)),J(oe,p[oe]=z?Et:Ze(Et))),vr-Wt>F&&(J(te,p[te]=O?Wt:Ve(Wt)),J(fe,p[fe]=O?vr:Ve(vr)))}E.attr("d",h(a,p)),tt(R,p),y(a,k,p,Ae)}function tt(Je,Xe){(O||z)&&Oe();function Oe(){var Ne=Xe.type!=="path",ze=Je.selectAll(".visual-cue").data([0]),et=1;ze.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":et}).classed("visual-cue",!0);var Le=xe(O?Xe.xanchor:i.midRange(Ne?[Xe.x0,Xe.x1]:g.extractPathCoords(Xe.path,f.paramIsX))),Te=De(z?Xe.yanchor:i.midRange(Ne?[Xe.y0,Xe.y1]:g.extractPathCoords(Xe.path,f.paramIsY)));if(Le=g.roundPositionForSharpStrokeRendering(Le,et),Te=g.roundPositionForSharpStrokeRendering(Te,et),O&&z){var ye="M"+(Le-1-et)+","+(Te-1-et)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ze.attr("d",ye)}else if(O){var Se="M"+(Le-1-et)+","+(Te-9-et)+"v18 h2 v-18 Z";ze.attr("d",Se)}else{var Ke="M"+(Le-9-et)+","+(Te-1-et)+"h18 v2 h-18 Z";ze.attr("d",Ke)}}}function Re(Je){Je.selectAll(".visual-cue").remove()}function Ge(Je,Xe,Oe){var Ne=Xe.xref,ze=Xe.yref,et=L.getFromId(Oe,Ne),Le=L.getFromId(Oe,ze),Te="";Ne!=="paper"&&!et.autorange&&(Te+=Ne),ze!=="paper"&&!Le.autorange&&(Te+=ze),s.setClipUrl(Je,Te?"clip"+Oe._fullLayout._uid+Te:null,Oe)}}function M(a,E,p){return a.replace(f.segmentRE,function(k){var R=0,B=k.charAt(0),F=f.paramIsX[B],_=f.paramIsY[B],O=f.numParams[B],z=k.substr(1).replace(f.paramRE,function(N){return R>=O||(F[R]?N=E(N):_[R]&&(N=p(N)),R++),N});return B+z})}function m(a,E){if(o(a)){var p=E.node(),k=+p.getAttribute("data-index");if(k>=0){if(k===a._fullLayout._activeShapeIndex){S(a);return}a._fullLayout._activeShapeIndex=k,a._fullLayout._deactivateShape=S,w(a)}}}function S(a){if(o(a)){var E=a._fullLayout._activeShapeIndex;E>=0&&(r(a),delete a._fullLayout._activeShapeIndex,w(a))}}function T(a){if(o(a)){r(a);var E=a._fullLayout._activeShapeIndex,p=(a.layout||{}).shapes||[];if(E<p.length){for(var k=[],R=0;R<p.length;R++)R!==E&&k.push(p[R]);return delete a._fullLayout._activeShapeIndex,P.call("_guiRelayout",a,{shapes:k})}}}},92872:function(V,U,e){"use strict";var x=e(67824).overrideAll,P=e(45464),i=e(25376),L=e(98192).u,C=e(92880).extendFlat,c=e(21776).ye,y=e(97728);V.exports=x({newshape:{visible:C({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:C({},P.legend,{}),legendgroup:C({},P.legendgroup,{}),legendgrouptitle:{text:C({},P.legendgrouptitle.text,{}),font:i({})},legendrank:C({},P.legendrank,{}),legendwidth:C({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:C({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:C({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:c({newshape:!0},{keys:Object.keys(y)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(V){"use strict";var U=32;V.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(V,U,e){"use strict";var x=e(76308),P=e(3400);function i(L,C){return L?"bottom":C.indexOf("top")!==-1?"top":C.indexOf("bottom")!==-1?"bottom":"middle"}V.exports=function(C,c,y){y("newshape.visible"),y("newshape.name"),y("newshape.showlegend"),y("newshape.legend"),y("newshape.legendwidth"),y("newshape.legendgroup"),y("newshape.legendgrouptitle.text"),P.coerceFont(y,"newshape.legendgrouptitle.font"),y("newshape.legendrank"),y("newshape.drawdirection"),y("newshape.layer"),y("newshape.fillcolor"),y("newshape.fillrule"),y("newshape.opacity");var r=y("newshape.line.width");if(r){var t=(C||{}).plot_bgcolor||"#FFF";y("newshape.line.color",x.contrast(t)),y("newshape.line.dash")}var s=C.dragmode==="drawline",n=y("newshape.label.text"),u=y("newshape.label.texttemplate");if(n||u){y("newshape.label.textangle");var l=y("newshape.label.textposition",s?"middle":"middle center");y("newshape.label.xanchor"),y("newshape.label.yanchor",i(s,l)),y("newshape.label.padding"),P.coerceFont(y,"newshape.label.font",c.font)}y("activeshape.fillcolor"),y("activeshape.opacity")}},9856:function(V,U,e){"use strict";var x=e(21984),P=e(7e3),i=P.CIRCLE_SIDES,L=P.SQRT2,C=e(5840),c=C.p2r,y=C.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];U.writePaths=function(u){var l=u.length;if(!l)return"M0,0Z";for(var f="",g=0;g<l;g++)for(var h=u[g].length,w=0;w<h;w++){var d=u[g][w][0];if(d==="Z")f+="Z";else for(var o=u[g][w].length,v=0;v<o;v++){var A=v;d==="Q"||d==="S"?A=t[v]:d==="C"&&(A=r[v]),f+=u[g][w][A],v>0&&v<o-1&&(f+=",")}}return f},U.readPaths=function(u,l,f,g){var h=x(u),w=[],d=-1,o=function(){d++,w[d]=[]},v,A=0,b=0,M,m,S=function(){M=A,m=b};S();for(var T=0;T<h.length;T++){var a=[],E,p,k,R,B=h[T][0],F=B;switch(B){case"M":o(),A=+h[T][1],b=+h[T][2],a.push([F,A,b]),S();break;case"Q":case"S":E=+h[T][1],k=+h[T][2],A=+h[T][3],b=+h[T][4],a.push([F,A,b,E,k]);break;case"C":E=+h[T][1],k=+h[T][2],p=+h[T][3],R=+h[T][4],A=+h[T][5],b=+h[T][6],a.push([F,A,b,E,k,p,R]);break;case"T":case"L":A=+h[T][1],b=+h[T][2],a.push([F,A,b]);break;case"H":F="L",A=+h[T][1],a.push([F,A,b]);break;case"V":F="L",b=+h[T][1],a.push([F,A,b]);break;case"A":F="L";var _=+h[T][1],O=+h[T][2];+h[T][4]||(_=-_,O=-O);var z=A-_,N=b;for(v=1;v<=i/2;v++){var Y=2*Math.PI*v/i;a.push([F,z+_*Math.cos(Y),N+O*Math.sin(Y)])}break;case"Z":(A!==M||b!==m)&&(A=M,b=m,a.push([F,A,b]));break}for(var J=(f||{}).domain,ae=l._fullLayout._size,se=f&&f.xsizemode==="pixel",ue=f&&f.ysizemode==="pixel",K=g===!1,j=0;j<a.length;j++){for(v=0;v+2<7;v+=2){var ie=a[j][v+1],W=a[j][v+2];ie===void 0||W===void 0||(A=ie,b=W,f&&(f.xaxis&&f.xaxis.p2r?(K&&(ie-=f.xaxis._offset),se?ie=y(f.xaxis,f.xanchor)+ie:ie=c(f.xaxis,ie)):(K&&(ie-=ae.l),J?ie=J.x[0]+ie/ae.w:ie=ie/ae.w),f.yaxis&&f.yaxis.p2r?(K&&(W-=f.yaxis._offset),ue?W=y(f.yaxis,f.yanchor)-W:W=c(f.yaxis,W)):(K&&(W-=ae.t),J?W=J.y[1]-W/ae.h:W=1-W/ae.h)),a[j][v+1]=ie,a[j][v+2]=W)}w[d].push(a[j].slice())}}return w};function s(u,l){return Math.abs(u-l)<=1e-6}function n(u,l){var f=l[1]-u[1],g=l[2]-u[2];return Math.sqrt(f*f+g*g)}U.pointsOnRectangle=function(u){var l=u.length;if(l!==5)return!1;for(var f=1;f<3;f++){var g=u[0][f]-u[1][f],h=u[3][f]-u[2][f];if(!s(g,h))return!1;var w=u[0][f]-u[3][f],d=u[1][f]-u[2][f];if(!s(w,d))return!1}return!s(u[0][1],u[1][1])&&!s(u[0][1],u[3][1])?!1:!!(n(u[0],u[1])*n(u[0],u[3]))},U.pointsOnEllipse=function(u){var l=u.length;if(l!==i+1)return!1;l=i;for(var f=0;f<l;f++){var g=(l*2-f)%l,h=(l/2+g)%l,w=(l/2+f)%l;if(!s(n(u[f],u[w]),n(u[g],u[h])))return!1}return!0},U.handleEllipse=function(u,l,f){if(!u)return[l,f];var g=U.ellipseOver({x0:l[0],y0:l[1],x1:f[0],y1:f[1]}),h=(g.x1+g.x0)/2,w=(g.y1+g.y0)/2,d=(g.x1-g.x0)/2,o=(g.y1-g.y0)/2;d||(d=o=o/L),o||(o=d=d/L);for(var v=[],A=0;A<i;A++){var b=A*2*Math.PI/i;v.push([h+d*Math.cos(b),w+o*Math.sin(b)])}return v},U.ellipseOver=function(u){var l=u.x0,f=u.y0,g=u.x1,h=u.y1,w=g-l,d=h-f;l-=w,f-=d;var o=(l+g)/2,v=(f+h)/2,A=L;return w*=A,d*=A,{x0:o-w,y0:v-d,x1:o+w,y1:v+d}},U.fixDatesForPaths=function(u,l,f){var g=l.type==="date",h=f.type==="date";if(!g&&!h)return u;for(var w=0;w<u.length;w++)for(var d=0;d<u[w].length;d++)for(var o=0;o+2<u[w][d].length;o+=2)g&&(u[w][d][o+1]=u[w][d][o+1].replace(" ","_")),h&&(u[w][d][o+2]=u[w][d][o+2].replace(" ","_"));return u}},93940:function(V,U,e){"use strict";var x=e(72760),P=x.drawMode,i=x.openMode,L=e(7e3),C=L.i000,c=L.i090,y=L.i180,r=L.i270,t=L.cos45,s=L.sin45,n=e(5840),u=n.p2r,l=n.r2p,f=e(1936),g=f.clearOutline,h=e(9856),w=h.readPaths,d=h.writePaths,o=h.ellipseOver,v=h.fixDatesForPaths;function A(M,m){if(M.length){var S=M[0][0];if(S){var T=m.gd,a=m.isActiveShape,E=m.dragmode,p=(T.layout||{}).shapes||[];if(!P(E)&&a!==void 0){var k=T._fullLayout._activeShapeIndex;if(k<p.length)switch(T._fullLayout.shapes[k].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var R=p[k].path||"";R[R.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var B=b(M,m,E);g(T);for(var F=m.editHelpers,_=(F||{}).modifyItem,O=[],z=0;z<p.length;z++){var N=T._fullLayout.shapes[z];if(O[z]=N._input,a!==void 0&&z===T._fullLayout._activeShapeIndex){var Y=B;switch(N.type){case"line":case"rect":case"circle":_("x0",Y.x0),_("x1",Y.x1),_("y0",Y.y0),_("y1",Y.y1);break;case"path":_("path",Y.path);break}}}return a===void 0?(O.push(B),O):F?F.getUpdateObj():{}}}}function b(M,m,S){var T=M[0][0],a=m.gd,E=T.getAttribute("d"),p=a._fullLayout.newshape,k=m.plotinfo,R=m.isActiveShape,B=k.xaxis,F=k.yaxis,_=!!k.domain||!k.xaxis,O=!!k.domain||!k.yaxis,z=i(S),N=w(E,a,k,R),Y={editable:!0,visible:p.visible,name:p.name,showlegend:p.showlegend,legend:p.legend,legendwidth:p.legendwidth,legendgroup:p.legendgroup,legendgrouptitle:{text:p.legendgrouptitle.text,font:p.legendgrouptitle.font},legendrank:p.legendrank,label:p.label,xref:_?"paper":B._id,yref:O?"paper":F._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};z||(Y.fillcolor=p.fillcolor,Y.fillrule=p.fillrule);var J;if(N.length===1&&(J=N[0]),J&&J.length===5&&S==="drawrect")Y.type="rect",Y.x0=J[0][1],Y.y0=J[0][2],Y.x1=J[2][1],Y.y1=J[2][2];else if(J&&S==="drawline")Y.type="line",Y.x0=J[0][1],Y.y0=J[0][2],Y.x1=J[1][1],Y.y1=J[1][2];else if(J&&S==="drawcircle"){Y.type="circle";var ae=J[C][1],se=J[c][1],ue=J[y][1],K=J[r][1],j=J[C][2],ie=J[c][2],W=J[y][2],Q=J[r][2],ee=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),$=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");ee&&(ae=l(k.xaxis,ae),se=l(k.xaxis,se),ue=l(k.xaxis,ue),K=l(k.xaxis,K)),$&&(j=l(k.yaxis,j),ie=l(k.yaxis,ie),W=l(k.yaxis,W),Q=l(k.yaxis,Q));var X=(se+K)/2,oe=(j+W)/2,te=(K-se+ue-ae)/2,fe=(Q-ie+W-j)/2,pe=o({x0:X,y0:oe,x1:X+te*t,y1:oe+fe*s});ee&&(pe.x0=u(k.xaxis,pe.x0),pe.x1=u(k.xaxis,pe.x1)),$&&(pe.y0=u(k.yaxis,pe.y0),pe.y1=u(k.yaxis,pe.y1)),Y.x0=pe.x0,Y.y0=pe.y0,Y.x1=pe.x1,Y.y1=pe.y1}else Y.type="path",B&&F&&v(N,B,F),Y.path=d(N),J=null;return Y}V.exports={newShapes:A,createShapeObj:b}},1936:function(V){"use strict";function U(x){var P=x._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(x){var P=x._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),x._fullLayout._outlining=!1}V.exports={clearOutlineControllers:U,clearOutline:e}},65152:function(V,U,e){"use strict";var x=e(85448),P=e(3400),i=e(54460);U.rangeToShapePosition=function(C){return C.type==="log"?C.r2d:function(c){return c}},U.shapePositionToRange=function(C){return C.type==="log"?C.d2r:function(c){return c}},U.decodeDate=function(C){return function(c){return c.replace&&(c=c.replace("_"," ")),C(c)}},U.encodeDate=function(C){return function(c){return C(c).replace(" ","_")}},U.extractPathCoords=function(C,c,y){var r=[],t=C.match(x.segmentRE);return t.forEach(function(s){var n=c[s.charAt(0)].drawn;if(n!==void 0){var u=s.substr(1).match(x.paramRE);if(!(!u||u.length<n)){var l=u[n],f=y?l:P.cleanNumber(l);r.push(f)}}}),r},U.getDataToPixel=function(C,c,y,r){var t=C._fullLayout._size,s;if(c)if(r==="domain")s=function(u){return c._length*(y?1-u:u)+c._offset};else{var n=U.shapePositionToRange(c);s=function(u){return c._offset+c.r2p(n(u,!0))},c.type==="date"&&(s=U.decodeDate(s))}else y?s=function(u){return t.t+t.h*(1-u)}:s=function(u){return t.l+t.w*u};return s},U.getPixelToData=function(C,c,y,r){var t=C._fullLayout._size,s;if(c)if(r==="domain")s=function(u){var l=(u-c._offset)/c._length;return y?1-l:l};else{var n=U.rangeToShapePosition(c);s=function(u){return n(c.p2r(u-c._offset))}}else y?s=function(u){return 1-(u-t.t)/t.h}:s=function(u){return(u-t.l)/t.w};return s},U.roundPositionForSharpStrokeRendering=function(C,c){var y=Math.round(c%2)===1,r=Math.round(C);return y?r+.5:r},U.makeShapesOptionsAndPlotinfo=function(C,c){var y=C._fullLayout.shapes[c]||{},r=C._fullLayout._plots[y.xref+y.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},y.xref&&y.xref!=="paper"&&(r.xaxis=C._fullLayout[y.xref+"axis"]),y.yref&&y.yref!=="paper"&&(r.yaxis=C._fullLayout[y.yref+"axis"])),r.xsizemode=y.xsizemode,r.ysizemode=y.ysizemode,r.xanchor=y.xanchor,r.yanchor=y.yanchor,{options:y,plotinfo:r}},U.makeSelectionsOptionsAndPlotinfo=function(C,c){var y=C._fullLayout.selections[c]||{},r=C._fullLayout._plots[y.xref+y.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},y.xref&&(r.xaxis=C._fullLayout[y.xref+"axis"]),y.yref&&(r.yaxis=C._fullLayout[y.yref+"axis"])),{options:y,plotinfo:r}},U.getPathString=function(C,c){var y=c.type,r=i.getRefType(c.xref),t=i.getRefType(c.yref),s=i.getFromId(C,c.xref),n=i.getFromId(C,c.yref),u=C._fullLayout._size,l,f,g,h,w,d,o,v;if(s?r==="domain"?f=function(k){return s._offset+s._length*k}:(l=U.shapePositionToRange(s),f=function(k){return s._offset+s.r2p(l(k,!0))}):f=function(k){return u.l+u.w*k},n?t==="domain"?h=function(k){return n._offset+n._length*(1-k)}:(g=U.shapePositionToRange(n),h=function(k){return n._offset+n.r2p(g(k,!0))}):h=function(k){return u.t+u.h*(1-k)},y==="path")return s&&s.type==="date"&&(f=U.decodeDate(f)),n&&n.type==="date"&&(h=U.decodeDate(h)),L(c,f,h);if(c.xsizemode==="pixel"){var A=f(c.xanchor);w=A+c.x0,d=A+c.x1}else w=f(c.x0),d=f(c.x1);if(c.ysizemode==="pixel"){var b=h(c.yanchor);o=b-c.y0,v=b-c.y1}else o=h(c.y0),v=h(c.y1);if(y==="line")return"M"+w+","+o+"L"+d+","+v;if(y==="rect")return"M"+w+","+o+"H"+d+"V"+v+"H"+w+"Z";var M=(w+d)/2,m=(o+v)/2,S=Math.abs(M-w),T=Math.abs(m-o),a="A"+S+","+T,E=M+S+","+m,p=M+","+(m-T);return"M"+E+a+" 0 1,1 "+p+a+" 0 0,1 "+E+"Z"};function L(C,c,y){var r=C.path,t=C.xsizemode,s=C.ysizemode,n=C.xanchor,u=C.yanchor;return r.replace(x.segmentRE,function(l){var f=0,g=l.charAt(0),h=x.paramIsX[g],w=x.paramIsY[g],d=x.numParams[g],o=l.substr(1).replace(x.paramRE,function(v){return h[f]?t==="pixel"?v=c(n)+Number(v):v=c(v):w[f]&&(s==="pixel"?v=y(u)-Number(v):v=y(v)),f++,f>d&&(v="X"),v});return f>d&&(o=o.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+l)),g+o})}},41592:function(V,U,e){"use strict";var x=e(4016);V.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:x.draw,drawOne:x.drawOne}},97728:function(V){"use strict";function U(l,f){return f?f.d2l(l):l}function e(l,f){return f?f.l2d(l):l}function x(l){return l.x0}function P(l){return l.x1}function i(l){return l.y0}function L(l){return l.y1}function C(l,f){return U(l.x1,f)-U(l.x0,f)}function c(l,f,g){return U(l.y1,g)-U(l.y0,g)}function y(l,f){return Math.abs(C(l,f))}function r(l,f,g){return Math.abs(c(l,f,g))}function t(l,f,g){return l.type!=="line"?void 0:Math.sqrt(Math.pow(C(l,f),2)+Math.pow(c(l,f,g),2))}function s(l,f){return e((U(l.x1,f)+U(l.x0,f))/2,f)}function n(l,f,g){return e((U(l.y1,g)+U(l.y0,g))/2,g)}function u(l,f,g){return l.type!=="line"?void 0:c(l,f,g)/C(l,f)}V.exports={x0:x,x1:P,y0:i,y1:L,slope:u,dx:C,dy:c,width:y,height:r,length:t,xcenter:s,ycenter:n}},89861:function(V,U,e){"use strict";var x=e(25376),P=e(66741),i=e(92880).extendDeepAll,L=e(67824).overrideAll,C=e(85656),c=e(31780).templatedArray,y=e(60876),r=c("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});V.exports=L(c("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:C.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:x({})},font:x({}),activebgcolor:{valType:"color",dflt:y.gripBgActiveColor},bgcolor:{valType:"color",dflt:y.railBgColor},bordercolor:{valType:"color",dflt:y.railBorderColor},borderwidth:{valType:"number",min:0,dflt:y.railBorderWidth},ticklen:{valType:"number",min:0,dflt:y.tickLength},tickcolor:{valType:"color",dflt:y.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:y.minorTickLength}}),"arraydraw","from-root")},60876:function(V){"use strict";V.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(V,U,e){"use strict";var x=e(3400),P=e(51272),i=e(89861),L=e(60876),C=L.name,c=i.steps;V.exports=function(s,n){P(s,n,{name:C,handleItemDefaults:y})};function y(t,s,n){function u(v,A){return x.coerce(t,s,i,v,A)}for(var l=P(t,s,{name:"steps",handleItemDefaults:r}),f=0,g=0;g<l.length;g++)l[g].visible&&f++;var h;if(f<2?h=s.visible=!1:h=u("visible"),!!h){s._stepCount=f;var w=s._visibleSteps=x.filterVisible(l),d=u("active");(l[d]||{}).visible||(s.active=w[0]._index),u("x"),u("y"),x.noneOrAll(t,s,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),x.coerceFont(u,"font",n.font);var o=u("currentvalue.visible");o&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),x.coerceFont(u,"currentvalue.font",s.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function r(t,s){function n(f,g){return x.coerce(t,s,c,f,g)}var u;if(t.method!=="skip"&&!Array.isArray(t.args)?u=s.visible=!1:u=n("visible"),u){n("method"),n("args");var l=n("label","step-"+s._index);n("value",l),n("execute")}}},79664:function(V,U,e){"use strict";var x=e(33428),P=e(7316),i=e(76308),L=e(43616),C=e(3400),c=C.strTranslate,y=e(72736),r=e(31780).arrayEditor,t=e(60876),s=e(84284),n=s.LINE_SPACING,u=s.FROM_TL,l=s.FROM_BR;V.exports=function(_){var O=_._context.staticPlot,z=_._fullLayout,N=g(z,_),Y=z._infolayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);Y.enter().append("g").classed(t.containerClassName,!0).style("cursor",O?null:"ew-resize");function J(K){K._commandObserver&&(K._commandObserver.remove(),delete K._commandObserver),P.autoMargin(_,f(K))}if(Y.exit().each(function(){x.select(this).selectAll("g."+t.groupClassName).each(J)}).remove(),N.length!==0){var ae=Y.selectAll("g."+t.groupClassName).data(N,h);ae.enter().append("g").classed(t.groupClassName,!0),ae.exit().each(J).remove();for(var se=0;se<N.length;se++){var ue=N[se];w(_,ue)}ae.each(function(K){var j=x.select(this);a(K),P.manageCommandObserver(_,K,K._visibleSteps,function(ie){var W=j.data()[0];W.active!==ie.index&&(W._dragging||m(_,j,W,ie.index,!1,!0))}),d(_,x.select(this),K)})}};function f(F){return t.autoMarginIdRoot+F._index}function g(F,_){for(var O=F[t.name],z=[],N=0;N<O.length;N++){var Y=O[N];Y.visible&&(Y._gd=_,z.push(Y))}return z}function h(F){return F._index}function w(F,_){var O=L.tester.selectAll("g."+t.labelGroupClass).data(_._visibleSteps);O.enter().append("g").classed(t.labelGroupClass,!0);var z=0,N=0;O.each(function(Q){var ee=x.select(this),$=A(ee,{step:Q},_),X=$.node();if(X){var oe=L.bBox(X);N=Math.max(N,oe.height),z=Math.max(z,oe.width)}}),O.remove();var Y=_._dims={};Y.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var J=F._fullLayout._size;Y.lx=J.l+J.w*_.x,Y.ly=J.t+J.h*(1-_.y),_.lenmode==="fraction"?Y.outerLength=Math.round(J.w*_.len):Y.outerLength=_.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-_.pad.l-_.pad.r);var ae=Y.inputAreaLength-2*t.stepInset,se=ae/(_._stepCount-1),ue=z+t.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(ue/se)),Y.labelHeight=N,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,_.currentvalue.visible){var K=L.tester.append("g");O.each(function(Q){var ee=o(K,_,Q.label),$=ee.node()&&L.bBox(ee.node())||{width:0,height:0},X=y.lineCount(ee);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil($.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil($.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,X)}),Y.currentValueTotalHeight=Y.currentValueHeight+_.currentvalue.offset,K.remove()}Y.height=Y.currentValueTotalHeight+t.tickOffset+_.ticklen+t.labelOffset+Y.labelHeight+_.pad.t+_.pad.b;var j="left";C.isRightAnchor(_)&&(Y.lx-=Y.outerLength,j="right"),C.isCenterAnchor(_)&&(Y.lx-=Y.outerLength/2,j="center");var ie="top";C.isBottomAnchor(_)&&(Y.ly-=Y.height,ie="bottom"),C.isMiddleAnchor(_)&&(Y.ly-=Y.height/2,ie="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var W={y:_.y,b:Y.height*l[ie],t:Y.height*u[ie]};_.lenmode==="fraction"?(W.l=0,W.xl=_.x-_.len*u[j],W.r=0,W.xr=_.x+_.len*l[j]):(W.x=_.x,W.l=Y.outerLength*u[j],W.r=Y.outerLength*l[j]),P.autoMargin(F,f(_),W)}function d(F,_,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),_.call(o,O).call(B,O).call(b,O).call(T,O).call(R,F,O).call(v,F,O);var z=O._dims;L.setTranslate(_,z.lx+O.pad.l,z.ly+O.pad.t),_.call(E,O,!1),_.call(o,O)}function o(F,_,O){if(_.currentvalue.visible){var z=_._dims,N,Y;switch(_.currentvalue.xanchor){case"right":N=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,Y="left";break;case"center":N=z.inputAreaLength*.5,Y="middle";break;default:N=t.currentValueInset,Y="left"}var J=C.ensureSingle(F,"text",t.labelClass,function(ie){ie.attr({"text-anchor":Y,"data-notex":1})}),ae=_.currentvalue.prefix?_.currentvalue.prefix:"";if(typeof O=="string")ae+=O;else{var se=_.steps[_.active].label,ue=_._gd._fullLayout._meta;ue&&(se=C.templateString(se,ue)),ae+=se}_.currentvalue.suffix&&(ae+=_.currentvalue.suffix),J.call(L.font,_.currentvalue.font).text(ae).call(y.convertToTspans,_._gd);var K=y.lineCount(J),j=(z.currentValueMaxLines+1-K)*_.currentvalue.font.size*n;return y.positionText(J,N,j),J}}function v(F,_,O){var z=C.ensureSingle(F,"rect",t.gripRectClass,function(N){N.call(S,_,F,O).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(i.stroke,O.bordercolor).call(i.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function A(F,_,O){var z=C.ensureSingle(F,"text",t.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),N=_.step.label,Y=O._gd._fullLayout._meta;return Y&&(N=C.templateString(N,Y)),z.call(L.font,O.font).text(N).call(y.convertToTspans,O._gd),z}function b(F,_){var O=C.ensureSingle(F,"g",t.labelsClass),z=_._dims,N=O.selectAll("g."+t.labelGroupClass).data(z.labelSteps);N.enter().append("g").classed(t.labelGroupClass,!0),N.exit().remove(),N.each(function(Y){var J=x.select(this);J.call(A,Y,_),L.setTranslate(J,p(_,Y.fraction),t.tickOffset+_.ticklen+_.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function M(F,_,O,z,N){var Y=Math.round(z*(O._stepCount-1)),J=O._visibleSteps[Y]._index;J!==O.active&&m(F,_,O,J,!0,N)}function m(F,_,O,z,N,Y){var J=O.active;O.active=z,r(F.layout,t.name,O).applyUpdate("active",z);var ae=O.steps[O.active];_.call(E,O,Y),_.call(o,O),F.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:N,previousActive:J}),ae&&ae.method&&N&&(_._nextMethod?(_._nextMethod.step=ae,_._nextMethod.doCallback=N,_._nextMethod.doTransition=Y):(_._nextMethod={step:ae,doCallback:N,doTransition:Y},_._nextMethodRaf=window.requestAnimationFrame(function(){var se=_._nextMethod.step;se.method&&(se.execute&&P.executeAPICommand(F,se.method,se.args),_._nextMethod=null,_._nextMethodRaf=null)})))}function S(F,_,O){if(_._context.staticPlot)return;var z=O.node(),N=x.select(_);function Y(){return O.data()[0]}function J(){var ae=Y();_.emit("plotly_sliderstart",{slider:ae});var se=O.select("."+t.gripRectClass);x.event.stopPropagation(),x.event.preventDefault(),se.call(i.fill,ae.activebgcolor);var ue=k(ae,x.mouse(z)[0]);M(_,O,ae,ue,!0),ae._dragging=!0;function K(){var ie=Y(),W=k(ie,x.mouse(z)[0]);M(_,O,ie,W,!1)}N.on("mousemove",K),N.on("touchmove",K);function j(){var ie=Y();ie._dragging=!1,se.call(i.fill,ie.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),_.emit("plotly_sliderend",{slider:ie,step:ie.steps[ie.active]})}N.on("mouseup",j),N.on("touchend",j)}F.on("mousedown",J),F.on("touchstart",J)}function T(F,_){var O=F.selectAll("rect."+t.tickRectClass).data(_._visibleSteps),z=_._dims;O.enter().append("rect").classed(t.tickRectClass,!0),O.exit().remove(),O.attr({width:_.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(N,Y){var J=Y%z.labelStride===0,ae=x.select(this);ae.attr({height:J?_.ticklen:_.minorticklen}).call(i.fill,_.tickcolor),L.setTranslate(ae,p(_,Y/(_._stepCount-1))-.5*_.tickwidth,(J?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function a(F){var _=F._dims;_.labelSteps=[];for(var O=F._stepCount,z=0;z<O;z+=_.labelStride)_.labelSteps.push({fraction:z/(O-1),step:F._visibleSteps[z]})}function E(F,_,O){for(var z=F.select("rect."+t.gripRectClass),N=0,Y=0;Y<_._stepCount;Y++)if(_._visibleSteps[Y]._index===_.active){N=Y;break}var J=p(_,N/(_._stepCount-1));if(!_._invokingCommand){var ae=z;O&&_.transition.duration>0&&(ae=ae.transition().duration(_.transition.duration).ease(_.transition.easing)),ae.attr("transform",c(J-t.gripWidth*.5,_._dims.currentValueTotalHeight))}}function p(F,_){var O=F._dims;return O.inputAreaStart+t.stepInset+(O.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,_))}function k(F,_){var O=F._dims;return Math.min(1,Math.max(0,(_-t.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*t.stepInset-2*O.inputAreaStart)))}function R(F,_,O){var z=O._dims,N=C.ensureSingle(F,"rect",t.railTouchRectClass,function(Y){Y.call(S,_,F,O).style("pointer-events","all")});N.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+O.ticklen+z.labelHeight)}).call(i.fill,O.bgcolor).attr("opacity",0),L.setTranslate(N,0,z.currentValueTotalHeight)}function B(F,_){var O=_._dims,z=O.inputAreaLength-t.railInset*2,N=C.ensureSingle(F,"rect",t.railRectClass);N.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,_.bordercolor).call(i.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px"),L.setTranslate(N,t.railInset,(O.inputAreaWidth-t.railWidth)*.5+O.currentValueTotalHeight)}},97544:function(V,U,e){"use strict";var x=e(60876);V.exports={moduleType:"component",name:x.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(7316),L=e(24040),C=e(3400),c=C.strTranslate,y=e(43616),r=e(76308),t=e(72736),s=e(13448),n=e(84284).OPPOSITE_SIDE,u=/ [XY][0-9]* /;function l(f,g,h){var w=h.propContainer,d=h.propName,o=h.placeholder,v=h.traceIndex,A=h.avoid||{},b=h.attributes,M=h.transform,m=h.containerGroup,S=f._fullLayout,T=1,a=!1,E=w.title,p=(E&&E.text?E.text:"").trim(),k=E&&E.font?E.font:{},R=k.family,B=k.size,F=k.color,_;d==="title.text"?_="titleText":d.indexOf("axis")!==-1?_="axisTitleText":d.indexOf("colorbar"!==-1)&&(_="colorbarTitleText");var O=f._context.edits[_];p===""?T=0:p.replace(u," % ")===o.replace(u," % ")&&(T=.2,a=!0,O||(p="")),h._meta?p=C.templateString(p,h._meta):S._meta&&(p=C.templateString(p,S._meta));var z=p||O,N;m||(m=C.ensureSingle(S._infolayer,"g","g-"+g),N=S._hColorbarMoveTitle);var Y=m.selectAll("text").data(z?[0]:[]);if(Y.enter().append("text"),Y.text(p).attr("class",g),Y.exit().remove(),!z)return m;function J(K){C.syncOrAsync([ae,se],K)}function ae(K){var j;return!M&&N&&(M={}),M?(j="",M.rotate&&(j+="rotate("+[M.rotate,b.x,b.y]+")"),(M.offset||N)&&(j+=c(0,(M.offset||0)-(N||0)))):j=null,K.attr("transform",j),K.style({"font-family":R,"font-size":x.round(B,2)+"px",fill:r.rgb(F),opacity:T*r.opacity(F),"font-weight":i.fontWeight}).attr(b).call(t.convertToTspans,f),i.previousPromises(f)}function se(K){var j=x.select(K.node().parentNode);if(A&&A.selection&&A.side&&p){j.attr("transform",null);var ie=n[A.side],W=A.side==="left"||A.side==="top"?-1:1,Q=P(A.pad)?A.pad:2,ee=y.bBox(j.node()),$={t:0,b:0,l:0,r:0},X=f._fullLayout._reservedMargin;for(var oe in X)for(var te in X[oe]){var fe=X[oe][te];$[te]=Math.max($[te],fe)}var pe={left:$.l,top:$.t,right:S.width-$.r,bottom:S.height-$.b},Ae=A.maxShift||W*(pe[A.side]-ee[A.side]),be=0;if(Ae<0)be=Ae;else{var Pe=A.offsetLeft||0,me=A.offsetTop||0;ee.left-=Pe,ee.right-=Pe,ee.top-=me,ee.bottom-=me,A.selection.each(function(){var xe=y.bBox(this);C.bBoxIntersect(ee,xe,Q)&&(be=Math.max(be,W*(xe[A.side]-ee[ie])+Q))}),be=Math.min(Ae,be),w._titleScoot=Math.abs(be)}if(be>0||Ae<0){var Ee={left:[-be,0],right:[be,0],top:[0,-be],bottom:[0,be]}[A.side];j.attr("transform",c(Ee[0],Ee[1]))}}}Y.call(J);function ue(){T=0,a=!0,Y.text(o).on("mouseover.opacity",function(){x.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){x.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return O&&(p?Y.on(".opacity",null):ue(),Y.call(t.makeEditable,{gd:f}).on("edit",function(K){v!==void 0?L.call("_guiRestyle",f,d,K,v):L.call("_guiRelayout",f,d,K)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(J)}).on("input",function(K){this.text(K||" ").call(t.positionText,b.x,b.y)})),Y.classed("js-placeholder",a),m}V.exports={draw:l}},88444:function(V,U,e){"use strict";var x=e(25376),P=e(22548),i=e(92880).extendFlat,L=e(67824).overrideAll,C=e(66741),c=e(31780).templatedArray,y=c("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});V.exports=L(c("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:y,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(C({editType:"arraydraw"}),{}),font:x({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(V){"use strict";V.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},91384:function(V,U,e){"use strict";var x=e(3400),P=e(51272),i=e(88444),L=e(73712),C=L.name,c=i.buttons;V.exports=function(s,n){var u={name:C,handleItemDefaults:y};P(s,n,u)};function y(t,s,n){function u(g,h){return x.coerce(t,s,i,g,h)}var l=P(t,s,{name:"buttons",handleItemDefaults:r}),f=u("visible",l.length>0);f&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),x.noneOrAll(t,s,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),x.coerceFont(u,"font",n.font),u("bgcolor",n.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function r(t,s){function n(l,f){return x.coerce(t,s,c,l,f)}var u=n("visible",t.method==="skip"||Array.isArray(t.args));u&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(V,U,e){"use strict";var x=e(33428),P=e(7316),i=e(76308),L=e(43616),C=e(3400),c=e(72736),y=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),s=e(37400);V.exports=function(k){var R=k._fullLayout,B=C.filterVisible(R[t.name]);function F(se){P.autoMargin(k,T(se))}var _=R._menulayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);if(_.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),_.exit().each(function(){x.select(this).selectAll("g."+t.headerGroupClassName).each(F)}).remove(),B.length!==0){var O=_.selectAll("g."+t.headerGroupClassName).data(B,n);O.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=C.ensureSingle(_,"g",t.dropdownButtonGroupClassName,function(se){se.style("pointer-events","all")}),N=0;N<B.length;N++){var Y=B[N];S(k,Y)}var J="updatemenus"+R._uid,ae=new s(k,z,J);O.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(E)),O.exit().each(function(se){z.call(E),F(se)}).remove(),O.each(function(se){var ue=x.select(this),K=se.type==="dropdown"?z:null;P.manageCommandObserver(k,se,se.buttons,function(j){f(k,se,se.buttons[j.index],ue,K,ae,j.index,!0)}),se.type==="dropdown"?(g(k,ue,z,ae,se),l(z,se)&&h(k,ue,z,ae,se)):h(k,ue,null,null,se)})}};function n(p){return p._index}function u(p){return+p.attr(t.menuIndexAttrName)==-1}function l(p,k){return+p.attr(t.menuIndexAttrName)===k._index}function f(p,k,R,B,F,_,O,z){k.active=O,y(p.layout,t.name,k).applyUpdate("active",O),k.type==="buttons"?h(p,B,null,null,k):k.type==="dropdown"&&(F.attr(t.menuIndexAttrName,"-1"),g(p,B,F,_,k),z||h(p,B,F,_,k))}function g(p,k,R,B,F){var _=C.ensureSingle(k,"g",t.headerClassName,function(se){se.style("pointer-events","all")}),O=F._dims,z=F.active,N=F.buttons[z]||t.blankHeaderOpts,Y={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},J={width:O.headerWidth,height:O.headerHeight};_.call(o,F,N,p).call(a,F,Y,J);var ae=C.ensureSingle(k,"text",t.headerArrowClassName,function(se){se.attr("text-anchor","end").call(L.font,F.font).text(t.arrowSymbol[F.direction])});ae.attr({x:O.headerWidth-t.arrowOffsetX+F.pad.l,y:O.headerHeight/2+t.textOffsetY+F.pad.t}),_.on("click",function(){R.call(E,String(l(R,F)?-1:F._index)),h(p,k,R,B,F)}),_.on("mouseover",function(){_.call(M)}),_.on("mouseout",function(){_.call(m,F)}),L.setTranslate(k,O.lx,O.ly)}function h(p,k,R,B,F){R||(R=k,R.attr("pointer-events","all"));var _=!u(R)||F.type==="buttons"?F.buttons:[],O=F.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=R.selectAll("g."+O).data(C.filterVisible(_)),N=z.enter().append("g").classed(O,!0),Y=z.exit();F.type==="dropdown"?(N.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var J=0,ae=0,se=F._dims,ue=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(ue?ae=se.headerHeight+t.gapButtonHeader:J=se.headerWidth+t.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(ae=-t.gapButtonHeader+t.gapButton-se.openHeight),F.type==="dropdown"&&F.direction==="left"&&(J=-t.gapButtonHeader+t.gapButton-se.openWidth);var K={x:se.lx+J+F.pad.l,y:se.ly+ae+F.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},j={l:K.x+F.borderwidth,t:K.y+F.borderwidth};z.each(function(ie,W){var Q=x.select(this);Q.call(o,F,ie,p).call(a,F,K),Q.on("click",function(){x.event.defaultPrevented||(ie.execute&&(ie.args2&&F.active===W?(f(p,F,ie,k,R,B,-1),P.executeAPICommand(p,ie.method,ie.args2)):(f(p,F,ie,k,R,B,W),P.executeAPICommand(p,ie.method,ie.args))),p.emit("plotly_buttonclicked",{menu:F,button:ie,active:F.active}))}),Q.on("mouseover",function(){Q.call(M)}),Q.on("mouseout",function(){Q.call(m,F),z.call(b,F)})}),z.call(b,F),ue?(j.w=Math.max(se.openWidth,se.headerWidth),j.h=K.y-j.t):(j.w=K.x-j.l,j.h=Math.max(se.openHeight,se.headerHeight)),j.direction=F.direction,B&&(z.size()?w(p,k,R,B,F,j):d(B))}function w(p,k,R,B,F,_){var O=F.direction,z=O==="up"||O==="down",N=F._dims,Y=F.active,J,ae,se;if(z)for(ae=0,se=0;se<Y;se++)ae+=N.heights[se]+t.gapButton;else for(J=0,se=0;se<Y;se++)J+=N.widths[se]+t.gapButton;B.enable(_,J,ae),B.hbar&&B.hbar.attr("opacity","0").transition().attr("opacity","1"),B.vbar&&B.vbar.attr("opacity","0").transition().attr("opacity","1")}function d(p){var k=!!p.hbar,R=!!p.vbar;k&&p.hbar.transition().attr("opacity","0").each("end",function(){k=!1,R||p.disable()}),R&&p.vbar.transition().attr("opacity","0").each("end",function(){R=!1,k||p.disable()})}function o(p,k,R,B){p.call(v,k).call(A,k,R,B)}function v(p,k){var R=C.ensureSingle(p,"rect",t.itemRectClassName,function(B){B.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});R.call(i.stroke,k.bordercolor).call(i.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function A(p,k,R,B){var F=C.ensureSingle(p,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),_=R.label,O=B._fullLayout._meta;O&&(_=C.templateString(_,O)),F.call(L.font,k.font).text(_).call(c.convertToTspans,B)}function b(p,k){var R=k.active;p.each(function(B,F){var _=x.select(this);F===R&&k.showactive&&_.select("rect."+t.itemRectClassName).call(i.fill,t.activeColor)})}function M(p){p.select("rect."+t.itemRectClassName).call(i.fill,t.hoverColor)}function m(p,k){p.select("rect."+t.itemRectClassName).call(i.fill,k.bgcolor)}function S(p,k){var R=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},B=L.tester.selectAll("g."+t.dropdownButtonClassName).data(C.filterVisible(k.buttons));B.enter().append("g").classed(t.dropdownButtonClassName,!0);var F=["up","down"].indexOf(k.direction)!==-1;B.each(function(J,ae){var se=x.select(this);se.call(o,k,J,p);var ue=se.select("."+t.itemTextClassName),K=ue.node()&&L.bBox(ue.node()).width,j=Math.max(K+t.textPadX,t.minWidth),ie=k.font.size*r,W=c.lineCount(ue),Q=Math.max(ie*W,t.minHeight)+t.textOffsetY;Q=Math.ceil(Q),j=Math.ceil(j),R.widths[ae]=j,R.heights[ae]=Q,R.height1=Math.max(R.height1,Q),R.width1=Math.max(R.width1,j),F?(R.totalWidth=Math.max(R.totalWidth,j),R.openWidth=R.totalWidth,R.totalHeight+=Q+t.gapButton,R.openHeight+=Q+t.gapButton):(R.totalWidth+=j+t.gapButton,R.openWidth+=j+t.gapButton,R.totalHeight=Math.max(R.totalHeight,Q),R.openHeight=R.totalHeight)}),F?R.totalHeight-=t.gapButton:R.totalWidth-=t.gapButton,R.headerWidth=R.width1+t.arrowPadX,R.headerHeight=R.height1,k.type==="dropdown"&&(F?(R.width1+=t.arrowPadX,R.totalHeight=R.height1):R.totalWidth=R.width1,R.totalWidth+=t.arrowPadX),B.remove();var _=R.totalWidth+k.pad.l+k.pad.r,O=R.totalHeight+k.pad.t+k.pad.b,z=p._fullLayout._size;R.lx=z.l+z.w*k.x,R.ly=z.t+z.h*(1-k.y);var N="left";C.isRightAnchor(k)&&(R.lx-=_,N="right"),C.isCenterAnchor(k)&&(R.lx-=_/2,N="center");var Y="top";C.isBottomAnchor(k)&&(R.ly-=O,Y="bottom"),C.isMiddleAnchor(k)&&(R.ly-=O/2,Y="middle"),R.totalWidth=Math.ceil(R.totalWidth),R.totalHeight=Math.ceil(R.totalHeight),R.lx=Math.round(R.lx),R.ly=Math.round(R.ly),P.autoMargin(p,T(k),{x:k.x,y:k.y,l:_*({right:1,center:.5}[N]||0),r:_*({left:1,center:.5}[N]||0),b:O*({top:1,middle:.5}[Y]||0),t:O*({bottom:1,middle:.5}[Y]||0)})}function T(p){return t.autoMarginIdRoot+p._index}function a(p,k,R,B){B=B||{};var F=p.select("."+t.itemRectClassName),_=p.select("."+t.itemTextClassName),O=k.borderwidth,z=R.index,N=k._dims;L.setTranslate(p,O+R.x,O+R.y);var Y=["up","down"].indexOf(k.direction)!==-1,J=B.height||(Y?N.heights[z]:N.height1);F.attr({x:0,y:0,width:B.width||(Y?N.width1:N.widths[z]),height:J});var ae=k.font.size*r,se=c.lineCount(_),ue=(se-1)*ae/2;c.positionText(_,t.textOffsetX,J/2-ue+t.textOffsetY),Y?R.y+=N.heights[z]+R.yPad:R.x+=N.widths[z]+R.xPad,R.index++}function E(p,k){p.attr(t.menuIndexAttrName,k||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(V,U,e){"use strict";var x=e(73712);V.exports={moduleType:"component",name:x.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(V,U,e){"use strict";V.exports=C;var x=e(33428),P=e(76308),i=e(43616),L=e(3400);function C(c,y,r){this.gd=c,this.container=y,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}C.barWidth=2,C.barLength=20,C.barRadius=2,C.barPad=1,C.barColor="#808BA4",C.prototype.enable=function(y,r,t){var s=this.gd._fullLayout,n=s.width,u=s.height;this.position=y;var l=this.position.l,f=this.position.w,g=this.position.t,h=this.position.h,w=this.position.direction,d=w==="down",o=w==="left",v=w==="right",A=w==="up",b=f,M=h,m,S,T,a;!d&&!o&&!v&&!A&&(this.position.direction="down",d=!0);var E=d||A;E?(m=l,S=m+b,d?(T=g,a=Math.min(T+M,u),M=a-T):(a=g+M,T=Math.max(a-M,0),M=a-T)):(T=g,a=T+M,o?(S=l+b,m=Math.max(S-b,0),b=S-m):(m=l,S=Math.min(m+b,n),b=S-m)),this._box={l:m,t:T,w:b,h:M};var p=f>b,k=C.barLength+2*C.barPad,R=C.barWidth+2*C.barPad,B=l,F=g+h;F+R>u&&(F=u-R);var _=this.container.selectAll("rect.scrollbar-horizontal").data(p?[0]:[]);_.exit().on(".drag",null).remove(),_.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,C.barColor),p?(this.hbar=_.attr({rx:C.barRadius,ry:C.barRadius,x:B,y:F,width:k,height:R}),this._hbarXMin=B+k/2,this._hbarTranslateMax=b-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=h>M,z=C.barWidth+2*C.barPad,N=C.barLength+2*C.barPad,Y=l+f,J=g;Y+z>n&&(Y=n-z);var ae=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);ae.exit().on(".drag",null).remove(),ae.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,C.barColor),O?(this.vbar=ae.attr({rx:C.barRadius,ry:C.barRadius,x:Y,y:J,width:z,height:N}),this._vbarYMin=J+N/2,this._vbarTranslateMax=M-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var se=this.id,ue=m-.5,K=O?S+z+.5:S+.5,j=T-.5,ie=p?a+R+.5:a+.5,W=s._topdefs.selectAll("#"+se).data(p||O?[0]:[]);if(W.exit().remove(),W.enter().append("clipPath").attr("id",se).append("rect"),p||O?(this._clipRect=W.select("rect").attr({x:Math.floor(ue),y:Math.floor(j),width:Math.ceil(K)-Math.floor(ue),height:Math.ceil(ie)-Math.floor(j)}),this.container.call(i.setClipUrl,se,this.gd),this.bg.attr({x:l,y:g,width:f,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),p||O){var Q=x.behavior.drag().on("dragstart",function(){x.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Q);var ee=x.behavior.drag().on("dragstart",function(){x.event.sourceEvent.preventDefault(),x.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));p&&this.hbar.on(".drag",null).call(ee),O&&this.vbar.on(".drag",null).call(ee)}this.setTranslate(r,t)},C.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},C.prototype._onBoxDrag=function(){var y=this.translateX,r=this.translateY;this.hbar&&(y-=x.event.dx),this.vbar&&(r-=x.event.dy),this.setTranslate(y,r)},C.prototype._onBoxWheel=function(){var y=this.translateX,r=this.translateY;this.hbar&&(y+=x.event.deltaY),this.vbar&&(r+=x.event.deltaY),this.setTranslate(y,r)},C.prototype._onBarDrag=function(){var y=this.translateX,r=this.translateY;if(this.hbar){var t=y+this._hbarXMin,s=t+this._hbarTranslateMax,n=L.constrain(x.event.x,t,s),u=(n-t)/(s-t),l=this.position.w-this._box.w;y=u*l}if(this.vbar){var f=r+this._vbarYMin,g=f+this._vbarTranslateMax,h=L.constrain(x.event.y,f,g),w=(h-f)/(g-f),d=this.position.h-this._box.h;r=w*d}this.setTranslate(y,r)},C.prototype.setTranslate=function(y,r){var t=this.position.w-this._box.w,s=this.position.h-this._box.h;if(y=L.constrain(y||0,0,t),r=L.constrain(r||0,0,s),this.translateX=y,this.translateY=r,this.container.call(i.setTranslate,this._box.l-this.position.l-y,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+y-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=y/t;this.hbar.call(i.setTranslate,y+n*this._hbarTranslateMax,r)}if(this.vbar){var u=r/s;this.vbar.call(i.setTranslate,y,r+u*this._vbarTranslateMax)}}},84284:function(V){"use strict";V.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(V){"use strict";V.exports={axisRefDescription:function(U,e,x){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+x+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",e,"and the",x,"of the domain of the","second",U,"axis."].join(" ")}}},48164:function(V){"use strict";V.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25B2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25BC"}}},26880:function(V){"use strict";V.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(V){"use strict";V.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(V){"use strict";V.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(V){"use strict";V.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}},13448:function(V){"use strict";V.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(V){"use strict";V.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2264:function(V,U){"use strict";U.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],U.STYLE=U.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(V,U){"use strict";U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},64884:function(V,U,e){"use strict";U.version=e(25788).version,e(88324),e(79288);for(var x=e(24040),P=U.register=x.register,i=e(22448),L=Object.keys(i),C=0;C<L.length;C++){var c=L[C];c.charAt(0)!=="_"&&(U[c]=i[c]),P({moduleType:"apiMethod",name:c,fn:i[c]})}P(e(65875)),P([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),P([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=e(9224);var y=e(93024),r=e(7316);U.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},U.Fx={hover:y.hover,unhover:y.unhover,loneHover:y.loneHover,loneUnhover:y.loneUnhover},U.Snapshot=e(78904),U.PlotSchema=e(73060)},9224:function(V){"use strict";V.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(V,U){"use strict";U.isLeftAnchor=function(x){return x.xanchor==="left"||x.xanchor==="auto"&&x.x<=.3333333333333333},U.isCenterAnchor=function(x){return x.xanchor==="center"||x.xanchor==="auto"&&x.x>.3333333333333333&&x.x<.6666666666666666},U.isRightAnchor=function(x){return x.xanchor==="right"||x.xanchor==="auto"&&x.x>=.6666666666666666},U.isTopAnchor=function(x){return x.yanchor==="top"||x.yanchor==="auto"&&x.y>=.6666666666666666},U.isMiddleAnchor=function(x){return x.yanchor==="middle"||x.yanchor==="auto"&&x.y>.3333333333333333&&x.y<.6666666666666666},U.isBottomAnchor=function(x){return x.yanchor==="bottom"||x.yanchor==="auto"&&x.y<=.3333333333333333}},11864:function(V,U,e){"use strict";var x=e(20435),P=x.mod,i=x.modHalf,L=Math.PI,C=2*L;function c(w){return w/180*L}function y(w){return w/L*180}function r(w){return Math.abs(w[1]-w[0])>C-1e-14}function t(w,d){return i(d-w,C)}function s(w,d){return Math.abs(t(w,d))}function n(w,d){if(r(d))return!0;var o,v;d[0]<d[1]?(o=d[0],v=d[1]):(o=d[1],v=d[0]),o=P(o,C),v=P(v,C),o>v&&(v+=C);var A=P(w,C),b=A+C;return A>=o&&A<=v||b>=o&&b<=v}function u(w,d,o,v){if(!n(d,v))return!1;var A,b;return o[0]<o[1]?(A=o[0],b=o[1]):(A=o[1],b=o[0]),w>=A&&w<=b}function l(w,d,o,v,A,b,M){A=A||0,b=b||0;var m=r([o,v]),S,T,a,E,p;m?(S=0,T=L,a=C):o<v?(S=o,a=v):(S=v,a=o),w<d?(E=w,p=d):(E=d,p=w);function k(_,O){return[_*Math.cos(O)+A,b-_*Math.sin(O)]}var R=Math.abs(a-S)<=L?0:1;function B(_,O,z){return"A"+[_,_]+" "+[0,R,z]+" "+k(_,O)}var F;return m?E===null?F="M"+k(p,S)+B(p,T,0)+B(p,a,0)+"Z":F="M"+k(E,S)+B(E,T,0)+B(E,a,0)+"ZM"+k(p,S)+B(p,T,1)+B(p,a,1)+"Z":E===null?(F="M"+k(p,S)+B(p,a,0),M&&(F+="L0,0Z")):F="M"+k(E,S)+"L"+k(p,S)+B(p,a,0)+"L"+k(E,a)+B(E,S,1)+"Z",F}function f(w,d,o,v,A){return l(null,w,d,o,v,A,0)}function g(w,d,o,v,A){return l(null,w,d,o,v,A,1)}function h(w,d,o,v,A,b){return l(w,d,o,v,A,b,1)}V.exports={deg2rad:c,rad2deg:y,angleDelta:t,angleDist:s,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:u,pathArc:f,pathSector:g,pathAnnulus:h}},38116:function(V,U,e){"use strict";var x=e(83160).decode,P=e(63620),i=Array.isArray,L=ArrayBuffer,C=DataView;function c(l){return L.isView(l)&&!(l instanceof C)}U.isTypedArray=c;function y(l){return i(l)||c(l)}U.isArrayOrTypedArray=y;function r(l){return!y(l[0])}U.isArray1D=r,U.ensureArray=function(l,f){return i(l)||(l=[]),l.length=f,l};var t={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function s(l){return l.constructor===ArrayBuffer}U.isArrayBuffer=s,U.decodeTypedArraySpec=function(l){var f=[],g=n(l),h=g.dtype,w=t[h];if(!w)throw new Error('Error in dtype: "'+h+'"');var d=w.BYTES_PER_ELEMENT,o=g.bdata;s(o)||(o=x(o));var v=g.shape===void 0?[o.byteLength/d]:(""+g.shape).split(",");v.reverse();var A=v.length,b,M,m=+v[0],S=d*m,T=0;if(A===1)f=new w(o);else if(A===2)for(b=+v[1],M=0;M<b;M++)f[M]=new w(o,T,m),T+=S;else if(A===3){b=+v[1];for(var a=+v[2],E=0;E<a;E++)for(f[E]=[],M=0;M<b;M++)f[E][M]=new w(o,T,m),T+=S}else throw new Error("ndim: "+A+'is not supported with the shape:"'+g.shape+'"');return f.bdata=g.bdata,f.dtype=g.dtype,f.shape=v.reverse().join(","),l._inputArray=f,f},U.isTypedArraySpec=function(l){return P(l)&&l.hasOwnProperty("dtype")&&typeof l.dtype=="string"&&l.hasOwnProperty("bdata")&&(typeof l.bdata=="string"||s(l.bdata))&&(l.shape===void 0||l.hasOwnProperty("shape")&&(typeof l.shape=="string"||typeof l.shape=="number"))};function n(l){return{bdata:l.bdata,dtype:l.dtype,shape:l.shape}}U.concat=function(){var l=[],f=!0,g=0,h,w,d,o,v,A,b,M;for(d=0;d<arguments.length;d++)o=arguments[d],A=o.length,A&&(w?l.push(o):(w=o,v=A),i(o)?h=!1:(f=!1,g?h!==o.constructor&&(h=!1):h=o.constructor),g+=A);if(!g)return[];if(!l.length)return w;if(f)return w.concat.apply(w,l);if(h){for(b=new h(g),b.set(w),d=0;d<l.length;d++)o=l[d],b.set(o,v),v+=o.length;return b}for(b=new Array(g),M=0;M<w.length;M++)b[M]=w[M];for(d=0;d<l.length;d++){for(o=l[d],M=0;M<o.length;M++)b[v+M]=o[M];v+=M}return b},U.maxRowLength=function(l){return u(l,Math.max,0)},U.minRowLength=function(l){return u(l,Math.min,1/0)};function u(l,f,g){if(y(l))if(y(l[0])){for(var h=g,w=0;w<l.length;w++)h=f(h,l[w].length);return h}else return l.length;return 0}},54037:function(V,U,e){"use strict";var x=e(38248),P=e(39032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;V.exports=function(C){return typeof C=="string"&&(C=C.replace(i,"")),x(C)?Number(C):P}},73696:function(V){"use strict";V.exports=function(e){var x=e._fullLayout;x._glcanvas&&x._glcanvas.size()&&x._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},75352:function(V){"use strict";V.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(V,U,e){"use strict";var x=e(38248),P=e(49760),i=e(45464),L=e(88304),C=e(76308),c=e(13448).DESELECTDIM,y=e(22296),r=e(53756).counter,t=e(20435).modHalf,s=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;U.valObjectMeta={data_array:{coerceFunction:function(f,g,h){g.set(s(f)?f:n(f)?u(f):h)}},enumerated:{coerceFunction:function(f,g,h,w){w.coerceNumber&&(f=+f),w.values.indexOf(f)===-1?g.set(h):g.set(f)},validateFunction:function(f,g){g.coerceNumber&&(f=+f);for(var h=g.values,w=0;w<h.length;w++){var d=String(h[w]);if(d.charAt(0)==="/"&&d.charAt(d.length-1)==="/"){var o=new RegExp(d.substr(1,d.length-2));if(o.test(f))return!0}else if(f===h[w])return!0}return!1}},boolean:{coerceFunction:function(f,g,h){f===!0||f===!1?g.set(f):g.set(h)}},number:{coerceFunction:function(f,g,h,w){!x(f)||w.min!==void 0&&f<w.min||w.max!==void 0&&f>w.max?g.set(h):g.set(+f)}},integer:{coerceFunction:function(f,g,h,w){f%1||!x(f)||w.min!==void 0&&f<w.min||w.max!==void 0&&f>w.max?g.set(h):g.set(+f)}},string:{coerceFunction:function(f,g,h,w){if(typeof f!="string"){var d=typeof f=="number";w.strict===!0||!d?g.set(h):g.set(String(f))}else w.noBlank&&!f?g.set(h):g.set(f)}},color:{coerceFunction:function(f,g,h){P(f).isValid()?g.set(f):g.set(h)}},colorlist:{coerceFunction:function(f,g,h){function w(d){return P(d).isValid()}!Array.isArray(f)||!f.length?g.set(h):f.every(w)?g.set(f):g.set(h)}},colorscale:{coerceFunction:function(f,g,h){g.set(L.get(f,h))}},angle:{coerceFunction:function(f,g,h){f==="auto"?g.set("auto"):x(f)?g.set(t(+f,360)):g.set(h)}},subplotid:{coerceFunction:function(f,g,h,w){var d=w.regex||r(h);if(typeof f=="string"&&d.test(f)){g.set(f);return}g.set(h)},validateFunction:function(f,g){var h=g.dflt;return f===h?!0:typeof f!="string"?!1:!!r(h).test(f)}},flaglist:{coerceFunction:function(f,g,h,w){if((w.extras||[]).indexOf(f)!==-1){g.set(f);return}if(typeof f!="string"){g.set(h);return}for(var d=f.split("+"),o=0;o<d.length;){var v=d[o];w.flags.indexOf(v)===-1||d.indexOf(v)<o?d.splice(o,1):o++}d.length?g.set(d.join("+")):g.set(h)}},any:{coerceFunction:function(f,g,h){f===void 0?g.set(h):g.set(n(f)?u(f):f)}},info_array:{coerceFunction:function(f,g,h,w){function d(B,F,_){var O,z={set:function(N){O=N}};return _===void 0&&(_=F.dflt),U.valObjectMeta[F.valType].coerceFunction(B,z,_,F),O}if(n(f)&&(f=u(f)),!s(f)){g.set(h);return}var o=w.dimensions===2||w.dimensions==="1-2"&&Array.isArray(f)&&s(f[0]),v=w.items,A=[],b=Array.isArray(v),M=b&&o&&s(v[0]),m=o&&b&&!M,S=b&&!m?v.length:f.length,T,a,E,p,k,R;if(h=Array.isArray(h)?h:[],o)for(T=0;T<S;T++)for(A[T]=[],E=s(f[T])?f[T]:[],m?k=v.length:b?k=v[T].length:k=E.length,a=0;a<k;a++)m?p=v[a]:b?p=v[T][a]:p=v,R=d(E[a],p,(h[T]||[])[a]),R!==void 0&&(A[T][a]=R);else for(T=0;T<S;T++)R=d(f[T],b?v[T]:v,h[T]),R!==void 0&&(A[T]=R);g.set(A)},validateFunction:function(f,g){if(!s(f))return!1;var h=g.items,w=Array.isArray(h),d=g.dimensions===2;if(!g.freeLength&&f.length!==h.length)return!1;for(var o=0;o<f.length;o++)if(d){if(!s(f[o])||!g.freeLength&&f[o].length!==h[o].length)return!1;for(var v=0;v<f[o].length;v++)if(!l(f[o][v],w?h[o][v]:h))return!1}else if(!l(f[o],w?h[o]:h))return!1;return!0}}},U.coerce=function(f,g,h,w,d){var o=y(h,w).get(),v=y(f,w),A=y(g,w),b=v.get(),M=g._template;if(b===void 0&&M&&(b=y(M,w).get(),M=0),d===void 0&&(d=o.dflt),o.arrayOk){if(s(b))return A.set(b),b;if(n(b))return b=u(b),A.set(b),b}var m=U.valObjectMeta[o.valType].coerceFunction;m(b,A,d,o);var S=A.get();return M&&S===d&&!l(b,o)&&(b=y(M,w).get(),m(b,A,d,o),S=A.get()),S},U.coerce2=function(f,g,h,w,d){var o=y(f,w),v=U.coerce(f,g,h,w,d),A=o.get();return A!=null?v:!1},U.coerceFont=function(f,g,h){var w={};return h=h||{},w.family=f(g+".family",h.family),w.size=f(g+".size",h.size),w.color=f(g+".color",h.color),w},U.coercePattern=function(f,g,h,w){var d=f(g+".shape");if(d){f(g+".solidity"),f(g+".size");var o=f(g+".fillmode"),v=o==="overlay";if(!w){var A=f(g+".bgcolor",v?h:void 0);f(g+".fgcolor",v?C.contrast(A):h)}f(g+".fgopacity",v?.5:1)}},U.coerceHoverinfo=function(f,g,h){var w=g._module.attributes,d=w.hoverinfo?w:i,o=d.hoverinfo,v;if(h._dataLength===1){var A=o.dflt==="all"?o.flags.slice():o.dflt.split("+");A.splice(A.indexOf("name"),1),v=A.join("+")}return U.coerce(f,g,d,"hoverinfo",v)},U.coerceSelectionMarkerOpacity=function(f,g){if(f.marker){var h=f.marker.opacity;if(h!==void 0){var w,d;!s(h)&&!f.selected&&!f.unselected&&(w=h,d=c*h),g("selected.marker.opacity",w),g("unselected.marker.opacity",d)}}};function l(f,g){var h=U.valObjectMeta[g.valType];if(g.arrayOk&&s(f))return!0;if(h.validateFunction)return h.validateFunction(f,g);var w={},d=w,o={set:function(v){d=v}};return h.coerceFunction(f,o,w,g),d!==w}U.validate=l},67555:function(V,U,e){"use strict";var x=e(94336).Yn,P=e(38248),i=e(24248),L=e(20435).mod,C=e(39032),c=C.BADNUM,y=C.ONEDAY,r=C.ONEHOUR,t=C.ONEMIN,s=C.ONESEC,n=C.EPOCHJD,u=e(24040),l=e(94336).E9,f=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function w(F){return F&&u.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}U.dateTick0=function(F,_){var O=d(F,!!_);if(_<2)return O;var z=U.dateTime2ms(O,F);return z+=y*(_-1),U.ms2DateTime(z,0,F)};function d(F,_){return w(F)?_?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:u.getComponentMethod("calendars","CANONICAL_TICK")[F]:_?"2000-01-02":"2000-01-01"}U.dfltRange=function(F){return w(F)?u.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},U.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var o,v;U.dateTime2ms=function(F,_){if(U.isJSDate(F)){var O=F.getTimezoneOffset()*t,z=(F.getUTCMinutes()-F.getMinutes())*t+(F.getUTCSeconds()-F.getSeconds())*s+(F.getUTCMilliseconds()-F.getMilliseconds());if(z){var N=3*t;O=O-N/2+L(z-O+N/2,N)}return F=Number(F)-O,F>=o&&F<=v?F:c}if(typeof F!="string"&&typeof F!="number")return c;F=String(F);var Y=w(_),J=F.charAt(0);Y&&(J==="G"||J==="g")&&(F=F.substr(1),_="");var ae=Y&&_.substr(0,7)==="chinese",se=F.match(ae?g:f);if(!se)return c;var ue=se[1],K=se[3]||"1",j=Number(se[5]||1),ie=Number(se[7]||0),W=Number(se[9]||0),Q=Number(se[11]||0);if(Y){if(ue.length===2)return c;ue=Number(ue);var ee;try{var $=u.getComponentMethod("calendars","getCal")(_);if(ae){var X=K.charAt(K.length-1)==="i";K=parseInt(K,10),ee=$.newDate(ue,$.toMonthIndex(ue,K,X),j)}else ee=$.newDate(ue,Number(K),j)}catch(te){return c}return ee?(ee.toJD()-n)*y+ie*r+W*t+Q*s:c}ue.length===2?ue=(Number(ue)+2e3-h)%100+h:ue=Number(ue),K-=1;var oe=new Date(Date.UTC(2e3,K,j,ie,W));return oe.setUTCFullYear(ue),oe.getUTCMonth()!==K||oe.getUTCDate()!==j?c:oe.getTime()+Q*s},o=U.MIN_MS=U.dateTime2ms("-9999"),v=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(F,_){return U.dateTime2ms(F,_)!==c};function A(F,_){return String(F+Math.pow(10,_)).substr(1)}var b=90*y,M=3*r,m=5*t;U.ms2DateTime=function(F,_,O){if(typeof F!="number"||!(F>=o&&F<=v))return c;_||(_=0);var z=Math.floor(L(F+.05,1)*10),N=Math.round(F-z/10),Y,J,ae,se,ue,K;if(w(O)){var j=Math.floor(N/y)+n,ie=Math.floor(L(F,y));try{Y=u.getComponentMethod("calendars","getCal")(O).fromJD(j).formatDate("yyyy-mm-dd")}catch(W){Y=l("G%Y-%m-%d")(new Date(N))}if(Y.charAt(0)==="-")for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;J=_<b?Math.floor(ie/r):0,ae=_<b?Math.floor(ie%r/t):0,se=_<M?Math.floor(ie%t/s):0,ue=_<m?ie%s*10+z:0}else K=new Date(N),Y=l("%Y-%m-%d")(K),J=_<b?K.getUTCHours():0,ae=_<b?K.getUTCMinutes():0,se=_<M?K.getUTCSeconds():0,ue=_<m?K.getUTCMilliseconds()*10+z:0;return S(Y,J,ae,se,ue)},U.ms2DateTimeLocal=function(F){if(!(F>=o+y&&F<=v-y))return c;var _=Math.floor(L(F+.05,1)*10),O=new Date(Math.round(F-_/10)),z=x("%Y-%m-%d")(O),N=O.getHours(),Y=O.getMinutes(),J=O.getSeconds(),ae=O.getUTCMilliseconds()*10+_;return S(z,N,Y,J,ae)};function S(F,_,O,z,N){if((_||O||z||N)&&(F+=" "+A(_,2)+":"+A(O,2),(z||N)&&(F+=":"+A(z,2),N))){for(var Y=4;N%10===0;)Y-=1,N/=10;F+="."+A(N,Y)}return F}U.cleanDate=function(F,_,O){if(F===c)return _;if(U.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(w(O))return i.error("JS Dates and milliseconds are incompatible with world calendars",F),_;if(F=U.ms2DateTimeLocal(+F),!F&&_!==void 0)return _}else if(!U.isDateTime(F,O))return i.error("unrecognized date",F),_;return F};var T=/%\d?f/g,a=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function p(F,_,O,z){F=F.replace(T,function(Y){var J=Math.min(+Y.charAt(1)||6,6),ae=(_/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0";return ae});var N=new Date(Math.floor(_+.05));if(F=F.replace(a,function(){return E[O("%q")(N)]}),w(z))try{F=u.getComponentMethod("calendars","worldCalFmt")(F,_,z)}catch(Y){return"Invalid"}return O(F)(N)}var k=[59,59.9,59.99,59.999,59.9999];function R(F,_){var O=L(F+.05,y),z=A(Math.floor(O/r),2)+":"+A(L(Math.floor(O/t),60),2);if(_!=="M"){P(_)||(_=0);var N=Math.min(L(F/s,60),k[_]),Y=(100+N).toFixed(_).substr(1);_>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+Y}return z}U.formatDate=function(F,_,O,z,N,Y){if(N=w(N)&&N,!_)if(O==="y")_=Y.year;else if(O==="m")_=Y.month;else if(O==="d")_=Y.dayMonth+`
`+Y.year;else return R(F,O)+`
`+p(Y.dayMonthYear,F,z,N);return p(_,F,z,N)};var B=3*y;U.incrementMonth=function(F,_,O){O=w(O)&&O;var z=L(F,y);if(F=Math.round(F-z),O)try{var N=Math.round(F/y)+n,Y=u.getComponentMethod("calendars","getCal")(O),J=Y.fromJD(N);return _%12?Y.add(J,_,"m"):Y.add(J,_/12,"y"),(J.toJD()-n)*y+z}catch(se){i.error("invalid ms "+F+" in calendar "+O)}var ae=new Date(F+B);return ae.setUTCMonth(ae.getUTCMonth()+_)+z-B},U.findExactDates=function(F,_){for(var O=0,z=0,N=0,Y=0,J,ae,se=w(_)&&u.getComponentMethod("calendars","getCal")(_),ue=0;ue<F.length;ue++){if(ae=F[ue],!P(ae)){Y++;continue}if(!(ae%y))if(se)try{J=se.fromJD(ae/y+n),J.day()===1?J.month()===1?O++:z++:N++}catch(j){}else J=new Date(ae),J.getUTCDate()===1?J.getUTCMonth()===0?O++:z++:N++}z+=O,N+=z;var K=F.length-Y;return{exactYears:O/K,exactMonths:z/K,exactDays:N/K}}},52200:function(V,U,e){"use strict";var x=e(33428),P=e(24248),i=e(52248),L=e(36524);function C(h){var w;if(typeof h=="string"){if(w=document.getElementById(h),w===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return w}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function c(h){var w=x.select(h);return w.node()instanceof HTMLElement&&w.size()&&w.classed("js-plotly-plot")}function y(h){var w=h&&h.parentNode;w&&w.removeChild(h)}function r(h,w){t("global",h,w)}function t(h,w,d){var o="plotly.js-style-"+h,v=document.getElementById(o);v||(v=document.createElement("style"),v.setAttribute("id",o),v.appendChild(document.createTextNode("")),document.head.appendChild(v));var A=v.sheet;A.insertRule?A.insertRule(w+"{"+d+"}",0):A.addRule?A.addRule(w,d,0):P.warn("addStyleRule failed")}function s(h){var w="plotly.js-style-"+h,d=document.getElementById(w);d&&y(d)}function n(h){var w=l(h),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return w.forEach(function(o){var v=u(o);if(v){var A=i.convertCssMatrix(v);d=L.multiply(d,d,A)}}),d}function u(h){var w=window.getComputedStyle(h,null),d=w.getPropertyValue("-webkit-transform")||w.getPropertyValue("-moz-transform")||w.getPropertyValue("-ms-transform")||w.getPropertyValue("-o-transform")||w.getPropertyValue("transform");return d==="none"?null:d.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function l(h){for(var w=[];f(h);)w.push(h),h=h.parentNode;return w}function f(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function g(h,w){return h&&w&&h.top===w.top&&h.left===w.left&&h.right===w.right&&h.bottom===w.bottom}V.exports={getGraphDiv:C,isPlotDiv:c,removeElement:y,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:s,getFullTransformMatrix:n,getElementTransformMatrix:u,getElementAndAncestors:l,equalDomRects:g}},95924:function(V,U,e){"use strict";var x=e(61252).EventEmitter,P={init:function(i){if(i._ev instanceof x)return i;var L=new x,C=new x;return i._ev=L,i._internalEv=C,i.on=L.on.bind(L),i.once=L.once.bind(L),i.removeListener=L.removeListener.bind(L),i.removeAllListeners=L.removeAllListeners.bind(L),i._internalOn=C.on.bind(C),i._internalOnce=C.once.bind(C),i._removeInternalListener=C.removeListener.bind(C),i._removeAllInternalListeners=C.removeAllListeners.bind(C),i.emit=function(c,y){typeof jQuery!="undefined"&&jQuery(i).trigger(c,y),L.emit(c,y),C.emit(c,y)},i},triggerHandler:function(i,L,C){var c,y;typeof jQuery!="undefined"&&(c=jQuery(i).triggerHandler(L,C));var r=i._ev;if(!r)return c;var t=r._events[L];if(!t)return c;function s(u){if(u.listener){if(r.removeListener(L,u.listener),!u.fired)return u.fired=!0,u.listener.apply(r,[C])}else return u.apply(r,[C])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)s(t[n]);return y=s(t[n]),c!==void 0?c:y},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};V.exports=P},92880:function(V,U,e){"use strict";var x=e(63620),P=Array.isArray;function i(C,c){var y,r;for(y=0;y<C.length;y++){if(r=C[y],r!==null&&typeof r=="object")return!1;r!==void 0&&(c[y]=r)}return!0}U.extendFlat=function(){return L(arguments,!1,!1,!1)},U.extendDeep=function(){return L(arguments,!0,!1,!1)},U.extendDeepAll=function(){return L(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(C,c,y,r){var t=C[0],s=C.length,n,u,l,f,g,h,w;if(s===2&&P(t)&&P(C[1])&&t.length===0){if(w=i(C[1],t),w)return t;t.splice(0,t.length)}for(var d=1;d<s;d++){n=C[d];for(u in n)l=t[u],f=n[u],r&&P(f)?t[u]=f:c&&f&&(x(f)||(g=P(f)))?(g?(g=!1,h=l&&P(l)?l:[]):h=l&&x(l)?l:{},t[u]=L([h,f],c,y,r)):(typeof f!="undefined"||y)&&(t[u]=f)}return t}},68944:function(V){"use strict";V.exports=function(e){for(var x={},P=[],i=0,L=0;L<e.length;L++){var C=e[L];x[C]!==1&&(x[C]=1,P[i++]=C)}return P}},43880:function(V){"use strict";V.exports=function(i){for(var L=x(i)?e:U,C=[],c=0;c<i.length;c++){var y=i[c];L(y)&&C.push(y)}return C};function U(P){return P.visible===!0}function e(P){var i=P[0].trace;return i.visible===!0&&i._length!==0}function x(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},27144:function(V,U,e){"use strict";var x=e(33428),P=e(36116),i=e(40440),L=e(77844),C=e(42428),c=e(35536),y=e(24248),r=e(63620),t=e(22296),s=e(92065),n=Object.keys(P),u={"ISO-3":c,"USA-states":c,"country names":l};function l(A){for(var b=0;b<n.length;b++){var M=n[b],m=new RegExp(P[M]);if(m.test(A.trim().toLowerCase()))return M}return y.log("Unrecognized country name: "+A+"."),!1}function f(A,b,M){if(!b||typeof b!="string")return!1;var m=u[A](b),S,T,a;if(m){if(A==="USA-states")for(S=[],a=0;a<M.length;a++)T=M[a],T.properties&&T.properties.gu&&T.properties.gu==="USA"&&S.push(T);else S=M;for(a=0;a<S.length;a++)if(T=S[a],T.id===m)return T;y.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function g(A){var b=A.geometry,M=b.coordinates,m=A.id,S=[],T,a,E,p;function k(R){for(var B=0;B<R.length-1;B++)if(R[B][0]>0&&R[B+1][0]<0)return B;return null}switch(m==="RUS"||m==="FJI"?T=function(R){var B;if(k(R)===null)B=R;else for(B=new Array(R.length),p=0;p<R.length;p++)B[p]=[R[p][0]<0?R[p][0]+360:R[p][0],R[p][1]];S.push(s.tester(B))}:m==="ATA"?T=function(R){var B=k(R);if(B===null)return S.push(s.tester(R));var F=new Array(R.length+1),_=0;for(p=0;p<R.length;p++)p>B?F[_++]=[R[p][0]+360,R[p][1]]:p===B?(F[_++]=R[p],F[_++]=[R[p][0],-90]):F[_++]=R[p];var O=s.tester(F);O.pts.pop(),S.push(O)}:T=function(R){S.push(s.tester(R))},b.type){case"MultiPolygon":for(a=0;a<M.length;a++)for(E=0;E<M[a].length;E++)T(M[a][E]);break;case"Polygon":for(a=0;a<M.length;a++)T(M[a]);break}return S}function h(A){var b=A.geojson,M=window.PlotlyGeoAssets||{},m=typeof b=="string"?M[b]:b;return r(m)?m:(y.error("Oops ... something went wrong when fetching "+b),!1)}function w(A){var b=A[0].trace,M=h(b);if(!M)return!1;var m={},S=[],T;for(T=0;T<b._length;T++){var a=A[T];(a.loc||a.loc===0)&&(m[a.loc]=a)}function E(R){var B=t(R,b.featureidkey||"id").get(),F=m[B];if(F){var _=R.geometry;if(_.type==="Polygon"||_.type==="MultiPolygon"){var O={type:"Feature",id:B,geometry:_,properties:{}};O.properties.ct=d(O),F.fIn=R,F.fOut=O,S.push(O)}else y.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[B]}switch(M.type){case"FeatureCollection":var p=M.features;for(T=0;T<p.length;T++)E(p[T]);break;case"Feature":E(M);break;default:return y.warn(["Invalid GeoJSON type",(M.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in m)y.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+b.featureidkey+"*."].join(" "));return S}function d(A){var b=A.geometry,M;if(b.type==="MultiPolygon")for(var m=b.coordinates,S=0,T=0;T<m.length;T++){var a={type:"Polygon",coordinates:m[T]},E=i.default(a);E>S&&(S=E,M=a)}else M=b;return L.default(M).geometry.coordinates}function o(A){var b=window.PlotlyGeoAssets||{},M=[];function m(p){return new Promise(function(k,R){x.json(p,function(B,F){if(B){delete b[p];var _=B.status===404?'GeoJSON at URL "'+p+'" does not exist.':"Unexpected error while fetching from "+p;return R(new Error(_))}return b[p]=F,k(F)})})}function S(p){return new Promise(function(k,R){var B=0,F=setInterval(function(){if(b[p]&&b[p]!=="pending")return clearInterval(F),k(b[p]);if(B>100)return clearInterval(F),R("Unexpected error while fetching from "+p);B++},50)})}for(var T=0;T<A.length;T++){var a=A[T][0].trace,E=a.geojson;typeof E=="string"&&(b[E]?b[E]==="pending"&&M.push(S(E)):(b[E]="pending",M.push(m(E))))}return M}function v(A){return C.default(A)}V.exports={locationToFeature:f,feature2polygons:g,getTraceGeojson:h,extractTraceFeature:w,fetchTraceGeoData:o,computeBbox:v}},44808:function(V,U,e){"use strict";var x=e(39032).BADNUM;U.calcTraceToLineCoords=function(P){for(var i=P[0].trace,L=i.connectgaps,C=[],c=[],y=0;y<P.length;y++){var r=P[y],t=r.lonlat;t[0]!==x?c.push(t):!L&&c.length>0&&(C.push(c),c=[])}return c.length>0&&C.push(c),C},U.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},U.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var i=new Array(P.length),L=0;L<P.length;L++)i[L]=[P[L]];return{type:"MultiPolygon",coordinates:i}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(V,U,e){"use strict";var x=e(20435).mod;U.segmentsIntersect=P;function P(y,r,t,s,n,u,l,f){var g=t-y,h=n-y,w=l-n,d=s-r,o=u-r,v=f-u,A=g*v-w*d;if(A===0)return null;var b=(h*v-w*o)/A,M=(h*d-g*o)/A;return M<0||M>1||b<0||b>1?null:{x:y+g*b,y:r+d*b}}U.segmentDistance=function(r,t,s,n,u,l,f,g){if(P(r,t,s,n,u,l,f,g))return 0;var h=s-r,w=n-t,d=f-u,o=g-l,v=h*h+w*w,A=d*d+o*o,b=Math.min(i(h,w,v,u-r,l-t),i(h,w,v,f-r,g-t),i(d,o,A,r-u,t-l),i(d,o,A,s-u,n-l));return Math.sqrt(b)};function i(y,r,t,s,n){var u=s*y+n*r;if(u<0)return s*s+n*n;if(u>t){var l=s-y,f=n-r;return l*l+f*f}else{var g=s*r-n*y;return g*g/t}}var L,C,c;U.getTextLocation=function(r,t,s,n){if((r!==C||n!==c)&&(L={},C=r,c=n),L[s])return L[s];var u=r.getPointAtLength(x(s-n/2,t)),l=r.getPointAtLength(x(s+n/2,t)),f=Math.atan((l.y-u.y)/(l.x-u.x)),g=r.getPointAtLength(x(s,t)),h=(g.x*4+u.x+l.x)/6,w=(g.y*4+u.y+l.y)/6,d={x:h,y:w,theta:f};return L[s]=d,d},U.clearLocationCache=function(){C=null},U.getVisibleSegment=function(r,t,s){var n=t.left,u=t.right,l=t.top,f=t.bottom,g=0,h=r.getTotalLength(),w=h,d,o;function v(b){var M=r.getPointAtLength(b);b===0?d=M:b===h&&(o=M);var m=M.x<n?n-M.x:M.x>u?M.x-u:0,S=M.y<l?l-M.y:M.y>f?M.y-f:0;return Math.sqrt(m*m+S*S)}for(var A=v(g);A;){if(g+=A+s,g>w)return;A=v(g)}for(A=v(w);A;){if(w-=A+s,g>w)return;A=v(w)}return{min:g,max:w,len:w-g,total:h,isClosed:g===0&&w===h&&Math.abs(d.x-o.x)<.1&&Math.abs(d.y-o.y)<.1}},U.findPointOnPath=function(r,t,s,n){n=n||{};for(var u=n.pathLength||r.getTotalLength(),l=n.tolerance||.001,f=n.iterationLimit||30,g=r.getPointAtLength(0)[s]>r.getPointAtLength(u)[s]?-1:1,h=0,w=0,d=u,o,v,A;h<f;){if(o=(w+d)/2,v=r.getPointAtLength(o),A=v[s]-t,Math.abs(A)<l)return v;g*A>0?d=o:w=o,h++}return v}},33040:function(V,U,e){"use strict";var x=e(38248),P=e(49760),i=e(72160),L=e(8932),C=e(22548).defaultLine,c=e(38116).isArrayOrTypedArray,y=i(C),r=1;function t(f,g){var h=f;return h[3]*=g,h}function s(f){if(x(f))return y;var g=i(f);return g.length?g:y}function n(f){return x(f)?f:r}function u(f,g,h){var w=f.color;w&&w._inputArray&&(w=w._inputArray);var d=c(w),o=c(g),v=L.extractOpts(f),A=[],b,M,m,S,T;if(v.colorscale!==void 0?b=L.makeColorScaleFuncFromTrace(f):b=s,d?M=function(E,p){return E[p]===void 0?y:i(b(E[p]))}:M=s,o?m=function(E,p){return E[p]===void 0?r:n(E[p])}:m=n,d||o)for(var a=0;a<h;a++)S=M(w,a),T=m(g,a),A[a]=t(S,T);else A=t(i(w),g);return A}function l(f){var g=L.extractOpts(f),h=g.colorscale;return g.reversescale&&(h=L.flipScale(g.colorscale)),h.map(function(w){var d=w[0],o=P(w[1]),v=o.toRgb();return{index:d,rgb:[v.r,v.g,v.b,v.a]}})}V.exports={formatColor:u,parseColorScale:l}},71688:function(V,U,e){"use strict";var x=e(35536);function P(i){return[i]}V.exports={keyFun:function(i){return i.key},repeat:P,descend:x,wrap:P,unwrap:function(i){return i[0]}}},35536:function(V){"use strict";V.exports=function(e){return e}},1396:function(V){"use strict";V.exports=function(e,x){if(!x)return e;var P=1/Math.abs(x),i=P>1?(P*e+P*x)/P:e+x,L=String(i).length;if(L>16){var C=String(x).length,c=String(e).length;if(L>=c+C){var y=parseFloat(i).toPrecision(12);y.indexOf("e+")===-1&&(i=+y)}}return i}},3400:function(V,U,e){"use strict";var x=e(33428),P=e(94336).E9,i=e(57624).E9,L=e(38248),C=e(39032),c=C.FP_SAFE,y=-c,r=C.BADNUM,t=V.exports={};t.adjustFormat=function(ee){return!ee||/^\d[.]\df/.test(ee)||/[.]\d%/.test(ee)?ee:ee==="0.f"?"~f":/^\d%/.test(ee)?"~%":/^\ds/.test(ee)?"~s":!/^[~,.0$]/.test(ee)&&/[&fps]/.test(ee)?"~"+ee:ee};var s={};t.warnBadFormat=function(Q){var ee=String(Q);s[ee]||(s[ee]=1,t.warn('encountered bad format: "'+ee+'"'))},t.noFormat=function(Q){return String(Q)},t.numberFormat=function(Q){var ee;try{ee=i(t.adjustFormat(Q))}catch($){return t.warnBadFormat(Q),t.noFormat}return ee},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var u=e(20435);t.mod=u.mod,t.modHalf=u.modHalf;var l=e(63064);t.valObjectMeta=l.valObjectMeta,t.coerce=l.coerce,t.coerce2=l.coerce2,t.coerceFont=l.coerceFont,t.coercePattern=l.coercePattern,t.coerceHoverinfo=l.coerceHoverinfo,t.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,t.validate=l.validate;var f=e(67555);t.dateTime2ms=f.dateTime2ms,t.isDateTime=f.isDateTime,t.ms2DateTime=f.ms2DateTime,t.ms2DateTimeLocal=f.ms2DateTimeLocal,t.cleanDate=f.cleanDate,t.isJSDate=f.isJSDate,t.formatDate=f.formatDate,t.incrementMonth=f.incrementMonth,t.dateTick0=f.dateTick0,t.dfltRange=f.dfltRange,t.findExactDates=f.findExactDates,t.MIN_MS=f.MIN_MS,t.MAX_MS=f.MAX_MS;var g=e(14952);t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var w=e(52248);t.init2dArray=w.init2dArray,t.transposeRagged=w.transposeRagged,t.dot=w.dot,t.translationMatrix=w.translationMatrix,t.rotationMatrix=w.rotationMatrix,t.rotationXYMatrix=w.rotationXYMatrix,t.apply3DTransform=w.apply3DTransform,t.apply2DTransform=w.apply2DTransform,t.apply2DTransform2=w.apply2DTransform2,t.convertCssMatrix=w.convertCssMatrix,t.inverseTransformMatrix=w.inverseTransformMatrix;var d=e(11864);t.deg2rad=d.deg2rad,t.rad2deg=d.rad2deg,t.angleDelta=d.angleDelta,t.angleDist=d.angleDist,t.isFullCircle=d.isFullCircle,t.isAngleInsideSector=d.isAngleInsideSector,t.isPtInsideSector=d.isPtInsideSector,t.pathArc=d.pathArc,t.pathSector=d.pathSector,t.pathAnnulus=d.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var v=e(92348);t.segmentsIntersect=v.segmentsIntersect,t.segmentDistance=v.segmentDistance,t.getTextLocation=v.getTextLocation,t.clearLocationCache=v.clearLocationCache,t.getVisibleSegment=v.getVisibleSegment,t.findPointOnPath=v.findPointOnPath;var A=e(92880);t.extendFlat=A.extendFlat,t.extendDeep=A.extendDeep,t.extendDeepAll=A.extendDeepAll,t.extendDeepNoArrays=A.extendDeepNoArrays;var b=e(24248);t.log=b.log,t.warn=b.warn,t.error=b.error;var M=e(53756);t.counterRegex=M.counter;var m=e(91200);t.throttle=m.throttle,t.throttleDone=m.done,t.clearThrottle=m.clear;var S=e(52200);t.getGraphDiv=S.getGraphDiv,t.isPlotDiv=S.isPlotDiv,t.removeElement=S.removeElement,t.addStyleRule=S.addStyleRule,t.addRelatedStyleRule=S.addRelatedStyleRule,t.deleteRelatedStyleRule=S.deleteRelatedStyleRule,t.getFullTransformMatrix=S.getFullTransformMatrix,t.getElementTransformMatrix=S.getElementTransformMatrix,t.getElementAndAncestors=S.getElementAndAncestors,t.equalDomRects=S.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(ee){return L(ee)?(ee=Number(ee),ee>c||ee<y?r:ee):r},t.isIndex=function(Q,ee){return ee!==void 0&&Q>=ee?!1:L(Q)&&Q>=0&&Q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(Q,ee){for(var $=new Array(ee),X=0;X<ee;X++)$[X]=Q;return $},t.swapAttrs=function(Q,ee,$,X){$||($="x"),X||(X="y");for(var oe=0;oe<ee.length;oe++){var te=ee[oe],fe=t.nestedProperty(Q,te.replace("?",$)),pe=t.nestedProperty(Q,te.replace("?",X)),Ae=fe.get();fe.set(pe.get()),pe.set(Ae)}},t.raiseToTop=function(ee){ee.parentNode.appendChild(ee)},t.cancelTransition=function(Q){return Q.transition().duration(0)},t.constrain=function(Q,ee,$){return ee>$?Math.max($,Math.min(ee,Q)):Math.max(ee,Math.min($,Q))},t.bBoxIntersect=function(Q,ee,$){return $=$||0,Q.left<=ee.right+$&&ee.left<=Q.right+$&&Q.top<=ee.bottom+$&&ee.top<=Q.bottom+$},t.simpleMap=function(Q,ee,$,X,oe){for(var te=Q.length,fe=new Array(te),pe=0;pe<te;pe++)fe[pe]=ee(Q[pe],$,X,oe);return fe},t.randstr=function Q(ee,$,X,oe){if(X||(X=16),$===void 0&&($=24),$<=0)return"0";var te=Math.log(Math.pow(2,$))/Math.log(X),fe="",pe,Ae,be;for(pe=2;te===1/0;pe*=2)te=Math.log(Math.pow(2,$/pe))/Math.log(X)*pe;var Pe=te-Math.floor(te);for(pe=0;pe<Math.floor(te);pe++)be=Math.floor(Math.random()*X).toString(X),fe=be+fe;Pe&&(Ae=Math.pow(X,Pe),be=Math.floor(Math.random()*Ae).toString(X),fe=be+fe);var me=parseInt(fe,X);return ee&&ee[fe]||me!==1/0&&me>=Math.pow(2,$)?oe>10?(t.warn("randstr failed uniqueness"),fe):Q(ee,$,X,(oe||0)+1):fe},t.OptionControl=function(Q,ee){Q||(Q={}),ee||(ee="opt");var $={};return $.optionList=[],$._newoption=function(X){X[ee]=Q,$[X.name]=X,$.optionList.push(X)},$["_"+ee]=Q,$},t.smooth=function(Q,ee){if(ee=Math.round(ee)||0,ee<2)return Q;var $=Q.length,X=2*$,oe=2*ee-1,te=new Array(oe),fe=new Array($),pe,Ae,be,Pe;for(pe=0;pe<oe;pe++)te[pe]=(1-Math.cos(Math.PI*(pe+1)/ee))/(2*ee);for(pe=0;pe<$;pe++){for(Pe=0,Ae=0;Ae<oe;Ae++)be=pe+Ae+1-ee,be<-$?be-=X*Math.round(be/X):be>=X&&(be-=X*Math.floor(be/X)),be<0?be=-1-be:be>=$&&(be=X-1-be),Pe+=Q[be]*te[Ae];fe[pe]=Pe}return fe},t.syncOrAsync=function(Q,ee,$){var X,oe;function te(){return t.syncOrAsync(Q,ee,$)}for(;Q.length;)if(oe=Q.splice(0,1)[0],X=oe(ee),X&&X.then)return X.then(te);return $&&$(ee)},t.stripTrailingSlash=function(Q){return Q.substr(-1)==="/"?Q.substr(0,Q.length-1):Q},t.noneOrAll=function(Q,ee,$){if(Q){var X=!1,oe=!0,te,fe;for(te=0;te<$.length;te++)fe=Q[$[te]],fe!=null?X=!0:oe=!1;if(X&&!oe)for(te=0;te<$.length;te++)Q[$[te]]=ee[$[te]]}},t.mergeArray=function(Q,ee,$,X){var oe=typeof X=="function";if(t.isArrayOrTypedArray(Q))for(var te=Math.min(Q.length,ee.length),fe=0;fe<te;fe++){var pe=Q[fe];ee[fe][$]=oe?X(pe):pe}},t.mergeArrayCastPositive=function(Q,ee,$){return t.mergeArray(Q,ee,$,function(X){var oe=+X;return isFinite(oe)&&oe>0?oe:0})},t.fillArray=function(Q,ee,$,X){if(X=X||t.identity,t.isArrayOrTypedArray(Q))for(var oe=0;oe<ee.length;oe++)ee[oe][$]=X(Q[oe])},t.castOption=function(Q,ee,$,X){X=X||t.identity;var oe=t.nestedProperty(Q,$).get();return t.isArrayOrTypedArray(oe)?Array.isArray(ee)&&t.isArrayOrTypedArray(oe[ee[0]])?X(oe[ee[0]][ee[1]]):X(oe[ee]):oe},t.extractOption=function(Q,ee,$,X){if($ in Q)return Q[$];var oe=t.nestedProperty(ee,X).get();if(!Array.isArray(oe))return oe};function T(Q){var ee={};for(var $ in Q)for(var X=Q[$],oe=0;oe<X.length;oe++)ee[X[oe]]=+$;return ee}t.tagSelected=function(Q,ee,$){var X=ee.selectedpoints,oe=ee._indexToPoints,te;oe&&(te=T(oe));function fe(me){return me!==void 0&&me<Q.length}for(var pe=0;pe<X.length;pe++){var Ae=X[pe];if(t.isIndex(Ae)||t.isArrayOrTypedArray(Ae)&&t.isIndex(Ae[0])&&t.isIndex(Ae[1])){var be=te?te[Ae]:Ae,Pe=$?$[be]:be;fe(Pe)&&(Q[Pe].selected=1)}}},t.selIndices2selPoints=function(Q){var ee=Q.selectedpoints,$=Q._indexToPoints;if($){for(var X=T($),oe=[],te=0;te<ee.length;te++){var fe=ee[te];if(t.isIndex(fe)){var pe=X[fe];t.isIndex(pe)&&oe.push(pe)}}return oe}else return ee},t.getTargetArray=function(Q,ee){var $=ee.target;if(typeof $=="string"&&$){var X=t.nestedProperty(Q,$).get();return t.isArrayOrTypedArray(X)?X:!1}else if(t.isArrayOrTypedArray($))return $;return!1};function a(Q,ee,$){var X={};typeof ee!="object"&&(ee={});var oe=$==="pieLike"?-1:3,te=Object.keys(Q),fe,pe,Ae;for(fe=0;fe<te.length;fe++)pe=te[fe],Ae=Q[pe],!(pe.charAt(0)==="_"||typeof Ae=="function")&&(pe==="module"?X[pe]=Ae:Array.isArray(Ae)?pe==="colorscale"||oe===-1?X[pe]=Ae.slice():X[pe]=Ae.slice(0,oe):t.isTypedArray(Ae)?oe===-1?X[pe]=Ae.subarray():X[pe]=Ae.subarray(0,oe):Ae&&typeof Ae=="object"?X[pe]=a(Q[pe],ee[pe],$):X[pe]=Ae);for(te=Object.keys(ee),fe=0;fe<te.length;fe++)pe=te[fe],Ae=ee[pe],(typeof Ae!="object"||!(pe in X)||typeof X[pe]!="object")&&(X[pe]=Ae);return X}t.minExtend=a,t.titleCase=function(Q){return Q.charAt(0).toUpperCase()+Q.substr(1)},t.containsAny=function(Q,ee){for(var $=0;$<ee.length;$++)if(Q.indexOf(ee[$])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob!="undefined"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var p=/iPad|iPhone|iPod/;t.isIOS=function(){return p.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var Q=k.exec(window.navigator.userAgent);if(Q&&Q.length===2){var ee=parseInt(Q[1]);if(!isNaN(ee))return ee}return null},t.isD3Selection=function(Q){return Q instanceof x.selection},t.ensureSingle=function(Q,ee,$,X){var oe=Q.select(ee+($?"."+$:""));if(oe.size())return oe;var te=Q.append(ee);return $&&te.classed($,!0),X&&te.call(X),te},t.ensureSingleById=function(Q,ee,$,X){var oe=Q.select(ee+"#"+$);if(oe.size())return oe;var te=Q.append(ee).attr("id",$);return X&&te.call(X),te},t.objectFromPath=function(Q,ee){for(var $=Q.split("."),X,oe=X={},te=0;te<$.length;te++){var fe=$[te],pe=null,Ae=$[te].match(/(.*)\[([0-9]+)\]/);Ae?(fe=Ae[1],pe=Ae[2],X=X[fe]=[],te===$.length-1?X[pe]=ee:X[pe]={},X=X[pe]):(te===$.length-1?X[fe]=ee:X[fe]={},X=X[fe])}return oe};var R=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(Q){return Q.slice(0,2)==="__"}t.expandObjectPaths=function(Q){var ee,$,X,oe,te,fe,pe;if(typeof Q=="object"&&!Array.isArray(Q)){for($ in Q)if(Q.hasOwnProperty($))if(ee=$.match(R)){if(oe=Q[$],X=ee[1],F(X))continue;delete Q[$],Q[X]=t.extendDeepNoArrays(Q[X]||{},t.objectFromPath($,t.expandObjectPaths(oe))[X])}else if(ee=$.match(B)){if(oe=Q[$],X=ee[1],F(X))continue;if(te=parseInt(ee[2]),delete Q[$],Q[X]=Q[X]||[],ee[3]===".")pe=ee[4],fe=Q[X][te]=Q[X][te]||{},t.extendDeepNoArrays(fe,t.objectFromPath(pe,t.expandObjectPaths(oe)));else{if(F(X))continue;Q[X][te]=t.expandObjectPaths(oe)}}else{if(F($))continue;Q[$]=t.expandObjectPaths(Q[$])}}return Q},t.numSeparate=function(Q,ee,$){if($||($=!1),typeof ee!="string"||ee.length===0)throw new Error("Separator string required for formatting!");typeof Q=="number"&&(Q=String(Q));var X=/(\d+)(\d{3})/,oe=ee.charAt(0),te=ee.charAt(1),fe=Q.split("."),pe=fe[0],Ae=fe.length>1?oe+fe[1]:"";if(te&&(fe.length>1||pe.length>4||$))for(;X.test(pe);)pe=pe.replace(X,"$1"+te+"$2");return pe+Ae},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var _=/^\w*$/;t.templateString=function(Q,ee){var $={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(X,oe){var te;return _.test(oe)?te=ee[oe]:($[oe]=$[oe]||t.nestedProperty(ee,oe).get,te=$[oe]()),t.isValidTextValue(te)?te:""})};var O={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return se.apply(O,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return se.apply(z,arguments)};var N=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Y(Q){var ee=Q.match(N);return ee?{key:ee[1],op:ee[2],number:Number(ee[3])}:{key:Q,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return se.apply(J,arguments)};var ae=/^[:|\|]/;function se(Q,ee,$){var X=this,oe=arguments;ee||(ee={});var te={};return Q.replace(t.TEMPLATE_STRING_REGEX,function(fe,pe,Ae){var be=pe==="xother"||pe==="yother",Pe=pe==="_xother"||pe==="_yother",me=pe==="_xother_"||pe==="_yother_",Ee=pe==="xother_"||pe==="yother_",xe=be||Pe||Ee||me,De=pe;(Pe||me)&&(De=De.substring(1)),(Ee||me)&&(De=De.substring(0,De.length-1));var Ve=null,Ze=null;if(X.parseMultDiv){var ke=Y(De);De=ke.key,Ve=ke.op,Ze=ke.number}var Ye;if(xe){if(Ye=ee[De],Ye===void 0)return""}else{var lt,yt;for(yt=3;yt<oe.length;yt++)if(lt=oe[yt],!!lt){if(lt.hasOwnProperty(De)){Ye=lt[De];break}if(_.test(De)||(Ye=t.nestedProperty(lt,De).get(),Ye=te[De]||t.nestedProperty(lt,De).get(),Ye&&(te[De]=Ye)),Ye!==void 0)break}}if(Ye!==void 0&&(Ve==="*"&&(Ye*=Ze),Ve==="/"&&(Ye/=Ze)),Ye===void 0&&X)return X.count<X.max&&(t.warn("Variable '"+De+"' in "+X.name+" could not be found!"),Ye=fe),X.count===X.max&&t.warn("Too many "+X.name+" warnings - additional warnings will be suppressed"),X.count++,fe;if(Ae){var He;if(Ae[0]===":"&&(He=$?$.numberFormat:t.numberFormat,Ye!==""&&(Ye=He(Ae.replace(ae,""))(Ye))),Ae[0]==="|"){He=$?$.timeFormat:P;var Fe=t.dateTime2ms(Ye);Ye=t.formatDate(Fe,Ae.replace(ae,""),!1,He)}}else{var nt=De+"Label";ee.hasOwnProperty(nt)&&(Ye=ee[nt])}return xe&&(Ye="("+Ye+")",(Pe||me)&&(Ye=" "+Ye),(Ee||me)&&(Ye=Ye+" ")),Ye})}var ue=48,K=57;t.subplotSort=function(Q,ee){for(var $=Math.min(Q.length,ee.length)+1,X=0,oe=0,te=0;te<$;te++){var fe=Q.charCodeAt(te)||0,pe=ee.charCodeAt(te)||0,Ae=fe>=ue&&fe<=K,be=pe>=ue&&pe<=K;if(Ae&&(X=10*X+fe-ue),be&&(oe=10*oe+pe-ue),!Ae||!be){if(X!==oe)return X-oe;if(fe!==pe)return fe-pe}}return oe-X};var j=2e9;t.seedPseudoRandom=function(){j=2e9},t.pseudoRandom=function(){var Q=j;return j=(69069*j+1)%4294967296,Math.abs(j-Q)<429496729?t.pseudoRandom():j/4294967296},t.fillText=function(Q,ee,$){var X=Array.isArray($)?function(fe){$.push(fe)}:function(fe){$.text=fe},oe=t.extractOption(Q,ee,"htx","hovertext");if(t.isValidTextValue(oe))return X(oe);var te=t.extractOption(Q,ee,"tx","text");if(t.isValidTextValue(te))return X(te)},t.isValidTextValue=function(Q){return Q||Q===0},t.formatPercent=function(Q,ee){ee=ee||0;for(var $=(Math.round(100*Q*Math.pow(10,ee))*Math.pow(.1,ee)).toFixed(ee)+"%",X=0;X<ee;X++)$.indexOf(".")!==-1&&($=$.replace("0%","%"),$=$.replace(".%","%"));return $},t.isHidden=function(Q){var ee=window.getComputedStyle(Q).display;return!ee||ee==="none"},t.strTranslate=function(Q,ee){return Q||ee?"translate("+Q+","+ee+")":""},t.strRotate=function(Q){return Q?"rotate("+Q+")":""},t.strScale=function(Q){return Q!==1?"scale("+Q+")":""},t.getTextTransform=function(Q){var ee=Q.noCenter,$=Q.textX,X=Q.textY,oe=Q.targetX,te=Q.targetY,fe=Q.anchorX||0,pe=Q.anchorY||0,Ae=Q.rotate,be=Q.scale;return be?be>1&&(be=1):be=0,t.strTranslate(oe-be*($+fe),te-be*(X+pe))+t.strScale(be)+(Ae?"rotate("+Ae+(ee?"":" "+$+" "+X)+")":"")},t.setTransormAndDisplay=function(Q,ee){Q.attr("transform",t.getTextTransform(ee)),Q.style("display",ee.scale?null:"none")},t.ensureUniformFontSize=function(Q,ee){var $=t.extendFlat({},ee);return $.size=Math.max(ee.size,Q._fullLayout.uniformtext.minsize||0),$},t.join2=function(Q,ee,$){var X=Q.length;return X>1?Q.slice(0,-1).join(ee)+$+Q[X-1]:Q.join(ee)},t.bigFont=function(Q){return Math.round(1.2*Q)};var ie=t.getFirefoxVersion(),W=ie!==null&&ie<86;t.getPositionFromD3Event=function(){return W?[x.event.layerX,x.event.layerY]:[x.event.offsetX,x.event.offsetY]}},63620:function(V){"use strict";V.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(V,U,e){"use strict";var x=e(22296),P=/^\w*$/,i=0,L=1,C=2,c=3,y=4;V.exports=function(t,s,n,u){n=n||"name",u=u||"value";var l,f,g,h={};s&&s.length?(g=x(t,s),f=g.get()):f=t,s=s||"";var w={};if(f)for(l=0;l<f.length;l++)w[f[l][n]]=l;var d=P.test(u),o={set:function(v,A){var b=A===null?y:i;if(!f){if(!g||b===y)return;f=[],g.set(f)}var M=w[v];if(M===void 0){if(b===y)return;b=b|c,M=f.length,w[v]=M}else A!==(d?f[M][u]:x(f[M],u).get())&&(b=b|C);var m=f[M]=f[M]||{};return m[n]=v,d?m[u]=A:x(m,u).set(A),A!==null&&(b=b&~y),h[M]=h[M]|b,o},get:function(v){if(f){var A=w[v];if(A!==void 0)return d?f[A][u]:x(f[A],u).get()}},rename:function(v,A){var b=w[v];return b===void 0||(h[b]=h[b]|L,w[A]=b,delete w[v],f[b][n]=A),o},remove:function(v){var A=w[v];if(A===void 0)return o;var b=f[A];if(Object.keys(b).length>2)return h[A]=h[A]|C,o.set(v,null);if(d){for(l=A;l<f.length;l++)h[l]=h[l]|c;for(l=A;l<f.length;l++)w[f[l][n]]--;f.splice(A,1),delete w[v]}else x(b,u).set(null),h[A]=h[A]|C|y;return o},constructUpdate:function(){for(var v,A,b={},M=Object.keys(h),m=0;m<M.length;m++)A=M[m],v=s+"["+A+"]",f[A]?(h[A]&L&&(b[v+"."+n]=f[A][n]),h[A]&C&&(d?b[v+"."+u]=h[A]&y?null:f[A][u]:b[v+"."+u]=h[A]&y?null:x(f[A],u).get())):b[v]=null;return b}};return o}},98356:function(V,U,e){"use strict";var x=e(24040);V.exports=function(i,L){for(var C=i._context.locale,c=0;c<2;c++){for(var y=i._context.locales,r=0;r<2;r++){var t=(y[C]||{}).dictionary;if(t){var s=t[L];if(s)return s}y=x.localeRegistry}var n=C.split("-")[0];if(n===C)break;C=n}return L}},24248:function(V,U,e){"use strict";var x=e(20556).dfltConfig,P=e(41792),i=V.exports={};i.log=function(){var L;if(x.logging>1){var C=["LOG:"];for(L=0;L<arguments.length;L++)C.push(arguments[L]);console.trace.apply(console,C)}if(x.notifyOnLogging>1){var c=[];for(L=0;L<arguments.length;L++)c.push(arguments[L]);P(c.join("<br>"),"long")}},i.warn=function(){var L;if(x.logging>0){var C=["WARN:"];for(L=0;L<arguments.length;L++)C.push(arguments[L]);console.trace.apply(console,C)}if(x.notifyOnLogging>0){var c=[];for(L=0;L<arguments.length;L++)c.push(arguments[L]);P(c.join("<br>"),"stick")}},i.error=function(){var L;if(x.logging>0){var C=["ERROR:"];for(L=0;L<arguments.length;L++)C.push(arguments[L]);console.error.apply(console,C)}if(x.notifyOnLogging>0){var c=[];for(L=0;L<arguments.length;L++)c.push(arguments[L]);P(c.join("<br>"),"stick")}}},30988:function(V,U,e){"use strict";var x=e(33428);V.exports=function(i,L,C){var c=i.selectAll("g."+C.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});c.exit().remove(),c.enter().append("g").attr("class",C),c.order();var y=i.classed("rangeplot")?"nodeRangePlot3":"node3";return c.each(function(r){r[0][y]=x.select(this)}),c}},52248:function(V,U,e){"use strict";var x=e(36524);U.init2dArray=function(P,i){for(var L=new Array(P),C=0;C<P;C++)L[C]=new Array(i);return L},U.transposeRagged=function(P){var i=0,L=P.length,C,c;for(C=0;C<L;C++)i=Math.max(i,P[C].length);var y=new Array(i);for(C=0;C<i;C++)for(y[C]=new Array(L),c=0;c<L;c++)y[C][c]=P[c][C];return y},U.dot=function(P,i){if(!(P.length&&i.length)||P.length!==i.length)return null;var L=P.length,C,c;if(P[0].length)for(C=new Array(L),c=0;c<L;c++)C[c]=U.dot(P[c],i);else if(i[0].length){var y=U.transposeRagged(i);for(C=new Array(y.length),c=0;c<y.length;c++)C[c]=U.dot(P,y[c])}else for(C=0,c=0;c<L;c++)C+=P[c]*i[c];return C},U.translationMatrix=function(P,i){return[[1,0,P],[0,1,i],[0,0,1]]},U.rotationMatrix=function(P){var i=P*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},U.rotationXYMatrix=function(P,i,L){return U.dot(U.dot(U.translationMatrix(i,L),U.rotationMatrix(P)),U.translationMatrix(-i,-L))},U.apply3DTransform=function(P){return function(){var i=arguments,L=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return U.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},U.apply2DTransform=function(P){return function(){var i=arguments;i.length===3&&(i=i[0]);var L=arguments.length===1?i[0]:[i[0],i[1]];return U.dot(P,[L[0],L[1],1]).slice(0,2)}},U.apply2DTransform2=function(P){var i=U.apply2DTransform(P);return function(L){return i(L.slice(0,2)).concat(i(L.slice(2,4)))}},U.convertCssMatrix=function(P){if(P){var i=P.length;if(i===16)return P;if(i===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(P){var i=[];return x.invert(i,P),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},20435:function(V){"use strict";function U(x,P){var i=x%P;return i<0?i+P:i}function e(x,P){return Math.abs(x)>P/2?x-Math.round(x/P)*P:x}V.exports={mod:U,modHalf:e}},22296:function(V,U,e){"use strict";var x=e(38248),P=e(38116).isArrayOrTypedArray;V.exports=function(u,l){if(x(l))l=String(l);else if(typeof l!="string"||l.substr(l.length-4)==="[-1]")throw"bad property string";var f=l.split("."),g,h,w,d;for(d=0;d<f.length;d++)if(String(f[d]).slice(0,2)==="__")throw"bad property string";for(d=0;d<f.length;){if(g=String(f[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])f[d]=g[1];else if(d===0)f.splice(0,1);else throw"bad property string";for(h=g[2].substr(1,g[2].length-2).split("]["),w=0;w<h.length;w++)d++,f.splice(d,0,Number(h[w]))}d++}return typeof u!="object"?s(u,l,f):{set:c(u,f,l),get:i(u,f),astr:l,parts:f,obj:u}};function i(n,u){return function(){var l=n,f,g,h,w,d;for(w=0;w<u.length-1;w++){if(f=u[w],f===-1){for(g=!0,h=[],d=0;d<l.length;d++)h[d]=i(l[d],u.slice(w+1))(),h[d]!==h[0]&&(g=!1);return g?h[0]:h}if(typeof f=="number"&&!P(l)||(l=l[f],typeof l!="object"||l===null))return}if(!(typeof l!="object"||l===null)&&(h=l[u[w]],h!==null))return h}}var L=/(^|\.)args\[/;function C(n,u){return n===void 0||n===null&&!u.match(L)}function c(n,u,l){return function(f){var g=n,h="",w=[[n,h]],d=C(f,l),o,v;for(v=0;v<u.length-1;v++){if(o=u[v],typeof o=="number"&&!P(g))throw"array index but container is not an array";if(o===-1){if(d=!r(g,u.slice(v+1),f,l),d)break;return}if(!t(g,o,u[v+1],d))break;if(g=g[o],typeof g!="object"||g===null)throw"container is not an object";h=y(h,o),w.push([g,h])}if(d){if(v===u.length-1&&(delete g[u[v]],Array.isArray(g)&&+u[v]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[u[v]]=f}}function y(n,u){var l=u;return x(u)?l="["+u+"]":n&&(l="."+u),n+l}function r(n,u,l,f){var g=P(l),h=!0,w=l,d=f.replace("-1",0),o=g?!1:C(l,d),v=u[0],A;for(A=0;A<n.length;A++)d=f.replace("-1",A),g&&(w=l[A%l.length],o=C(w,d)),o&&(h=!1),t(n,A,v,o)&&c(n[A],u,f.replace("-1",A))(w);return h}function t(n,u,l,f){if(n[u]===void 0){if(f)return!1;typeof l=="number"?n[u]=[]:n[u]={}}return!0}function s(n,u,l){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:l,obj:n}}},16628:function(V){"use strict";V.exports=function(){}},41792:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=[];V.exports=function(L,C){if(i.indexOf(L)!==-1)return;i.push(L);var c=1e3;P(C)?c=C:C==="long"&&(c=3e3);var y=x.select("body").selectAll(".plotly-notifier").data([0]);y.enter().append("div").classed("plotly-notifier",!0);var r=y.selectAll(".notifier-note").data(i);function t(s){s.duration(700).style("opacity",0).each("end",function(n){var u=i.indexOf(n);u!==-1&&i.splice(u,1),x.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var n=x.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var u=n.append("p"),l=s.split(/<br\s*\/?>/g),f=0;f<l.length;f++)f&&u.append("br"),u.append("span").text(l[f]);C==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(c).call(t)})}},72213:function(V,U,e){"use strict";var x=e(93972),P="data-savedcursor",i="!!";V.exports=function(C,c){var y=C.attr(P);if(c){if(!y){for(var r=(C.attr("class")||"").split(" "),t=0;t<r.length;t++){var s=r[t];s.indexOf("cursor-")===0&&C.attr(P,s.substr(7)).classed(s,!1)}C.attr(P)||C.attr(P,i)}x(C,c)}else y&&(C.attr(P,null),y===i?x(C):x(C,y))}},92065:function(V,U,e){"use strict";var x=e(52248).dot,P=e(39032).BADNUM,i=V.exports={};i.tester=function(C){var c=C.slice(),y=c[0][0],r=y,t=c[0][1],s=t,n;for((c[c.length-1][0]!==c[0][0]||c[c.length-1][1]!==c[0][1])&&c.push(c[0]),n=1;n<c.length;n++)y=Math.min(y,c[n][0]),r=Math.max(r,c[n][0]),t=Math.min(t,c[n][1]),s=Math.max(s,c[n][1]);var u=!1,l;c.length===5&&(c[0][0]===c[1][0]?c[2][0]===c[3][0]&&c[0][1]===c[3][1]&&c[1][1]===c[2][1]&&(u=!0,l=function(d){return d[0]===c[0][0]}):c[0][1]===c[1][1]&&c[2][1]===c[3][1]&&c[0][0]===c[3][0]&&c[1][0]===c[2][0]&&(u=!0,l=function(d){return d[1]===c[0][1]}));function f(d,o){var v=d[0],A=d[1];return!(v===P||v<y||v>r||A===P||A<t||A>s||o&&l(d))}function g(d,o){var v=d[0],A=d[1];if(v===P||v<y||v>r||A===P||A<t||A>s)return!1;var b=c.length,M=c[0][0],m=c[0][1],S=0,T,a,E,p,k;for(T=1;T<b;T++)if(a=M,E=m,M=c[T][0],m=c[T][1],p=Math.min(a,M),!(v<p||v>Math.max(a,M)||A>Math.max(E,m)))if(A<Math.min(E,m))v!==p&&S++;else{if(M===a?k=A:k=E+(v-a)*(m-E)/(M-a),A===k)return!(T===1&&o);A<=k&&v!==p&&S++}return S%2===1}var h=!0,w=c[0];for(n=1;n<c.length;n++)if(w[0]!==c[n][0]||w[1]!==c[n][1]){h=!1;break}return{xmin:y,xmax:r,ymin:t,ymax:s,pts:c,contains:u?f:g,isRect:u,degenerate:h}},i.isSegmentBent=function(C,c,y,r){var t=C[c],s=[C[y][0]-t[0],C[y][1]-t[1]],n=x(s,s),u=Math.sqrt(n),l=[-s[1]/u,s[0]/u],f,g,h;for(f=c+1;f<y;f++)if(g=[C[f][0]-t[0],C[f][1]-t[1]],h=x(g,s),h<0||h>n||Math.abs(x(g,l))>r)return!0;return!1},i.filter=function(C,c){var y=[C[0]],r=0,t=0;function s(u){C.push(u);var l=y.length,f=r;y.splice(t+1);for(var g=f+1;g<C.length;g++)(g===C.length-1||i.isSegmentBent(C,f,g+1,c))&&(y.push(C[g]),y.length<l-2&&(r=g,t=y.length-1),f=g)}if(C.length>1){var n=C.pop();s(n)}return{addPt:s,raw:C,filtered:y}}},5048:function(V,U,e){"use strict";var x=e(16576),P=e(28624);V.exports=function(L,C,c){var y=L._fullLayout,r=!0;return y._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(c);return}if(!(t.pick&&!y._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:C||[],cachedCode:c||{}})}catch(s){r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(s){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:s,layer:t.key})},!1)}}),r||x({container:y._glcontainer.node()}),r}},34296:function(V,U,e){"use strict";var x=e(38248),P=e(25928);V.exports=function(C){var c;if(C&&C.hasOwnProperty("userAgent")?c=C.userAgent:c=i(),typeof c!="string")return!0;var y=P({ua:{headers:{"user-agent":c}},tablet:!0,featureDetect:!1});if(!y)for(var r=c.split(" "),t=1;t<r.length;t++){var s=r[t];if(s.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var u=r[n];if(u.substr(0,8)==="Version/"){var l=u.substr(8).split(".")[0];if(x(l)&&(l=+l),l>=13)return!0}}}return y};function i(){var L;return typeof navigator!="undefined"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},52416:function(V){"use strict";V.exports=function(e,x){if(x instanceof RegExp){for(var P=x.toString(),i=0;i<e.length;i++)if(e[i]instanceof RegExp&&e[i].toString()===P)return e;e.push(x)}else(x||x===0)&&e.indexOf(x)===-1&&e.push(x);return e}},94552:function(V,U,e){"use strict";var x=e(3400),P=e(20556).dfltConfig;function i(C,c){for(var y=[],r,t=0;t<c.length;t++)r=c[t],r===C?y[t]=r:typeof r=="object"?y[t]=Array.isArray(r)?x.extendDeep([],r):x.extendDeepAll({},r):y[t]=r;return y}var L={};L.add=function(C,c,y,r,t){var s,n;if(C.undoQueue=C.undoQueue||{index:0,queue:[],sequence:!1},n=C.undoQueue.index,C.autoplay){C.undoQueue.inSequence||(C.autoplay=!1);return}!C.undoQueue.sequence||C.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},C.undoQueue.queue.splice(n,C.undoQueue.queue.length-n,s),C.undoQueue.index+=1):s=C.undoQueue.queue[n-1],C.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(c),s.undo.args.unshift(y),s.redo.calls.push(r),s.redo.args.push(t)),C.undoQueue.queue.length>P.queueLength&&(C.undoQueue.queue.shift(),C.undoQueue.index--)},L.startSequence=function(C){C.undoQueue=C.undoQueue||{index:0,queue:[],sequence:!1},C.undoQueue.sequence=!0,C.undoQueue.beginSequence=!0},L.stopSequence=function(C){C.undoQueue=C.undoQueue||{index:0,queue:[],sequence:!1},C.undoQueue.sequence=!1,C.undoQueue.beginSequence=!1},L.undo=function(c){var y,r;if(!(c.undoQueue===void 0||isNaN(c.undoQueue.index)||c.undoQueue.index<=0)){for(c.undoQueue.index--,y=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,r=0;r<y.undo.calls.length;r++)L.plotDo(c,y.undo.calls[r],y.undo.args[r]);c.undoQueue.inSequence=!1,c.autoplay=!1}},L.redo=function(c){var y,r;if(!(c.undoQueue===void 0||isNaN(c.undoQueue.index)||c.undoQueue.index>=c.undoQueue.queue.length)){for(y=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,r=0;r<y.redo.calls.length;r++)L.plotDo(c,y.redo.calls[r],y.redo.args[r]);c.undoQueue.inSequence=!1,c.autoplay=!1,c.undoQueue.index++}},L.plotDo=function(C,c,y){C.autoplay=!0,y=i(C,y),c.apply(null,y)},V.exports=L},53756:function(V,U){"use strict";U.counter=function(e,x,P,i){var L=(x||"")+(P?"":"$"),C=i===!1?"":"^";return e==="xy"?new RegExp(C+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(C+e+"([2-9]|[1-9][0-9]+)?"+L)}},23193:function(V){"use strict";var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;V.exports=function(x,P){for(;P;){var i=x.match(U);if(i)x=i[1];else if(x.match(e))x="";else throw new Error("bad relativeAttr call:"+[x,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return x&&P.charAt(0)!=="["?x+"."+P:x+P}},51528:function(V,U,e){"use strict";var x=e(38116).isArrayOrTypedArray,P=e(63620);V.exports=function i(L,C){for(var c in C){var y=C[c],r=L[c];if(r!==y)if(c.charAt(0)==="_"||typeof y=="function"){if(c in L)continue;L[c]=y}else if(x(y)&&x(r)&&P(y[0])){if(c==="customdata"||c==="ids")continue;for(var t=Math.min(y.length,r.length),s=0;s<t;s++)r[s]!==y[s]&&P(y[s])&&P(r[s])&&i(r[s],y[s])}else P(y)&&P(r)&&(i(r,y),Object.keys(r).length||delete L[c])}}},14952:function(V,U,e){"use strict";var x=e(38248),P=e(24248),i=e(35536),L=e(39032).BADNUM,C=1e-9;U.findBin=function(s,n,u){if(x(n.start))return u?Math.ceil((s-n.start)/n.size-C)-1:Math.floor((s-n.start)/n.size+C);var l=0,f=n.length,g=0,h=f>1?(n[f-1]-n[0])/(f-1):1,w,d;for(h>=0?d=u?c:y:d=u?t:r,s+=h*C*(u?-1:1)*(h>=0?1:-1);l<f&&g++<100;)w=Math.floor((l+f)/2),d(n[w],s)?l=w+1:f=w;return g>90&&P.log("Long binary search..."),l-1};function c(s,n){return s<n}function y(s,n){return s<=n}function r(s,n){return s>n}function t(s,n){return s>=n}U.sorterAsc=function(s,n){return s-n},U.sorterDes=function(s,n){return n-s},U.distinctVals=function(s){var n=s.slice();n.sort(U.sorterAsc);var u;for(u=n.length-1;u>-1&&n[u]===L;u--);for(var l=n[u]-n[0]||1,f=l/(u||1)/1e4,g=[],h,w=0;w<=u;w++){var d=n[w],o=d-h;h===void 0?(g.push(d),h=d):o>f&&(l=Math.min(l,o),g.push(d),h=d)}return{vals:g,minDiff:l}},U.roundUp=function(s,n,u){for(var l=0,f=n.length-1,g,h=0,w=u?0:1,d=u?1:0,o=u?Math.ceil:Math.floor;l<f&&h++<100;)g=o((l+f)/2),n[g]<=s?l=g+w:f=g-d;return n[l]},U.sort=function(s,n){for(var u=0,l=0,f=1;f<s.length;f++){var g=n(s[f],s[f-1]);if(g<0?u=1:g>0&&(l=1),u&&l)return s.sort(n)}return l?s:s.reverse()},U.findIndexOfMin=function(s,n){n=n||i;for(var u=1/0,l,f=0;f<s.length;f++){var g=n(s[f]);g<u&&(u=g,l=f)}return l}},93972:function(V){"use strict";V.exports=function(e,x){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),x&&e.classed("cursor-"+x,!0)}},16576:function(V,U,e){"use strict";var x=e(76308),P=function(){};V.exports=function(L){for(var C in L)typeof L[C]=="function"&&(L[C]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var c=document.createElement("div");c.className="no-webgl",c.style.cursor="pointer",c.style.fontSize="24px",c.style.color=x.defaults[0],c.style.position="absolute",c.style.left=c.style.top="0px",c.style.width=c.style.height="100%",c.style["background-color"]=x.lightLine,c.style["z-index"]=30;var y=document.createElement("p");return y.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",y.style.position="relative",y.style.top="50%",y.style.left="50%",y.style.height="30%",y.style.width="50%",y.style.margin="-15% 0 0 -25%",c.appendChild(y),L.container.appendChild(c),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(V){"use strict";V.exports=function(e){return Object.keys(e).sort()}},63084:function(V,U,e){"use strict";var x=e(38248),P=e(38116).isArrayOrTypedArray;U.aggNums=function(i,L,C,c){var y,r;if((!c||c>C.length)&&(c=C.length),x(L)||(L=!1),P(C[0])){for(r=new Array(c),y=0;y<c;y++)r[y]=U.aggNums(i,L,C[y]);C=r}for(y=0;y<c;y++)x(L)?x(C[y])&&(L=i(+L,+C[y])):L=C[y];return L},U.len=function(i){return U.aggNums(function(L){return L+1},0,i)},U.mean=function(i,L){return L||(L=U.len(i)),U.aggNums(function(C,c){return C+c},0,i)/L},U.midRange=function(i){if(!(i===void 0||i.length===0))return(U.aggNums(Math.max,null,i)+U.aggNums(Math.min,null,i))/2},U.variance=function(i,L,C){return L||(L=U.len(i)),x(C)||(C=U.mean(i,L)),U.aggNums(function(c,y){return c+Math.pow(y-C,2)},0,i)/L},U.stdev=function(i,L,C){return Math.sqrt(U.variance(i,L,C))},U.median=function(i){var L=i.slice().sort();return U.interp(L,.5)},U.interp=function(i,L){if(!x(L))throw"n should be a finite number";if(L=L*i.length-.5,L<0)return i[0];if(L>i.length-1)return i[i.length-1];var C=L%1;return C*i[Math.ceil(L)]+(1-C)*i[Math.floor(L)]}},43080:function(V,U,e){"use strict";var x=e(72160);function P(i){return i?x(i):[0,0,0,1]}V.exports=P},9188:function(V,U,e){"use strict";var x=e(2264),P=e(43616),i=e(3400),L=null;function C(){if(L!==null)return L;L=!1;var c=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!c){var y=Array.from(x.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=y.some(function(u){return r.apply(null,u)});else{var t=P.tester.append("image").attr("style",x.STYLE),s=window.getComputedStyle(t.node()),n=s.imageRendering;L=y.some(function(u){var l=u[1];return n===l||n===l.toLowerCase()}),t.remove()}}return L}V.exports=C},72736:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=P.strTranslate,L=e(9616),C=e(84284).LINE_SPACING,c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(O,z,N){var Y=O.text(),J=!O.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax!="undefined"&&Y.match(c),ae=x.select(O.node().parentNode);if(ae.empty())return;var se=O.attr("class")?O.attr("class").split(" ")[0]:"text";se+="-math",ae.selectAll("svg."+se).remove(),ae.selectAll("g."+se+"-group").remove(),O.style("display",null).attr({"data-unformatted":Y,"data-math":"N"});function ue(){ae.empty()||(se=O.attr("class")+"-math",ae.select("svg."+se).remove()),O.text("").style("white-space","pre");var K=R(O.node(),Y);K&&O.style("pointer-events","all"),U.positionText(O),N&&N.call(O)}return J?(z&&z._promises||[]).push(new Promise(function(K){O.style("display","none");var j=parseInt(O.node().style.fontSize,10),ie={fontSize:j};n(J[2],ie,function(W,Q,ee){ae.selectAll("svg."+se).remove(),ae.selectAll("g."+se+"-group").remove();var $=W&&W.select("svg");if(!$||!$.node()){ue(),K();return}var X=ae.append("g").classed(se+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});X.node().appendChild($.node()),Q&&Q.node()&&$.node().insertBefore(Q.node().cloneNode(!0),$.node().firstChild);var oe=ee.width,te=ee.height;$.attr({class:se,height:te,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=O.node().style.fill||"black",pe=$.select("g");pe.attr({fill:fe,stroke:fe});var Ae=pe.node().getBoundingClientRect(),be=Ae.width,Pe=Ae.height;(be>oe||Pe>te)&&($.style("overflow","hidden"),Ae=$.node().getBoundingClientRect(),be=Ae.width,Pe=Ae.height);var me=+O.attr("x"),Ee=+O.attr("y"),xe=j||O.node().getBoundingClientRect().height,De=-xe/4;if(se[0]==="y")X.attr({transform:"rotate("+[-90,me,Ee]+")"+i(-be/2,De-Pe/2)});else if(se[0]==="l")Ee=De-Pe/2;else if(se[0]==="a"&&se.indexOf("atitle")!==0)me=0,Ee=De;else{var Ve=O.attr("text-anchor");me=me-be*(Ve==="middle"?.5:Ve==="end"?1:0),Ee=Ee+De-Pe/2}$.attr({x:me,y:Ee}),N&&N.call(O,X),K(X)})})):ue(),O};var y=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(O){return O.replace(y,"\\lt ").replace(r,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function n(O,z,N){var Y=parseInt((MathJax.version||"").split(".")[0]);if(Y!==2&&Y!==3){P.warn("No MathJax version:",MathJax.version);return}var J,ae,se,ue,K=function(){return ae=P.extendDeepAll({},MathJax.Hub.config),se=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},j=function(){ae=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},ie=function(){if(J=MathJax.Hub.config.menuSettings.renderer,J!=="SVG")return MathJax.Hub.setRenderer("SVG")},W=function(){J=MathJax.config.startup.output,J!=="svg"&&(MathJax.config.startup.output="svg")},Q=function(){var fe="math-output-"+P.randstr({},64);ue=x.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(O));var pe=ue.node();return Y===2?MathJax.Hub.Typeset(pe):MathJax.typeset([pe])},ee=function(){var fe=ue.select(Y===2?".MathJax_SVG":".MathJax"),pe=!fe.empty()&&ue.select("svg").node();if(!pe)P.log("There was an error in the tex syntax.",O),N();else{var Ae=pe.getBoundingClientRect(),be;Y===2?be=x.select("body").select("#MathJax_SVG_glyphs"):be=fe.select("defs"),N(fe,be,Ae)}ue.remove()},$=function(){if(J!=="SVG")return MathJax.Hub.setRenderer(J)},X=function(){J!=="svg"&&(MathJax.config.startup.output=J)},oe=function(){return se!==void 0&&(MathJax.Hub.processSectionDelay=se),MathJax.Hub.Config(ae)},te=function(){MathJax.config=ae};Y===2?MathJax.Hub.Queue(K,ie,Q,ee,$,oe):Y===3&&(j(),W(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Q(),ee(),X(),te()}))}var u={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},l={sub:"0.3em",sup:"-0.6em"},f={sub:"-0.21em",sup:"0.42em"},g="\u200B",h=["http:","https:","mailto:","",void 0,":"],w=U.NEWLINES=/(\r\n?|\n)/g,d=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,b=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,M=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(O,z){if(!O)return null;var N=O.match(z),Y=N&&(N[3]||N[4]);return Y&&p(Y)}var T=/(^|;)\s*color:/;U.plainText=function(O,z){z=z||{};for(var N=z.len!==void 0&&z.len!==-1?z.len:1/0,Y=z.allowedTags!==void 0?z.allowedTags:["br"],J="...",ae=J.length,se=O.split(d),ue=[],K="",j=0,ie=0;ie<se.length;ie++){var W=se[ie],Q=W.match(o),ee=Q&&Q[2].toLowerCase();if(ee)Y.indexOf(ee)!==-1&&(ue.push(W),K=ee);else{var $=W.length;if(j+$<N)ue.push(W),j+=$;else if(j<N){var X=N-j;K&&(K!=="br"||X<=ae||$<=ae)&&ue.pop(),N>ae?ue.push(W.substr(0,X-ae)+J):ue.push(W.substr(0,X));break}K=""}}return ue.join("")};var a={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function p(O){return O.replace(E,function(z,N){var Y;return N.charAt(0)==="#"?Y=k(N.charAt(1)==="x"?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):Y=a[N],Y||z})}U.convertEntities=p;function k(O){if(!(O>1114111)){var z=String.fromCodePoint;if(z)return z(O);var N=String.fromCharCode;return O<=65535?N(O):N((O>>10)+55232,O%1024+56320)}}function R(O,z){z=z.replace(w," ");var N=!1,Y=[],J,ae=-1;function se(){ae++;var Pe=document.createElementNS(L.svg,"tspan");x.select(Pe).attr({class:"line",dy:ae*C+"em"}),O.appendChild(Pe),J=Pe;var me=Y;if(Y=[{node:Pe}],me.length>1)for(var Ee=1;Ee<me.length;Ee++)ue(me[Ee])}function ue(Pe){var me=Pe.type,Ee={},xe;if(me==="a"){xe="a";var De=Pe.target,Ve=Pe.href,Ze=Pe.popup;Ve&&(Ee={"xlink:xlink:show":De==="_blank"||De.charAt(0)!=="_"?"new":"replace",target:De,"xlink:xlink:href":Ve},Ze&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ze+'");return false;'))}else xe="tspan";Pe.style&&(Ee.style=Pe.style);var ke=document.createElementNS(L.svg,xe);if(me==="sup"||me==="sub"){K(J,g),J.appendChild(ke);var Ye=document.createElementNS(L.svg,"tspan");K(Ye,g),x.select(Ye).attr("dy",f[me]),Ee.dy=l[me],J.appendChild(ke),J.appendChild(Ye)}else J.appendChild(ke);x.select(ke).attr(Ee),J=Pe.node=ke,Y.push(Pe)}function K(Pe,me){Pe.appendChild(document.createTextNode(me))}function j(Pe){if(Y.length===1){P.log("Ignoring unexpected end tag </"+Pe+">.",z);return}var me=Y.pop();Pe!==me.type&&P.log("Start tag <"+me.type+"> doesnt match end tag <"+Pe+">. Pretending it did match.",z),J=Y[Y.length-1].node}var ie=v.test(z);ie?se():(J=O,Y=[{node:O}]);for(var W=z.split(d),Q=0;Q<W.length;Q++){var ee=W[Q],$=ee.match(o),X=$&&$[2].toLowerCase(),oe=u[X];if(X==="br")se();else if(oe===void 0)K(J,p(ee));else if($[1])j(X);else{var te=$[4],fe={type:X},pe=S(te,A);if(pe?(pe=pe.replace(T,"$1 fill:"),oe&&(pe+=";"+oe)):oe&&(pe=oe),pe&&(fe.style=pe),X==="a"){N=!0;var Ae=S(te,b);if(Ae){var be=B(Ae);be&&(fe.href=be,fe.target=S(te,M)||"_blank",fe.popup=S(te,m))}}ue(fe)}}return N}function B(O){var z=encodeURI(decodeURI(O)),N=document.createElement("a"),Y=document.createElement("a");N.href=O,Y.href=z;var J=N.protocol,ae=Y.protocol;return h.indexOf(J)!==-1&&h.indexOf(ae)!==-1?z:""}U.sanitizeHTML=function(z){z=z.replace(w," ");for(var N=document.createElement("p"),Y=N,J=[],ae=z.split(d),se=0;se<ae.length;se++){var ue=ae[se],K=ue.match(o),j=K&&K[2].toLowerCase();if(j in u)if(K[1])J.length&&(Y=J.pop());else{var ie=K[4],W=S(ie,A),Q=W?{style:W}:{};if(j==="a"){var ee=S(ie,b);if(ee){var $=B(ee);if($){Q.href=$;var X=S(ie,M);X&&(Q.target=X)}}}var oe=document.createElement(j);Y.appendChild(oe),x.select(oe).attr(Q),Y=oe,J.push(oe)}else Y.appendChild(document.createTextNode(p(ue)))}var te="innerHTML";return N[te]},U.lineCount=function(z){return z.selectAll("tspan.line").size()||1},U.positionText=function(z,N,Y){return z.each(function(){var J=x.select(this);function ae(K,j){return j===void 0?(j=J.attr(K),j===null&&(J.attr(K,0),j=0)):J.attr(K,j),j}var se=ae("x",N),ue=ae("y",Y);this.nodeName==="text"&&J.selectAll("tspan.line").attr({x:se,y:ue})})};function F(O,z,N){var Y=N.horizontalAlign,J=N.verticalAlign||"top",ae=O.node().getBoundingClientRect(),se=z.node().getBoundingClientRect(),ue,K,j;return J==="bottom"?K=function(){return ae.bottom-ue.height}:J==="middle"?K=function(){return ae.top+(ae.height-ue.height)/2}:K=function(){return ae.top},Y==="right"?j=function(){return ae.right-ue.width}:Y==="center"?j=function(){return ae.left+(ae.width-ue.width)/2}:j=function(){return ae.left},function(){ue=this.node().getBoundingClientRect();var ie=j()-se.left,W=K()-se.top,Q=N.gd||{};if(N.gd){Q._fullLayout._calcInverseTransform(Q);var ee=P.apply3DTransform(Q._fullLayout._invTransform)(ie,W);ie=ee[0],W=ee[1]}return this.style({top:W+"px",left:ie+"px","z-index":1e3}),this}}var _="1px ";U.makeTextShadow=function(O){var z=_,N=_,Y=_;return z+N+Y+O+", -"+z+"-"+N+Y+O+", "+z+"-"+N+Y+O+", -"+z+N+Y+O},U.makeEditable=function(O,z){var N=z.gd,Y=z.delegate,J=x.dispatch("edit","input","cancel"),ae=Y||O;if(O.style({"pointer-events":Y?"none":"all"}),O.size()!==1)throw new Error("boo");function se(){K(),O.style({opacity:0});var j=ae.attr("class"),ie;j?ie="."+j.split(" ")[0]+"-math-group":ie="[class*=-math-group]",ie&&x.select(O.node().parentNode).select(ie).style({opacity:0})}function ue(j){var ie=j.node(),W=document.createRange();W.selectNodeContents(ie);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(W),ie.focus()}function K(){var j=x.select(N),ie=j.select(".svg-container"),W=ie.append("div"),Q=O.node().style,ee=parseFloat(Q.fontSize||12),$=z.text;$===void 0&&($=O.attr("data-unformatted")),W.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Q.fontFamily||"Arial","font-size":ee,color:z.fill||Q.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ee/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(F(O,ie,z)).on("blur",function(){N._editing=!1,O.text(this.textContent).style({opacity:1});var X=x.select(this).attr("class"),oe;X?oe="."+X.split(" ")[0]+"-math-group":oe="[class*=-math-group]",oe&&x.select(O.node().parentNode).select(oe).style({opacity:0});var te=this.textContent;x.select(this).transition().duration(0).remove(),x.select(document).on("mouseup",null),J.edit.call(O,te)}).on("focus",function(){var X=this;N._editing=!0,x.select(document).on("mouseup",function(){if(x.event.target===X)return!1;document.activeElement===W.node()&&W.node().blur()})}).on("keyup",function(){x.event.which===27?(N._editing=!1,O.style({opacity:1}),x.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(O,this.textContent)):(J.input.call(O,this.textContent),x.select(this).call(F(O,ie,z)))}).on("keydown",function(){x.event.which===13&&this.blur()}).call(ue)}return z.immediate?se():ae.on("click",se),x.rebind(O,J,"on")}},91200:function(V,U){"use strict";var e={};U.throttle=function(i,L,C){var c=e[i],y=Date.now();if(!c){for(var r in e)e[r].ts<y-6e4&&delete e[r];c=e[i]={ts:0,timer:null}}x(c);function t(){C(),c.ts=Date.now(),c.onDone&&(c.onDone(),c.onDone=null)}if(y>c.ts+L){t();return}c.timer=setTimeout(function(){t(),c.timer=null},L)},U.done=function(P){var i=e[P];return!i||!i.timer?Promise.resolve():new Promise(function(L){var C=i.onDone;i.onDone=function(){C&&C(),L(),i.onDone=null}})},U.clear=function(P){if(P)x(e[P]),delete e[P];else for(var i in e)U.clear(i)};function x(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},36896:function(V,U,e){"use strict";var x=e(38248);V.exports=function(i,L){if(i>0)return Math.log(i)/Math.LN10;var C=Math.log(Math.min(L[0],L[1]))/Math.LN10;return x(C)||(C=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),C}},59972:function(V,U,e){"use strict";var x=V.exports={},P=e(79552).locationmodeToLayer,i=e(55712).NO;x.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},x.getTopojsonPath=function(L,C){return L+C+".json"},x.getTopojsonFeatures=function(L,C){var c=P[L.locationmode],y=C.objects[c];return i(C,y).features}},11680:function(V){"use strict";V.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(V){"use strict";V.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(V,U,e){"use strict";var x=e(24040);V.exports=function(i){for(var L=x.layoutArrayContainers,C=x.layoutArrayRegexes,c=i.split("[")[0],y,r,t=0;t<C.length;t++)if(r=i.match(C[t]),r&&r.index===0){y=r[0];break}if(y||(y=L[L.indexOf(c)]),!y)return!1;var s=i.substr(y.length);return s?(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:y,index:Number(r[1]),property:r[3]||""}:!1):{array:y,index:"",property:""}}},67824:function(V,U,e){"use strict";var x=e(92880).extendFlat,P=e(63620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},C=i.flags.slice().concat(["fullReplot"]),c=L.flags.slice().concat("layoutReplot");V.exports={traces:i,layout:L,traceFlags:function(){return y(C)},layoutFlags:function(){return y(c)},update:function(s,n){var u=n.editType;if(u&&u!=="none")for(var l=u.split("+"),f=0;f<l.length;f++)s[l[f]]=!0},overrideAll:r};function y(s){for(var n={},u=0;u<s.length;u++)n[s[u]]=!1;return n}function r(s,n,u){var l=x({},s);for(var f in l){var g=l[f];P(g)&&(l[f]=t(g,n,u,f))}return u==="from-root"&&(l.editType=n),l}function t(s,n,u,l){if(s.valType){var f=x({},s);if(f.editType=n,Array.isArray(s.items)){f.items=new Array(s.items.length);for(var g=0;g<s.items.length;g++)f.items[g]=t(s.items[g],n,"from-root")}return f}else return r(s,n,l.charAt(0)==="_"?"nested":"from-root")}},93404:function(V,U,e){"use strict";var x=e(38248),P=e(61784),i=e(24040),L=e(3400),C=e(7316),c=e(79811),y=e(76308),r=c.cleanId,t=c.getFromTrace,s=i.traceIs;U.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&L.log("Clearing previous rejected promises from queue."),v._promises=[]},U.cleanLayout=function(v){var A,b;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var M=(C.subplotsRegistry.cartesian||{}).attrRegex,m=(C.subplotsRegistry.polar||{}).attrRegex,S=(C.subplotsRegistry.ternary||{}).attrRegex,T=(C.subplotsRegistry.gl3d||{}).attrRegex,a=Object.keys(v);for(A=0;A<a.length;A++){var E=a[A];if(M&&M.test(E)){var p=v[E];p.anchor&&p.anchor!=="free"&&(p.anchor=r(p.anchor)),p.overlaying&&(p.overlaying=r(p.overlaying)),p.type||(p.isdate?p.type="date":p.islog?p.type="log":p.isdate===!1&&p.islog===!1&&(p.type="linear")),(p.autorange==="withzero"||p.autorange==="tozero")&&(p.autorange=!0,p.rangemode="tozero"),p.insiderange&&delete p.range,delete p.islog,delete p.isdate,delete p.categories,h(p,"domain")&&delete p.domain,p.autotick!==void 0&&(p.tickmode===void 0&&(p.tickmode=p.autotick?"auto":"linear"),delete p.autotick),u(p)}else if(m&&m.test(E)){var k=v[E];u(k.radialaxis)}else if(S&&S.test(E)){var R=v[E];u(R.aaxis),u(R.baxis),u(R.caxis)}else if(T&&T.test(E)){var B=v[E],F=B.cameraposition;if(Array.isArray(F)&&F[0].length===4){var _=F[0],O=F[1],z=F[2],N=P([],_),Y=[];for(b=0;b<3;++b)Y[b]=O[b]+z*N[2+4*b];B.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:O[0],y:O[1],z:O[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}u(B.xaxis),u(B.yaxis),u(B.zaxis)}}var J=Array.isArray(v.annotations)?v.annotations.length:0;for(A=0;A<J;A++){var ae=v.annotations[A];L.isPlainObject(ae)&&(ae.ref&&(ae.ref==="paper"?(ae.xref="paper",ae.yref="paper"):ae.ref==="data"&&(ae.xref="x",ae.yref="y"),delete ae.ref),n(ae,"xref"),n(ae,"yref"))}var se=Array.isArray(v.shapes)?v.shapes.length:0;for(A=0;A<se;A++){var ue=v.shapes[A];L.isPlainObject(ue)&&(n(ue,"xref"),n(ue,"yref"))}var K=Array.isArray(v.images)?v.images.length:0;for(A=0;A<K;A++){var j=v.images[A];L.isPlainObject(j)&&(n(j,"xref"),n(j,"yref"))}var ie=v.legend;return ie&&(ie.x>3?(ie.x=1.02,ie.xanchor="left"):ie.x<-2&&(ie.x=-.02,ie.xanchor="right"),ie.y>3?(ie.y=1.02,ie.yanchor="bottom"):ie.y<-2&&(ie.y=-.02,ie.yanchor="top")),u(v),v.dragmode==="rotate"&&(v.dragmode="orbit"),y.clean(v),v.template&&v.template.layout&&U.cleanLayout(v.template.layout),v};function n(v,A){var b=v[A],M=A.charAt(0);b&&b!=="paper"&&(v[A]=r(b,M,!0))}function u(v){v&&((typeof v.title=="string"||typeof v.title=="number")&&(v.title={text:v.title}),A("titlefont","font"),A("titleposition","position"),A("titleside","side"),A("titleoffset","offset"));function A(b,M){var m=v[b],S=v.title&&v.title[M];m&&!S&&(v.title||(v.title={}),v.title[M]=v[b],delete v[b])}}U.cleanData=function(v){for(var A=0;A<v.length;A++){var b=v[A],M;if(b.type==="histogramy"&&"xbins"in b&&!("ybins"in b)&&(b.ybins=b.xbins,delete b.xbins),b.error_y&&"opacity"in b.error_y){var m=y.defaults,S=b.error_y.color||(s(b,"bar")?y.defaultLine:m[A%m.length]);b.error_y.color=y.addOpacity(y.rgb(S),y.opacity(S)*b.error_y.opacity),delete b.error_y.opacity}if("bardir"in b&&(b.bardir==="h"&&(s(b,"bar")||b.type.substr(0,9)==="histogram")&&(b.orientation="h",U.swapXYData(b)),delete b.bardir),b.type==="histogramy"&&U.swapXYData(b),(b.type==="histogramx"||b.type==="histogramy")&&(b.type="histogram"),"scl"in b&&!("colorscale"in b)&&(b.colorscale=b.scl,delete b.scl),"reversescl"in b&&!("reversescale"in b)&&(b.reversescale=b.reversescl,delete b.reversescl),b.xaxis&&(b.xaxis=r(b.xaxis,"x")),b.yaxis&&(b.yaxis=r(b.yaxis,"y")),s(b,"gl3d")&&b.scene&&(b.scene=C.subplotsRegistry.gl3d.cleanId(b.scene)),!s(b,"pie-like")&&!s(b,"bar-like"))if(Array.isArray(b.textposition))for(M=0;M<b.textposition.length;M++)b.textposition[M]=g(b.textposition[M]);else b.textposition&&(b.textposition=g(b.textposition));var T=i.getModule(b);if(T&&T.colorbar){var a=T.colorbar.container,E=a?b[a]:b;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(b.type==="surface"&&L.isPlainObject(b.contours)){var p=["x","y","z"];for(M=0;M<p.length;M++){var k=b.contours[p[M]];L.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(b.type==="candlestick"||b.type==="ohlc"){var R=(b.increasing||{}).showlegend!==!1,B=(b.decreasing||{}).showlegend!==!1,F=l(b.increasing),_=l(b.decreasing);if(F!==!1&&_!==!1){var O=f(F,_,R,B);O&&(b.name=O)}else(F||_)&&!b.name&&(b.name=F||_)}if(Array.isArray(b.transforms)){var z=b.transforms;for(M=0;M<z.length;M++){var N=z[M];if(L.isPlainObject(N))switch(N.type){case"filter":N.filtersrc&&(N.target=N.filtersrc,delete N.filtersrc),N.calendar&&(N.valuecalendar||(N.valuecalendar=N.calendar),delete N.calendar);break;case"groupby":if(N.styles=N.styles||N.style,N.styles&&!Array.isArray(N.styles)){var Y=N.styles,J=Object.keys(Y);N.styles=[];for(var ae=0;ae<J.length;ae++)N.styles.push({target:J[ae],value:Y[J[ae]]})}break}}}h(b,"line")&&delete b.line,"marker"in b&&(h(b.marker,"line")&&delete b.marker.line,h(b,"marker")&&delete b.marker),y.clean(b),b.autobinx&&(delete b.autobinx,delete b.xbins),b.autobiny&&(delete b.autobiny,delete b.ybins),u(b),b.colorbar&&u(b.colorbar),b.marker&&b.marker.colorbar&&u(b.marker.colorbar),b.line&&b.line.colorbar&&u(b.line.colorbar),b.aaxis&&u(b.aaxis),b.baxis&&u(b.baxis)}};function l(v){if(!L.isPlainObject(v))return!1;var A=v.name;return delete v.name,delete v.showlegend,(typeof A=="string"||typeof A=="number")&&String(A)}function f(v,A,b,M){if(b&&!M)return v;if(M&&!b||!v.trim())return A;if(!A.trim())return v;var m=Math.min(v.length,A.length),S;for(S=0;S<m&&v.charAt(S)===A.charAt(S);S++);var T=v.substr(0,S);return T.trim()}function g(v){var A="middle",b="center";return typeof v=="string"&&(v.indexOf("top")!==-1?A="top":v.indexOf("bottom")!==-1&&(A="bottom"),v.indexOf("left")!==-1?b="left":v.indexOf("right")!==-1&&(b="right")),A+" "+b}function h(v,A){return A in v&&typeof v[A]=="object"&&Object.keys(v[A]).length===0}U.swapXYData=function(v){var A;if(L.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var b=v.error_y,M="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);L.swapAttrs(v,["error_?.copy_ystyle"]),M&&L.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var m=v.hoverinfo.split("+");for(A=0;A<m.length;A++)m[A]==="x"?m[A]="y":m[A]==="y"&&(m[A]="x");v.hoverinfo=m.join("+")}},U.coerceTraceIndices=function(v,A){if(x(A))return[A];if(!Array.isArray(A)||!A.length)return v.data.map(function(m,S){return S});if(Array.isArray(A)){for(var b=[],M=0;M<A.length;M++)L.isIndex(A[M],v.data.length)?b.push(A[M]):L.warn("trace index (",A[M],") is not a number or is out of bounds");return b}return A},U.manageArrayContainers=function(v,A,b){var M=v.obj,m=v.parts,S=m.length,T=m[S-1],a=x(T);if(a&&A===null){var E=m.slice(0,S-1).join("."),p=L.nestedProperty(M,E).get();p.splice(T,1)}else a&&v.get()===void 0&&v.get()===void 0&&(b[v.astr]=null),v.set(A)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(v){var A=v.search(w);if(A>0)return v.substr(0,A)}U.hasParent=function(v,A){for(var b=d(A);b;){if(b in v)return!0;b=d(b)}return!1};var o=["x","y","z"];U.clearAxisTypes=function(v,A,b){for(var M=0;M<A.length;M++)for(var m=v._fullData[M],S=0;S<3;S++){var T=t(v,m,o[S]);if(T&&T.type!=="log"){var a=T._name,E=T._id.substr(1);if(E.substr(0,5)==="scene"){if(b[E]!==void 0)continue;a=E+"."+a}var p=a+".type";b[a]===void 0&&b[p]===void 0&&L.nestedProperty(v.layout,p).set(null)}}}},22448:function(V,U,e){"use strict";var x=e(36424);U._doPlot=x._doPlot,U.newPlot=x.newPlot,U.restyle=x.restyle,U.relayout=x.relayout,U.redraw=x.redraw,U.update=x.update,U._guiRestyle=x._guiRestyle,U._guiRelayout=x._guiRelayout,U._guiUpdate=x._guiUpdate,U._storeDirectGUIEdit=x._storeDirectGUIEdit,U.react=x.react,U.extendTraces=x.extendTraces,U.prependTraces=x.prependTraces,U.addTraces=x.addTraces,U.deleteTraces=x.deleteTraces,U.moveTraces=x.moveTraces,U.purge=x.purge,U.addFrames=x.addFrames,U.deleteFrames=x.deleteFrames,U.animate=x.animate,U.setPlotConfig=x.setPlotConfig;var P=e(52200).getGraphDiv,i=e(4016).eraseActiveShape;U.deleteActiveShape=function(C){return i(P(C))},U.toImage=e(67024),U.validate=e(21480),U.downloadImage=e(39792);var L=e(94828);U.makeTemplate=L.makeTemplate,U.validateTemplate=L.validateTemplate},17680:function(V,U,e){"use strict";var x=e(63620),P=e(16628),i=e(24248),L=e(14952).sorterAsc,C=e(24040);U.containerArrayMatch=e(69820);var c=U.isAddVal=function(t){return t==="add"||x(t)},y=U.isRemoveVal=function(t){return t===null||t==="remove"};U.applyContainerArrayChanges=function(t,s,n,u,l){var f=s.astr,g=C.getComponentMethod(f,"supplyLayoutDefaults"),h=C.getComponentMethod(f,"draw"),w=C.getComponentMethod(f,"drawOne"),d=u.replot||u.recalc||g===P||h===P,o=t.layout,v=t._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",f);var A=n[""][""];if(y(A))s.set(null);else if(Array.isArray(A))s.set(A);else return i.warn("Unrecognized full array edit value",f,A),!0;return d?!1:(g(o,v),h(t),!0)}var b=Object.keys(n).map(Number).sort(L),M=s.get(),m=M||[],S=l(v,f).get(),T=[],a=-1,E=m.length,p,k,R,B,F,_,O,z;for(p=0;p<b.length;p++){if(R=b[p],B=n[R],F=Object.keys(B),_=B[""],O=c(_),R<0||R>m.length-(O?0:1)){i.warn("index out of range",f,R);continue}if(_!==void 0)F.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",f,R),y(_)?T.push(R):O?(_==="add"&&(_={}),m.splice(R,0,_),S&&S.splice(R,0,{})):i.warn("Unrecognized full object edit value",f,R,_),a===-1&&(a=R);else for(k=0;k<F.length;k++)z=f+"["+R+"].",l(m[R],F[k],z).set(B[F[k]])}for(p=T.length-1;p>=0;p--)m.splice(T[p],1),S&&S.splice(T[p],1);if(m.length?M||s.set(m):s.set(null),d)return!1;if(g(o,v),w!==P){var N;if(a===-1)N=b;else{for(E=Math.max(m.length,E),N=[],p=0;p<b.length&&(R=b[p],!(R>=a));p++)N.push(R);for(p=a;p<E;p++)N.push(p)}for(p=0;p<N.length;p++)w(t,N[p])}else h(t);return!0}},36424:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(52264),L=e(3400),C=L.nestedProperty,c=e(95924),y=e(94552),r=e(24040),t=e(73060),s=e(7316),n=e(54460),u=e(96312),l=e(94724),f=e(43616),g=e(76308),h=e(42464).initInteractions,w=e(9616),d=e(22676).clearOutline,o=e(20556).dfltConfig,v=e(17680),A=e(93404),b=e(39172),M=e(67824),m=e(33816).AX_NAME_PATTERN,S=0,T=5;function a(Le,Te,ye,Se){var Ke;if(Le=L.getGraphDiv(Le),c.init(Le),L.isPlainObject(Te)){var rt=Te;Te=rt.data,ye=rt.layout,Se=rt.config,Ke=rt.frames}var Lt=c.triggerHandler(Le,"plotly_beforeplot",[Te,ye,Se]);if(Lt===!1)return Promise.reject();!Te&&!ye&&!L.isPlotDiv(Le)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Le);function It(){if(Ke)return U.addFrames(Le,Ke)}B(Le,Se),ye||(ye={}),x.select(Le).classed("js-plotly-plot",!0),f.makeTester(),Array.isArray(Le._promises)||(Le._promises=[]);var wt=(Le.data||[]).length===0&&Array.isArray(Te);Array.isArray(Te)&&(A.cleanData(Te),wt?Le.data=Te:Le.data.push.apply(Le.data,Te),Le.empty=!1),(!Le.layout||wt)&&(Le.layout=A.cleanLayout(ye)),s.supplyDefaults(Le);var Et=Le._fullLayout,Wt=Et._has("cartesian");Et._replotting=!0,(wt||Et._shouldCreateBgLayer)&&(et(Le),Et._shouldCreateBgLayer&&delete Et._shouldCreateBgLayer),f.initGradients(Le),f.initPatterns(Le),wt&&n.saveShowSpikeInitial(Le);var vr=!Le.calcdata||Le.calcdata.length!==(Le._fullData||[]).length;vr&&s.doCalcdata(Le);for(var dt=0;dt<Le.calcdata.length;dt++)Le.calcdata[dt][0].trace=Le._fullData[dt];Le._context.responsive?Le._responsiveChartHandler||(Le._responsiveChartHandler=function(){L.isHidden(Le)||s.resize(Le)},window.addEventListener("resize",Le._responsiveChartHandler)):L.clearResponsive(Le);var Yt=L.extendFlat({},Et._size),jt=0;function gr(){for(var Ct=Et._basePlotModules,Bt=0;Bt<Ct.length;Bt++)Ct[Bt].drawFramework&&Ct[Bt].drawFramework(Le);!Et._glcanvas&&Et._has("gl")&&(Et._glcanvas=Et._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(cr){return cr.key}),Et._glcanvas.enter().append("canvas").attr("class",function(cr){return"gl-canvas gl-canvas-"+cr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Xt=Le._context.plotGlPixelRatio;if(Et._glcanvas){Et._glcanvas.attr("width",Et.width*Xt).attr("height",Et.height*Xt).style("width",Et.width+"px").style("height",Et.height+"px");var ir=Et._glcanvas.data()[0].regl;if(ir&&(Math.floor(Et.width*Xt)!==ir._gl.drawingBufferWidth||Math.floor(Et.height*Xt)!==ir._gl.drawingBufferHeight)){var or="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(jt)L.error(or);else return L.log(or+" Clearing graph and plotting again."),s.cleanPlot([],{},Le._fullData,Et),s.supplyDefaults(Le),Et=Le._fullLayout,s.doCalcdata(Le),jt++,gr()}}return Et.modebar.orientation==="h"?Et._modebardiv.style("height",null).style("width","100%"):Et._modebardiv.style("width",null).style("height",Et.height+"px"),s.previousPromises(Le)}function sr(){if(s.clearAutoMarginIds(Le),b.drawMarginPushers(Le),n.allowAutoMargin(Le),Le._fullLayout.title.text&&Le._fullLayout.title.automargin&&s.allowAutoMargin(Le,"title.automargin"),Et._has("pie"))for(var Ct=Le._fullData,Bt=0;Bt<Ct.length;Bt++){var Xt=Ct[Bt];Xt.type==="pie"&&Xt.automargin&&s.allowAutoMargin(Le,"pie."+Xt.uid+".automargin")}return s.doAutoMargin(Le),s.previousPromises(Le)}function gt(){if(s.didMarginChange(Yt,Et._size))return L.syncOrAsync([sr,b.layoutStyles],Le)}function st(){if(!vr){xt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),xt],Le)}function xt(){Le._transitioning||(b.doAutoRangeAndConstraints(Le),wt&&n.saveRangeInitial(Le),r.getComponentMethod("rangeslider","calcAutorange")(Le))}function Mt(){return n.draw(Le,wt?"":"redraw")}var Rt=[s.previousPromises,It,gr,sr,gt];Wt&&Rt.push(st),Rt.push(b.layoutStyles),Wt&&Rt.push(Mt,function(Bt){var Xt=Bt._fullLayout._insideTickLabelsUpdaterange;if(Xt)return Bt._fullLayout._insideTickLabelsUpdaterange=void 0,Ae(Bt,Xt).then(function(){n.saveRangeInitial(Bt,!0)})}),Rt.push(b.drawData,b.finalDraw,h,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var Vt=L.syncOrAsync(Rt,Le);return(!Vt||!Vt.then)&&(Vt=Promise.resolve()),Vt.then(function(){return E(Le),Le})}function E(Le){var Te=Le._fullLayout;Te._redrawFromAutoMarginCount?Te._redrawFromAutoMarginCount--:Le.emit("plotly_afterplot")}function p(Le){return L.extendFlat(o,Le)}function k(Le,Te){try{Le._fullLayout._paper.style("background",Te)}catch(ye){L.error(ye)}}function R(Le,Te){var ye=g.combine(Te,"white");k(Le,ye)}function B(Le,Te){if(!Le._context){Le._context=L.extendDeep({},o);var ye=x.select("base");Le._context._baseUrl=ye.size()&&ye.attr("href")?window.location.href.split("#")[0]:""}var Se=Le._context,Ke,rt,Lt;if(Te){for(rt=Object.keys(Te),Ke=0;Ke<rt.length;Ke++)Lt=rt[Ke],!(Lt==="editable"||Lt==="edits")&&Lt in Se&&(Lt==="setBackground"&&Te[Lt]==="opaque"?Se[Lt]=R:Se[Lt]=Te[Lt]);Te.plot3dPixelRatio&&!Se.plotGlPixelRatio&&(Se.plotGlPixelRatio=Se.plot3dPixelRatio);var It=Te.editable;if(It!==void 0)for(Se.editable=It,rt=Object.keys(Se.edits),Ke=0;Ke<rt.length;Ke++)Se.edits[rt[Ke]]=It;if(Te.edits)for(rt=Object.keys(Te.edits),Ke=0;Ke<rt.length;Ke++)Lt=rt[Ke],Lt in Se.edits&&(Se.edits[Lt]=Te.edits[Lt]);Se._exportedPlot=Te._exportedPlot}Se.staticPlot&&(Se.editable=!1,Se.edits={},Se.autosizable=!1,Se.scrollZoom=!1,Se.doubleClick=!1,Se.showTips=!1,Se.showLink=!1,Se.displayModeBar=!1),Se.displayModeBar==="hover"&&!i&&(Se.displayModeBar=!0),(Se.setBackground==="transparent"||typeof Se.setBackground!="function")&&(Se.setBackground=k),Se._hasZeroHeight=Se._hasZeroHeight||Le.clientHeight===0,Se._hasZeroWidth=Se._hasZeroWidth||Le.clientWidth===0;var wt=Se.scrollZoom,Et=Se._scrollZoom={};if(wt===!0)Et.cartesian=1,Et.gl3d=1,Et.geo=1,Et.mapbox=1;else if(typeof wt=="string"){var Wt=wt.split("+");for(Ke=0;Ke<Wt.length;Ke++)Et[Wt[Ke]]=1}else wt!==!1&&(Et.gl3d=1,Et.geo=1,Et.mapbox=1)}function F(Le){if(Le=L.getGraphDiv(Le),!L.isPlotDiv(Le))throw new Error("This element is not a Plotly plot: "+Le);return A.cleanData(Le.data),A.cleanLayout(Le.layout),Le.calcdata=void 0,U._doPlot(Le).then(function(){return Le.emit("plotly_redraw"),Le})}function _(Le,Te,ye,Se){return Le=L.getGraphDiv(Le),s.cleanPlot([],{},Le._fullData||[],Le._fullLayout||{}),s.purge(Le),U._doPlot(Le,Te,ye,Se)}function O(Le,Te){var ye=Te+1,Se=[],Ke,rt;for(Ke=0;Ke<Le.length;Ke++)rt=Le[Ke],rt<0?Se.push(ye+rt):Se.push(rt);return Se}function z(Le,Te,ye){var Se,Ke;for(Se=0;Se<Te.length;Se++){if(Ke=Te[Se],Ke!==parseInt(Ke,10))throw new Error("all values in "+ye+" must be integers");if(Ke>=Le.data.length||Ke<-Le.data.length)throw new Error(ye+" must be valid indices for gd.data.");if(Te.indexOf(Ke,Se+1)>-1||Ke>=0&&Te.indexOf(-Le.data.length+Ke)>-1||Ke<0&&Te.indexOf(Le.data.length+Ke)>-1)throw new Error("each index in "+ye+" must be unique.")}}function N(Le,Te,ye){if(!Array.isArray(Le.data))throw new Error("gd.data must be an array.");if(typeof Te=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(Te)||(Te=[Te]),z(Le,Te,"currentIndices"),typeof ye!="undefined"&&!Array.isArray(ye)&&(ye=[ye]),typeof ye!="undefined"&&z(Le,ye,"newIndices"),typeof ye!="undefined"&&Te.length!==ye.length)throw new Error("current and new indices must be of equal length.")}function Y(Le,Te,ye){var Se,Ke;if(!Array.isArray(Le.data))throw new Error("gd.data must be an array.");if(typeof Te=="undefined")throw new Error("traces must be defined.");for(Array.isArray(Te)||(Te=[Te]),Se=0;Se<Te.length;Se++)if(Ke=Te[Se],typeof Ke!="object"||Array.isArray(Ke)||Ke===null)throw new Error("all values in traces array must be non-array objects");if(typeof ye!="undefined"&&!Array.isArray(ye)&&(ye=[ye]),typeof ye!="undefined"&&ye.length!==Te.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function J(Le,Te,ye,Se){var Ke=L.isPlainObject(Se);if(!Array.isArray(Le.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(Te))throw new Error("update must be a key:value object");if(typeof ye=="undefined")throw new Error("indices must be an integer or array of integers");z(Le,ye,"indices");for(var rt in Te){if(!Array.isArray(Te[rt])||Te[rt].length!==ye.length)throw new Error("attribute "+rt+" must be an array of length equal to indices array length");if(Ke&&(!(rt in Se)||!Array.isArray(Se[rt])||Se[rt].length!==Te[rt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ae(Le,Te,ye,Se){var Ke=L.isPlainObject(Se),rt=[],Lt,It,wt,Et,Wt;Array.isArray(ye)||(ye=[ye]),ye=O(ye,Le.data.length-1);for(var vr in Te)for(var dt=0;dt<ye.length;dt++){if(Lt=Le.data[ye[dt]],wt=C(Lt,vr),It=wt.get(),Et=Te[vr][dt],!L.isArrayOrTypedArray(Et))throw new Error("attribute: "+vr+" index: "+dt+" must be an array");if(!L.isArrayOrTypedArray(It))throw new Error("cannot extend missing or non-array attribute: "+vr);if(It.constructor!==Et.constructor)throw new Error("cannot extend array with an array of a different type: "+vr);Wt=Ke?Se[vr][dt]:Se,P(Wt)||(Wt=-1),rt.push({prop:wt,target:It,insert:Et,maxp:Math.floor(Wt)})}return rt}function se(Le,Te,ye,Se,Ke){J(Le,Te,ye,Se);for(var rt=ae(Le,Te,ye,Se),Lt={},It={},wt=0;wt<rt.length;wt++){var Et=rt[wt].prop,Wt=rt[wt].maxp,vr=Ke(rt[wt].target,rt[wt].insert,Wt);Et.set(vr[0]),Array.isArray(Lt[Et.astr])||(Lt[Et.astr]=[]),Lt[Et.astr].push(vr[1]),Array.isArray(It[Et.astr])||(It[Et.astr]=[]),It[Et.astr].push(rt[wt].target.length)}return{update:Lt,maxPoints:It}}function ue(Le,Te){var ye=new Le.constructor(Le.length+Te.length);return ye.set(Le),ye.set(Te,Le.length),ye}function K(Le,Te,ye,Se){Le=L.getGraphDiv(Le);function Ke(wt,Et,Wt){var vr,dt;if(L.isTypedArray(wt))if(Wt<0){var Yt=new wt.constructor(0),jt=ue(wt,Et);Wt<0?(vr=jt,dt=Yt):(vr=Yt,dt=jt)}else if(vr=new wt.constructor(Wt),dt=new wt.constructor(wt.length+Et.length-Wt),Wt===Et.length)vr.set(Et),dt.set(wt);else if(Wt<Et.length){var gr=Et.length-Wt;vr.set(Et.subarray(gr)),dt.set(wt),dt.set(Et.subarray(0,gr),wt.length)}else{var sr=Wt-Et.length,gt=wt.length-sr;vr.set(wt.subarray(gt)),vr.set(Et,sr),dt.set(wt.subarray(0,gt))}else vr=wt.concat(Et),dt=Wt>=0&&Wt<vr.length?vr.splice(0,vr.length-Wt):[];return[vr,dt]}var rt=se(Le,Te,ye,Se,Ke),Lt=U.redraw(Le),It=[Le,rt.update,ye,rt.maxPoints];return y.add(Le,U.prependTraces,It,K,arguments),Lt}function j(Le,Te,ye,Se){Le=L.getGraphDiv(Le);function Ke(wt,Et,Wt){var vr,dt;if(L.isTypedArray(wt))if(Wt<=0){var Yt=new wt.constructor(0),jt=ue(Et,wt);Wt<0?(vr=jt,dt=Yt):(vr=Yt,dt=jt)}else if(vr=new wt.constructor(Wt),dt=new wt.constructor(wt.length+Et.length-Wt),Wt===Et.length)vr.set(Et),dt.set(wt);else if(Wt<Et.length){var gr=Et.length-Wt;vr.set(Et.subarray(0,gr)),dt.set(Et.subarray(gr)),dt.set(wt,gr)}else{var sr=Wt-Et.length;vr.set(Et),vr.set(wt.subarray(0,sr),Et.length),dt.set(wt.subarray(sr))}else vr=Et.concat(wt),dt=Wt>=0&&Wt<vr.length?vr.splice(Wt,vr.length):[];return[vr,dt]}var rt=se(Le,Te,ye,Se,Ke),Lt=U.redraw(Le),It=[Le,rt.update,ye,rt.maxPoints];return y.add(Le,U.extendTraces,It,j,arguments),Lt}function ie(Le,Te,ye){Le=L.getGraphDiv(Le);var Se=[],Ke=U.deleteTraces,rt=ie,Lt=[Le,Se],It=[Le,Te],wt,Et;for(Y(Le,Te,ye),Array.isArray(Te)||(Te=[Te]),Te=Te.map(function(Wt){return L.extendFlat({},Wt)}),A.cleanData(Te),wt=0;wt<Te.length;wt++)Le.data.push(Te[wt]);for(wt=0;wt<Te.length;wt++)Se.push(-Te.length+wt);if(typeof ye=="undefined")return Et=U.redraw(Le),y.add(Le,Ke,Lt,rt,It),Et;Array.isArray(ye)||(ye=[ye]);try{N(Le,Se,ye)}catch(Wt){throw Le.data.splice(Le.data.length-Te.length,Te.length),Wt}return y.startSequence(Le),y.add(Le,Ke,Lt,rt,It),Et=U.moveTraces(Le,Se,ye),y.stopSequence(Le),Et}function W(Le,Te){Le=L.getGraphDiv(Le);var ye=[],Se=U.addTraces,Ke=W,rt=[Le,ye,Te],Lt=[Le,Te],It,wt;if(typeof Te=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Te)||(Te=[Te]),z(Le,Te,"indices"),Te=O(Te,Le.data.length-1),Te.sort(L.sorterDes),It=0;It<Te.length;It+=1)wt=Le.data.splice(Te[It],1)[0],ye.push(wt);var Et=U.redraw(Le);return y.add(Le,Se,rt,Ke,Lt),Et}function Q(Le,Te,ye){Le=L.getGraphDiv(Le);var Se=[],Ke=[],rt=Q,Lt=Q,It=[Le,ye,Te],wt=[Le,Te,ye],Et;if(N(Le,Te,ye),Te=Array.isArray(Te)?Te:[Te],typeof ye=="undefined")for(ye=[],Et=0;Et<Te.length;Et++)ye.push(-Te.length+Et);for(ye=Array.isArray(ye)?ye:[ye],Te=O(Te,Le.data.length-1),ye=O(ye,Le.data.length-1),Et=0;Et<Le.data.length;Et++)Te.indexOf(Et)===-1&&Se.push(Le.data[Et]);for(Et=0;Et<Te.length;Et++)Ke.push({newIndex:ye[Et],trace:Le.data[Te[Et]]});for(Ke.sort(function(vr,dt){return vr.newIndex-dt.newIndex}),Et=0;Et<Ke.length;Et+=1)Se.splice(Ke[Et].newIndex,0,Ke[Et].trace);Le.data=Se;var Wt=U.redraw(Le);return y.add(Le,rt,It,Lt,wt),Wt}function ee(Le,Te,ye,Se){Le=L.getGraphDiv(Le),A.clearPromiseQueue(Le);var Ke={};if(typeof Te=="string")Ke[Te]=ye;else if(L.isPlainObject(Te))Ke=L.extendFlat({},Te),Se===void 0&&(Se=ye);else return L.warn("Restyle fail.",Te,ye,Se),Promise.reject();Object.keys(Ke).length&&(Le.changed=!0);var rt=A.coerceTraceIndices(Le,Se),Lt=fe(Le,Ke,rt),It=Lt.flags;It.calc&&(Le.calcdata=void 0),It.clearAxisTypes&&A.clearAxisTypes(Le,rt,{});var wt=[];It.fullReplot?wt.push(U._doPlot):(wt.push(s.previousPromises),s.supplyDefaults(Le),It.markerSize&&(s.doCalcdata(Le),Pe(wt)),It.style&&wt.push(b.doTraceStyle),It.colorbars&&wt.push(b.doColorBars),wt.push(E)),wt.push(s.rehover,s.redrag,s.reselect),y.add(Le,ee,[Le,Lt.undoit,Lt.traces],ee,[Le,Lt.redoit,Lt.traces]);var Et=L.syncOrAsync(wt,Le);return(!Et||!Et.then)&&(Et=Promise.resolve()),Et.then(function(){return Le.emit("plotly_restyle",Lt.eventData),Le})}function $(Le){return Le===void 0?null:Le}function X(Le,Te){return Te?function(ye,Se,Ke){var rt=C(ye,Se),Lt=rt.set;return rt.set=function(It){var wt=(Ke||"")+Se;oe(wt,rt.get(),It,Le),Lt(It)},rt}:C}function oe(Le,Te,ye,Se){if(Array.isArray(Te)||Array.isArray(ye))for(var Ke=Array.isArray(Te)?Te:[],rt=Array.isArray(ye)?ye:[],Lt=Math.max(Ke.length,rt.length),It=0;It<Lt;It++)oe(Le+"["+It+"]",Ke[It],rt[It],Se);else if(L.isPlainObject(Te)||L.isPlainObject(ye)){var wt=L.isPlainObject(Te)?Te:{},Et=L.isPlainObject(ye)?ye:{},Wt=L.extendFlat({},wt,Et);for(var vr in Wt)oe(Le+"."+vr,wt[vr],Et[vr],Se)}else Se[Le]===void 0&&(Se[Le]=$(Te))}function te(Le,Te,ye){for(var Se in ye){var Ke=C(Le,Se);oe(Se,Ke.get(),ye[Se],Te)}}function fe(Le,Te,ye){var Se=Le._fullLayout,Ke=Le._fullData,rt=Le.data,Lt=Se._guiEditing,It=X(Se._preGUI,Lt),wt=L.extendDeepAll({},Te),Et;pe(Te);var Wt=M.traceFlags(),vr={},dt={},Yt;function jt(){return ye.map(function(){})}function gr(xn){var fr=n.id2name(xn);Yt.indexOf(fr)===-1&&Yt.push(fr)}function sr(xn){return"LAYOUT"+xn+".autorange"}function gt(xn){return"LAYOUT"+xn+".range"}function st(xn){for(var fr=xn;fr<Ke.length;fr++)if(Ke[fr]._input===rt[xn])return Ke[fr]}function xt(xn,fr,Dr){if(Array.isArray(xn)){xn.forEach(function(gn){xt(gn,fr,Dr)});return}if(!(xn in Te||A.hasParent(Te,xn))){var Nr;if(xn.substr(0,6)==="LAYOUT")Nr=It(Le.layout,xn.replace("LAYOUT",""));else{var Ur=ye[Dr],on=Se._tracePreGUI[st(Ur)._fullInput.uid];Nr=X(on,Lt)(rt[Ur],xn)}xn in dt||(dt[xn]=jt()),dt[xn][Dr]===void 0&&(dt[xn][Dr]=$(Nr.get())),fr!==void 0&&Nr.set(fr)}}function Mt(xn){return function(fr){return Ke[fr][xn]}}function Rt(xn){return function(fr,Dr){return fr===!1?Ke[ye[Dr]][xn]:null}}for(var Vt in Te){if(A.hasParent(Te,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");var Ct=Te[Vt],Bt,Xt,ir,or,cr,We;if((Vt==="autobinx"||Vt==="autobiny")&&(Vt=Vt.charAt(Vt.length-1)+"bins",Array.isArray(Ct)?Ct=Ct.map(Rt(Vt)):Ct===!1?Ct=ye.map(Mt(Vt)):Ct=null),vr[Vt]=Ct,Vt.substr(0,6)==="LAYOUT"){ir=It(Le.layout,Vt.replace("LAYOUT","")),dt[Vt]=[$(ir.get())],ir.set(Array.isArray(Ct)?Ct[0]:Ct),Wt.calc=!0;continue}for(dt[Vt]=jt(),Et=0;Et<ye.length;Et++){Bt=rt[ye[Et]],Xt=st(ye[Et]);var Ue=Se._tracePreGUI[Xt._fullInput.uid];if(ir=X(Ue,Lt)(Bt,Vt),or=ir.get(),cr=Array.isArray(Ct)?Ct[Et%Ct.length]:Ct,cr!==void 0){var Ft=ir.parts[ir.parts.length-1],kt=Vt.substr(0,Vt.length-Ft.length-1),Zt=kt?kt+".":"",rr=kt?C(Xt,kt).get():Xt;if(We=t.getTraceValObject(Xt,ir.parts),We&&We.impliedEdits&&cr!==null)for(var lr in We.impliedEdits)xt(L.relativeAttr(Vt,lr),We.impliedEdits[lr],Et);else if((Ft==="thicknessmode"||Ft==="lenmode")&&or!==cr&&(cr==="fraction"||cr==="pixels")&&rr){var qt=Se._size,Ot=rr.orient,tr=Ot==="top"||Ot==="bottom";if(Ft==="thicknessmode"){var dr=tr?qt.h:qt.w;xt(Zt+"thickness",rr.thickness*(cr==="fraction"?1/dr:dr),Et)}else{var mr=tr?qt.w:qt.h;xt(Zt+"len",rr.len*(cr==="fraction"?1/mr:mr),Et)}}else if(Vt==="type"&&(cr==="pie"!=(or==="pie")||cr==="funnelarea"!=(or==="funnelarea"))){var Cr="x",$r="y";(cr==="bar"||or==="bar")&&Bt.orientation==="h"&&(Cr="y",$r="x"),L.swapAttrs(Bt,["?","?src"],"labels",Cr),L.swapAttrs(Bt,["d?","?0"],"label",Cr),L.swapAttrs(Bt,["?","?src"],"values",$r),or==="pie"||or==="funnelarea"?(C(Bt,"marker.color").set(C(Bt,"marker.colors").get()),Se._pielayer.selectAll("g.trace").remove()):r.traceIs(Bt,"cartesian")&&C(Bt,"marker.colors").set(C(Bt,"marker.color").get())}dt[Vt][Et]=$(or);var yr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(yr.indexOf(Vt)!==-1){if(Vt==="orientation"){ir.set(cr);var Gr=Bt.x&&!Bt.y?"h":"v";if((ir.get()||Gr)===Xt.orientation)continue}else Vt==="orientationaxes"&&(Bt.orientation={v:"h",h:"v"}[Xt.orientation]);A.swapXYData(Bt),Wt.calc=Wt.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(ir.parts[0])!==-1?(A.manageArrayContainers(ir,cr,dt),Wt.calc=!0):(We?We.arrayOk&&!r.traceIs(Xt,"regl")&&(L.isArrayOrTypedArray(cr)||L.isArrayOrTypedArray(or))?Wt.calc=!0:M.update(Wt,We):Wt.calc=!0,ir.set(cr))}}if(["swapxyaxes","orientationaxes"].indexOf(Vt)!==-1&&n.swap(Le,ye),Vt==="orientationaxes"){var rn=C(Le.layout,"hovermode"),_r=rn.get();_r==="x"?rn.set("y"):_r==="y"?rn.set("x"):_r==="x unified"?rn.set("y unified"):_r==="y unified"&&rn.set("x unified")}if(["orientation","type"].indexOf(Vt)!==-1){for(Yt=[],Et=0;Et<ye.length;Et++){var bn=rt[ye[Et]];r.traceIs(bn,"cartesian")&&(gr(bn.xaxis||"x"),gr(bn.yaxis||"y"))}xt(Yt.map(sr),!0,0),xt(Yt.map(gt),[0,1],0)}}return(Wt.calc||Wt.plot)&&(Wt.fullReplot=!0),{flags:Wt,undoit:dt,redoit:vr,traces:ye,eventData:L.extendDeepNoArrays([],[wt,ye])}}function pe(Le){var Te=L.counterRegex("axis",".title",!1,!1),ye=/colorbar\.title$/,Se=Object.keys(Le),Ke,rt,Lt;for(Ke=0;Ke<Se.length;Ke++)rt=Se[Ke],Lt=Le[rt],(rt==="title"||Te.test(rt)||ye.test(rt))&&(typeof Lt=="string"||typeof Lt=="number")?It(rt,rt.replace("title","title.text")):rt.indexOf("titlefont")>-1&&rt.indexOf("grouptitlefont")===-1?It(rt,rt.replace("titlefont","title.font")):rt.indexOf("titleposition")>-1?It(rt,rt.replace("titleposition","title.position")):rt.indexOf("titleside")>-1?It(rt,rt.replace("titleside","title.side")):rt.indexOf("titleoffset")>-1&&It(rt,rt.replace("titleoffset","title.offset"));function It(wt,Et){Le[Et]=Le[wt],delete Le[wt]}}function Ae(Le,Te,ye){Le=L.getGraphDiv(Le),A.clearPromiseQueue(Le);var Se={};if(typeof Te=="string")Se[Te]=ye;else if(L.isPlainObject(Te))Se=L.extendFlat({},Te);else return L.warn("Relayout fail.",Te,ye),Promise.reject();Object.keys(Se).length&&(Le.changed=!0);var Ke=De(Le,Se),rt=Ke.flags;rt.calc&&(Le.calcdata=void 0);var Lt=[s.previousPromises];rt.layoutReplot?Lt.push(b.layoutReplot):Object.keys(Se).length&&(be(Le,rt,Ke)||s.supplyDefaults(Le),rt.legend&&Lt.push(b.doLegend),rt.layoutstyle&&Lt.push(b.layoutStyles),rt.axrange&&Pe(Lt,Ke.rangesAltered),rt.ticks&&Lt.push(b.doTicksRelayout),rt.modebar&&Lt.push(b.doModeBar),rt.camera&&Lt.push(b.doCamera),rt.colorbars&&Lt.push(b.doColorBars),Lt.push(E)),Lt.push(s.rehover,s.redrag,s.reselect),y.add(Le,Ae,[Le,Ke.undoit],Ae,[Le,Ke.redoit]);var It=L.syncOrAsync(Lt,Le);return(!It||!It.then)&&(It=Promise.resolve(Le)),It.then(function(){return Le.emit("plotly_relayout",Ke.eventData),Le})}function be(Le,Te,ye){var Se=Le._fullLayout;if(!Te.axrange)return!1;for(var Ke in Te)if(Ke!=="axrange"&&Te[Ke])return!1;var rt,Lt,It=function(Yt,jt){return L.coerce(rt,Lt,l,Yt,jt)},wt={};for(var Et in ye.rangesAltered){var Wt=n.id2name(Et);if(rt=Le.layout[Wt],Lt=Se[Wt],u(rt,Lt,It,wt),Lt._matchGroup){for(var vr in Lt._matchGroup)if(vr!==Et){var dt=Se[n.id2name(vr)];dt.autorange=Lt.autorange,dt.range=Lt.range.slice(),dt._input.range=Lt.range.slice()}}}return!0}function Pe(Le,Te){var ye=Te?function(Se){var Ke=[],rt=!0;for(var Lt in Te){var It=n.getFromId(Se,Lt);if(Ke.push(Lt),(It.ticklabelposition||"").indexOf("inside")!==-1&&It._anchorAxis&&Ke.push(It._anchorAxis._id),It._matchGroup)for(var wt in It._matchGroup)Te[wt]||Ke.push(wt)}return n.draw(Se,Ke,{skipTitle:rt})}:function(Se){return n.draw(Se,"redraw")};Le.push(d,b.doAutoRangeAndConstraints,ye,b.drawData,b.finalDraw)}var me=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ee=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function De(Le,Te){var ye=Le.layout,Se=Le._fullLayout,Ke=Se._guiEditing,rt=X(Se._preGUI,Ke),Lt=Object.keys(Te),It=n.list(Le),wt=L.extendDeepAll({},Te),Et={},Wt,vr,dt;for(pe(Te),Lt=Object.keys(Te),vr=0;vr<Lt.length;vr++)if(Lt[vr].indexOf("allaxes")===0){for(dt=0;dt<It.length;dt++){var Yt=It[dt]._id.substr(1),jt=Yt.indexOf("scene")!==-1?Yt+".":"",gr=Lt[vr].replace("allaxes",jt+It[dt]._name);Te[gr]||(Te[gr]=Te[Lt[vr]])}delete Te[Lt[vr]]}var sr=M.layoutFlags(),gt={},st={};function xt(on,gn){if(Array.isArray(on)){on.forEach(function(Pn){xt(Pn,gn)});return}if(!(on in Te||A.hasParent(Te,on))){var yn=rt(ye,on);on in st||(st[on]=$(yn.get())),gn!==void 0&&yn.set(gn)}}var Mt={},Rt;function Vt(on){var gn=n.name2id(on.split(".")[0]);return Mt[gn]=1,gn}for(var Ct in Te){if(A.hasParent(Te,Ct))throw new Error("cannot set "+Ct+" and a parent attribute simultaneously");for(var Bt=rt(ye,Ct),Xt=Te[Ct],ir=Bt.parts.length,or=ir-1;or>0&&typeof Bt.parts[or]!="string";)or--;var cr=Bt.parts[or],We=Bt.parts[or-1]+"."+cr,Ue=Bt.parts.slice(0,or).join("."),Ft=C(Le.layout,Ue).get(),kt=C(Se,Ue).get(),Zt=Bt.get();if(Xt!==void 0){gt[Ct]=Xt,st[Ct]=cr==="reverse"?Xt:$(Zt);var rr=t.getLayoutValObject(Se,Bt.parts);if(rr&&rr.impliedEdits&&Xt!==null)for(var lr in rr.impliedEdits)xt(L.relativeAttr(Ct,lr),rr.impliedEdits[lr]);if(["width","height"].indexOf(Ct)!==-1)if(Xt){xt("autosize",null);var qt=Ct==="height"?"width":"height";xt(qt,Se[qt])}else Se[Ct]=Le._initialAutoSize[Ct];else if(Ct==="autosize")xt("width",Xt?null:Se.width),xt("height",Xt?null:Se.height);else if(We.match(me))Vt(We),C(Se,Ue+"._inputRange").set(null);else if(We.match(Ee)){Vt(We),C(Se,Ue+"._inputRange").set(null);var Ot=C(Se,Ue).get();Ot._inputDomain&&(Ot._input.domain=Ot._inputDomain.slice())}else We.match(xe)&&C(Se,Ue+"._inputDomain").set(null);if(cr==="type"){Rt=Ft;var tr=kt.type==="linear"&&Xt==="log",dr=kt.type==="log"&&Xt==="linear";if(tr||dr){if(!Rt||!Rt.range)xt(Ue+".autorange",!0);else if(kt.autorange)tr&&(Rt.range=Rt.range[1]>Rt.range[0]?[1,2]:[2,1]);else{var mr=Rt.range[0],Cr=Rt.range[1];tr?(mr<=0&&Cr<=0&&xt(Ue+".autorange",!0),mr<=0?mr=Cr/1e6:Cr<=0&&(Cr=mr/1e6),xt(Ue+".range[0]",Math.log(mr)/Math.LN10),xt(Ue+".range[1]",Math.log(Cr)/Math.LN10)):(xt(Ue+".range[0]",Math.pow(10,mr)),xt(Ue+".range[1]",Math.pow(10,Cr)))}Array.isArray(Se._subplots.polar)&&Se._subplots.polar.length&&Se[Bt.parts[0]]&&Bt.parts[1]==="radialaxis"&&delete Se[Bt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Le,kt,Xt,xt),r.getComponentMethod("images","convertCoords")(Le,kt,Xt,xt)}else xt(Ue+".autorange",!0),xt(Ue+".range",null);C(Se,Ue+"._inputRange").set(null)}else if(cr.match(m)){var $r=C(Se,Ct).get(),yr=(Xt||{}).type;(!yr||yr==="-")&&(yr="linear"),r.getComponentMethod("annotations","convertCoords")(Le,$r,yr,xt),r.getComponentMethod("images","convertCoords")(Le,$r,yr,xt)}var Gr=v.containerArrayMatch(Ct);if(Gr){Wt=Gr.array,vr=Gr.index;var rn=Gr.property,_r=rr||{editType:"calc"};vr!==""&&rn===""&&(v.isAddVal(Xt)?st[Ct]=null:v.isRemoveVal(Xt)?st[Ct]=(C(ye,Wt).get()||[])[vr]:L.warn("unrecognized full object value",Te)),M.update(sr,_r),Et[Wt]||(Et[Wt]={});var bn=Et[Wt][vr];bn||(bn=Et[Wt][vr]={}),bn[rn]=Xt,delete Te[Ct]}else cr==="reverse"?(Ft.range?Ft.range.reverse():(xt(Ue+".autorange",!0),Ft.range=[1,0]),kt.autorange?sr.calc=!0:sr.plot=!0):(Ct==="dragmode"&&(Xt===!1&&Zt!==!1||Xt!==!1&&Zt===!1)||Se._has("scatter-like")&&Se._has("regl")&&Ct==="dragmode"&&(Xt==="lasso"||Xt==="select")&&!(Zt==="lasso"||Zt==="select")||Se._has("gl2d")?sr.plot=!0:rr?M.update(sr,rr):sr.calc=!0,Bt.set(Xt))}}for(Wt in Et){var xn=v.applyContainerArrayChanges(Le,rt(ye,Wt),Et[Wt],sr,rt);xn||(sr.plot=!0)}for(var fr in Mt){Rt=n.getFromId(Le,fr);var Dr=Rt&&Rt._constraintGroup;if(Dr){sr.calc=!0;for(var Nr in Dr)Mt[Nr]||(n.getFromId(Le,Nr)._constraintShrinkable=!0)}}(Ve(Le)||Te.height||Te.width)&&(sr.plot=!0);var Ur=Se.shapes;for(vr=0;vr<Ur.length;vr++)if(Ur[vr].showlegend){sr.calc=!0;break}return(sr.plot||sr.calc)&&(sr.layoutReplot=!0),{flags:sr,rangesAltered:Mt,undoit:st,redoit:gt,eventData:wt}}function Ve(Le){var Te=Le._fullLayout,ye=Te.width,Se=Te.height;return Le.layout.autosize&&s.plotAutoSize(Le,Le.layout,Te),Te.width!==ye||Te.height!==Se}function Ze(Le,Te,ye,Se){Le=L.getGraphDiv(Le),A.clearPromiseQueue(Le),L.isPlainObject(Te)||(Te={}),L.isPlainObject(ye)||(ye={}),Object.keys(Te).length&&(Le.changed=!0),Object.keys(ye).length&&(Le.changed=!0);var Ke=A.coerceTraceIndices(Le,Se),rt=fe(Le,L.extendFlat({},Te),Ke),Lt=rt.flags,It=De(Le,L.extendFlat({},ye)),wt=It.flags;(Lt.calc||wt.calc)&&(Le.calcdata=void 0),Lt.clearAxisTypes&&A.clearAxisTypes(Le,Ke,ye);var Et=[];wt.layoutReplot?Et.push(b.layoutReplot):Lt.fullReplot?Et.push(U._doPlot):(Et.push(s.previousPromises),be(Le,wt,It)||s.supplyDefaults(Le),Lt.style&&Et.push(b.doTraceStyle),(Lt.colorbars||wt.colorbars)&&Et.push(b.doColorBars),wt.legend&&Et.push(b.doLegend),wt.layoutstyle&&Et.push(b.layoutStyles),wt.axrange&&Pe(Et,It.rangesAltered),wt.ticks&&Et.push(b.doTicksRelayout),wt.modebar&&Et.push(b.doModeBar),wt.camera&&Et.push(b.doCamera),Et.push(E)),Et.push(s.rehover,s.redrag,s.reselect),y.add(Le,Ze,[Le,rt.undoit,It.undoit,rt.traces],Ze,[Le,rt.redoit,It.redoit,rt.traces]);var Wt=L.syncOrAsync(Et,Le);return(!Wt||!Wt.then)&&(Wt=Promise.resolve(Le)),Wt.then(function(){return Le.emit("plotly_update",{data:rt.eventData,layout:It.eventData}),Le})}function ke(Le){return function(ye){ye._fullLayout._guiEditing=!0;var Se=Le.apply(null,arguments);return ye._fullLayout._guiEditing=!1,Se}}var Ye=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],lt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function yt(Le,Te){for(var ye=0;ye<Te.length;ye++){var Se=Te[ye],Ke=Le.match(Se.pattern);if(Ke){var rt=Ke[1]||"";return{head:rt,tail:Le.substr(rt.length+1),attr:Se.attr}}}}function He(Le,Te){var ye=C(Te,Le).get();if(ye!==void 0)return ye;var Se=Le.split(".");for(Se.pop();Se.length>1;)if(Se.pop(),ye=C(Te,Se.join(".")+".uirevision").get(),ye!==void 0)return ye;return Te.uirevision}function Fe(Le,Te){for(var ye=0;ye<Te.length;ye++)if(Te[ye]._fullInput.uid===Le)return ye;return-1}function nt(Le,Te,ye){for(var Se=0;Se<Te.length;Se++)if(Te[Se].uid===Le)return Se;return!Te[ye]||Te[ye].uid?-1:ye}function ot(Le,Te){var ye=L.isPlainObject(Le),Se=Array.isArray(Le);return ye||Se?(ye&&L.isPlainObject(Te)||Se&&Array.isArray(Te))&&JSON.stringify(Le)===JSON.stringify(Te):Le===Te}function ct(Le,Te,ye,Se){var Ke=Se._preGUI,rt,Lt,It,wt,Et,Wt,vr,dt,Yt,jt,gr=[],sr={},gt={};for(rt in Ke){if(Et=yt(rt,Ye),Et){if(Yt=Et.head,jt=Et.tail,Lt=Et.attr||Yt+".uirevision",It=C(Se,Lt).get(),wt=It&&He(Lt,Te),wt&&wt===It){if(Wt=Ke[rt],Wt===null&&(Wt=void 0),vr=C(Te,rt),dt=vr.get(),ot(dt,Wt)){dt===void 0&&jt==="autorange"&&gr.push(Yt),vr.set($(C(Se,rt).get()));continue}else if(jt==="autorange"||jt.substr(0,6)==="range["){var st=Ke[Yt+".range[0]"],xt=Ke[Yt+".range[1]"],Mt=Ke[Yt+".autorange"];if(Mt||Mt===null&&st===null&&xt===null){if(!(Yt in sr)){var Rt=C(Te,Yt).get();sr[Yt]=Rt&&(Rt.autorange||Rt.autorange!==!1&&(!Rt.range||Rt.range.length!==2))}if(sr[Yt]){vr.set($(C(Se,rt).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+rt);delete Ke[rt],Et&&Et.tail.substr(0,6)==="range["&&(gt[Et.head]=1)}for(var Vt=0;Vt<gr.length;Vt++){var Ct=gr[Vt];if(gt[Ct]){var Bt=C(Te,Ct).get();Bt&&delete Bt.autorange}}var Xt=Se._tracePreGUI;for(var ir in Xt){var or=Xt[ir],cr=null,We;for(rt in or){if(!cr){var Ue=Fe(ir,ye);if(Ue<0){delete Xt[ir];break}var Ft=ye[Ue];We=Ft._fullInput;var kt=nt(ir,Le,We.index);if(kt<0){delete Xt[ir];break}cr=Le[kt]}if(Et=yt(rt,lt),Et){if(Et.attr?(It=C(Se,Et.attr).get(),wt=It&&He(Et.attr,Te)):(It=We.uirevision,wt=cr.uirevision,wt===void 0&&(wt=Te.uirevision)),wt&&wt===It&&(Wt=or[rt],Wt===null&&(Wt=void 0),vr=C(cr,rt),dt=vr.get(),ot(dt,Wt))){vr.set($(C(We,rt).get()));continue}}else L.warn("unrecognized GUI edit: "+rt+" in trace uid "+ir);delete or[rt]}}}function ht(Le,Te,ye,Se){var Ke,rt;function Lt(){return U.addFrames(Le,Ke)}Le=L.getGraphDiv(Le),A.clearPromiseQueue(Le);var It=Le._fullData,wt=Le._fullLayout;if(!L.isPlotDiv(Le)||!It||!wt)rt=U.newPlot(Le,Te,ye,Se);else{if(L.isPlainObject(Te)){var Et=Te;Te=Et.data,ye=Et.layout,Se=Et.config,Ke=Et.frames}var Wt=!1;if(Se){var vr=L.extendDeep({},Le._context);Le._context=void 0,B(Le,Se),Wt=Ge(vr,Le._context)}Le.data=Te||[],A.cleanData(Le.data),Le.layout=ye||{},A.cleanLayout(Le.layout),ct(Le.data,Le.layout,It,wt),s.supplyDefaults(Le,{skipUpdateCalc:!0});var dt=Le._fullData,Yt=Le._fullLayout,jt=Yt.datarevision===void 0,gr=Yt.transition,sr=tt(Le,wt,Yt,jt,gr),gt=sr.newDataRevision,st=mt(Le,It,dt,jt,gr,gt);if(Ve(Le)&&(sr.layoutReplot=!0),st.calc||sr.calc){Le.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(Yt),Mt=0;Mt<xt.length;Mt++){var Rt=xt[Mt],Vt=Rt.substring(0,5);if(Vt==="xaxis"||Vt==="yaxis"){var Ct=Yt[Rt]._emptyCategories;Ct&&Ct()}}}else s.supplyDefaultsUpdateCalc(Le.calcdata,dt);var Bt=[];if(Ke&&(Le._transitionData={},s.createTransitionData(Le),Bt.push(Lt)),Yt.transition&&!Wt&&(st.anim||sr.anim))sr.ticks&&Bt.push(b.doTicksRelayout),s.doCalcdata(Le),b.doAutoRangeAndConstraints(Le),Bt.push(function(){return s.transitionFromReact(Le,st,sr,wt)});else if(st.fullReplot||sr.layoutReplot||Wt)Le._fullLayout._skipDefaults=!0,Bt.push(U._doPlot);else{for(var Xt in sr.arrays){var ir=sr.arrays[Xt];if(ir.length){var or=r.getComponentMethod(Xt,"drawOne");if(or!==L.noop)for(var cr=0;cr<ir.length;cr++)or(Le,ir[cr]);else{var We=r.getComponentMethod(Xt,"draw");if(We===L.noop)throw new Error("cannot draw components: "+Xt);We(Le)}}}Bt.push(s.previousPromises),st.style&&Bt.push(b.doTraceStyle),(st.colorbars||sr.colorbars)&&Bt.push(b.doColorBars),sr.legend&&Bt.push(b.doLegend),sr.layoutstyle&&Bt.push(b.layoutStyles),sr.axrange&&Pe(Bt),sr.ticks&&Bt.push(b.doTicksRelayout),sr.modebar&&Bt.push(b.doModeBar),sr.camera&&Bt.push(b.doCamera),Bt.push(E)}Bt.push(s.rehover,s.redrag,s.reselect),rt=L.syncOrAsync(Bt,Le),(!rt||!rt.then)&&(rt=Promise.resolve(Le))}return rt.then(function(){return Le.emit("plotly_react",{data:Te,layout:ye}),Le})}function mt(Le,Te,ye,Se,Ke,rt){var Lt=Te.length===ye.length;if(!Ke&&!Lt)return{fullReplot:!0,calc:!0};var It=M.traceFlags();It.arrays={},It.nChanges=0,It.nChangesAnim=0;var wt,Et;function Wt(Yt){var jt=t.getTraceValObject(Et,Yt);return!Et._module.animatable&&jt.anim&&(jt.anim=!1),jt}var vr={getValObject:Wt,flags:It,immutable:Se,transition:Ke,newDataRevision:rt,gd:Le},dt={};for(wt=0;wt<Te.length;wt++)if(ye[wt]){if(Et=ye[wt]._fullInput,s.hasMakesDataTransform(Et)&&(Et=ye[wt]),dt[Et.uid])continue;dt[Et.uid]=1,Re(Te[wt]._fullInput,Et,[],vr)}return(It.calc||It.plot)&&(It.fullReplot=!0),Ke&&It.nChanges&&It.nChangesAnim&&(It.anim=It.nChanges===It.nChangesAnim&&Lt?"all":"some"),It}function tt(Le,Te,ye,Se,Ke){var rt=M.layoutFlags();rt.arrays={},rt.rangesAltered={},rt.nChanges=0,rt.nChangesAnim=0;function Lt(wt){return t.getLayoutValObject(ye,wt)}var It={getValObject:Lt,flags:rt,immutable:Se,transition:Ke,gd:Le};return Re(Te,ye,[],It),(rt.plot||rt.calc)&&(rt.layoutReplot=!0),Ke&&rt.nChanges&&rt.nChangesAnim&&(rt.anim=rt.nChanges===rt.nChangesAnim?"all":"some"),rt}function Re(Le,Te,ye,Se){var Ke,rt,Lt,It=Se.getValObject,wt=Se.flags,Et=Se.immutable,Wt=Se.inArray,vr=Se.arrayIndex;function dt(){var Ue=Ke.editType;if(Wt&&Ue.indexOf("arraydraw")!==-1){L.pushUnique(wt.arrays[Wt],vr);return}M.update(wt,Ke),Ue!=="none"&&wt.nChanges++,Se.transition&&Ke.anim&&wt.nChangesAnim++,(me.test(Lt)||Ee.test(Lt))&&(wt.rangesAltered[ye[0]]=1),xe.test(Lt)&&C(Te,"_inputDomain").set(null),rt==="datarevision"&&(wt.newDataRevision=1)}function Yt(Ue){return Ue.valType==="data_array"||Ue.arrayOk}for(rt in Le){if(wt.calc&&!Se.transition)return;var jt=Le[rt],gr=Te[rt],sr=ye.concat(rt);if(Lt=sr.join("."),!(rt.charAt(0)==="_"||typeof jt=="function"||jt===gr)){if((rt==="tick0"||rt==="dtick")&&ye[0]!=="geo"){var gt=Te.tickmode;if(gt==="auto"||gt==="array"||!gt)continue}if(!(rt==="range"&&Te.autorange)&&!((rt==="zmin"||rt==="zmax")&&Te.type==="contourcarpet")&&(Ke=It(sr),!!Ke&&!(Ke._compareAsJSON&&JSON.stringify(jt)===JSON.stringify(gr)))){var st=Ke.valType,xt,Mt=Yt(Ke),Rt=Array.isArray(jt),Vt=Array.isArray(gr);if(Rt&&Vt){var Ct="_input_"+rt,Bt=Le[Ct],Xt=Te[Ct];if(Array.isArray(Bt)&&Bt===Xt)continue}if(gr===void 0)Mt&&Rt?wt.calc=!0:dt();else if(Ke._isLinkedToArray){var ir=[],or=!1;Wt||(wt.arrays[rt]=ir);var cr=Math.min(jt.length,gr.length),We=Math.max(jt.length,gr.length);if(cr!==We)if(Ke.editType==="arraydraw")or=!0;else{dt();continue}for(xt=0;xt<cr;xt++)Re(jt[xt],gr[xt],sr.concat(xt),L.extendFlat({inArray:rt,arrayIndex:xt},Se));if(or)for(xt=cr;xt<We;xt++)ir.push(xt)}else!st&&L.isPlainObject(jt)?Re(jt,gr,sr,Se):Mt?Rt&&Vt?(Et&&(wt.calc=!0),(Et||Se.newDataRevision)&&dt()):Rt!==Vt?wt.calc=!0:dt():Rt&&Vt?(jt.length!==gr.length||String(jt)!==String(gr))&&dt():dt()}}}for(rt in Te)if(!(rt in Le||rt.charAt(0)==="_"||typeof Te[rt]=="function"))if(Ke=It(ye.concat(rt)),Yt(Ke)&&Array.isArray(Te[rt])){wt.calc=!0;return}else dt()}function Ge(Le,Te){var ye;for(ye in Le)if(ye.charAt(0)!=="_"){var Se=Le[ye],Ke=Te[ye];if(Se!==Ke)if(L.isPlainObject(Se)&&L.isPlainObject(Ke)){if(Ge(Se,Ke))return!0}else if(Array.isArray(Se)&&Array.isArray(Ke)){if(Se.length!==Ke.length)return!0;for(var rt=0;rt<Se.length;rt++)if(Se[rt]!==Ke[rt])if(L.isPlainObject(Se[rt])&&L.isPlainObject(Ke[rt])){if(Ge(Se[rt],Ke[rt]))return!0}else return!0}else return!0}}function Je(Le,Te,ye){if(Le=L.getGraphDiv(Le),!L.isPlotDiv(Le))throw new Error("This element is not a Plotly plot: "+Le+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Se=Le._transitionData;Se._frameQueue||(Se._frameQueue=[]),ye=s.supplyAnimationDefaults(ye);var Ke=ye.transition,rt=ye.frame;Se._frameWaitingCnt===void 0&&(Se._frameWaitingCnt=0);function Lt(Et){return Array.isArray(Ke)?Et>=Ke.length?Ke[0]:Ke[Et]:Ke}function It(Et){return Array.isArray(rt)?Et>=rt.length?rt[0]:rt[Et]:rt}function wt(Et,Wt){var vr=0;return function(){if(Et&&++vr===Wt)return Et()}}return new Promise(function(Et,Wt){function vr(){if(Se._frameQueue.length!==0){for(;Se._frameQueue.length;){var cr=Se._frameQueue.pop();cr.onInterrupt&&cr.onInterrupt()}Le.emit("plotly_animationinterrupted",[])}}function dt(cr){if(cr.length!==0){for(var We=0;We<cr.length;We++){var Ue;cr[We].type==="byname"?Ue=s.computeFrame(Le,cr[We].name):Ue=cr[We].data;var Ft=It(We),kt=Lt(We);kt.duration=Math.min(kt.duration,Ft.duration);var Zt={frame:Ue,name:cr[We].name,frameOpts:Ft,transitionOpts:kt};We===cr.length-1&&(Zt.onComplete=wt(Et,2),Zt.onInterrupt=Wt),Se._frameQueue.push(Zt)}ye.mode==="immediate"&&(Se._lastFrameAt=-1/0),Se._animationRaf||gr()}}function Yt(){Le.emit("plotly_animated"),window.cancelAnimationFrame(Se._animationRaf),Se._animationRaf=null}function jt(){Se._currentFrame&&Se._currentFrame.onComplete&&Se._currentFrame.onComplete();var cr=Se._currentFrame=Se._frameQueue.shift();if(cr){var We=cr.name?cr.name.toString():null;Le._fullLayout._currentFrame=We,Se._lastFrameAt=Date.now(),Se._timeToNext=cr.frameOpts.duration,s.transition(Le,cr.frame.data,cr.frame.layout,A.coerceTraceIndices(Le,cr.frame.traces),cr.frameOpts,cr.transitionOpts).then(function(){cr.onComplete&&cr.onComplete()}),Le.emit("plotly_animatingframe",{name:We,frame:cr.frame,animation:{frame:cr.frameOpts,transition:cr.transitionOpts}})}else Yt()}function gr(){Le.emit("plotly_animating"),Se._lastFrameAt=-1/0,Se._timeToNext=0,Se._runningTransitions=0,Se._currentFrame=null;var cr=function(){Se._animationRaf=window.requestAnimationFrame(cr),Date.now()-Se._lastFrameAt>Se._timeToNext&&jt()};cr()}var sr=0;function gt(cr){return Array.isArray(Ke)?sr>=Ke.length?cr.transitionOpts=Ke[sr]:cr.transitionOpts=Ke[0]:cr.transitionOpts=Ke,sr++,cr}var st,xt,Mt=[],Rt=Te==null,Vt=Array.isArray(Te),Ct=!Rt&&!Vt&&L.isPlainObject(Te);if(Ct)Mt.push({type:"object",data:gt(L.extendFlat({},Te))});else if(Rt||["string","number"].indexOf(typeof Te)!==-1)for(st=0;st<Se._frames.length;st++)xt=Se._frames[st],xt&&(Rt||String(xt.group)===String(Te))&&Mt.push({type:"byname",name:String(xt.name),data:gt({name:xt.name})});else if(Vt)for(st=0;st<Te.length;st++){var Bt=Te[st];["number","string"].indexOf(typeof Bt)!==-1?(Bt=String(Bt),Mt.push({type:"byname",name:Bt,data:gt({name:Bt})})):L.isPlainObject(Bt)&&Mt.push({type:"object",data:gt(L.extendFlat({},Bt))})}for(st=0;st<Mt.length;st++)if(xt=Mt[st],xt.type==="byname"&&!Se._frameHash[xt.data.name]){L.warn('animate failure: frame not found: "'+xt.data.name+'"'),Wt();return}["next","immediate"].indexOf(ye.mode)!==-1&&vr(),ye.direction==="reverse"&&Mt.reverse();var Xt=Le._fullLayout._currentFrame;if(Xt&&ye.fromcurrent){var ir=-1;for(st=0;st<Mt.length;st++)if(xt=Mt[st],xt.type==="byname"&&xt.name===Xt){ir=st;break}if(ir>0&&ir<Mt.length-1){var or=[];for(st=0;st<Mt.length;st++)xt=Mt[st],(Mt[st].type!=="byname"||st>ir)&&or.push(xt);Mt=or}}Mt.length>0?dt(Mt):(Le.emit("plotly_animated"),Et())})}function Xe(Le,Te,ye){if(Le=L.getGraphDiv(Le),Te==null)return Promise.resolve();if(!L.isPlotDiv(Le))throw new Error("This element is not a Plotly plot: "+Le+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Se,Ke,rt,Lt,It=Le._transitionData._frames,wt=Le._transitionData._frameHash;if(!Array.isArray(Te))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Te);var Et=It.length+Te.length*2,Wt=[],vr={};for(Se=Te.length-1;Se>=0;Se--)if(L.isPlainObject(Te[Se])){var dt=Te[Se].name,Yt=(wt[dt]||vr[dt]||{}).name,jt=Te[Se].name,gr=wt[Yt]||vr[Yt];Yt&&jt&&typeof jt=="number"&&gr&&S<T&&(S++,L.warn('addFrames: overwriting frame "'+(wt[Yt]||vr[Yt]).name+'" with a frame whose name of type "number" also equates to "'+Yt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===T&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vr[dt]={name:dt},Wt.push({frame:s.supplyFrameDefaults(Te[Se]),index:ye&&ye[Se]!==void 0&&ye[Se]!==null?ye[Se]:Et+Se})}Wt.sort(function(Ct,Bt){return Ct.index>Bt.index?-1:Ct.index<Bt.index?1:0});var sr=[],gt=[],st=It.length;for(Se=Wt.length-1;Se>=0;Se--){if(Ke=Wt[Se].frame,typeof Ke.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ke.name)for(;wt[Ke.name="frame "+Le._transitionData._counter++];);if(wt[Ke.name]){for(rt=0;rt<It.length&&(It[rt]||{}).name!==Ke.name;rt++);sr.push({type:"replace",index:rt,value:Ke}),gt.unshift({type:"replace",index:rt,value:It[rt]})}else Lt=Math.max(0,Math.min(Wt[Se].index,st)),sr.push({type:"insert",index:Lt,value:Ke}),gt.unshift({type:"delete",index:Lt}),st++}var xt=s.modifyFrames,Mt=s.modifyFrames,Rt=[Le,gt],Vt=[Le,sr];return y&&y.add(Le,xt,Rt,Mt,Vt),s.modifyFrames(Le,sr)}function Oe(Le,Te){if(Le=L.getGraphDiv(Le),!L.isPlotDiv(Le))throw new Error("This element is not a Plotly plot: "+Le);var ye,Se,Ke=Le._transitionData._frames,rt=[],Lt=[];if(!Te)for(Te=[],ye=0;ye<Ke.length;ye++)Te.push(ye);for(Te=Te.slice(),Te.sort(),ye=Te.length-1;ye>=0;ye--)Se=Te[ye],rt.push({type:"delete",index:Se}),Lt.unshift({type:"insert",index:Se,value:Ke[Se]});var It=s.modifyFrames,wt=s.modifyFrames,Et=[Le,Lt],Wt=[Le,rt];return y&&y.add(Le,It,Et,wt,Wt),s.modifyFrames(Le,rt)}function Ne(Le){Le=L.getGraphDiv(Le);var Te=Le._fullLayout||{},ye=Le._fullData||[];return s.cleanPlot([],{},ye,Te),s.purge(Le),c.purge(Le),Te._container&&Te._container.remove(),delete Le._context,Le}function ze(Le){var Te=Le._fullLayout,ye=Le.getBoundingClientRect();if(!L.equalDomRects(ye,Te._lastBBox)){var Se=Te._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(Le));Te._invScaleX=Math.sqrt(Se[0][0]*Se[0][0]+Se[0][1]*Se[0][1]+Se[0][2]*Se[0][2]),Te._invScaleY=Math.sqrt(Se[1][0]*Se[1][0]+Se[1][1]*Se[1][1]+Se[1][2]*Se[1][2]),Te._lastBBox=ye}}function et(Le){var Te=x.select(Le),ye=Le._fullLayout;if(ye._calcInverseTransform=ze,ye._calcInverseTransform(Le),ye._container=Te.selectAll(".plot-container").data([0]),ye._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),ye._paperdiv=ye._container.selectAll(".svg-container").data([0]),ye._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),ye._glcontainer=ye._paperdiv.selectAll(".gl-container").data([{}]),ye._glcontainer.enter().append("div").classed("gl-container",!0),ye._paperdiv.selectAll(".main-svg").remove(),ye._paperdiv.select(".modebar-container").remove(),ye._paper=ye._paperdiv.insert("svg",":first-child").classed("main-svg",!0),ye._toppaper=ye._paperdiv.append("svg").classed("main-svg",!0),ye._modebardiv=ye._paperdiv.append("div"),delete ye._modeBar,ye._hoverpaper=ye._paperdiv.append("svg").classed("main-svg",!0),!ye._uid){var Se={};x.selectAll("defs").each(function(){this.id&&(Se[this.id.split("-")[1]]=1)}),ye._uid=L.randstr(Se)}ye._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),ye._defs=ye._paper.append("defs").attr("id","defs-"+ye._uid),ye._clips=ye._defs.append("g").classed("clips",!0),ye._topdefs=ye._toppaper.append("defs").attr("id","topdefs-"+ye._uid),ye._topclips=ye._topdefs.append("g").classed("clips",!0),ye._bgLayer=ye._paper.append("g").classed("bglayer",!0),ye._draggers=ye._paper.append("g").classed("draglayer",!0);var Ke=ye._paper.append("g").classed("layer-below",!0);ye._imageLowerLayer=Ke.append("g").classed("imagelayer",!0),ye._shapeLowerLayer=Ke.append("g").classed("shapelayer",!0),ye._cartesianlayer=ye._paper.append("g").classed("cartesianlayer",!0),ye._polarlayer=ye._paper.append("g").classed("polarlayer",!0),ye._smithlayer=ye._paper.append("g").classed("smithlayer",!0),ye._ternarylayer=ye._paper.append("g").classed("ternarylayer",!0),ye._geolayer=ye._paper.append("g").classed("geolayer",!0),ye._funnelarealayer=ye._paper.append("g").classed("funnelarealayer",!0),ye._pielayer=ye._paper.append("g").classed("pielayer",!0),ye._iciclelayer=ye._paper.append("g").classed("iciclelayer",!0),ye._treemaplayer=ye._paper.append("g").classed("treemaplayer",!0),ye._sunburstlayer=ye._paper.append("g").classed("sunburstlayer",!0),ye._indicatorlayer=ye._toppaper.append("g").classed("indicatorlayer",!0),ye._glimages=ye._paper.append("g").classed("glimages",!0);var rt=ye._toppaper.append("g").classed("layer-above",!0);ye._imageUpperLayer=rt.append("g").classed("imagelayer",!0),ye._shapeUpperLayer=rt.append("g").classed("shapelayer",!0),ye._selectionLayer=ye._toppaper.append("g").classed("selectionlayer",!0),ye._infolayer=ye._toppaper.append("g").classed("infolayer",!0),ye._menulayer=ye._toppaper.append("g").classed("menulayer",!0),ye._zoomlayer=ye._toppaper.append("g").classed("zoomlayer",!0),ye._hoverlayer=ye._hoverpaper.append("g").classed("hoverlayer",!0),ye._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Le.emit("plotly_framework")}U.animate=Je,U.addFrames=Xe,U.deleteFrames=Oe,U.addTraces=ie,U.deleteTraces=W,U.extendTraces=K,U.moveTraces=Q,U.prependTraces=j,U.newPlot=_,U._doPlot=a,U.purge=Ne,U.react=ht,U.redraw=F,U.relayout=Ae,U.restyle=ee,U.setPlotConfig=p,U.update=Ze,U._guiRelayout=ke(Ae),U._guiRestyle=ke(ee),U._guiUpdate=ke(Ze),U._storeDirectGUIEdit=te},20556:function(V){"use strict";var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function x(P,i){for(var L in P){var C=P[L];C.valType?i[L]=C.dflt:(i[L]||(i[L]={}),x(C,i[L]))}}x(U,e),V.exports={configAttributes:U,dfltConfig:e}},73060:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(45464),L=e(64859),C=e(16672),c=e(85656),y=e(20556).configAttributes,r=e(67824),t=P.extendDeepAll,s=P.isPlainObject,n=P.isArrayOrTypedArray,u=P.nestedProperty,l=P.valObjectMeta,f="_isSubplotObj",g="_isLinkedToArray",h="_arrayAttrRegexps",w="_deprecated",d=[f,g,h,w];U.IS_SUBPLOT_OBJ=f,U.IS_LINKED_TO_ARRAY=g,U.DEPRECATED=w,U.UNDERSCORE_ATTRS=d,U.get=function(){var B={};x.allTypes.forEach(function(_){B[_]=b(_)});var F={};return Object.keys(x.transformsRegistry).forEach(function(_){F[_]=m(_)}),{defs:{valObjects:l,metaKeys:d.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:B,layout:M(),transforms:F,frames:S(),animation:T(c),config:T(y)}},U.crawl=function(B,F,_,O){var z=_||0;O=O||"",Object.keys(B).forEach(function(N){var Y=B[N];if(d.indexOf(N)===-1){var J=(O?O+".":"")+N;F(Y,N,B,z,J),!U.isValObject(Y)&&s(Y)&&N!=="impliedEdits"&&U.crawl(Y,F,z+1,J)}})},U.isValObject=function(B){return B&&B.valType!==void 0},U.findArrayAttributes=function(B){var F=[],_=[],O=[],z,N;function Y(j,ie,W,Q){_=_.slice(0,Q).concat([ie]),O=O.slice(0,Q).concat([j&&j._isLinkedToArray]);var ee=j&&(j.valType==="data_array"||j.arrayOk===!0)&&!(_[Q-1]==="colorbar"&&(ie==="ticktext"||ie==="tickvals"));ee&&J(z,0,"")}function J(j,ie,W){var Q=j[_[ie]],ee=W+_[ie];if(ie===_.length-1)n(Q)&&F.push(N+ee);else if(O[ie]){if(Array.isArray(Q))for(var $=0;$<Q.length;$++)s(Q[$])&&J(Q[$],ie+1,ee+"["+$+"].")}else s(Q)&&J(Q,ie+1,ee+".")}z=B,N="",U.crawl(i,Y),B._module&&B._module.attributes&&U.crawl(B._module.attributes,Y);var ae=B.transforms;if(ae)for(var se=0;se<ae.length;se++){var ue=ae[se],K=ue._module;K&&(N="transforms["+se+"].",z=ue,U.crawl(K.attributes,Y))}return F},U.getTraceValObject=function(B,F){var _=F[0],O=1,z,N;if(_==="transforms"){if(F.length===1)return i.transforms;var Y=B.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var J=F[1];if(!A(J)||J>=Y.length)return!1;z=(x.transformsRegistry[Y[J].type]||{}).attributes,N=z&&z[F[2]],O=3}else{var ae=B._module;if(ae||(ae=(x.modules[B.type||i.type.dflt]||{})._module),!ae)return!1;if(z=ae.attributes,N=z&&z[_],!N){var se=ae.basePlotModule;se&&se.attributes&&(N=se.attributes[_])}N||(N=i[_])}return v(N,F,O)},U.getLayoutValObject=function(B,F){var _=o(B,F[0]);return v(_,F,1)};function o(B,F){var _,O,z,N,Y=B._basePlotModules;if(Y){var J;for(_=0;_<Y.length;_++){if(z=Y[_],z.attrRegex&&z.attrRegex.test(F)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!J&&z.layoutAttributes&&(J=z.layoutAttributes)}var ae=z.baseLayoutAttrOverrides;if(ae&&F in ae)return ae[F]}if(J)return J}var se=B._modules;if(se){for(_=0;_<se.length;_++)if(N=se[_].layoutAttributes,N&&F in N)return N[F]}for(O in x.componentsRegistry){if(z=x.componentsRegistry[O],z.name==="colorscale"&&F.indexOf("coloraxis")===0)return z.layoutAttributes[F];if(!z.schema&&F===z.name)return z.layoutAttributes}return F in L?L[F]:!1}function v(B,F,_){if(!B)return!1;if(B._isLinkedToArray){if(A(F[_]))_++;else if(_<F.length)return!1}for(;_<F.length;_++){var O=B[F[_]];if(s(O))B=O;else break;if(_===F.length-1)break;if(B._isLinkedToArray){if(_++,!A(F[_]))return!1}else if(B.valType==="info_array"){_++;var z=F[_];if(!A(z))return!1;var N=B.items;if(Array.isArray(N)){if(z>=N.length)return!1;if(B.dimensions===2){if(_++,F.length===_)return B;var Y=F[_];if(!A(Y))return!1;B=N[z][Y]}else B=N[z]}else B=N}}return B}function A(B){return B===Math.round(B)&&B>=0}function b(B){var F,_;F=x.modules[B]._module,_=F.basePlotModule;var O={};O.type=null;var z=t({},i),N=t({},F.attributes);U.crawl(N,function(ae,se,ue,K,j){u(z,j).set(void 0),ae===void 0&&u(N,j).set(void 0)}),t(O,z),x.traceIs(B,"noOpacity")&&delete O.opacity,x.traceIs(B,"showLegend")||(delete O.showlegend,delete O.legendgroup),x.traceIs(B,"noHover")&&(delete O.hoverinfo,delete O.hoverlabel),F.selectPoints||delete O.selectedpoints,t(O,N),_.attributes&&t(O,_.attributes),O.type=B;var Y={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:B,attributes:T(O)};if(F.layoutAttributes){var J={};t(J,F.layoutAttributes),Y.layoutAttributes=T(J)}return F.animatable||U.crawl(Y,function(ae){U.isValObject(ae)&&"anim"in ae&&delete ae.anim}),Y}function M(){var B={},F,_;t(B,L);for(F in x.subplotsRegistry)if(_=x.subplotsRegistry[F],!!_.layoutAttributes)if(Array.isArray(_.attr))for(var O=0;O<_.attr.length;O++)k(B,_,_.attr[O]);else{var z=_.attr==="subplot"?_.name:_.attr;k(B,_,z)}for(F in x.componentsRegistry){_=x.componentsRegistry[F];var N=_.schema;if(N&&(N.subplots||N.layout)){var Y=N.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var J in Y.xaxis)delete B.yaxis[J];delete B.xaxis.shift,delete B.xaxis.autoshift}else _.name==="colorscale"?t(B,_.layoutAttributes):_.layoutAttributes&&R(B,_.layoutAttributes,_.name)}return{layoutAttributes:T(B)}}function m(B){var F=x.transformsRegistry[B],_=t({},F.attributes);return Object.keys(x.componentsRegistry).forEach(function(O){var z=x.componentsRegistry[O];z.schema&&z.schema.transforms&&z.schema.transforms[B]&&Object.keys(z.schema.transforms[B]).forEach(function(N){R(_,z.schema.transforms[B][N],N)})}),{attributes:T(_)}}function S(){var B={frames:t({},C)};return T(B),B.frames}function T(B){return a(B),E(B),p(B),B}function a(B){function F(O){return{valType:"string",editType:"none"}}function _(O,z,N){U.isValObject(O)?(O.arrayOk===!0||O.valType==="data_array")&&(N[z+"src"]=F(z)):s(O)&&(O.role="object")}U.crawl(B,_)}function E(B){function F(_,O,z){if(_){var N=_[g];N&&(delete _[g],z[O]={items:{}},z[O].items[N]=_,z[O].role="object")}}U.crawl(B,F)}function p(B){function F(_){for(var O in _)if(s(_[O]))F(_[O]);else if(Array.isArray(_[O]))for(var z=0;z<_[O].length;z++)F(_[O][z]);else _[O]instanceof RegExp&&(_[O]=_[O].toString())}F(B)}function k(B,F,_){var O=u(B,_),z=t({},F.layoutAttributes);z[f]=!0,O.set(z)}function R(B,F,_){var O=u(B,_);O.set(t(O.get()||{},F))}},31780:function(V,U,e){"use strict";var x=e(3400),P=e(45464),i="templateitemname",L={name:{valType:"string",editType:"none"}};L[i]={valType:"string",editType:"calc"},U.templatedArray=function(y,r){return r._isLinkedToArray=y,r.name=L.name,r[i]=L[i],r},U.traceTemplater=function(y){var r={},t,s;for(t in y)s=y[t],Array.isArray(s)&&s.length&&(r[t]=0);function n(u){t=x.coerce(u,{},P,"type");var l={type:t,_template:null};if(t in r){s=y[t];var f=r[t]%s.length;r[t]++,l._template=s[f]}return l}return{newTrace:n}},U.newContainer=function(y,r,t){var s=y._template,n=s&&(s[r]||t&&s[t]);x.isPlainObject(n)||(n=null);var u=y[r]={_template:n};return u},U.arrayTemplater=function(y,r,t){var s=y._template,n=s&&s[c(r)],u=s&&s[r];(!Array.isArray(u)||!u.length)&&(u=[]);var l={};function f(h){var w={name:h.name,_input:h},d=w[i]=h[i];if(!C(d))return w._template=n,w;for(var o=0;o<u.length;o++){var v=u[o];if(v.name===d)return l[d]=1,w._template=v,w}return w[t]=h[t]||!1,w._template=!1,w}function g(){for(var h=[],w=0;w<u.length;w++){var d=u[w],o=d.name;if(C(o)&&!l[o]){var v={_template:d,name:o,_input:{_templateitemname:o}};v[i]=d[i],h.push(v),l[o]=1}}return h}return{newItem:f,defaultItems:g}};function C(y){return y&&typeof y=="string"}function c(y){var r=y.length-1;return y.charAt(r)!=="s"&&x.warn("bad argument to arrayDefaultKey: "+y),y.substr(0,y.length-1)+"defaults"}U.arrayDefaultKey=c,U.arrayEditor=function(y,r,t){var s=(x.nestedProperty(y,r).get()||[]).length,n=t._index,u=n>=s&&(t._input||{})._templateitemname;u&&(n=s);var l=r+"["+n+"]",f;function g(){f={},u&&(f[l]={},f[l][i]=u)}g();function h(v,A){f[v]=A}function w(v,A){u?x.nestedProperty(f[l],v).set(A):f[l+"."+v]=A}function d(){var v=f;return g(),v}function o(v,A){v&&w(v,A);var b=d();for(var M in b)x.nestedProperty(y,M).set(b[M])}return{modifyBase:h,modifyItem:w,getUpdateObj:d,applyUpdate:o}}},39172:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(7316),L=e(3400),C=e(72736),c=e(73696),y=e(76308),r=e(43616),t=e(81668),s=e(45460),n=e(54460),u=e(84284),l=e(71888),f=l.enforce,g=l.clean,h=e(19280).doAutoRange,w="start",d="middle",o="end";U.layoutStyles=function(_){return L.syncOrAsync([i.doAutoMargin,A],_)};function v(_,O,z){for(var N=0;N<z.length;N++){var Y=z[N][0],J=z[N][1];if(!(Y[0]>=_[1]||Y[1]<=_[0])&&J[0]<O[1]&&J[1]>O[0])return!0}return!1}function A(_){var O=_._fullLayout,z=O._size,N=z.p,Y=n.list(_,"",!0),J,ae,se,ue,K,j;if(O._paperdiv.style({width:_._context.responsive&&O.autosize&&!_._context._hasZeroWidth&&!_.layout.width?"100%":O.width+"px",height:_._context.responsive&&O.autosize&&!_._context._hasZeroHeight&&!_.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(r.setSize,O.width,O.height),_._context.setBackground(_,O.paper_bgcolor),U.drawMainTitle(_),s.manage(_),!O._has("cartesian"))return i.previousPromises(_);function ie(Ne,ze,et){var Le=Ne._lw/2;if(Ne._id.charAt(0)==="x"){if(ze){if(et==="top")return ze._offset-N-Le}else return z.t+z.h*(1-(Ne.position||0))+Le%1;return ze._offset+ze._length+N+Le}if(ze){if(et==="right")return ze._offset+ze._length+N+Le}else return z.l+z.w*(Ne.position||0)+Le%1;return ze._offset-N-Le}for(J=0;J<Y.length;J++){ue=Y[J];var W=ue._anchorAxis;ue._linepositions={},ue._lw=r.crispRound(_,ue.linewidth,1),ue._mainLinePosition=ie(ue,W,ue.side),ue._mainMirrorPosition=ue.mirror&&W?ie(ue,W,u.OPPOSITE_SIDE[ue.side]):null}var Q=[],ee=[],$=[],X=y.opacity(O.paper_bgcolor)===1&&y.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(ae in O._plots)if(se=O._plots[ae],se.mainplot)se.bg&&se.bg.remove(),se.bg=void 0;else{var oe=se.xaxis.domain,te=se.yaxis.domain,fe=se.plotgroup;if(v(oe,te,$)){var pe=fe.node(),Ae=se.bg=L.ensureSingle(fe,"rect","bg");pe.insertBefore(Ae.node(),pe.childNodes[0]),ee.push(ae)}else fe.select("rect.bg").remove(),$.push([oe,te]),X||(Q.push(ae),ee.push(ae))}var be=O._bgLayer.selectAll(".bg").data(Q);for(be.enter().append("rect").classed("bg",!0),be.exit().remove(),be.each(function(Ne){O._plots[Ne].bg=x.select(this)}),J=0;J<ee.length;J++)se=O._plots[ee[J]],K=se.xaxis,j=se.yaxis,se.bg&&K._offset!==void 0&&j._offset!==void 0&&se.bg.call(r.setRect,K._offset-N,j._offset-N,K._length+2*N,j._length+2*N).call(y.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(ae in O._plots){se=O._plots[ae],K=se.xaxis,j=se.yaxis;var Pe=se.clipId="clip"+O._uid+ae+"plot",me=L.ensureSingleById(O._clips,"clipPath",Pe,function(Ne){Ne.classed("plotclip",!0).append("rect")});se.clipRect=me.select("rect").attr({width:K._length,height:j._length}),r.setTranslate(se.plot,K._offset,j._offset);var Ee,xe;se._hasClipOnAxisFalse?(Ee=null,xe=Pe):(Ee=Pe,xe=null),r.setClipUrl(se.plot,Ee,_),se.layerClipId=xe}var De,Ve,Ze,ke,Ye,lt,yt,He,Fe,nt,ot,ct,ht;function mt(Ne){return"M"+De+","+Ne+"H"+Ve}function tt(Ne){return"M"+K._offset+","+Ne+"h"+K._length}function Re(Ne){return"M"+Ne+","+He+"V"+yt}function Ge(Ne){return j._shift!==void 0&&(Ne+=j._shift),"M"+Ne+","+j._offset+"v"+j._length}function Je(Ne,ze,et){if(!Ne.showline||ae!==Ne._mainSubplot)return"";if(!Ne._anchorAxis)return et(Ne._mainLinePosition);var Le=ze(Ne._mainLinePosition);return Ne.mirror&&(Le+=ze(Ne._mainMirrorPosition)),Le}for(ae in O._plots){se=O._plots[ae],K=se.xaxis,j=se.yaxis;var Xe="M0,0";b(K,ae)&&(Ye=m(K,"left",j,Y),De=K._offset-(Ye?N+Ye:0),lt=m(K,"right",j,Y),Ve=K._offset+K._length+(lt?N+lt:0),Ze=ie(K,j,"bottom"),ke=ie(K,j,"top"),ht=!K._anchorAxis||ae!==K._mainSubplot,ht&&(K.mirror==="allticks"||K.mirror==="all")&&(K._linepositions[ae]=[Ze,ke]),Xe=Je(K,mt,tt),ht&&K.showline&&(K.mirror==="all"||K.mirror==="allticks")&&(Xe+=mt(Ze)+mt(ke)),se.xlines.style("stroke-width",K._lw+"px").call(y.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),se.xlines.attr("d",Xe);var Oe="M0,0";b(j,ae)&&(ot=m(j,"bottom",K,Y),yt=j._offset+j._length+(ot?N:0),ct=m(j,"top",K,Y),He=j._offset-(ct?N:0),Fe=ie(j,K,"left"),nt=ie(j,K,"right"),ht=!j._anchorAxis||ae!==j._mainSubplot,ht&&(j.mirror==="allticks"||j.mirror==="all")&&(j._linepositions[ae]=[Fe,nt]),Oe=Je(j,Re,Ge),ht&&j.showline&&(j.mirror==="all"||j.mirror==="allticks")&&(Oe+=Re(Fe)+Re(nt)),se.ylines.style("stroke-width",j._lw+"px").call(y.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),se.ylines.attr("d",Oe)}return n.makeClipPaths(_),i.previousPromises(_)}function b(_,O){return(_.ticks||_.showline)&&(O===_._mainSubplot||_.mirror==="all"||_.mirror==="allticks")}function M(_,O,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var N=z._anchorAxis;if(!N)return!1;var Y=u.FROM_BL[O];return z.side===O?N.domain[Y]===_.domain[Y]:z.mirror&&N.domain[1-Y]===_.domain[1-Y]}function m(_,O,z,N){if(M(_,O,z))return z._lw;for(var Y=0;Y<N.length;Y++){var J=N[Y];if(J._mainAxis===z._mainAxis&&M(_,O,J))return J._lw}return 0}U.drawMainTitle=function(_){var O=_._fullLayout.title,z=_._fullLayout,N=B(z),Y=F(z),J=k(z,Y),ae=p(z,N);if(t.draw(_,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:ae,y:J,"text-anchor":N,dy:Y}}),O.text&&O.automargin){var se=x.selectAll(".gtitle"),ue=r.bBox(se.node()).height,K=a(_,O,ue);if(K>0){E(_,J,K,ue),se.attr({x:ae,y:J,"text-anchor":N,dy:R(O.yanchor)}).call(C.positionText,ae,J);var j=(O.text.match(C.BR_TAG_ALL)||[]).length;if(j){var ie=u.LINE_SPACING*j+u.MID_SHIFT;O.y===0&&(ie=-ie),se.selectAll(".line").each(function(){var W=+this.getAttribute("dy").slice(0,-2)-ie+"em";this.setAttribute("dy",W)})}}}};function S(_,O,z,N,Y){var J=O.yref==="paper"?_._fullLayout._size.h:_._fullLayout.height,ae=L.isTopAnchor(O)?N:N-Y,se=z==="b"?J-ae:ae;return L.isTopAnchor(O)&&z==="t"||L.isBottomAnchor(O)&&z==="b"?!1:se<Y}function T(_,O,z,N,Y){var J=0;return z==="middle"&&(J+=Y/2),_==="t"?(z==="top"&&(J+=Y),J+=N-O*N):(z==="bottom"&&(J+=Y),J+=O*N),J}function a(_,O,z){var N=O.y,Y=O.yanchor,J=N>.5?"t":"b",ae=_._fullLayout.margin[J],se=0;return O.yref==="paper"?se=z+O.pad.t+O.pad.b:O.yref==="container"&&(se=T(J,N,Y,_._fullLayout.height,z)+O.pad.t+O.pad.b),se>ae?se:0}function E(_,O,z,N){var Y="title.automargin",J=_._fullLayout.title,ae=J.y>.5?"t":"b",se={x:J.x,y:J.y,t:0,b:0},ue={};J.yref==="paper"&&S(_,J,ae,O,N)?se[ae]=z:J.yref==="container"&&(ue[ae]=z,_._fullLayout._reservedMargin[Y]=ue),i.allowAutoMargin(_,Y),i.autoMargin(_,Y,se)}function p(_,O){var z=_.title,N=_._size,Y=0;switch(O===w?Y=z.pad.l:O===o&&(Y=-z.pad.r),z.xref){case"paper":return N.l+N.w*z.x+Y;case"container":default:return _.width*z.x+Y}}function k(_,O){var z=_.title,N=_._size,Y=0;if(O==="0em"||!O?Y=-z.pad.b:O===u.CAP_SHIFT+"em"&&(Y=z.pad.t),z.y==="auto")return N.t/2;switch(z.yref){case"paper":return N.t+N.h-N.h*z.y+Y;case"container":default:return _.height-_.height*z.y+Y}}function R(_){return _==="top"?u.CAP_SHIFT+.3+"em":_==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function B(_){var O=_.title,z=d;return L.isRightAnchor(O)?z=o:L.isLeftAnchor(O)&&(z=w),z}function F(_){var O=_.title,z="0em";return L.isTopAnchor(O)?z=u.CAP_SHIFT+"em":L.isMiddleAnchor(O)&&(z=u.MID_SHIFT+"em"),z}U.doTraceStyle=function(_){var O=_.calcdata,z=[],N;for(N=0;N<O.length;N++){var Y=O[N],J=Y[0]||{},ae=J.trace||{},se=ae._module||{},ue=se.arraysToCalcdata;ue&&ue(Y,ae);var K=se.editStyle;K&&z.push({fn:K,cd0:J})}if(z.length){for(N=0;N<z.length;N++){var j=z[N];j.fn(_,j.cd0)}c(_),U.redrawReglTraces(_)}return i.style(_),P.getComponentMethod("legend","draw")(_),i.previousPromises(_)},U.doColorBars=function(_){return P.getComponentMethod("colorbar","draw")(_),i.previousPromises(_)},U.layoutReplot=function(_){var O=_.layout;return _.layout=void 0,P.call("_doPlot",_,"",O)},U.doLegend=function(_){return P.getComponentMethod("legend","draw")(_),i.previousPromises(_)},U.doTicksRelayout=function(_){return n.draw(_,"redraw"),_._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(_),c(_),U.redrawReglTraces(_)),U.drawMainTitle(_),i.previousPromises(_)},U.doModeBar=function(_){var O=_._fullLayout;s.manage(_);for(var z=0;z<O._basePlotModules.length;z++){var N=O._basePlotModules[z].updateFx;N&&N(_)}return i.previousPromises(_)},U.doCamera=function(_){for(var O=_._fullLayout,z=O._subplots.gl3d,N=0;N<z.length;N++){var Y=O[z[N]],J=Y._scene;J.setViewport(Y)}},U.drawData=function(_){var O=_._fullLayout;c(_);for(var z=O._basePlotModules,N=0;N<z.length;N++)z[N].plot(_);return U.redrawReglTraces(_),i.style(_),P.getComponentMethod("selections","draw")(_),P.getComponentMethod("shapes","draw")(_),P.getComponentMethod("annotations","draw")(_),P.getComponentMethod("images","draw")(_),O._replotting=!1,i.previousPromises(_)},U.redrawReglTraces=function(_){var O=_._fullLayout;if(O._has("regl")){var z=_._fullData,N=[],Y=[],J,ae;for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),J=0;J<z.length;J++){var se=z[J];se.visible===!0&&se._length!==0&&(se.type==="splom"?O._splomScenes[se.uid].draw():se.type==="scattergl"?L.pushUnique(N,se.xaxis+se.yaxis):se.type==="scatterpolargl"&&L.pushUnique(Y,se.subplot))}for(J=0;J<N.length;J++)ae=O._plots[N[J]],ae._scene&&ae._scene.draw();for(J=0;J<Y.length;J++)ae=O[Y[J]]._subplot,ae._scene&&ae._scene.draw()}},U.doAutoRangeAndConstraints=function(_){for(var O=n.list(_,"",!0),z,N={},Y=0;Y<O.length;Y++)if(z=O[Y],!N[z._id]){N[z._id]=1,g(_,z),h(_,z);var J=z._matchGroup;if(J)for(var ae in J){var se=n.getFromId(_,ae);h(_,se,z.range),N[ae]=1}}f(_)},U.finalDraw=function(_){P.getComponentMethod("rangeslider","draw")(_),P.getComponentMethod("rangeselector","draw")(_)},U.drawMarginPushers=function(_){P.getComponentMethod("legend","draw")(_),P.getComponentMethod("rangeselector","draw")(_),P.getComponentMethod("sliders","draw")(_),P.getComponentMethod("updatemenus","draw")(_),P.getComponentMethod("colorbar","draw")(_)}},94828:function(V,U,e){"use strict";var x=e(3400),P=x.isPlainObject,i=e(73060),L=e(7316),C=e(45464),c=e(31780),y=e(20556).dfltConfig;U.makeTemplate=function(h){h=x.isPlainObject(h)?h:x.getGraphDiv(h),h=x.extendDeep({_context:y},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var w=h.data||[],d=h.layout||{};d._basePlotModules=h._fullLayout._basePlotModules,d._modules=h._fullLayout._modules;var o={data:{},layout:{}};w.forEach(function(p){var k={};s(p,k,u.bind(null,p));var R=x.coerce(p,{},C,"type"),B=o.data[R];B||(B=o.data[R]=[]),B.push(k)}),s(d,o.layout,n.bind(null,d)),delete o.layout.template;var v=d.template;if(P(v)){var A=v.layout,b,M,m,S,T,a;P(A)&&r(A,o.layout);var E=v.data;if(P(E)){for(M in o.data)if(m=E[M],Array.isArray(m)){for(T=o.data[M],a=T.length,S=m.length,b=0;b<a;b++)r(m[b%S],T[b]);for(b=a;b<S;b++)T.push(x.extendDeep({},m[b]))}for(M in E)M in o.data||(o.data[M]=x.extendDeep([],E[M]))}}return o};function r(h,w){h=x.extendDeep({},h);var d=Object.keys(h).sort(),o,v;function A(T,a,E){if(P(a)&&P(T))r(T,a);else if(Array.isArray(a)&&Array.isArray(T)){var p=c.arrayTemplater({_template:h},E);for(v=0;v<a.length;v++){var k=a[v],R=p.newItem(k)._template;R&&r(R,k)}var B=p.defaultItems();for(v=0;v<B.length;v++)a.push(B[v]._template);for(v=0;v<a.length;v++)delete a[v].templateitemname}}for(o=0;o<d.length;o++){var b=d[o],M=h[b];if(b in w?A(M,w[b],b):w[b]=M,t(b)===b)for(var m in w){var S=t(m);m!==S&&S===b&&!(m in h)&&A(M,w[m],b)}}}function t(h){return h.replace(/[0-9]+$/,"")}function s(h,w,d,o,v){var A=v&&d(v);for(var b in h){var M=h[b],m=l(h,b,o),S=l(h,b,v),T=d(S);if(!T){var a=t(b);a!==b&&(S=l(h,a,v),T=d(S))}if(!(A&&A===T)&&!(!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(M)))if(!T.valType&&P(M))s(M,w,d,m,S);else if(T._isLinkedToArray&&Array.isArray(M))for(var E=!1,p=0,k={},R=0;R<M.length;R++){var B=M[R];if(P(B)){var F=B.name;if(F)k[F]||(s(B,w,d,l(M,p,m),l(M,p,S)),p++,k[F]=1);else if(!E){var _=c.arrayDefaultKey(b),O=l(h,_,o),z=l(M,p,m);s(B,w,d,z,l(M,p,S));var N=x.nestedProperty(w,z),Y=x.nestedProperty(w,O);Y.set(N.get()),N.set(null),E=!0}}}else{var J=x.nestedProperty(w,m);J.set(M)}}}function n(h,w){return i.getLayoutValObject(h,x.nestedProperty({},w).parts)}function u(h,w){return i.getTraceValObject(h,x.nestedProperty({},w).parts)}function l(h,w,d){var o;return d?Array.isArray(h)?o=d+"["+w+"]":o=d+"."+w:o=w,o}U.validateTemplate=function(h,w){var d=x.extendDeep({},{_context:y,data:h.data,layout:h.layout}),o=d.layout||{};P(w)||(w=o.template||{});var v=w.layout,A=w.data,b=[];d.layout=o,d.layout.template=w,L.supplyDefaults(d);var M=d._fullLayout,m=d._fullData,S={};function T(O,z){for(var N in O)if(N.charAt(0)!=="_"&&P(O[N])){var Y=t(N),J=[],ae;for(ae=0;ae<z.length;ae++)J.push(l(O,N,z[ae])),Y!==N&&J.push(l(O,Y,z[ae]));for(ae=0;ae<J.length;ae++)S[J[ae]]=1;T(O[N],J)}}function a(O,z){for(var N in O)if(N.indexOf("defaults")===-1&&P(O[N])){var Y=l(O,N,z);S[Y]?a(O[N],Y):b.push({code:"unused",path:Y})}}if(P(v)?(T(M,["layout"]),a(v,"layout")):b.push({code:"layout"}),!P(A))b.push({code:"data"});else{for(var E={},p,k=0;k<m.length;k++){var R=m[k];p=R.type,E[p]=(E[p]||0)+1,R._fullInput._template||b.push({code:"missing",index:R._fullInput.index,traceType:p})}for(p in A){var B=A[p].length,F=E[p]||0;B>F?b.push({code:"unused",traceType:p,templateCount:B,dataCount:F}):F>B&&b.push({code:"reused",traceType:p,templateCount:B,dataCount:F})}}function _(O,z){for(var N in O)if(N.charAt(0)!=="_"){var Y=O[N],J=l(O,N,z);P(Y)?(Array.isArray(O)&&Y._template===!1&&Y.templateitemname&&b.push({code:"missing",path:J,templateitemname:Y.templateitemname}),_(Y,J)):Array.isArray(Y)&&f(Y)&&_(Y,J)}}if(_({data:m,layout:M},""),b.length)return b.map(g)};function f(h){for(var w=0;w<h.length;w++)if(P(h[w]))return!0}function g(h){var w;switch(h.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":h.path?w="There are no templates for item "+h.path+" with name "+h.templateitemname:w="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?w="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?w="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":w="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=w,h}},67024:function(V,U,e){"use strict";var x=e(38248),P=e(36424),i=e(7316),L=e(3400),C=e(81792),c=e(37164),y=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(n,u){u=u||{};var l,f,g,h;L.isPlainObject(n)?(l=n.data||[],f=n.layout||{},g=n.config||{},h={}):(n=L.getGraphDiv(n),l=L.extendDeep([],n.data),f=L.extendDeep({},n.layout),g=n._context,h=n._fullLayout||{});function w(F){return!(F in u)||L.validate(u[F],t[F])}if(!w("width")&&u.width!==null||!w("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!w("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var d={};function o(F,_){return L.coerce(u,d,t,F,_)}var v=o("format"),A=o("width"),b=o("height"),M=o("scale"),m=o("setBackground"),S=o("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var a=L.extendFlat({},f);A?a.width=A:u.width===null&&x(h.width)&&(a.width=h.width),b?a.height=b:u.height===null&&x(h.height)&&(a.height=h.height);var E=L.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),p=C.getRedrawFunc(T);function k(){return new Promise(function(F){setTimeout(F,C.getDelay(T._fullLayout))})}function R(){return new Promise(function(F,_){var O=c(T,v,M),z=T._fullLayout.width,N=T._fullLayout.height;function Y(){P.purge(T),document.body.removeChild(T)}if(v==="full-json"){var J=i.graphJson(T,!1,"keepdata","object",!0,!0);return J.version=r,J=JSON.stringify(J),Y(),F(S?J:C.encodeJSON(J))}if(Y(),v==="svg")return F(S?O:C.encodeSVG(O));var ae=document.createElement("canvas");ae.id=L.randstr(),y({format:v,width:z,height:N,scale:M,canvas:ae,svg:O,promise:!0}).then(F).catch(_)})}function B(F){return S?F.replace(C.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,_){P.newPlot(T,l,a,E).then(p).then(k).then(R).then(function(O){F(B(O))}).catch(function(O){_(O)})})}V.exports=s},21480:function(V,U,e){"use strict";var x=e(3400),P=e(7316),i=e(73060),L=e(20556).dfltConfig,C=x.isPlainObject,c=Array.isArray,y=x.isArrayOrTypedArray;V.exports=function(o,v){o===void 0&&(o=[]),v===void 0&&(v={});var A=i.get(),b=[],M={_context:x.extendFlat({},L)},m,S;c(o)?(M.data=x.extendDeep([],o),m=o):(M.data=[],m=[],b.push(u("array","data"))),C(v)?(M.layout=x.extendDeep({},v),S=v):(M.layout={},S={},arguments.length>1&&b.push(u("object","layout"))),P.supplyDefaults(M);for(var T=M._fullData,a=m.length,E=0;E<a;E++){var p=m[E],k=["data",E];if(!C(p)){b.push(u("object",k));continue}var R=T[E],B=R.type,F=A.traces[B].attributes;F.type={valType:"enumerated",values:[B]},R.visible===!1&&p.visible!==!1&&b.push(u("invisible",k)),r(p,R,F,b,k);var _=p.transforms,O=R.transforms;if(_){c(_)||b.push(u("array",k,["transforms"])),k.push("transforms");for(var z=0;z<_.length;z++){var N=["transforms",z],Y=_[z].type;if(!C(_[z])){b.push(u("object",k,N));continue}var J=A.transforms[Y]?A.transforms[Y].attributes:{};J.type={valType:"enumerated",values:Object.keys(A.transforms)},r(_[z],O[z],J,b,k,N)}}}var ae=M._fullLayout,se=t(A,T);return r(S,ae,se,b,"layout"),b.length===0?void 0:b};function r(d,o,v,A,b,M){M=M||[];for(var m=Object.keys(d),S=0;S<m.length;S++){var T=m[S];if(T!=="transforms"){var a=M.slice();a.push(T);var E=d[T],p=o[T],k=f(v,T),R=(k||{}).valType,B=R==="info_array",F=R==="colorscale",_=(k||{}).items;if(!l(v,T))A.push(u("schema",b,a));else if(C(E)&&C(p)&&R!=="any")r(E,p,k,A,b,a);else if(B&&c(E)){E.length>p.length&&A.push(u("unused",b,a.concat(p.length)));var O=p.length,z=Array.isArray(_);z&&(O=Math.min(O,_.length));var N,Y,J,ae,se;if(k.dimensions===2)for(Y=0;Y<O;Y++)if(c(E[Y])){E[Y].length>p[Y].length&&A.push(u("unused",b,a.concat(Y,p[Y].length)));var ue=p[Y].length;for(N=0;N<(z?Math.min(ue,_[Y].length):ue);N++)J=z?_[Y][N]:_,ae=E[Y][N],se=p[Y][N],x.validate(ae,J)?se!==ae&&se!==+ae&&A.push(u("dynamic",b,a.concat(Y,N),ae,se)):A.push(u("value",b,a.concat(Y,N),ae))}else A.push(u("array",b,a.concat(Y),E[Y]));else for(Y=0;Y<O;Y++)J=z?_[Y]:_,ae=E[Y],se=p[Y],x.validate(ae,J)?se!==ae&&se!==+ae&&A.push(u("dynamic",b,a.concat(Y),ae,se)):A.push(u("value",b,a.concat(Y),ae))}else if(k.items&&!B&&c(E)){var K=_[Object.keys(_)[0]],j=[],ie,W;for(ie=0;ie<p.length;ie++){var Q=p[ie]._index||ie;if(W=a.slice(),W.push(Q),C(E[Q])&&C(p[ie])){j.push(Q);var ee=E[Q],$=p[ie];C(ee)&&ee.visible!==!1&&$.visible===!1?A.push(u("invisible",b,W)):r(ee,$,K,A,b,W)}}for(ie=0;ie<E.length;ie++)W=a.slice(),W.push(ie),C(E[ie])?j.indexOf(ie)===-1&&A.push(u("unused",b,W)):A.push(u("object",b,W,E[ie]))}else!C(E)&&C(p)?A.push(u("object",b,a,E)):!y(E)&&y(p)&&!B&&!F?A.push(u("array",b,a,E)):T in o?x.validate(E,k)?k.valType==="enumerated"&&(k.coerceNumber&&E!==+p||E!==p)&&A.push(u("dynamic",b,a,E,p)):A.push(u("value",b,a,E)):A.push(u("unused",b,a,E))}}return A}function t(d,o){for(var v=d.layout.layoutAttributes,A=0;A<o.length;A++){var b=o[A],M=d.traces[b.type],m=M.layoutAttributes;m&&(b.subplot?x.extendFlat(v[M.attributes.subplot.dflt],m):x.extendFlat(v,m))}return v}var s={object:function(d,o){var v;return d==="layout"&&o===""?v="The layout argument":d[0]==="data"&&o===""?v="Trace "+d[1]+" in the data argument":v=n(d)+"key "+o,v+" must be linked to an object container"},array:function(d,o){var v;return d==="data"?v="The data argument":v=n(d)+"key "+o,v+" must be linked to an array container"},schema:function(d,o){return n(d)+"key "+o+" is not part of the schema"},unused:function(d,o,v){var A=C(v)?"container":"key";return n(d)+A+" "+o+" did not get coerced"},dynamic:function(d,o,v,A){return[n(d)+"key",o,"(set to '"+v+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(d,o){return(o?n(d)+"item "+o:"Trace "+d[1])+" got defaulted to be not visible"},value:function(d,o,v){return[n(d)+"key "+o,"is set to an invalid value ("+v+")"].join(" ")}};function n(d){return c(d)?"In data trace "+d[1]+", ":"In "+d+", "}function u(d,o,v,A,b){v=v||"";var M,m;c(o)?(M=o[0],m=o[1]):(M=o,m=null);var S=w(v),T=s[d](o,S,A,b);return x.log(T),{code:d,container:M,trace:m,path:v,astr:S,msg:T}}function l(d,o){var v=h(o),A=v.keyMinusId,b=v.id;return A in d&&d[A]._isSubplotObj&&b?!0:o in d}function f(d,o){if(o in d)return d[o];var v=h(o);return d[v.keyMinusId]}var g=x.counterRegex("([a-z]+)");function h(d){var o=d.match(g);return{keyMinusId:o&&o[1],id:o&&o[2]}}function w(d){if(!c(d))return String(d);for(var o="",v=0;v<d.length;v++){var A=d[v];typeof A=="number"?o=o.substr(0,o.length-1)+"["+A+"]":o+=A,v<d.length-1&&(o+=".")}return o}},85656:function(V){"use strict";V.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(V,U,e){"use strict";var x=e(3400),P=e(31780);V.exports=function(L,C,c){var y=c.name,r=c.inclusionAttr||"visible",t=C[y],s=x.isArrayOrTypedArray(L[y])?L[y]:[],n=C[y]=[],u=P.arrayTemplater(C,y,r),l,f;for(l=0;l<s.length;l++){var g=s[l];x.isPlainObject(g)?f=u.newItem(g):(f=u.newItem({}),f[r]=!1),f._index=l,f[r]!==!1&&c.handleItemDefaults(g,f,C,c),n.push(f)}var h=u.defaultItems();for(l=0;l<h.length;l++)f=h[l],f._index=n.length,c.handleItemDefaults({},f,C,c,{}),n.push(f);if(x.isArrayOrTypedArray(t)){var w=Math.min(t.length,n.length);for(l=0;l<w;l++)x.relinkPrivateKeys(n[l],t[l])}return n}},45464:function(V,U,e){"use strict";var x=e(25376),P=e(55756);V.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:x({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=P.dateTime2ms,L=P.incrementMonth,C=e(39032),c=C.ONEAVGMONTH;V.exports=function(r,t,s,n){if(t.type!=="date")return{vals:n};var u=r[s+"periodalignment"];if(!u)return{vals:n};var l=r[s+"period"],f;if(x(l)){if(l=+l,l<=0)return{vals:n}}else if(typeof l=="string"&&l.charAt(0)==="M"){var g=+l.substring(1);if(g>0&&Math.round(g)===g)f=g;else return{vals:n}}for(var h=t.calendar,w=u==="start",d=u==="end",o=r[s+"period0"],v=i(o,h)||0,A=[],b=[],M=[],m=n.length,S=0;S<m;S++){var T=n[S],a,E,p;if(f){for(a=Math.round((T-v)/(f*c)),p=L(v,f*a,h);p>T;)p=L(p,-f,h);for(;p<=T;)p=L(p,f,h);E=L(p,-f,h)}else{for(a=Math.round((T-v)/l),p=v+a*l;p>T;)p-=l;for(;p<=T;)p+=l;E=p-l}A[S]=w?E:d?p:(E+p)/2,b[S]=E,M[S]=p}return{vals:A,starts:b,ends:M}}},26720:function(V){"use strict";V.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(3400),L=e(39032).FP_SAFE,C=e(24040),c=e(43616),y=e(79811),r=y.getFromId,t=y.isLinked;V.exports={applyAutorangeOptions:a,getAutoRange:s,makePadFn:u,doAutoRange:h,findExtremes:w,concatExtremes:g};function s(E,p){var k,R,B=[],F=E._fullLayout,_=u(F,p,0),O=u(F,p,1),z=g(E,p),N=z.min,Y=z.max;if(N.length===0||Y.length===0)return i.simpleMap(p.range,p.r2l);var J=N[0].val,ae=Y[0].val;for(k=1;k<N.length&&J===ae;k++)J=Math.min(J,N[k].val);for(k=1;k<Y.length&&J===ae;k++)ae=Math.max(ae,Y[k].val);var se=p.autorange,ue=se==="reversed"||se==="min reversed"||se==="max reversed";if(!ue&&p.range){var K=i.simpleMap(p.range,p.r2l);ue=K[1]<K[0]}p.autorange==="reversed"&&(p.autorange=!0);var j=p.rangemode,ie=j==="tozero",W=j==="nonnegative",Q=p._length,ee=Q/10,$=0,X,oe,te,fe,pe,Ae;for(k=0;k<N.length;k++)for(X=N[k],R=0;R<Y.length;R++)oe=Y[R],Ae=oe.val-X.val-n(p,X.val,oe.val),Ae>0&&(pe=Q-_(X)-O(oe),pe>ee?Ae/pe>$&&(te=X,fe=oe,$=Ae/pe):Ae/Q>$&&(te={val:X.val,nopad:1},fe={val:oe.val,nopad:1},$=Ae/Q));function be(De,Ve){return Math.max(De,O(Ve))}if(J===ae){var Pe=J-1,me=J+1;if(ie)if(J===0)B=[0,1];else{var Ee=(J>0?Y:N).reduce(be,0),xe=J/(1-Math.min(.5,Ee/Q));B=J>0?[0,xe]:[xe,0]}else W?B=[Math.max(0,Pe),Math.max(1,me)]:B=[Pe,me]}else ie?(te.val>=0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):W&&(te.val-$*_(te)<0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),$=(fe.val-te.val-n(p,X.val,oe.val))/(Q-_(te)-O(fe)),B=[te.val-$*_(te),fe.val+$*O(fe)];return B=a(B,p),p.limitRange&&p.limitRange(),ue&&B.reverse(),i.simpleMap(B,p.l2r||Number)}function n(E,p,k){var R=0;if(E.rangebreaks)for(var B=E.locateBreaks(p,k),F=0;F<B.length;F++){var _=B[F];R+=_.max-_.min}return R}function u(E,p,k){var R=.05*p._length,B=p._anchorAxis||{};if((p.ticklabelposition||"").indexOf("inside")!==-1||(B.ticklabelposition||"").indexOf("inside")!==-1){var F=p.isReversed();if(!F){var _=i.simpleMap(p.range,p.r2l);F=_[1]<_[0]}F&&(k=!k)}var O=0;return t(E,p._id)||(O=f(E,p,k)),R=Math.max(O,R),p.constrain==="domain"&&p._inputDomain&&(R*=(p._inputDomain[1]-p._inputDomain[0])/(p.domain[1]-p.domain[0])),function(N){return N.nopad?0:N.pad+(N.extrapad?R:O)}}var l=3;function f(E,p,k){var R=0,B=p._id.charAt(0)==="x";for(var F in E._plots){var _=E._plots[F];if(!(p._id!==_.xaxis._id&&p._id!==_.yaxis._id)){var O=(B?_.yaxis:_.xaxis)||{};if((O.ticklabelposition||"").indexOf("inside")!==-1&&(!k&&(O.side==="left"||O.side==="bottom")||k&&(O.side==="top"||O.side==="right"))){if(O._vals){var z=i.deg2rad(O._tickAngles[O._id+"tick"]||0),N=Math.abs(Math.cos(z)),Y=Math.abs(Math.sin(z));if(!O._vals[0].bb){var J=O._id+"tick",ae=O._selections[J];ae.each(function(W){var Q=x.select(this),ee=Q.select(".text-math-group");ee.empty()&&(W.bb=c.bBox(Q.node()))})}for(var se=0;se<O._vals.length;se++){var ue=O._vals[se],K=ue.bb;if(K){var j=2*l+K.width,ie=2*l+K.height;R=Math.max(R,B?Math.max(j*N,ie*Y):Math.max(ie*N,j*Y))}}}O.ticks==="inside"&&O.ticklabelposition==="inside"&&(R+=O.ticklen||0)}}}return R}function g(E,p,k){var R=p._id,B=E._fullData,F=E._fullLayout,_=[],O=[],z,N,Y;function J(j,ie){for(z=0;z<ie.length;z++){var W=j[ie[z]],Q=(W._extremes||{})[R];if(W.visible===!0&&Q){for(N=0;N<Q.min.length;N++)Y=Q.min[N],d(_,Y.val,Y.pad,{extrapad:Y.extrapad});for(N=0;N<Q.max.length;N++)Y=Q.max[N],o(O,Y.val,Y.pad,{extrapad:Y.extrapad})}}}if(J(B,p._traceIndices),J(F.annotations||[],p._annIndices||[]),J(F.shapes||[],p._shapeIndices||[]),p._matchGroup&&!k){for(var ae in p._matchGroup)if(ae!==p._id){var se=r(E,ae),ue=g(E,se,!0),K=p._length/se._length;for(N=0;N<ue.min.length;N++)Y=ue.min[N],d(_,Y.val,Y.pad*K,{extrapad:Y.extrapad});for(N=0;N<ue.max.length;N++)Y=ue.max[N],o(O,Y.val,Y.pad*K,{extrapad:Y.extrapad})}}return{min:_,max:O}}function h(E,p,k){if(p.setScale(),p.autorange){p.range=k?k.slice():s(E,p),p._r=p.range.slice(),p._rl=i.simpleMap(p._r,p.r2l);var R=p._input,B={};B[p._attr+".range"]=p.range,B[p._attr+".autorange"]=p.autorange,C.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,B),R.range=p.range.slice(),R.autorange=p.autorange}var F=p._anchorAxis;if(F&&F.rangeslider){var _=F.rangeslider[p._name];_&&_.rangemode==="auto"&&(_.range=s(E,p)),F._input.rangeslider[p._name]=i.extendFlat({},_)}}function w(E,p,k){k||(k={}),E._m||E.setScale();var R=[],B=[],F=p.length,_=k.padded||!1,O=k.tozero&&(E.type==="linear"||E.type==="-"),z=E.type==="log",N=!1,Y=k.vpadLinearized||!1,J,ae,se,ue,K,j,ie,W,Q;function ee(be){if(Array.isArray(be))return N=!0,function(me){return Math.max(Number(be[me]||0),0)};var Pe=Math.max(Number(be||0),0);return function(){return Pe}}var $=ee((E._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),X=ee((E._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),oe=ee(k.vpadplus||k.vpad),te=ee(k.vpadminus||k.vpad);if(!N){if(W=1/0,Q=-1/0,z)for(J=0;J<F;J++)ae=p[J],ae<W&&ae>0&&(W=ae),ae>Q&&ae<L&&(Q=ae);else for(J=0;J<F;J++)ae=p[J],ae<W&&ae>-L&&(W=ae),ae>Q&&ae<L&&(Q=ae);p=[W,Q],F=2}var fe={tozero:O,extrapad:_};function pe(be){se=p[be],P(se)&&(j=$(be),ie=X(be),Y?(ue=E.c2l(se)-te(be),K=E.c2l(se)+oe(be)):(W=se-te(be),Q=se+oe(be),z&&W<Q/10&&(W=Q/10),ue=E.c2l(W),K=E.c2l(Q)),O&&(ue=Math.min(0,ue),K=Math.max(0,K)),A(ue)&&d(R,ue,ie,fe),A(K)&&o(B,K,j,fe))}var Ae=Math.min(6,F);for(J=0;J<Ae;J++)pe(J);for(J=F-1;J>=Ae;J--)pe(J);return{min:R,max:B,opts:k}}function d(E,p,k,R){v(E,p,k,R,b)}function o(E,p,k,R){v(E,p,k,R,M)}function v(E,p,k,R,B){for(var F=R.tozero,_=R.extrapad,O=!0,z=0;z<E.length&&O;z++){var N=E[z];if(B(N.val,p)&&N.pad>=k&&(N.extrapad||!_)){O=!1;break}else B(p,N.val)&&N.pad<=k&&(_||!N.extrapad)&&(E.splice(z,1),z--)}if(O){var Y=F&&p===0;E.push({val:p,pad:Y?0:k,extrapad:Y?!1:_})}}function A(E){return P(E)&&Math.abs(E)<L}function b(E,p){return E<=p}function M(E,p){return E>=p}function m(E,p){var k=p.autorangeoptions;return k&&k.minallowed!==void 0&&T(p,k.minallowed,k.maxallowed)?k.minallowed:k&&k.clipmin!==void 0&&T(p,k.clipmin,k.clipmax)?Math.max(E,p.d2l(k.clipmin)):E}function S(E,p){var k=p.autorangeoptions;return k&&k.maxallowed!==void 0&&T(p,k.minallowed,k.maxallowed)?k.maxallowed:k&&k.clipmax!==void 0&&T(p,k.clipmin,k.clipmax)?Math.min(E,p.d2l(k.clipmax)):E}function T(E,p,k){return p!==void 0&&k!==void 0?(p=E.d2l(p),k=E.d2l(k),p<k):!0}function a(E,p){if(!p||!p.autorangeoptions)return E;var k=E[0],R=E[1],B=p.autorangeoptions.include;if(B!==void 0){var F=p.d2l(k),_=p.d2l(R);i.isArrayOrTypedArray(B)||(B=[B]);for(var O=0;O<B.length;O++){var z=p.d2l(B[O]);F>=z&&(F=z,k=z),_<=z&&(_=z,R=z)}}return k=m(k,p),R=S(R,p),[k,R]}},76808:function(V){"use strict";V.exports=function(e,x,P){var i,L;if(P){var C=x==="reversed"||x==="min reversed"||x==="max reversed";i=P[C?1:0],L=P[C?0:1]}var c=e("autorangeoptions.minallowed",L===null?i:void 0),y=e("autorangeoptions.maxallowed",i===null?L:void 0);c===void 0&&e("autorangeoptions.clipmin"),y===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(7316),L=e(24040),C=e(3400),c=C.strTranslate,y=e(72736),r=e(81668),t=e(76308),s=e(43616),n=e(94724),u=e(98728),l=e(39032),f=l.ONEMAXYEAR,g=l.ONEAVGYEAR,h=l.ONEMINYEAR,w=l.ONEMAXQUARTER,d=l.ONEAVGQUARTER,o=l.ONEMINQUARTER,v=l.ONEMAXMONTH,A=l.ONEAVGMONTH,b=l.ONEMINMONTH,M=l.ONEWEEK,m=l.ONEDAY,S=m/2,T=l.ONEHOUR,a=l.ONEMIN,E=l.ONESEC,p=l.MINUS_SIGN,k=l.BADNUM,R={K:"zeroline"},B={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},_={K:"tick",L:"path"},O={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},N=e(84284),Y=N.MID_SHIFT,J=N.CAP_SHIFT,ae=N.LINE_SPACING,se=N.OPPOSITE_SIDE,ue=3,K=V.exports={};K.setConvert=e(78344);var j=e(52976),ie=e(79811),W=ie.idSort,Q=ie.isLinked;K.id2name=ie.id2name,K.name2id=ie.name2id,K.cleanId=ie.cleanId,K.list=ie.list,K.listIds=ie.listIds,K.getFromId=ie.getFromId,K.getFromTrace=ie.getFromTrace;var ee=e(19280);K.getAutoRange=ee.getAutoRange,K.findExtremes=ee.findExtremes;var $=1e-4;function X(We){var Ue=(We[1]-We[0])*$;return[We[0]-Ue,We[1]+Ue]}K.coerceRef=function(We,Ue,Ft,kt,Zt,rr){var lr=kt.charAt(kt.length-1),qt=Ft._fullLayout._subplots[lr+"axis"],Ot=kt+"ref",tr={};return Zt||(Zt=qt[0]||(typeof rr=="string"?rr:rr[0])),rr||(rr=Zt),qt=qt.concat(qt.map(function(dr){return dr+" domain"})),tr[Ot]={valType:"enumerated",values:qt.concat(rr?typeof rr=="string"?[rr]:rr:[]),dflt:Zt},C.coerce(We,Ue,tr,Ot)},K.getRefType=function(We){return We===void 0?We:We==="paper"?"paper":We==="pixel"?"pixel":/( domain)$/.test(We)?"domain":"range"},K.coercePosition=function(We,Ue,Ft,kt,Zt,rr){var lr,qt,Ot=K.getRefType(kt);if(Ot!=="range")lr=C.ensureNumber,qt=Ft(Zt,rr);else{var tr=K.getFromId(Ue,kt);rr=tr.fraction2r(rr),qt=Ft(Zt,rr),lr=tr.cleanPos}We[Zt]=lr(qt)},K.cleanPosition=function(We,Ue,Ft){var kt=Ft==="paper"||Ft==="pixel"?C.ensureNumber:K.getFromId(Ue,Ft).cleanPos;return kt(We)},K.redrawComponents=function(We,Ue){Ue=Ue||K.listIds(We);var Ft=We._fullLayout;function kt(Zt,rr,lr,qt){for(var Ot=L.getComponentMethod(Zt,rr),tr={},dr=0;dr<Ue.length;dr++)for(var mr=Ft[K.id2name(Ue[dr])],Cr=mr[lr],$r=0;$r<Cr.length;$r++){var yr=Cr[$r];if(!tr[yr]&&(Ot(We,yr),tr[yr]=1,qt))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var oe=K.getDataConversions=function(We,Ue,Ft,kt){var Zt,rr=Ft==="x"||Ft==="y"||Ft==="z"?Ft:kt;if(C.isArrayOrTypedArray(rr)){if(Zt={type:j(kt,void 0,{autotypenumbers:We._fullLayout.autotypenumbers}),_categories:[]},K.setConvert(Zt),Zt.type==="category")for(var lr=0;lr<kt.length;lr++)Zt.d2c(kt[lr])}else Zt=K.getFromTrace(We,Ue,rr);return Zt?{d2c:Zt.d2c,c2d:Zt.c2d}:rr==="ids"?{d2c:fe,c2d:fe}:{d2c:te,c2d:te}};function te(We){return+We}function fe(We){return String(We)}K.getDataToCoordFunc=function(We,Ue,Ft,kt){return oe(We,Ue,Ft,kt).d2c},K.counterLetter=function(We){var Ue=We.charAt(0);if(Ue==="x")return"y";if(Ue==="y")return"x"},K.minDtick=function(We,Ue,Ft,kt){["log","category","multicategory"].indexOf(We.type)!==-1||!kt?We._minDtick=0:We._minDtick===void 0?(We._minDtick=Ue,We._forceTick0=Ft):We._minDtick&&((We._minDtick/Ue+1e-6)%1<2e-6&&((Ft-We._forceTick0)/Ue%1+1.000001)%1<2e-6?(We._minDtick=Ue,We._forceTick0=Ft):((Ue/We._minDtick+1e-6)%1>2e-6||((Ft-We._forceTick0)/We._minDtick%1+1.000001)%1>2e-6)&&(We._minDtick=0))},K.saveRangeInitial=function(We,Ue){for(var Ft=K.list(We,"",!0),kt=!1,Zt=0;Zt<Ft.length;Zt++){var rr=Ft[Zt],lr=rr._rangeInitial0===void 0&&rr._rangeInitial1===void 0,qt=lr||rr.range[0]!==rr._rangeInitial0||rr.range[1]!==rr._rangeInitial1,Ot=rr.autorange;(lr&&Ot!==!0||Ue&&qt)&&(rr._rangeInitial0=Ot==="min"||Ot==="max reversed"?void 0:rr.range[0],rr._rangeInitial1=Ot==="max"||Ot==="min reversed"?void 0:rr.range[1],rr._autorangeInitial=Ot,kt=!0)}return kt},K.saveShowSpikeInitial=function(We,Ue){for(var Ft=K.list(We,"",!0),kt=!1,Zt="on",rr=0;rr<Ft.length;rr++){var lr=Ft[rr],qt=lr._showSpikeInitial===void 0,Ot=qt||lr.showspikes!==lr._showspikes;(qt||Ue&&Ot)&&(lr._showSpikeInitial=lr.showspikes,kt=!0),Zt==="on"&&!lr.showspikes&&(Zt="off")}return We._fullLayout._cartesianSpikesEnabled=Zt,kt},K.autoBin=function(We,Ue,Ft,kt,Zt,rr){var lr=C.aggNums(Math.min,null,We),qt=C.aggNums(Math.max,null,We);if(Ue.type==="category"||Ue.type==="multicategory")return{start:lr-.5,end:qt+.5,size:Math.max(1,Math.round(rr)||1),_dataSpan:qt-lr};Zt||(Zt=Ue.calendar);var Ot;if(Ue.type==="log"?Ot={type:"linear",range:[lr,qt]}:Ot={type:Ue.type,range:C.simpleMap([lr,qt],Ue.c2r,0,Zt),calendar:Zt},K.setConvert(Ot),rr=rr&&u.dtick(rr,Ot.type),rr)Ot.dtick=rr,Ot.tick0=u.tick0(void 0,Ot.type,Zt);else{var tr;if(Ft)tr=(qt-lr)/Ft;else{var dr=C.distinctVals(We),mr=Math.pow(10,Math.floor(Math.log(dr.minDiff)/Math.LN10)),Cr=mr*C.roundUp(dr.minDiff/mr,[.9,1.9,4.9,9.9],!0);tr=Math.max(Cr,2*C.stdev(We)/Math.pow(We.length,kt?.25:.4)),P(tr)||(tr=1)}K.autoTicks(Ot,tr)}var $r=Ot.dtick,yr=K.tickIncrement(K.tickFirst(Ot),$r,"reverse",Zt),Gr,rn;if(typeof $r=="number")yr=pe(yr,We,Ot,lr,qt),rn=1+Math.floor((qt-yr)/$r),Gr=yr+rn*$r;else for(Ot.dtick.charAt(0)==="M"&&(yr=Ae(yr,We,$r,lr,Zt)),Gr=yr,rn=0;Gr<=qt;)Gr=K.tickIncrement(Gr,$r,!1,Zt),rn++;return{start:Ue.c2r(yr,0,Zt),end:Ue.c2r(Gr,0,Zt),size:$r,_dataSpan:qt-lr}};function pe(We,Ue,Ft,kt,Zt){var rr=0,lr=0,qt=0,Ot=0;function tr($r){return(1+($r-We)*100/Ft.dtick)%100<2}for(var dr=0;dr<Ue.length;dr++)Ue[dr]%1===0?qt++:P(Ue[dr])||Ot++,tr(Ue[dr])&&rr++,tr(Ue[dr]+Ft.dtick/2)&&lr++;var mr=Ue.length-Ot;if(qt===mr&&Ft.type!=="date")Ft.dtick<1?We=kt-.5*Ft.dtick:(We-=.5,We+Ft.dtick<kt&&(We+=Ft.dtick));else if(lr<mr*.1&&(rr>mr*.3||tr(kt)||tr(Zt))){var Cr=Ft.dtick/2;We+=We+Cr<kt?Cr:-Cr}return We}function Ae(We,Ue,Ft,kt,Zt){var rr=C.findExactDates(Ue,Zt),lr=.8;if(rr.exactDays>lr){var qt=Number(Ft.substr(1));rr.exactYears>lr&&qt%12===0?We=K.tickIncrement(We,"M6","reverse")+m*1.5:rr.exactMonths>lr?We=K.tickIncrement(We,"M1","reverse")+m*15.5:We-=S;var Ot=K.tickIncrement(We,Ft);if(Ot<=kt)return Ot}return We}K.prepMinorTicks=function(We,Ue,Ft){if(!Ue.minor.dtick){delete We.dtick;var kt=Ue.dtick&&P(Ue._tmin),Zt;if(kt){var rr=K.tickIncrement(Ue._tmin,Ue.dtick,!0);Zt=[Ue._tmin,rr*.99+Ue._tmin*.01]}else{var lr=C.simpleMap(Ue.range,Ue.r2l);Zt=[lr[0],.8*lr[0]+.2*lr[1]]}if(We.range=C.simpleMap(Zt,Ue.l2r),We._isMinor=!0,K.prepTicks(We,Ft),kt){var qt=P(Ue.dtick),Ot=P(We.dtick),tr=qt?Ue.dtick:+Ue.dtick.substring(1),dr=Ot?We.dtick:+We.dtick.substring(1);qt&&Ot?be(tr,dr)?tr===2*M&&dr===2*m&&(We.dtick=M):tr===2*M&&dr===3*m?We.dtick=M:tr===M&&!(Ue._input.minor||{}).nticks?We.dtick=m:Pe(tr/dr,2.5)?We.dtick=tr/2:We.dtick=tr:String(Ue.dtick).charAt(0)==="M"?Ot?We.dtick="M1":be(tr,dr)?tr>=12&&dr===2&&(We.dtick="M3"):We.dtick=Ue.dtick:String(We.dtick).charAt(0)==="L"?String(Ue.dtick).charAt(0)==="L"?be(tr,dr)||(We.dtick=Pe(tr/dr,2.5)?Ue.dtick/2:Ue.dtick):We.dtick="D1":We.dtick==="D2"&&+Ue.dtick>1&&(We.dtick=1)}We.range=Ue.range}Ue.minor._tick0Init===void 0&&(We.tick0=Ue.tick0)};function be(We,Ue){return Math.abs((We/Ue+.5)%1-.5)<.001}function Pe(We,Ue){return Math.abs(We/Ue-1)<.001}K.prepTicks=function(We,Ue){var Ft=C.simpleMap(We.range,We.r2l,void 0,void 0,Ue);if(We.tickmode==="auto"||!We.dtick){var kt=We.nticks,Zt;kt||(We.type==="category"||We.type==="multicategory"?(Zt=We.tickfont?C.bigFont(We.tickfont.size||12):15,kt=We._length/Zt):(Zt=We._id.charAt(0)==="y"?40:80,kt=C.constrain(We._length/Zt,4,9)+1),We._name==="radialaxis"&&(kt*=2)),We.minor&&We.minor.tickmode!=="array"||We.tickmode==="array"&&(kt*=100),We._roughDTick=Math.abs(Ft[1]-Ft[0])/kt,K.autoTicks(We,We._roughDTick),We._minDtick>0&&We.dtick<We._minDtick*2&&(We.dtick=We._minDtick,We.tick0=We.l2r(We._forceTick0))}We.ticklabelmode==="period"&&Ee(We),We.tick0||(We.tick0=We.type==="date"?"2000-01-01":0),We.type==="date"&&We.dtick<.1&&(We.dtick=.1),ct(We)};function me(We){return+We.substring(1)}function Ee(We){var Ue;function Ft(){return!(P(We.dtick)||We.dtick.charAt(0)!=="M")}var kt=Ft(),Zt=K.getTickFormat(We);if(Zt){var rr=We._dtickInit!==We.dtick;/%[fLQsSMX]/.test(Zt)||(/%[HI]/.test(Zt)?(Ue=T,rr&&!kt&&We.dtick<T&&(We.dtick=T)):/%p/.test(Zt)?(Ue=S,rr&&!kt&&We.dtick<S&&(We.dtick=S)):/%[Aadejuwx]/.test(Zt)?(Ue=m,rr&&!kt&&We.dtick<m&&(We.dtick=m)):/%[UVW]/.test(Zt)?(Ue=M,rr&&!kt&&We.dtick<M&&(We.dtick=M)):/%[Bbm]/.test(Zt)?(Ue=A,rr&&(kt?me(We.dtick)<1:We.dtick<b)&&(We.dtick="M1")):/%[q]/.test(Zt)?(Ue=d,rr&&(kt?me(We.dtick)<3:We.dtick<o)&&(We.dtick="M3")):/%[Yy]/.test(Zt)&&(Ue=g,rr&&(kt?me(We.dtick)<12:We.dtick<h)&&(We.dtick="M12")))}kt=Ft(),kt&&We.tick0===We._dowTick0&&(We.tick0=We._rawTick0),We._definedDelta=Ue}function xe(We,Ue,Ft){for(var kt=0;kt<We.length;kt++){var Zt=We[kt].value,rr=kt,lr=kt+1;kt<We.length-1?(rr=kt,lr=kt+1):kt>0?(rr=kt-1,lr=kt):(rr=kt,lr=kt);var qt=We[rr].value,Ot=We[lr].value,tr=Math.abs(Ot-qt),dr=Ft||tr,mr=0;dr>=h?tr>=h&&tr<=f?mr=tr:mr=g:Ft===d&&dr>=o?tr>=o&&tr<=w?mr=tr:mr=d:dr>=b?tr>=b&&tr<=v?mr=tr:mr=A:Ft===M&&dr>=M?mr=M:dr>=m?mr=m:Ft===S&&dr>=S?mr=S:Ft===T&&dr>=T&&(mr=T);var Cr;mr>=tr&&(mr=tr,Cr=!0);var $r=Zt+mr;if(Ue.rangebreaks&&mr>0){for(var yr=84,Gr=0,rn=0;rn<yr;rn++){var _r=(rn+.5)/yr;Ue.maskBreaks(Zt*(1-_r)+_r*$r)!==k&&Gr++}mr*=Gr/yr,mr||(We[kt].drop=!0),Cr&&tr>M&&(mr=tr)}(mr>0||kt===0)&&(We[kt].periodX=Zt+mr/2)}}K.calcTicks=function(Ue,Ft){for(var kt=Ue.type,Zt=Ue.calendar,rr=Ue.ticklabelstep,lr=Ue.ticklabelmode==="period",qt=C.simpleMap(Ue.range,Ue.r2l,void 0,void 0,Ft),Ot=qt[1]<qt[0],tr=Math.min(qt[0],qt[1]),dr=Math.max(qt[0],qt[1]),mr=Math.max(1e3,Ue._length||0),Cr=[],$r=[],yr=[],Gr=[],rn=Ue.minor&&(Ue.minor.ticks||Ue.minor.showgrid),_r=1;_r>=(rn?0:1);_r--){var bn=!_r;_r?(Ue._dtickInit=Ue.dtick,Ue._tick0Init=Ue.tick0):(Ue.minor._dtickInit=Ue.minor.dtick,Ue.minor._tick0Init=Ue.minor.tick0);var xn=_r?Ue:C.extendFlat({},Ue,Ue.minor);if(bn?K.prepMinorTicks(xn,Ue,Ft):K.prepTicks(xn,Ft),xn.tickmode==="array"){_r?(yr=[],Cr=Ze(Ue,!bn)):(Gr=[],$r=Ze(Ue,!bn));continue}if(xn.tickmode==="sync"){yr=[],Cr=Ve(Ue);continue}var fr=X(qt),Dr=fr[0],Nr=fr[1],Ur=P(xn.dtick),on=kt==="log"&&!(Ur||xn.dtick.charAt(0)==="L"),gn=K.tickFirst(xn,Ft);if(_r){if(Ue._tmin=gn,gn<Dr!==Ot)break;(kt==="category"||kt==="multicategory")&&(Nr=Ot?Math.max(-.5,Nr):Math.min(Ue._categories.length-.5,Nr))}var yn=null,Pn=gn,zn;if(_r){var ta;Ur?ta=Ue.dtick:kt==="date"?typeof Ue.dtick=="string"&&Ue.dtick.charAt(0)==="M"&&(ta=A*Ue.dtick.substring(1)):ta=Ue._roughDTick,zn=Math.round((Ue.r2l(Pn)-Ue.r2l(Ue.tick0))/ta)-1}var Un=xn.dtick;for(xn.rangebreaks&&xn._tick0Init!==xn.tick0&&(Pn=Bt(Pn,Ue),Ot||(Pn=K.tickIncrement(Pn,Un,!Ot,Zt))),_r&&lr&&(Pn=K.tickIncrement(Pn,Un,!Ot,Zt),zn--);Ot?Pn>=Nr:Pn<=Nr;Pn=K.tickIncrement(Pn,Un,Ot,Zt)){if(_r&&zn++,xn.rangebreaks&&!Ot){if(Pn<Dr)continue;if(xn.maskBreaks(Pn)===k&&Bt(Pn,xn)>=dr)break}if(yr.length>mr||Pn===yn)break;yn=Pn;var ra={value:Pn};_r?(on&&Pn!==(Pn|0)&&(ra.simpleLabel=!0),rr>1&&zn%rr&&(ra.skipLabel=!0),yr.push(ra)):(ra.minor=!0,Gr.push(ra))}}if(rn){var Jn=Ue.minor.ticks==="inside"&&Ue.ticks==="outside"||Ue.minor.ticks==="outside"&&Ue.ticks==="inside";if(!Jn){for(var ea=yr.map(function(hn){return hn.value}),pr=[],Jr=0;Jr<Gr.length;Jr++){var Xr=Gr[Jr],vn=Xr.value;if(ea.indexOf(vn)===-1){for(var Bn=!1,Tn=0;!Bn&&Tn<yr.length;Tn++)1e7+yr[Tn].value===1e7+vn&&(Bn=!0);Bn||pr.push(Xr)}}Gr=pr}}lr&&xe(yr,Ue,Ue._definedDelta);var Mn;if(Ue.rangebreaks){var On=Ue._id.charAt(0)==="y",Wn=1;Ue.tickmode==="auto"&&(Wn=Ue.tickfont?Ue.tickfont.size:12);var oa=NaN;for(Mn=yr.length-1;Mn>-1;Mn--){if(yr[Mn].drop){yr.splice(Mn,1);continue}yr[Mn].value=Bt(yr[Mn].value,Ue);var Ra=Ue.c2p(yr[Mn].value);(On?oa>Ra-Wn:oa<Ra+Wn)?yr.splice(Ot?Mn+1:Mn,1):oa=Ra}}Ct(Ue)&&Math.abs(qt[1]-qt[0])===360&&yr.pop(),Ue._tmax=(yr[yr.length-1]||{}).value,Ue._prevDateHead="",Ue._inCalcTicks=!0;var Ar,Ir=function(hn){hn.text="",Ue._prevDateHead=Ar};yr=yr.concat(Gr);var Tr,Fr;for(Mn=0;Mn<yr.length;Mn++){var dn=yr[Mn].minor,Ln=yr[Mn].value;dn?$r.push({x:Ln,minor:!0}):(Ar=Ue._prevDateHead,Tr=K.tickText(Ue,Ln,!1,yr[Mn].simpleLabel),Fr=yr[Mn].periodX,Fr!==void 0&&(Tr.periodX=Fr,(Fr>dr||Fr<tr)&&(Fr>dr&&(Tr.periodX=dr),Fr<tr&&(Tr.periodX=tr),Ir(Tr))),yr[Mn].skipLabel&&Ir(Tr),Cr.push(Tr))}return Cr=Cr.concat($r),Ue._inCalcTicks=!1,lr&&Cr.length&&(Cr[0].noTick=!0),Cr};function De(We,Ue){return We.rangebreaks&&(Ue=Ue.filter(function(Ft){return We.maskBreaks(Ft.x)!==k})),Ue}function Ve(We){var Ue=We._mainAxis,Ft=[];if(Ue._vals){for(var kt=0;kt<Ue._vals.length;kt++)if(!Ue._vals[kt].noTick){var Zt=Ue.l2p(Ue._vals[kt].x),rr=We.p2l(Zt),lr=K.tickText(We,rr);Ue._vals[kt].minor&&(lr.minor=!0,lr.text=""),Ft.push(lr)}}return Ft=De(We,Ft),Ft}function Ze(We,Ue){var Ft=C.simpleMap(We.range,We.r2l),kt=X(Ft),Zt=Math.min(kt[0],kt[1]),rr=Math.max(kt[0],kt[1]),lr=We.type==="category"?We.d2l_noadd:We.d2l;We.type==="log"&&String(We.dtick).charAt(0)!=="L"&&(We.dtick="L"+Math.pow(10,Math.floor(Math.min(We.range[0],We.range[1]))-1));for(var qt=[],Ot=0;Ot<=1;Ot++)if(!(Ue!==void 0&&(Ue&&Ot||Ue===!1&&!Ot))&&!(Ot&&!We.minor)){var tr=Ot?We.minor.tickvals:We.tickvals,dr=Ot?[]:We.ticktext;if(tr){C.isArrayOrTypedArray(dr)||(dr=[]);for(var mr=0;mr<tr.length;mr++){var Cr=lr(tr[mr]);if(Cr>Zt&&Cr<rr){var $r=K.tickText(We,Cr,!1,String(dr[mr]));Ot&&($r.minor=!0,$r.text=""),qt.push($r)}}}}return qt=De(We,qt),qt}var ke=[2,5,10],Ye=[1,2,3,6,12],lt=[1,2,5,10,15,30],yt=[1,2,3,7,14],He=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Fe=[-.301,0,.301,.699,1],nt=[15,30,45,90,180];function ot(We,Ue,Ft){return Ue*C.roundUp(We/Ue,Ft)}K.autoTicks=function(We,Ue,Ft){var kt;function Zt(mr){return Math.pow(mr,Math.floor(Math.log(Ue)/Math.LN10))}if(We.type==="date"){We.tick0=C.dateTick0(We.calendar,0);var rr=2*Ue;if(rr>g)Ue/=g,kt=Zt(10),We.dtick="M"+12*ot(Ue,kt,ke);else if(rr>A)Ue/=A,We.dtick="M"+ot(Ue,1,Ye);else if(rr>m){if(We.dtick=ot(Ue,m,We._hasDayOfWeekBreaks?[1,2,7,14]:yt),!Ft){var lr=K.getTickFormat(We),qt=We.ticklabelmode==="period";qt&&(We._rawTick0=We.tick0),/%[uVW]/.test(lr)?We.tick0=C.dateTick0(We.calendar,2):We.tick0=C.dateTick0(We.calendar,1),qt&&(We._dowTick0=We.tick0)}}else rr>T?We.dtick=ot(Ue,T,Ye):rr>a?We.dtick=ot(Ue,a,lt):rr>E?We.dtick=ot(Ue,E,lt):(kt=Zt(10),We.dtick=ot(Ue,kt,ke))}else if(We.type==="log"){We.tick0=0;var Ot=C.simpleMap(We.range,We.r2l);if(We._isMinor&&(Ue*=1.5),Ue>.7)We.dtick=Math.ceil(Ue);else if(Math.abs(Ot[1]-Ot[0])<1){var tr=1.5*Math.abs((Ot[1]-Ot[0])/Ue);Ue=Math.abs(Math.pow(10,Ot[1])-Math.pow(10,Ot[0]))/tr,kt=Zt(10),We.dtick="L"+ot(Ue,kt,ke)}else We.dtick=Ue>.3?"D2":"D1"}else We.type==="category"||We.type==="multicategory"?(We.tick0=0,We.dtick=Math.ceil(Math.max(Ue,1))):Ct(We)?(We.tick0=0,kt=1,We.dtick=ot(Ue,kt,nt)):(We.tick0=0,kt=Zt(10),We.dtick=ot(Ue,kt,ke));if(We.dtick===0&&(We.dtick=1),!P(We.dtick)&&typeof We.dtick!="string"){var dr=We.dtick;throw We.dtick=1,"ax.dtick error: "+String(dr)}};function ct(We){var Ue=We.dtick;if(We._tickexponent=0,!P(Ue)&&typeof Ue!="string"&&(Ue=1),(We.type==="category"||We.type==="multicategory")&&(We._tickround=null),We.type==="date"){var Ft=We.r2l(We.tick0),kt=We.l2r(Ft).replace(/(^-|i)/g,""),Zt=kt.length;if(String(Ue).charAt(0)==="M")Zt>10||kt.substr(5)!=="01-01"?We._tickround="d":We._tickround=+Ue.substr(1)%12===0?"y":"m";else if(Ue>=m&&Zt<=10||Ue>=m*15)We._tickround="d";else if(Ue>=a&&Zt<=16||Ue>=T)We._tickround="M";else if(Ue>=E&&Zt<=19||Ue>=a)We._tickround="S";else{var rr=We.l2r(Ft+Ue).replace(/^-/,"").length;We._tickround=Math.max(Zt,rr)-20,We._tickround<0&&(We._tickround=4)}}else if(P(Ue)||Ue.charAt(0)==="L"){var lr=We.range.map(We.r2d||Number);P(Ue)||(Ue=Number(Ue.substr(1))),We._tickround=2-Math.floor(Math.log(Ue)/Math.LN10+.01);var qt=Math.max(Math.abs(lr[0]),Math.abs(lr[1])),Ot=Math.floor(Math.log(qt)/Math.LN10+.01),tr=We.minexponent===void 0?3:We.minexponent;Math.abs(Ot)>tr&&(ze(We.exponentformat)&&!et(Ot)?We._tickexponent=3*Math.round((Ot-1)/3):We._tickexponent=Ot)}else We._tickround=null}K.tickIncrement=function(We,Ue,Ft,kt){var Zt=Ft?-1:1;if(P(Ue))return C.increment(We,Zt*Ue);var rr=Ue.charAt(0),lr=Zt*Number(Ue.substr(1));if(rr==="M")return C.incrementMonth(We,lr,kt);if(rr==="L")return Math.log(Math.pow(10,We)+lr)/Math.LN10;if(rr==="D"){var qt=Ue==="D2"?Fe:He,Ot=We+Zt*.01,tr=C.roundUp(C.mod(Ot,1),qt,Ft);return Math.floor(Ot)+Math.log(x.round(Math.pow(10,tr),1))/Math.LN10}throw"unrecognized dtick "+String(Ue)},K.tickFirst=function(We,Ue){var Ft=We.r2l||Number,kt=C.simpleMap(We.range,Ft,void 0,void 0,Ue),Zt=kt[1]<kt[0],rr=Zt?Math.floor:Math.ceil,lr=X(kt)[0],qt=We.dtick,Ot=Ft(We.tick0);if(P(qt)){var tr=rr((lr-Ot)/qt)*qt+Ot;return(We.type==="category"||We.type==="multicategory")&&(tr=C.constrain(tr,0,We._categories.length-1)),tr}var dr=qt.charAt(0),mr=Number(qt.substr(1));if(dr==="M"){for(var Cr=0,$r=Ot,yr,Gr,rn;Cr<10;){if(yr=K.tickIncrement($r,qt,Zt,We.calendar),(yr-lr)*($r-lr)<=0)return Zt?Math.min($r,yr):Math.max($r,yr);Gr=(lr-($r+yr)/2)/(yr-$r),rn=dr+(Math.abs(Math.round(Gr))||1)*mr,$r=K.tickIncrement($r,rn,Gr<0?!Zt:Zt,We.calendar),Cr++}return C.error("tickFirst did not converge",We),$r}else{if(dr==="L")return Math.log(rr((Math.pow(10,lr)-Ot)/mr)*mr+Ot)/Math.LN10;if(dr==="D"){var _r=qt==="D2"?Fe:He,bn=C.roundUp(C.mod(lr,1),_r,Zt);return Math.floor(lr)+Math.log(x.round(Math.pow(10,bn),1))/Math.LN10}else throw"unrecognized dtick "+String(qt)}},K.tickText=function(We,Ue,Ft,kt){var Zt=ht(We,Ue),rr=We.tickmode==="array",lr=Ft||rr,qt=We.type,Ot=qt==="category"?We.d2l_noadd:We.d2l,tr,dr=function(rn){var _r=We.l2p(rn);return _r>=0&&_r<=We._length?rn:null};if(rr&&C.isArrayOrTypedArray(We.ticktext)){var mr=C.simpleMap(We.range,We.r2l),Cr=(Math.abs(mr[1]-mr[0])-(We._lBreaks||0))/1e4;for(tr=0;tr<We.ticktext.length&&!(Math.abs(Ue-Ot(We.tickvals[tr]))<Cr);tr++);if(tr<We.ticktext.length)return Zt.text=String(We.ticktext[tr]),Zt.xbnd=[dr(Zt.x-.5),dr(Zt.x+We.dtick-.5)],Zt}function $r(rn){if(rn===void 0)return!0;if(Ft)return rn==="none";var _r={first:We._tmin,last:We._tmax}[rn];return rn!=="all"&&Ue!==_r}var yr=Ft?"never":We.exponentformat!=="none"&&$r(We.showexponent)?"hide":"";if(qt==="date"?mt(We,Zt,Ft,lr):qt==="log"?tt(We,Zt,Ft,lr,yr):qt==="category"?Re(We,Zt):qt==="multicategory"?Ge(We,Zt,Ft):Ct(We)?Xe(We,Zt,Ft,lr,yr):Je(We,Zt,Ft,lr,yr),kt||(We.tickprefix&&!$r(We.showtickprefix)&&(Zt.text=We.tickprefix+Zt.text),We.ticksuffix&&!$r(We.showticksuffix)&&(Zt.text+=We.ticksuffix)),We.labelalias&&We.labelalias.hasOwnProperty(Zt.text)){var Gr=We.labelalias[Zt.text];typeof Gr=="string"&&(Zt.text=Gr)}return(We.tickson==="boundaries"||We.showdividers)&&(Zt.xbnd=[dr(Zt.x-.5),dr(Zt.x+We.dtick-.5)]),Zt},K.hoverLabelText=function(We,Ue,Ft){Ft&&(We=C.extendFlat({},We,{hoverformat:Ft}));var kt=C.isArrayOrTypedArray(Ue)?Ue[0]:Ue,Zt=C.isArrayOrTypedArray(Ue)?Ue[1]:void 0;if(Zt!==void 0&&Zt!==kt)return K.hoverLabelText(We,kt,Ft)+" - "+K.hoverLabelText(We,Zt,Ft);var rr=We.type==="log"&&kt<=0,lr=K.tickText(We,We.c2l(rr?-kt:kt),"hover").text;return rr?kt===0?"0":p+lr:lr};function ht(We,Ue,Ft){var kt=We.tickfont||{};return{x:Ue,dx:0,dy:0,text:Ft||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function mt(We,Ue,Ft,kt){var Zt=We._tickround,rr=Ft&&We.hoverformat||K.getTickFormat(We);kt=!rr&&kt,kt&&(P(Zt)?Zt=4:Zt={y:"m",m:"d",d:"M",M:"S",S:4}[Zt]);var lr=C.formatDate(Ue.x,rr,Zt,We._dateFormat,We.calendar,We._extraFormat),qt,Ot=lr.indexOf(`
`);if(Ot!==-1&&(qt=lr.substr(Ot+1),lr=lr.substr(0,Ot)),kt&&(qt!==void 0&&(lr==="00:00:00"||lr==="00:00")?(lr=qt,qt=""):lr.length===8&&(lr=lr.replace(/:00$/,""))),qt)if(Ft)Zt==="d"?lr+=", "+qt:lr=qt+(lr?", "+lr:"");else if(!We._inCalcTicks||We._prevDateHead!==qt)We._prevDateHead=qt,lr+="<br>"+qt;else{var tr=Xt(We),dr=We._trueSide||We.side;(!tr&&dr==="top"||tr&&dr==="bottom")&&(lr+="<br> ")}Ue.text=lr}function tt(We,Ue,Ft,kt,Zt){var rr=We.dtick,lr=Ue.x,qt=We.tickformat,Ot=typeof rr=="string"&&rr.charAt(0);if(Zt==="never"&&(Zt=""),kt&&Ot!=="L"&&(rr="L3",Ot="L"),qt||Ot==="L")Ue.text=Le(Math.pow(10,lr),We,Zt,kt);else if(P(rr)||Ot==="D"&&C.mod(lr+.01,1)<.1){var tr=Math.round(lr),dr=Math.abs(tr),mr=We.exponentformat;mr==="power"||ze(mr)&&et(tr)?(tr===0?Ue.text=1:tr===1?Ue.text="10":Ue.text="10<sup>"+(tr>1?"":p)+dr+"</sup>",Ue.fontSize*=1.25):(mr==="e"||mr==="E")&&dr>2?Ue.text="1"+mr+(tr>0?"+":p)+dr:(Ue.text=Le(Math.pow(10,lr),We,"","fakehover"),rr==="D1"&&We._id.charAt(0)==="y"&&(Ue.dy-=Ue.fontSize/6))}else if(Ot==="D")Ue.text=String(Math.round(Math.pow(10,C.mod(lr,1)))),Ue.fontSize*=.75;else throw"unrecognized dtick "+String(rr);if(We.dtick==="D1"){var Cr=String(Ue.text).charAt(0);(Cr==="0"||Cr==="1")&&(We._id.charAt(0)==="y"?Ue.dx-=Ue.fontSize/4:(Ue.dy+=Ue.fontSize/2,Ue.dx+=(We.range[1]>We.range[0]?1:-1)*Ue.fontSize*(lr<0?.5:.25)))}}function Re(We,Ue){var Ft=We._categories[Math.round(Ue.x)];Ft===void 0&&(Ft=""),Ue.text=String(Ft)}function Ge(We,Ue,Ft){var kt=Math.round(Ue.x),Zt=We._categories[kt]||[],rr=Zt[1]===void 0?"":String(Zt[1]),lr=Zt[0]===void 0?"":String(Zt[0]);Ft?Ue.text=lr+" - "+rr:(Ue.text=rr,Ue.text2=lr)}function Je(We,Ue,Ft,kt,Zt){Zt==="never"?Zt="":We.showexponent==="all"&&Math.abs(Ue.x/We.dtick)<1e-6&&(Zt="hide"),Ue.text=Le(Ue.x,We,Zt,kt)}function Xe(We,Ue,Ft,kt,Zt){if(We.thetaunit==="radians"&&!Ft){var rr=Ue.x/180;if(rr===0)Ue.text="0";else{var lr=Oe(rr);if(lr[1]>=100)Ue.text=Le(C.deg2rad(Ue.x),We,Zt,kt);else{var qt=Ue.x<0;lr[1]===1?lr[0]===1?Ue.text="\u03C0":Ue.text=lr[0]+"\u03C0":Ue.text=["<sup>",lr[0],"</sup>","\u2044","<sub>",lr[1],"</sub>","\u03C0"].join(""),qt&&(Ue.text=p+Ue.text)}}}else Ue.text=Le(Ue.x,We,Zt,kt)}function Oe(We){function Ue(qt,Ot){return Math.abs(qt-Ot)<=1e-6}function Ft(qt,Ot){return Ue(Ot,0)?qt:Ft(Ot,qt%Ot)}function kt(qt){for(var Ot=1;!Ue(Math.round(qt*Ot)/Ot,qt);)Ot*=10;return Ot}var Zt=kt(We),rr=We*Zt,lr=Math.abs(Ft(rr,Zt));return[Math.round(rr/lr),Math.round(Zt/lr)]}var Ne=["f","p","n","\u03BC","m","","k","M","G","T"];function ze(We){return We==="SI"||We==="B"}function et(We){return We>14||We<-15}function Le(We,Ue,Ft,kt){var Zt=We<0,rr=Ue._tickround,lr=Ft||Ue.exponentformat||"B",qt=Ue._tickexponent,Ot=K.getTickFormat(Ue),tr=Ue.separatethousands;if(kt){var dr={exponentformat:lr,minexponent:Ue.minexponent,dtick:Ue.showexponent==="none"?Ue.dtick:P(We)&&Math.abs(We)||1,range:Ue.showexponent==="none"?Ue.range.map(Ue.r2d):[0,We||1]};ct(dr),rr=(Number(dr._tickround)||0)+4,qt=dr._tickexponent,Ue.hoverformat&&(Ot=Ue.hoverformat)}if(Ot)return Ue._numFormat(Ot)(We).replace(/-/g,p);var mr=Math.pow(10,-rr)/2;if(lr==="none"&&(qt=0),We=Math.abs(We),We<mr)We="0",Zt=!1;else{if(We+=mr,qt&&(We*=Math.pow(10,-qt),rr+=qt),rr===0)We=String(Math.floor(We));else if(rr<0){We=String(Math.round(We)),We=We.substr(0,We.length+rr);for(var Cr=rr;Cr<0;Cr++)We+="0"}else{We=String(We);var $r=We.indexOf(".")+1;$r&&(We=We.substr(0,$r+rr).replace(/\.?0+$/,""))}We=C.numSeparate(We,Ue._separators,tr)}if(qt&&lr!=="hide"){ze(lr)&&et(qt)&&(lr="power");var yr;qt<0?yr=p+-qt:lr!=="power"?yr="+"+qt:yr=String(qt),lr==="e"||lr==="E"?We+=lr+yr:lr==="power"?We+="\xD710<sup>"+yr+"</sup>":lr==="B"&&qt===9?We+="B":ze(lr)&&(We+=Ne[qt/3+5])}return Zt?p+We:We}K.getTickFormat=function(We){var Ue;function Ft(Ot){return typeof Ot!="string"?Ot:Number(Ot.replace("M",""))*A}function kt(Ot,tr){var dr=["L","D"];if(typeof Ot==typeof tr){if(typeof Ot=="number")return Ot-tr;var mr=dr.indexOf(Ot.charAt(0)),Cr=dr.indexOf(tr.charAt(0));return mr===Cr?Number(Ot.replace(/(L|D)/g,""))-Number(tr.replace(/(L|D)/g,"")):mr-Cr}else return typeof Ot=="number"?1:-1}function Zt(Ot,tr,dr){var mr=dr||function(yr){return yr},Cr=tr[0],$r=tr[1];return(!Cr&&typeof Cr!="number"||mr(Cr)<=mr(Ot))&&(!$r&&typeof $r!="number"||mr($r)>=mr(Ot))}function rr(Ot,tr){var dr=tr[0]===null,mr=tr[1]===null,Cr=kt(Ot,tr[0])>=0,$r=kt(Ot,tr[1])<=0;return(dr||Cr)&&(mr||$r)}var lr,qt;if(We.tickformatstops&&We.tickformatstops.length>0)switch(We.type){case"date":case"linear":{for(Ue=0;Ue<We.tickformatstops.length;Ue++)if(qt=We.tickformatstops[Ue],qt.enabled&&Zt(We.dtick,qt.dtickrange,Ft)){lr=qt;break}break}case"log":{for(Ue=0;Ue<We.tickformatstops.length;Ue++)if(qt=We.tickformatstops[Ue],qt.enabled&&rr(We.dtick,qt.dtickrange)){lr=qt;break}break}default:}return lr?lr.value:We.tickformat},K.getSubplots=function(We,Ue){var Ft=We._fullLayout._subplots,kt=Ft.cartesian.concat(Ft.gl2d||[]),Zt=Ue?K.findSubplotsWithAxis(kt,Ue):kt;return Zt.sort(function(rr,lr){var qt=rr.substr(1).split("y"),Ot=lr.substr(1).split("y");return qt[0]===Ot[0]?+qt[1]-+Ot[1]:+qt[0]-+Ot[0]}),Zt},K.findSubplotsWithAxis=function(We,Ue){for(var Ft=new RegExp(Ue._id.charAt(0)==="x"?"^"+Ue._id+"y":Ue._id+"$"),kt=[],Zt=0;Zt<We.length;Zt++){var rr=We[Zt];Ft.test(rr)&&kt.push(rr)}return kt},K.makeClipPaths=function(We){var Ue=We._fullLayout;if(!Ue._hasOnlyLargeSploms){var Ft={_offset:0,_length:Ue.width,_id:""},kt={_offset:0,_length:Ue.height,_id:""},Zt=K.list(We,"x",!0),rr=K.list(We,"y",!0),lr=[],qt,Ot;for(qt=0;qt<Zt.length;qt++)for(lr.push({x:Zt[qt],y:kt}),Ot=0;Ot<rr.length;Ot++)qt===0&&lr.push({x:Ft,y:rr[Ot]}),lr.push({x:Zt[qt],y:rr[Ot]});var tr=Ue._clips.selectAll(".axesclip").data(lr,function(dr){return dr.x._id+dr.y._id});tr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(dr){return"clip"+Ue._uid+dr.x._id+dr.y._id}).append("rect"),tr.exit().remove(),tr.each(function(dr){x.select(this).select("rect").attr({x:dr.x._offset||0,y:dr.y._offset||0,width:dr.x._length||1,height:dr.y._length||1})})}},K.draw=function(We,Ue,Ft){var kt=We._fullLayout;Ue==="redraw"&&kt._paper.selectAll("g.subplot").each(function(Ot){var tr=Ot[0],dr=kt._plots[tr];if(dr){var mr=dr.xaxis,Cr=dr.yaxis;dr.xaxislayer.selectAll("."+mr._id+"tick").remove(),dr.yaxislayer.selectAll("."+Cr._id+"tick").remove(),dr.xaxislayer.selectAll("."+mr._id+"tick2").remove(),dr.yaxislayer.selectAll("."+Cr._id+"tick2").remove(),dr.xaxislayer.selectAll("."+mr._id+"divider").remove(),dr.yaxislayer.selectAll("."+Cr._id+"divider").remove(),dr.minorGridlayer&&dr.minorGridlayer.selectAll("path").remove(),dr.gridlayer&&dr.gridlayer.selectAll("path").remove(),dr.zerolinelayer&&dr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+mr._id+"title").remove(),kt._infolayer.select(".g-"+Cr._id+"title").remove()}});var Zt=!Ue||Ue==="redraw"?K.listIds(We):Ue,rr=K.list(We),lr=rr.filter(function(Ot){return Ot.autoshift}).map(function(Ot){return Ot.overlaying});Zt.map(function(Ot){var tr=K.getFromId(We,Ot);if(tr.tickmode==="sync"&&tr.overlaying){var dr=Zt.findIndex(function(mr){return mr===tr.overlaying});dr>=0&&Zt.unshift(Zt.splice(dr,1).shift())}});var qt={false:{left:0,right:0}};return C.syncOrAsync(Zt.map(function(Ot){return function(){if(Ot){var tr=K.getFromId(We,Ot);Ft||(Ft={}),Ft.axShifts=qt,Ft.overlayingShiftedAx=lr;var dr=K.drawOne(We,tr,Ft);return tr._shiftPusher&&or(tr,tr._fullDepth||0,qt,!0),tr._r=tr.range.slice(),tr._rl=C.simpleMap(tr._r,tr.r2l),dr}}}))},K.drawOne=function(We,Ue,Ft){Ft=Ft||{};var kt=Ft.axShifts||{},Zt=Ft.overlayingShiftedAx||[],rr,lr,qt;Ue.setScale();var Ot=We._fullLayout,tr=Ue._id,dr=tr.charAt(0),mr=K.counterLetter(tr),Cr=Ot._plots[Ue._mainSubplot];if(!Cr)return;if(Ue._shiftPusher=Ue.autoshift||Zt.indexOf(Ue._id)!==-1||Zt.indexOf(Ue.overlaying)!==-1,Ue._shiftPusher&Ue.anchor==="free"){var $r=Ue.linewidth/2||0;Ue.ticks==="inside"&&($r+=Ue.ticklen),or(Ue,$r,kt,!0),or(Ue,Ue.shift||0,kt,!1)}(Ft.skipTitle!==!0||Ue._shift===void 0)&&(Ue._shift=cr(Ue,kt));var yr=Cr[dr+"axislayer"],Gr=Ue._mainLinePosition,rn=Gr+=Ue._shift,_r=Ue._mainMirrorPosition,bn=Ue._vals=K.calcTicks(Ue),xn=[Ue.mirror,rn,_r].join("_");for(rr=0;rr<bn.length;rr++)bn[rr].axInfo=xn;Ue._selections={},Ue._tickAngles&&(Ue._prevTickAngles=Ue._tickAngles),Ue._tickAngles={},Ue._depth=null;var fr={};function Dr(Br){var Qr=tr+(Br||"tick");return fr[Qr]||(fr[Qr]=rt(Ue,Qr,rn)),fr[Qr]}if(Ue.visible){var Nr=K.makeTransTickFn(Ue),Ur=K.makeTransTickLabelFn(Ue),on,gn,yn=Ue.ticks==="inside",Pn=Ue.ticks==="outside";if(Ue.tickson==="boundaries"){var zn=ye(Ue,bn);gn=K.clipEnds(Ue,zn),on=yn?gn:zn}else gn=K.clipEnds(Ue,bn),on=yn&&Ue.ticklabelmode!=="period"?gn:bn;var ta=Ue._gridVals=gn,Un=Ke(Ue,bn);if(!Ot._hasOnlyLargeSploms){var ra=Ue._subplotsWith,Jn={};for(rr=0;rr<ra.length;rr++){lr=ra[rr],qt=Ot._plots[lr];var ea=qt[mr+"axis"],pr=ea._mainAxis._id;if(!Jn[pr]){Jn[pr]=1;var Jr=dr==="x"?"M0,"+ea._offset+"v"+ea._length:"M"+ea._offset+",0h"+ea._length;K.drawGrid(We,Ue,{vals:ta,counterAxis:ea,layer:qt.gridlayer.select("."+tr),minorLayer:qt.minorGridlayer.select("."+tr),path:Jr,transFn:Nr}),K.drawZeroLine(We,Ue,{counterAxis:ea,layer:qt.zerolinelayer,path:Jr,transFn:Nr})}}}var Xr,vn=K.getTickSigns(Ue),Bn=K.getTickSigns(Ue,"minor");if(Ue.ticks||Ue.minor&&Ue.minor.ticks){var Tn=K.makeTickPath(Ue,rn,vn[2]),Mn=K.makeTickPath(Ue,rn,Bn[2],{minor:!0}),On,Wn,oa,Ra;if(Ue._anchorAxis&&Ue.mirror&&Ue.mirror!==!0?(On=K.makeTickPath(Ue,_r,vn[3]),Wn=K.makeTickPath(Ue,_r,Bn[3],{minor:!0}),oa=Tn+On,Ra=Mn+Wn):(On="",Wn="",oa=Tn,Ra=Mn),Ue.showdividers&&Pn&&Ue.tickson==="boundaries"){var Ar={};for(rr=0;rr<Un.length;rr++)Ar[Un[rr].x]=1;Xr=function(Br){return Ar[Br.x]?On:oa}}else Xr=function(Br){return Br.minor?Ra:oa}}if(K.drawTicks(We,Ue,{vals:on,layer:yr,path:Xr,transFn:Nr}),Ue.mirror==="allticks"){var Ir=Object.keys(Ue._linepositions||{});for(rr=0;rr<Ir.length;rr++){lr=Ir[rr],qt=Ot._plots[lr];var Tr=Ue._linepositions[lr]||[],Fr=Tr[0],dn=Tr[1],Ln=Tr[2],hn=K.makeTickPath(Ue,Fr,Ln?vn[0]:Bn[0],{minor:Ln})+K.makeTickPath(Ue,dn,Ln?vn[1]:Bn[1],{minor:Ln});K.drawTicks(We,Ue,{vals:on,layer:qt[dr+"axislayer"],path:hn,transFn:Nr})}}var ln=[];if(ln.push(function(){return K.drawLabels(We,Ue,{vals:bn,layer:yr,plotinfo:qt,transFn:Ur,labelFns:K.makeLabelFns(Ue,rn)})}),Ue.type==="multicategory"){var Mr={x:2,y:10}[dr];ln.push(function(){var Br={x:"height",y:"width"}[dr],Qr=Dr()[Br]+Mr+(Ue._tickAngles[tr+"tick"]?Ue.tickfont.size*ae:0);return K.drawLabels(We,Ue,{vals:Se(Ue,bn),layer:yr,cls:tr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Nr,labelFns:K.makeLabelFns(Ue,rn+Qr*vn[4])})}),ln.push(function(){return Ue._depth=vn[4]*(Dr("tick2")[Ue.side]-rn),Et(We,Ue,{vals:Un,layer:yr,path:K.makeTickPath(Ue,rn,vn[4],{len:Ue._depth}),transFn:Nr})})}else Ue.title.hasOwnProperty("standoff")&&ln.push(function(){Ue._depth=vn[4]*(Dr()[Ue.side]-rn)});var Yr=L.getComponentMethod("rangeslider","isVisible")(Ue);return!Ft.skipTitle&&!(Yr&&Ue.side==="bottom")&&ln.push(function(){return vr(We,Ue)}),ln.push(function(){var Br=Ue.side.charAt(0),Qr=se[Ue.side].charAt(0),wn=K.getPxPosition(We,Ue),En=Pn?Ue.ticklen:0,Cn,Fn,kn,ha;(Ue.automargin||Yr||Ue._shiftPusher)&&(Ue.type==="multicategory"?Cn=Dr("tick2"):(Cn=Dr(),dr==="x"&&Br==="b"&&(Ue._depth=Math.max(Cn.width>0?Cn.bottom-wn:0,En))));var ca=0,sa=0;if(Ue._shiftPusher&&(ca=Math.max(En,Cn.height>0?Br==="l"?wn-Cn.left:Cn.right-wn:0),Ue.title.text!==Ot._dfltTitle[dr]&&(sa=(Ue._titleStandoff||0)+(Ue._titleScoot||0),Br==="l"&&(sa+=Wt(Ue))),Ue._fullDepth=Math.max(ca,sa)),Ue.automargin){Fn={x:0,y:0,r:0,l:0,t:0,b:0};var Da=[0,1],si=typeof Ue._shift=="number"?Ue._shift:0;if(dr==="x"){if(Br==="b"?Fn[Br]=Ue._depth:(Fn[Br]=Ue._depth=Math.max(Cn.width>0?wn-Cn.top:0,En),Da.reverse()),Cn.width>0){var ii=Cn.right-(Ue._offset+Ue._length);ii>0&&(Fn.xr=1,Fn.r=ii);var Lo=Ue._offset-Cn.left;Lo>0&&(Fn.xl=0,Fn.l=Lo)}}else if(Br==="l"?(Ue._depth=Math.max(Cn.height>0?wn-Cn.left:0,En),Fn[Br]=Ue._depth-si):(Ue._depth=Math.max(Cn.height>0?Cn.right-wn:0,En),Fn[Br]=Ue._depth+si,Da.reverse()),Cn.height>0){var xo=Cn.bottom-(Ue._offset+Ue._length);xo>0&&(Fn.yb=0,Fn.b=xo);var Gs=Ue._offset-Cn.top;Gs>0&&(Fn.yt=1,Fn.t=Gs)}Fn[mr]=Ue.anchor==="free"?Ue.position:Ue._anchorAxis.domain[Da[0]],Ue.title.text!==Ot._dfltTitle[dr]&&(Fn[Br]+=Wt(Ue)+(Ue.title.standoff||0)),Ue.mirror&&Ue.anchor!=="free"&&(kn={x:0,y:0,r:0,l:0,t:0,b:0},kn[Qr]=Ue.linewidth,Ue.mirror&&Ue.mirror!==!0&&(kn[Qr]+=En),Ue.mirror===!0||Ue.mirror==="ticks"?kn[mr]=Ue._anchorAxis.domain[Da[1]]:(Ue.mirror==="all"||Ue.mirror==="allticks")&&(kn[mr]=[Ue._counterDomainMin,Ue._counterDomainMax][Da[1]]))}Yr&&(ha=L.getComponentMethod("rangeslider","autoMarginOpts")(We,Ue)),typeof Ue.automargin=="string"&&(Te(Fn,Ue.automargin),Te(kn,Ue.automargin)),i.autoMargin(We,sr(Ue),Fn),i.autoMargin(We,gt(Ue),kn),i.autoMargin(We,st(Ue),ha)}),C.syncOrAsync(ln)}};function Te(We,Ue){if(We){var Ft=Object.keys(z).reduce(function(kt,Zt){return Ue.indexOf(Zt)!==-1&&z[Zt].forEach(function(rr){kt[rr]=1}),kt},{});Object.keys(We).forEach(function(kt){Ft[kt]||(kt.length===1?We[kt]=0:delete We[kt])})}}function ye(We,Ue){var Ft=[],kt,Zt=function(rr,lr){var qt=rr.xbnd[lr];qt!==null&&Ft.push(C.extendFlat({},rr,{x:qt}))};if(Ue.length){for(kt=0;kt<Ue.length;kt++)Zt(Ue[kt],0);Zt(Ue[kt-1],1)}return Ft}function Se(We,Ue){for(var Ft=[],kt={},Zt=0;Zt<Ue.length;Zt++){var rr=Ue[Zt];kt[rr.text2]?kt[rr.text2].push(rr.x):kt[rr.text2]=[rr.x]}for(var lr in kt)Ft.push(ht(We,C.interp(kt[lr],.5),lr));return Ft}function Ke(We,Ue){var Ft=[],kt,Zt,rr=Ue.length&&Ue[Ue.length-1].x<Ue[0].x,lr=function(Ot,tr){var dr=Ot.xbnd[tr];dr!==null&&Ft.push(C.extendFlat({},Ot,{x:dr}))};if(We.showdividers&&Ue.length){for(kt=0;kt<Ue.length;kt++){var qt=Ue[kt];qt.text2!==Zt&&lr(qt,rr?1:0),Zt=qt.text2}lr(Ue[kt-1],rr?0:1)}return Ft}function rt(We,Ue,Ft){var kt,Zt,rr,lr;if(We._selections[Ue].size())kt=1/0,Zt=-1/0,rr=1/0,lr=-1/0,We._selections[Ue].each(function(){var Ot=gr(this),tr=s.bBox(Ot.node().parentNode);kt=Math.min(kt,tr.top),Zt=Math.max(Zt,tr.bottom),rr=Math.min(rr,tr.left),lr=Math.max(lr,tr.right)});else{var qt=K.makeLabelFns(We,Ft);kt=Zt=qt.yFn({dx:0,dy:0,fontSize:0}),rr=lr=qt.xFn({dx:0,dy:0,fontSize:0})}return{top:kt,bottom:Zt,left:rr,right:lr,height:Zt-kt,width:lr-rr}}K.getTickSigns=function(We,Ue){var Ft=We._id.charAt(0),kt={x:"top",y:"right"}[Ft],Zt=We.side===kt?1:-1,rr=[-1,1,Zt,-Zt],lr=Ue?(We.minor||{}).ticks:We.ticks;return lr!=="inside"==(Ft==="x")&&(rr=rr.map(function(qt){return-qt})),We.side&&rr.push({l:-1,t:-1,r:1,b:1}[We.side.charAt(0)]),rr},K.makeTransTickFn=function(We){return We._id.charAt(0)==="x"?function(Ue){return c(We._offset+We.l2p(Ue.x),0)}:function(Ue){return c(0,We._offset+We.l2p(Ue.x))}},K.makeTransTickLabelFn=function(We){var Ue=It(We),Ft=Ue[0],kt=Ue[1];return We._id.charAt(0)==="x"?function(Zt){return c(Ft+We._offset+We.l2p(Lt(Zt)),kt)}:function(Zt){return c(kt,Ft+We._offset+We.l2p(Lt(Zt)))}};function Lt(We){return We.periodX!==void 0?We.periodX:We.x}function It(We){var Ue=We.ticklabelposition||"",Ft=function($r){return Ue.indexOf($r)!==-1},kt=Ft("top"),Zt=Ft("left"),rr=Ft("right"),lr=Ft("bottom"),qt=Ft("inside"),Ot=lr||Zt||kt||rr;if(!Ot&&!qt)return[0,0];var tr=We.side,dr=Ot?(We.tickwidth||0)/2:0,mr=ue,Cr=We.tickfont?We.tickfont.size:12;return(lr||kt)&&(dr+=Cr*J,mr+=(We.linewidth||0)/2),(Zt||rr)&&(dr+=(We.linewidth||0)/2,mr+=ue),qt&&tr==="top"&&(mr-=Cr*(1-J)),(Zt||kt)&&(dr=-dr),(tr==="bottom"||tr==="right")&&(mr=-mr),[Ot?dr:0,qt?mr:0]}K.makeTickPath=function(We,Ue,Ft,kt){kt||(kt={});var Zt=kt.minor;if(Zt&&!We.minor)return"";var rr=kt.len!==void 0?kt.len:Zt?We.minor.ticklen:We.ticklen,lr=We._id.charAt(0),qt=(We.linewidth||1)/2;return lr==="x"?"M0,"+(Ue+qt*Ft)+"v"+rr*Ft:"M"+(Ue+qt*Ft)+",0h"+rr*Ft},K.makeLabelFns=function(We,Ue,Ft){var kt=We.ticklabelposition||"",Zt=function(zn){return kt.indexOf(zn)!==-1},rr=Zt("top"),lr=Zt("left"),qt=Zt("right"),Ot=Zt("bottom"),tr=Ot||lr||rr||qt,dr=Zt("inside"),mr=kt==="inside"&&We.ticks==="inside"||!dr&&We.ticks==="outside"&&We.tickson!=="boundaries",Cr=0,$r=0,yr=mr?We.ticklen:0;if(dr?yr*=-1:tr&&(yr=0),mr&&(Cr+=yr,Ft)){var Gr=C.deg2rad(Ft);Cr=yr*Math.cos(Gr)+1,$r=yr*Math.sin(Gr)}We.showticklabels&&(mr||We.showline)&&(Cr+=.2*We.tickfont.size),Cr+=(We.linewidth||1)/2*(dr?-1:1);var rn={labelStandoff:Cr,labelShift:$r},_r,bn,xn,fr,Dr=0,Nr=We.side,Ur=We._id.charAt(0),on=We.tickangle,gn;if(Ur==="x")gn=!dr&&Nr==="bottom"||dr&&Nr==="top",fr=gn?1:-1,dr&&(fr*=-1),_r=$r*fr,bn=Ue+Cr*fr,xn=gn?1:-.2,Math.abs(on)===90&&(dr?xn+=Y:on===-90&&Nr==="bottom"?xn=J:on===90&&Nr==="top"?xn=Y:xn=.5,Dr=Y/2*(on/90)),rn.xFn=function(zn){return zn.dx+_r+Dr*zn.fontSize},rn.yFn=function(zn){return zn.dy+bn+zn.fontSize*xn},rn.anchorFn=function(zn,ta){if(tr){if(lr)return"end";if(qt)return"start"}return!P(ta)||ta===0||ta===180?"middle":ta*fr<0!==dr?"end":"start"},rn.heightFn=function(zn,ta,Un){return ta<-60||ta>60?-.5*Un:We.side==="top"!==dr?-Un:0};else if(Ur==="y"){if(gn=!dr&&Nr==="left"||dr&&Nr==="right",fr=gn?1:-1,dr&&(fr*=-1),_r=Cr,bn=$r*fr,xn=0,!dr&&Math.abs(on)===90&&(on===-90&&Nr==="left"||on===90&&Nr==="right"?xn=J:xn=.5),dr){var yn=P(on)?+on:0;if(yn!==0){var Pn=C.deg2rad(yn);Dr=Math.abs(Math.sin(Pn))*J*fr,xn=0}}rn.xFn=function(zn){return zn.dx+Ue-(_r+zn.fontSize*xn)*fr+Dr*zn.fontSize},rn.yFn=function(zn){return zn.dy+bn+zn.fontSize*Y},rn.anchorFn=function(zn,ta){return P(ta)&&Math.abs(ta)===90?"middle":gn?"end":"start"},rn.heightFn=function(zn,ta,Un){return We.side==="right"&&(ta*=-1),ta<-30?-Un:ta<30?-.5*Un:0}}return rn};function wt(We){return[We.text,We.x,We.axInfo,We.font,We.fontSize,We.fontColor].join("_")}K.drawTicks=function(We,Ue,Ft){Ft=Ft||{};var kt=Ue._id+"tick",Zt=[].concat(Ue.minor&&Ue.minor.ticks?Ft.vals.filter(function(lr){return lr.minor&&!lr.noTick}):[]).concat(Ue.ticks?Ft.vals.filter(function(lr){return!lr.minor&&!lr.noTick}):[]),rr=Ft.layer.selectAll("path."+kt).data(Zt,wt);rr.exit().remove(),rr.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",Ft.crisp!==!1).each(function(lr){return t.stroke(x.select(this),lr.minor?Ue.minor.tickcolor:Ue.tickcolor)}).style("stroke-width",function(lr){return s.crispRound(We,lr.minor?Ue.minor.tickwidth:Ue.tickwidth,1)+"px"}).attr("d",Ft.path).style("display",null),ir(Ue,[_]),rr.attr("transform",Ft.transFn)},K.drawGrid=function(We,Ue,Ft){if(Ft=Ft||{},Ue.tickmode!=="sync"){var kt=Ue._id+"grid",Zt=Ue.minor&&Ue.minor.showgrid,rr=Zt?Ft.vals.filter(function(_r){return _r.minor}):[],lr=Ue.showgrid?Ft.vals.filter(function(_r){return!_r.minor}):[],qt=Ft.counterAxis;if(qt&&K.shouldShowZeroLine(We,Ue,qt))for(var Ot=Ue.tickmode==="array",tr=0;tr<lr.length;tr++){var dr=lr[tr].x;if(Ot?!dr:Math.abs(dr)<Ue.dtick/100)if(lr=lr.slice(0,tr).concat(lr.slice(tr+1)),Ot)tr--;else break}Ue._gw=s.crispRound(We,Ue.gridwidth,1);for(var mr=Zt?s.crispRound(We,Ue.minor.gridwidth,1):0,Cr=Ft.layer,$r=Ft.minorLayer,yr=1;yr>=0;yr--){var Gr=yr?Cr:$r;if(Gr){var rn=Gr.selectAll("path."+kt).data(yr?lr:rr,wt);rn.exit().remove(),rn.enter().append("path").classed(kt,1).classed("crisp",Ft.crisp!==!1),rn.attr("transform",Ft.transFn).attr("d",Ft.path).each(function(_r){return t.stroke(x.select(this),_r.minor?Ue.minor.gridcolor:Ue.gridcolor||"#ddd")}).style("stroke-dasharray",function(_r){return s.dashStyle(_r.minor?Ue.minor.griddash:Ue.griddash,_r.minor?Ue.minor.gridwidth:Ue.gridwidth)}).style("stroke-width",function(_r){return(_r.minor?mr:Ue._gw)+"px"}).style("display",null),typeof Ft.path=="function"&&rn.attr("d",Ft.path)}}ir(Ue,[B,F])}},K.drawZeroLine=function(We,Ue,Ft){Ft=Ft||Ft;var kt=Ue._id+"zl",Zt=K.shouldShowZeroLine(We,Ue,Ft.counterAxis),rr=Ft.layer.selectAll("path."+kt).data(Zt?[{x:0,id:Ue._id}]:[]);rr.exit().remove(),rr.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",Ft.crisp!==!1).each(function(){Ft.layer.selectAll("path").sort(function(lr,qt){return W(lr.id,qt.id)})}),rr.attr("transform",Ft.transFn).attr("d",Ft.path).call(t.stroke,Ue.zerolinecolor||t.defaultLine).style("stroke-width",s.crispRound(We,Ue.zerolinewidth,Ue._gw||1)+"px").style("display",null),ir(Ue,[R])},K.drawLabels=function(We,Ue,Ft){Ft=Ft||{};var kt=We._fullLayout,Zt=Ue._id,rr=Ft.cls||Zt+"tick",lr=Ft.vals.filter(function(pr){return pr.text}),qt=Ft.labelFns,Ot=Ft.secondary?0:Ue.tickangle,tr=(Ue._prevTickAngles||{})[rr],dr=Ft.layer.selectAll("g."+rr).data(Ue.showticklabels?lr:[],wt),mr=[];dr.enter().append("g").classed(rr,1).append("text").attr("text-anchor","middle").each(function(pr){var Jr=x.select(this),Xr=We._promises.length;Jr.call(y.positionText,qt.xFn(pr),qt.yFn(pr)).call(s.font,pr.font,pr.fontSize,pr.fontColor).text(pr.text).call(y.convertToTspans,We),We._promises[Xr]?mr.push(We._promises.pop().then(function(){Cr(Jr,Ot)})):Cr(Jr,Ot)}),ir(Ue,[O]),dr.exit().remove(),Ft.repositionOnUpdate&&dr.each(function(pr){x.select(this).select("text").call(y.positionText,qt.xFn(pr),qt.yFn(pr))});function Cr(pr,Jr){pr.each(function(Xr){var vn=x.select(this),Bn=vn.select(".text-math-group"),Tn=qt.anchorFn(Xr,Jr),Mn=Ft.transFn.call(vn.node(),Xr)+(P(Jr)&&+Jr!=0?" rotate("+Jr+","+qt.xFn(Xr)+","+(qt.yFn(Xr)-Xr.fontSize/2)+")":""),On=y.lineCount(vn),Wn=ae*Xr.fontSize,oa=qt.heightFn(Xr,P(Jr)?+Jr:0,(On-1)*Wn);if(oa&&(Mn+=c(0,oa)),Bn.empty()){var Ra=vn.select("text");Ra.attr({transform:Mn,"text-anchor":Tn}),Ra.style("opacity",1),Ue._adjustTickLabelsOverflow&&Ue._adjustTickLabelsOverflow()}else{var Ar=s.bBox(Bn.node()).width,Ir=Ar*{end:-.5,start:.5}[Tn];Bn.attr("transform",Mn+c(Ir,0))}})}Ue._adjustTickLabelsOverflow=function(){var pr=Ue.ticklabeloverflow;if(!(!pr||pr==="allow")){var Jr=pr.indexOf("hide")!==-1,Xr=Ue._id.charAt(0)==="x",vn=0,Bn=Xr?We._fullLayout.width:We._fullLayout.height;if(pr.indexOf("domain")!==-1){var Tn=C.simpleMap(Ue.range,Ue.r2l);vn=Ue.l2p(Tn[0])+Ue._offset,Bn=Ue.l2p(Tn[1])+Ue._offset}var Mn=Math.min(vn,Bn),On=Math.max(vn,Bn),Wn=Ue.side,oa=1/0,Ra=-1/0;dr.each(function(Fr){var dn=x.select(this),Ln=dn.select(".text-math-group");if(Ln.empty()){var hn=s.bBox(dn.node()),ln=0;Xr?(hn.right>On||hn.left<Mn)&&(ln=1):(hn.bottom>On||hn.top+(Ue.tickangle?0:Fr.fontSize/4)<Mn)&&(ln=1);var Mr=dn.select("text");ln?Jr&&Mr.style("opacity",0):(Mr.style("opacity",1),Wn==="bottom"||Wn==="right"?oa=Math.min(oa,Xr?hn.top:hn.left):oa=-1/0,Wn==="top"||Wn==="left"?Ra=Math.max(Ra,Xr?hn.bottom:hn.right):Ra=1/0)}});for(var Ar in kt._plots){var Ir=kt._plots[Ar];if(!(Ue._id!==Ir.xaxis._id&&Ue._id!==Ir.yaxis._id)){var Tr=Xr?Ir.yaxis:Ir.xaxis;Tr&&(Tr["_visibleLabelMin_"+Ue._id]=oa,Tr["_visibleLabelMax_"+Ue._id]=Ra)}}}},Ue._hideCounterAxisInsideTickLabels=function(pr){var Jr=Ue._id.charAt(0)==="x",Xr=[];for(var vn in kt._plots){var Bn=kt._plots[vn];Ue._id!==Bn.xaxis._id&&Ue._id!==Bn.yaxis._id||Xr.push(Jr?Bn.yaxis:Bn.xaxis)}Xr.forEach(function(Tn,Mn){Tn&&Xt(Tn)&&(pr||[R,F,B,_,O]).forEach(function(On){var Wn=On.K==="tick"&&On.L==="text"&&Ue.ticklabelmode==="period",oa=kt._plots[Ue._mainSubplot],Ra;On.K===R.K?Ra=oa.zerolinelayer.selectAll("."+Ue._id+"zl"):On.K===F.K?Ra=oa.minorGridlayer.selectAll("."+Ue._id):On.K===B.K?Ra=oa.gridlayer.selectAll("."+Ue._id):Ra=oa[Ue._id.charAt(0)+"axislayer"],Ra.each(function(){var Ar=x.select(this);On.L&&(Ar=Ar.selectAll(On.L)),Ar.each(function(Ir){var Tr=Ue.l2p(Wn?Lt(Ir):Ir.x)+Ue._offset,Fr=x.select(this);Tr<Ue["_visibleLabelMax_"+Tn._id]&&Tr>Ue["_visibleLabelMin_"+Tn._id]?Fr.style("display","none"):On.K==="tick"&&!Mn&&Fr.style("display",null)})})})})},Cr(dr,tr+1?tr:Ot);function $r(){return mr.length&&Promise.all(mr)}var yr=null;function Gr(){if(Cr(dr,Ot),lr.length&&Ue.autotickangles&&(Ue.type!=="log"||String(Ue.dtick).charAt(0)!=="D")){yr=Ue.autotickangles[0];var pr=0,Jr=[],Xr,vn=1;if(dr.each(function(En){pr=Math.max(pr,En.fontSize);var Cn=Ue.l2p(En.x),Fn=gr(this),kn=s.bBox(Fn.node());vn=Math.max(vn,y.lineCount(Fn)),Jr.push({top:0,bottom:10,height:10,left:Cn-kn.width/2,right:Cn+kn.width/2+2,width:kn.width+2})}),(Ue.tickson==="boundaries"||Ue.showdividers)&&!Ft.secondary){var Bn=2;for(Ue.ticks&&(Bn+=Ue.tickwidth/2),Xr=0;Xr<Jr.length;Xr++){var Tn=lr[Xr].xbnd,Mn=Jr[Xr];if(Tn[0]!==null&&Mn.left-Ue.l2p(Tn[0])<Bn||Tn[1]!==null&&Ue.l2p(Tn[1])-Mn.right<Bn){yr=90;break}}}else{var On=lr.length,Wn=Math.abs((lr[On-1].x-lr[0].x)*Ue._m)/(On-1),oa=Ue.ticklabelposition||"",Ra=function(En){return oa.indexOf(En)!==-1},Ar=Ra("top"),Ir=Ra("left"),Tr=Ra("right"),Fr=Ra("bottom"),dn=Fr||Ir||Ar||Tr,Ln=dn?(Ue.tickwidth||0)+2*ue:0,hn=Wn,ln=pr*1.25*vn,Mr=Math.sqrt(Math.pow(hn,2)+Math.pow(ln,2)),Yr=hn/Mr,Br=Ue.autotickangles.map(function(En){return En*Math.PI/180}),Qr=Br.find(function(En){return Math.abs(Math.cos(En))<=Yr});Qr===void 0&&(Qr=Br.reduce(function(En,Cn){return Math.abs(Math.cos(En))<Math.abs(Math.cos(Cn))?En:Cn},Br[0]));var wn=Qr*(180/Math.PI);for(Xr=0;Xr<Jr.length-1;Xr++)if(C.bBoxIntersect(Jr[Xr],Jr[Xr+1],Ln)){yr=wn;break}}yr&&Cr(dr,yr)}}Ue._selections&&(Ue._selections[rr]=dr);var rn=[$r];Ue.automargin&&kt._redrawFromAutoMarginCount&&tr===90?(yr=tr,rn.push(function(){Cr(dr,tr)})):rn.push(Gr),Ue._tickAngles&&rn.push(function(){Ue._tickAngles[rr]=yr===null?P(Ot)?Ot:0:yr});var _r=function(){var pr=0,Jr=0;return dr.each(function(Xr,vn){var Bn=gr(this),Tn=Bn.select(".text-math-group");if(Tn.empty()){var Mn;Ue._vals[vn]&&(Mn=Ue._vals[vn].bb||s.bBox(Bn.node()),Ue._vals[vn].bb=Mn),pr=Math.max(pr,Mn.width),Jr=Math.max(Jr,Mn.height)}}),{labelsMaxW:pr,labelsMaxH:Jr}},bn=Ue._anchorAxis;if(bn&&(bn.autorange||bn.insiderange)&&Xt(Ue)&&!Q(kt,Ue._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),bn.autorange&&(kt._insideTickLabelsUpdaterange[bn._name+".autorange"]=bn.autorange,rn.push(_r)),bn.insiderange)){var xn=_r(),fr=Ue._id.charAt(0)==="y"?xn.labelsMaxW:xn.labelsMaxH;fr+=2*ue,Ue.ticklabelposition==="inside"&&(fr+=Ue.ticklen||0);var Dr=Ue.side==="right"||Ue.side==="top"?1:-1,Nr=Dr===1?1:0,Ur=Dr===1?0:1,on=[];on[Ur]=bn.range[Ur];var gn=bn.range,yn=bn.r2p(gn[Nr]),Pn=bn.r2p(gn[Ur]),zn=kt._insideTickLabelsUpdaterange[bn._name+".range"];if(zn){var ta=bn.r2p(zn[Nr]),Un=bn.r2p(zn[Ur]),ra=Dr*(Ue._id.charAt(0)==="y"?1:-1);ra*yn<ra*ta&&(yn=ta,on[Nr]=gn[Nr]=zn[Nr]),ra*Pn>ra*Un&&(Pn=Un,on[Ur]=gn[Ur]=zn[Ur])}var Jn=Math.abs(Pn-yn);Jn-fr>0?(Jn-=fr,fr*=1+fr/Jn):fr=0,Ue._id.charAt(0)!=="y"&&(fr=-fr),on[Nr]=bn.p2r(bn.r2p(gn[Nr])+Dr*fr),bn.autorange==="min"||bn.autorange==="max reversed"?(on[0]=null,bn._rangeInitial0=void 0,bn._rangeInitial1=void 0):(bn.autorange==="max"||bn.autorange==="min reversed")&&(on[1]=null,bn._rangeInitial0=void 0,bn._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[bn._name+".range"]=on}var ea=C.syncOrAsync(rn);return ea&&ea.then&&We._promises.push(ea),ea};function Et(We,Ue,Ft){var kt=Ue._id+"divider",Zt=Ft.vals,rr=Ft.layer.selectAll("path."+kt).data(Zt,wt);rr.exit().remove(),rr.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(t.stroke,Ue.dividercolor).style("stroke-width",s.crispRound(We,Ue.dividerwidth,1)+"px"),rr.attr("transform",Ft.transFn).attr("d",Ft.path)}K.getPxPosition=function(We,Ue){var Ft=We._fullLayout._size,kt=Ue._id.charAt(0),Zt=Ue.side,rr;if(Ue.anchor!=="free"?rr=Ue._anchorAxis:kt==="x"?rr={_offset:Ft.t+(1-(Ue.position||0))*Ft.h,_length:0}:kt==="y"&&(rr={_offset:Ft.l+(Ue.position||0)*Ft.w+Ue._shift,_length:0}),Zt==="top"||Zt==="left")return rr._offset;if(Zt==="bottom"||Zt==="right")return rr._offset+rr._length};function Wt(We){var Ue=We.title.font.size,Ft=(We.title.text.match(y.BR_TAG_ALL)||[]).length;return We.title.hasOwnProperty("standoff")?Ft?Ue*(J+Ft*ae):Ue*J:Ft?Ue*(Ft+1)*ae:Ue}function vr(We,Ue){var Ft=We._fullLayout,kt=Ue._id,Zt=kt.charAt(0),rr=Ue.title.font.size,lr;if(Ue.title.hasOwnProperty("standoff"))lr=Ue._depth+Ue.title.standoff+Wt(Ue);else{var qt=Xt(Ue);if(Ue.type==="multicategory")lr=Ue._depth;else{var Ot=1.5*rr;qt&&(Ot=.5*rr,Ue.ticks==="outside"&&(Ot+=Ue.ticklen)),lr=10+Ot+(Ue.linewidth?Ue.linewidth-1:0)}qt||(Zt==="x"?lr+=Ue.side==="top"?rr*(Ue.showticklabels?1:0):rr*(Ue.showticklabels?1.5:.5):lr+=Ue.side==="right"?rr*(Ue.showticklabels?1:.5):rr*(Ue.showticklabels?.5:0))}var tr=K.getPxPosition(We,Ue),dr,mr,Cr;Zt==="x"?(mr=Ue._offset+Ue._length/2,Cr=Ue.side==="top"?tr-lr:tr+lr):(Cr=Ue._offset+Ue._length/2,mr=Ue.side==="right"?tr+lr:tr-lr,dr={rotate:"-90",offset:0});var $r;if(Ue.type!=="multicategory"){var yr=Ue._selections[Ue._id+"tick"];if($r={selection:yr,side:Ue.side},yr&&yr.node()&&yr.node().parentNode){var Gr=s.getTranslate(yr.node().parentNode);$r.offsetLeft=Gr.x,$r.offsetTop=Gr.y}Ue.title.hasOwnProperty("standoff")&&($r.pad=0)}return Ue._titleStandoff=lr,r.draw(We,kt+"title",{propContainer:Ue,propName:Ue._name+".title.text",placeholder:Ft._dfltTitle[Zt],avoid:$r,transform:dr,attributes:{x:mr,y:Cr,"text-anchor":"middle"}})}K.shouldShowZeroLine=function(We,Ue,Ft){var kt=C.simpleMap(Ue.range,Ue.r2l);return kt[0]*kt[1]<=0&&Ue.zeroline&&(Ue.type==="linear"||Ue.type==="-")&&!(Ue.rangebreaks&&Ue.maskBreaks(0)===k)&&(dt(Ue,0)||!Yt(We,Ue,Ft,kt)||jt(We,Ue))},K.clipEnds=function(We,Ue){return Ue.filter(function(Ft){return dt(We,Ft.x)})};function dt(We,Ue){var Ft=We.l2p(Ue);return Ft>1&&Ft<We._length-1}function Yt(We,Ue,Ft,kt){var Zt=Ft._mainAxis;if(!Zt)return;var rr=We._fullLayout,lr=Ue._id.charAt(0),qt=K.counterLetter(Ue._id),Ot=Ue._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(lr==="x")?0:Ue._length);function tr(yr){if(!yr.showline||!yr.linewidth)return!1;var Gr=Math.max((yr.linewidth+Ue.zerolinewidth)/2,1);function rn(xn){return typeof xn=="number"&&Math.abs(xn-Ot)<Gr}if(rn(yr._mainLinePosition)||rn(yr._mainMirrorPosition))return!0;var _r=yr._linepositions||{};for(var bn in _r)if(rn(_r[bn][0])||rn(_r[bn][1]))return!0}var dr=rr._plots[Ft._mainSubplot];if(!(dr.mainplotinfo||dr).overlays.length)return tr(Ft,Ot);for(var mr=K.list(We,qt),Cr=0;Cr<mr.length;Cr++){var $r=mr[Cr];if($r._mainAxis===Zt&&tr($r,Ot))return!0}}function jt(We,Ue){for(var Ft=We._fullData,kt=Ue._mainSubplot,Zt=Ue._id.charAt(0),rr=0;rr<Ft.length;rr++){var lr=Ft[rr];if(lr.visible===!0&&lr.xaxis+lr.yaxis===kt&&(L.traceIs(lr,"bar-like")&&lr.orientation==={x:"h",y:"v"}[Zt]||lr.fill&&lr.fill.charAt(lr.fill.length-1)===Zt))return!0}return!1}function gr(We){var Ue=x.select(We),Ft=Ue.select(".text-math-group");return Ft.empty()?Ue.select("text"):Ft}K.allowAutoMargin=function(We){for(var Ue=K.list(We,"",!0),Ft=0;Ft<Ue.length;Ft++){var kt=Ue[Ft];kt.automargin&&(i.allowAutoMargin(We,sr(kt)),kt.mirror&&i.allowAutoMargin(We,gt(kt))),L.getComponentMethod("rangeslider","isVisible")(kt)&&i.allowAutoMargin(We,st(kt))}};function sr(We){return We._id+".automargin"}function gt(We){return sr(We)+".mirror"}function st(We){return We._id+".rangeslider"}K.swap=function(We,Ue){for(var Ft=xt(We,Ue),kt=0;kt<Ft.length;kt++)Rt(We,Ft[kt].x,Ft[kt].y)};function xt(We,Ue){var Ft=[],kt,Zt;for(kt=0;kt<Ue.length;kt++){var rr=[],lr=We._fullData[Ue[kt]].xaxis,qt=We._fullData[Ue[kt]].yaxis;if(!(!lr||!qt)){for(Zt=0;Zt<Ft.length;Zt++)(Ft[Zt].x.indexOf(lr)!==-1||Ft[Zt].y.indexOf(qt)!==-1)&&rr.push(Zt);if(!rr.length){Ft.push({x:[lr],y:[qt]});continue}var Ot=Ft[rr[0]],tr;if(rr.length>1)for(Zt=1;Zt<rr.length;Zt++)tr=Ft[rr[Zt]],Mt(Ot.x,tr.x),Mt(Ot.y,tr.y);Mt(Ot.x,[lr]),Mt(Ot.y,[qt])}}return Ft}function Mt(We,Ue){for(var Ft=0;Ft<Ue.length;Ft++)We.indexOf(Ue[Ft])===-1&&We.push(Ue[Ft])}function Rt(We,Ue,Ft){var kt=[],Zt=[],rr=We.layout,lr,qt;for(lr=0;lr<Ue.length;lr++)kt.push(K.getFromId(We,Ue[lr]));for(lr=0;lr<Ft.length;lr++)Zt.push(K.getFromId(We,Ft[lr]));var Ot=Object.keys(n),tr=["anchor","domain","overlaying","position","side","tickangle","editType"],dr=["linear","log"];for(lr=0;lr<Ot.length;lr++){var mr=Ot[lr],Cr=kt[0][mr],$r=Zt[0][mr],yr=!0,Gr=!1,rn=!1;if(!(mr.charAt(0)==="_"||typeof Cr=="function"||tr.indexOf(mr)!==-1)){for(qt=1;qt<kt.length&&yr;qt++){var _r=kt[qt][mr];mr==="type"&&dr.indexOf(Cr)!==-1&&dr.indexOf(_r)!==-1&&Cr!==_r?Gr=!0:_r!==Cr&&(yr=!1)}for(qt=1;qt<Zt.length&&yr;qt++){var bn=Zt[qt][mr];mr==="type"&&dr.indexOf($r)!==-1&&dr.indexOf(bn)!==-1&&$r!==bn?rn=!0:Zt[qt][mr]!==$r&&(yr=!1)}yr&&(Gr&&(rr[kt[0]._name].type="linear"),rn&&(rr[Zt[0]._name].type="linear"),Vt(rr,mr,kt,Zt,We._fullLayout._dfltTitle))}}for(lr=0;lr<We._fullLayout.annotations.length;lr++){var xn=We._fullLayout.annotations[lr];Ue.indexOf(xn.xref)!==-1&&Ft.indexOf(xn.yref)!==-1&&C.swapAttrs(rr.annotations[lr],["?"])}}function Vt(We,Ue,Ft,kt,Zt){var rr=C.nestedProperty,lr=rr(We[Ft[0]._name],Ue).get(),qt=rr(We[kt[0]._name],Ue).get(),Ot;for(Ue==="title"&&(lr&&lr.text===Zt.x&&(lr.text=Zt.y),qt&&qt.text===Zt.y&&(qt.text=Zt.x)),Ot=0;Ot<Ft.length;Ot++)rr(We,Ft[Ot]._name+"."+Ue).set(qt);for(Ot=0;Ot<kt.length;Ot++)rr(We,kt[Ot]._name+"."+Ue).set(lr)}function Ct(We){return We._id==="angularaxis"}function Bt(We,Ue){for(var Ft=Ue._rangebreaks.length,kt=0;kt<Ft;kt++){var Zt=Ue._rangebreaks[kt];if(We>=Zt.min&&We<Zt.max)return Zt.max}return We}function Xt(We){return(We.ticklabelposition||"").indexOf("inside")!==-1}function ir(We,Ue){Xt(We._anchorAxis||{})&&We._hideCounterAxisInsideTickLabels&&We._hideCounterAxisInsideTickLabels(Ue)}function or(We,Ue,Ft,kt){var Zt=We.anchor!=="free"&&(We.overlaying===void 0||We.overlaying===!1)?We._id:We.overlaying,rr;kt?rr=We.side==="right"?Ue:-Ue:rr=Ue,Zt in Ft||(Ft[Zt]={}),We.side in Ft[Zt]||(Ft[Zt][We.side]=0),Ft[Zt][We.side]+=rr}function cr(We,Ue){return We.autoshift?Ue[We.overlaying][We.side]:We.shift||0}},52976:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(39032).BADNUM,L=P.isArrayOrTypedArray,C=P.isDateTime,c=P.cleanNumber,y=Math.round;V.exports=function(g,h,w){var d=g,o=w.noMultiCategory;if(L(d)&&!d.length)return"-";if(!o&&l(d))return"multicategory";if(o&&Array.isArray(d[0])){for(var v=[],A=0;A<d.length;A++)if(L(d[A]))for(var b=0;b<d[A].length;b++)v.push(d[A][b]);d=v}if(s(d,h))return"date";var M=w.autotypenumbers!=="strict";return u(d,M)?"category":t(d,M)?"linear":"-"};function r(f,g){return g?x(f):typeof f=="number"}function t(f,g){for(var h=f.length,w=0;w<h;w++)if(r(f[w],g))return!0;return!1}function s(f,g){for(var h=f.length,w=n(h),d=0,o=0,v={},A=0;A<h;A+=w){var b=y(A),M=f[b],m=String(M);v[m]||(v[m]=1,C(M,g)&&d++,x(M)&&o++)}return d>o*2}function n(f){return Math.max(1,(f-1)/1e3)}function u(f,g){for(var h=f.length,w=n(h),d=0,o=0,v={},A=0;A<h;A+=w){var b=y(A),M=f[b],m=String(M);if(!v[m]){v[m]=1;var S=typeof M;S==="boolean"?o++:(g?c(M)!==i:S==="number")?d++:S==="string"&&o++}}return o>d*2}function l(f){return L(f[0])&&L(f[1])}},28336:function(V,U,e){"use strict";var x=e(38248),P=e(24040),i=e(3400),L=e(31780),C=e(51272),c=e(94724),y=e(26332),r=e(25404),t=e(95936),s=e(42568),n=e(22416),u=e(42136),l=e(96312),f=e(78344),g=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;V.exports=function(A,b,M,m,S){var T=m.letter,a=m.font||{},E=m.splomStash||{},p=M("visible",!m.visibleDflt),k=b._template||{},R=b.type||k.type||"-",B;if(R==="date"){var F=P.getComponentMethod("calendars","handleDefaults");F(A,b,"calendar",m.calendar),m.noTicklabelmode||(B=M("ticklabelmode"))}var _="";(!m.noTicklabelposition||R==="multicategory")&&(_=i.coerce(A,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:B==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||M("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":R==="category"||R==="multicategory"?"allow":"hide past div"),f(b,S),l(A,b,M,m),n(A,b,M,m),R!=="category"&&!m.noHover&&M("hoverformat");var O=M("color"),z=O!==c.color.dflt?O:a.color,N=E.label||S._dfltTitle[T];if(s(A,b,M,R,m),!p)return b;M("title.text",N),i.coerceFont(M,"title.font",{family:a.family,size:i.bigFont(a.size),color:z}),y(A,b,M,R);var Y=m.hasMinor;if(Y&&(L.newContainer(b,"minor"),y(A,b,M,R,{isMinor:!0})),t(A,b,M,R,m),r(A,b,M,m),Y){var J=m.isMinor;m.isMinor=!0,r(A,b,M,m),m.isMinor=J}u(A,b,M,{dfltColor:O,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:Y,attributes:c}),Y&&!b.minor.ticks&&!b.minor.showgrid&&delete b.minor,(b.showline||b.ticks)&&M("mirror");var ae=R==="multicategory";if(!m.noTickson&&(R==="category"||ae)&&(b.ticks||b.showgrid)){var se;ae&&(se="boundaries");var ue=M("tickson",se);ue==="boundaries"&&delete b.ticklabelposition}if(ae){var K=M("showdividers");K&&(M("dividercolor"),M("dividerwidth"))}if(R==="date")if(C(A,b,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:w}),!b.rangebreaks.length)delete b.rangebreaks;else{for(var j=0;j<b.rangebreaks.length;j++)if(b.rangebreaks[j].pattern===g){b._hasDayOfWeekBreaks=!0;break}if(f(b,S),S._has("scattergl")||S._has("splom"))for(var ie=0;ie<m.data.length;ie++){var W=m.data[ie];(W.type==="scattergl"||W.type==="splom")&&(W.visible=!1,i.warn(W.type+" traces do not work on axes with rangebreaks. Setting trace "+W.index+" to `visible: false`."))}}return b};function w(v,A,b){function M(B,F){return i.coerce(v,A,c.rangebreaks,B,F)}var m=M("enabled");if(m){var S=M("bounds");if(S&&S.length>=2){var T="",a,E;if(S.length===2){for(a=0;a<2;a++)if(E=o(S[a]),E){T=g;break}}var p=M("pattern",T);if(p===g)for(a=0;a<2;a++)E=o(S[a]),E&&(A.bounds[a]=S[a]=E-1);if(p)for(a=0;a<2;a++)switch(E=S[a],p){case g:if(!x(E)){A.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){A.enabled=!1;return}A.bounds[a]=S[a]=E;break;case h:if(!x(E)){A.enabled=!1;return}if(E=+E,E<0||E>24){A.enabled=!1;return}A.bounds[a]=S[a]=E;break}if(b.autorange===!1){var k=b.range;if(k[0]<k[1]){if(S[0]<k[0]&&S[1]>k[1]){A.enabled=!1;return}}else if(S[0]>k[0]&&S[1]<k[1]){A.enabled=!1;return}}}else{var R=M("values");if(R&&R.length)M("dvalue");else{A.enabled=!1;return}}}}var d={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(v){if(typeof v=="string")return d[v.substr(0,3).toLowerCase()]}},29736:function(V,U,e){"use strict";var x=e(26880),P=x.FORMAT_LINK,i=x.DATE_FORMAT_LINK;function L(y,r){return{valType:"string",dflt:"",editType:"none",description:(r?C:c)("hover text",y)+["By default the values are formatted using "+(r?"generic number format":"`"+y+"axis.hoverformat`")+"."].join(" ")}}function C(y,r){return["Sets the "+y+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function c(y,r){return C(y,r)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}V.exports={axisHoverFormat:L,descriptionOnlyNumbers:C,descriptionWithDates:c}},79811:function(V,U,e){"use strict";var x=e(24040),P=e(33816);U.id2name=function(C){if(!(typeof C!="string"||!C.match(P.AX_ID_PATTERN))){var c=C.split(" ")[0].substr(1);return c==="1"&&(c=""),C.charAt(0)+"axis"+c}},U.name2id=function(C){if(C.match(P.AX_NAME_PATTERN)){var c=C.substr(5);return c==="1"&&(c=""),C.charAt(0)+c}},U.cleanId=function(C,c,y){var r=/( domain)$/.test(C);if(!(typeof C!="string"||!C.match(P.AX_ID_PATTERN))&&!(c&&C.charAt(0)!==c)&&!(r&&!y)){var t=C.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),C.charAt(0)+t+(r&&y?" domain":"")}},U.list=function(L,C,c){var y=L._fullLayout;if(!y)return[];var r=U.listIds(L,C),t=new Array(r.length),s;for(s=0;s<r.length;s++){var n=r[s];t[s]=y[n.charAt(0)+"axis"+n.substr(1)]}if(!c){var u=y._subplots.gl3d||[];for(s=0;s<u.length;s++){var l=y[u[s]];C?t.push(l[C+"axis"]):t.push(l.xaxis,l.yaxis,l.zaxis)}}return t},U.listIds=function(L,C){var c=L._fullLayout;if(!c)return[];var y=c._subplots;return C?y[C+"axis"]:y.xaxis.concat(y.yaxis)},U.getFromId=function(L,C,c){var y=L._fullLayout;return C=C===void 0||typeof C!="string"?C:C.replace(" domain",""),c==="x"?C=C.replace(/y[0-9]*/,""):c==="y"&&(C=C.replace(/x[0-9]*/,"")),y[U.id2name(C)]},U.getFromTrace=function(L,C,c){var y=L._fullLayout,r=null;if(x.traceIs(C,"gl3d")){var t=C.scene;t.substr(0,5)==="scene"&&(r=y[t][c+"axis"])}else r=U.getFromId(L,C[c+"axis"]||c);return r},U.idSort=function(L,C){var c=L.charAt(0),y=C.charAt(0);return c!==y?c>y?1:-1:+(L.substr(1)||1)-+(C.substr(1)||1)},U.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function i(L,C){if(C&&C.length){for(var c=0;c<C.length;c++)if(C[c][L])return!0}return!1}U.isLinked=function(L,C){return i(C,L._axisMatchGroups)||i(C,L._axisConstraintGroups)}},22416:function(V,U,e){"use strict";var x=e(38116).isTypedArraySpec;function P(i,L){var C=L.dataAttr||i._id.charAt(0),c={},y,r,t;if(L.axData)y=L.axData;else for(y=[],r=0;r<L.data.length;r++){var s=L.data[r];s[C+"axis"]===i._id&&y.push(s)}for(r=0;r<y.length;r++){var n=y[r][C];for(t=0;t<n.length;t++){var u=n[t];u!=null&&(c[u]=1)}}return Object.keys(c)}V.exports=function(L,C,c,y){if(C.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||x(r),s;t&&(s="array");var n=c("categoryorder",s),u;n==="array"&&(u=c("categoryarray")),!t&&n==="array"&&(n=C.categoryorder="trace"),n==="trace"?C._initialCategories=[]:n==="array"?C._initialCategories=u.slice():(u=P(C,y).sort(),n==="category ascending"?C._initialCategories=u:n==="category descending"&&(C._initialCategories=u.reverse()))}}},98728:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(39032),L=i.ONEDAY,C=i.ONEWEEK;U.dtick=function(c,y){var r=y==="log",t=y==="date",s=y==="category",n=t?L:1;if(!c)return n;if(x(c))return c=Number(c),c<=0?n:s?Math.max(1,Math.round(c)):t?Math.max(.1,c):c;if(typeof c!="string"||!(t||r))return n;var u=c.charAt(0),l=c.substr(1);return l=x(l)?Number(l):0,l<=0||!(t&&u==="M"&&l===Math.round(l)||r&&u==="L"||r&&u==="D"&&(l===1||l===2))?n:c},U.tick0=function(c,y,r,t){if(y==="date")return P.cleanDate(c,P.dateTick0(r,t%C===0?1:0));if(!(t==="D1"||t==="D2"))return x(c)?Number(c):0}},33816:function(V,U,e){"use strict";var x=e(53756).counter;V.exports={idRegex:{x:x("x","( domain)?"),y:x("y","( domain)?")},attrRegex:x("[xy]axis"),xAxisMatch:x("xaxis"),yAxisMatch:x("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(V,U,e){"use strict";var x=e(3400),P=e(19280),i=e(79811).id2name,L=e(94724),C=e(21160),c=e(78344),y=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;U.handleDefaults=function(h,w,d){var o=d.axIds,v=d.axHasImage,A=w._axisConstraintGroups=[],b=w._axisMatchGroups=[],M,m,S,T,a,E,p,k;for(M=0;M<o.length;M++)T=i(o[M]),a=h[T],E=w[T],t(a,E,{axIds:o,layoutOut:w,hasImage:v[T]});function R(ae,se){for(M=0;M<ae.length;M++){m=ae[M];for(S in m)w[i(S)][se]=m}}for(R(b,"_matchGroup"),M=0;M<A.length;M++){m=A[M];for(S in m)if(E=w[i(S)],E.fixedrange){for(var B in m){var F=i(B);(h[F]||{}).fixedrange===!1&&x.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),w[F].fixedrange=!0}break}}for(M=0;M<A.length;){m=A[M];for(S in m){E=w[i(S)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(m).length&&(A.splice(M,1),M--);break}M++}R(A,"_constraintGroup");var _=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,z=!1;function N(){k=E[p],p==="rangebreaks"&&(z=E._hasDayOfWeekBreaks)}for(M=0;M<b.length;M++){m=b[M];for(var Y=0;Y<_.length;Y++){p=_[Y],k=null;var J;for(S in m)if(T=i(S),a=h[T],E=w[T],p in E){if(!E.matches&&(J=E,p in a)){N();break}k===null&&p in a&&N()}if(p==="range"&&k&&a.range&&a.range.length===2&&a.range[0]!==null&&a.range[1]!==null&&(O=!0),p==="autorange"&&k===null&&O&&(k=!1),k===null&&p in J&&(k=J[p]),k!==null)for(S in m)E=w[i(S)],E[p]=p==="range"?k.slice():k,p==="rangebreaks"&&(E._hasDayOfWeekBreaks=z,c(E,w))}}};function t(h,w,d){var o=d.axIds,v=d.layoutOut,A=d.hasImage,b=v._axisConstraintGroups,M=v._axisMatchGroups,m=w._id,S=m.charAt(0),T=((v._splomAxes||{})[S]||{})[m]||{},a=w._id,E=a.charAt(0)==="x";w._matchGroup=null,w._constraintGroup=null;function p(j,ie){return x.coerce(h,w,L,j,ie)}p("constrain",A?"domain":"range"),x.coerce(h,w,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var k=w.type,R,B,F=[];for(R=0;R<o.length;R++)if(B=o[R],B!==a){var _=v[i(B)];_.type===k&&F.push(B)}var O=n(b,a);if(O){var z=[];for(R=0;R<F.length;R++)B=F[R],O[B]||z.push(B);F=z}var N=F.length,Y,J;N&&(h.matches||T.matches)&&(Y=x.coerce(h,w,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var ae=A&&!E?w.anchor:void 0;if(N&&!Y&&(h.scaleanchor||ae)&&(J=x.coerce(h,w,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",ae)),Y){w._matchGroup=u(M,a,Y,1);var se=v[i(Y)],ue=s(v,w)/s(v,se);E!==(Y.charAt(0)==="x")&&(ue=(E?"x":"y")+ue),u(b,a,Y,ue)}else h.matches&&o.indexOf(h.matches)!==-1&&x.warn("ignored "+w._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(J){var K=p("scaleratio");K||(K=w.scaleratio=1),u(b,a,J,K)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&x.warn("ignored "+w._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(h,w){var d=w.domain;return d||(d=h[i(w.overlaying)].domain),d[1]-d[0]}function n(h,w){for(var d=0;d<h.length;d++)if(h[d][w])return h[d];return null}function u(h,w,d,o){var v,A,b,M,m,S=n(h,w);S===null?(S={},S[w]=1,m=h.length,h.push(S)):m=h.indexOf(S);var T=Object.keys(S);for(v=0;v<h.length;v++)if(b=h[v],v!==m&&b[d]){var a=b[d];for(A=0;A<T.length;A++)M=T[A],b[M]=l(a,l(o,S[M]));h.splice(m,1);return}if(o!==1)for(A=0;A<T.length;A++){var E=T[A];S[E]=l(o,S[E])}S[d]=1}function l(h,w){var d="",o="",v,A;typeof h=="string"&&(d=h.match(/^[xy]*/)[0],v=d.length,h=+h.substr(v)),typeof w=="string"&&(o=w.match(/^[xy]*/)[0],A=o.length,w=+w.substr(A));var b=h*w;return!v&&!A?b:!v||!A||d.charAt(0)===o.charAt(0)?d+o+h*w:v===A?b:(v>A?d.substr(A):o.substr(v))+b}function f(h,w){for(var d=w._size,o=d.h/d.w,v={},A=Object.keys(h),b=0;b<A.length;b++){var M=A[b],m=h[M];if(typeof m=="string"){var S=m.match(/^[xy]*/)[0],T=S.length;m=+m.substr(T);for(var a=S.charAt(0)==="y"?o:1/o,E=0;E<T;E++)m*=a}v[M]=m}return v}U.enforce=function(w){var d=w._fullLayout,o=d._axisConstraintGroups||[],v,A,b,M,m,S,T,a;for(v=0;v<o.length;v++){b=f(o[v],d);var E=Object.keys(b),p=1/0,k=0,R=1/0,B={},F={},_=!1;for(A=0;A<E.length;A++)M=E[A],F[M]=m=d[i(M)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),B[M]=S=Math.abs(m._m)/b[M],p=Math.min(p,S),(m.constrain==="domain"||!m._constraintShrinkable)&&(R=Math.min(R,S)),delete m._constraintShrinkable,k=Math.max(k,S),m.constrain==="domain"&&(_=!0);if(!(p>y*k&&!_)){for(A=0;A<E.length;A++)if(M=E[A],S=B[M],m=F[M],T=m.constrain,S!==R||T==="domain")if(a=S/R,T==="range")C(m,a);else{var O=m._inputDomain,z=(m.domain[1]-m.domain[0])/(O[1]-O[0]),N=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(a/=z,a*N<1){m.domain=m._input.domain=O.slice(),C(m,a);continue}if(N<1&&(m.range=m._input.range=m._inputRange.slice(),a*=N),m.autorange){var Y=m.r2l(m.range[0]),J=m.r2l(m.range[1]),ae=(Y+J)/2,se=ae,ue=ae,K=Math.abs(J-ae),j=ae-K*a*1.0001,ie=ae+K*a*1.0001,W=P.makePadFn(d,m,0),Q=P.makePadFn(d,m,1);g(m,a);var ee=Math.abs(m._m),$=P.concatExtremes(w,m),X=$.min,oe=$.max,te,fe;for(fe=0;fe<X.length;fe++)te=X[fe].val-W(X[fe])/ee,te>j&&te<se&&(se=te);for(fe=0;fe<oe.length;fe++)te=oe[fe].val+Q(oe[fe])/ee,te<ie&&te>ue&&(ue=te);var pe=(ue-se)/(2*K);a/=pe,se=m.l2r(se),ue=m.l2r(ue),m.range=m._input.range=Y<J?[se,ue]:[ue,se]}g(m,a)}}}},U.getAxisGroup=function(w,d){for(var o=w._axisMatchGroups,v=0;v<o.length;v++){var A=o[v];if(A[d])return"g"+v}return d},U.clean=function(w,d){if(d._inputDomain){for(var o=!1,v=d._id,A=w._fullLayout._axisConstraintGroups,b=0;b<A.length;b++)if(A[b][v]){o=!0;break}(!o||d.constrain!=="domain")&&(d._input.domain=d.domain=d._inputDomain,delete d._inputDomain)}};function g(h,w){var d=h._inputDomain,o=r[h.constraintoward],v=d[0]+(d[1]-d[0])*o;h.domain=h._input.domain=[v+(d[0]-v)/w,v+(d[1]-v)/w],h.setScale()}},51184:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=P.numberFormat,L=e(49760),C=e(89184),c=e(24040),y=P.strTranslate,r=e(72736),t=e(76308),s=e(43616),n=e(93024),u=e(54460),l=e(93972),f=e(86476),g=e(72760),h=g.selectingOrDrawing,w=g.freeMode,d=e(84284).FROM_TL,o=e(73696),v=e(39172).redrawReglTraces,A=e(7316),b=e(79811).getFromId,M=e(22676).prepSelect,m=e(22676).clearOutline,S=e(22676).selectOnClick,T=e(21160),a=e(33816),E=a.MINDRAG,p=a.MINZOOM,k=!0;function R(te,fe,pe,Ae,be,Pe,me,Ee){var xe=te._fullLayout._zoomlayer,De=me+Ee==="nsew",Ve=(me+Ee).length===1,Ze,ke,Ye,lt,yt,He,Fe,nt,ot,ct,ht,mt,tt,Re,Ge,Je,Xe,Oe,Ne,ze,et,Le,Te;pe+=fe.yaxis._shift;function ye(){if(Ze=fe.xaxis,ke=fe.yaxis,ot=Ze._length,ct=ke._length,Fe=Ze._offset,nt=ke._offset,Ye={},Ye[Ze._id]=Ze,lt={},lt[ke._id]=ke,me&&Ee)for(var qt=fe.overlays,Ot=0;Ot<qt.length;Ot++){var tr=qt[Ot].xaxis;Ye[tr._id]=tr;var dr=qt[Ot].yaxis;lt[dr._id]=dr}yt=oe(Ye),He=oe(lt),tt=_(yt,Ee),Re=_(He,me),Ge=!Re&&!tt,mt=$(te,te._fullLayout._axisMatchGroups,Ye,lt),ht=$(te,te._fullLayout._axisConstraintGroups,Ye,lt,mt);var mr=ht.isSubplotConstrained||mt.isSubplotConstrained;Je=Ee||mr,Xe=me||mr;var Cr=te._fullLayout;Oe=Cr._has("scattergl"),Ne=Cr._has("splom"),ze=Cr._has("svg")}ye();var Se=J(Re+tt,te._fullLayout.dragmode,De),Ke=F(fe,me+Ee+"drag",Se,pe,Ae,be,Pe);if(Ge&&!De)return Ke.onmousedown=null,Ke.style.pointerEvents="none",Ke;var rt={element:Ke,gd:te,plotinfo:fe};rt.prepFn=function(qt,Ot,tr){var dr=rt.dragmode,mr=te._fullLayout.dragmode;mr!==dr&&(rt.dragmode=mr),ye(),Le=te._fullLayout._invScaleX,Te=te._fullLayout._invScaleY,Ge||(De?qt.shiftKey?mr==="pan"?mr="zoom":h(mr)||(mr="pan"):qt.ctrlKey&&(mr="pan"):mr="pan"),w(mr)?rt.minDrag=1:rt.minDrag=void 0,h(mr)?(rt.xaxes=yt,rt.yaxes=He,M(qt,Ot,tr,rt,mr)):(rt.clickFn=It,h(dr)&&Lt(),Ge||(mr==="zoom"?(rt.moveFn=xt,rt.doneFn=Rt,rt.minDrag=1,st(qt,Ot,tr)):mr==="pan"&&(rt.moveFn=or,rt.doneFn=Ft))),te._fullLayout._redrag=function(){var Cr=te._dragdata;if(Cr&&Cr.element===Ke){var $r=te._fullLayout.dragmode;h($r)||(ye(),kt([0,0,ot,ct]),rt.moveFn(Cr.dx,Cr.dy))}}};function Lt(){rt.plotinfo.selection=!1,m(te)}function It(qt,Ot){var tr=rt.gd;if(tr._fullLayout._activeShapeIndex>=0){tr._fullLayout._deactivateShape(tr);return}var dr=tr._fullLayout.clickmode;if(j(tr),qt===2&&!Ve&&Ue(),De)dr.indexOf("select")>-1&&S(Ot,tr,yt,He,fe.id,rt),dr.indexOf("event")>-1&&n.click(tr,Ot,fe.id);else if(qt===1&&Ve){var mr=me?ke:Ze,Cr=me==="s"||Ee==="w"?0:1,$r=mr._name+".range["+Cr+"]",yr=O(mr,Cr),Gr="left",rn="middle";if(mr.fixedrange)return;me?(rn=me==="n"?"top":"bottom",mr.side==="right"&&(Gr="right")):Ee==="e"&&(Gr="right"),tr._context.showAxisRangeEntryBoxes&&x.select(Ke).call(r.makeEditable,{gd:tr,immediate:!0,background:tr._fullLayout.paper_bgcolor,text:String(yr),fill:mr.tickfont?mr.tickfont.color:"#444",horizontalAlign:Gr,verticalAlign:rn}).on("edit",function(_r){var bn=mr.d2r(_r);bn!==void 0&&c.call("_guiRelayout",tr,$r,bn)})}}f.init(rt);var wt,Et,Wt,vr,dt,Yt,jt,gr,sr,gt;function st(qt,Ot,tr){var dr=Ke.getBoundingClientRect();wt=Ot-dr.left,Et=tr-dr.top,te._fullLayout._calcInverseTransform(te);var mr=P.apply3DTransform(te._fullLayout._invTransform)(wt,Et);wt=mr[0],Et=mr[1],Wt={l:wt,r:wt,w:0,t:Et,b:Et,h:0},vr=te._hmpixcount?te._hmlumcount/te._hmpixcount:L(te._fullLayout.plot_bgcolor).getLuminance(),dt="M0,0H"+ot+"V"+ct+"H0V0",Yt=!1,jt="xy",gt=!1,gr=ae(xe,vr,Fe,nt,dt),sr=se(xe,Fe,nt)}function xt(qt,Ot){if(te._transitioningWithDuration)return!1;var tr=Math.max(0,Math.min(ot,Le*qt+wt)),dr=Math.max(0,Math.min(ct,Te*Ot+Et)),mr=Math.abs(tr-wt),Cr=Math.abs(dr-Et);Wt.l=Math.min(wt,tr),Wt.r=Math.max(wt,tr),Wt.t=Math.min(Et,dr),Wt.b=Math.max(Et,dr);function $r(){jt="",Wt.r=Wt.l,Wt.t=Wt.b,sr.attr("d","M0,0Z")}if(ht.isSubplotConstrained)mr>p||Cr>p?(jt="xy",mr/ot>Cr/ct?(Cr=mr*ct/ot,Et>dr?Wt.t=Et-Cr:Wt.b=Et+Cr):(mr=Cr*ot/ct,wt>tr?Wt.l=wt-mr:Wt.r=wt+mr),sr.attr("d",ee(Wt))):$r();else if(mt.isSubplotConstrained)if(mr>p||Cr>p){jt="xy";var yr=Math.min(Wt.l/ot,(ct-Wt.b)/ct),Gr=Math.max(Wt.r/ot,(ct-Wt.t)/ct);Wt.l=yr*ot,Wt.r=Gr*ot,Wt.b=(1-yr)*ct,Wt.t=(1-Gr)*ct,sr.attr("d",ee(Wt))}else $r();else!Re||Cr<Math.min(Math.max(mr*.6,E),p)?mr<E||!tt?$r():(Wt.t=0,Wt.b=ct,jt="x",sr.attr("d",W(Wt,Et))):!tt||mr<Math.min(Cr*.6,p)?(Wt.l=0,Wt.r=ot,jt="y",sr.attr("d",Q(Wt,wt))):(jt="xy",sr.attr("d",ee(Wt)));Wt.w=Wt.r-Wt.l,Wt.h=Wt.b-Wt.t,jt&&(gt=!0),te._dragged=gt,ue(gr,sr,Wt,dt,Yt,vr),Mt(),te.emit("plotly_relayouting",et),Yt=!0}function Mt(){et={},(jt==="xy"||jt==="x")&&(z(yt,Wt.l/ot,Wt.r/ot,et,ht.xaxes),cr("x",et)),(jt==="xy"||jt==="y")&&(z(He,(ct-Wt.b)/ct,(ct-Wt.t)/ct,et,ht.yaxes),cr("y",et))}function Rt(){Mt(),j(te),Ft(),ie(te)}var Vt=[0,0,ot,ct],Ct=null,Bt=a.REDRAWDELAY,Xt=fe.mainplot?te._fullLayout._plots[fe.mainplot]:fe;function ir(qt){if(!te._context._scrollZoom.cartesian&&!te._fullLayout._enablescrollzoom)return;if(Lt(),te._transitioningWithDuration){qt.preventDefault(),qt.stopPropagation();return}ye(),clearTimeout(Ct);var Ot=-qt.deltaY;if(isFinite(Ot)||(Ot=qt.wheelDelta/10),!isFinite(Ot)){P.log("Did not find wheel motion attributes: ",qt);return}var tr=Math.exp(-Math.min(Math.max(Ot,-20),20)/200),dr=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),mr=(qt.clientX-dr.left)/dr.width,Cr=(dr.bottom-qt.clientY)/dr.height,$r;function yr(Gr,rn,_r){if(Gr.fixedrange)return;var bn=P.simpleMap(Gr.range,Gr.r2l),xn=bn[0]+(bn[1]-bn[0])*rn;function fr(Dr){return Gr.l2r(xn+(Dr-xn)*_r)}Gr.range=bn.map(fr)}if(Je){for(Ee||(mr=.5),$r=0;$r<yt.length;$r++)yr(yt[$r],mr,tr);cr("x"),Vt[2]*=tr,Vt[0]+=Vt[2]*mr*(1/tr-1)}if(Xe){for(me||(Cr=.5),$r=0;$r<He.length;$r++)yr(He[$r],Cr,tr);cr("y"),Vt[3]*=tr,Vt[1]+=Vt[3]*(1-Cr)*(1/tr-1)}kt(Vt),We(),te.emit("plotly_relayouting",et),Ct=setTimeout(function(){te._fullLayout&&(Vt=[0,0,ot,ct],Ft())},Bt),qt.preventDefault()}me.length*Ee.length!==1&&X(Ke,ir);function or(qt,Ot){if(qt=qt*Le,Ot=Ot*Te,te._transitioningWithDuration)return;if(te._fullLayout._replotting=!0,tt==="ew"||Re==="ns"){var tr=tt?-qt:0,dr=Re?-Ot:0;if(mt.isSubplotConstrained){if(tt&&Re){var mr=(qt/ot-Ot/ct)/2;qt=mr*ot,Ot=-mr*ct,tr=-qt,dr=-Ot}Re?tr=-dr*ot/ct:dr=-tr*ct/ot}tt&&(N(yt,qt),cr("x")),Re&&(N(He,Ot),cr("y")),kt([tr,dr,ot,ct]),We(),te.emit("plotly_relayouting",et);return}function Cr(fr,Dr,Nr){for(var Ur=1-Dr,on,gn,yn=0;yn<fr.length;yn++){var Pn=fr[yn];if(!Pn.fixedrange){on=Pn,gn=Pn._rl[Ur]+(Pn._rl[Dr]-Pn._rl[Ur])/Y(Nr/Pn._length);var zn=Pn.l2r(gn);zn!==!1&&zn!==void 0&&(Pn.range[Dr]=zn)}}return on._length*(on._rl[Dr]-gn)/(on._rl[Dr]-on._rl[Ur])}var $r=tt==="w"==(Re==="n")?1:-1;if(tt&&Re&&(ht.isSubplotConstrained||mt.isSubplotConstrained)){var yr=(qt/ot+$r*Ot/ct)/2;qt=yr*ot,Ot=$r*yr*ct}var Gr,rn;if(tt==="w"?qt=Cr(yt,0,qt):tt==="e"?qt=Cr(yt,1,-qt):tt||(qt=0),Re==="n"?Ot=Cr(He,1,Ot):Re==="s"?Ot=Cr(He,0,-Ot):Re||(Ot=0),Gr=tt==="w"?qt:0,rn=Re==="n"?Ot:0,ht.isSubplotConstrained&&!mt.isSubplotConstrained||mt.isSubplotConstrained&&tt&&Re&&$r>0){var _r;if(mt.isSubplotConstrained||!tt&&Re.length===1){for(_r=0;_r<yt.length;_r++)yt[_r].range=yt[_r]._r.slice(),T(yt[_r],1-Ot/ct);qt=Ot*ot/ct,Gr=qt/2}if(mt.isSubplotConstrained||!Re&&tt.length===1){for(_r=0;_r<He.length;_r++)He[_r].range=He[_r]._r.slice(),T(He[_r],1-qt/ot);Ot=qt*ct/ot,rn=Ot/2}}(!mt.isSubplotConstrained||!Re)&&cr("x"),(!mt.isSubplotConstrained||!tt)&&cr("y");var bn=ot-qt,xn=ct-Ot;mt.isSubplotConstrained&&!(tt&&Re)&&(tt?(rn=Gr?0:qt*ct/ot,xn=bn*ct/ot):(Gr=rn?0:Ot*ot/ct,bn=xn*ot/ct)),kt([Gr,rn,bn,xn]),We(),te.emit("plotly_relayouting",et)}function cr(qt,Ot){for(var tr=mt.isSubplotConstrained?{x:He,y:yt}[qt]:mt[qt+"axes"],dr=mt.isSubplotConstrained?{x:yt,y:He}[qt]:[],mr=0;mr<tr.length;mr++){var Cr=tr[mr],$r=Cr._id,yr=mt.xLinks[$r]||mt.yLinks[$r],Gr=dr[0]||Ye[yr]||lt[yr];Gr&&(Ot?(Ot[Cr._name+".range[0]"]=Ot[Gr._name+".range[0]"],Ot[Cr._name+".range[1]"]=Ot[Gr._name+".range[1]"]):Cr.range=Gr.range.slice())}}function We(){var qt=[],Ot;function tr($r){for(Ot=0;Ot<$r.length;Ot++)$r[Ot].fixedrange||qt.push($r[Ot]._id)}function dr($r,yr){for(Ot=0;Ot<$r.length;Ot++){var Gr=$r[Ot],rn=Gr[yr];!Gr.fixedrange&&rn.tickmode==="sync"&&qt.push(rn._id)}}for(Je&&(tr(yt),tr(ht.xaxes),tr(mt.xaxes),dr(fe.overlays,"xaxis")),Xe&&(tr(He),tr(ht.yaxes),tr(mt.yaxes),dr(fe.overlays,"yaxis")),et={},Ot=0;Ot<qt.length;Ot++){var mr=qt[Ot],Cr=b(te,mr);u.drawOne(te,Cr,{skipTitle:!0}),et[Cr._name+".range[0]"]=Cr.range[0],et[Cr._name+".range[1]"]=Cr.range[1]}u.redrawComponents(te,qt)}function Ue(){if(!te._transitioningWithDuration){var qt=te._context.doubleClick,Ot=[];tt&&(Ot=Ot.concat(yt)),Re&&(Ot=Ot.concat(He)),mt.xaxes&&(Ot=Ot.concat(mt.xaxes)),mt.yaxes&&(Ot=Ot.concat(mt.yaxes));var tr={},dr,mr;if(qt==="reset+autosize")for(qt="autosize",mr=0;mr<Ot.length;mr++){dr=Ot[mr];var Cr=dr._rangeInitial0,$r=dr._rangeInitial1,yr=Cr!==void 0||$r!==void 0;if(yr&&(Cr!==void 0&&Cr!==dr.range[0]||$r!==void 0&&$r!==dr.range[1])||!yr&&dr.autorange!==!0){qt="reset";break}}if(qt==="autosize")for(mr=0;mr<Ot.length;mr++)dr=Ot[mr],dr.fixedrange||(tr[dr._name+".autorange"]=!0);else if(qt==="reset"){for((tt||ht.isSubplotConstrained)&&(Ot=Ot.concat(ht.xaxes)),Re&&!ht.isSubplotConstrained&&(Ot=Ot.concat(ht.yaxes)),ht.isSubplotConstrained&&(tt?Re||(Ot=Ot.concat(He)):Ot=Ot.concat(yt)),mr=0;mr<Ot.length;mr++)if(dr=Ot[mr],!dr.fixedrange){var Gr=dr._name,rn=dr._autorangeInitial;dr._rangeInitial0===void 0&&dr._rangeInitial1===void 0?tr[Gr+".autorange"]=!0:dr._rangeInitial0===void 0?(tr[Gr+".autorange"]=rn,tr[Gr+".range"]=[null,dr._rangeInitial1]):dr._rangeInitial1===void 0?(tr[Gr+".range"]=[dr._rangeInitial0,null],tr[Gr+".autorange"]=rn):tr[Gr+".range"]=[dr._rangeInitial0,dr._rangeInitial1]}}te.emit("plotly_doubleclick",null),c.call("_guiRelayout",te,tr)}}function Ft(){kt([0,0,ot,ct]),P.syncOrAsync([A.previousPromises,function(){te._fullLayout._replotting=!1,c.call("_guiRelayout",te,et)}],te)}function kt(qt){var Ot=te._fullLayout,tr=Ot._plots,dr=Ot._subplots.cartesian,mr,Cr,$r,yr;if(Ne&&c.subplotsRegistry.splom.drag(te),Oe){for(mr=0;mr<dr.length;mr++)if(Cr=tr[dr[mr]],$r=Cr.xaxis,yr=Cr.yaxis,Cr._scene){var Gr=P.simpleMap($r.range,$r.r2l),rn=P.simpleMap(yr.range,yr.r2l);$r.limitRange&&$r.limitRange(),yr.limitRange&&yr.limitRange(),Gr=$r.range,rn=yr.range,Cr._scene.update({range:[Gr[0],rn[0],Gr[1],rn[1]]})}}if((Ne||Oe)&&(o(te),v(te)),ze){var _r=qt[2]/Ze._length,bn=qt[3]/ke._length;for(mr=0;mr<dr.length;mr++){Cr=tr[dr[mr]],$r=Cr.xaxis,yr=Cr.yaxis;var xn=(Je||mt.isSubplotConstrained)&&!$r.fixedrange&&Ye[$r._id],fr=(Xe||mt.isSubplotConstrained)&&!yr.fixedrange&&lt[yr._id],Dr,Nr,Ur,on;if(xn?(Dr=_r,Ur=Ee||mt.isSubplotConstrained?qt[0]:lr($r,Dr)):mt.xaHash[$r._id]?(Dr=_r,Ur=qt[0]*$r._length/Ze._length):mt.yaHash[$r._id]?(Dr=bn,Ur=Re==="ns"?-qt[1]*$r._length/ke._length:lr($r,Dr,{n:"top",s:"bottom"}[Re])):(Dr=Zt($r,_r,bn),Ur=rr($r,Dr)),Dr>1&&($r.maxallowed!==void 0&&Je===($r.range[0]<$r.range[1]?"e":"w")||$r.minallowed!==void 0&&Je===($r.range[0]<$r.range[1]?"w":"e"))&&(Dr=1,Ur=0),fr?(Nr=bn,on=me||mt.isSubplotConstrained?qt[1]:lr(yr,Nr)):mt.yaHash[yr._id]?(Nr=bn,on=qt[1]*yr._length/ke._length):mt.xaHash[yr._id]?(Nr=_r,on=tt==="ew"?-qt[0]*yr._length/Ze._length:lr(yr,Nr,{e:"right",w:"left"}[tt])):(Nr=Zt(yr,_r,bn),on=rr(yr,Nr)),Nr>1&&(yr.maxallowed!==void 0&&Xe===(yr.range[0]<yr.range[1]?"n":"s")||yr.minallowed!==void 0&&Xe===(yr.range[0]<yr.range[1]?"s":"n"))&&(Nr=1,on=0),!(!Dr&&!Nr)){Dr||(Dr=1),Nr||(Nr=1);var gn=$r._offset-Ur/Dr,yn=yr._offset-on/Nr;Cr.clipRect.call(s.setTranslate,Ur,on).call(s.setScale,Dr,Nr),Cr.plot.call(s.setTranslate,gn,yn).call(s.setScale,1/Dr,1/Nr),(Dr!==Cr.xScaleFactor||Nr!==Cr.yScaleFactor)&&(s.setPointGroupScale(Cr.zoomScalePts,Dr,Nr),s.setTextPointsScale(Cr.zoomScaleTxt,Dr,Nr)),s.hideOutsideRangePoints(Cr.clipOnAxisFalseTraces,Cr),Cr.xScaleFactor=Dr,Cr.yScaleFactor=Nr}}}}function Zt(qt,Ot,tr){return qt.fixedrange?0:Je&&ht.xaHash[qt._id]?Ot:Xe&&(ht.isSubplotConstrained?ht.xaHash:ht.yaHash)[qt._id]?tr:0}function rr(qt,Ot){return Ot?(qt.range=qt._r.slice(),T(qt,Ot),lr(qt,Ot)):0}function lr(qt,Ot,tr){return qt._length*(1-Ot)*d[tr||qt.constraintoward||"middle"]}return Ke}function B(te,fe,pe,Ae){var be=P.ensureSingle(te.draglayer,fe,pe,function(Pe){Pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",te.id)});return be.call(l,Ae),be.node()}function F(te,fe,pe,Ae,be,Pe,me){var Ee=B(te,"rect",fe,pe);return x.select(Ee).call(s.setRect,Ae,be,Pe,me),Ee}function _(te,fe){for(var pe=0;pe<te.length;pe++)if(!te[pe].fixedrange)return fe;return""}function O(te,fe){var pe=te.range[fe],Ae=Math.abs(pe-te.range[1-fe]),be;return te.type==="date"?pe:te.type==="log"?(be=Math.ceil(Math.max(0,-Math.log(Ae)/Math.LN10))+3,i("."+be+"g")(Math.pow(10,pe))):(be=Math.floor(Math.log(Math.abs(pe))/Math.LN10)-Math.floor(Math.log(Ae)/Math.LN10)+4,i("."+String(be)+"g")(pe))}function z(te,fe,pe,Ae,be){for(var Pe=0;Pe<te.length;Pe++){var me=te[Pe];if(!me.fixedrange)if(me.rangebreaks){var Ee=me._id.charAt(0)==="y",xe=Ee?1-fe:fe,De=Ee?1-pe:pe;Ae[me._name+".range[0]"]=me.l2r(me.p2l(xe*me._length)),Ae[me._name+".range[1]"]=me.l2r(me.p2l(De*me._length))}else{var Ve=me._rl[0],Ze=me._rl[1]-Ve;Ae[me._name+".range[0]"]=me.l2r(Ve+Ze*fe),Ae[me._name+".range[1]"]=me.l2r(Ve+Ze*pe)}}if(be&&be.length){var ke=(fe+(1-pe))/2;z(be,ke,1-ke,Ae,[])}}function N(te,fe){for(var pe=0;pe<te.length;pe++){var Ae=te[pe];if(!Ae.fixedrange){if(Ae.rangebreaks){var be=0,Pe=Ae._length,me=Ae.p2l(be+fe)-Ae.p2l(be),Ee=Ae.p2l(Pe+fe)-Ae.p2l(Pe),xe=(me+Ee)/2;Ae.range=[Ae.l2r(Ae._rl[0]-xe),Ae.l2r(Ae._rl[1]-xe)]}else Ae.range=[Ae.l2r(Ae._rl[0]-fe/Ae._m),Ae.l2r(Ae._rl[1]-fe/Ae._m)];Ae.limitRange&&Ae.limitRange()}}}function Y(te){return 1-(te>=0?Math.min(te,.9):1/(1/Math.max(te,-.3)+3.222))}function J(te,fe,pe){return te?te==="nsew"?pe?"":fe==="pan"?"move":"crosshair":te.toLowerCase()+"-resize":"pointer"}function ae(te,fe,pe,Ae,be){return te.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",y(pe,Ae)).attr("d",be+"Z")}function se(te,fe,pe){return te.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",y(fe,pe)).attr("d","M0,0Z")}function ue(te,fe,pe,Ae,be,Pe){te.attr("d",Ae+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),K(te,fe,be,Pe)}function K(te,fe,pe,Ae){pe||(te.transition().style("fill",Ae>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function j(te){x.select(te).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ie(te){k&&te.data&&te._context.showTips&&(P.notifier(P._(te,"Double-click to zoom back out"),"long"),k=!1)}function W(te,fe){return"M"+(te.l-.5)+","+(fe-p-.5)+"h-3v"+(2*p+1)+"h3ZM"+(te.r+.5)+","+(fe-p-.5)+"h3v"+(2*p+1)+"h-3Z"}function Q(te,fe){return"M"+(fe-p-.5)+","+(te.t-.5)+"v-3h"+(2*p+1)+"v3ZM"+(fe-p-.5)+","+(te.b+.5)+"v3h"+(2*p+1)+"v-3Z"}function ee(te){var fe=Math.floor(Math.min(te.b-te.t,te.r-te.l,p)/2);return"M"+(te.l-3.5)+","+(te.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(te.l-3.5)+","+(te.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function $(te,fe,pe,Ae,be){for(var Pe=!1,me={},Ee={},xe,De,Ve,Ze,ke=(be||{}).xaHash,Ye=(be||{}).yaHash,lt=0;lt<fe.length;lt++){var yt=fe[lt];for(xe in pe)if(yt[xe]){for(Ve in yt)!(be&&(ke[Ve]||Ye[Ve]))&&!(Ve.charAt(0)==="x"?pe:Ae)[Ve]&&(me[Ve]=xe);for(De in Ae)!(be&&(ke[De]||Ye[De]))&&yt[De]&&(Pe=!0)}for(De in Ae)if(yt[De])for(Ze in yt)!(be&&(ke[Ze]||Ye[Ze]))&&!(Ze.charAt(0)==="x"?pe:Ae)[Ze]&&(Ee[Ze]=De)}Pe&&(P.extendFlat(me,Ee),Ee={});var He={},Fe=[];for(Ve in me){var nt=b(te,Ve);Fe.push(nt),He[nt._id]=nt}var ot={},ct=[];for(Ze in Ee){var ht=b(te,Ze);ct.push(ht),ot[ht._id]=ht}return{xaHash:He,yaHash:ot,xaxes:Fe,yaxes:ct,xLinks:me,yLinks:Ee,isSubplotConstrained:Pe}}function X(te,fe){if(!C)te.onwheel!==void 0?te.onwheel=fe:te.onmousewheel!==void 0?te.onmousewheel=fe:te.isAddedWheelEvent||(te.isAddedWheelEvent=!0,te.addEventListener("wheel",fe,{passive:!1}));else{var pe=te.onwheel!==void 0?"wheel":"mousewheel";te._onwheel&&te.removeEventListener(pe,te._onwheel),te._onwheel=fe,te.addEventListener(pe,fe,{passive:!1})}}function oe(te){var fe=[];for(var pe in te)fe.push(te[pe]);return fe}V.exports={makeDragBox:R,makeDragger:B,makeRectDragger:F,makeZoombox:ae,makeCorners:se,updateZoombox:ue,xyCorners:ee,transitionZoombox:K,removeZoombox:j,showDoubleClickNotifier:ie,attachWheelEventHandler:X}},42464:function(V,U,e){"use strict";var x=e(33428),P=e(93024),i=e(86476),L=e(93972),C=e(51184).makeDragBox,c=e(33816).DRAGGERSIZE;U.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){x.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var s=Object.keys(t._plots||{}).sort(function(u,l){if((t._plots[u].mainplot&&!0)===(t._plots[l].mainplot&&!0)){var f=u.split("y"),g=l.split("y");return f[0]===g[0]?Number(f[1]||1)-Number(g[1]||1):Number(f[0]||1)-Number(g[0]||1)}return t._plots[u].mainplot?1:-1});s.forEach(function(u){var l=t._plots[u],f=l.xaxis,g=l.yaxis;if(!l.mainplot){var h=C(r,l,f._offset,g._offset,f._length,g._length,"ns","ew");h.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===u&&r._fullLayout._plots[u]&&P.hover(r,o,u)},P.hover(r,o,u),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=u},h.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,i.unhover(r,o))},r._context.showAxisDragHandles&&(C(r,l,f._offset-c,g._offset-c,c,c,"n","w"),C(r,l,f._offset+f._length,g._offset-c,c,c,"n","e"),C(r,l,f._offset-c,g._offset+g._length,c,c,"s","w"),C(r,l,f._offset+f._length,g._offset+g._length,c,c,"s","e"))}if(r._context.showAxisDragHandles){if(u===f._mainSubplot){var w=f._mainLinePosition;f.side==="top"&&(w-=c),C(r,l,f._offset+f._length*.1,w,f._length*.8,c,"","ew"),C(r,l,f._offset,w,f._length*.1,c,"","w"),C(r,l,f._offset+f._length*.9,w,f._length*.1,c,"","e")}if(u===g._mainSubplot){var d=g._mainLinePosition;g.side!=="right"&&(d-=c),C(r,l,d,g._offset+g._length*.1,c,g._length*.8,"ns",""),C(r,l,d,g._offset+g._length*.9,c,g._length*.1,"s",""),C(r,l,d,g._offset,c,g._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(u){u.target=r._fullLayout._lasthover,P.hover(r,u,t._hoversubplot)},n.onclick=function(u){u.target=r._fullLayout._lasthover,P.click(r,u)},n.onmousedown=function(u){r._fullLayout._lasthover.onmousedown(u)},U.updateFx(r)}},U.updateFx=function(y){var r=y._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},36632:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(79811);V.exports=function(C){return function(y,r){var t=y[C];if(Array.isArray(t))for(var s=x.subplotsRegistry.cartesian,n=s.idRegex,u=r._subplots,l=u.xaxis,f=u.yaxis,g=u.cartesian,h=r._has("cartesian")||r._has("gl2d"),w=0;w<t.length;w++){var d=t[w];if(P.isPlainObject(d)){var o=i.cleanId(d.xref,"x",!1),v=i.cleanId(d.yref,"y",!1),A=n.x.test(o),b=n.y.test(v);if(A||b){h||P.pushUnique(r._basePlotModules,s);var M=!1;A&&l.indexOf(o)===-1&&(l.push(o),M=!0),b&&f.indexOf(v)===-1&&(f.push(v),M=!0),M&&A&&b&&g.push(o+v)}}}}}},57952:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(3400),L=e(7316),C=e(43616),c=e(84888)._M,y=e(79811),r=e(33816),t=e(9616),s=i.ensureSingle;function n(w,d,o){return i.ensureSingle(w,d,o,function(v){v.datum(o)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=r.idRegex,U.attrRegex=r.attrRegex,U.attributes=e(26720),U.layoutAttributes=e(94724),U.supplyLayoutDefaults=e(67352),U.transitionAxes=e(73736),U.finalizeSubplots=function(w,d){var o=d._subplots,v=o.xaxis,A=o.yaxis,b=o.cartesian,M=b.concat(o.gl2d||[]),m={},S={},T,a,E;for(T=0;T<M.length;T++){var p=M[T].split("y");m[p[0]]=1,S["y"+p[1]]=1}for(T=0;T<v.length;T++)a=v[T],m[a]||(E=(w[y.id2name(a)]||{}).anchor,r.idRegex.y.test(E)||(E="y"),b.push(a+E),M.push(a+E),S[E]||(S[E]=1,i.pushUnique(A,E)));for(T=0;T<A.length;T++)E=A[T],S[E]||(a=(w[y.id2name(E)]||{}).anchor,r.idRegex.x.test(a)||(a="x"),b.push(a+E),M.push(a+E),m[a]||(m[a]=1,i.pushUnique(v,a)));if(!M.length){a="",E="";for(var k in w)if(r.attrRegex.test(k)){var R=k.charAt(0);R==="x"?(!a||+k.substr(5)<+a.substr(5))&&(a=k):(!E||+k.substr(5)<+E.substr(5))&&(E=k)}a=a?y.name2id(a):"x",E=E?y.name2id(E):"y",v.push(a),A.push(E),b.push(a+E)}},U.plot=function(w,d,o,v){var A=w._fullLayout,b=A._subplots.cartesian,M=w.calcdata,m;if(!Array.isArray(d))for(d=[],m=0;m<M.length;m++)d.push(m);for(m=0;m<b.length;m++){for(var S=b[m],T=A._plots[S],a=[],E,p=0;p<M.length;p++){var k=M[p],R=k[0].trace;R.xaxis+R.yaxis===S&&((d.indexOf(R.index)!==-1||R.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(R.fill)!==-1&&a.indexOf(E)===-1&&a.push(E),a.push(k)),E=k)}u(w,T,a,o,v)}};function u(w,d,o,v,A){for(var b=r.traceLayerClasses,M=w._fullLayout,m=M._modules,S,T,a,E={},p=0;p<o.length;p++){var k=o[p][0].trace,R=k.zorder||0;E[R]||(E[R]=[]),E[R].push(o[p])}for(var B=[],F=[],_=Object.keys(E).map(Number).sort(i.sorterAsc),O=0;O<_.length;O++)for(var z=_[O],N=0;N<m.length;N++){S=m[N];var Y=S.name,J=P.modules[Y].categories;if(J.svg){var ae=(S.layerName||Y+"layer")+(O?Number(O)+1:""),se=S.plot;T=c(o,se,z),a=T[0],o=T[1],a.length&&B.push({i:b.indexOf(ae),zorder:O,className:ae,plotMethod:se,cdModule:a}),J.zoomScale&&F.push("."+ae)}}B.sort(function(j,ie){return(j.zorder||0)-(ie.zorder||0)||j.i-ie.i});var ue=d.plot.selectAll("g.mlayer").data(B,function(j){return j.className});if(ue.enter().append("g").attr("class",function(j){return j.className}).classed("mlayer",!0).classed("rangeplot",d.isRangePlot),ue.exit().remove(),ue.order(),ue.each(function(j){var ie=x.select(this),W=j.className;j.plotMethod(w,d,j.cdModule,ie,v,A),r.clipOnAxisFalseQuery.indexOf("."+W)===-1&&C.setClipUrl(ie,d.layerClipId,w)}),M._has("scattergl")&&(S=P.getModule("scattergl"),a=c(o,S)[0],S.plot(w,d,a)),!w._context.staticPlot&&(d._hasClipOnAxisFalse&&(d.clipOnAxisFalseTraces=d.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),F.length)){var K=d.plot.selectAll(F.join(",")).selectAll(".trace");d.zoomScalePts=K.selectAll("path.point"),d.zoomScaleTxt=K.selectAll(".textpoint")}}U.clean=function(w,d,o,v){var A=v._plots||{},b=d._plots||{},M=v._subplots||{},m,S,T;if(v._hasOnlyLargeSploms&&!d._hasOnlyLargeSploms)for(T in A)m=A[T],m.plotgroup&&m.plotgroup.remove();var a=v._has&&v._has("gl"),E=d._has&&d._has("gl");if(a&&!E)for(T in A)m=A[T],m._scene&&m._scene.destroy();if(M.xaxis&&M.yaxis){var p=y.listIds({_fullLayout:v});for(S=0;S<p.length;S++){var k=p[S];d[y.id2name(k)]||v._infolayer.selectAll(".g-"+k+"title").remove()}}var R=v._has&&v._has("cartesian"),B=d._has&&d._has("cartesian");if(R&&!B)g(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(M.cartesian)for(S=0;S<M.cartesian.length;S++){var F=M.cartesian[S];if(!b[F]){var _="."+F+",."+F+"-x,."+F+"-y";v._cartesianlayer.selectAll(_).remove(),h(F,v)}}},U.drawFramework=function(w){var d=w._fullLayout,o=l(w),v=d._cartesianlayer.selectAll(".subplot").data(o,String);v.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),v.order(),v.exit().call(g,d),v.each(function(A){var b=A[0],M=d._plots[b];M.plotgroup=x.select(this),f(w,M),M.draglayer=s(d._draggers,"g",b)})},U.rangePlot=function(w,d,o){f(w,d),u(w,d,o),L.style(w)};function l(w){var d=w._fullLayout,o=d._subplots.cartesian,v=o.length,A,b,M,m,S,T,a=[],E=[];for(A=0;A<v;A++){M=o[A],m=d._plots[M],S=m.xaxis,T=m.yaxis;var p=S._mainAxis,k=T._mainAxis,R=p._id+k._id,B=d._plots[R];m.overlays=[],R!==M&&B?(m.mainplot=R,m.mainplotinfo=B,E.push(M)):(m.mainplot=void 0,m.mainplotinfo=void 0,a.push(M))}for(A=0;A<E.length;A++)M=E[A],m=d._plots[M],m.mainplotinfo.overlays.push(m);var F=a.concat(E),_=new Array(v);for(A=0;A<v;A++){M=F[A],m=d._plots[M],S=m.xaxis,T=m.yaxis;var O=[M,S.layer,T.layer,S.overlaying||"",T.overlaying||""];for(b=0;b<m.overlays.length;b++)O.push(m.overlays[b].id);_[A]=O}return _}function f(w,d){var o=d.plotgroup,v=d.id,A=r.layerValue2layerClass[d.xaxis.layer],b=r.layerValue2layerClass[d.yaxis.layer],M=w._fullLayout._hasOnlyLargeSploms;if(d.mainplot){var T=d.mainplotinfo,a=T.plotgroup,E=v+"-x",p=v+"-y";d.minorGridlayer=T.minorGridlayer,d.gridlayer=T.gridlayer,d.zerolinelayer=T.zerolinelayer,s(T.overlinesBelow,"path",E),s(T.overlinesBelow,"path",p),s(T.overaxesBelow,"g",E),s(T.overaxesBelow,"g",p),d.plot=s(T.overplot,"g",v),s(T.overlinesAbove,"path",E),s(T.overlinesAbove,"path",p),s(T.overaxesAbove,"g",E),s(T.overaxesAbove,"g",p),d.xlines=a.select(".overlines-"+A).select("."+E),d.ylines=a.select(".overlines-"+b).select("."+p),d.xaxislayer=a.select(".overaxes-"+A).select("."+E),d.yaxislayer=a.select(".overaxes-"+b).select("."+p)}else if(M)d.xlines=s(o,"path","xlines-above"),d.ylines=s(o,"path","ylines-above"),d.xaxislayer=s(o,"g","xaxislayer-above"),d.yaxislayer=s(o,"g","yaxislayer-above");else{var m=s(o,"g","layer-subplot");d.shapelayer=s(m,"g","shapelayer"),d.imagelayer=s(m,"g","imagelayer"),d.minorGridlayer=s(o,"g","minor-gridlayer"),d.gridlayer=s(o,"g","gridlayer"),d.zerolinelayer=s(o,"g","zerolinelayer");var S=s(o,"g","layer-between");d.shapelayerBetween=s(S,"g","shapelayer"),d.imagelayerBetween=s(S,"g","imagelayer"),s(o,"path","xlines-below"),s(o,"path","ylines-below"),d.overlinesBelow=s(o,"g","overlines-below"),s(o,"g","xaxislayer-below"),s(o,"g","yaxislayer-below"),d.overaxesBelow=s(o,"g","overaxes-below"),d.plot=s(o,"g","plot"),d.overplot=s(o,"g","overplot"),d.xlines=s(o,"path","xlines-above"),d.ylines=s(o,"path","ylines-above"),d.overlinesAbove=s(o,"g","overlines-above"),s(o,"g","xaxislayer-above"),s(o,"g","yaxislayer-above"),d.overaxesAbove=s(o,"g","overaxes-above"),d.xlines=o.select(".xlines-"+A),d.ylines=o.select(".ylines-"+b),d.xaxislayer=o.select(".xaxislayer-"+A),d.yaxislayer=o.select(".yaxislayer-"+b)}M||(n(d.minorGridlayer,"g",d.xaxis._id),n(d.minorGridlayer,"g",d.yaxis._id),d.minorGridlayer.selectAll("g").map(function(k){return k[0]}).sort(y.idSort),n(d.gridlayer,"g",d.xaxis._id),n(d.gridlayer,"g",d.yaxis._id),d.gridlayer.selectAll("g").map(function(k){return k[0]}).sort(y.idSort)),d.xlines.style("fill","none").classed("crisp",!0),d.ylines.style("fill","none").classed("crisp",!0)}function g(w,d){if(w){var o={};w.each(function(S){var T=S[0],a=x.select(this);a.remove(),h(T,d),o[T]=!0});for(var v in d._plots)for(var A=d._plots[v],b=A.overlays||[],M=0;M<b.length;M++){var m=b[M];o[m.id]&&m.plot.selectAll(".trace").remove()}}}function h(w,d){d._draggers.selectAll("g."+w).remove(),d._defs.select("#clip"+d._uid+w+"plot").remove()}U.toSVG=function(w){var d=w._fullLayout._glimages,o=x.select(w).selectAll(".svg-container"),v=o.filter(function(b,M){return M===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function A(){var b=this,M=b.toDataURL("image/png"),m=d.append("svg:image");m.attr({xmlns:t.svg,"xlink:href":M,preserveAspectRatio:"none",x:0,y:0,width:b.style.width,height:b.style.height})}v.each(A)},U.updateFx=e(42464).updateFx},94724:function(V,U,e){"use strict";var x=e(25376),P=e(22548),i=e(98192).u,L=e(92880).extendFlat,C=e(31780).templatedArray,c=e(29736).descriptionWithDates,y=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,s=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=L({},n,{values:n.values.slice().concat(["sync"])});function l(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var f={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=5),T}function o(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var v={valType:"color",dflt:P.defaultLine,editType:"ticks"},A={valType:"color",dflt:P.lightLine,editType:"ticks"};function b(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var M=L({},i,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};V.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:x({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:C("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:y},editType:"calc"}),tickmode:u,nticks:l(),tick0:f,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:o(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:x({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:c("tick label")},tickformatstops:C("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:c("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:A,gridwidth:b(),griddash:M,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:l("minor"),tick0:f,dtick:g,tickvals:h,ticks:w,ticklen:d("minor"),tickwidth:o("minor"),tickcolor:v,gridcolor:A,gridwidth:b("minor"),griddash:M,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:x({editType:"ticks"})}}},67352:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(10624).isUnifiedHover,L=e(41008),C=e(31780),c=e(64859),y=e(94724),r=e(14944),t=e(28336),s=e(71888),n=e(37668),u=e(79811),l=u.id2name,f=u.name2id,g=e(33816).AX_ID_PATTERN,h=e(24040),w=h.traceIs,d=h.getComponentMethod;function o(v,A,b){Array.isArray(v[A])?v[A].push(b):v[A]=[b]}V.exports=function(A,b,M){var m=b.autotypenumbers,S={},T={},a={},E={},p={},k={},R={},B={},F={},_={},O,z;for(O=0;O<M.length;O++){var N=M[O];if(!(!w(N,"cartesian")&&!w(N,"gl2d"))){var Y;if(N.xaxis)Y=l(N.xaxis),o(S,Y,N);else if(N.xaxes)for(z=0;z<N.xaxes.length;z++)o(S,l(N.xaxes[z]),N);var J;if(N.yaxis)J=l(N.yaxis),o(S,J,N);else if(N.yaxes)for(z=0;z<N.yaxes.length;z++)o(S,l(N.yaxes[z]),N);if(N.type==="funnel"?N.orientation==="h"?(Y&&(T[Y]=!0),J&&(R[J]=!0)):J&&(a[J]=!0):N.type==="image"?(J&&(B[J]=!0),Y&&(B[Y]=!0)):(J&&(p[J]=!0,k[J]=!0),(!w(N,"carpet")||N.type==="carpet"&&!N._cheater)&&Y&&(E[Y]=!0)),N.type==="carpet"&&N._cheater&&Y&&(T[Y]=!0),w(N,"2dMap")&&(F[Y]=!0,F[J]=!0),w(N,"oriented")){var ae=N.orientation==="h"?J:Y;_[ae]=!0}}}var se=b._subplots,ue=se.xaxis,K=se.yaxis,j=x.simpleMap(ue,l),ie=x.simpleMap(K,l),W=j.concat(ie),Q=P.background;ue.length&&K.length&&(Q=x.coerce(A,b,c,"plot_bgcolor"));var ee=P.combine(Q,b.paper_bgcolor),$,X,oe,te,fe;function pe(){var Le=S[$]||[];fe._traceIndices=Le.map(function(Te){return Te._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=$,fe._id=X}function Ae(Le,Te){return x.coerce(te,fe,y,Le,Te)}function be(Le,Te){return x.coerce2(te,fe,y,Le,Te)}function Pe(Le){return Le==="x"?K:ue}function me(Le,Te){for(var ye=Le==="x"?j:ie,Se=[],Ke=0;Ke<ye.length;Ke++){var rt=ye[Ke];rt!==Te&&!(A[rt]||{}).overlaying&&Se.push(f(rt))}return Se}var Ee={x:Pe("x"),y:Pe("y")},xe=Ee.x.concat(Ee.y),De={},Ve=[];function Ze(){var Le=te.matches;g.test(Le)&&xe.indexOf(Le)===-1&&(De[Le]=te.type,Ve=Object.keys(De))}var ke=L(A,b),Ye=i(ke);for(O=0;O<W.length;O++){$=W[O],X=f($),oe=$.charAt(0),x.isPlainObject(A[$])||(A[$]={}),te=A[$],fe=C.newContainer(b,$,oe+"axis"),pe();var lt=oe==="x"&&!E[$]&&T[$]||oe==="y"&&!p[$]&&a[$],yt=oe==="y"&&(!k[$]&&R[$]||B[$]),He={hasMinor:!0,letter:oe,font:b.font,outerTicks:F[$],showGrid:!_[$],data:S[$]||[],bgColor:ee,calendar:b.calendar,automargin:!0,visibleDflt:lt,reverseDflt:yt,autotypenumbersDflt:m,splomStash:((b._splomAxes||{})[oe]||{})[X],noAutotickangles:oe==="y"};Ae("uirevision",b.uirevision),r(te,fe,Ae,He),t(te,fe,Ae,He,b);var Fe=Ye&&oe===ke.charAt(0),nt=be("spikecolor",Ye?fe.color:void 0),ot=be("spikethickness",Ye?1.5:void 0),ct=be("spikedash",Ye?"dot":void 0),ht=be("spikemode",Ye?"across":void 0),mt=be("spikesnap"),tt=Ae("showspikes",!!Fe||!!nt||!!ot||!!ct||!!ht||!!mt);tt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var Re=l(te.overlaying),Ge=[0,1];if(b[Re]!==void 0){var Je=l(b[Re].anchor);b[Je]!==void 0&&(Ge=b[Je].domain)}n(te,fe,Ae,{letter:oe,counterAxes:Ee[oe],overlayableAxes:me(oe,$),grid:b.grid,overlayingDomain:Ge}),Ae("title.standoff"),Ze(),fe._input=te}for(O=0;O<Ve.length;){X=Ve[O++],$=l(X),oe=$.charAt(0),x.isPlainObject(A[$])||(A[$]={}),te=A[$],fe=C.newContainer(b,$,oe+"axis"),pe();var Xe={letter:oe,font:b.font,outerTicks:F[$],showGrid:!_[$],data:[],bgColor:ee,calendar:b.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((b._splomAxes||{})[oe]||{})[X]};Ae("uirevision",b.uirevision),fe.type=De[X]||"linear",t(te,fe,Ae,Xe,b),n(te,fe,Ae,{letter:oe,counterAxes:Ee[oe],overlayableAxes:me(oe,$),grid:b.grid}),Ae("fixedrange"),Ze(),fe._input=te}var Oe=d("rangeslider","handleDefaults"),Ne=d("rangeselector","handleDefaults");for(O=0;O<j.length;O++)$=j[O],te=A[$],fe=b[$],Oe(A,b,$),fe.type==="date"&&Ne(te,fe,b,ie,fe.calendar),Ae("fixedrange");for(O=0;O<ie.length;O++){$=ie[O],te=A[$],fe=b[$];var ze=b[l(fe.anchor)],et=d("rangeslider","isVisible")(ze);Ae("fixedrange",et)}s.handleDefaults(A,b,{axIds:xe.concat(Ve).sort(u.idSort),axHasImage:B})}},42136:function(V,U,e){"use strict";var x=e(49760).mix,P=e(22548),i=e(3400);V.exports=function(C,c,y,r){r=r||{};var t=r.dfltColor;function s(a,E){return i.coerce2(C,c,r.attributes,a,E)}var n=s("linecolor",t),u=s("linewidth"),l=y("showline",r.showLine||!!n||!!u);l||(delete c.linecolor,delete c.linewidth);var f=x(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),g=s("gridcolor",f),h=s("gridwidth"),w=s("griddash"),d=y("showgrid",r.showGrid||!!g||!!h||!!w);if(d||(delete c.gridcolor,delete c.gridwidth,delete c.griddash),r.hasMinor){var o=x(c.gridcolor,r.bgColor,67).toRgbString(),v=s("minor.gridcolor",o),A=s("minor.gridwidth",c.gridwidth||1),b=s("minor.griddash",c.griddash||"solid"),M=y("minor.showgrid",!!v||!!A||!!b);M||(delete c.minor.gridcolor,delete c.minor.gridwidth,delete c.minor.griddash)}if(!r.noZeroLine){var m=s("zerolinecolor",t),S=s("zerolinewidth"),T=y("zeroline",r.showGrid||!!m||!!S);T||(delete c.zerolinecolor,delete c.zerolinewidth)}}},37668:function(V,U,e){"use strict";var x=e(38248),P=e(3400);V.exports=function(L,C,c,y){var r=y.counterAxes||[],t=y.overlayableAxes||[],s=y.letter,n=y.grid,u=y.overlayingDomain,l,f,g,h,w,d;n&&(f=n._domains[s][n._axisMap[C._id]],l=n._anchors[C._id],f&&(g=n[s+"side"].split(" ")[0],h=n.domain[s][g==="right"||g==="top"?1:0])),f=f||[0,1],l=l||(x(L.position)?"free":r[0]||"free"),g=g||(s==="x"?"bottom":"left"),h=h||0,w=0,d=!1;var o=P.coerce(L,C,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:l}},"anchor"),v=P.coerce(L,C,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(o==="free"){if(s==="y"){var A=c("autoshift");A&&(h=v==="left"?u[0]:u[1],d=C.automargin?C.automargin:!0,w=v==="left"?-3:3),c("shift",w)}c("position",h)}c("automargin",d);var b=!1;if(t.length&&(b=P.coerce(L,C,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!b){var M=c("domain",f);M[0]>M[1]-.000244140625&&(C.domain=f),P.noneOrAll(L.domain,C.domain,f),C.tickmode==="sync"&&(C.tickmode="auto")}return c("layer"),C}},42568:function(V,U,e){"use strict";var x=e(85024);V.exports=function(i,L,C,c,y){y||(y={});var r=y.tickSuffixDflt,t=x(i),s=C("tickprefix");s&&C("showtickprefix",t);var n=C("ticksuffix",r);n&&C("showticksuffix",t)}},96312:function(V,U,e){"use strict";var x=e(76808);V.exports=function(i,L,C,c){var y=L._template||{},r=L.type||y.type||"-";C("minallowed"),C("maxallowed");var t=C("range");if(!t){var s;!c.noInsiderange&&r!=="log"&&(s=C("insiderange"),s&&(s[0]===null||s[1]===null)&&(L.insiderange=!1,s=void 0),s&&(t=C("range",s)))}var n=L.getAutorangeDflt(t,c),u=C("autorange",n),l;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(u==="reversed"||u===!0)||t[0]!==null&&(u==="min"||u==="max reversed")||t[1]!==null&&(u==="max"||u==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,l=!0),l||(n=L.getAutorangeDflt(t,c),u=C("autorange",n)),u&&(x(C,u,t),(r==="linear"||r==="-")&&C("rangemode")),L.cleanRange()}},21160:function(V,U,e){"use strict";var x=e(84284).FROM_BL;V.exports=function(i,L,C){C===void 0&&(C=x[i.constraintoward||"center"]);var c=[i.r2l(i.range[0]),i.r2l(i.range[1])],y=c[0]+(c[1]-c[0])*C;i.range=i._input.range=[i.l2r(y+(c[0]-y)*L),i.l2r(y+(c[1]-y)*L)],i.setScale()}},78344:function(V,U,e){"use strict";var x=e(33428),P=e(94336).E9,i=e(3400),L=i.numberFormat,C=e(38248),c=i.cleanNumber,y=i.ms2DateTime,r=i.dateTime2ms,t=i.ensureNumber,s=i.isArrayOrTypedArray,n=e(39032),u=n.FP_SAFE,l=n.BADNUM,f=n.LOG_CLIP,g=n.ONEWEEK,h=n.ONEDAY,w=n.ONEHOUR,d=n.ONEMIN,o=n.ONESEC,v=e(79811),A=e(33816),b=A.HOUR_PATTERN,M=A.WEEKDAY_PATTERN;function m(T){return Math.pow(10,T)}function S(T){return T!=null}V.exports=function(a,E){E=E||{};var p=a._id||"x",k=p.charAt(0);function R(W,Q){if(W>0)return Math.log(W)/Math.LN10;if(W<=0&&Q&&a.range&&a.range.length===2){var ee=a.range[0],$=a.range[1];return .5*(ee+$-2*f*Math.abs(ee-$))}else return l}function B(W,Q,ee,$){if(($||{}).msUTC&&C(W))return+W;var X=r(W,ee||a.calendar);if(X===l)if(C(W)){W=+W;var oe=Math.floor(i.mod(W+.05,1)*10),te=Math.round(W-oe/10);X=r(new Date(te))+oe/10}else return l;return X}function F(W,Q,ee){return y(W,Q,ee||a.calendar)}function _(W){return a._categories[Math.round(W)]}function O(W){if(S(W)){if(a._categoriesMap===void 0&&(a._categoriesMap={}),a._categoriesMap[W]!==void 0)return a._categoriesMap[W];a._categories.push(typeof W=="number"?String(W):W);var Q=a._categories.length-1;return a._categoriesMap[W]=Q,Q}return l}function z(W,Q){for(var ee=new Array(Q),$=0;$<Q;$++){var X=(W[0]||[])[$],oe=(W[1]||[])[$];ee[$]=N([X,oe])}return ee}function N(W){if(a._categoriesMap)return a._categoriesMap[W]}function Y(W){var Q=N(W);if(Q!==void 0)return Q;if(C(W))return+W}function J(W){return C(W)?+W:N(W)}function ae(W,Q,ee){return x.round(ee+Q*W,2)}function se(W,Q,ee){return(W-ee)/Q}var ue=function(Q){return C(Q)?ae(Q,a._m,a._b):l},K=function(W){return se(W,a._m,a._b)};if(a.rangebreaks){var j=k==="y";ue=function(W){if(!C(W))return l;var Q=a._rangebreaks.length;if(!Q)return ae(W,a._m,a._b);var ee=j;a.range[0]>a.range[1]&&(ee=!ee);for(var $=ee?-1:1,X=$*W,oe=0,te=0;te<Q;te++){var fe=$*a._rangebreaks[te].min,pe=$*a._rangebreaks[te].max;if(X<fe)break;if(X>pe)oe=te+1;else{oe=X<(fe+pe)/2?te:te+1;break}}var Ae=a._B[oe]||0;return isFinite(Ae)?ae(W,a._m2,Ae):0},K=function(W){var Q=a._rangebreaks.length;if(!Q)return se(W,a._m,a._b);for(var ee=0,$=0;$<Q&&!(W<a._rangebreaks[$].pmin);$++)W>a._rangebreaks[$].pmax&&(ee=$+1);return se(W,a._m2,a._B[ee])}}a.c2l=a.type==="log"?R:t,a.l2c=a.type==="log"?m:t,a.l2p=ue,a.p2l=K,a.c2p=a.type==="log"?function(W,Q){return ue(R(W,Q))}:ue,a.p2c=a.type==="log"?function(W){return m(K(W))}:K,["linear","-"].indexOf(a.type)!==-1?(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=c,a.c2d=a.c2r=a.l2d=a.l2r=t,a.d2p=a.r2p=function(W){return a.l2p(c(W))},a.p2d=a.p2r=K,a.cleanPos=t):a.type==="log"?(a.d2r=a.d2l=function(W,Q){return R(c(W),Q)},a.r2d=a.r2c=function(W){return m(c(W))},a.d2c=a.r2l=c,a.c2d=a.l2r=t,a.c2r=R,a.l2d=m,a.d2p=function(W,Q){return a.l2p(a.d2r(W,Q))},a.p2d=function(W){return m(K(W))},a.r2p=function(W){return a.l2p(c(W))},a.p2r=K,a.cleanPos=t):a.type==="date"?(a.d2r=a.r2d=i.identity,a.d2c=a.r2c=a.d2l=a.r2l=B,a.c2d=a.c2r=a.l2d=a.l2r=F,a.d2p=a.r2p=function(W,Q,ee){return a.l2p(B(W,0,ee))},a.p2d=a.p2r=function(W,Q,ee){return F(K(W),Q,ee)},a.cleanPos=function(W){return i.cleanDate(W,l,a.calendar)}):a.type==="category"?(a.d2c=a.d2l=O,a.r2d=a.c2d=a.l2d=_,a.d2r=a.d2l_noadd=Y,a.r2c=function(W){var Q=J(W);return Q!==void 0?Q:a.fraction2r(.5)},a.l2r=a.c2r=t,a.r2l=J,a.d2p=function(W){return a.l2p(a.r2c(W))},a.p2d=function(W){return _(K(W))},a.r2p=a.d2p,a.p2r=K,a.cleanPos=function(W){return typeof W=="string"&&W!==""?W:t(W)}):a.type==="multicategory"&&(a.r2d=a.c2d=a.l2d=_,a.d2r=a.d2l_noadd=Y,a.r2c=function(W){var Q=Y(W);return Q!==void 0?Q:a.fraction2r(.5)},a.r2c_just_indices=N,a.l2r=a.c2r=t,a.r2l=Y,a.d2p=function(W){return a.l2p(a.r2c(W))},a.p2d=function(W){return _(K(W))},a.r2p=a.d2p,a.p2r=K,a.cleanPos=function(W){return Array.isArray(W)||typeof W=="string"&&W!==""?W:t(W)},a.setupMultiCategory=function(W){var Q=a._traceIndices,ee,$,X=a._matchGroup;if(X&&a._categories.length===0){for(var oe in X)if(oe!==p){var te=E[v.id2name(oe)];Q=Q.concat(te._traceIndices)}}var fe=[[0,{}],[0,{}]],pe=[];for(ee=0;ee<Q.length;ee++){var Ae=W[Q[ee]];if(k in Ae){var be=Ae[k],Pe=Ae._length||i.minRowLength(be);if(s(be[0])&&s(be[1]))for($=0;$<Pe;$++){var me=be[0][$],Ee=be[1][$];S(me)&&S(Ee)&&(pe.push([me,Ee]),me in fe[0][1]||(fe[0][1][me]=fe[0][0]++),Ee in fe[1][1]||(fe[1][1][Ee]=fe[1][0]++))}}}for(pe.sort(function(xe,De){var Ve=fe[0][1],Ze=Ve[xe[0]]-Ve[De[0]];if(Ze)return Ze;var ke=fe[1][1];return ke[xe[1]]-ke[De[1]]}),ee=0;ee<pe.length;ee++)O(pe[ee])}),a.fraction2r=function(W){var Q=a.r2l(a.range[0]),ee=a.r2l(a.range[1]);return a.l2r(Q+W*(ee-Q))},a.r2fraction=function(W){var Q=a.r2l(a.range[0]),ee=a.r2l(a.range[1]);return(a.r2l(W)-Q)/(ee-Q)},a.limitRange=function(W){var Q=a.minallowed,ee=a.maxallowed;if(!(Q===void 0&&ee===void 0)){W||(W="range");var $=i.nestedProperty(a,W).get(),X=i.simpleMap($,a.r2l),oe=X[1]<X[0];oe&&X.reverse();var te=i.simpleMap([Q,ee],a.r2l);if(Q!==void 0&&X[0]<te[0]&&($[oe?1:0]=Q),ee!==void 0&&X[1]>te[1]&&($[oe?0:1]=ee),$[0]===$[1]){var fe=a.l2r(Q),pe=a.l2r(ee);if(Q!==void 0){var Ae=fe+1;ee!==void 0&&(Ae=Math.min(Ae,pe)),$[oe?1:0]=Ae}if(ee!==void 0){var be=pe+1;Q!==void 0&&(be=Math.max(be,fe)),$[oe?0:1]=be}}}},a.cleanRange=function(W,Q){a._cleanRange(W,Q),a.limitRange(W)},a._cleanRange=function(W,Q){Q||(Q={}),W||(W="range");var ee=i.nestedProperty(a,W).get(),$,X;if(a.type==="date"?X=i.dfltRange(a.calendar):k==="y"?X=A.DFLTRANGEY:a._name==="realaxis"?X=[0,1]:X=Q.dfltRange||A.DFLTRANGEX,X=X.slice(),(a.rangemode==="tozero"||a.rangemode==="nonnegative")&&(X[0]=0),!ee||ee.length!==2){i.nestedProperty(a,W).set(X);return}var oe=ee[0]===null,te=ee[1]===null;for(a.type==="date"&&!a.autorange&&(ee[0]=i.cleanDate(ee[0],l,a.calendar),ee[1]=i.cleanDate(ee[1],l,a.calendar)),$=0;$<2;$++)if(a.type==="date"){if(!i.isDateTime(ee[$],a.calendar)){a[W]=X;break}if(a.r2l(ee[0])===a.r2l(ee[1])){var fe=i.constrain(a.r2l(ee[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);ee[0]=a.l2r(fe-1e3),ee[1]=a.l2r(fe+1e3);break}}else{if(!C(ee[$]))if(!(oe||te)&&C(ee[1-$]))ee[$]=ee[1-$]*($?10:.1);else{a[W]=X;break}if(ee[$]<-u?ee[$]=-u:ee[$]>u&&(ee[$]=u),ee[0]===ee[1]){var pe=Math.max(1,Math.abs(ee[0]*1e-6));ee[0]-=pe,ee[1]+=pe}}},a.setScale=function(W){var Q=E._size;if(a.overlaying){var ee=v.getFromId({_fullLayout:E},a.overlaying);a.domain=ee.domain}var $=W&&a._r?"_r":"range",X=a.calendar;a.cleanRange($);var oe=a.r2l(a[$][0],X),te=a.r2l(a[$][1],X),fe=k==="y";if(fe?(a._offset=Q.t+(1-a.domain[1])*Q.h,a._length=Q.h*(a.domain[1]-a.domain[0]),a._m=a._length/(oe-te),a._b=-a._m*te):(a._offset=Q.l+a.domain[0]*Q.w,a._length=Q.w*(a.domain[1]-a.domain[0]),a._m=a._length/(te-oe),a._b=-a._m*oe),a._rangebreaks=[],a._lBreaks=0,a._m2=0,a._B=[],a.rangebreaks){var pe,Ae;if(a._rangebreaks=a.locateBreaks(Math.min(oe,te),Math.max(oe,te)),a._rangebreaks.length){for(pe=0;pe<a._rangebreaks.length;pe++)Ae=a._rangebreaks[pe],a._lBreaks+=Math.abs(Ae.max-Ae.min);var be=fe;oe>te&&(be=!be),be&&a._rangebreaks.reverse();var Pe=be?-1:1;for(a._m2=Pe*a._length/(Math.abs(te-oe)-a._lBreaks),a._B.push(-a._m2*(fe?te:oe)),pe=0;pe<a._rangebreaks.length;pe++)Ae=a._rangebreaks[pe],a._B.push(a._B[a._B.length-1]-Pe*a._m2*(Ae.max-Ae.min));for(pe=0;pe<a._rangebreaks.length;pe++)Ae=a._rangebreaks[pe],Ae.pmin=ue(Ae.min),Ae.pmax=ue(Ae.max)}}if(!isFinite(a._m)||!isFinite(a._b)||a._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},a.maskBreaks=function(W){var Q=a.rangebreaks||[],ee,$,X,oe,te;Q._cachedPatterns||(Q._cachedPatterns=Q.map(function(Ve){return Ve.enabled&&Ve.bounds?i.simpleMap(Ve.bounds,Ve.pattern?c:a.d2c):null})),Q._cachedValues||(Q._cachedValues=Q.map(function(Ve){return Ve.enabled&&Ve.values?i.simpleMap(Ve.values,a.d2c).sort(i.sorterAsc):null}));for(var fe=0;fe<Q.length;fe++){var pe=Q[fe];if(pe.enabled){if(pe.bounds){var Ae=pe.pattern;switch(ee=Q._cachedPatterns[fe],$=ee[0],X=ee[1],Ae){case M:te=new Date(W),oe=te.getUTCDay(),$>X&&(X+=7,oe<$&&(oe+=7));break;case b:te=new Date(W);var be=te.getUTCHours(),Pe=te.getUTCMinutes(),me=te.getUTCSeconds(),Ee=te.getUTCMilliseconds();oe=be+(Pe/60+me/3600+Ee/36e5),$>X&&(X+=24,oe<$&&(oe+=24));break;case"":oe=W;break}if(oe>=$&&oe<X)return l}else for(var xe=Q._cachedValues[fe],De=0;De<xe.length;De++)if($=xe[De],X=$+pe.dvalue,W>=$&&W<X)return l}}return W},a.locateBreaks=function(W,Q){var ee,$,X,oe,te=[];if(!a.rangebreaks)return te;var fe=a.rangebreaks.slice().sort(function(ke,Ye){return ke.pattern===M&&Ye.pattern===b?-1:Ye.pattern===M&&ke.pattern===b?1:0}),pe=function(ke,Ye){if(ke=i.constrain(ke,W,Q),Ye=i.constrain(Ye,W,Q),ke!==Ye){for(var lt=!0,yt=0;yt<te.length;yt++){var He=te[yt];ke<He.max&&Ye>=He.min&&(ke<He.min&&(He.min=ke),Ye>He.max&&(He.max=Ye),lt=!1)}lt&&te.push({min:ke,max:Ye})}};for(ee=0;ee<fe.length;ee++){var Ae=fe[ee];if(Ae.enabled)if(Ae.bounds){var be=W,Pe=Q;Ae.pattern&&(be=Math.floor(be)),$=i.simpleMap(Ae.bounds,Ae.pattern?c:a.r2l),X=$[0],oe=$[1];var me=new Date(be),Ee,xe;switch(Ae.pattern){case M:xe=g,Ee=((oe<X?7:0)+(oe-X))*h,be+=X*h-(me.getUTCDay()*h+me.getUTCHours()*w+me.getUTCMinutes()*d+me.getUTCSeconds()*o+me.getUTCMilliseconds());break;case b:xe=h,Ee=((oe<X?24:0)+(oe-X))*w,be+=X*w-(me.getUTCHours()*w+me.getUTCMinutes()*d+me.getUTCSeconds()*o+me.getUTCMilliseconds());break;default:be=Math.min($[0],$[1]),Pe=Math.max($[0],$[1]),xe=Pe-be,Ee=xe}for(var De=be;De<Pe;De+=xe)pe(De,De+Ee)}else for(var Ve=i.simpleMap(Ae.values,a.d2c),Ze=0;Ze<Ve.length;Ze++)X=Ve[Ze],oe=X+Ae.dvalue,pe(X,oe)}return te.sort(function(ke,Ye){return ke.min-Ye.min}),te},a.makeCalcdata=function(W,Q,ee){var $,X,oe,te,fe=a.type,pe=fe==="date"&&W[Q+"calendar"];if(Q in W){if($=W[Q],te=W._length||i.minRowLength($),i.isTypedArray($)&&(fe==="linear"||fe==="log")){if(te===$.length)return $;if($.subarray)return $.subarray(0,te)}if(fe==="multicategory")return z($,te);for(X=new Array(te),oe=0;oe<te;oe++)X[oe]=a.d2c($[oe],0,pe,ee)}else{var Ae=Q+"0"in W?a.d2c(W[Q+"0"],0,pe):0,be=W["d"+Q]?Number(W["d"+Q]):1;for($=W[{x:"y",y:"x"}[Q]],te=W._length||$.length,X=new Array(te),oe=0;oe<te;oe++)X[oe]=Ae+oe*be}if(a.rangebreaks)for(oe=0;oe<te;oe++)X[oe]=a.maskBreaks(X[oe]);return X},a.isValidRange=function(W,Q){return Array.isArray(W)&&W.length===2&&(Q&&W[0]===null||C(a.r2l(W[0])))&&(Q&&W[1]===null||C(a.r2l(W[1])))},a.getAutorangeDflt=function(W,Q){var ee=!a.isValidRange(W,"nullOk");return ee&&Q&&Q.reverseDflt?ee="reversed":W&&(W[0]===null&&W[1]===null?ee=!0:W[0]===null&&W[1]!==null?ee="min":W[0]!==null&&W[1]===null&&(ee="max")),ee},a.isReversed=function(){var W=a.autorange;return W==="reversed"||W==="min reversed"||W==="max reversed"},a.isPtWithinRange=function(W,Q){var ee=a.c2l(W[k],null,Q),$=a.r2l(a.range[0]),X=a.r2l(a.range[1]);return $<X?$<=ee&&ee<=X:X<=ee&&ee<=$},a._emptyCategories=function(){a._categories=[],a._categoriesMap={}},a.clearCalc=function(){var W=a._matchGroup;if(W){var Q=null,ee=null;for(var $ in W){var X=E[v.id2name($)];if(X._categories){Q=X._categories,ee=X._categoriesMap;break}}Q&&ee?(a._categories=Q,a._categoriesMap=ee):a._emptyCategories()}else a._emptyCategories();if(a._initialCategories)for(var oe=0;oe<a._initialCategories.length;oe++)O(a._initialCategories[oe])},a.sortByInitialCategories=function(){var W=[];if(a._emptyCategories(),a._initialCategories)for(var Q=0;Q<a._initialCategories.length;Q++)O(a._initialCategories[Q]);W=W.concat(a._traceIndices);var ee=a._matchGroup;for(var $ in ee)if(p!==$){var X=E[v.id2name($)];X._categories=a._categories,X._categoriesMap=a._categoriesMap,W=W.concat(X._traceIndices)}return W};var ie=E._d3locale;a.type==="date"&&(a._dateFormat=ie?ie.timeFormat:P,a._extraFormat=E._extraFormat),a._separators=E.separators,a._numFormat=ie?ie.numberFormat:L,delete a._minDtick,delete a._forceTick0}},85024:function(V){"use strict";V.exports=function(e){var x=["showexponent","showtickprefix","showticksuffix"],P=x.filter(function(L){return e[L]!==void 0}),i=function(L){return e[L]===e[P[0]]};if(P.every(i)||P.length===1)return e[P[0]]}},95936:function(V,U,e){"use strict";var x=e(3400),P=e(76308).contrast,i=e(94724),L=e(85024),C=e(51272);V.exports=function(r,t,s,n,u){u||(u={});var l=s("labelalias");x.isPlainObject(l)||delete t.labelalias;var f=L(r),g=s("showticklabels");if(g){var h=u.font||{},w=t.color,d=t.ticklabelposition||"",o=d.indexOf("inside")!==-1?P(u.bgColor):w&&w!==i.color.dflt?w:h.color;if(x.coerceFont(s,"tickfont",{family:h.family,size:h.size,color:o}),!u.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&s("ticklabelstep"),!u.noAng){var v=s("tickangle");!u.noAutotickangles&&v==="auto"&&s("autotickangles")}if(n!=="category"){var A=s("tickformat");C(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:c}),t.tickformatstops.length||delete t.tickformatstops,!u.noExp&&!A&&n!=="date"&&(s("showexponent",f),s("exponentformat"),s("minexponent"),s("separatethousands"))}}};function c(y,r){function t(n,u){return x.coerce(y,r,i.tickformatstops,n,u)}var s=t("enabled");s&&(t("dtickrange"),t("value"))}},25404:function(V,U,e){"use strict";var x=e(3400),P=e(94724);V.exports=function(L,C,c,y){var r=y.isMinor,t=r?L.minor||{}:L,s=r?C.minor:C,n=r?P.minor:P,u=r?"minor.":"",l=x.coerce2(t,s,n,"ticklen",r?(C.ticklen||5)*.6:void 0),f=x.coerce2(t,s,n,"tickwidth",r?C.tickwidth||1:void 0),g=x.coerce2(t,s,n,"tickcolor",(r?C.tickcolor:void 0)||s.color),h=c(u+"ticks",!r&&y.outerTicks||l||f||g?"outside":"");h||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26332:function(V,U,e){"use strict";var x=e(98728),P=e(3400).isArrayOrTypedArray,i=e(38116).isTypedArraySpec,L=e(38116).decodeTypedArraySpec;V.exports=function(c,y,r,t,s){s||(s={});var n=s.isMinor,u=n?c.minor||{}:c,l=n?y.minor:y,f=n?"minor.":"";function g(M){var m=u[M];return i(m)&&(m=L(m)),m!==void 0?m:(l._template||{})[M]}var h=g("tick0"),w=g("dtick"),d=g("tickvals"),o=P(d)?"array":w?"linear":"auto",v=r(f+"tickmode",o);if(v==="auto"||v==="sync")r(f+"nticks");else if(v==="linear"){var A=l.dtick=x.dtick(w,t);l.tick0=x.tick0(h,t,y.calendar,A)}else if(t!=="multicategory"){var b=r(f+"tickvals");b===void 0?l.tickmode="auto":n||r("ticktext")}}},73736:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(3400),L=e(43616),C=e(54460);V.exports=function(y,r,t,s){var n=y._fullLayout;if(r.length===0){C.redrawComponents(y);return}function u(b){var M=b.xaxis,m=b.yaxis;n._defs.select("#"+b.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),b.plot.call(L.setTranslate,M._offset,m._offset).call(L.setScale,1,1);var S=b.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(L.setPointGroupScale,1,1),S.selectAll(".textpoint").call(L.setTextPointsScale,1,1),S.call(L.hideOutsideRangePoints,b)}function l(b,M){var m=b.plotinfo,S=m.xaxis,T=m.yaxis,a=S._length,E=T._length,p=!!b.xr1,k=!!b.yr1,R=[];if(p){var B=i.simpleMap(b.xr0,S.r2l),F=i.simpleMap(b.xr1,S.r2l),_=B[1]-B[0],O=F[1]-F[0];R[0]=(B[0]*(1-M)+M*F[0]-B[0])/(B[1]-B[0])*a,R[2]=a*(1-M+M*O/_),S.range[0]=S.l2r(B[0]*(1-M)+M*F[0]),S.range[1]=S.l2r(B[1]*(1-M)+M*F[1])}else R[0]=0,R[2]=a;if(k){var z=i.simpleMap(b.yr0,T.r2l),N=i.simpleMap(b.yr1,T.r2l),Y=z[1]-z[0],J=N[1]-N[0];R[1]=(z[1]*(1-M)+M*N[1]-z[1])/(z[0]-z[1])*E,R[3]=E*(1-M+M*J/Y),T.range[0]=S.l2r(z[0]*(1-M)+M*N[0]),T.range[1]=T.l2r(z[1]*(1-M)+M*N[1])}else R[1]=0,R[3]=E;C.drawOne(y,S,{skipTitle:!0}),C.drawOne(y,T,{skipTitle:!0}),C.redrawComponents(y,[S._id,T._id]);var ae=p?a/R[2]:1,se=k?E/R[3]:1,ue=p?R[0]:0,K=k?R[1]:0,j=p?R[0]/R[2]*a:0,ie=k?R[1]/R[3]*E:0,W=S._offset-j,Q=T._offset-ie;m.clipRect.call(L.setTranslate,ue,K).call(L.setScale,1/ae,1/se),m.plot.call(L.setTranslate,W,Q).call(L.setScale,ae,se),L.setPointGroupScale(m.zoomScalePts,1/ae,1/se),L.setTextPointsScale(m.zoomScaleTxt,1/ae,1/se)}var f;s&&(f=s());function g(){for(var b={},M=0;M<r.length;M++){var m=r[M],S=m.plotinfo.xaxis,T=m.plotinfo.yaxis;m.xr1&&(b[S._name+".range"]=m.xr1.slice()),m.yr1&&(b[T._name+".range"]=m.yr1.slice())}return f&&f(),P.call("relayout",y,b).then(function(){for(var a=0;a<r.length;a++)u(r[a].plotinfo)})}function h(){for(var b={},M=0;M<r.length;M++){var m=r[M],S=m.plotinfo.xaxis,T=m.plotinfo.yaxis;m.xr0&&(b[S._name+".range"]=m.xr0.slice()),m.yr0&&(b[T._name+".range"]=m.yr0.slice())}return P.call("relayout",y,b).then(function(){for(var a=0;a<r.length;a++)u(r[a].plotinfo)})}var w,d,o,v=x.ease(t.easing);y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function A(){d=Date.now();for(var b=Math.min(1,(d-w)/t.duration),M=v(b),m=0;m<r.length;m++)l(r[m],M);d-w>t.duration?(g(),o=window.cancelAnimationFrame(A)):o=window.requestAnimationFrame(A)}return w=Date.now(),o=window.requestAnimationFrame(A),Promise.resolve()}},14944:function(V,U,e){"use strict";var x=e(24040).traceIs,P=e(52976);V.exports=function(r,t,s,n){s("autotypenumbers",n.autotypenumbersDflt);var u=s("type",(n.splomStash||{}).type);u==="-"&&(i(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function i(y,r){if(y.type==="-"){var t=y._id,s=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=s);var u=L(r,t,s);if(u){if(u.type==="histogram"&&s==={v:"y",h:"x"}[u.orientation||"v"]){y.type="linear";return}var l=s+"calendar",f=u[l],g={noMultiCategory:!x(u,"cartesian")||x(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&s==={h:"x",v:"y"}[u.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=y.autotypenumbers,c(u,s)){var h=C(u),w=[];for(n=0;n<r.length;n++){var d=r[n];!x(d,"box-violin")||(d[s+"axis"]||s)!==t||(d[h]!==void 0?w.push(d[h][0]):d.name!==void 0?w.push(d.name):w.push("text"),d[l]!==f&&(f=void 0))}y.type=P(w,f,g)}else if(u.type==="splom"){var o=u.dimensions,v=o[u._axesDim[t]];v.visible&&(y.type=P(v.values,f,g))}else y.type=P(u[s]||[u[s+"0"]],f,g)}}}function L(y,r,t){for(var s=0;s<y.length;s++){var n=y[s];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(c(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function C(y){return{v:"x",h:"y"}[y.orientation||"v"]}function c(y,r){var t=C(y),s=x(y,"box-violin"),n=x(y._fullInput||{},"candlestick");return s&&!n&&r===t&&y[t]===void 0&&y[t+"0"]===void 0}},62460:function(V,U,e){"use strict";var x=e(24040),P=e(3400);U.manageCommandObserver=function(r,t,s,n){var u={},l=!0;t&&t._commandObserver&&(u=t._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var f=U.hasSimpleAPICommandBindings(r,s,u.lookupTable);if(t&&t._commandObserver){if(f)return u;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,u}if(f){i(r,f,u.cache),u.check=function(){if(l){var d=i(r,f,u.cache);return d.changed&&n&&u.lookupTable[d.value]!==void 0&&(u.disable(),Promise.resolve(n({value:d.value,type:f.type,prop:f.prop,traces:f.traces,index:u.lookupTable[d.value]})).then(u.enable,u.enable)),d.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<g.length;h++)r._internalOn(g[h],u.check);u.remove=function(){for(var w=0;w<g.length;w++)r._removeInternalListener(g[w],u.check)}}else P.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){l=!1},u.enable=function(){l=!0},t&&(t._commandObserver=u),u},U.hasSimpleAPICommandBindings=function(r,t,s){var n,u=t.length,l;for(n=0;n<u;n++){var f,g=t[n],h=g.method,w=g.args;if(Array.isArray(w)||(w=[]),!h)return!1;var d=U.computeAPICommandBindings(r,h,w);if(d.length!==1)return!1;if(!l)l=d[0],Array.isArray(l.traces)&&l.traces.sort();else{if(f=d[0],f.type!==l.type||f.prop!==l.prop)return!1;if(Array.isArray(l.traces))if(Array.isArray(f.traces)){f.traces.sort();for(var o=0;o<l.traces.length;o++)if(l.traces[o]!==f.traces[o])return!1}else return!1;else if(f.prop!==l.prop)return!1}f=d[0];var v=f.value;if(Array.isArray(v))if(v.length===1)v=v[0];else return!1;s&&(s[v]=n)}return l};function i(r,t,s){var n,u,l,f=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return u=P.nestedProperty(n,t.prop).get(),l=s[t.type]=s[t.type]||{},l.hasOwnProperty(t.prop)&&l[t.prop]!==u&&(f=!0),l[t.prop]=u,{changed:f,value:u}}U.executeAPICommand=function(r,t,s){if(t==="skip")return Promise.resolve();var n=x.apiMethodRegistry[t],u=[r];Array.isArray(s)||(s=[]);for(var l=0;l<s.length;l++)u.push(s[l]);return n.apply(null,u).catch(function(f){return P.warn("API call to Plotly."+t+" rejected.",f),Promise.reject(f)})},U.computeAPICommandBindings=function(r,t,s){var n;switch(Array.isArray(s)||(s=[]),t){case"restyle":n=c(r,s);break;case"relayout":n=C(r,s);break;case"update":n=c(r,[s[0],s[2]]).concat(C(r,[s[1]]));break;case"animate":n=L(r,s);break;default:n=[]}return n};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function C(r,t){var s=[],n=t[0],u={};if(typeof n=="string")u[n]=t[1];else if(P.isPlainObject(n))u=n;else return s;return y(u,function(l,f,g){s.push({type:"layout",prop:l,value:g})},"",0),s}function c(r,t){var s,n,u,l,f=[];if(n=t[0],u=t[1],s=t[2],l={},typeof n=="string")l[n]=u;else if(P.isPlainObject(n))l=n,s===void 0&&(s=u);else return f;return s===void 0&&(s=null),y(l,function(g,h,w){var d,o;if(Array.isArray(w)){o=w.slice();var v=Math.min(o.length,r.data.length);s&&(v=Math.min(v,s.length)),d=[];for(var A=0;A<v;A++)d[A]=s?s[A]:A}else o=w,d=s?s.slice():null;if(d===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(d)){if(!Array.isArray(o)){var b=o;o=[];for(var M=0;M<d.length;M++)o[M]=b}o.length=Math.min(d.length,o.length)}f.push({type:"data",prop:g,traces:d,value:o})},"",0),f}function y(r,t,s,n){Object.keys(r).forEach(function(u){var l=r[u];if(u[0]!=="_"){var f=s+(n>0?".":"")+u;P.isPlainObject(l)?y(l,t,f,n+1):t(f,u,l)}})}},86968:function(V,U,e){"use strict";var x=e(92880).extendFlat;U.u=function(P,i){P=P||{},i=i||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]},C=P.name?P.name+" ":"",c=P.trace?"trace ":"subplot ",y=i.description?" "+i.description:"",r={x:x({},L,{}),y:x({},L,{}),editType:P.editType};return P.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:P.editType},r.column={valType:"integer",min:0,dflt:0,editType:P.editType}),r},U.Q=function(P,i,L,C){var c=C&&C.x||[0,1],y=C&&C.y||[0,1],r=i.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?c=r._domains.x[t]:delete P.domain.column);var s=L("domain.row");s!==void 0&&(s<r.rows?y=r._domains.y[s]:delete P.domain.row)}var n=L("domain.x",c),u=L("domain.y",y);n[0]<n[1]||(P.domain.x=c.slice()),u[0]<u[1]||(P.domain.y=y.slice())}},25376:function(V){"use strict";V.exports=function(U){var e=U.editType,x=U.colorEditType;x===void 0&&(x=e);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:x},editType:e};return U.autoSize&&(P.size.dflt="auto"),U.autoColor&&(P.color.dflt="auto"),U.arrayOk&&(P.family.arrayOk=!0,P.size.arrayOk=!0,P.color.arrayOk=!0),P}},16672:function(V){"use strict";V.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(V,U){"use strict";U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(V,U,e){"use strict";var x=e(33428),P=e(83356),i=P.geoPath,L=P.geoDistance,C=e(87108),c=e(24040),y=e(3400),r=y.strTranslate,t=e(76308),s=e(43616),n=e(93024),u=e(7316),l=e(54460),f=e(19280).getAutoRange,g=e(86476),h=e(22676).prepSelect,w=e(22676).clearOutline,d=e(22676).selectOnClick,o=e(79248),v=e(79552),A=e(27144),b=e(59972),M=e(55712).NO;function m(p){this.id=p.id,this.graphDiv=p.graphDiv,this.container=p.container,this.topojsonURL=p.topojsonURL,this.isStatic=p.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=m.prototype;V.exports=function(k){return new m(k)},S.plot=function(p,k,R,B){var F=this;if(B)return F.update(p,k,!0);F._geoCalcData=p,F._fullLayout=k;var _=k[this.id],O=[],z=!1;for(var N in v.layerNameToAdjective)if(N!=="frame"&&_["show"+N]){z=!0;break}for(var Y=!1,J=0;J<p.length;J++){var ae=p[0][0].trace;ae._geo=F,ae.locationmode&&(z=!0);var se=ae.marker;if(se){var ue=se.angle,K=se.angleref;(ue||K==="north"||K==="previous")&&(Y=!0)}}if(this._hasMarkerAngles=Y,z){var j=b.getTopojsonName(_);(F.topojson===null||j!==F.topojsonName)&&(F.topojsonName=j,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&O.push(F.fetchTopojson()))}O=O.concat(A.fetchTraceGeoData(p)),R.push(new Promise(function(ie,W){Promise.all(O).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(p,k),ie()}).catch(W)}))},S.fetchTopojson=function(){var p=this,k=b.getTopojsonPath(p.topojsonURL,p.topojsonName);return new Promise(function(R,B){x.json(k,function(F,_){if(F)return F.status===404?B(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):B(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[p.topojsonName]=_,R()})})},S.update=function(p,k,R){var B=k[this.id];this.hasChoropleth=!1;for(var F=0;F<p.length;F++){var _=p[F],O=_[0].trace;O.type==="choropleth"&&(this.hasChoropleth=!0),O.visible===!0&&O._length>0&&O._module.calcGeoJSON(_,k)}if(!R){var z=this.updateProjection(p,k);if(z)return;(!this.viewInitial||this.scope!==B.scope)&&this.saveViewInitial(B)}this.scope=B.scope,this.updateBaseLayers(k,B),this.updateDims(k,B),this.updateFx(k,B),u.generalUpdatePerTraceModule(this.graphDiv,this,p,B);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},S.updateProjection=function(p,k){var R=this.graphDiv,B=k[this.id],F=k._size,_=B.domain,O=B.projection,z=B.lonaxis,N=B.lataxis,Y=z._ax,J=N._ax,ae=this.projection=T(B),se=[[F.l+F.w*_.x[0],F.t+F.h*(1-_.y[1])],[F.l+F.w*_.x[1],F.t+F.h*(1-_.y[0])]],ue=B.center||{},K=O.rotation||{},j=z.range||[],ie=N.range||[];if(B.fitbounds){Y._length=se[1][0]-se[0][0],J._length=se[1][1]-se[0][1],Y.range=f(R,Y),J.range=f(R,J);var W=(Y.range[0]+Y.range[1])/2,Q=(J.range[0]+J.range[1])/2;if(B._isScoped)ue={lon:W,lat:Q};else if(B._isClipped){ue={lon:W,lat:Q},K={lon:W,lat:Q,roll:K.roll};var ee=O.type,$=v.lonaxisSpan[ee]/2||180,X=v.lataxisSpan[ee]/2||90;j=[W-$,W+$],ie=[Q-X,Q+X]}else ue={lon:W,lat:Q},K={lon:W,lat:K.lat,roll:K.roll}}ae.center([ue.lon-K.lon,ue.lat-K.lat]).rotate([-K.lon,-K.lat,K.roll]).parallels(O.parallels);var oe=E(j,ie);ae.fitExtent(se,oe);var te=this.bounds=ae.getBounds(oe),fe=this.fitScale=ae.scale(),pe=ae.translate();if(B.fitbounds){var Ae=ae.getBounds(E(Y.range,J.range)),be=Math.min((te[1][0]-te[0][0])/(Ae[1][0]-Ae[0][0]),(te[1][1]-te[0][1])/(Ae[1][1]-Ae[0][1]));isFinite(be)?ae.scale(be*fe):y.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ae.scale(O.scale*fe);var Pe=this.midPt=[(te[0][0]+te[1][0])/2,(te[0][1]+te[1][1])/2];if(ae.translate([pe[0]+(Pe[0]-pe[0]),pe[1]+(Pe[1]-pe[1])]).clipExtent(te),B._isAlbersUsa){var me=ae([ue.lon,ue.lat]),Ee=ae.translate();ae.translate([Ee[0]-(me[0]-Ee[0]),Ee[1]-(me[1]-Ee[1])])}},S.updateBaseLayers=function(p,k){var R=this,B=R.topojson,F=R.layers,_=R.basePaths;function O(se){return se==="lonaxis"||se==="lataxis"}function z(se){return!!v.lineLayers[se]}function N(se){return!!v.fillLayers[se]}var Y=this.hasChoropleth?v.layersForChoropleth:v.layers,J=Y.filter(function(se){return z(se)||N(se)?k["show"+se]:O(se)?k[se].showgrid:!0}),ae=R.framework.selectAll(".layer").data(J,String);ae.exit().each(function(se){delete F[se],delete _[se],x.select(this).remove()}),ae.enter().append("g").attr("class",function(se){return"layer "+se}).each(function(se){var ue=F[se]=x.select(this);se==="bg"?R.bgRect=ue.append("rect").style("pointer-events","all"):O(se)?_[se]=ue.append("path").style("fill","none"):se==="backplot"?ue.append("g").classed("choroplethlayer",!0):se==="frontplot"?ue.append("g").classed("scatterlayer",!0):z(se)?_[se]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):N(se)&&(_[se]=ue.append("path").style("stroke","none"))}),ae.order(),ae.each(function(se){var ue=_[se],K=v.layerNameToAdjective[se];se==="frame"?ue.datum(v.sphereSVG):z(se)||N(se)?ue.datum(M(B,B.objects[se])):O(se)&&ue.datum(a(se,k,p)).call(t.stroke,k[se].gridcolor).call(s.dashLine,k[se].griddash,k[se].gridwidth),z(se)?ue.call(t.stroke,k[K+"color"]).call(s.dashLine,"",k[K+"width"]):N(se)&&ue.call(t.fill,k[K+"color"])})},S.updateDims=function(p,k){var R=this.bounds,B=(k.framewidth||0)/2,F=R[0][0]-B,_=R[0][1]-B,O=R[1][0]-F+B,z=R[1][1]-_+B;s.setRect(this.clipRect,F,_,O,z),this.bgRect.call(s.setRect,F,_,O,z).call(t.fill,k.bgcolor),this.xaxis._offset=F,this.xaxis._length=O,this.yaxis._offset=_,this.yaxis._length=z},S.updateFx=function(p,k){var R=this,B=R.graphDiv,F=R.bgRect,_=p.dragmode,O=p.clickmode;if(R.isStatic)return;function z(){var ae=R.viewInitial,se={};for(var ue in ae)se[R.id+"."+ue]=ae[ue];c.call("_guiRelayout",B,se),B.emit("plotly_doubleclick",null)}function N(ae){return R.projection.invert([ae[0]+R.xaxis._offset,ae[1]+R.yaxis._offset])}var Y=function(ae,se){if(se.isRect){var ue=ae.range={};ue[R.id]=[N([se.xmin,se.ymin]),N([se.xmax,se.ymax])]}else{var K=ae.lassoPoints={};K[R.id]=se.map(N)}},J={element:R.bgRect.node(),gd:B,plotinfo:{id:R.id,xaxis:R.xaxis,yaxis:R.yaxis,fillRangeItems:Y},xaxes:[R.xaxis],yaxes:[R.yaxis],subplot:R.id,clickFn:function(ae){ae===2&&w(B)}};_==="pan"?(F.node().onmousedown=null,F.call(o(R,k)),F.on("dblclick.zoom",z),B._context._scrollZoom.geo||F.on("wheel.zoom",null)):(_==="select"||_==="lasso")&&(F.on(".zoom",null),J.prepFn=function(ae,se,ue){h(ae,se,ue,J,_)},g.init(J)),F.on("mousemove",function(){var ae=R.projection.invert(y.getPositionFromD3Event());if(!ae)return g.unhover(B,x.event);R.xaxis.p2c=function(){return ae[0]},R.yaxis.p2c=function(){return ae[1]},n.hover(B,x.event,R.id)}),F.on("mouseout",function(){B._dragging||g.unhover(B,x.event)}),F.on("click",function(){_!=="select"&&_!=="lasso"&&(O.indexOf("select")>-1&&d(x.event,B,[R.xaxis],[R.yaxis],R.id,J),O.indexOf("event")>-1&&n.click(B,x.event))})},S.makeFramework=function(){var p=this,k=p.graphDiv,R=k._fullLayout,B="clip"+R._uid+p.id;p.clipDef=R._clips.append("clipPath").attr("id",B),p.clipRect=p.clipDef.append("rect"),p.framework=x.select(p.container).append("g").attr("class","geo "+p.id).call(s.setClipUrl,B,k),p.project=function(F){var _=p.projection(F);return _?[_[0]-p.xaxis._offset,_[1]-p.yaxis._offset]:[null,null]},p.xaxis={_id:"x",c2p:function(F){return p.project(F)[0]}},p.yaxis={_id:"y",c2p:function(F){return p.project(F)[1]}},p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(p.mockAxis,R)},S.saveViewInitial=function(p){var k=p.center||{},R=p.projection,B=R.rotation||{};this.viewInitial={fitbounds:p.fitbounds,"projection.scale":R.scale};var F;p._isScoped?F={"center.lon":k.lon,"center.lat":k.lat}:p._isClipped?F={"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:F={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":B.lon},y.extendFlat(this.viewInitial,F)},S.render=function(p){this._hasMarkerAngles&&p?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var p=this.projection,k=p.getPath(),R;function B(_){var O=p(_.lonlat);return O?r(O[0],O[1]):null}function F(_){return p.isLonLatOverEdges(_.lonlat)?"none":null}for(R in this.basePaths)this.basePaths[R].attr("d",k);for(R in this.dataPaths)this.dataPaths[R].attr("d",function(_){return k(_.geojson)});for(R in this.dataPoints)this.dataPoints[R].attr("display",F).attr("transform",B)};function T(p){var k=p.projection,R=k.type,B=v.projNames[R];B="geo"+y.titleCase(B);for(var F=P[B]||C[B],_=F(),O=p._isSatellite?Math.acos(1/k.distance)*180/Math.PI:p._isClipped?v.lonaxisSpan[R]/2:null,z=["center","rotate","parallels","clipExtent"],N=function(ae){return ae?_:[]},Y=0;Y<z.length;Y++){var J=z[Y];typeof _[J]!="function"&&(_[J]=N)}return _.isLonLatOverEdges=function(ae){if(_(ae)===null)return!0;if(O){var se=_.rotate(),ue=L(ae,[-se[0],-se[1]]),K=O*Math.PI/180;return ue>K}else return!1},_.getPath=function(){return i().projection(_)},_.getBounds=function(ae){return _.getPath().bounds(ae)},_.precision(v.precision),p._isSatellite&&_.tilt(k.tilt).distance(k.distance),O&&_.clipAngle(O-v.clipPad),_}function a(p,k,R){var B=1e-6,F=2.5,_=k[p],O=v.scopeDefaults[k.scope],z,N,Y;p==="lonaxis"?(z=O.lonaxisRange,N=O.lataxisRange,Y=function(Q,ee){return[Q,ee]}):p==="lataxis"&&(z=O.lataxisRange,N=O.lonaxisRange,Y=function(Q,ee){return[ee,Q]});var J={type:"linear",range:[z[0],z[1]-B],tick0:_.tick0,dtick:_.dtick};l.setConvert(J,R);var ae=l.calcTicks(J);!k.isScoped&&p==="lonaxis"&&ae.pop();for(var se=ae.length,ue=new Array(se),K=0;K<se;K++)for(var j=ae[K].x,ie=ue[K]=[],W=N[0];W<N[1]+F;W+=F)ie.push(Y(j,W));return{type:"MultiLineString",coordinates:ue}}function E(p,k){var R=v.clipPad,B=p[0]+R,F=p[1]-R,_=k[0]+R,O=k[1]-R;B>0&&F<0&&(F+=360);var z=(F-B)/4;return{type:"Polygon",coordinates:[[[B,_],[B,O],[B+z,O],[B+2*z,O],[B+3*z,O],[F,O],[F,_],[F-z,_],[F-2*z,_],[F-3*z,_],[B,_]]]}}},10816:function(V,U,e){"use strict";var x=e(84888).KY,P=e(3400).counterRegex,i=e(43520),L="geo",C=P(L),c={};c[L]={valType:"subplotid",dflt:L,editType:"calc"};function y(s){for(var n=s._fullLayout,u=s.calcdata,l=n._subplots[L],f=0;f<l.length;f++){var g=l[f],h=x(u,L,g),w=n[g],d=w._subplot;d||(d=i({id:g,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[g]._subplot=d),d.plot(h,n,s._promises)}}function r(s,n,u,l){for(var f=l._subplots[L]||[],g=0;g<f.length;g++){var h=f[g],w=l[h]._subplot;!n[h]&&w&&(w.framework.remove(),w.clipDef.remove())}}function t(s){for(var n=s._fullLayout,u=n._subplots[L],l=0;l<u.length;l++){var f=n[u[l]],g=f._subplot;g.updateFx(n,f)}}V.exports={attr:L,name:L,idRoot:L,idRegex:C,attrRegex:C,attributes:c,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:y,updateFx:t,clean:r}},40384:function(V,U,e){"use strict";var x=e(22548),P=e(86968).u,i=e(98192).u,L=e(79552),C=e(67824).overrideAll,c=e(95376),y={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:x.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},r=V.exports=C({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:c(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:c(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:x.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:x.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:x.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:x.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:x.background},lonaxis:y,lataxis:y},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(V,U,e){"use strict";var x=e(3400),P=e(168),i=e(84888).op,L=e(79552),C=e(40384),c=L.axesNames;V.exports=function(t,s,n){P(t,s,n,{type:"geo",attributes:C,handleDefaults:y,fullData:n,partition:"y"})};function y(r,t,s,n){var u=i(n.fullData,"geo",n.id),l=u.map(function(ie){return ie._expandedIndex}),f=s("resolution"),g=s("scope"),h=L.scopeDefaults[g],w=s("projection.type",h.projType),d=t._isAlbersUsa=w==="albers usa";d&&(g=t.scope="usa");var o=t._isScoped=g!=="world",v=t._isSatellite=w==="satellite",A=t._isConic=w.indexOf("conic")!==-1||w==="albers",b=t._isClipped=!!L.lonaxisSpan[w];if(r.visible===!1){var M=x.extendDeep({},t._template);M.showcoastlines=!1,M.showcountries=!1,M.showframe=!1,M.showlakes=!1,M.showland=!1,M.showocean=!1,M.showrivers=!1,M.showsubunits=!1,M.lonaxis&&(M.lonaxis.showgrid=!1),M.lataxis&&(M.lataxis.showgrid=!1),t._template=M}for(var m=s("visible"),S,T=0;T<c.length;T++){var a=c[T],E=[30,10][T],p;if(o)p=h[a+"Range"];else{var k=L[a+"Span"],R=(k[w]||k["*"])/2,B=s("projection.rotation."+a.substr(0,3),h.projRotate[T]);p=[B-R,B+R]}var F=s(a+".range",p);s(a+".tick0"),s(a+".dtick",E),S=s(a+".showgrid",m?void 0:!1),S&&(s(a+".gridcolor"),s(a+".gridwidth"),s(a+".griddash")),t[a]._ax={type:"linear",_id:a.slice(0,3),_traceIndices:l,setScale:x.identity,c2l:x.identity,r2l:x.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var _=t.lonaxis.range,O=t.lataxis.range,z=_[0],N=_[1];z>0&&N<0&&(N+=360);var Y=(z+N)/2,J;if(!d){var ae=o?h.projRotate:[Y,0,0];J=s("projection.rotation.lon",ae[0]),s("projection.rotation.lat",ae[1]),s("projection.rotation.roll",ae[2]),S=s("showcoastlines",!o&&m),S&&(s("coastlinecolor"),s("coastlinewidth")),S=s("showocean",m?void 0:!1),S&&s("oceancolor")}var se,ue;if(d?(se=-96.6,ue=38.7):(se=o?Y:J,ue=(O[0]+O[1])/2),s("center.lon",se),s("center.lat",ue),v&&(s("projection.tilt"),s("projection.distance")),A){var K=h.projParallels||[0,60];s("projection.parallels",K)}s("projection.scale"),S=s("showland",m?void 0:!1),S&&s("landcolor"),S=s("showlakes",m?void 0:!1),S&&s("lakecolor"),S=s("showrivers",m?void 0:!1),S&&(s("rivercolor"),s("riverwidth")),S=s("showcountries",o&&g!=="usa"&&m),S&&(s("countrycolor"),s("countrywidth")),(g==="usa"||g==="north america"&&f===50)&&(s("showsubunits",m),s("subunitcolor"),s("subunitwidth")),o||(S=s("showframe",m),S&&(s("framecolor"),s("framewidth"))),s("bgcolor");var j=s("fitbounds");j&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):b?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(24040),L=Math.PI/180,C=180/Math.PI,c={cursor:"pointer"},y={cursor:"auto"};function r(a,E){var p=a.projection,k;return E._isScoped?k=n:E._isClipped?k=l:k=u,k(a,p)}V.exports=r;function t(a,E){return x.behavior.zoom().translate(E.translate()).scale(E.scale())}function s(a,E,p){var k=a.id,R=a.graphDiv,B=R.layout,F=B[k],_=R._fullLayout,O=_[k],z={},N={};function Y(J,ae){z[k+"."+J]=P.nestedProperty(F,J).get(),i.call("_storeDirectGUIEdit",B,_._preGUI,z);var se=P.nestedProperty(O,J);se.get()!==ae&&(se.set(ae),P.nestedProperty(F,J).set(ae),N[k+"."+J]=ae)}p(Y),Y("projection.scale",E.scale()/a.fitScale),Y("fitbounds",!1),R.emit("plotly_relayout",N)}function n(a,E){var p=t(a,E);function k(){x.select(this).style(c)}function R(){E.scale(x.event.scale).translate(x.event.translate),a.render(!0);var _=E.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.center.lon":_[0],"geo.center.lat":_[1]})}function B(_){var O=E.invert(a.midPt);_("center.lon",O[0]),_("center.lat",O[1])}function F(){x.select(this).style(y),s(a,E,B)}return p.on("zoomstart",k).on("zoom",R).on("zoomend",F),p}function u(a,E){var p=t(a,E),k=2,R,B,F,_,O,z,N,Y,J;function ae(W){return E.invert(W)}function se(W){var Q=ae(W);if(!Q)return!0;var ee=E(Q);return Math.abs(ee[0]-W[0])>k||Math.abs(ee[1]-W[1])>k}function ue(){x.select(this).style(c),R=x.mouse(this),B=E.rotate(),F=E.translate(),_=B,O=ae(R)}function K(){if(z=x.mouse(this),se(R)){p.scale(E.scale()),p.translate(E.translate());return}E.scale(x.event.scale),E.translate([F[0],x.event.translate[1]]),O?ae(z)&&(Y=ae(z),N=[_[0]+(Y[0]-O[0]),B[1],B[2]],E.rotate(N),_=N):(R=z,O=ae(R)),J=!0,a.render(!0);var W=E.rotate(),Q=E.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.center.lon":Q[0],"geo.center.lat":Q[1],"geo.projection.rotation.lon":-W[0]})}function j(){x.select(this).style(y),J&&s(a,E,ie)}function ie(W){var Q=E.rotate(),ee=E.invert(a.midPt);W("projection.rotation.lon",-Q[0]),W("center.lon",ee[0]),W("center.lat",ee[1])}return p.on("zoomstart",ue).on("zoom",K).on("zoomend",j),p}function l(a,E){var p={r:E.rotate(),k:E.scale()},k=t(a,E),R=T(k,"zoomstart","zoom","zoomend"),B=0,F=k.on,_;k.on("zoomstart",function(){x.select(this).style(c);var J=x.mouse(this),ae=E.rotate(),se=ae,ue=E.translate(),K=g(ae);_=f(E,J),F.call(k,"zoom",function(){var j=x.mouse(this);if(E.scale(p.k=x.event.scale),!_)J=j,_=f(E,J);else if(f(E,j)){E.rotate(ae).translate(ue);var ie=f(E,j),W=w(_,ie),Q=b(h(K,W)),ee=p.r=d(Q,_,se);(!isFinite(ee[0])||!isFinite(ee[1])||!isFinite(ee[2]))&&(ee=se),E.rotate(ee),se=ee}z(R.of(this,arguments))}),O(R.of(this,arguments))}).on("zoomend",function(){x.select(this).style(y),F.call(k,"zoom",null),N(R.of(this,arguments)),s(a,E,Y)}).on("zoom.redraw",function(){a.render(!0);var J=E.rotate();a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.projection.rotation.lon":-J[0],"geo.projection.rotation.lat":-J[1]})});function O(J){B++||J({type:"zoomstart"})}function z(J){J({type:"zoom"})}function N(J){--B||J({type:"zoomend"})}function Y(J){var ae=E.rotate();J("projection.rotation.lon",-ae[0]),J("projection.rotation.lat",-ae[1])}return x.rebind(k,R,"on")}function f(a,E){var p=a.invert(E);return p&&isFinite(p[0])&&isFinite(p[1])&&M(p)}function g(a){var E=.5*a[0]*L,p=.5*a[1]*L,k=.5*a[2]*L,R=Math.sin(E),B=Math.cos(E),F=Math.sin(p),_=Math.cos(p),O=Math.sin(k),z=Math.cos(k);return[B*_*z+R*F*O,R*_*z-B*F*O,B*F*z+R*_*O,B*_*O-R*F*z]}function h(a,E){var p=a[0],k=a[1],R=a[2],B=a[3],F=E[0],_=E[1],O=E[2],z=E[3];return[p*F-k*_-R*O-B*z,p*_+k*F+R*z-B*O,p*O-k*z+R*F+B*_,p*z+k*O-R*_+B*F]}function w(a,E){if(!(!a||!E)){var p=S(a,E),k=Math.sqrt(m(p,p)),R=.5*Math.acos(Math.max(-1,Math.min(1,m(a,E)))),B=Math.sin(R)/k;return k&&[Math.cos(R),p[2]*B,-p[1]*B,p[0]*B]}}function d(a,E,p){var k=A(E,2,a[0]);k=A(k,1,a[1]),k=A(k,0,a[2]-p[2]);var R=E[0],B=E[1],F=E[2],_=k[0],O=k[1],z=k[2],N=Math.atan2(B,R)*C,Y=Math.sqrt(R*R+B*B),J,ae;Math.abs(O)>Y?(ae=(O>0?90:-90)-N,J=0):(ae=Math.asin(O/Y)*C-N,J=Math.sqrt(Y*Y-O*O));var se=180-ae-2*N,ue=(Math.atan2(z,_)-Math.atan2(F,J))*C,K=(Math.atan2(z,_)-Math.atan2(F,-J))*C,j=o(p[0],p[1],ae,ue),ie=o(p[0],p[1],se,K);return j<=ie?[ae,ue,p[2]]:[se,K,p[2]]}function o(a,E,p,k){var R=v(p-a),B=v(k-E);return Math.sqrt(R*R+B*B)}function v(a){return(a%360+540)%360-180}function A(a,E,p){var k=p*L,R=a.slice(),B=E===0?1:0,F=E===2?1:2,_=Math.cos(k),O=Math.sin(k);return R[B]=a[B]*_-a[F]*O,R[F]=a[F]*_+a[B]*O,R}function b(a){return[Math.atan2(2*(a[0]*a[1]+a[2]*a[3]),1-2*(a[1]*a[1]+a[2]*a[2]))*C,Math.asin(Math.max(-1,Math.min(1,2*(a[0]*a[2]-a[3]*a[1]))))*C,Math.atan2(2*(a[0]*a[3]+a[1]*a[2]),1-2*(a[2]*a[2]+a[3]*a[3]))*C]}function M(a){var E=a[0]*L,p=a[1]*L,k=Math.cos(p);return[k*Math.cos(E),k*Math.sin(E),Math.sin(p)]}function m(a,E){for(var p=0,k=0,R=a.length;k<R;++k)p+=a[k]*E[k];return p}function S(a,E){return[a[1]*E[2]-a[2]*E[1],a[2]*E[0]-a[0]*E[2],a[0]*E[1]-a[1]*E[0]]}function T(a){for(var E=0,p=arguments.length,k=[];++E<p;)k.push(arguments[E]);var R=x.dispatch.apply(null,k);return R.of=function(B,F){return function(_){var O;try{O=_.sourceEvent=x.event,_.target=a,x.event=_,R[_.type].apply(B,F)}finally{x.event=O}}},R}},84888:function(V,U,e){"use strict";var x=e(24040),P=e(33816).SUBPLOT_PATTERN;U.KY=function(i,L,C){var c=x.subplotsRegistry[L];if(!c)return[];for(var y=c.attr,r=[],t=0;t<i.length;t++){var s=i[t],n=s[0].trace;n[y]===C&&r.push(s)}return r},U._M=function(i,L,C){var c=[],y=[],r;if(typeof L=="string"?r=x.getModule(L).plot:typeof L=="function"?r=L:r=L.plot,!r)return[c,i];for(var t=C,s=0;s<i.length;s++){var n=i[s],u=n[0].trace,l=u.zorder!==void 0;u.visible!==!0||u._length===0||(u._module&&u._module.plot===r&&(!l||u.zorder===t)?c.push(n):y.push(n))}return[c,y]},U.op=function(L,C,c){if(!x.subplotsRegistry[C])return[];var y=x.subplotsRegistry[C].attr,r=[],t,s,n;if(C==="gl2d"){var u=c.match(P);s="x"+u[1],n="y"+u[2]}for(var l=0;l<L.length;l++)t=L[l],C==="gl2d"&&x.traceIs(t,"gl2d")?t[y[0]]===s&&t[y[1]]===n&&r.push(t):t[y]===c&&r.push(t);return r}},2428:function(V,U,e){"use strict";var x=e(62644),P=e(97264),i=e(29128),L=e(33816),C=e(89184);V.exports=y;function c(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function y(r){var t=r.mouseContainer,s=r.glplot,n=new c(t,s);function u(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function l(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,w=r.yaxis._id,d=0;d<g.length;d++)if(g[d][h]!==-1){if(g[d][w]!==-1)return!0;break}return!1}n.mouseListener=x(t,f),t.addEventListener("touchstart",function(g){var h=i(g.changedTouches[0],t);f(0,h[0],h[1]),f(1,h[0],h[1]),g.preventDefault()},C?{passive:!1}:!1),t.addEventListener("touchmove",function(g){g.preventDefault();var h=i(g.changedTouches[0],t);f(1,h[0],h[1]),g.preventDefault()},C?{passive:!1}:!1),t.addEventListener("touchend",function(g){f(0,n.lastPos[0],n.lastPos[1]),g.preventDefault()},C?{passive:!1}:!1);function f(g,h,w){var d=r.calcDataBox(),o=s.viewBox,v=n.lastPos[0],A=n.lastPos[1],b=L.MINDRAG*s.pixelRatio,M=L.MINZOOM*s.pixelRatio,m,S;h*=s.pixelRatio,w*=s.pixelRatio,w=o[3]-o[1]-w;function T(B,F,_){var O=Math.min(F,_),z=Math.max(F,_);O!==z?(d[B]=O,d[B+2]=z,n.dataBox=d,r.setRanges(d)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(g){var a=h/(o[2]-o[0])*(d[2]-d[0])+d[0],E=w/(o[3]-o[1])*(d[3]-d[1])+d[1];n.boxInited||(n.boxStart[0]=a,n.boxStart[1]=E,n.dragStart[0]=h,n.dragStart[1]=w),n.boxEnd[0]=a,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var p=Math.abs(n.dragStart[0]-h)<M,k=Math.abs(n.dragStart[1]-w)<M;if(l()&&!(p&&k)){m=n.boxEnd[0]-n.boxStart[0],S=n.boxEnd[1]-n.boxStart[1];var R=(d[3]-d[1])/(d[2]-d[0]);Math.abs(m*R)>Math.abs(S)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*R*(S>=0?1:-1),n.boxEnd[1]<d[1]?(n.boxEnd[1]=d[1],n.boxEnd[0]=n.boxStart[0]+(d[1]-n.boxStart[1])/Math.abs(R)):n.boxEnd[1]>d[3]&&(n.boxEnd[1]=d[3],n.boxEnd[0]=n.boxStart[0]+(d[3]-n.boxStart[1])/Math.abs(R))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(S)/R*(m>=0?1:-1),n.boxEnd[0]<d[0]?(n.boxEnd[0]=d[0],n.boxEnd[1]=n.boxStart[1]+(d[0]-n.boxStart[0])*Math.abs(R)):n.boxEnd[0]>d[2]&&(n.boxEnd[0]=d[2],n.boxEnd[1]=n.boxStart[1]+(d[2]-n.boxStart[0])*Math.abs(R)))}else p&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],S=n.boxStart[1]!==n.boxEnd[1],m||S?(m&&(T(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),S&&(T(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,g?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=w),Math.abs(n.dragStart[0]-h)<b&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-w)<b&&(w=n.dragStart[1]),m=(v-h)*(d[2]-d[0])/(s.viewBox[2]-s.viewBox[0]),S=(A-w)*(d[3]-d[1])/(s.viewBox[3]-s.viewBox[1]),d[0]+=m,d[2]+=m,d[1]+=S,d[3]+=S,r.setRanges(d),n.panning=!0,n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=w}return n.wheelListener=P(t,function(g,h){if(!r.scrollZoom)return!1;var w=r.calcDataBox(),d=s.viewBox,o=n.lastPos[0],v=n.lastPos[1],A=Math.exp(5*h/(d[3]-d[1])),b=o/(d[2]-d[0])*(w[2]-w[0])+w[0],M=v/(d[3]-d[1])*(w[3]-w[1])+w[1];return w[0]=(w[0]-b)*A+b,w[2]=(w[2]-b)*A+b,w[1]=(w[1]-M)*A+M,w[3]=(w[3]-M)*A+M,r.setRanges(w),n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(V,U,e){"use strict";var x=e(54460),P=e(43080);function i(y){this.scene=y,this.gl=y.gl,this.pixelRatio=y.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=i.prototype,C=["xaxis","yaxis"];L.merge=function(y){this.titleEnable=!1,this.backgroundColor=P(y.plot_bgcolor);var r,t,s,n,u,l,f,g,h,w,d;for(w=0;w<2;++w){r=C[w];var o=r.charAt(0);for(t=y[this.scene[r]._name],s=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,d=0;d<=2;d+=2)this.labelEnable[w+d]=!1,this.labels[w+d]=s,this.labelColor[w+d]=P(t.title.font.color),this.labelFont[w+d]=t.title.font.family,this.labelSize[w+d]=t.title.font.size,this.labelPad[w+d]=this.getLabelPad(r,t),this.tickEnable[w+d]=!1,this.tickColor[w+d]=P((t.tickfont||{}).color),this.tickAngle[w+d]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[w+d]=this.getTickPad(t),this.tickMarkLength[w+d]=0,this.tickMarkWidth[w+d]=t.tickwidth||0,this.tickMarkColor[w+d]=P(t.tickcolor),this.borderLineEnable[w+d]=!1,this.borderLineColor[w+d]=P(t.linecolor),this.borderLineWidth[w+d]=t.linewidth||0;f=this.hasSharedAxis(t),u=this.hasAxisInDfltPos(r,t)&&!f,l=this.hasAxisInAltrPos(r,t)&&!f,n=t.mirror||!1,g=f?String(n).indexOf("all")!==-1:!!n,h=f?n==="allticks":String(n).indexOf("ticks")!==-1,u?this.labelEnable[w]=!0:l&&(this.labelEnable[w+2]=!0),u?this.tickEnable[w]=t.showticklabels:l&&(this.tickEnable[w+2]=t.showticklabels),(u||g)&&(this.borderLineEnable[w]=t.showline),(l||g)&&(this.borderLineEnable[w+2]=t.showline),(u||h)&&(this.tickMarkLength[w]=this.getTickMarkLength(t)),(l||h)&&(this.tickMarkLength[w+2]=this.getTickMarkLength(t)),this.gridLineEnable[w]=t.showgrid,this.gridLineColor[w]=P(t.gridcolor),this.gridLineWidth[w]=t.gridwidth,this.zeroLineEnable[w]=t.zeroline,this.zeroLineColor[w]=P(t.zerolinecolor),this.zeroLineWidth[w]=t.zerolinewidth}},L.hasSharedAxis=function(y){var r=this.scene,t=r.fullLayout._subplots.gl2d,s=x.findSubplotsWithAxis(t,y);return s.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(y,r){var t=r.side;if(y==="xaxis")return t==="bottom";if(y==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(y,r){var t=r.side;if(y==="xaxis")return t==="top";if(y==="yaxis")return t==="right"},L.getLabelPad=function(y,r){var t=1.5,s=r.title.font.size,n=r.showticklabels;if(y==="xaxis")return r.side==="top"?-10+s*(t+(n?1:0)):-10+s*(t+(n?.5:0));if(y==="yaxis")return r.side==="right"?10+s*(t+(n?1:.5)):10+s*(t+(n?.5:0))},L.getTickPad=function(y){return y.ticks==="outside"?10+y.ticklen:15},L.getTickMarkLength=function(y){if(!y.ticks)return 0;var r=y.ticklen;return y.ticks==="inside"?-r:r};function c(y){return new i(y)}V.exports=c},39952:function(V,U,e){"use strict";var x=e(67824).overrideAll,P=e(17188),i=e(64859),L=e(9616),C=e(33816),c=e(57952),y=e(65460),r=e(84888).op;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=C.idRegex,U.attrRegex=C.attrRegex,U.attributes=e(26720),U.supplyLayoutDefaults=function(t,s,n){s._has("cartesian")||c.supplyLayoutDefaults(t,s,n)},U.layoutAttrOverrides=x(c.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=x({plot_bgcolor:i.plot_bgcolor,hoverlabel:y.hoverlabel},"plot","nested"),U.plot=function(s){for(var n=s._fullLayout,u=s._fullData,l=n._subplots.gl2d,f=0;f<l.length;f++){var g=l[f],h=n._plots[g],w=r(u,"gl2d",g),d=h._scene2d;d===void 0&&(d=new P({id:g,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},n),h._scene2d=d),d.plot(w,s.calcdata,n,s.layout)}},U.clean=function(t,s,n,u){for(var l=u._subplots.gl2d||[],f=0;f<l.length;f++){var g=l[f],h=u._plots[g];if(h._scene2d){var w=r(t,"gl2d",g);w.length===0&&(h._scene2d.destroy(),delete u._plots[g])}}c.clean.apply(this,arguments)},U.drawFramework=function(t){t._context.staticPlot||c.drawFramework(t)},U.toSVG=function(t){for(var s=t._fullLayout,n=s._subplots.gl2d,u=0;u<n.length;u++){var l=s._plots[n[u]],f=l._scene2d,g=f.toImage("png"),h=s._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),f.destroy()}},U.updateFx=function(t){for(var s=t._fullLayout,n=s._subplots.gl2d,u=0;u<n.length;u++){var l=s._plots[n[u]]._scene2d;l.updateFx(s.dragmode)}}},17188:function(V,U,e){"use strict";var x=e(24040),P=e(54460),i=e(93024),L=e(67792).gl_plot2d,C=e(67792).gl_spikes2d,c=e(67792).gl_select_box,y=e(5408),r=e(92568),t=e(2428),s=e(16576),n=e(71888),u=n.enforce,l=n.clean,f=e(19280).doAutoRange,g=e(72760),h=g.drawMode,w=g.selectMode,d=["xaxis","yaxis"],o,v,A=e(33816).SUBPLOT_PATTERN;function b(S,T){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(T),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(T),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=C(this.glplot),this.selectBox=c(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}V.exports=b;var M=b.prototype;M.makeFramework=function(){if(this.staticPlot){if(!v&&(o=document.createElement("canvas"),v=y({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!v))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=v}else{var S=this.container.querySelector(".gl-canvas-focus"),T=y({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!T){s(this),this.stopped=!0;return}this.canvas=S,this.gl=T}var a=this.canvas;a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style["pointer-events"]="none",this.updateSize(a);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var p=this.mouseContainer=document.createElement("div");p.style.position="absolute",p.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(E),k.appendChild(p);var R=this;p.addEventListener("mouseout",function(){R.isMouseOver=!1,R.unhover()}),p.addEventListener("mouseover",function(){R.isMouseOver=!0})},M.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var T=this.glplot.gl,a=T.drawingBufferWidth,E=T.drawingBufferHeight;T.clearColor(1,1,1,0),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),T.bindFramebuffer(T.FRAMEBUFFER,null);var p=new Uint8Array(a*E*4);T.readPixels(0,0,a,E,T.RGBA,T.UNSIGNED_BYTE,p);for(var k=0,R=E-1;k<R;++k,--R)for(var B=0;B<a;++B)for(var F=0;F<4;++F){var _=p[4*(a*k+B)+F];p[4*(a*k+B)+F]=p[4*(a*R+B)+F],p[4*(a*R+B)+F]=_}var O=document.createElement("canvas");O.width=a,O.height=E;var z=O.getContext("2d",{willReadFrequently:!0}),N=z.createImageData(a,E);N.data.set(p),z.putImageData(N,0,0);var Y;switch(S){case"jpeg":Y=O.toDataURL("image/jpeg");break;case"webp":Y=O.toDataURL("image/webp");break;default:Y=O.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),Y},M.updateSize=function(S){S||(S=this.canvas);var T=this.pixelRatio,a=this.fullLayout,E=a.width,p=a.height,k=Math.ceil(T*E)|0,R=Math.ceil(T*p)|0;return(S.width!==k||S.height!==R)&&(S.width=k,S.height=R),S},M.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],T=0;T<2;++T)for(var a=0;a<S[T].length;++a)S[T][a].text=S[T][a].text+"";return S};function m(S,T){for(var a=0;a<2;++a){var E=S[a],p=T[a];if(E.length!==p.length)return!0;for(var k=0;k<E.length;++k)if(E[k].x!==p[k].x)return!0}return!1}M.updateRefs=function(S){this.fullLayout=S;var T=this.id.match(A),a="xaxis"+T[1],E="yaxis"+T[2];this.xaxis=this.fullLayout[a],this.yaxis=this.fullLayout[E]},M.relayoutCallback=function(){var S=this.graphDiv,T=this.xaxis,a=this.yaxis,E=S.layout,p={},k=p[T._name+".range"]=T.range.slice(),R=p[a._name+".range"]=a.range.slice();p[T._name+".autorange"]=T.autorange,p[a._name+".autorange"]=a.autorange,x.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,p);var B=E[T._name];B.range=k,B.autorange=T.autorange;var F=E[a._name];F.range=R,F.autorange=a.autorange,p.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",p)},M.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var T=this.computeTickMarks(),a=this.glplotOptions.ticks;m(T,a)&&(this.glplotOptions.ticks=T,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},M.handleAnnotations=function(){for(var S=this.graphDiv,T=this.fullLayout.annotations,a=0;a<T.length;a++){var E=T[a];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&x.getComponentMethod("annotations","drawOne")(S,a)}},M.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(T){S[T].dispose(),delete S[T]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},M.plot=function(S,T,a){var E=this.glplot;this.updateRefs(a),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,T),this.updateFx(a.dragmode);var p=a.width,k=a.height;this.updateSize(this.canvas);var R=this.glplotOptions;R.merge(a),R.screenBox=[0,0,p,k];var B={_fullLayout:{_axisConstraintGroups:a._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:a._size}};l(B,this.xaxis),l(B,this.yaxis);var F=a._size,_=this.xaxis.domain,O=this.yaxis.domain;R.viewBox=[F.l+_[0]*F.w,F.b+O[0]*F.h,p-F.r-(1-_[1])*F.w,k-F.t-(1-O[1])*F.h],this.mouseContainer.style.width=F.w*(_[1]-_[0])+"px",this.mouseContainer.style.height=F.h*(O[1]-O[0])+"px",this.mouseContainer.height=F.h*(O[1]-O[0]),this.mouseContainer.style.left=F.l+_[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-O[1])*F.h+"px";var z,N;for(N=0;N<2;++N)z=this[d[N]],z._length=R.viewBox[N+2]-R.viewBox[N],f(this.graphDiv,z),z.setScale();u(B),R.ticks=this.computeTickMarks(),R.dataBox=this.calcDataBox(),R.merge(a),E.update(R),this.glplot.draw()},M.calcDataBox=function(){var S=this.xaxis,T=this.yaxis,a=S.range,E=T.range,p=S.r2l,k=T.r2l;return[p(a[0]),k(E[0]),p(a[1]),k(E[1])]},M.setRanges=function(S){var T=this.xaxis,a=this.yaxis,E=T.l2r,p=a.l2r;T.range=[E(S[0]),E(S[2])],a.range=[p(S[1]),p(S[3])]},M.updateTraces=function(S,T){var a=Object.keys(this.traces),E,p,k;this.fullData=S;e:for(E=0;E<a.length;E++){var R=a[E],B=this.traces[R];for(p=0;p<S.length;p++)if(k=S[p],k.uid===R&&k.type===B.type)continue e;B.dispose(),delete this.traces[R]}for(E=0;E<S.length;E++){k=S[E];var F=T[E],_=this.traces[k.uid];_?_.update(k,F):(_=k._module.plot(this,k,F),this.traces[k.uid]=_)}this.glplot.objects.sort(function(O,z){return O._trace.index-z._trace.index})},M.updateFx=function(S){w(S)||h(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},M.emitPointAction=function(S,T){for(var a=S.trace.uid,E=S.pointIndex,p,k=0;k<this.fullData.length;k++)this.fullData[k].uid===a&&(p=this.fullData[k]);var R={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:p.index,pointNumber:E,data:p._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(R,p,E),this.graphDiv.emit(T,{points:[R]})},M.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,T=this.camera,a=T.mouseListener,E=this.lastButtonState===1&&a.buttons===0,p=this.fullLayout;this.lastButtonState=a.buttons,this.cameraChanged();var k=a.x*S.pixelRatio,R=this.canvas.height-S.pixelRatio*a.y,B;if(T.boxEnabled&&p.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(T.boxStart[0],T.boxEnd[0]),Math.min(T.boxStart[1],T.boxEnd[1]),Math.max(T.boxStart[0],T.boxEnd[0]),Math.max(T.boxStart[1],T.boxEnd[1])],_=0;_<2;_++)T.boxStart[_]===T.boxEnd[_]&&(F[_]=S.dataBox[_],F[_+2]=S.dataBox[_+2]);S.setDirty()}else if(!T.panning&&this.isMouseOver){this.selectBox.enabled=!1;var O=p._size,z=this.xaxis.domain,N=this.yaxis.domain;B=S.pick(k/S.pixelRatio+O.l+z[0]*O.w,R/S.pixelRatio-(O.t+(1-N[1])*O.h));var Y=B&&B.object._trace.handlePick(B);if(Y&&E&&this.emitPointAction(Y,"plotly_click"),B&&B.object._trace.hoverinfo!=="skip"&&p.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var J=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:B.dataCoord}),J.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(B.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(B.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(Y,"plotly_hover");var ae=this.fullData[J.trace.index]||{},se=J.pointIndex,ue=i.castHoverinfo(ae,p,se);if(ue&&ue!=="all"){var K=ue.split("+");K.indexOf("x")===-1&&(J.traceCoord[0]=void 0),K.indexOf("y")===-1&&(J.traceCoord[1]=void 0),K.indexOf("z")===-1&&(J.traceCoord[2]=void 0),K.indexOf("text")===-1&&(J.textLabel=void 0),K.indexOf("name")===-1&&(J.name=void 0)}i.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:i.castHoverOption(ae,se,"bgcolor")||J.color,borderColor:i.castHoverOption(ae,se,"bordercolor"),fontFamily:i.castHoverOption(ae,se,"font.family"),fontSize:i.castHoverOption(ae,se,"font.size"),fontColor:i.castHoverOption(ae,se,"font.color"),nameLength:i.castHoverOption(ae,se,"namelength"),textAlign:i.castHoverOption(ae,se,"align")},{container:this.svgContainer,gd:this.graphDiv})}}B||this.unhover(),S.draw()}},M.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},M.hoverFormatter=function(S,T){if(T!==void 0){var a=this[S];return P.tickText(a,a.c2l(T),"hover").text}}},12536:function(V,U,e){"use strict";var x=e(67824).overrideAll,P=e(65460),i=e(98432),L=e(84888).op,C=e(3400),c=e(9616),y="gl3d",r="scene";U.name=y,U.attr=r,U.idRoot=r,U.idRegex=U.attrRegex=C.counterRegex("scene"),U.attributes=e(6636),U.layoutAttributes=e(346),U.baseLayoutAttrOverrides=x({hoverlabel:P.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=e(5208),U.plot=function(s){for(var n=s._fullLayout,u=s._fullData,l=n._subplots[y],f=0;f<l.length;f++){var g=l[f],h=L(u,y,g),w=n[g],d=w.camera,o=w._scene;o||(o=new i({id:g,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:d},n),w._scene=o),o.viewInitial||(o.viewInitial={up:{x:d.up.x,y:d.up.y,z:d.up.z},eye:{x:d.eye.x,y:d.eye.y,z:d.eye.z},center:{x:d.center.x,y:d.center.y,z:d.center.z}}),o.plot(h,n,s.layout)}},U.clean=function(t,s,n,u){for(var l=u._subplots[y]||[],f=0;f<l.length;f++){var g=l[f];!s[g]&&u[g]._scene&&(u[g]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+g).remove())}},U.toSVG=function(t){for(var s=t._fullLayout,n=s._subplots[y],u=s._size,l=0;l<n.length;l++){var f=s[n[l]],g=f.domain,h=f._scene,w=h.toImage("png"),d=s._glimages.append("svg:image");d.attr({xmlns:c.svg,"xlink:href":w,x:u.l+u.w*g.x[0],y:u.t+u.h*(1-g.y[1]),width:u.w*(g.x[1]-g.x[0]),height:u.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),h.destroy()}},U.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var n=s.substr(5);return n==="1"&&(n=""),r+n}},U.updateFx=function(t){for(var s=t._fullLayout,n=s._subplots[y],u=0;u<n.length;u++){var l=s[n[u]]._scene;l.updateFx(s.dragmode,s.hovermode)}}},6636:function(V){"use strict";V.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(V,U,e){"use strict";var x=e(76308),P=e(94724),i=e(92880).extendFlat,L=e(67824).overrideAll;V.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:x.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:i({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:i({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:i({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},64380:function(V,U,e){"use strict";var x=e(49760).mix,P=e(3400),i=e(31780),L=e(86140),C=e(14944),c=e(28336),y=["xaxis","yaxis","zaxis"],r=100*136/187;V.exports=function(s,n,u){var l,f;function g(d,o){return P.coerce(l,f,L,d,o)}for(var h=0;h<y.length;h++){var w=y[h];l=s[w]||{},f=i.newContainer(n,w),f._id=w[0]+u.scene,f._name=w,C(l,f,g,u),c(l,f,g,{font:u.font,letter:w[0],data:u.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),g("gridcolor",x(f.color,u.bgColor,r).toRgbString()),g("title.text",w[0]),f.setScale=P.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",f.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},44728:function(V,U,e){"use strict";var x=e(43080),P=e(3400),i=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var C=L.prototype;C.merge=function(y,r){for(var t=this,s=0;s<3;++s){var n=r[i[s]];if(!n.visible){t.tickEnable[s]=!1,t.labelEnable[s]=!1,t.lineEnable[s]=!1,t.lineTickEnable[s]=!1,t.gridEnable[s]=!1,t.zeroEnable[s]=!1,t.backgroundEnable[s]=!1;continue}t.labels[s]=y._meta?P.templateString(n.title.text,y._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[s]=x(n.title.font.color)),n.title.font.family&&(t.labelFont[s]=n.title.font.family),n.title.font.size&&(t.labelSize[s]=n.title.font.size)),"showline"in n&&(t.lineEnable[s]=n.showline),"linecolor"in n&&(t.lineColor[s]=x(n.linecolor)),"linewidth"in n&&(t.lineWidth[s]=n.linewidth),"showgrid"in n&&(t.gridEnable[s]=n.showgrid),"gridcolor"in n&&(t.gridColor[s]=x(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[s]=n.gridwidth),n.type==="log"?t.zeroEnable[s]=!1:"zeroline"in n&&(t.zeroEnable[s]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[s]=x(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[s]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[s]=!0:t.lineTickEnable[s]=!1,"ticklen"in n&&(t.lineTickLength[s]=t._defaultLineTickLength[s]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[s]=x(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[s]=n.tickwidth),"tickangle"in n&&(t.tickAngle[s]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[s]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[s]=x(n.tickfont.color)),n.tickfont.family&&(t.tickFont[s]=n.tickfont.family),n.tickfont.size&&(t.tickSize[s]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[s]=!0,t.lineMirror[s]=!0):n.mirror===!0?(t.lineTickMirror[s]=!1,t.lineMirror[s]=!0):(t.lineTickMirror[s]=!1,t.lineMirror[s]=!1):t.lineMirror[s]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[s]=!0,t.backgroundColor[s]=x(n.backgroundcolor)):t.backgroundEnable[s]=!1}};function c(y,r){var t=new L;return t.merge(y,r),t}V.exports=c},5208:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(24040),L=e(168),C=e(64380),c=e(346),y=e(84888).op,r="gl3d";V.exports=function(n,u,l){var f=u._basePlotModules.length>1;function g(h){if(!f){var w=x.validate(n[h],c[h]);if(w)return n[h]}}L(n,u,l,{type:r,attributes:c,handleDefaults:t,fullLayout:u,font:u.font,fullData:l,getDfltFromLayout:g,autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})};function t(s,n,u,l){for(var f=u("bgcolor"),g=P.combine(f,l.paper_bgcolor),h=["up","center","eye"],w=0;w<h.length;w++)u("camera."+h[w]+".x"),u("camera."+h[w]+".y"),u("camera."+h[w]+".z");u("camera.projection.type");var d=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),o=d?"manual":"auto",v=u("aspectmode",o);d||(s.aspectratio=n.aspectratio={x:1,y:1,z:1},v==="manual"&&(n.aspectmode="auto"),s.aspectmode=n.aspectmode);var A=y(l.fullData,r,l.id);C(s,n,{font:l.font,scene:l.id,data:A,bgColor:g,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(s,n,l);var b=l.getDfltFromLayout("dragmode");if(b!==!1&&!b)if(b="orbit",s.camera&&s.camera.up){var M=s.camera.up.x,m=s.camera.up.y,S=s.camera.up.z;S!==0&&(!M||!m||!S||S/Math.sqrt(M*M+m*m+S*S)>.999)&&(b="turntable")}else b="turntable";u("dragmode",b),u("hovermode",l.getDfltFromLayout("hovermode"))}},346:function(V,U,e){"use strict";var x=e(86140),P=e(86968).u,i=e(92880).extendFlat,L=e(3400).counterRegex;function C(c,y,r){return{x:{valType:"number",dflt:c,editType:"camera"},y:{valType:"number",dflt:y,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}V.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(C(0,0,1),{}),center:i(C(0,0,0),{}),eye:i(C(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:x,yaxis:x,zaxis:x,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(V,U,e){"use strict";var x=e(43080),P=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=i.prototype;L.merge=function(c){for(var y=0;y<3;++y){var r=c[P[y]];if(!r.visible){this.enabled[y]=!1,this.drawSides[y]=!1;continue}this.enabled[y]=r.showspikes,this.colors[y]=x(r.spikecolor),this.drawSides[y]=r.spikesides,this.lineWidth[y]=r.spikethickness}};function C(c){var y=new i;return y.merge(c),y}V.exports=C},87152:function(V,U,e){"use strict";V.exports=c;var x=e(54460),P=e(3400),i=["xaxis","yaxis","zaxis"],L=[0,0,0];function C(y){for(var r=new Array(3),t=0;t<3;++t){for(var s=y[t],n=new Array(s.length),u=0;u<s.length;++u)n[u]=s[u].x;r[t]=n}return r}function c(y){for(var r=y.axesOptions,t=y.glplot.axesPixels,s=y.fullSceneLayout,n=[[],[],[]],u=0;u<3;++u){var l=s[i[u]];if(l._length=(t[u].hi-t[u].lo)*t[u].pixelsPerDataUnit/y.dataScale[u],Math.abs(l._length)===1/0||isNaN(l._length))n[u]=[];else{l._input_range=l.range.slice(),l.range[0]=t[u].lo/y.dataScale[u],l.range[1]=t[u].hi/y.dataScale[u],l._m=1/(y.dataScale[u]*t[u].pixelsPerDataUnit),l.range[0]===l.range[1]&&(l.range[0]-=1,l.range[1]+=1);var f=l.tickmode;if(l.tickmode==="auto"){l.tickmode="linear";var g=l.nticks||P.constrain(l._length/40,4,9);x.autoTicks(l,Math.abs(l.range[1]-l.range[0])/g)}for(var h=x.calcTicks(l,{msUTC:!0}),w=0;w<h.length;++w)h[w].x=h[w].x*y.dataScale[u],l.type==="date"&&(h[w].text=h[w].text.replace(/\<br\>/g," "));n[u]=h,l.tickmode=f}}r.ticks=n;for(var u=0;u<3;++u){L[u]=.5*(y.glplot.bounds[0][u]+y.glplot.bounds[1][u]);for(var w=0;w<2;++w)r.bounds[w][u]=y.glplot.bounds[w][u]}y.contourLevels=C(n)}},94424:function(V){"use strict";function U(x,P){var i=[0,0,0,0],L,C;for(L=0;L<4;++L)for(C=0;C<4;++C)i[C]+=x[4*L+C]*P[L];return i}function e(x,P){var i=U(x.projection,U(x.view,U(x.model,[P[0],P[1],P[2],1])));return i}V.exports=e},98432:function(V,U,e){"use strict";var x=e(67792).gl_plot3d,P=x.createCamera,i=x.createScene,L=e(5408),C=e(89184),c=e(24040),y=e(3400),r=y.preserveDrawingBuffer(),t=e(54460),s=e(93024),n=e(43080),u=e(16576),l=e(94424),f=e(44728),g=e(9020),h=e(87152),w=e(19280).applyAutorangeOptions,d,o,v=!1;function A(R,B){var F=document.createElement("div"),_=R.container;this.graphDiv=R.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",F.appendChild(O),this.svgContainer=O,F.id=R.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",_.appendChild(F),this.fullLayout=B,this.id=R.id||"scene",this.fullSceneLayout=B[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(B,B[this.id]),this.spikeOptions=g(B[this.id]),this.container=F,this.staticMode=!!R.staticPlot,this.pixelRatio=this.pixelRatio||R.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=c.getComponentMethod("annotations3d","convert"),this.drawAnnotations=c.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var b=A.prototype;b.prepareOptions=function(){var R=this,B={canvas:R.canvas,gl:R.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:R.container,axes:R.axesOptions,spikes:R.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:R.camera,pixelRatio:R.pixelRatio};if(R.staticMode){if(!o&&(d=document.createElement("canvas"),o=L({canvas:d,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");B.gl=o,B.canvas=d}return B};var M=!0;b.tryCreatePlot=function(){var R=this,B=R.prepareOptions(),F=!0;try{R.glplot=i(B)}catch(_){if(R.staticMode||!M||r)F=!1;else{y.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=B.glOptions.preserveDrawingBuffer=!0,R.glplot=i(B)}catch(O){r=B.glOptions.preserveDrawingBuffer=!1,F=!1}}}return M=!1,F},b.initializeGLCamera=function(){var R=this,B=R.fullSceneLayout.camera,F=B.projection.type==="orthographic";R.camera=P(R.container,{center:[B.center.x,B.center.y,B.center.z],eye:[B.eye.x,B.eye.y,B.eye.z],up:[B.up.x,B.up.y,B.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},b.initializeGLPlot=function(){var R=this;R.initializeGLCamera();var B=R.tryCreatePlot();if(!B)return u(R);R.traces={},R.make4thDimension();var F=R.graphDiv,_=F.layout,O=function(){var N={};return R.isCameraChanged(_)&&(N[R.id+".camera"]=R.getCamera()),R.isAspectChanged(_)&&(N[R.id+".aspectratio"]=R.glplot.getAspectratio(),_[R.id].aspectmode!=="manual"&&(R.fullSceneLayout.aspectmode=_[R.id].aspectmode=N[R.id+".aspectmode"]="manual")),N},z=function(N){if(N.fullSceneLayout.dragmode!==!1){var Y=O();N.saveLayout(_),N.graphDiv.emit("plotly_relayout",Y)}};return R.glplot.canvas&&(R.glplot.canvas.addEventListener("mouseup",function(){z(R)}),R.glplot.canvas.addEventListener("touchstart",function(){v=!0}),R.glplot.canvas.addEventListener("wheel",function(N){if(F._context._scrollZoom.gl3d){if(R.camera._ortho){var Y=N.deltaX>N.deltaY?1.1:.9090909090909091,J=R.glplot.getAspectratio();R.glplot.setAspectratio({x:Y*J.x,y:Y*J.y,z:Y*J.z})}z(R)}},C?{passive:!1}:!1),R.glplot.canvas.addEventListener("mousemove",function(){if(R.fullSceneLayout.dragmode!==!1&&R.camera.mouseListener.buttons!==0){var N=O();R.graphDiv.emit("plotly_relayouting",N)}}),R.staticMode||R.glplot.canvas.addEventListener("webglcontextlost",function(N){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:N,layer:R.id})},!1)),R.glplot.oncontextloss=function(){R.recoverContext()},R.glplot.onrender=function(){R.render()},!0},b.render=function(){var R=this,B=R.graphDiv,F,_=R.svgContainer,O=R.container.getBoundingClientRect();B._fullLayout._calcInverseTransform(B);var z=B._fullLayout._invScaleX,N=B._fullLayout._invScaleY,Y=O.width*z,J=O.height*N;_.setAttributeNS(null,"viewBox","0 0 "+Y+" "+J),_.setAttributeNS(null,"width",Y),_.setAttributeNS(null,"height",J),h(R),R.glplot.axes.update(R.axesOptions);for(var ae=Object.keys(R.traces),se=null,ue=R.glplot.selection,K=0;K<ae.length;++K)F=R.traces[ae[K]],F.data.hoverinfo!=="skip"&&F.handlePick(ue)&&(se=F),F.setContourLevels&&F.setContourLevels();function j(Pe,me,Ee){var xe=R.fullSceneLayout[Pe+"axis"];return xe.type!=="log"&&(me=xe.d2l(me)),t.hoverLabelText(xe,me,Ee)}if(se!==null){var ie=l(R.glplot.cameraParams,ue.dataCoordinate);F=se.data;var W=B._fullData[F.index],Q=ue.index,ee={xLabel:j("x",ue.traceCoordinate[0],F.xhoverformat),yLabel:j("y",ue.traceCoordinate[1],F.yhoverformat),zLabel:j("z",ue.traceCoordinate[2],F.zhoverformat)},$=s.castHoverinfo(W,R.fullLayout,Q),X=($||"").split("+"),oe=$&&$==="all";!W.hovertemplate&&!oe&&(X.indexOf("x")===-1&&(ee.xLabel=void 0),X.indexOf("y")===-1&&(ee.yLabel=void 0),X.indexOf("z")===-1&&(ee.zLabel=void 0),X.indexOf("text")===-1&&(ue.textLabel=void 0),X.indexOf("name")===-1&&(se.name=void 0));var te,fe=[];F.type==="cone"||F.type==="streamtube"?(ee.uLabel=j("x",ue.traceCoordinate[3],F.uhoverformat),(oe||X.indexOf("u")!==-1)&&fe.push("u: "+ee.uLabel),ee.vLabel=j("y",ue.traceCoordinate[4],F.vhoverformat),(oe||X.indexOf("v")!==-1)&&fe.push("v: "+ee.vLabel),ee.wLabel=j("z",ue.traceCoordinate[5],F.whoverformat),(oe||X.indexOf("w")!==-1)&&fe.push("w: "+ee.wLabel),ee.normLabel=ue.traceCoordinate[6].toPrecision(3),(oe||X.indexOf("norm")!==-1)&&fe.push("norm: "+ee.normLabel),F.type==="streamtube"&&(ee.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(oe||X.indexOf("divergence")!==-1)&&fe.push("divergence: "+ee.divergenceLabel)),ue.textLabel&&fe.push(ue.textLabel),te=fe.join("<br>")):F.type==="isosurface"||F.type==="volume"?(ee.valueLabel=t.hoverLabelText(R._mockAxis,R._mockAxis.d2l(ue.traceCoordinate[3]),F.valuehoverformat),fe.push("value: "+ee.valueLabel),ue.textLabel&&fe.push(ue.textLabel),te=fe.join("<br>")):te=ue.textLabel;var pe={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:W._input,fullData:W,curveNumber:W.index,pointNumber:Q};s.appendArrayPointValue(pe,W,Q),F._module.eventData&&(pe=W._module.eventData(pe,ue,W,{},Q));var Ae={points:[pe]};if(R.fullSceneLayout.hovermode){var be=[];s.loneHover({trace:W,x:(.5+.5*ie[0]/ie[3])*Y,y:(.5-.5*ie[1]/ie[3])*J,xLabel:ee.xLabel,yLabel:ee.yLabel,zLabel:ee.zLabel,text:te,name:se.name,color:s.castHoverOption(W,Q,"bgcolor")||se.color,borderColor:s.castHoverOption(W,Q,"bordercolor"),fontFamily:s.castHoverOption(W,Q,"font.family"),fontSize:s.castHoverOption(W,Q,"font.size"),fontColor:s.castHoverOption(W,Q,"font.color"),nameLength:s.castHoverOption(W,Q,"namelength"),textAlign:s.castHoverOption(W,Q,"align"),hovertemplate:y.castOption(W,Q,"hovertemplate"),hovertemplateLabels:y.extendFlat({},pe,ee),eventData:[pe]},{container:_,gd:B,inOut_bbox:be}),pe.bbox=be[0]}ue.distance<5&&(ue.buttons||v)?B.emit("plotly_click",Ae):B.emit("plotly_hover",Ae),this.oldEventData=Ae}else s.loneUnhover(_),this.oldEventData&&B.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;R.drawAnnotations(R)},b.recoverContext=function(){var R=this;R.glplot.dispose();var B=function(){if(R.glplot.gl.isContextLost()){requestAnimationFrame(B);return}if(!R.initializeGLPlot()){y.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}R.plot.apply(R,R.plotArgs)};requestAnimationFrame(B)};var m=["xaxis","yaxis","zaxis"];function S(R,B,F){for(var _=R.fullSceneLayout,O=0;O<3;O++){var z=m[O],N=z.charAt(0),Y=_[z],J=B[N],ae=B[N+"calendar"],se=B["_"+N+"length"];if(!y.isArrayOrTypedArray(J))F[0][O]=Math.min(F[0][O],0),F[1][O]=Math.max(F[1][O],se-1);else for(var ue,K=0;K<(se||J.length);K++)if(y.isArrayOrTypedArray(J[K]))for(var j=0;j<J[K].length;++j)ue=Y.d2l(J[K][j],0,ae),!isNaN(ue)&&isFinite(ue)&&(F[0][O]=Math.min(F[0][O],ue),F[1][O]=Math.max(F[1][O],ue));else ue=Y.d2l(J[K],0,ae),!isNaN(ue)&&isFinite(ue)&&(F[0][O]=Math.min(F[0][O],ue),F[1][O]=Math.max(F[1][O],ue))}}function T(R,B){for(var F=R.fullSceneLayout,_=F.annotations||[],O=0;O<3;O++)for(var z=m[O],N=z.charAt(0),Y=F[z],J=0;J<_.length;J++){var ae=_[J];if(ae.visible){var se=Y.r2l(ae[N]);!isNaN(se)&&isFinite(se)&&(B[0][O]=Math.min(B[0][O],se),B[1][O]=Math.max(B[1][O],se))}}}b.plot=function(R,B,F){var _=this;if(_.plotArgs=[R,B,F],!_.glplot.contextLost){var O,z,N,Y,J,ae,se=B[_.id],ue=F[_.id];_.fullLayout=B,_.fullSceneLayout=se,_.axesOptions.merge(B,se),_.spikeOptions.merge(se),_.setViewport(se),_.updateFx(se.dragmode,se.hovermode),_.camera.enableWheel=_.graphDiv._context._scrollZoom.gl3d,_.glplot.setClearColor(n(se.bgcolor)),_.setConvert(J),R?Array.isArray(R)||(R=[R]):R=[];var K=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(N=0;N<R.length;++N)O=R[N],!(O.visible!==!0||O._length===0)&&S(this,O,K);T(this,K);var j=[1,1,1];for(Y=0;Y<3;++Y)K[1][Y]===K[0][Y]?j[Y]=1:j[Y]=1/(K[1][Y]-K[0][Y]);for(_.dataScale=j,_.convertAnnotations(this),N=0;N<R.length;++N)O=R[N],!(O.visible!==!0||O._length===0)&&(z=_.traces[O.uid],z?z.data.type===O.type?z.update(O):(z.dispose(),z=O._module.plot(this,O),_.traces[O.uid]=z):(z=O._module.plot(this,O),_.traces[O.uid]=z),z.name=O.name);var ie=Object.keys(_.traces);e:for(N=0;N<ie.length;++N){for(Y=0;Y<R.length;++Y)if(R[Y].uid===ie[N]&&R[Y].visible===!0&&R[Y]._length!==0)continue e;z=_.traces[ie[N]],z.dispose(),delete _.traces[ie[N]]}_.glplot.objects.sort(function(He,Fe){return He._trace.data.index-Fe._trace.data.index});var W=[[0,0,0],[0,0,0]],Q=[],ee={};for(N=0;N<3;++N){J=se[m[N]],ae=J.type,ae in ee?(ee[ae].acc*=j[N],ee[ae].count+=1):ee[ae]={acc:j[N],count:1};var $;if(J.autorange){W[0][N]=1/0,W[1][N]=-1/0;var X=_.glplot.objects,oe=_.fullSceneLayout.annotations||[],te=J._name.charAt(0);for(Y=0;Y<X.length;Y++){var fe=X[Y],pe=fe.bounds,Ae=fe._trace.data._pad||0;fe.constructor.name==="ErrorBars"&&J._lowerLogErrorBound?W[0][N]=Math.min(W[0][N],J._lowerLogErrorBound):W[0][N]=Math.min(W[0][N],pe[0][N]/j[N]-Ae),W[1][N]=Math.max(W[1][N],pe[1][N]/j[N]+Ae)}for(Y=0;Y<oe.length;Y++){var be=oe[Y];if(be.visible){var Pe=J.r2l(be[te]);W[0][N]=Math.min(W[0][N],Pe),W[1][N]=Math.max(W[1][N],Pe)}}if("rangemode"in J&&J.rangemode==="tozero"&&(W[0][N]=Math.min(W[0][N],0),W[1][N]=Math.max(W[1][N],0)),W[0][N]>W[1][N])W[0][N]=-1,W[1][N]=1;else{var me=W[1][N]-W[0][N];W[0][N]-=me/32,W[1][N]+=me/32}if($=[W[0][N],W[1][N]],$=w($,J),W[0][N]=$[0],W[1][N]=$[1],J.isReversed()){var Ee=W[0][N];W[0][N]=W[1][N],W[1][N]=Ee}}else $=J.range,W[0][N]=J.r2l($[0]),W[1][N]=J.r2l($[1]);W[0][N]===W[1][N]&&(W[0][N]-=1,W[1][N]+=1),Q[N]=W[1][N]-W[0][N],J.range=[W[0][N],W[1][N]],J.limitRange(),_.glplot.setBounds(N,{min:J.range[0]*j[N],max:J.range[1]*j[N]})}var xe,De=se.aspectmode;if(De==="cube")xe=[1,1,1];else if(De==="manual"){var Ve=se.aspectratio;xe=[Ve.x,Ve.y,Ve.z]}else if(De==="auto"||De==="data"){var Ze=[1,1,1];for(N=0;N<3;++N){J=se[m[N]],ae=J.type;var ke=ee[ae];Ze[N]=Math.pow(ke.acc,1/ke.count)/j[N]}De==="data"||Math.max.apply(null,Ze)/Math.min.apply(null,Ze)<=4?xe=Ze:xe=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");se.aspectratio.x=ue.aspectratio.x=xe[0],se.aspectratio.y=ue.aspectratio.y=xe[1],se.aspectratio.z=ue.aspectratio.z=xe[2],_.glplot.setAspectratio(se.aspectratio),_.viewInitial.aspectratio||(_.viewInitial.aspectratio={x:se.aspectratio.x,y:se.aspectratio.y,z:se.aspectratio.z}),_.viewInitial.aspectmode||(_.viewInitial.aspectmode=se.aspectmode);var Ye=se.domain||null,lt=B._size||null;if(Ye&&lt){var yt=_.container.style;yt.position="absolute",yt.left=lt.l+Ye.x[0]*lt.w+"px",yt.top=lt.t+(1-Ye.y[1])*lt.h+"px",yt.width=lt.w*(Ye.x[1]-Ye.x[0])+"px",yt.height=lt.h*(Ye.y[1]-Ye.y[0])+"px"}_.glplot.redraw()}},b.destroy=function(){var R=this;R.glplot&&(R.camera.mouseListener.enabled=!1,R.container.removeEventListener("wheel",R.camera.wheelListener),R.camera=null,R.glplot.dispose(),R.container.parentNode.removeChild(R.container),R.glplot=null)};function a(R){return[[R.eye.x,R.eye.y,R.eye.z],[R.center.x,R.center.y,R.center.z],[R.up.x,R.up.y,R.up.z]]}function E(R){return{up:{x:R.up[0],y:R.up[1],z:R.up[2]},center:{x:R.center[0],y:R.center[1],z:R.center[2]},eye:{x:R.eye[0],y:R.eye[1],z:R.eye[2]},projection:{type:R._ortho===!0?"orthographic":"perspective"}}}b.getCamera=function(){var R=this;return R.camera.view.recalcMatrix(R.camera.view.lastT()),E(R.camera)},b.setViewport=function(R){var B=this,F=R.camera;B.camera.lookAt.apply(this,a(F)),B.glplot.setAspectratio(R.aspectratio);var _=F.projection.type==="orthographic",O=B.camera._ortho;_!==O&&(B.glplot.redraw(),B.glplot.clearRGBA(),B.glplot.dispose(),B.initializeGLPlot())},b.isCameraChanged=function(R){var B=this,F=B.getCamera(),_=y.nestedProperty(R,B.id+".camera"),O=_.get();function z(ae,se,ue,K){var j=["up","center","eye"],ie=["x","y","z"];return se[j[ue]]&&ae[j[ue]][ie[K]]===se[j[ue]][ie[K]]}var N=!1;if(O===void 0)N=!0;else{for(var Y=0;Y<3;Y++)for(var J=0;J<3;J++)if(!z(F,O,Y,J)){N=!0;break}(!O.projection||F.projection&&F.projection.type!==O.projection.type)&&(N=!0)}return N},b.isAspectChanged=function(R){var B=this,F=B.glplot.getAspectratio(),_=y.nestedProperty(R,B.id+".aspectratio"),O=_.get();return O===void 0||O.x!==F.x||O.y!==F.y||O.z!==F.z},b.saveLayout=function(R){var B=this,F=B.fullLayout,_,O,z,N,Y,J,ae=B.isCameraChanged(R),se=B.isAspectChanged(R),ue=ae||se;if(ue){var K={};if(ae&&(_=B.getCamera(),O=y.nestedProperty(R,B.id+".camera"),z=O.get(),K[B.id+".camera"]=z),se&&(N=B.glplot.getAspectratio(),Y=y.nestedProperty(R,B.id+".aspectratio"),J=Y.get(),K[B.id+".aspectratio"]=J),c.call("_storeDirectGUIEdit",R,F._preGUI,K),ae){O.set(_);var j=y.nestedProperty(F,B.id+".camera");j.set(_)}if(se){Y.set(N);var ie=y.nestedProperty(F,B.id+".aspectratio");ie.set(N),B.glplot.redraw()}}return ue},b.updateFx=function(R,B){var F=this,_=F.camera;if(_)if(R==="orbit")_.mode="orbit",_.keyBindingMode="rotate";else if(R==="turntable"){_.up=[0,0,1],_.mode="turntable",_.keyBindingMode="rotate";var O=F.graphDiv,z=O._fullLayout,N=F.fullSceneLayout.camera,Y=N.up.x,J=N.up.y,ae=N.up.z;if(ae/Math.sqrt(Y*Y+J*J+ae*ae)<.999){var se=F.id+".camera.up",ue={x:0,y:0,z:1},K={};K[se]=ue;var j=O.layout;c.call("_storeDirectGUIEdit",j,z._preGUI,K),N.up=ue,y.nestedProperty(j,se).set(ue)}}else _.keyBindingMode=R;F.fullSceneLayout.hovermode=B};function p(R,B,F){for(var _=0,O=F-1;_<O;++_,--O)for(var z=0;z<B;++z)for(var N=0;N<4;++N){var Y=4*(B*_+z)+N,J=4*(B*O+z)+N,ae=R[Y];R[Y]=R[J],R[J]=ae}}function k(R,B,F){for(var _=0;_<F;++_)for(var O=0;O<B;++O){var z=4*(B*_+O),N=R[z+3];if(N>0)for(var Y=255/N,J=0;J<3;++J)R[z+J]=Math.min(Y*R[z+J],255)}}b.toImage=function(R){var B=this;R||(R="png"),B.staticMode&&B.container.appendChild(d),B.glplot.redraw();var F=B.glplot.gl,_=F.drawingBufferWidth,O=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var z=new Uint8Array(_*O*4);F.readPixels(0,0,_,O,F.RGBA,F.UNSIGNED_BYTE,z),p(z,_,O),k(z,_,O);var N=document.createElement("canvas");N.width=_,N.height=O;var Y=N.getContext("2d",{willReadFrequently:!0}),J=Y.createImageData(_,O);J.data.set(z),Y.putImageData(J,0,0);var ae;switch(R){case"jpeg":ae=N.toDataURL("image/jpeg");break;case"webp":ae=N.toDataURL("image/webp");break;default:ae=N.toDataURL("image/png")}return B.staticMode&&B.container.removeChild(d),ae},b.setConvert=function(){for(var R=this,B=0;B<3;B++){var F=R.fullSceneLayout[m[B]];t.setConvert(F,R.fullLayout),F.setScale=y.noop}},b.make4thDimension=function(){var R=this,B=R.graphDiv,F=B._fullLayout;R._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(R._mockAxis,F)},V.exports=A},52094:function(V){"use strict";V.exports=function(e,x,P,i){i=i||e.length;for(var L=new Array(i),C=0;C<i;C++)L[C]=[e[C],x[C],P[C]];return L}},64859:function(V,U,e){"use strict";var x=e(25376),P=e(85656),i=e(22548),L=e(92872),C=e(34200),c=e(66741),y=e(92880).extendFlat,r=x({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=i.defaultLine,V.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:x({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:y(c({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:C.newselection,activeselection:C.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:y({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:x({editType:"layoutstyle"})}}},47552:function(V,U,e){"use strict";var x=e(95376),P="1.13.4",i='\xA9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=['\xA9 <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),C=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),c=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:C,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:C,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:c,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=x(y);V.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){var C=i.split(" "),c=C[0],y=C[1],r=x.isArrayOrTypedArray(L)?x.mean(L):L,t=.5+r/100,s=1.5+r/100,n=["",""],u=[0,0];switch(c){case"top":n[0]="top",u[1]=-s;break;case"bottom":n[0]="bottom",u[1]=s;break}switch(y){case"left":n[1]="right",u[0]=-t;break;case"right":n[1]="left",u[0]=t;break}var l;return n[0]&&n[1]?l=n.join("-"):n[0]?l=n[0]:n[1]?l=n[1]:l="center",{anchor:l,offset:u}}},33688:function(V,U,e){"use strict";var x=e(3480),P=e(3400),i=P.strTranslate,L=P.strScale,C=e(84888).KY,c=e(9616),y=e(33428),r=e(43616),t=e(72736),s=e(14440),n="mapbox",u=U.constants=e(47552);U.name=n,U.attr="subplot",U.idRoot=n,U.idRegex=U.attrRegex=P.counterRegex(n),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=e(5232),U.supplyLayoutDefaults=e(5976),U.plot=function(h){var w=h._fullLayout,d=h.calcdata,o=w._subplots[n];if(x.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var v=l(h,o);x.accessToken=v;for(var A=0;A<o.length;A++){var b=o[A],M=C(d,n,b),m=w[b],S=m._subplot;S||(S=new s(h,b),w[b]._subplot=S),S.viewInitial||(S.viewInitial={center:P.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),S.plot(M,w,h._promises)}},U.clean=function(g,h,w,d){for(var o=d._subplots[n]||[],v=0;v<o.length;v++){var A=o[v];!h[A]&&d[A]._subplot&&d[A]._subplot.destroy()}},U.toSVG=function(g){for(var h=g._fullLayout,w=h._subplots[n],d=h._size,o=0;o<w.length;o++){var v=h[w[o]],A=v.domain,b=v._subplot,M=b.toImage("png"),m=h._glimages.append("svg:image");m.attr({xmlns:c.svg,"xlink:href":M,x:d.l+d.w*A.x[0],y:d.t+d.h*(1-A.y[1]),width:d.w*(A.x[1]-A.x[0]),height:d.h*(A.y[1]-A.y[0]),preserveAspectRatio:"none"});var S=y.select(v._subplot.div),T=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!T){var a=h._glimages.append("g");a.attr("transform",i(d.l+d.w*A.x[0]+10,d.t+d.h*(1-A.y[0])-31)),a.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),a.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),a.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),a.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),p=h._glimages.append("g"),k=p.append("text");k.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var R=r.bBox(k.node()),B=d.w*(A.x[1]-A.x[0]);if(R.width>B/2){var F=E.split("|").join("<br>");k.text(F).attr("data-unformatted",F).call(t.convertToTspans,g),R=r.bBox(k.node())}k.attr("transform",i(-3,-R.height+8)),p.insert("rect",".static-attribution").attr({x:-R.width-6,y:-R.height-3,width:R.width+6,height:R.height+3,fill:"rgba(255, 255, 255, 0.75)"});var _=1;R.width+6>B&&(_=B/(R.width+6));var O=[d.l+d.w*A.x[1],d.t+d.h*(1-A.y[0])];p.attr("transform",i(O[0],O[1])+L(_))}};function l(g,h){var w=g._fullLayout,d=g._context;if(d.mapboxAccessToken==="")return"";for(var o=[],v=[],A=!1,b=!1,M=0;M<h.length;M++){var m=w[h[M]],S=m.accesstoken;f(m.style)&&(S?P.pushUnique(o,S):(f(m._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),A=!0),b=!0)),S&&P.pushUnique(v,S)}if(b){var T=A?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw P.error(T),new Error(T)}return o.length?(o.length>1&&P.warn(u.multipleTokensErrorMsg),o[0]):(v.length&&P.log(["Listed mapbox access token(s)",v.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function f(g){return typeof g=="string"&&(u.styleValuesMapbox.indexOf(g)!==-1||g.indexOf("mapbox://")===0||g.indexOf("stamen")===0)}U.updateFx=function(g){for(var h=g._fullLayout,w=h._subplots[n],d=0;d<w.length;d++){var o=h[w[d]]._subplot;o.updateFx(h)}}},22360:function(V,U,e){"use strict";var x=e(3400),P=e(72736).sanitizeHTML,i=e(89032),L=e(47552);function C(s,n){this.subplot=s,this.uid=s.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var c=C.prototype;c.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=y(n)},c.needsNewImage=function(s){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},c.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},c.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},c.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},c.updateImage=function(s){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());u!==null&&this.subplot.map.moveLayer(this.idLayer,u)},c.updateSource=function(s){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!y(s)){var u=t(s);n.addSource(this.idSource,u)}},c.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var n=this.subplot.getMapLayers(),u=0;u<n.length;u++){var l=n[u].id;if(typeof l=="string"&&l.indexOf(L.traceLayerPrefix)===0){s=l;break}}return s},c.updateLayer=function(s){var n=this.subplot,u=r(s),l=this.lookupBelow(),f=this.findFollowingMapboxLayerId(l);this.removeLayer(),y(s)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:u.layout,paint:u.paint},f),this.layerType=s.type,this.below=l},c.updateStyle=function(s){if(y(s)){var n=r(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},c.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},c.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function y(s){if(!s.visible)return!1;var n=s.source;if(Array.isArray(n)&&n.length>0){for(var u=0;u<n.length;u++)if(typeof n[u]!="string"||n[u].length===0)return!1;return!0}return x.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(s){var n={},u={};switch(s.type){case"circle":x.extendFlat(u,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":x.extendFlat(u,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":x.extendFlat(u,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var l=s.symbol,f=i(l.textposition,l.iconsize);x.extendFlat(n,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":f.anchor,"text-offset":f.offset,"symbol-placement":l.placement}),x.extendFlat(u,{"icon-color":s.color,"text-color":l.textfont.color,"text-opacity":s.opacity});break;case"raster":x.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:n,paint:u}}function t(s){var n=s.sourcetype,u=s.source,l={type:n},f;return n==="geojson"?f="data":n==="vector"?f=typeof u=="string"?"url":"tiles":n==="raster"?(f="tiles",l.tileSize=256):n==="image"&&(f="url",l.coordinates=s.coordinates),l[f]=u,s.sourceattribution&&(l.attribution=P(s.sourceattribution)),l}V.exports=function(n,u,l){var f=new C(n,u);return f.update(l),f}},5232:function(V,U,e){"use strict";var x=e(3400),P=e(76308).defaultLine,i=e(86968).u,L=e(25376),C=e(52904).textposition,c=e(67824).overrideAll,y=e(31780).templatedArray,r=e(47552),t=L({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=V.exports=c({_arrayAttrRegexps:[x.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:y("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:x.extendFlat({},C,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},5976:function(V,U,e){"use strict";var x=e(3400),P=e(168),i=e(51272),L=e(5232);V.exports=function(r,t,s){P(r,t,s,{type:"mapbox",attributes:L,handleDefaults:C,partition:"y",accessToken:t._mapboxAccessToken})};function C(y,r,t,s){t("accesstoken",s.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),u=t("bounds.east"),l=t("bounds.south"),f=t("bounds.north");(n===void 0||u===void 0||l===void 0||f===void 0)&&delete r.bounds,i(y,r,{name:"layers",handleItemDefaults:c}),r._input=y}function c(y,r){function t(g,h){return x.coerce(y,r,L.layers,g,h)}var s=t("visible");if(s){var n=t("sourcetype"),u=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var l;u&&(l="raster");var f=t("type",l);u&&f!=="raster"&&(f=r.type="raster",x.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),f==="circle"&&t("circle.radius"),f==="line"&&(t("line.width"),t("line.dash")),f==="fill"&&t("fill.outlinecolor"),f==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),x.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(V,U,e){"use strict";var x=e(3480),P=e(3400),i=e(27144),L=e(24040),C=e(54460),c=e(86476),y=e(93024),r=e(72760),t=r.drawMode,s=r.selectMode,n=e(22676).prepSelect,u=e(22676).clearOutline,l=e(22676).clearSelectionsCache,f=e(22676).selectOnClick,g=e(47552),h=e(22360);function w(M,m){this.id=m,this.gd=M;var S=M._fullLayout,T=M._context;this.container=S._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var d=w.prototype;d.plot=function(M,m,S){var T=this,a=m[T.id];T.map&&a.accesstoken!==T.accessToken&&(T.map.remove(),T.map=null,T.styleObj=null,T.traceHash={},T.layerList=[]);var E;T.map?E=new Promise(function(p,k){T.updateMap(M,m,p,k)}):E=new Promise(function(p,k){T.createMap(M,m,p,k)}),S.push(E)},d.createMap=function(M,m,S,T){var a=this,E=m[a.id],p=a.styleObj=v(E.style,m);a.accessToken=E.accesstoken;var k=E.bounds,R=k?[[k.west,k.south],[k.east,k.north]]:null,B=a.map=new x.Map({container:a.div,style:p.style,center:b(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:R,interactive:!a.isStatic,preserveDrawingBuffer:a.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new x.AttributionControl({compact:!0}));B._canvas.style.left="0px",B._canvas.style.top="0px",a.rejectOnError(T),a.isStatic||a.initFx(M,m);var F=[];F.push(new Promise(function(_){B.once("load",_)})),F=F.concat(i.fetchTraceGeoData(M)),Promise.all(F).then(function(){a.fillBelowLookup(M,m),a.updateData(M),a.updateLayout(m),a.resolveOnRender(S)}).catch(T)},d.updateMap=function(M,m,S,T){var a=this,E=a.map,p=m[this.id];a.rejectOnError(T);var k=[],R=v(p.style,m);JSON.stringify(a.styleObj)!==JSON.stringify(R)&&(a.styleObj=R,E.setStyle(R.style),a.traceHash={},k.push(new Promise(function(B){E.once("styledata",B)}))),k=k.concat(i.fetchTraceGeoData(M)),Promise.all(k).then(function(){a.fillBelowLookup(M,m),a.updateData(M),a.updateLayout(m),a.resolveOnRender(S)}).catch(T)},d.fillBelowLookup=function(M,m){var S=m[this.id],T=S.layers,a,E,p=this.belowLookup={},k=!1;for(a=0;a<M.length;a++){var R=M[a][0].trace,B=R._module;typeof R.below=="string"?E=R.below:B.getBelow&&(E=B.getBelow(R,this)),E===""&&(k=!0),p["trace-"+R.uid]=E||""}for(a=0;a<T.length;a++){var F=T[a];typeof F.below=="string"?E=F.below:k?E="traces":E="",p["layout-"+a]=E}var _={},O,z;for(O in p)E=p[O],_[E]?_[E].push(O):_[E]=[O];for(E in _){var N=_[E];if(N.length>1)for(a=0;a<N.length;a++)O=N[a],O.indexOf("trace-")===0?(z=O.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):O.indexOf("layout-")===0&&(z=O.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};d.updateData=function(M){var m=this.traceHash,S,T,a,E,p=M.slice().sort(function(_,O){return o[_[0].trace.type]-o[O[0].trace.type]});for(a=0;a<p.length;a++){var k=p[a];T=k[0].trace,S=m[T.uid];var R=!1;S&&(S.type===T.type?(S.update(k),R=!0):S.dispose()),!R&&T._module&&(m[T.uid]=T._module.plot(this,k))}var B=Object.keys(m);e:for(a=0;a<B.length;a++){var F=B[a];for(E=0;E<M.length;E++)if(T=M[E][0].trace,F===T.uid)continue e;S=m[F],S.dispose(),delete m[F]}},d.updateLayout=function(M){var m=this.map,S=M[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(b(S.center)),m.setZoom(S.zoom),m.setBearing(S.bearing),m.setPitch(S.pitch)),this.updateLayers(M),this.updateFramework(M),this.updateFx(M),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},d.resolveOnRender=function(M){var m=this.map;m.on("render",function S(){m.loaded()&&(m.off("render",S),setTimeout(M,10))})},d.rejectOnError=function(M){var m=this.map;function S(){M(new Error(g.mapOnErrorMsg))}m.once("error",S),m.once("style.error",S),m.once("source.error",S),m.once("tile.error",S),m.once("layer.error",S)},d.createFramework=function(M){var m=this,S=m.div=document.createElement("div");S.id=m.uid,S.style.position="absolute",m.container.appendChild(S),m.xaxis={_id:"x",c2p:function(T){return m.project(T).x}},m.yaxis={_id:"y",c2p:function(T){return m.project(T).y}},m.updateFramework(M),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},C.setConvert(m.mockAxis,M)},d.initFx=function(M,m){var S=this,T=S.gd,a=S.map;a.on("moveend",function(k){if(S.map){var R=T._fullLayout;if(k.originalEvent||S.wheeling){var B=R[S.id];L.call("_storeDirectGUIEdit",T.layout,R._preGUI,S.getViewEdits(B));var F=S.getView();B._input.center=B.center=F.center,B._input.zoom=B.zoom=F.zoom,B._input.bearing=B.bearing=F.bearing,B._input.pitch=B.pitch=F.pitch,T.emit("plotly_relayout",S.getViewEditsWithDerived(F))}k.originalEvent&&k.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),R._rehover&&R._rehover()}}),a.on("wheel",function(){S.wheeling=!0}),a.on("mousemove",function(k){var R=S.div.getBoundingClientRect(),B=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return R},S.xaxis.p2c=function(){return a.unproject(B).lng},S.yaxis.p2c=function(){return a.unproject(B).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===S.id&&T._fullLayout[S.id]&&y.hover(T,k,S.id)},y.hover(T,k,S.id),T._fullLayout._hoversubplot=S.id});function E(){y.loneUnhover(m._hoverlayer)}a.on("dragstart",function(){S.dragging=!0,E()}),a.on("zoomstart",E),a.on("mouseout",function(){T._fullLayout._hoversubplot=null});function p(){var k=S.getView();T.emit("plotly_relayouting",S.getViewEditsWithDerived(k))}a.on("drag",p),a.on("zoom",p),a.on("dblclick",function(){var k=T._fullLayout[S.id];L.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,S.getViewEdits(k));var R=S.viewInitial;a.setCenter(b(R.center)),a.setZoom(R.zoom),a.setBearing(R.bearing),a.setPitch(R.pitch);var B=S.getView();k._input.center=k.center=B.center,k._input.zoom=k.zoom=B.zoom,k._input.bearing=k.bearing=B.bearing,k._input.pitch=k.pitch=B.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",S.getViewEditsWithDerived(B))}),S.clearOutline=function(){l(S.dragOptions),u(S.dragOptions.gd)},S.onClickInPanFn=function(k){return function(R){var B=T._fullLayout.clickmode;B.indexOf("select")>-1&&f(R.originalEvent,T,[S.xaxis],[S.yaxis],S.id,k),B.indexOf("event")>-1&&y.click(T,R.originalEvent)}}},d.updateFx=function(M){var m=this,S=m.map,T=m.gd;if(m.isStatic)return;function a(R){var B=m.map.unproject(R);return[B.lng,B.lat]}var E=M.dragmode,p;p=function(R,B){if(B.isRect){var F=R.range={};F[m.id]=[a([B.xmin,B.ymin]),a([B.xmax,B.ymax])]}else{var _=R.lassoPoints={};_[m.id]=B.map(a)}};var k=m.dragOptions;m.dragOptions=P.extendDeep(k||{},{dragmode:M.dragmode,element:m.div,gd:T,plotinfo:{id:m.id,domain:M[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:p},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),S.off("click",m.onClickInPanHandler),s(E)||t(E)?(S.dragPan.disable(),S.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(R,B,F){n(R,B,F,m.dragOptions,E)},c.init(m.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),S.on("click",m.onClickInPanHandler))},d.updateFramework=function(M){var m=M[this.id].domain,S=M._size,T=this.div.style;T.width=S.w*(m.x[1]-m.x[0])+"px",T.height=S.h*(m.y[1]-m.y[0])+"px",T.left=S.l+m.x[0]*S.w+"px",T.top=S.t+(1-m.y[1])*S.h+"px",this.xaxis._offset=S.l+m.x[0]*S.w,this.xaxis._length=S.w*(m.x[1]-m.x[0]),this.yaxis._offset=S.t+(1-m.y[1])*S.h,this.yaxis._length=S.h*(m.y[1]-m.y[0])},d.updateLayers=function(M){var m=M[this.id],S=m.layers,T=this.layerList,a;if(S.length!==T.length){for(a=0;a<T.length;a++)T[a].dispose();for(T=this.layerList=[],a=0;a<S.length;a++)T.push(h(this,a,S[a]))}else for(a=0;a<S.length;a++)T[a].update(S[a])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},d.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},d.setOptions=function(M,m,S){for(var T in S)this.map[m](M,T,S[T])},d.getMapLayers=function(){return this.map.getStyle().layers},d.addLayer=function(M,m){var S=this.map;if(typeof m=="string"){if(m===""){S.addLayer(M,m);return}for(var T=this.getMapLayers(),a=0;a<T.length;a++)if(m===T[a].id){S.addLayer(M,m);return}P.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(M)},d.project=function(M){return this.map.project(new x.LngLat(M[0],M[1]))},d.getView=function(){var M=this.map,m=M.getCenter(),S=m.lng,T=m.lat,a={lon:S,lat:T},E=M.getCanvas(),p=parseInt(E.style.width),k=parseInt(E.style.height);return{center:a,zoom:M.getZoom(),bearing:M.getBearing(),pitch:M.getPitch(),_derived:{coordinates:[M.unproject([0,0]).toArray(),M.unproject([p,0]).toArray(),M.unproject([p,k]).toArray(),M.unproject([0,k]).toArray()]}}},d.getViewEdits=function(M){for(var m=this.id,S=["center","zoom","bearing","pitch"],T={},a=0;a<S.length;a++){var E=S[a];T[m+"."+E]=M[E]}return T},d.getViewEditsWithDerived=function(M){var m=this.id,S=this.getViewEdits(M);return S[m+"._derived"]=M._derived,S};function v(M,m){var S={};if(P.isPlainObject(M))S.id=M.id,S.style=M;else if(typeof M=="string")if(S.id=M,g.styleValuesMapbox.indexOf(M)!==-1)S.style=A(M);else if(g.stylesNonMapbox[M]){S.style=g.stylesNonMapbox[M];var T=S.style.sources["plotly-"+M],a=T?T.tiles:void 0;a&&a[0]&&a[0].slice(-9)==="?api_key="&&(a[0]+=m._mapboxAccessToken)}else S.style=M;else S.id=g.styleValueDflt,S.style=A(g.styleValueDflt);return S.transition={duration:0,delay:0},S}function A(M){return g.styleUrlPrefix+M+"-"+g.styleUrlSuffix}function b(M){return[M.lon,M.lat]}V.exports=w},66741:function(V){"use strict";V.exports=function(U){var e=U.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(V,U,e){"use strict";var x=e(33428),P=e(94336).m_,i=e(57624).SO,L=e(38248),C=e(83160),c=e(24040),y=e(73060),r=e(31780),t=e(3400),s=e(76308),n=e(39032).BADNUM,u=e(79811),l=e(1936).clearOutline,f=e(55308),g=e(85656),h=e(16672),w=e(84888)._M,d=t.relinkPrivateKeys,o=t._,v=V.exports={};t.extendFlat(v,c),v.attributes=e(45464),v.attributes.type.values=v.allTypes,v.fontAttrs=e(25376),v.layoutAttributes=e(64859),v.fontWeight="normal";var A=v.transformsRegistry,b=e(62460);v.executeAPICommand=b.executeAPICommand,v.computeAPICommandBindings=b.computeAPICommandBindings,v.manageCommandObserver=b.manageCommandObserver,v.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,v.redrawText=function(W){return W=t.getGraphDiv(W),new Promise(function(Q){setTimeout(function(){W._fullLayout&&(c.getComponentMethod("annotations","draw")(W),c.getComponentMethod("legend","draw")(W),c.getComponentMethod("colorbar","draw")(W),Q(v.previousPromises(W)))},300)})},v.resize=function(W){W=t.getGraphDiv(W);var Q,ee=new Promise(function($,X){(!W||t.isHidden(W))&&X(new Error("Resize must be passed a displayed plot div element.")),W._redrawTimer&&clearTimeout(W._redrawTimer),W._resolveResize&&(Q=W._resolveResize),W._resolveResize=$,W._redrawTimer=setTimeout(function(){if(!W.layout||W.layout.width&&W.layout.height||t.isHidden(W)){$(W);return}delete W.layout.width,delete W.layout.height;var oe=W.changed;W.autoplay=!0,c.call("relayout",W,{autosize:!0}).then(function(){W.changed=oe,W._resolveResize===$&&(delete W._resolveResize,$(W))})},100)});return Q&&Q(ee),ee},v.previousPromises=function(W){if((W._promises||[]).length)return Promise.all(W._promises).then(function(){W._promises=[]})},v.addLinks=function(W){if(!(!W._context.showLink&&!W._context.showSources)){var Q=W._fullLayout,ee=t.ensureSingle(Q._paper,"text","js-plot-link-container",function(pe){pe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var Ae=x.select(this);Ae.append("tspan").classed("js-link-to-tool",!0),Ae.append("tspan").classed("js-link-spacer",!0),Ae.append("tspan").classed("js-sourcelinks",!0)})}),$=ee.node(),X={y:Q._paper.attr("height")-9};document.body.contains($)&&$.getComputedTextLength()>=Q.width-20?(X["text-anchor"]="start",X.x=5):(X["text-anchor"]="end",X.x=Q._paper.attr("width")-7),ee.attr(X);var oe=ee.select(".js-link-to-tool"),te=ee.select(".js-link-spacer"),fe=ee.select(".js-sourcelinks");W._context.showSources&&W._context.showSources(W),W._context.showLink&&M(W,oe),te.text(oe.text()&&fe.text()?" - ":"")}};function M(W,Q){Q.text("");var ee=Q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(W._context.linkText+" \xBB");if(W._context.sendData)ee.on("click",function(){v.sendDataToCloud(W)});else{var $=window.location.pathname.split("/"),X=window.location.search;ee.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+$[2].split(".")[0]+"/"+$[1]+X})}}v.sendDataToCloud=function(W){var Q=(window.PLOTLYENV||{}).BASE_URL||W._context.plotlyServerURL;if(Q){W.emit("plotly_beforeexport");var ee=x.select(W).append("div").attr("id","hiddenform").style("display","none"),$=ee.append("form").attr({action:Q+"/external",method:"post",target:"_blank"}),X=$.append("input").attr({type:"text",name:"data"});return X.node().value=v.graphJson(W,!1,"keepdata"),$.node().submit(),ee.remove(),W.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];v.supplyDefaults=function(W,Q){var ee=Q&&Q.skipUpdateCalc,$=W._fullLayout||{};if($._skipDefaults){delete $._skipDefaults;return}var X=W._fullLayout={},oe=W.layout||{},te=W._fullData||[],fe=W._fullData=[],pe=W.data||[],Ae=W.calcdata||[],be=W._context||{},Pe;W._transitionData||v.createTransitionData(W),X._dfltTitle={plot:o(W,"Click to enter Plot title"),x:o(W,"Click to enter X axis title"),y:o(W,"Click to enter Y axis title"),colorbar:o(W,"Click to enter Colorscale title"),annotation:o(W,"new text")},X._traceWord=o(W,"trace");var me=E(W,m);if(X._mapboxAccessToken=be.mapboxAccessToken,$._initialAutoSizeIsDone){var Ee=$.width,xe=$.height;v.supplyLayoutGlobalDefaults(oe,X,me),oe.width||(X.width=Ee),oe.height||(X.height=xe),v.sanitizeMargins(X)}else{v.supplyLayoutGlobalDefaults(oe,X,me);var De=!oe.width||!oe.height,Ve=X.autosize,Ze=be.autosizable,ke=De&&(Ve||Ze);ke?v.plotAutoSize(W,oe,X):De&&v.sanitizeMargins(X),!Ve&&De&&(oe.width=X.width,oe.height=X.height)}X._d3locale=p(me,X.separators),X._extraFormat=E(W,S),X._initialAutoSizeIsDone=!0,X._dataLength=pe.length,X._modules=[],X._visibleModules=[],X._basePlotModules=[];var Ye=X._subplots=a(),lt=X._splomAxes={x:{},y:{}},yt=X._splomSubplots={};X._splomGridDflt={},X._scatterStackOpts={},X._firstScatter={},X._alignmentOpts={},X._colorAxes={},X._requestRangeslider={},X._traceUids=T(te,pe),X._globalTransforms=(W._context||{}).globalTransforms,v.supplyDataDefaults(pe,fe,oe,X);var He=Object.keys(lt.x),Fe=Object.keys(lt.y);if(He.length>1&&Fe.length>1){for(c.getComponentMethod("grid","sizeDefaults")(oe,X),Pe=0;Pe<He.length;Pe++)t.pushUnique(Ye.xaxis,He[Pe]);for(Pe=0;Pe<Fe.length;Pe++)t.pushUnique(Ye.yaxis,Fe[Pe]);for(var nt in yt)t.pushUnique(Ye.cartesian,nt)}if(X._has=v._hasPlotType.bind(X),te.length===fe.length)for(Pe=0;Pe<fe.length;Pe++)d(fe[Pe],te[Pe]);v.supplyLayoutModuleDefaults(oe,X,fe,W._transitionData);var ot=X._visibleModules,ct=[];for(Pe=0;Pe<ot.length;Pe++){var ht=ot[Pe].crossTraceDefaults;ht&&t.pushUnique(ct,ht)}for(Pe=0;Pe<ct.length;Pe++)ct[Pe](fe,X);X._hasOnlyLargeSploms=X._basePlotModules.length===1&&X._basePlotModules[0].name==="splom"&&He.length>15&&Fe.length>15&&X.shapes.length===0&&X.images.length===0,v.linkSubplots(fe,X,te,$),v.cleanPlot(fe,X,te,$);var mt=!!($._has&&$._has("gl2d")),tt=!!(X._has&&X._has("gl2d")),Re=!!($._has&&$._has("cartesian")),Ge=!!(X._has&&X._has("cartesian")),Je=Re||mt,Xe=Ge||tt;Je&&!Xe?$._bgLayer.remove():Xe&&!Je&&(X._shouldCreateBgLayer=!0),$._zoomlayer&&!W._dragging&&l({_fullLayout:$}),k(fe,X),d(X,$),c.getComponentMethod("colorscale","crossTraceDefaults")(fe,X),X._preGUI||(X._preGUI={}),X._tracePreGUI||(X._tracePreGUI={});var Oe=X._tracePreGUI,Ne={},ze;for(ze in Oe)Ne[ze]="old";for(Pe=0;Pe<fe.length;Pe++)ze=fe[Pe]._fullInput.uid,Ne[ze]||(Oe[ze]={}),Ne[ze]="new";for(ze in Ne)Ne[ze]==="old"&&delete Oe[ze];O(X),c.getComponentMethod("rangeslider","makeData")(X),!ee&&Ae.length===fe.length&&v.supplyDefaultsUpdateCalc(Ae,fe)},v.supplyDefaultsUpdateCalc=function(W,Q){for(var ee=0;ee<Q.length;ee++){var $=Q[ee],X=(W[ee]||[])[0];if(X&&X.trace){var oe=X.trace;if(oe._hasCalcTransform){var te=oe._arrayAttrs,fe,pe,Ae;for(fe=0;fe<te.length;fe++)pe=te[fe],Ae=t.nestedProperty(oe,pe).get().slice(),t.nestedProperty($,pe).set(Ae)}X.trace=$}}};function T(W,Q){var ee=Q.length,$=[],X,oe;for(X=0;X<W.length;X++){var te=W[X]._fullInput;te!==oe&&$.push(te),oe=te}var fe=$.length,pe=new Array(ee),Ae={};function be(Ee,xe){pe[xe]=Ee,Ae[Ee]=1}function Pe(Ee,xe){if(Ee&&typeof Ee=="string"&&!Ae[Ee])return be(Ee,xe),!0}for(X=0;X<ee;X++){var me=Q[X].uid;typeof me=="number"&&(me=String(me)),!Pe(me,X)&&(X<fe&&Pe($[X].uid,X)||be(t.randstr(Ae),X))}return pe}function a(){var W=c.collectableSubplotTypes,Q={},ee,$;if(!W){W=[];var X=c.subplotsRegistry;for(var oe in X){var te=X[oe],fe=te.attr;if(fe&&(W.push(oe),Array.isArray(fe)))for($=0;$<fe.length;$++)t.pushUnique(W,fe[$])}}for(ee=0;ee<W.length;ee++)Q[W[ee]]=[];return Q}function E(W,Q){var ee=W._context.locale;ee||(ee="en-US");var $=!1,X={};function oe(Pe){for(var me=!0,Ee=0;Ee<Q.length;Ee++){var xe=Q[Ee];X[xe]||(Pe[xe]?X[xe]=Pe[xe]:me=!1)}me&&($=!0)}for(var te=0;te<2;te++){for(var fe=W._context.locales,pe=0;pe<2;pe++){var Ae=(fe[ee]||{}).format;if(Ae&&(oe(Ae),$))break;fe=c.localeRegistry}var be=ee.split("-")[0];if($||be===ee)break;ee=be}return $||oe(c.localeRegistry.en.format),X}function p(W,Q){return W.decimal=Q.charAt(0),W.thousands=Q.charAt(1),{numberFormat:function(ee){try{ee=i(W).format(t.adjustFormat(ee))}catch($){return t.warnBadFormat(ee),t.noFormat}return ee},timeFormat:P(W).utcFormat}}function k(W,Q){var ee,$=[];Q.meta&&(ee=Q._meta={meta:Q.meta,layout:{meta:Q.meta}});for(var X=0;X<W.length;X++){var oe=W[X];oe.meta?$[oe.index]=oe._meta={meta:oe.meta}:Q.meta&&(oe._meta={meta:Q.meta}),Q.meta&&(oe._meta.layout={meta:Q.meta})}$.length&&(ee||(ee=Q._meta={}),ee.data=$)}v.createTransitionData=function(W){W._transitionData||(W._transitionData={}),W._transitionData._frames||(W._transitionData._frames=[]),W._transitionData._frameHash||(W._transitionData._frameHash={}),W._transitionData._counter||(W._transitionData._counter=0),W._transitionData._interruptCallbacks||(W._transitionData._interruptCallbacks=[])},v._hasPlotType=function(W){var Q,ee=this._basePlotModules||[];for(Q=0;Q<ee.length;Q++)if(ee[Q].name===W)return!0;var $=this._modules||[];for(Q=0;Q<$.length;Q++){var X=$[Q].name;if(X===W)return!0;var oe=c.modules[X];if(oe&&oe.categories[W])return!0}return!1},v.cleanPlot=function(W,Q,ee,$){var X,oe,te=$._basePlotModules||[];for(X=0;X<te.length;X++){var fe=te[X];fe.clean&&fe.clean(W,Q,ee,$)}var pe=$._has&&$._has("gl"),Ae=Q._has&&Q._has("gl");pe&&!Ae&&$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.selectAll(".no-webgl").remove(),$._glcanvas=null);var be=!!$._infolayer;e:for(X=0;X<ee.length;X++){var Pe=ee[X],me=Pe.uid;for(oe=0;oe<W.length;oe++){var Ee=W[oe];if(me===Ee.uid)continue e}be&&$._infolayer.select(".cb"+me).remove()}},v.linkSubplots=function(W,Q,ee,$){var X,oe,te=$._plots||{},fe=Q._plots={},pe=Q._subplots,Ae={_fullData:W,_fullLayout:Q},be=pe.cartesian.concat(pe.gl2d||[]);for(X=0;X<be.length;X++){var Pe=be[X],me=te[Pe],Ee=u.getFromId(Ae,Pe,"x"),xe=u.getFromId(Ae,Pe,"y"),De;for(me?De=fe[Pe]=me:(De=fe[Pe]={},De.id=Pe),Ee._counterAxes.push(xe._id),xe._counterAxes.push(Ee._id),Ee._subplotsWith.push(Pe),xe._subplotsWith.push(Pe),De.xaxis=Ee,De.yaxis=xe,De._hasClipOnAxisFalse=!1,oe=0;oe<W.length;oe++){var Ve=W[oe];if(Ve.xaxis===De.xaxis._id&&Ve.yaxis===De.yaxis._id&&Ve.cliponaxis===!1){De._hasClipOnAxisFalse=!0;break}}}var Ze=u.list(Ae,null,!0),ke;for(X=0;X<Ze.length;X++){ke=Ze[X];var Ye=null;ke.overlaying&&(Ye=u.getFromId(Ae,ke.overlaying),Ye&&Ye.overlaying&&(ke.overlaying=!1,Ye=null)),ke._mainAxis=Ye||ke,Ye&&(ke.domain=Ye.domain.slice()),ke._anchorAxis=ke.anchor==="free"?null:u.getFromId(Ae,ke.anchor)}for(X=0;X<Ze.length;X++)if(ke=Ze[X],ke._counterAxes.sort(u.idSort),ke._subplotsWith.sort(t.subplotSort),ke._mainSubplot=R(ke,Q),ke._counterAxes.length&&(ke.spikemode&&ke.spikemode.indexOf("across")!==-1||ke.automargin&&ke.mirror&&ke.anchor!=="free"||c.getComponentMethod("rangeslider","isVisible")(ke))){var lt=1,yt=0;for(oe=0;oe<ke._counterAxes.length;oe++){var He=u.getFromId(Ae,ke._counterAxes[oe]);lt=Math.min(lt,He.domain[0]),yt=Math.max(yt,He.domain[1])}lt<yt&&(ke._counterDomainMin=lt,ke._counterDomainMax=yt)}};function R(W,Q){var ee={_fullLayout:Q},$=W._id.charAt(0)==="x",X=W._mainAxis._anchorAxis,oe="",te="",fe="";if(X&&(fe=X._mainAxis._id,oe=$?W._id+fe:fe+W._id),!oe||!Q._plots[oe]){oe="";for(var pe=W._counterAxes,Ae=0;Ae<pe.length;Ae++){var be=pe[Ae],Pe=$?W._id+be:be+W._id;te||(te=Pe);var me=u.getFromId(ee,be);if(fe&&me.overlaying===fe){oe=Pe;break}}}return oe||te}v.clearExpandedTraceDefaultColors=function(W){var Q,ee,$;function X(te,fe,pe,Ae){ee[Ae]=fe,ee.length=Ae+1,te.valType==="color"&&te.dflt===void 0&&Q.push(ee.join("."))}for(ee=[],Q=W._module._colorAttrs,Q||(W._module._colorAttrs=Q=[],y.crawl(W._module.attributes,X)),$=0;$<Q.length;$++){var oe=t.nestedProperty(W,"_input."+Q[$]);oe.get()||t.nestedProperty(W,Q[$]).set(null)}},v.supplyDataDefaults=function(W,Q,ee,$){var X=$._modules,oe=$._visibleModules,te=$._basePlotModules,fe=0,pe=0,Ae,be,Pe;$._transformModules=[];function me(Fe){Q.push(Fe);var nt=Fe._module;nt&&(t.pushUnique(X,nt),Fe.visible===!0&&t.pushUnique(oe,nt),t.pushUnique(te,Fe._module.basePlotModule),fe++,Fe._input.visible!==!1&&pe++)}var Ee={},xe=[],De=(ee.template||{}).data||{},Ve=r.traceTemplater(De);for(Ae=0;Ae<W.length;Ae++){if(Pe=W[Ae],be=Ve.newTrace(Pe),be.uid=$._traceUids[Ae],v.supplyTraceDefaults(Pe,be,pe,$,Ae),be.index=Ae,be._input=Pe,be._expandedIndex=fe,be.transforms&&be.transforms.length)for(var Ze=Pe.visible!==!1&&be.visible===!1,ke=F(be,Q,ee,$),Ye=0;Ye<ke.length;Ye++){var lt=ke[Ye],yt={_template:be._template,type:be.type,uid:be.uid+Ye};Ze&&lt.visible===!1&&delete lt.visible,v.supplyTraceDefaults(lt,yt,fe,$,Ae),d(yt,lt),yt.index=Ae,yt._input=Pe,yt._fullInput=be,yt._expandedIndex=fe,yt._expandedInput=lt,me(yt)}else be._fullInput=be,be._expandedInput=be,me(be);c.traceIs(be,"carpetAxis")&&(Ee[be.carpet]=be),c.traceIs(be,"carpetDependent")&&xe.push(Ae)}for(Ae=0;Ae<xe.length;Ae++)if(be=Q[xe[Ae]],!!be.visible){var He=Ee[be.carpet];if(be._carpet=He,!He||!He.visible){be.visible=!1;continue}be.xaxis=He.xaxis,be.yaxis=He.yaxis}},v.supplyAnimationDefaults=function(W){W=W||{};var Q,ee={};function $(X,oe){return t.coerce(W||{},ee,g,X,oe)}if($("mode"),$("direction"),$("fromcurrent"),Array.isArray(W.frame))for(ee.frame=[],Q=0;Q<W.frame.length;Q++)ee.frame[Q]=v.supplyAnimationFrameDefaults(W.frame[Q]||{});else ee.frame=v.supplyAnimationFrameDefaults(W.frame||{});if(Array.isArray(W.transition))for(ee.transition=[],Q=0;Q<W.transition.length;Q++)ee.transition[Q]=v.supplyAnimationTransitionDefaults(W.transition[Q]||{});else ee.transition=v.supplyAnimationTransitionDefaults(W.transition||{});return ee},v.supplyAnimationFrameDefaults=function(W){var Q={};function ee($,X){return t.coerce(W||{},Q,g.frame,$,X)}return ee("duration"),ee("redraw"),Q},v.supplyAnimationTransitionDefaults=function(W){var Q={};function ee($,X){return t.coerce(W||{},Q,g.transition,$,X)}return ee("duration"),ee("easing"),Q},v.supplyFrameDefaults=function(W){var Q={};function ee($,X){return t.coerce(W,Q,h,$,X)}return ee("group"),ee("name"),ee("traces"),ee("baseframe"),ee("data"),ee("layout"),Q},v.supplyTraceDefaults=function(W,Q,ee,$,X){var oe=$.colorway||s.defaults,te=oe[ee%oe.length],fe;function pe(Ye,lt){return t.coerce(W,Q,v.attributes,Ye,lt)}var Ae=pe("visible");pe("type"),pe("name",$._traceWord+" "+X),pe("uirevision",$.uirevision);var be=v.getModule(Q);if(Q._module=be,be){var Pe=be.basePlotModule,me=Pe.attr,Ee=Pe.attributes;if(me&&Ee){var xe=$._subplots,De="";if(Ae||Pe.name!=="gl2d"){if(Array.isArray(me))for(fe=0;fe<me.length;fe++){var Ve=me[fe],Ze=t.coerce(W,Q,Ee,Ve);xe[Ve]&&t.pushUnique(xe[Ve],Ze),De+=Ze}else De=t.coerce(W,Q,Ee,me);xe[Pe.name]&&t.pushUnique(xe[Pe.name],De)}}}if(Ae){if(pe("customdata"),pe("ids"),pe("meta"),c.traceIs(Q,"showLegend")?(t.coerce(W,Q,be.attributes.showlegend?be.attributes:v.attributes,"showlegend"),pe("legend"),pe("legendwidth"),pe("legendgroup"),pe("legendgrouptitle.text"),pe("legendrank"),Q._dfltShowLegend=!0):Q._dfltShowLegend=!1,be&&be.supplyDefaults(W,Q,te,$),c.traceIs(Q,"noOpacity")||pe("opacity"),c.traceIs(Q,"notLegendIsolatable")&&(Q.visible=!!Q.visible),c.traceIs(Q,"noHover")||(Q.hovertemplate||t.coerceHoverinfo(W,Q,$),Q.type!=="parcats"&&c.getComponentMethod("fx","supplyDefaults")(W,Q,te,$)),be&&be.selectPoints){var ke=pe("selectedpoints");t.isTypedArray(ke)&&(Q.selectedpoints=Array.from(ke))}v.supplyTransformDefaults(W,Q,$)}return Q};function B(W){var Q=W.transforms;if(Array.isArray(Q)&&Q.length)for(var ee=0;ee<Q.length;ee++){var $=Q[ee],X=$._module||A[$.type];if(X&&X.makesData)return!0}return!1}v.hasMakesDataTransform=B,v.supplyTransformDefaults=function(W,Q,ee){if(Q._length||B(W)){var $=ee._globalTransforms||[],X=ee._transformModules||[];if(!(!Array.isArray(W.transforms)&&$.length===0))for(var oe=W.transforms||[],te=$.concat(oe),fe=Q.transforms=[],pe=0;pe<te.length;pe++){var Ae=te[pe],be=Ae.type,Pe=A[be],me,Ee=!(Ae._module&&Ae._module===Pe),xe=Pe&&typeof Pe.transform=="function";Pe||t.warn("Unrecognized transform type "+be+"."),Pe&&Pe.supplyDefaults&&(Ee||xe)?(me=Pe.supplyDefaults(Ae,Q,ee,W),me.type=be,me._module=Pe,t.pushUnique(X,Pe)):me=t.extendFlat({},Ae),fe.push(me)}}};function F(W,Q,ee,$){for(var X=W.transforms,oe=[W],te=0;te<X.length;te++){var fe=X[te],pe=A[fe.type];pe&&pe.transform&&(oe=pe.transform(oe,{transform:fe,fullTrace:W,fullData:Q,layout:ee,fullLayout:$,transformIndex:te}))}return oe}v.supplyLayoutGlobalDefaults=function(W,Q,ee){function $(Pe,me){return t.coerce(W,Q,v.layoutAttributes,Pe,me)}var X=W.template;t.isPlainObject(X)&&(Q.template=X,Q._template=X.layout,Q._dataTemplate=X.data),$("autotypenumbers");var oe=t.coerceFont($,"font"),te=oe.size;t.coerceFont($,"title.font",t.extendFlat({},oe,{size:Math.round(te*1.4)})),$("title.text",Q._dfltTitle.plot),$("title.xref");var fe=$("title.yref");$("title.pad.t"),$("title.pad.r"),$("title.pad.b"),$("title.pad.l");var pe=$("title.automargin");$("title.x"),$("title.xanchor"),$("title.y"),$("title.yanchor"),pe&&(fe==="paper"&&(Q.title.y!==0&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y===0?"top":"bottom")),fe==="container"&&(Q.title.y==="auto"&&(Q.title.y=1),Q.title.yanchor==="auto"&&(Q.title.yanchor=Q.title.y<.5?"bottom":"top")));var Ae=$("uniformtext.mode");Ae&&$("uniformtext.minsize"),$("autosize",!(W.width&&W.height)),$("width"),$("height"),$("minreducedwidth"),$("minreducedheight"),$("margin.l"),$("margin.r"),$("margin.t"),$("margin.b"),$("margin.pad"),$("margin.autoexpand"),W.width&&W.height&&v.sanitizeMargins(Q),c.getComponentMethod("grid","sizeDefaults")(W,Q),$("paper_bgcolor"),$("separators",ee.decimal+ee.thousands),$("hidesources"),$("colorway"),$("datarevision");var be=$("uirevision");$("editrevision",be),$("selectionrevision",be),c.getComponentMethod("modebar","supplyLayoutDefaults")(W,Q),c.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(W,Q,$),c.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(W,Q,$),$("meta"),t.isPlainObject(W.transition)&&($("transition.duration"),$("transition.easing"),$("transition.ordering")),c.getComponentMethod("calendars","handleDefaults")(W,Q,"calendar"),c.getComponentMethod("fx","supplyLayoutGlobalDefaults")(W,Q,$),t.coerce(W,Q,f,"scattermode")};function _(W){return typeof W=="string"&&W.substr(W.length-2)==="px"&&parseFloat(W)}v.plotAutoSize=function(Q,ee,$){var X=Q._context||{},oe=X.frameMargins,te,fe,pe=t.isPlotDiv(Q);if(pe&&Q.emit("plotly_autosize"),X.fillFrame)te=window.innerWidth,fe=window.innerHeight,document.body.style.overflow="hidden";else{var Ae=pe?window.getComputedStyle(Q):{};if(te=_(Ae.width)||_(Ae.maxWidth)||$.width,fe=_(Ae.height)||_(Ae.maxHeight)||$.height,L(oe)&&oe>0){var be=1-2*oe;te=Math.round(be*te),fe=Math.round(be*fe)}}var Pe=v.layoutAttributes.width.min,me=v.layoutAttributes.height.min;te<Pe&&(te=Pe),fe<me&&(fe=me);var Ee=!ee.width&&Math.abs($.width-te)>1,xe=!ee.height&&Math.abs($.height-fe)>1;(xe||Ee)&&(Ee&&($.width=te),xe&&($.height=fe)),Q._initialAutoSize||(Q._initialAutoSize={width:te,height:fe}),v.sanitizeMargins($)},v.supplyLayoutModuleDefaults=function(W,Q,ee,$){var X=c.componentsRegistry,oe=Q._basePlotModules,te,fe,pe,Ae=c.subplotsRegistry.cartesian;for(te in X)pe=X[te],pe.includeBasePlot&&pe.includeBasePlot(W,Q);oe.length||oe.push(Ae),Q._has("cartesian")&&(c.getComponentMethod("grid","contentDefaults")(W,Q),Ae.finalizeSubplots(W,Q));for(var be in Q._subplots)Q._subplots[be].sort(t.subplotSort);for(fe=0;fe<oe.length;fe++)pe=oe[fe],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(W,Q,ee);var Pe=Q._modules;for(fe=0;fe<Pe.length;fe++)pe=Pe[fe],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(W,Q,ee);var me=Q._transformModules;for(fe=0;fe<me.length;fe++)pe=me[fe],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(W,Q,ee,$);for(te in X)pe=X[te],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(W,Q,ee)},v.purge=function(W){var Q=W._fullLayout||{};Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.remove(),Q._glcanvas=null),Q._modeBar&&Q._modeBar.destroy(),W._transitionData&&(W._transitionData._interruptCallbacks&&(W._transitionData._interruptCallbacks.length=0),W._transitionData._animationRaf&&window.cancelAnimationFrame(W._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(W),delete W.data,delete W.layout,delete W._fullData,delete W._fullLayout,delete W.calcdata,delete W.empty,delete W.fid,delete W.undoqueue,delete W.undonum,delete W.autoplay,delete W.changed,delete W._promises,delete W._redrawTimer,delete W._hmlumcount,delete W._hmpixcount,delete W._transitionData,delete W._transitioning,delete W._initialAutoSize,delete W._transitioningWithDuration,delete W._dragging,delete W._dragged,delete W._dragdata,delete W._hoverdata,delete W._snapshotInProgress,delete W._editing,delete W._mouseDownTime,delete W._legendMouseDownTime,W.removeAllListeners&&W.removeAllListeners()},v.style=function(W){var Q=W._fullLayout._visibleModules,ee=[],$;for($=0;$<Q.length;$++){var X=Q[$];X.style&&t.pushUnique(ee,X.style)}for($=0;$<ee.length;$++)ee[$](W)},v.sanitizeMargins=function(W){if(!(!W||!W.margin)){var Q=W.width,ee=W.height,$=W.margin,X=Q-($.l+$.r),oe=ee-($.t+$.b),te;X<0&&(te=(Q-1)/($.l+$.r),$.l=Math.floor(te*$.l),$.r=Math.floor(te*$.r)),oe<0&&(te=(ee-1)/($.t+$.b),$.t=Math.floor(te*$.t),$.b=Math.floor(te*$.b))}},v.clearAutoMarginIds=function(W){W._fullLayout._pushmarginIds={}},v.allowAutoMargin=function(W,Q){W._fullLayout._pushmarginIds[Q]=1};function O(W){var Q=W.margin;if(!W._size){var ee=W._size={l:Math.round(Q.l),r:Math.round(Q.r),t:Math.round(Q.t),b:Math.round(Q.b),p:Math.round(Q.pad)};ee.w=Math.round(W.width)-ee.l-ee.r,ee.h=Math.round(W.height)-ee.t-ee.b}W._pushmargin||(W._pushmargin={}),W._pushmarginIds||(W._pushmarginIds={}),W._reservedMargin||(W._reservedMargin={})}var z=2,N=2;v.autoMargin=function(W,Q,ee){var $=W._fullLayout,X=$.width,oe=$.height,te=$.margin,fe=$.minreducedwidth,pe=$.minreducedheight,Ae=t.constrain(X-te.l-te.r,z,fe),be=t.constrain(oe-te.t-te.b,N,pe),Pe=Math.max(0,X-Ae),me=Math.max(0,oe-be),Ee=$._pushmargin,xe=$._pushmarginIds;if(te.autoexpand!==!1){if(!ee)delete Ee[Q],delete xe[Q];else{var De=ee.pad;if(De===void 0&&(De=Math.min(12,te.l,te.r,te.t,te.b)),Pe){var Ve=(ee.l+ee.r)/Pe;Ve>1&&(ee.l/=Ve,ee.r/=Ve)}if(me){var Ze=(ee.t+ee.b)/me;Ze>1&&(ee.t/=Ze,ee.b/=Ze)}var ke=ee.xl!==void 0?ee.xl:ee.x,Ye=ee.xr!==void 0?ee.xr:ee.x,lt=ee.yt!==void 0?ee.yt:ee.y,yt=ee.yb!==void 0?ee.yb:ee.y;Ee[Q]={l:{val:ke,size:ee.l+De},r:{val:Ye,size:ee.r+De},b:{val:yt,size:ee.b+De},t:{val:lt,size:ee.t+De}},xe[Q]=1}if(!$._replotting)return v.doAutoMargin(W)}};function Y(W){if("_redrawFromAutoMarginCount"in W._fullLayout)return!1;var Q=u.list(W,"",!0);for(var ee in Q)if(Q[ee].autoshift||Q[ee].shift)return!0;return!1}v.doAutoMargin=function(W){var Q=W._fullLayout,ee=Q.width,$=Q.height;Q._size||(Q._size={}),O(Q);var X=Q._size,oe=Q.margin,te={t:0,b:0,l:0,r:0},fe=t.extendFlat({},X),pe=oe.l,Ae=oe.r,be=oe.t,Pe=oe.b,me=Q._pushmargin,Ee=Q._pushmarginIds,xe=Q.minreducedwidth,De=Q.minreducedheight;if(oe.autoexpand!==!1){for(var Ve in me)Ee[Ve]||delete me[Ve];var Ze=W._fullLayout._reservedMargin;for(var ke in Ze)for(var Ye in Ze[ke]){var lt=Ze[ke][Ye];te[Ye]=Math.max(te[Ye],lt)}me.base={l:{val:0,size:pe},r:{val:1,size:Ae},t:{val:1,size:be},b:{val:0,size:Pe}};for(var yt in te){var He=0;for(var Fe in me)Fe!=="base"&&L(me[Fe][yt].size)&&(He=me[Fe][yt].size>He?me[Fe][yt].size:He);var nt=Math.max(0,oe[yt]-He);te[yt]=Math.max(0,te[yt]-nt)}for(var ot in me){var ct=me[ot].l||{},ht=me[ot].b||{},mt=ct.val,tt=ct.size,Re=ht.val,Ge=ht.size,Je=ee-te.r-te.l,Xe=$-te.t-te.b;for(var Oe in me){if(L(tt)&&me[Oe].r){var Ne=me[Oe].r.val,ze=me[Oe].r.size;if(Ne>mt){var et=(tt*Ne+(ze-Je)*mt)/(Ne-mt),Le=(ze*(1-mt)+(tt-Je)*(1-Ne))/(Ne-mt);et+Le>pe+Ae&&(pe=et,Ae=Le)}}if(L(Ge)&&me[Oe].t){var Te=me[Oe].t.val,ye=me[Oe].t.size;if(Te>Re){var Se=(Ge*Te+(ye-Xe)*Re)/(Te-Re),Ke=(ye*(1-Re)+(Ge-Xe)*(1-Te))/(Te-Re);Se+Ke>Pe+be&&(Pe=Se,be=Ke)}}}}}var rt=t.constrain(ee-oe.l-oe.r,z,xe),Lt=t.constrain($-oe.t-oe.b,N,De),It=Math.max(0,ee-rt),wt=Math.max(0,$-Lt);if(It){var Et=(pe+Ae)/It;Et>1&&(pe/=Et,Ae/=Et)}if(wt){var Wt=(Pe+be)/wt;Wt>1&&(Pe/=Wt,be/=Wt)}if(X.l=Math.round(pe)+te.l,X.r=Math.round(Ae)+te.r,X.t=Math.round(be)+te.t,X.b=Math.round(Pe)+te.b,X.p=Math.round(oe.pad),X.w=Math.round(ee)-X.l-X.r,X.h=Math.round($)-X.t-X.b,!Q._replotting&&(v.didMarginChange(fe,X)||Y(W))){"_redrawFromAutoMarginCount"in Q?Q._redrawFromAutoMarginCount++:Q._redrawFromAutoMarginCount=1;var vr=3*(1+Object.keys(Ee).length);if(Q._redrawFromAutoMarginCount<vr)return c.call("_doPlot",W);Q._size=fe,t.warn("Too many auto-margin redraws.")}J(W)};function J(W){var Q=u.list(W,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ee){for(var $=0;$<Q.length;$++){var X=Q[$][ee];X&&X()}})}var ae=["l","r","t","b","p","w","h"];v.didMarginChange=function(W,Q){for(var ee=0;ee<ae.length;ee++){var $=ae[ee],X=W[$],oe=Q[$];if(!L(X)||Math.abs(oe-X)>1)return!0}return!1},v.graphJson=function(W,Q,ee,$,X,oe){(X&&Q&&!W._fullData||X&&!Q&&!W._fullLayout)&&v.supplyDefaults(W);var te=X?W._fullData:W.data,fe=X?W._fullLayout:W.layout,pe=(W._transitionData||{})._frames;function Ae(me,Ee){if(typeof me=="function")return Ee?"_function_":null;if(t.isPlainObject(me)){var xe={},De;return Object.keys(me).sort().forEach(function(Ye){if(["_","["].indexOf(Ye.charAt(0))===-1){if(typeof me[Ye]=="function"){Ee&&(xe[Ye]="_function");return}if(ee==="keepdata"){if(Ye.substr(Ye.length-3)==="src")return}else if(ee==="keepstream"){if(De=me[Ye+"src"],typeof De=="string"&&De.indexOf(":")>0&&!t.isPlainObject(me.stream))return}else if(ee!=="keepall"&&(De=me[Ye+"src"],typeof De=="string"&&De.indexOf(":")>0))return;xe[Ye]=Ae(me[Ye],Ee)}}),xe}var Ve=Array.isArray(me),Ze=t.isTypedArray(me);if((Ve||Ze)&&me.dtype&&me.shape){var ke=me.bdata;return Ae({dtype:me.dtype,shape:me.shape,bdata:t.isArrayBuffer(ke)?C.encode(ke):ke},Ee)}return Ve?me.map(function(Ye){return Ae(Ye,Ee)}):Ze?t.simpleMap(me,t.identity):t.isJSDate(me)?t.ms2DateTimeLocal(+me):me}var be={data:(te||[]).map(function(me){var Ee=Ae(me);return Q&&delete Ee.fit,Ee})};if(!Q&&(be.layout=Ae(fe),X)){var Pe=fe._size;be.layout.computed={margin:{b:Pe.b,l:Pe.l,r:Pe.r,t:Pe.t}}}return pe&&(be.frames=Ae(pe)),oe&&(be.config=Ae(W._context,!0)),$==="object"?be:JSON.stringify(be)},v.modifyFrames=function(W,Q){var ee,$,X,oe=W._transitionData._frames,te=W._transitionData._frameHash;for(ee=0;ee<Q.length;ee++)switch($=Q[ee],$.type){case"replace":X=$.value;var fe=(oe[$.index]||{}).name,pe=X.name;oe[$.index]=te[pe]=X,pe!==fe&&(delete te[fe],te[pe]=X);break;case"insert":X=$.value,te[X.name]=X,oe.splice($.index,0,X);break;case"delete":X=oe[$.index],delete te[X.name],oe.splice($.index,1);break}return Promise.resolve()},v.computeFrame=function(W,Q){var ee=W._transitionData._frameHash,$,X,oe,te;if(!Q)throw new Error("computeFrame must be given a string frame name");var fe=ee[Q.toString()];if(!fe)return!1;for(var pe=[fe],Ae=[fe.name];fe.baseframe&&(fe=ee[fe.baseframe.toString()])&&Ae.indexOf(fe.name)===-1;)pe.push(fe),Ae.push(fe.name);for(var be={};fe=pe.pop();)if(fe.layout&&(be.layout=v.extendLayout(be.layout,fe.layout)),fe.data){if(be.data||(be.data=[]),X=fe.traces,!X)for(X=[],$=0;$<fe.data.length;$++)X[$]=$;for(be.traces||(be.traces=[]),$=0;$<fe.data.length;$++)oe=X[$],oe!=null&&(te=be.traces.indexOf(oe),te===-1&&(te=be.data.length,be.traces[te]=oe),be.data[te]=v.extendTrace(be.data[te],fe.data[$]))}return be},v.recomputeFrameHash=function(W){for(var Q=W._transitionData._frameHash={},ee=W._transitionData._frames,$=0;$<ee.length;$++){var X=ee[$];X&&X.name&&(Q[X.name]=X)}},v.extendObjectWithContainers=function(W,Q,ee){var $,X,oe,te,fe,pe,Ae,be,Pe=t.extendDeepNoArrays({},Q||{}),me=t.expandObjectPaths(Pe),Ee={};if(ee&&ee.length)for(oe=0;oe<ee.length;oe++)$=t.nestedProperty(me,ee[oe]),X=$.get(),X===void 0?t.nestedProperty(Ee,ee[oe]).set(null):($.set(null),t.nestedProperty(Ee,ee[oe]).set(X));if(W=t.extendDeepNoArrays(W||{},me),ee&&ee.length){for(oe=0;oe<ee.length;oe++)if(fe=t.nestedProperty(Ee,ee[oe]),Ae=fe.get(),!!Ae){for(pe=t.nestedProperty(W,ee[oe]),be=pe.get(),Array.isArray(be)||(be=[],pe.set(be)),te=0;te<Ae.length;te++){var xe=Ae[te];xe===null?be[te]=null:be[te]=v.extendObjectWithContainers(be[te],xe)}pe.set(be)}}return W},v.dataArrayContainers=["transforms","dimensions"],v.layoutArrayContainers=c.layoutArrayContainers,v.extendTrace=function(W,Q){return v.extendObjectWithContainers(W,Q,v.dataArrayContainers)},v.extendLayout=function(W,Q){return v.extendObjectWithContainers(W,Q,v.layoutArrayContainers)},v.transition=function(W,Q,ee,$,X,oe){var te={redraw:X.redraw},fe={},pe=[];return te.prepareFn=function(){for(var Ae=Array.isArray(Q)?Q.length:0,be=$.slice(0,Ae),Pe=0;Pe<be.length;Pe++){var me=be[Pe],Ee=W._fullData[me],xe=Ee._module;if(xe){if(xe.animatable){var De=xe.basePlotModule.name;fe[De]||(fe[De]=[]),fe[De].push(me)}W.data[be[Pe]]=v.extendTrace(W.data[be[Pe]],Q[Pe])}}var Ve=t.expandObjectPaths(t.extendDeepNoArrays({},ee)),Ze=/^[xy]axis[0-9]*$/;for(var ke in Ve)Ze.test(ke)&&delete Ve[ke].range;v.extendLayout(W.layout,Ve),delete W.calcdata,v.supplyDefaults(W),v.doCalcdata(W);var Ye=t.expandObjectPaths(ee);if(Ye){var lt=W._fullLayout._plots;for(var yt in lt){var He=lt[yt],Fe=He.xaxis,nt=He.yaxis,ot=Fe.range.slice(),ct=nt.range.slice(),ht=null,mt=null,tt=null,Re=null;Array.isArray(Ye[Fe._name+".range"])?ht=Ye[Fe._name+".range"].slice():Array.isArray((Ye[Fe._name]||{}).range)&&(ht=Ye[Fe._name].range.slice()),Array.isArray(Ye[nt._name+".range"])?mt=Ye[nt._name+".range"].slice():Array.isArray((Ye[nt._name]||{}).range)&&(mt=Ye[nt._name].range.slice()),ot&&ht&&(Fe.r2l(ot[0])!==Fe.r2l(ht[0])||Fe.r2l(ot[1])!==Fe.r2l(ht[1]))&&(tt={xr0:ot,xr1:ht}),ct&&mt&&(nt.r2l(ct[0])!==nt.r2l(mt[0])||nt.r2l(ct[1])!==nt.r2l(mt[1]))&&(Re={yr0:ct,yr1:mt}),(tt||Re)&&pe.push(t.extendFlat({plotinfo:He},tt,Re))}}return Promise.resolve()},te.runFn=function(Ae){var be,Pe=W._fullLayout._basePlotModules,me=pe.length,Ee;if(ee)for(Ee=0;Ee<Pe.length;Ee++)Pe[Ee].transitionAxes&&Pe[Ee].transitionAxes(W,pe,oe,Ae);me?(be=t.extendFlat({},oe),be.duration=0,delete fe.cartesian):be=oe;for(var xe in fe){var De=fe[xe],Ve=W._fullData[De[0]]._module;Ve.basePlotModule.plot(W,De,be,Ae)}},se(W,oe,te)},v.transitionFromReact=function(W,Q,ee,$){var X=W._fullLayout,oe=X.transition,te={},fe=[];return te.prepareFn=function(){var pe=X._plots;te.redraw=!1,Q.anim==="some"&&(te.redraw=!0),ee.anim==="some"&&(te.redraw=!0);for(var Ae in pe){var be=pe[Ae],Pe=be.xaxis,me=be.yaxis,Ee=$[Pe._name].range.slice(),xe=$[me._name].range.slice(),De=Pe.range.slice(),Ve=me.range.slice();Pe.setScale(),me.setScale();var Ze=null,ke=null;(Pe.r2l(Ee[0])!==Pe.r2l(De[0])||Pe.r2l(Ee[1])!==Pe.r2l(De[1]))&&(Ze={xr0:Ee,xr1:De}),(me.r2l(xe[0])!==me.r2l(Ve[0])||me.r2l(xe[1])!==me.r2l(Ve[1]))&&(ke={yr0:xe,yr1:Ve}),(Ze||ke)&&fe.push(t.extendFlat({plotinfo:be},Ze,ke))}return Promise.resolve()},te.runFn=function(pe){for(var Ae=W._fullData,be=W._fullLayout,Pe=be._basePlotModules,me,Ee,xe,De=[],Ve=0;Ve<Ae.length;Ve++)De.push(Ve);function Ze(){if(W._fullLayout)for(var Ye=0;Ye<Pe.length;Ye++)Pe[Ye].transitionAxes&&Pe[Ye].transitionAxes(W,fe,me,pe)}function ke(){if(W._fullLayout)for(var Ye=0;Ye<Pe.length;Ye++)Pe[Ye].plot(W,xe,Ee,pe)}fe.length&&Q.anim?oe.ordering==="traces first"?(me=t.extendFlat({},oe,{duration:0}),xe=De,Ee=oe,setTimeout(Ze,oe.duration),ke()):(me=oe,xe=null,Ee=t.extendFlat({},oe,{duration:0}),setTimeout(ke,me.duration),Ze()):fe.length?(me=oe,Ze()):Q.anim&&(xe=De,Ee=oe,ke())},se(W,oe,te)};function se(W,Q,ee){var $=!1;function X(Pe){var me=Promise.resolve();if(!Pe)return me;for(;Pe.length;)me=me.then(Pe.shift());return me}function oe(Pe){if(Pe)for(;Pe.length;)Pe.shift()}function te(){return W.emit("plotly_transitioning",[]),new Promise(function(Pe){W._transitioning=!0,Q.duration>0&&(W._transitioningWithDuration=!0),W._transitionData._interruptCallbacks.push(function(){$=!0}),ee.redraw&&W._transitionData._interruptCallbacks.push(function(){return c.call("redraw",W)}),W._transitionData._interruptCallbacks.push(function(){W.emit("plotly_transitioninterrupted",[])});var me=0,Ee=0;function xe(){return me++,function(){Ee++,!$&&Ee===me&&fe(Pe)}}ee.runFn(xe),setTimeout(xe())})}function fe(Pe){if(W._transitionData)return oe(W._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ee.redraw)return c.call("redraw",W)}).then(function(){W._transitioning=!1,W._transitioningWithDuration=!1,W.emit("plotly_transitioned",[])}).then(Pe)}function pe(){if(W._transitionData)return W._transitioning=!1,X(W._transitionData._interruptCallbacks)}var Ae=[v.previousPromises,pe,ee.prepareFn,v.rehover,v.reselect,te],be=t.syncOrAsync(Ae,W);return(!be||!be.then)&&(be=Promise.resolve()),be.then(function(){return W})}v.doCalcdata=function(W,Q){var ee=u.list(W),$=W._fullData,X=W._fullLayout,oe,te,fe,pe,Ae=new Array($.length),be=(W.calcdata||[]).slice();for(W.calcdata=Ae,X._numBoxes=0,X._numViolins=0,X._violinScaleGroupStats={},W._hmpixcount=0,W._hmlumcount=0,X._piecolormap={},X._sunburstcolormap={},X._treemapcolormap={},X._iciclecolormap={},X._funnelareacolormap={},fe=0;fe<$.length;fe++)if(Array.isArray(Q)&&Q.indexOf(fe)===-1){Ae[fe]=be[fe];continue}for(fe=0;fe<$.length;fe++)oe=$[fe],oe._arrayAttrs=y.findArrayAttributes(oe),oe._extremes={};var Pe=X._subplots.polar||[];for(fe=0;fe<Pe.length;fe++)ee.push(X[Pe[fe]].radialaxis,X[Pe[fe]].angularaxis);for(var me in X._colorAxes){var Ee=X[me];Ee.cauto!==!1&&(delete Ee.cmin,delete Ee.cmax)}var xe=!1;function De(ke){if(oe=$[ke],te=oe._module,oe.visible===!0&&oe.transforms){if(te&&te.calc){var Ye=te.calc(W,oe);Ye[0]&&Ye[0].t&&Ye[0].t._scene&&delete Ye[0].t._scene.dirty}for(pe=0;pe<oe.transforms.length;pe++){var lt=oe.transforms[pe];te=A[lt.type],te&&te.calcTransform&&(oe._hasCalcTransform=!0,xe=!0,te.calcTransform(W,oe,lt))}}}function Ve(ke,Ye){if(oe=$[ke],te=oe._module,!!te.isContainer===Ye){var lt=[];if(oe.visible===!0&&oe._length!==0){delete oe._indexToPoints;var yt=oe.transforms||[];for(pe=yt.length-1;pe>=0;pe--)if(yt[pe].enabled){oe._indexToPoints=yt[pe]._indexToPoints;break}te&&te.calc&&(lt=te.calc(W,oe))}(!Array.isArray(lt)||!lt[0])&&(lt=[{x:n,y:n}]),lt[0].t||(lt[0].t={}),lt[0].trace=oe,Ae[ke]=lt}}for(j(ee,$,X),fe=0;fe<$.length;fe++)Ve(fe,!0);for(fe=0;fe<$.length;fe++)De(fe);for(xe&&j(ee,$,X),fe=0;fe<$.length;fe++)Ve(fe,!0);for(fe=0;fe<$.length;fe++)Ve(fe,!1);ie(W);var Ze=K(ee,W);if(Ze.length){for(X._numBoxes=0,X._numViolins=0,fe=0;fe<Ze.length;fe++)Ve(Ze[fe],!0);for(fe=0;fe<Ze.length;fe++)Ve(Ze[fe],!1);ie(W)}c.getComponentMethod("fx","calc")(W),c.getComponentMethod("errorbars","calc")(W)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function K(W,Q){var ee=[],$,X,oe,te,fe;function pe(Oe,Ne,ze){var et=Ne._id.charAt(0);if(Oe==="histogram2dcontour"){var Le=Ne._counterAxes[0],Te=u.getFromId(Q,Le),ye=et==="x"||Le==="x"&&Te.type==="category",Se=et==="y"||Le==="y"&&Te.type==="category";return function(Ke,rt){return Ke===0||rt===0||ye&&Ke===ze[rt].length-1||Se&&rt===ze.length-1?-1:(et==="y"?rt:Ke)-1}}else return function(Ke,rt){return et==="y"?rt:Ke}}var Ae={min:function(Oe){return t.aggNums(Math.min,null,Oe)},max:function(Oe){return t.aggNums(Math.max,null,Oe)},sum:function(Oe){return t.aggNums(function(Ne,ze){return Ne+ze},null,Oe)},total:function(Oe){return t.aggNums(function(Ne,ze){return Ne+ze},null,Oe)},mean:function(Oe){return t.mean(Oe)},median:function(Oe){return t.median(Oe)}};function be(Oe,Ne){return Oe[1]-Ne[1]}function Pe(Oe,Ne){return Ne[1]-Oe[1]}for($=0;$<W.length;$++){var me=W[$];if(me.type==="category"){var Ee=me.categoryorder.match(ue);if(Ee){var xe=Ee[1],De=Ee[2],Ve=me._id.charAt(0),Ze=Ve==="x",ke=[];for(X=0;X<me._categories.length;X++)ke.push([me._categories[X],[]]);for(X=0;X<me._traceIndices.length;X++){var Ye=me._traceIndices[X],lt=Q._fullData[Ye];if(lt.visible===!0){var yt=lt.type;c.traceIs(lt,"histogram")&&(delete lt._xautoBinFinished,delete lt._yautoBinFinished);var He=yt==="splom",Fe=yt==="scattergl",nt=Q.calcdata[Ye];for(oe=0;oe<nt.length;oe++){var ot=nt[oe],ct,ht;if(He){var mt=lt._axesDim[me._id];if(!Ze){var tt=lt._diag[mt][0];tt&&(me=Q._fullLayout[u.id2name(tt)])}var Re=ot.trace.dimensions[mt].values;for(te=0;te<Re.length;te++)for(ct=me._categoriesMap[Re[te]],fe=0;fe<ot.trace.dimensions.length;fe++)if(fe!==mt){var Ge=ot.trace.dimensions[fe];ke[ct][1].push(Ge.values[te])}}else if(Fe){for(te=0;te<ot.t.x.length;te++)Ze?(ct=ot.t.x[te],ht=ot.t.y[te]):(ct=ot.t.y[te],ht=ot.t.x[te]),ke[ct][1].push(ht);ot.t&&ot.t._scene&&delete ot.t._scene.dirty}else if(ot.hasOwnProperty("z")){ht=ot.z;var Je=pe(lt.type,me,ht);for(te=0;te<ht.length;te++)for(fe=0;fe<ht[te].length;fe++)ct=Je(fe,te),ct+1&&ke[ct][1].push(ht[te][fe])}else for(ct=ot.p,ct===void 0&&(ct=ot[Ve]),ht=ot.s,ht===void 0&&(ht=ot.v),ht===void 0&&(ht=Ze?ot.y:ot.x),Array.isArray(ht)||(ht===void 0?ht=[]:ht=[ht]),te=0;te<ht.length;te++)ke[ct][1].push(ht[te])}}}me._categoriesValue=ke;var Xe=[];for(X=0;X<ke.length;X++)Xe.push([ke[X][0],Ae[xe](ke[X][1])]);Xe.sort(De==="descending"?Pe:be),me._categoriesAggregatedValue=Xe,me._initialCategories=Xe.map(function(Oe){return Oe[0]}),ee=ee.concat(me.sortByInitialCategories())}}}return ee}function j(W,Q,ee){var $={};function X(pe){pe.clearCalc(),pe.type==="multicategory"&&pe.setupMultiCategory(Q),$[pe._id]=1}t.simpleMap(W,X);for(var oe=ee._axisMatchGroups||[],te=0;te<oe.length;te++)for(var fe in oe[te])$[fe]||X(ee[u.id2name(fe)])}function ie(W){var Q=W._fullLayout,ee=Q._visibleModules,$={},X,oe,te;for(oe=0;oe<ee.length;oe++){var fe=ee[oe],pe=fe.crossTraceCalc;if(pe){var Ae=fe.basePlotModule.name;$[Ae]?t.pushUnique($[Ae],pe):$[Ae]=[pe]}}for(te in $){var be=$[te],Pe=Q._subplots[te];if(Array.isArray(Pe))for(X=0;X<Pe.length;X++){var me=Pe[X],Ee=te==="cartesian"?Q._plots[me]:Q[me];for(oe=0;oe<be.length;oe++)be[oe](W,Ee,me)}else for(oe=0;oe<be.length;oe++)be[oe](W)}}v.rehover=function(W){W._fullLayout._rehover&&W._fullLayout._rehover()},v.redrag=function(W){W._fullLayout._redrag&&W._fullLayout._redrag()},v.reselect=function(W){var Q=W._fullLayout,ee=(W.layout||{}).selections,$=Q._previousSelections;Q._previousSelections=ee;var X=Q._reselect||JSON.stringify(ee)!==JSON.stringify($);c.getComponentMethod("selections","reselect")(W,X)},v.generalUpdatePerTraceModule=function(W,Q,ee,$){var X=Q.traceHash,oe={},te;for(te=0;te<ee.length;te++){var fe=ee[te],pe=fe[0].trace;pe.visible&&(oe[pe.type]=oe[pe.type]||[],oe[pe.type].push(fe))}for(var Ae in X)if(!oe[Ae]){var be=X[Ae][0],Pe=be[0].trace;Pe.visible=!1,oe[Ae]=[be]}for(var me in oe){var Ee=oe[me],xe=Ee[0][0].trace._module;xe.plot(W,Q,t.filterVisible(Ee),$)}Q.traceHash=oe},v.plotBasePlot=function(W,Q,ee,$,X){var oe=c.getModule(W),te=w(Q.calcdata,oe)[0];oe.plot(Q,te,$,X)},v.cleanBasePlot=function(W,Q,ee,$,X){var oe=X._has&&X._has(W),te=ee._has&&ee._has(W);oe&&!te&&X["_"+W+"layer"].selectAll("g.trace").remove()}},39360:function(V){"use strict";V.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(V,U,e){"use strict";var x=e(3400),P=e(92065).tester,i=x.findIndexOfMin,L=x.isAngleInsideSector,C=x.angleDelta,c=x.angleDist;function y(o,v,A,b,M){if(!L(v,b))return!1;var m,S;A[0]<A[1]?(m=A[0],S=A[1]):(m=A[1],S=A[0]);var T=P(u(m,b[0],b[1],M)),a=P(u(S,b[0],b[1],M)),E=[o*Math.cos(v),o*Math.sin(v)];return a.contains(E)&&!T.contains(E)}function r(o,v,A,b){var M,m,S=b[0],T=b[1],a=g(Math.sin(v)-Math.sin(o)),E=g(Math.cos(v)-Math.cos(o)),p=Math.tan(A),k=g(1/p),R=a/E,B=T-R*S;return k?a&&E?(M=B/(p-R),m=p*M):E?(M=T*k,m=T):(M=S,m=S*p):a&&E?(M=0,m=B):E?(M=0,m=T):M=m=NaN,[M,m]}function t(o,v,A,b){var M=-v*A,m=v*v+1,S=2*(v*M-A),T=M*M+A*A-o*o,a=Math.sqrt(S*S-4*m*T),E=(-S+a)/(2*m),p=(-S-a)/(2*m);return[[E,v*E+M+b],[p,v*p+M+b]]}function s(o,v){var A=v.length,b=new Array(A+1),M;for(M=0;M<A;M++){var m=v[M];b[M]=[o*Math.cos(m),o*Math.sin(m)]}return b[M]=b[0].slice(),b}function n(o,v,A,b){var M=b.length,m=[],S,T;function a(z){return[o*Math.cos(z),o*Math.sin(z)]}function E(z,N,Y){return r(z,N,Y,a(z))}function p(z){return x.mod(z,M)}function k(z){return L(z,[v,A])}var R=i(b,function(z){return k(z)?c(z,v):1/0}),B=E(b[R],b[p(R-1)],v);for(m.push(B),S=R,T=0;T<M;S++,T++){var F=b[p(S)];if(!k(F))break;m.push(a(F))}var _=i(b,function(z){return k(z)?c(z,A):1/0}),O=E(b[_],b[p(_+1)],A);return m.push(O),m.push([0,0]),m.push(m[0].slice()),m}function u(o,v,A,b){return x.isFullCircle([v,A])?s(o,b):n(o,v,A,b)}function l(o,v,A,b){for(var M=1/0,m=1/0,S=u(o,v,A,b),T=0;T<S.length;T++){var a=S[T];M=Math.min(M,a[0]),m=Math.min(m,-a[1])}return[M,m]}function f(o,v){var A=function(m){var S=C(m,o);return S>0?S:1/0},b=i(v,A),M=x.mod(b+1,v.length);return[v[b],v[M]]}function g(o){return Math.abs(o)>1e-10?o:0}function h(o,v,A){v=v||0,A=A||0;for(var b=o.length,M=new Array(b),m=0;m<b;m++){var S=o[m];M[m]=[v+S[0],A-S[1]]}return M}function w(o,v,A,b,M,m){var S=u(o,v,A,b);return"M"+h(S,M,m).join("L")}function d(o,v,A,b,M,m,S){var T,a;o<v?(T=o,a=v):(T=v,a=o);var E=h(u(T,A,b,M),m,S),p=h(u(a,A,b,M),m,S);return"M"+p.reverse().join("L")+"M"+E.join("L")}V.exports={isPtInsidePolygon:y,findPolygonOffset:l,findEnclosingVertexAngles:f,findIntersectionXY:r,findXYatLength:t,clampTiny:g,pathPolygon:w,pathPolygonAnnulus:d}},40872:function(V,U,e){"use strict";var x=e(84888).KY,P=e(3400).counterRegex,i=e(62400),L=e(39360),C=L.attr,c=L.name,y=P(c),r={};r[C]={valType:"subplotid",dflt:c,editType:"calc"};function t(n){for(var u=n._fullLayout,l=n.calcdata,f=u._subplots[c],g=0;g<f.length;g++){var h=f[g],w=x(l,c,h),d=u[h]._subplot;d||(d=i(n,h),u[h]._subplot=d),d.plot(w,u,n._promises)}}function s(n,u,l,f){for(var g=f._subplots[c]||[],h=f._has&&f._has("gl"),w=u._has&&u._has("gl"),d=h&&!w,o=0;o<g.length;o++){var v=g[o],A=f[v]._subplot;if(!u[v]&&A){A.framework.remove(),A.layers["radial-axis-title"].remove();for(var b in A.clipPaths)A.clipPaths[b].remove()}d&&A._scene&&(A._scene.destroy(),A._scene=null)}}V.exports={attr:C,name:c,idRoot:c,idRegex:y,attrRegex:y,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:s,toSVG:e(57952).toSVG}},95300:function(V,U,e){"use strict";var x=e(22548),P=e(94724),i=e(86968).u,L=e(3400).extendFlat,C=e(67824).overrideAll,c=C({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),y=C({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:P.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(r,c,y);var t={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,c,y),V.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:x.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(31780),L=e(168),C=e(84888).op,c=e(26332),y=e(25404),r=e(95936),t=e(42568),s=e(22416),n=e(42136),u=e(76808),l=e(52976),f=e(95300),g=e(57696),h=e(39360),w=h.axisNames;function d(v,A,b,M){var m=b("bgcolor");M.bgColor=P.combine(m,M.paper_bgcolor);var S=b("sector");b("hole");var T=C(M.fullData,h.name,M.id),a=M.layoutOut,E;function p(Q,ee){return b(E+"."+Q,ee)}for(var k=0;k<w.length;k++){E=w[k],x.isPlainObject(v[E])||(v[E]={});var R=v[E],B=i.newContainer(A,E);B._id=B._name=E,B._attr=M.id+"."+E,B._traceIndices=T.map(function(Q){return Q._expandedIndex});var F=h.axisName2dataArray[E],_=o(R,B,p,T,F,M);s(R,B,p,{axData:T,dataAttr:F});var O=p("visible");switch(g(B,A,a),p("uirevision",A.uirevision),B._m=1,E){case"radialaxis":p("minallowed"),p("maxallowed");var z=p("range"),N=B.getAutorangeDflt(z),Y=p("autorange",N),J;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(Y==="reversed"||Y===!0)||z[0]!==null&&(Y==="min"||Y==="max reversed")||z[1]!==null&&(Y==="max"||Y==="min reversed"))&&(z=void 0,delete B.range,B.autorange=!0,J=!0),J||(N=B.getAutorangeDflt(z),Y=p("autorange",N)),R.autorange=Y,Y&&(u(p,Y,z),(_==="linear"||_==="-")&&p("rangemode"),B.isReversed()&&(B._m=-1)),B.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(_==="date"){x.log("Polar plots do not support date angular axes yet.");for(var ae=0;ae<T.length;ae++)T[ae].visible=!1;_=R.type=B.type="linear"}p(_==="linear"?"thetaunit":"period");var se=p("direction");p("rotation",{counterclockwise:0,clockwise:90}[se]);break}if(t(R,B,p,B.type,{tickSuffixDflt:B.thetaunit==="degrees"?"\xB0":void 0}),O){var ue,K,j,ie,W=M.font||{};ue=p("color"),K=ue===R.color?ue:W.color,j=W.size,ie=W.family,c(R,B,p,B.type),r(R,B,p,B.type,{font:{color:K,size:j,family:ie},noAutotickangles:E==="angularaxis"}),y(R,B,p,{outerTicks:!0}),n(R,B,p,{dfltColor:ue,bgColor:M.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[E]}),p("layer"),E==="radialaxis"&&(p("side"),p("angle",S[0]),p("title.text"),x.coerceFont(p,"title.font",{color:K,size:x.bigFont(j),family:ie}))}_!=="category"&&p("hoverformat"),B._input=R}A.angularaxis.type==="category"&&b("gridshape")}function o(v,A,b,M,m,S){var T=b("autotypenumbers",S.autotypenumbersDflt),a=b("type");if(a==="-"){for(var E,p=0;p<M.length;p++)if(M[p].visible){E=M[p];break}E&&E[m]&&(A.type=l(E[m],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),A.type==="-"?A.type="linear":v.type=A.type}return A.type}V.exports=function(A,b,M){L(A,b,M,{type:h.name,attributes:f,handleDefaults:d,font:b.font,autotypenumbersDflt:b.autotypenumbers,paper_bgcolor:b.paper_bgcolor,fullData:M,layoutOut:b})}},62400:function(V,U,e){"use strict";var x=e(33428),P=e(49760),i=e(24040),L=e(3400),C=L.strRotate,c=L.strTranslate,y=e(76308),r=e(43616),t=e(7316),s=e(54460),n=e(78344),u=e(57696),l=e(19280).doAutoRange,f=e(51184),g=e(86476),h=e(93024),w=e(81668),d=e(22676).prepSelect,o=e(22676).selectOnClick,v=e(22676).clearOutline,A=e(93972),b=e(73696),M=e(39172).redrawReglTraces,m=e(84284).MID_SHIFT,S=e(39360),T=e(57384),a=e(36416),E=a.smith,p=a.reactanceArc,k=a.resistanceArc,R=a.smithTransform,B=L._,F=L.mod,_=L.deg2rad,O=L.rad2deg;function z(ue,K,j){this.isSmith=j||!1,this.id=K,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ie=ue._fullLayout,W="clip"+ie._uid+K;this.clipIds.forTraces=W+"-for-traces",this.clipPaths.forTraces=ie._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ie["_"+(j?"smith":"polar")+"layer"].append("g").attr("class",K),this.getHole=function(Q){return this.isSmith?0:Q.hole},this.getSector=function(Q){return this.isSmith?[0,360]:Q.sector},this.getRadial=function(Q){return this.isSmith?Q.realaxis:Q.radialaxis},this.getAngular=function(Q){return this.isSmith?Q.imaginaryaxis:Q.angularaxis},j||(this.radialTickLayout=null,this.angularTickLayout=null)}var N=z.prototype;V.exports=function(K,j,ie){return new z(K,j,ie)},N.plot=function(ue,K){for(var j=this,ie=K[j.id],W=!1,Q=0;Q<ue.length;Q++){var ee=ue[Q][0].trace;if(ee.cliponaxis===!1){W=!0;break}}j._hasClipOnAxisFalse=W,j.updateLayers(K,ie),j.updateLayout(K,ie),t.generalUpdatePerTraceModule(j.gd,j,ue,ie),j.updateFx(K,ie),j.isSmith&&(delete ie.realaxis.range,delete ie.imaginaryaxis.range)},N.updateLayers=function(ue,K){var j=this,ie=j.isSmith,W=j.layers,Q=j.getRadial(K),ee=j.getAngular(K),$=S.layerNames,X=$.indexOf("frontplot"),oe=$.slice(0,X),te=ee.layer==="below traces",fe=Q.layer==="below traces";te&&oe.push("angular-line"),fe&&oe.push("radial-line"),te&&oe.push("angular-axis"),fe&&oe.push("radial-axis"),oe.push("frontplot"),te||oe.push("angular-line"),fe||oe.push("radial-line"),te||oe.push("angular-axis"),fe||oe.push("radial-axis");var pe=(ie?"smith":"polar")+"sublayer",Ae=j.framework.selectAll("."+pe).data(oe,String);Ae.enter().append("g").attr("class",function(be){return pe+" "+be}).each(function(be){var Pe=W[be]=x.select(this);switch(be){case"frontplot":ie||Pe.append("g").classed("barlayer",!0),Pe.append("g").classed("scatterlayer",!0);break;case"backplot":Pe.append("g").classed("maplayer",!0);break;case"plotbg":W.bg=Pe.append("path");break;case"radial-grid":Pe.style("fill","none");break;case"angular-grid":Pe.style("fill","none");break;case"radial-line":Pe.append("line").style("fill","none");break;case"angular-line":Pe.append("path").style("fill","none");break}}),Ae.order()},N.updateLayout=function(ue,K){var j=this,ie=j.layers,W=ue._size,Q=j.getRadial(K),ee=j.getAngular(K),$=K.domain.x,X=K.domain.y;j.xOffset=W.l+W.w*$[0],j.yOffset=W.t+W.h*(1-X[1]);var oe=j.xLength=W.w*($[1]-$[0]),te=j.yLength=W.h*(X[1]-X[0]),fe=j.getSector(K);j.sectorInRad=fe.map(_);var pe=j.sectorBBox=J(fe),Ae=pe[2]-pe[0],be=pe[3]-pe[1],Pe=te/oe,me=Math.abs(be/Ae),Ee,xe,De,Ve,Ze;Pe>me?(Ee=oe,xe=oe*me,Ze=(te-xe)/W.h/2,De=[$[0],$[1]],Ve=[X[0]+Ze,X[1]-Ze]):(Ee=te/me,xe=te,Ze=(oe-Ee)/W.w/2,De=[$[0]+Ze,$[1]-Ze],Ve=[X[0],X[1]]),j.xLength2=Ee,j.yLength2=xe,j.xDomain2=De,j.yDomain2=Ve;var ke=j.xOffset2=W.l+W.w*De[0],Ye=j.yOffset2=W.t+W.h*(1-Ve[1]),lt=j.radius=Ee/Ae,yt=j.innerRadius=j.getHole(K)*lt,He=j.cx=ke-lt*pe[0],Fe=j.cy=Ye+lt*pe[3],nt=j.cxx=He-ke,ot=j.cyy=Fe-Ye,ct=Q.side,ht;ct==="counterclockwise"?(ht=ct,ct="top"):ct==="clockwise"&&(ht=ct,ct="bottom"),j.radialAxis=j.mockAxis(ue,K,Q,{_id:"x",side:ct,_trueSide:ht,domain:[yt/W.w,lt/W.w]}),j.angularAxis=j.mockAxis(ue,K,ee,{side:"right",domain:[0,Math.PI],autorange:!1}),j.doAutoRange(ue,K),j.updateAngularAxis(ue,K),j.updateRadialAxis(ue,K),j.updateRadialAxisTitle(ue,K),j.xaxis=j.mockCartesianAxis(ue,K,{_id:"x",domain:De}),j.yaxis=j.mockCartesianAxis(ue,K,{_id:"y",domain:Ve});var mt=j.pathSubplot();j.clipPaths.forTraces.select("path").attr("d",mt).attr("transform",c(nt,ot)),ie.frontplot.attr("transform",c(ke,Ye)).call(r.setClipUrl,j._hasClipOnAxisFalse?null:j.clipIds.forTraces,j.gd),ie.bg.attr("d",mt).attr("transform",c(He,Fe)).call(y.fill,K.bgcolor)},N.mockAxis=function(ue,K,j,ie){var W=L.extendFlat({},j,ie);return u(W,K,ue),W},N.mockCartesianAxis=function(ue,K,j){var ie=this,W=ie.isSmith,Q=j._id,ee=L.extendFlat({type:"linear"},j);n(ee,ue);var $={x:[0,2],y:[1,3]};return ee.setRange=function(){var X=ie.sectorBBox,oe=$[Q],te=ie.radialAxis._rl,fe=(te[1]-te[0])/(1-ie.getHole(K));ee.range=[X[oe[0]]*fe,X[oe[1]]*fe]},ee.isPtWithinRange=Q==="x"&&!W?function(X){return ie.isPtInside(X)}:function(){return!0},ee.setRange(),ee.setScale(),ee},N.doAutoRange=function(ue,K){var j=this,ie=j.gd,W=j.radialAxis,Q=j.getRadial(K);l(ie,W);var ee=W.range;if(Q.range=ee.slice(),Q._input.range=ee.slice(),W._rl=[W.r2l(ee[0],null,"gregorian"),W.r2l(ee[1],null,"gregorian")],W.minallowed!==void 0){var $=W.r2l(W.minallowed);W._rl[0]>W._rl[1]?W._rl[1]=Math.max(W._rl[1],$):W._rl[0]=Math.max(W._rl[0],$)}if(W.maxallowed!==void 0){var X=W.r2l(W.maxallowed);W._rl[0]<W._rl[1]?W._rl[1]=Math.min(W._rl[1],X):W._rl[0]=Math.min(W._rl[0],X)}},N.updateRadialAxis=function(ue,K){var j=this,ie=j.gd,W=j.layers,Q=j.radius,ee=j.innerRadius,$=j.cx,X=j.cy,oe=j.getRadial(K),te=F(j.getSector(K)[0],360),fe=j.radialAxis,pe=ee<Q,Ae=j.isSmith;Ae||(j.fillViewInitialKey("radialaxis.angle",oe.angle),j.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&te>90&&te<=270&&(fe.tickangle=180);var be=Ae?function(lt){var yt=R(j,E([lt.x,0]));return c(yt[0]-$,yt[1]-X)}:function(lt){return c(fe.l2p(lt.x)+ee,0)},Pe=Ae?function(lt){return k(j,lt.x,-1/0,1/0)}:function(lt){return j.pathArc(fe.r2p(lt.x)+ee)},me=Y(oe);if(j.radialTickLayout!==me&&(W["radial-axis"].selectAll(".xtick").remove(),j.radialTickLayout=me),pe){fe.setScale();var Ee=0,xe=Ae?(fe.tickvals||[]).filter(function(lt){return lt>=0}).map(function(lt){return s.tickText(fe,lt,!0,!1)}):s.calcTicks(fe),De=Ae?xe:s.clipEnds(fe,xe),Ve=s.getTickSigns(fe)[2];Ae&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Ve=-Ve),fe.ticks==="top"&&fe.side==="top"&&(Ee=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Ee=fe.ticklen)),s.drawTicks(ie,fe,{vals:xe,layer:W["radial-axis"],path:s.makeTickPath(fe,0,Ve),transFn:be,crisp:!1}),s.drawGrid(ie,fe,{vals:De,layer:W["radial-grid"],path:Pe,transFn:L.noop,crisp:!1}),s.drawLabels(ie,fe,{vals:xe,layer:W["radial-axis"],transFn:be,labelFns:s.makeLabelFns(fe,Ee)})}var Ze=j.radialAxisAngle=j.vangles?O(ae(_(oe.angle),j.vangles)):oe.angle,ke=c($,X),Ye=ke+C(-Ze);se(W["radial-axis"],pe&&(oe.showticklabels||oe.ticks),{transform:Ye}),se(W["radial-grid"],pe&&oe.showgrid,{transform:Ae?"":ke}),se(W["radial-line"].select("line"),pe&&oe.showline,{x1:Ae?-Q:ee,y1:0,x2:Q,y2:0,transform:Ye}).attr("stroke-width",oe.linewidth).call(y.stroke,oe.linecolor)},N.updateRadialAxisTitle=function(ue,K,j){if(!this.isSmith){var ie=this,W=ie.gd,Q=ie.radius,ee=ie.cx,$=ie.cy,X=ie.getRadial(K),oe=ie.id+"title",te=0;if(X.title){var fe=r.bBox(ie.layers["radial-axis"].node()).height,pe=X.title.font.size,Ae=X.side;te=Ae==="top"?pe:Ae==="counterclockwise"?-(fe+pe*.4):fe+pe*.8}var be=j!==void 0?j:ie.radialAxisAngle,Pe=_(be),me=Math.cos(Pe),Ee=Math.sin(Pe),xe=ee+Q/2*me+te*Ee,De=$-Q/2*Ee+te*me;ie.layers["radial-axis-title"]=w.draw(W,oe,{propContainer:X,propName:ie.id+".radialaxis.title",placeholder:B(W,"Click to enter radial axis title"),attributes:{x:xe,y:De,"text-anchor":"middle"},transform:{rotate:-be}})}},N.updateAngularAxis=function(ue,K){var j=this,ie=j.gd,W=j.layers,Q=j.radius,ee=j.innerRadius,$=j.cx,X=j.cy,oe=j.getAngular(K),te=j.angularAxis,fe=j.isSmith;fe||(j.fillViewInitialKey("angularaxis.rotation",oe.rotation),te.setGeometry(),te.setScale());var pe=fe?function(yt){var He=R(j,E([0,yt.x]));return Math.atan2(He[0]-$,He[1]-X)-Math.PI/2}:function(yt){return te.t2g(yt.x)};te.type==="linear"&&te.thetaunit==="radians"&&(te.tick0=O(te.tick0),te.dtick=O(te.dtick));var Ae=function(yt){return c($+Q*Math.cos(yt),X-Q*Math.sin(yt))},be=fe?function(yt){var He=R(j,E([0,yt.x]));return c(He[0],He[1])}:function(yt){return Ae(pe(yt))},Pe=fe?function(yt){var He=R(j,E([0,yt.x])),Fe=Math.atan2(He[0]-$,He[1]-X)-Math.PI/2;return c(He[0],He[1])+C(-O(Fe))}:function(yt){var He=pe(yt);return Ae(He)+C(-O(He))},me=fe?function(yt){return p(j,yt.x,0,1/0)}:function(yt){var He=pe(yt),Fe=Math.cos(He),nt=Math.sin(He);return"M"+[$+ee*Fe,X-ee*nt]+"L"+[$+Q*Fe,X-Q*nt]},Ee=s.makeLabelFns(te,0),xe=Ee.labelStandoff,De={};De.xFn=function(yt){var He=pe(yt);return Math.cos(He)*xe},De.yFn=function(yt){var He=pe(yt),Fe=Math.sin(He)>0?.2:1;return-Math.sin(He)*(xe+yt.fontSize*Fe)+Math.abs(Math.cos(He))*(yt.fontSize*m)},De.anchorFn=function(yt){var He=pe(yt),Fe=Math.cos(He);return Math.abs(Fe)<.1?"middle":Fe>0?"start":"end"},De.heightFn=function(yt,He,Fe){var nt=pe(yt);return-.5*(1+Math.sin(nt))*Fe};var Ve=Y(oe);j.angularTickLayout!==Ve&&(W["angular-axis"].selectAll("."+te._id+"tick").remove(),j.angularTickLayout=Ve);var Ze=fe?[1/0].concat(te.tickvals||[]).map(function(yt){return s.tickText(te,yt,!0,!1)}):s.calcTicks(te);fe&&(Ze[0].text="\u221E",Ze[0].fontSize*=1.75);var ke;if(K.gridshape==="linear"?(ke=Ze.map(pe),L.angleDelta(ke[0],ke[1])<0&&(ke=ke.slice().reverse())):ke=null,j.vangles=ke,te.type==="category"&&(Ze=Ze.filter(function(yt){return L.isAngleInsideSector(pe(yt),j.sectorInRad)})),te.visible){var Ye=te.ticks==="inside"?-1:1,lt=(te.linewidth||1)/2;s.drawTicks(ie,te,{vals:Ze,layer:W["angular-axis"],path:"M"+Ye*lt+",0h"+Ye*te.ticklen,transFn:Pe,crisp:!1}),s.drawGrid(ie,te,{vals:Ze,layer:W["angular-grid"],path:me,transFn:L.noop,crisp:!1}),s.drawLabels(ie,te,{vals:Ze,layer:W["angular-axis"],repositionOnUpdate:!0,transFn:be,labelFns:De})}se(W["angular-line"].select("path"),oe.showline,{d:j.pathSubplot(),transform:c($,X)}).attr("stroke-width",oe.linewidth).call(y.stroke,oe.linecolor)},N.updateFx=function(ue,K){if(!this.gd._context.staticPlot){var j=!this.isSmith;j&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,K,0),this.updateRadialDrag(ue,K,1)),this.updateHoverAndMainDrag(ue)}},N.updateHoverAndMainDrag=function(ue){var K=this,j=K.isSmith,ie=K.gd,W=K.layers,Q=ue._zoomlayer,ee=S.MINZOOM,$=S.OFFEDGE,X=K.radius,oe=K.innerRadius,te=K.cx,fe=K.cy,pe=K.cxx,Ae=K.cyy,be=K.sectorInRad,Pe=K.vangles,me=K.radialAxis,Ee=T.clampTiny,xe=T.findXYatLength,De=T.findEnclosingVertexAngles,Ve=S.cornerHalfWidth,Ze=S.cornerLen/2,ke,Ye,lt=f.makeDragger(W,"path","maindrag",ue.dragmode===!1?"none":"crosshair");x.select(lt).attr("d",K.pathSubplot()).attr("transform",c(te,fe)),lt.onmousemove=function(wt){h.hover(ie,wt,K.id),ie._fullLayout._lasthover=lt,ie._fullLayout._hoversubplot=K.id},lt.onmouseout=function(wt){ie._dragging||g.unhover(ie,wt)};var yt={element:lt,gd:ie,subplot:K.id,plotinfo:{id:K.id,xaxis:K.xaxis,yaxis:K.yaxis},xaxes:[K.xaxis],yaxes:[K.yaxis]},He,Fe,nt,ot,ct,ht,mt,tt,Re;function Ge(wt,Et){return Math.sqrt(wt*wt+Et*Et)}function Je(wt,Et){return Ge(wt-pe,Et-Ae)}function Xe(wt,Et){return Math.atan2(Ae-Et,wt-pe)}function Oe(wt,Et){return[wt*Math.cos(Et),wt*Math.sin(-Et)]}function Ne(wt,Et){if(wt===0)return K.pathSector(2*Ve);var Wt=Ze/wt,vr=Et-Wt,dt=Et+Wt,Yt=Math.max(0,Math.min(wt,X)),jt=Yt-Ve,gr=Yt+Ve;return"M"+Oe(jt,vr)+"A"+[jt,jt]+" 0,0,0 "+Oe(jt,dt)+"L"+Oe(gr,dt)+"A"+[gr,gr]+" 0,0,1 "+Oe(gr,vr)+"Z"}function ze(wt,Et,Wt){if(wt===0)return K.pathSector(2*Ve);var vr=Oe(wt,Et),dt=Oe(wt,Wt),Yt=Ee((vr[0]+dt[0])/2),jt=Ee((vr[1]+dt[1])/2),gr,sr;if(Yt&&jt){var gt=jt/Yt,st=-1/gt,xt=xe(Ve,gt,Yt,jt);gr=xe(Ze,st,xt[0][0],xt[0][1]),sr=xe(Ze,st,xt[1][0],xt[1][1])}else{var Mt,Rt;jt?(Mt=Ze,Rt=Ve):(Mt=Ve,Rt=Ze),gr=[[Yt-Mt,jt-Rt],[Yt+Mt,jt-Rt]],sr=[[Yt-Mt,jt+Rt],[Yt+Mt,jt+Rt]]}return"M"+gr.join("L")+"L"+sr.reverse().join("L")+"Z"}function et(){nt=null,ot=null,ct=K.pathSubplot(),ht=!1;var wt=ie._fullLayout[K.id];mt=P(wt.bgcolor).getLuminance(),tt=f.makeZoombox(Q,mt,te,fe,ct),tt.attr("fill-rule","evenodd"),Re=f.makeCorners(Q,te,fe),v(ie)}function Le(wt,Et){return Et=Math.max(Math.min(Et,X),oe),wt<$?wt=0:X-wt<$?wt=X:Et<$?Et=0:X-Et<$&&(Et=X),Math.abs(Et-wt)>ee?(wt<Et?(nt=wt,ot=Et):(nt=Et,ot=wt),!0):(nt=null,ot=null,!1)}function Te(wt,Et){wt=wt||ct,Et=Et||"M0,0Z",tt.attr("d",wt),Re.attr("d",Et),f.transitionZoombox(tt,Re,ht,mt),ht=!0;var Wt={};Lt(Wt),ie.emit("plotly_relayouting",Wt)}function ye(wt,Et){wt=wt*ke,Et=Et*Ye;var Wt=He+wt,vr=Fe+Et,dt=Je(He,Fe),Yt=Math.min(Je(Wt,vr),X),jt=Xe(He,Fe),gr,sr;Le(dt,Yt)&&(gr=ct+K.pathSector(ot),nt&&(gr+=K.pathSector(nt)),sr=Ne(nt,jt)+Ne(ot,jt)),Te(gr,sr)}function Se(wt,Et,Wt,vr){var dt=T.findIntersectionXY(Wt,vr,Wt,[wt-pe,Ae-Et]);return Ge(dt[0],dt[1])}function Ke(wt,Et){var Wt=He+wt,vr=Fe+Et,dt=Xe(He,Fe),Yt=Xe(Wt,vr),jt=De(dt,Pe),gr=De(Yt,Pe),sr=Se(He,Fe,jt[0],jt[1]),gt=Math.min(Se(Wt,vr,gr[0],gr[1]),X),st,xt;Le(sr,gt)&&(st=ct+K.pathSector(ot),nt&&(st+=K.pathSector(nt)),xt=[ze(nt,jt[0],jt[1]),ze(ot,jt[0],jt[1])].join(" ")),Te(st,xt)}function rt(){if(f.removeZoombox(ie),!(nt===null||ot===null)){var wt={};Lt(wt),f.showDoubleClickNotifier(ie),i.call("_guiRelayout",ie,wt)}}function Lt(wt){var Et=me._rl,Wt=(Et[1]-Et[0])/(1-oe/X)/X,vr=[Et[0]+(nt-oe)*Wt,Et[0]+(ot-oe)*Wt];wt[K.id+".radialaxis.range"]=vr}function It(wt,Et){var Wt=ie._fullLayout.clickmode;if(f.removeZoombox(ie),wt===2){var vr={};for(var dt in K.viewInitial)vr[K.id+"."+dt]=K.viewInitial[dt];ie.emit("plotly_doubleclick",null),i.call("_guiRelayout",ie,vr)}Wt.indexOf("select")>-1&&wt===1&&o(Et,ie,[K.xaxis],[K.yaxis],K.id,yt),Wt.indexOf("event")>-1&&h.click(ie,Et,K.id)}yt.prepFn=function(wt,Et,Wt){var vr=ie._fullLayout.dragmode,dt=lt.getBoundingClientRect();ie._fullLayout._calcInverseTransform(ie);var Yt=ie._fullLayout._invTransform;ke=ie._fullLayout._invScaleX,Ye=ie._fullLayout._invScaleY;var jt=L.apply3DTransform(Yt)(Et-dt.left,Wt-dt.top);if(He=jt[0],Fe=jt[1],Pe){var gr=T.findPolygonOffset(X,be[0],be[1],Pe);He+=pe+gr[0],Fe+=Ae+gr[1]}switch(vr){case"zoom":yt.clickFn=It,j||(Pe?yt.moveFn=Ke:yt.moveFn=ye,yt.doneFn=rt,et(wt,Et,Wt));break;case"select":case"lasso":d(wt,Et,Wt,yt,vr);break}},g.init(yt)},N.updateRadialDrag=function(ue,K,j){var ie=this,W=ie.gd,Q=ie.layers,ee=ie.radius,$=ie.innerRadius,X=ie.cx,oe=ie.cy,te=ie.radialAxis,fe=S.radialDragBoxSize,pe=fe/2;if(!te.visible)return;var Ae=_(ie.radialAxisAngle),be=te._rl,Pe=be[0],me=be[1],Ee=be[j],xe=.75*(be[1]-be[0])/(1-ie.getHole(K))/ee,De,Ve,Ze;j?(De=X+(ee+pe)*Math.cos(Ae),Ve=oe-(ee+pe)*Math.sin(Ae),Ze="radialdrag"):(De=X+($-pe)*Math.cos(Ae),Ve=oe-($-pe)*Math.sin(Ae),Ze="radialdrag-inner");var ke=f.makeRectDragger(Q,Ze,"crosshair",-pe,-pe,fe,fe),Ye={element:ke,gd:W};ue.dragmode===!1&&(Ye.dragmode=!1),se(x.select(ke),te.visible&&$<ee,{transform:c(De,Ve)});var lt,yt,He;function Fe(mt,tt){if(lt)lt(mt,tt);else{var Re=[mt,-tt],Ge=[Math.cos(Ae),Math.sin(Ae)],Je=Math.abs(L.dot(Re,Ge)/Math.sqrt(L.dot(Re,Re)));isNaN(Je)||(lt=Je<.5?ct:ht)}var Xe={};nt(Xe),W.emit("plotly_relayouting",Xe)}function nt(mt){yt!==null?mt[ie.id+".radialaxis.angle"]=yt:He!==null&&(mt[ie.id+".radialaxis.range["+j+"]"]=He)}function ot(){yt!==null?i.call("_guiRelayout",W,ie.id+".radialaxis.angle",yt):He!==null&&i.call("_guiRelayout",W,ie.id+".radialaxis.range["+j+"]",He)}function ct(mt,tt){if(j!==0){var Re=De+mt,Ge=Ve+tt;yt=Math.atan2(oe-Ge,Re-X),ie.vangles&&(yt=ae(yt,ie.vangles)),yt=O(yt);var Je=c(X,oe)+C(-yt);Q["radial-axis"].attr("transform",Je),Q["radial-line"].select("line").attr("transform",Je);var Xe=ie.gd._fullLayout,Oe=Xe[ie.id];ie.updateRadialAxisTitle(Xe,Oe,yt)}}function ht(mt,tt){var Re=L.dot([mt,-tt],[Math.cos(Ae),Math.sin(Ae)]);if(He=Ee-xe*Re,xe>0!=(j?He>Pe:He<me)){He=null;return}var Ge=W._fullLayout,Je=Ge[ie.id];te.range[j]=He,te._rl[j]=He,ie.updateRadialAxis(Ge,Je),ie.xaxis.setRange(),ie.xaxis.setScale(),ie.yaxis.setRange(),ie.yaxis.setScale();var Xe=!1;for(var Oe in ie.traceHash){var Ne=ie.traceHash[Oe],ze=L.filterVisible(Ne),et=Ne[0][0].trace._module;et.plot(W,ie,ze,Je),i.traceIs(Oe,"gl")&&ze.length&&(Xe=!0)}Xe&&(b(W),M(W))}Ye.prepFn=function(){lt=null,yt=null,He=null,Ye.moveFn=Fe,Ye.doneFn=ot,v(W)},Ye.clampFn=function(mt,tt){return Math.sqrt(mt*mt+tt*tt)<S.MINDRAG&&(mt=0,tt=0),[mt,tt]},g.init(Ye)},N.updateAngularDrag=function(ue){var K=this,j=K.gd,ie=K.layers,W=K.radius,Q=K.angularAxis,ee=K.cx,$=K.cy,X=K.cxx,oe=K.cyy,te=S.angularDragBoxSize,fe=f.makeDragger(ie,"path","angulardrag",ue.dragmode===!1?"none":"move"),pe={element:fe,gd:j};ue.dragmode===!1?pe.dragmode=!1:x.select(fe).attr("d",K.pathAnnulus(W,W+te)).attr("transform",c(ee,$)).call(A,"move");function Ae(He,Fe){return Math.atan2(oe+te-Fe,He-X-te)}var be=ie.frontplot.select(".scatterlayer").selectAll(".trace"),Pe=be.selectAll(".point"),me=be.selectAll(".textpoint"),Ee,xe,De,Ve,Ze,ke;function Ye(He,Fe){var nt=K.gd._fullLayout,ot=nt[K.id],ct=Ee+He*ue._invScaleX,ht=xe+Fe*ue._invScaleY,mt=Ae(ct,ht),tt=O(mt-ke);if(Ve=De+tt,ie.frontplot.attr("transform",c(K.xOffset2,K.yOffset2)+C([-tt,X,oe])),K.vangles){Ze=K.radialAxisAngle+tt;var Re=c(ee,$)+C(-tt),Ge=c(ee,$)+C(-Ze);ie.bg.attr("transform",Re),ie["radial-grid"].attr("transform",Re),ie["radial-axis"].attr("transform",Ge),ie["radial-line"].select("line").attr("transform",Ge),K.updateRadialAxisTitle(nt,ot,Ze)}else K.clipPaths.forTraces.select("path").attr("transform",c(X,oe)+C(tt));Pe.each(function(){var Le=x.select(this),Te=r.getTranslate(Le);Le.attr("transform",c(Te.x,Te.y)+C([tt]))}),me.each(function(){var Le=x.select(this),Te=Le.select("text"),ye=r.getTranslate(Le);Le.attr("transform",C([tt,Te.attr("x"),Te.attr("y")])+c(ye.x,ye.y))}),Q.rotation=L.modHalf(Ve,360),K.updateAngularAxis(nt,ot),K._hasClipOnAxisFalse&&!L.isFullCircle(K.sectorInRad)&&be.call(r.hideOutsideRangePoints,K);var Je=!1;for(var Xe in K.traceHash)if(i.traceIs(Xe,"gl")){var Oe=K.traceHash[Xe],Ne=L.filterVisible(Oe),ze=Oe[0][0].trace._module;ze.plot(j,K,Ne,ot),Ne.length&&(Je=!0)}Je&&(b(j),M(j));var et={};lt(et),j.emit("plotly_relayouting",et)}function lt(He){He[K.id+".angularaxis.rotation"]=Ve,K.vangles&&(He[K.id+".radialaxis.angle"]=Ze)}function yt(){me.select("text").attr("transform",null);var He={};lt(He),i.call("_guiRelayout",j,He)}pe.prepFn=function(He,Fe,nt){var ot=ue[K.id];De=ot.angularaxis.rotation;var ct=fe.getBoundingClientRect();Ee=Fe-ct.left,xe=nt-ct.top,j._fullLayout._calcInverseTransform(j);var ht=L.apply3DTransform(ue._invTransform)(Ee,xe);Ee=ht[0],xe=ht[1],ke=Ae(Ee,xe),pe.moveFn=Ye,pe.doneFn=yt,v(j)},K.vangles&&!L.isFullCircle(K.sectorInRad)&&(pe.prepFn=L.noop,A(x.select(fe),null)),g.init(pe)},N.isPtInside=function(ue){if(this.isSmith)return!0;var K=this.sectorInRad,j=this.vangles,ie=this.angularAxis.c2g(ue.theta),W=this.radialAxis,Q=W.c2l(ue.r),ee=W._rl,$=j?T.isPtInsidePolygon:L.isPtInsideSector;return $(Q,ie,ee,K,j)},N.pathArc=function(ue){var K=this.sectorInRad,j=this.vangles,ie=j?T.pathPolygon:L.pathArc;return ie(ue,K[0],K[1],j)},N.pathSector=function(ue){var K=this.sectorInRad,j=this.vangles,ie=j?T.pathPolygon:L.pathSector;return ie(ue,K[0],K[1],j)},N.pathAnnulus=function(ue,K){var j=this.sectorInRad,ie=this.vangles,W=ie?T.pathPolygonAnnulus:L.pathAnnulus;return W(ue,K,j[0],j[1],ie)},N.pathSubplot=function(){var ue=this.innerRadius,K=this.radius;return ue?this.pathAnnulus(ue,K):this.pathSector(K)},N.fillViewInitialKey=function(ue,K){ue in this.viewInitial||(this.viewInitial[ue]=K)};function Y(ue){var K=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(K+=ue.side),K}function J(ue){var K=ue[0],j=ue[1],ie=j-K,W=F(K,360),Q=W+ie,ee=Math.cos(_(W)),$=Math.sin(_(W)),X=Math.cos(_(Q)),oe=Math.sin(_(Q)),te,fe,pe,Ae;return W<=90&&Q>=90||W>90&&Q>=450?Ae=1:$<=0&&oe<=0?Ae=0:Ae=Math.max($,oe),W<=180&&Q>=180||W>180&&Q>=540?te=-1:ee>=0&&X>=0?te=0:te=Math.min(ee,X),W<=270&&Q>=270||W>270&&Q>=630?fe=-1:$>=0&&oe>=0?fe=0:fe=Math.min($,oe),Q>=360?pe=1:ee<=0&&X<=0?pe=0:pe=Math.max(ee,X),[te,fe,pe,Ae]}function ae(ue,K){var j=function(W){return L.angleDist(ue,W)},ie=L.findIndexOfMin(K,j);return K[ie]}function se(ue,K,j){return K?(ue.attr("display",null),ue.attr(j)):ue&&ue.attr("display","none"),ue}},57696:function(V,U,e){"use strict";var x=e(3400),P=e(78344),i=x.deg2rad,L=x.rad2deg;V.exports=function(s,n,u){switch(P(s,u),s._id){case"x":case"radialaxis":C(s,n);break;case"angularaxis":r(s,n);break}};function C(t,s){var n=s._subplot;t.setGeometry=function(){var u=t._rl[0],l=t._rl[1],f=n.innerRadius,g=(n.radius-f)/(l-u),h=f/g,w=u>l?function(d){return d<=0}:function(d){return d>=0};t.c2g=function(d){var o=t.c2l(d)-u;return(w(o)?o:0)+h},t.g2c=function(d){return t.l2c(d+u-h)},t.g2p=function(d){return d*g},t.c2p=function(d){return t.g2p(t.c2g(d))}}}function c(t,s){return s==="degrees"?i(t):t}function y(t,s){return s==="degrees"?L(t):t}function r(t,s){var n=t.type;if(n==="linear"){var u=t.d2c,l=t.c2d;t.d2c=function(f,g){return c(u(f),g)},t.c2d=function(f,g){return l(y(f,g))}}t.makeCalcdata=function(f,g){var h=f[g],w=f._length,d,o,v=function(S){return t.d2c(S,f.thetaunit)};if(h)for(d=new Array(w),o=0;o<w;o++)d[o]=v(h[o]);else{var A=g+"0",b="d"+g,M=A in f?v(f[A]):0,m=f[b]?v(f[b]):(t.period||2*Math.PI)/w;for(d=new Array(w),o=0;o<w;o++)d[o]=M+o*m}return d},t.setGeometry=function(){var f=s.sector,g=f.map(i),h={clockwise:-1,counterclockwise:1}[t.direction],w=i(t.rotation),d=function(T){return h*T+w},o=function(T){return(T-w)/h},v,A,b,M;switch(n){case"linear":A=v=x.identity,M=i,b=L,t.range=x.isFullCircle(g)?[f[0],f[0]+360]:g.map(o).map(L);break;case"category":var m=t._categories.length,S=t.period?Math.max(t.period,m):m;S===0&&(S=1),A=M=function(T){return T*2*Math.PI/S},v=b=function(T){return T*S/Math.PI/2},t.range=[0,S];break}t.c2g=function(T){return d(A(T))},t.g2c=function(T){return v(o(T))},t.t2g=function(T){return d(M(T))},t.g2t=function(T){return b(o(T))}}}},55012:function(V){"use strict";V.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(V){"use strict";function U(C){return C<0?-1:C>0?1:0}function e(C){var c=C[0],y=C[1];if(!isFinite(c)||!isFinite(y))return[1,0];var r=(c+1)*(c+1)+y*y;return[(c*c+y*y-1)/r,2*y/r]}function x(C,c){var y=c[0],r=c[1];return[y*C.radius+C.cx,-r*C.radius+C.cy]}function P(C,c){return c*C.radius}function i(C,c,y,r){var t=x(C,e([y,c])),s=t[0],n=t[1],u=x(C,e([r,c])),l=u[0],f=u[1];if(c===0)return["M"+s+","+n,"L"+l+","+f].join(" ");var g=P(C,1/Math.abs(c));return["M"+s+","+n,"A"+g+","+g+" 0 0,"+(c<0?1:0)+" "+l+","+f].join(" ")}function L(C,c,y,r){var t=P(C,1/(c+1)),s=x(C,e([c,y])),n=s[0],u=s[1],l=x(C,e([c,r])),f=l[0],g=l[1];if(U(y)!==U(r)){var h=x(C,e([c,0])),w=h[0],d=h[1];return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(0<y?0:1)+" "+w+","+d,"A"+t+","+t+" 0 0,"+(r<0?0:1)+f+","+g].join(" ")}return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(r<y?0:1)+" "+f+","+g].join(" ")}V.exports={smith:e,reactanceArc:i,resistanceArc:L,smithTransform:x}},47788:function(V,U,e){"use strict";var x=e(84888).KY,P=e(3400).counterRegex,i=e(62400),L=e(55012),C=L.attr,c=L.name,y=P(c),r={};r[C]={valType:"subplotid",dflt:c,editType:"calc"};function t(n){for(var u=n._fullLayout,l=n.calcdata,f=u._subplots[c],g=0;g<f.length;g++){var h=f[g],w=x(l,c,h),d=u[h]._subplot;d||(d=i(n,h,!0),u[h]._subplot=d),d.plot(w,u,n._promises)}}function s(n,u,l,f){for(var g=f._subplots[c]||[],h=0;h<g.length;h++){var w=g[h],d=f[w]._subplot;if(!u[w]&&d){d.framework.remove();for(var o in d.clipPaths)d.clipPaths[o].remove()}}}V.exports={attr:C,name:c,idRoot:c,idRegex:y,attrRegex:y,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:s,toSVG:e(57952).toSVG}},6183:function(V,U,e){"use strict";var x=e(22548),P=e(94724),i=e(86968).u,L=e(3400).extendFlat,C=e(67824).overrideAll,c=C({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),y=C({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},c,y),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},c,y);V.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:x.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(31780),L=e(168),C=e(84888).op,c=e(42568),y=e(95936),r=e(42136),t=e(78344),s=e(6183),n=e(55012),u=n.axisNames,l=g(function(h){return x.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(w){return-w}).concat([0]).concat(h)},String);function f(h,w,d,o){var v=d("bgcolor");o.bgColor=P.combine(v,o.paper_bgcolor);var A=C(o.fullData,n.name,o.id),b=o.layoutOut,M;function m(N,Y){return d(M+"."+N,Y)}for(var S=0;S<u.length;S++){M=u[S],x.isPlainObject(h[M])||(h[M]={});var T=h[M],a=i.newContainer(w,M);a._id=a._name=M,a._attr=o.id+"."+M,a._traceIndices=A.map(function(N){return N._expandedIndex});var E=m("visible");if(a.type="linear",t(a,b),c(T,a,m,a.type),E){var p=M==="realaxis";if(p&&m("side"),p)m("tickvals");else{var k=l(w.realaxis.tickvals||s.realaxis.tickvals.dflt);m("tickvals",k)}x.isTypedArray(a.tickvals)&&(a.tickvals=Array.from(a.tickvals));var R,B,F,_,O=o.font||{};E&&(R=m("color"),B=R===T.color?R:O.color,F=O.size,_=O.family),y(T,a,m,a.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!p,noExp:!0,font:{color:B,size:F,family:_}}),x.coerce2(h,w,s,M+".ticklen"),x.coerce2(h,w,s,M+".tickwidth"),x.coerce2(h,w,s,M+".tickcolor",w.color);var z=m("ticks");z||(delete w[M].ticklen,delete w[M].tickwidth,delete w[M].tickcolor),r(T,a,m,{dfltColor:R,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[M]}),m("layer")}m("hoverformat"),delete a.type,a._input=T}}V.exports=function(w,d,o){L(w,d,o,{noUirevision:!0,type:n.name,attributes:s,handleDefaults:f,font:d.font,paper_bgcolor:d.paper_bgcolor,fullData:o,layoutOut:d})};function g(h,w){var d={};return function(o){var v=w?w(o):o;if(v in d)return d[v];var A=h(o);return d[v]=A,A}}},168:function(V,U,e){"use strict";var x=e(3400),P=e(31780),i=e(86968).Q;V.exports=function(C,c,y,r){var t=r.type,s=r.attributes,n=r.handleDefaults,u=r.partition||"x",l=c._subplots[t],f=l.length,g=f&&l[0].replace(/\d+$/,""),h,w;function d(b,M){return x.coerce(h,w,s,b,M)}for(var o=0;o<f;o++){var v=l[o];C[v]?h=C[v]:h=C[v]={},w=P.newContainer(c,v,g),r.noUirevision||d("uirevision",c.uirevision);var A={};A[u]=[o/f,(o+1)/f],i(w,c,d,A),r.id=v,n(h,w,d,r)}}},21776:function(V,U,e){"use strict";var x=e(26880),P=x.FORMAT_LINK,i=x.DATE_FORMAT_LINK;function L(y){var r=y&&y.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(r?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,P,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,i,"for details on the date formatting syntax."].join(" ")}function C(){return["Variables are inserted using %{variable},",'for example "x0: %{x0}".',`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{x0:$.2f}". See`,P,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{x0|%m %b %Y}". See`,i,"for details on the date formatting syntax.","A single multiplication or division operation may be applied to numeric variables, and combined with",'d3 number formatting, for example "Length in cm: %{x0*2.54}", "%{slope*60:.1f} meters per second."',"For log axes, variable values are given in log units.","For date axes, x/y coordinate variables and center variables use datetimes, while all other variable values use values in ms."].join(" ")}function c(y){var r=y.description?" "+y.description:"",t=y.keys||[];if(t.length>0){for(var s=[],n=0;n<t.length;n++)s[n]="`"+t[n]+"`";r=r+"Finally, the template string has access to ",t.length===1?r=r+"variable "+s[0]:r=r+"variables "+s.slice(0,-1).join(", ")+" and "+s.slice(-1)+"."}return r}U.Ks=function(y,r){y=y||{},r=r||{};var t=c(r),s={valType:"string",dflt:"",editType:y.editType||"none"};return y.arrayOk!==!1&&(s.arrayOk=!0),s},U.Gw=function(y,r){y=y||{},r=r||{};var t=c(r),s={valType:"string",dflt:"",editType:y.editType||"calc"};return y.arrayOk!==!1&&(s.arrayOk=!0),s},U.ye=function(y,r){y=y||{},r=r||{};var t=y.newshape?"new ":"",s=c(r),n={valType:"string",dflt:"",editType:y.editType||"arraydraw"};return n}},19352:function(V,U,e){"use strict";var x=e(24696),P=e(84888).KY,i=e(3400).counterRegex,L="ternary";U.name=L;var C=U.attr="subplot";U.idRoot=L,U.idRegex=U.attrRegex=i(L);var c=U.attributes={};c[C]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=e(86379),U.supplyLayoutDefaults=e(38536),U.plot=function(r){for(var t=r._fullLayout,s=r.calcdata,n=t._subplots[L],u=0;u<n.length;u++){var l=n[u],f=P(s,L,l),g=t[l]._subplot;g||(g=new x({id:l,graphDiv:r,container:t._ternarylayer.node()},t),t[l]._subplot=g),g.plot(f,t,r._promises)}},U.clean=function(y,r,t,s){for(var n=s._subplots[L]||[],u=0;u<n.length;u++){var l=n[u],f=s[l]._subplot;!r[l]&&f&&(f.plotContainer.remove(),f.clipDef.remove(),f.clipDefRelative.remove(),f.layers["a-title"].remove(),f.layers["b-title"].remove(),f.layers["c-title"].remove())}}},86379:function(V,U,e){"use strict";var x=e(22548),P=e(86968).u,i=e(94724),L=e(67824).overrideAll,C=e(92880).extendFlat,c={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:C({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:C({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:C({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},y=V.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:x.background},sum:{valType:"number",dflt:1,min:0},aaxis:c,baxis:c,caxis:c},"plot","from-root");y.uirevision={valType:"any",editType:"none"},y.aaxis.uirevision=y.baxis.uirevision=y.caxis.uirevision={valType:"any",editType:"none"}},38536:function(V,U,e){"use strict";var x=e(76308),P=e(31780),i=e(3400),L=e(168),C=e(95936),c=e(42568),y=e(25404),r=e(26332),t=e(42136),s=e(86379),n=["aaxis","baxis","caxis"];V.exports=function(g,h,w){L(g,h,w,{type:"ternary",attributes:s,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor})};function u(f,g,h,w){var d=h("bgcolor"),o=h("sum");w.bgColor=x.combine(d,w.paper_bgcolor);for(var v,A,b,M=0;M<n.length;M++)v=n[M],A=f[v]||{},b=P.newContainer(g,v),b._name=v,l(A,b,w,g);var m=g.aaxis,S=g.baxis,T=g.caxis;m.min+S.min+T.min>=o&&(m.min=0,S.min=0,T.min=0,f.aaxis&&delete f.aaxis.min,f.baxis&&delete f.baxis.min,f.caxis&&delete f.caxis.min)}function l(f,g,h,w){var d=s[g._name];function o(a,E){return i.coerce(f,g,d,a,E)}o("uirevision",w.uirevision),g.type="linear";var v=o("color"),A=v!==d.color.dflt?v:h.font.color,b=g._name,M=b.charAt(0).toUpperCase(),m="Component "+M,S=o("title.text",m);g._hovertitle=S===m?S:M,i.coerceFont(o,"title.font",{family:h.font.family,size:i.bigFont(h.font.size),color:A}),o("min"),r(f,g,o,"linear"),c(f,g,o,"linear"),C(f,g,o,"linear",{noAutotickangles:!0}),y(f,g,o,{outerTicks:!0});var T=o("showticklabels");T&&(i.coerceFont(o,"tickfont",{family:h.font.family,size:h.font.size,color:A}),o("tickangle"),o("tickformat")),t(f,g,o,{dfltColor:v,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d}),o("hoverformat"),o("layer")}},24696:function(V,U,e){"use strict";var x=e(33428),P=e(49760),i=e(24040),L=e(3400),C=L.strTranslate,c=L._,y=e(76308),r=e(43616),t=e(78344),s=e(92880).extendFlat,n=e(7316),u=e(54460),l=e(86476),f=e(93024),g=e(72760),h=g.freeMode,w=g.rectMode,d=e(81668),o=e(22676).prepSelect,v=e(22676).selectOnClick,A=e(22676).clearOutline,b=e(22676).clearSelectionsCache,M=e(33816);function m(O,z){this.id=O.id,this.graphDiv=O.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}V.exports=m;var S=m.prototype;S.init=function(O){this.container=O._ternarylayer,this.defs=O._defs,this.layoutId=O._uid,this.traceHash={},this.layers={}},S.plot=function(O,z){var N=this,Y=z[N.id],J=z._size;N._hasClipOnAxisFalse=!1;for(var ae=0;ae<O.length;ae++){var se=O[ae][0].trace;if(se.cliponaxis===!1){N._hasClipOnAxisFalse=!0;break}}N.updateLayers(Y),N.adjustLayout(Y,J),n.generalUpdatePerTraceModule(N.graphDiv,N,O,Y),N.layers.plotbg.select("path").call(y.fill,Y.bgcolor)},S.makeFramework=function(O){var z=this,N=z.graphDiv,Y=O[z.id],J=z.clipId="clip"+z.layoutId+z.id,ae=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=L.ensureSingleById(O._clips,"clipPath",J,function(se){se.append("path").attr("d","M0,0Z")}),z.clipDefRelative=L.ensureSingleById(O._clips,"clipPath",ae,function(se){se.append("path").attr("d","M0,0Z")}),z.plotContainer=L.ensureSingle(z.container,"g",z.id),z.updateLayers(Y),r.setClipUrl(z.layers.backplot,J,N),r.setClipUrl(z.layers.grids,J,N)},S.updateLayers=function(O){var z=this,N=z.layers,Y=["draglayer","plotbg","backplot","grids"];O.aaxis.layer==="below traces"&&Y.push("aaxis","aline"),O.baxis.layer==="below traces"&&Y.push("baxis","bline"),O.caxis.layer==="below traces"&&Y.push("caxis","cline"),Y.push("frontplot"),O.aaxis.layer==="above traces"&&Y.push("aaxis","aline"),O.baxis.layer==="above traces"&&Y.push("baxis","bline"),O.caxis.layer==="above traces"&&Y.push("caxis","cline");var J=z.plotContainer.selectAll("g.toplevel").data(Y,String),ae=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(se){return"toplevel "+se}).each(function(se){var ue=x.select(this);N[se]=ue,se==="frontplot"?ue.append("g").classed("scatterlayer",!0):se==="backplot"?ue.append("g").classed("maplayer",!0):se==="plotbg"?ue.append("path").attr("d","M0,0Z"):se==="aline"||se==="bline"||se==="cline"?ue.append("path"):se==="grids"&&ae.forEach(function(K){N[K]=ue.append("g").classed("grid "+K,!0)})}),J.order()};var T=Math.sqrt(4/3);S.adjustLayout=function(O,z){var N=this,Y=O.domain,J=(Y.x[0]+Y.x[1])/2,ae=(Y.y[0]+Y.y[1])/2,se=Y.x[1]-Y.x[0],ue=Y.y[1]-Y.y[0],K=se*z.w,j=ue*z.h,ie=O.sum,W=O.aaxis.min,Q=O.baxis.min,ee=O.caxis.min,$,X,oe,te,fe,pe;K>T*j?(te=j,oe=te*T):(oe=K,te=oe/T),fe=se*oe/K,pe=ue*te/j,$=z.l+z.w*J-oe/2,X=z.t+z.h*(1-ae)-te/2,N.x0=$,N.y0=X,N.w=oe,N.h=te,N.sum=ie,N.xaxis={type:"linear",range:[W+2*ee-ie,ie-W-2*Q],domain:[J-fe/2,J+fe/2],_id:"x"},t(N.xaxis,N.graphDiv._fullLayout),N.xaxis.setScale(),N.xaxis.isPtWithinRange=function(Ye){return Ye.a>=N.aaxis.range[0]&&Ye.a<=N.aaxis.range[1]&&Ye.b>=N.baxis.range[1]&&Ye.b<=N.baxis.range[0]&&Ye.c>=N.caxis.range[1]&&Ye.c<=N.caxis.range[0]},N.yaxis={type:"linear",range:[W,ie-Q-ee],domain:[ae-pe/2,ae+pe/2],_id:"y"},t(N.yaxis,N.graphDiv._fullLayout),N.yaxis.setScale(),N.yaxis.isPtWithinRange=function(){return!0};var Ae=N.yaxis.domain[0],be=N.aaxis=s({},O.aaxis,{range:[W,ie-Q-ee],side:"left",tickangle:(+O.aaxis.tickangle||0)-30,domain:[Ae,Ae+pe*T],anchor:"free",position:0,_id:"y",_length:oe});t(be,N.graphDiv._fullLayout),be.setScale();var Pe=N.baxis=s({},O.baxis,{range:[ie-W-ee,Q],side:"bottom",domain:N.xaxis.domain,anchor:"free",position:0,_id:"x",_length:oe});t(Pe,N.graphDiv._fullLayout),Pe.setScale();var me=N.caxis=s({},O.caxis,{range:[ie-W-Q,ee],side:"right",tickangle:(+O.caxis.tickangle||0)+30,domain:[Ae,Ae+pe*T],anchor:"free",position:0,_id:"y",_length:oe});t(me,N.graphDiv._fullLayout),me.setScale();var Ee="M"+$+","+(X+te)+"h"+oe+"l-"+oe/2+",-"+te+"Z";N.clipDef.select("path").attr("d",Ee),N.layers.plotbg.select("path").attr("d",Ee);var xe="M0,"+te+"h"+oe+"l-"+oe/2+",-"+te+"Z";N.clipDefRelative.select("path").attr("d",xe);var De=C($,X);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",De),N.clipDefRelative.select("path").attr("transform",null);var Ve=C($-Pe._offset,X+te);N.layers.baxis.attr("transform",Ve),N.layers.bgrid.attr("transform",Ve);var Ze=C($+oe/2,X)+"rotate(30)"+C(0,-be._offset);N.layers.aaxis.attr("transform",Ze),N.layers.agrid.attr("transform",Ze);var ke=C($+oe/2,X)+"rotate(-30)"+C(0,-me._offset);N.layers.caxis.attr("transform",ke),N.layers.cgrid.attr("transform",ke),N.drawAxes(!0),N.layers.aline.select("path").attr("d",be.showline?"M"+$+","+(X+te)+"l"+oe/2+",-"+te:"M0,0").call(y.stroke,be.linecolor||"#000").style("stroke-width",(be.linewidth||0)+"px"),N.layers.bline.select("path").attr("d",Pe.showline?"M"+$+","+(X+te)+"h"+oe:"M0,0").call(y.stroke,Pe.linecolor||"#000").style("stroke-width",(Pe.linewidth||0)+"px"),N.layers.cline.select("path").attr("d",me.showline?"M"+($+oe/2)+","+X+"l"+oe/2+","+te:"M0,0").call(y.stroke,me.linecolor||"#000").style("stroke-width",(me.linewidth||0)+"px"),N.graphDiv._context.staticPlot||N.initInteractions(),r.setClipUrl(N.layers.frontplot,N._hasClipOnAxisFalse?null:N.clipId,N.graphDiv)},S.drawAxes=function(O){var z=this,N=z.graphDiv,Y=z.id.substr(7)+"title",J=z.layers,ae=z.aaxis,se=z.baxis,ue=z.caxis;if(z.drawAx(ae),z.drawAx(se),z.drawAx(ue),O){var K=Math.max(ae.showticklabels?ae.tickfont.size/2:0,(ue.showticklabels?ue.tickfont.size*.75:0)+(ue.ticks==="outside"?ue.ticklen*.87:0)),j=(se.showticklabels?se.tickfont.size:0)+(se.ticks==="outside"?se.ticklen:0)+3;J["a-title"]=d.draw(N,"a"+Y,{propContainer:ae,propName:z.id+".aaxis.title",placeholder:c(N,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-ae.title.font.size/3-K,"text-anchor":"middle"}}),J["b-title"]=d.draw(N,"b"+Y,{propContainer:se,propName:z.id+".baxis.title",placeholder:c(N,"Click to enter Component B title"),attributes:{x:z.x0-j,y:z.y0+z.h+se.title.font.size*.83+j,"text-anchor":"middle"}}),J["c-title"]=d.draw(N,"c"+Y,{propContainer:ue,propName:z.id+".caxis.title",placeholder:c(N,"Click to enter Component C title"),attributes:{x:z.x0+z.w+j,y:z.y0+z.h+ue.title.font.size*.83+j,"text-anchor":"middle"}})}},S.drawAx=function(O){var z=this,N=z.graphDiv,Y=O._name,J=Y.charAt(0),ae=O._id,se=z.layers[Y],ue=30,K=J+"tickLayout",j=a(O);z[K]!==j&&(se.selectAll("."+ae+"tick").remove(),z[K]=j),O.setScale();var ie=u.calcTicks(O),W=u.clipEnds(O,ie),Q=u.makeTransTickFn(O),ee=u.getTickSigns(O)[2],$=L.deg2rad(ue),X=ee*(O.linewidth||1)/2,oe=ee*O.ticklen,te=z.w,fe=z.h,pe=J==="b"?"M0,"+X+"l"+Math.sin($)*oe+","+Math.cos($)*oe:"M"+X+",0l"+Math.cos($)*oe+","+-Math.sin($)*oe,Ae={a:"M0,0l"+fe+",-"+te/2,b:"M0,0l-"+te/2+",-"+fe,c:"M0,0l-"+fe+","+te/2}[J];u.drawTicks(N,O,{vals:O.ticks==="inside"?W:ie,layer:se,path:pe,transFn:Q,crisp:!1}),u.drawGrid(N,O,{vals:W,layer:z.layers[J+"grid"],path:Ae,transFn:Q,crisp:!1}),u.drawLabels(N,O,{vals:ie,layer:se,transFn:Q,labelFns:u.makeLabelFns(O,0,ue)})};function a(O){return O.ticks+String(O.ticklen)+String(O.showticklabels)}var E=M.MINZOOM/2+.87,p="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",k="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",R="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",B="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;S.clearOutline=function(){b(this.dragOptions),A(this.dragOptions.gd)},S.initInteractions=function(){var O=this,z=O.layers.plotbg.select("path").node(),N=O.graphDiv,Y=N._fullLayout._zoomlayer,J,ae;this.dragOptions={element:z,gd:N,plotinfo:{id:O.id,domain:N._fullLayout[O.id].domain,xaxis:O.xaxis,yaxis:O.yaxis},subplot:O.id,prepFn:function(Ve,Ze,ke){O.dragOptions.xaxes=[O.xaxis],O.dragOptions.yaxes=[O.yaxis],J=N._fullLayout._invScaleX,ae=N._fullLayout._invScaleY;var Ye=O.dragOptions.dragmode=N._fullLayout.dragmode;h(Ye)?O.dragOptions.minDrag=1:O.dragOptions.minDrag=void 0,Ye==="zoom"?(O.dragOptions.moveFn=Pe,O.dragOptions.clickFn=te,O.dragOptions.doneFn=me,fe(Ve,Ze,ke)):Ye==="pan"?(O.dragOptions.moveFn=xe,O.dragOptions.clickFn=te,O.dragOptions.doneFn=De,Ee(),O.clearOutline(N)):(w(Ye)||h(Ye))&&o(Ve,Ze,ke,O.dragOptions,Ye)}};var se,ue,K,j,ie,W,Q,ee,$,X;function oe(Ve){var Ze={};return Ze[O.id+".aaxis.min"]=Ve.a,Ze[O.id+".baxis.min"]=Ve.b,Ze[O.id+".caxis.min"]=Ve.c,Ze}function te(Ve,Ze){var ke=N._fullLayout.clickmode;_(N),Ve===2&&(N.emit("plotly_doubleclick",null),i.call("_guiRelayout",N,oe({a:0,b:0,c:0}))),ke.indexOf("select")>-1&&Ve===1&&v(Ze,N,[O.xaxis],[O.yaxis],O.id,O.dragOptions),ke.indexOf("event")>-1&&f.click(N,Ze,O.id)}function fe(Ve,Ze,ke){var Ye=z.getBoundingClientRect();se=Ze-Ye.left,ue=ke-Ye.top,N._fullLayout._calcInverseTransform(N);var lt=N._fullLayout._invTransform,yt=L.apply3DTransform(lt)(se,ue);se=yt[0],ue=yt[1],K={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},ie=K,j=O.aaxis.range[1]-K.a,W=P(O.graphDiv._fullLayout[O.id].bgcolor).getLuminance(),Q="M0,"+O.h+"L"+O.w/2+", 0L"+O.w+","+O.h+"Z",ee=!1,$=Y.append("path").attr("class","zoombox").attr("transform",C(O.x0,O.y0)).style({fill:W>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Q),X=Y.append("path").attr("class","zoombox-corners").attr("transform",C(O.x0,O.y0)).style({fill:y.background,stroke:y.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),O.clearOutline(N)}function pe(Ve,Ze){return 1-Ze/O.h}function Ae(Ve,Ze){return 1-(Ve+(O.h-Ze)/Math.sqrt(3))/O.w}function be(Ve,Ze){return(Ve-(O.h-Ze)/Math.sqrt(3))/O.w}function Pe(Ve,Ze){var ke=se+Ve*J,Ye=ue+Ze*ae,lt=Math.max(0,Math.min(1,pe(se,ue),pe(ke,Ye))),yt=Math.max(0,Math.min(1,Ae(se,ue),Ae(ke,Ye))),He=Math.max(0,Math.min(1,be(se,ue),be(ke,Ye))),Fe=(lt/2+He)*O.w,nt=(1-lt/2-yt)*O.w,ot=(Fe+nt)/2,ct=nt-Fe,ht=(1-lt)*O.h,mt=ht-ct/T;ct<M.MINZOOM?(ie=K,$.attr("d",Q),X.attr("d","M0,0Z")):(ie={a:K.a+lt*j,b:K.b+yt*j,c:K.c+He*j},$.attr("d",Q+"M"+Fe+","+ht+"H"+nt+"L"+ot+","+mt+"L"+Fe+","+ht+"Z"),X.attr("d","M"+se+","+ue+B+"M"+Fe+","+ht+p+"M"+nt+","+ht+k+"M"+ot+","+mt+R)),ee||($.transition().style("fill",W>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),X.transition().style("opacity",1).duration(200),ee=!0),N.emit("plotly_relayouting",oe(ie))}function me(){_(N),ie!==K&&(i.call("_guiRelayout",N,oe(ie)),F&&N.data&&N._context.showTips&&(L.notifier(c(N,"Double-click to zoom back out"),"long"),F=!1))}function Ee(){K={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},ie=K}function xe(Ve,Ze){var ke=Ve/O.xaxis._m,Ye=Ze/O.yaxis._m;ie={a:K.a-Ye,b:K.b+(ke+Ye)/2,c:K.c-(ke-Ye)/2};var lt=[ie.a,ie.b,ie.c].sort(L.sorterAsc),yt={a:lt.indexOf(ie.a),b:lt.indexOf(ie.b),c:lt.indexOf(ie.c)};lt[0]<0&&(lt[1]+lt[0]/2<0?(lt[2]+=lt[0]+lt[1],lt[0]=lt[1]=0):(lt[2]+=lt[0]/2,lt[1]+=lt[0]/2,lt[0]=0),ie={a:lt[yt.a],b:lt[yt.b],c:lt[yt.c]},Ze=(K.a-ie.a)*O.yaxis._m,Ve=(K.c-ie.c-K.b+ie.b)*O.xaxis._m);var He=C(O.x0+Ve,O.y0+Ze);O.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",He);var Fe=C(-Ve,-Ze);O.clipDefRelative.select("path").attr("transform",Fe),O.aaxis.range=[ie.a,O.sum-ie.b-ie.c],O.baxis.range=[O.sum-ie.a-ie.c,ie.b],O.caxis.range=[O.sum-ie.a-ie.b,ie.c],O.drawAxes(!1),O._hasClipOnAxisFalse&&O.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,O),N.emit("plotly_relayouting",oe(ie))}function De(){i.call("_guiRelayout",N,oe(ie))}z.onmousemove=function(Ve){f.hover(N,Ve,O.id),N._fullLayout._lasthover=z,N._fullLayout._hoversubplot=O.id},z.onmouseout=function(Ve){N._dragging||l.unhover(N,Ve)},l.init(this.dragOptions)};function _(O){x.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(V,U,e){"use strict";var x=e(24248),P=e(16628),i=e(52416),L=e(63620),C=e(52200).addStyleRule,c=e(92880),y=e(45464),r=e(64859),t=c.extendFlat,s=c.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(b){if(U.collectableSubplotTypes=null,b)b&&!Array.isArray(b)&&(b=[b]);else throw new Error("No argument passed to Plotly.register.");for(var M=0;M<b.length;M++){var m=b[M];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":f(m);break;case"component":l(m);break;case"locale":g(m);break;case"apiMethod":var S=m.name;U.apiMethodRegistry[S]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(A){var b=U.modules[v(A)];return b?b._module:!1},U.traceIs=function(A,b){if(A=v(A),A==="various")return!1;var M=U.modules[A];return M||(A&&x.log("Unrecognized trace type "+A+"."),M=U.modules[y.type.dflt]),!!M.categories[b]},U.getTransformIndices=function(A,b){for(var M=[],m=A.transforms||[],S=0;S<m.length;S++)m[S].type===b&&M.push(S);return M},U.hasTransform=function(A,b){for(var M=A.transforms||[],m=0;m<M.length;m++)if(M[m].type===b)return!0;return!1},U.getComponentMethod=function(A,b){var M=U.componentsRegistry[A];return M&&M[b]||P},U.call=function(){var A=arguments[0],b=[].slice.call(arguments,1);return U.apiMethodRegistry[A].apply(null,b)};function n(A){var b=A.name,M=A.categories,m=A.meta;if(U.modules[b]){x.log("Type "+b+" already registered");return}U.subplotsRegistry[A.basePlotModule.name]||u(A.basePlotModule);for(var S={},T=0;T<M.length;T++)S[M[T]]=!0,U.allCategories[M[T]]=!0;U.modules[b]={_module:A,categories:S},m&&Object.keys(m).length&&(U.modules[b].meta=m),U.allTypes.push(b);for(var a in U.componentsRegistry)w(a,b);A.layoutAttributes&&t(U.traceLayoutAttributes,A.layoutAttributes);var E=A.basePlotModule,p=E.name;if(p==="mapbox"){var k=E.constants.styleRules;for(var R in k)C(".js-plotly-plot .plotly .mapboxgl-"+R,k[R])}(p==="geo"||p==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(A){var b=A.name;if(U.subplotsRegistry[b]){x.log("Plot type "+b+" already registered.");return}h(A),U.subplotsRegistry[b]=A;for(var M in U.componentsRegistry)o(M,A.name)}function l(A){if(typeof A.name!="string")throw new Error("Component module *name* must be a string.");var b=A.name;U.componentsRegistry[b]=A,A.layoutAttributes&&(A.layoutAttributes._isLinkedToArray&&i(U.layoutArrayContainers,b),h(A));for(var M in U.modules)w(b,M);for(var m in U.subplotsRegistry)o(b,m);for(var S in U.transformsRegistry)d(b,S);A.schema&&A.schema.layout&&s(r,A.schema.layout)}function f(A){if(typeof A.name!="string")throw new Error("Transform module *name* must be a string.");var b="Transform module "+A.name,M=typeof A.transform=="function",m=typeof A.calcTransform=="function";if(!M&&!m)throw new Error(b+" is missing a *transform* or *calcTransform* method.");M&&m&&x.log([b+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(A.attributes)||x.log(b+" registered without an *attributes* object."),typeof A.supplyDefaults!="function"&&x.log(b+" registered without a *supplyDefaults* method."),U.transformsRegistry[A.name]=A;for(var S in U.componentsRegistry)d(S,A.name)}function g(A){var b=A.name,M=b.split("-")[0],m=A.dictionary,S=A.format,T=m&&Object.keys(m).length,a=S&&Object.keys(S).length,E=U.localeRegistry,p=E[b];if(p||(E[b]=p={}),M!==b){var k=E[M];k||(E[M]=k={}),T&&k.dictionary===p.dictionary&&(k.dictionary=m),a&&k.format===p.format&&(k.format=S)}T&&(p.dictionary=m),a&&(p.format=S)}function h(A){if(A.layoutAttributes){var b=A.layoutAttributes._arrayAttrRegexps;if(b)for(var M=0;M<b.length;M++)i(U.layoutArrayRegexes,b[M])}}function w(A,b){var M=U.componentsRegistry[A].schema;if(!(!M||!M.traces)){var m=M.traces[b];m&&s(U.modules[b]._module.attributes,m)}}function d(A,b){var M=U.componentsRegistry[A].schema;if(!(!M||!M.transforms)){var m=M.transforms[b];m&&s(U.transformsRegistry[b].attributes,m)}}function o(A,b){var M=U.componentsRegistry[A].schema;if(!(!M||!M.subplots)){var m=U.subplotsRegistry[b],S=m.layoutAttributes,T=m.attr==="subplot"?m.name:m.attr;Array.isArray(T)&&(T=T[0]);var a=M.subplots[T];S&&a&&s(S,a)}}function v(A){return typeof A=="object"&&(A=A.type),A}},91536:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=P.extendFlat,L=P.extendDeep;function C(y){var r;switch(y){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function c(y){var r=["xaxis","yaxis","zaxis"];return r.indexOf(y.slice(0,5))>-1}V.exports=function(r,t){var s,n=r.data,u=r.layout,l=L([],n),f=L({},u,C(t.tileClass)),g=r._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){f.annotations=[];var h=Object.keys(f);for(s=0;s<h.length;s++)c(h[s])&&(f[h[s]].title={text:""});for(s=0;s<l.length;s++){var w=l[s];w.showscale=!1,w.marker&&(w.marker.showscale=!1),x.traceIs(w,"pie-like")&&(w.textposition="none")}}if(Array.isArray(t.annotations))for(s=0;s<t.annotations.length;s++)f.annotations.push(t.annotations[s]);var d=Object.keys(f).filter(function(M){return M.match(/^scene\d*$/)});if(d.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<d.length;s++){var v=f[d[s]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),i(v.xaxis,o),i(v.yaxis,o),i(v.zaxis,o),v._scene=null}}var A=document.createElement("div");t.tileClass&&(A.className=t.tileClass);var b={gd:A,td:A,layout:f,data:l,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return t.setBackground!=="transparent"&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=C(t.tileClass),b}},39792:function(V,U,e){"use strict";var x=e(3400),P=e(67024),i=e(48616),L=e(81792);function C(c,y){var r;return x.isPlainObject(c)||(r=x.getGraphDiv(c)),y=y||{},y.format=y.format||"png",y.width=y.width||null,y.height=y.height||null,y.imageDataOnly=!0,new Promise(function(t,s){r&&r._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),x.isIE()&&y.format!=="svg"&&s(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(c,y),u=y.filename||c.fn||"newplot";u+="."+y.format.replace("-","."),n.then(function(l){return r&&(r._snapshotInProgress=!1),i(l,u,y.format)}).then(function(l){t(l)}).catch(function(l){r&&(r._snapshotInProgress=!1),s(l)})})}V.exports=C},48616:function(V,U,e){"use strict";var x=e(3400),P=e(81792);function i(L,C,c){var y=document.createElement("a"),r="download"in y,t=new Promise(function(s,n){var u,l;if(x.isIE())return u=P.createBlob(L,"svg"),window.navigator.msSaveBlob(u,C),u=null,s(C);if(r)return u=P.createBlob(L,c),l=P.createObjectURL(u),y.href=l,y.download=C,document.body.appendChild(y),y.click(),document.body.removeChild(y),P.revokeObjectURL(l),u=null,s(C);if(x.isSafari()){var f=c==="svg"?",":";base64,";return P.octetStream(f+encodeURIComponent(L)),s(C)}n(new Error("download error"))});return t}V.exports=i},81792:function(V,U,e){"use strict";var x=e(24040);U.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},U.getRedrawFunc=function(L){return function(){x.getComponentMethod("colorbar","draw")(L)}},U.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},U.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;U.createObjectURL=function(L){return P.createObjectURL(L)},U.revokeObjectURL=function(L){return P.revokeObjectURL(L)},U.createBlob=function(L,C){if(C==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(C==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var c=i(window.atob(L));return new window.Blob([c],{type:"image/"+C})},U.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function i(L){for(var C=L.length,c=new ArrayBuffer(C),y=new Uint8Array(c),r=0;r<C;r++)y[r]=L.charCodeAt(r);return c}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(V,U,e){"use strict";var x=e(81792),P={getDelay:x.getDelay,getRedrawFunc:x.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};V.exports=P},63268:function(V,U,e){"use strict";var x=e(3400),P=e(61252).EventEmitter,i=e(81792);function L(C){var c=C.emitter||new P,y=new Promise(function(r,t){var s=window.Image,n=C.svg,u=C.format||"png";if(x.isIE()&&u!=="svg"){var l=new Error(i.MSG_IE_BAD_FORMAT);return t(l),C.promise?y:c.emit("error",l)}var f=C.canvas,g=C.scale||1,h=C.width||300,w=C.height||150,d=g*h,o=g*w,v=f.getContext("2d",{willReadFrequently:!0}),A=new s,b,M;u==="svg"||x.isSafari()?M=i.encodeSVG(n):(b=i.createBlob(n,"svg"),M=i.createObjectURL(b)),f.width=d,f.height=o,A.onload=function(){var m;switch(b=null,i.revokeObjectURL(M),u!=="svg"&&v.drawImage(A,0,0,d,o),u){case"jpeg":m=f.toDataURL("image/jpeg");break;case"png":m=f.toDataURL("image/png");break;case"webp":m=f.toDataURL("image/webp");break;case"svg":m=M;break;default:var S="Image format is not jpeg, png, svg or webp.";if(t(new Error(S)),!C.promise)return c.emit("error",S)}r(m),C.promise||c.emit("success",m)},A.onerror=function(m){if(b=null,i.revokeObjectURL(M),t(m),!C.promise)return c.emit("error",m)},A.src=M});return C.promise?y:c}V.exports=L},61808:function(V,U,e){"use strict";var x=e(61252).EventEmitter,P=e(24040),i=e(3400),L=e(81792),C=e(91536),c=e(37164),y=e(63268);function r(t,s){var n=new x,u=C(t,{format:"png"}),l=u.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);function f(){var h=L.getDelay(l._fullLayout);setTimeout(function(){var w=c(l),d=document.createElement("canvas");d.id=i.randstr(),n=y({format:s.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:d,emitter:n,svg:w}),n.clean=function(){l&&document.body.removeChild(l)}},h)}var g=L.getRedrawFunc(l);return P.call("_doPlot",l,u.data,u.layout,u.config).then(g).then(f).catch(function(h){n.emit("error",h)}),n}V.exports=r},37164:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(76308),C=e(9616),c=/"/g,y="TOBESTRIPPED",r=new RegExp('("'+y+")|("+y+'")',"g");function t(n){var u=x.select("body").append("div").style({display:"none"}).html(""),l=n.replace(/(&[^;]*;)/gi,function(f){return f==="&lt;"?"&#60;":f==="&rt;"?"&#62;":f.indexOf("<")!==-1||f.indexOf(">")!==-1?"":u.html(f).text()});return u.remove(),l}function s(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}V.exports=function(u,l,f){var g=u._fullLayout,h=g._paper,w=g._toppaper,d=g.width,o=g.height,v;h.insert("rect",":first-child").call(i.setRect,0,0,d,o).call(L.fill,g.paper_bgcolor);var A=g._basePlotModules||[];for(v=0;v<A.length;v++){var b=A[v];b.toSVG&&b.toSVG(u)}if(w){var M=w.node().childNodes,m=Array.prototype.slice.call(M);for(v=0;v<m.length;v++){var S=m[v];S.childNodes.length&&h.node().appendChild(S)}}g._draggers&&g._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var a=x.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){a.remove();return}else a.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&a.style("font-family",E.replace(c,y))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var a=x.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&a.style("fill",E.replace(c,y));var p=this.style.stroke;p&&p.indexOf("url(")!==-1&&a.style("stroke",p.replace(c,y))}),(l==="pdf"||l==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(C.xmlns,"xmlns",C.svg),h.node().setAttributeNS(C.xmlns,"xmlns:xlink",C.xlink),l==="svg"&&f&&(h.attr("width",f*d),h.attr("height",f*o),h.attr("viewBox","0 0 "+d+" "+o));var T=new window.XMLSerializer().serializeToString(h.node());return T=t(T),T=s(T),T=T.replace(r,"'"),P.isIE()&&(T=T.replace(/"/gi,"'"),T=T.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),T=T.replace(/(\\')/gi,'"')),T}},84664:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){for(var C=0;C<i.length;C++)i[C].i=C;x.mergeArray(L.text,i,"tx"),x.mergeArray(L.hovertext,i,"htx");var c=L.marker;if(c){x.mergeArray(c.opacity,i,"mo",!0),x.mergeArray(c.color,i,"mc");var y=c.line;y&&(x.mergeArray(y.color,i,"mlc"),x.mergeArrayCastPositive(y.width,i,"mlw"))}}},20832:function(V,U,e){"use strict";var x=e(52904),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(21776).Gw,C=e(49084),c=e(25376),y=e(78048),r=e(98192).c,t=e(92880).extendFlat,s=c({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=x.marker,u=n.line,l=t({},u.width,{dflt:0}),f=t({width:l,editType:"calc"},C("marker.line")),g=t({line:f,editType:"calc"},C("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});V.exports={x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:x.text,texttemplate:L({editType:"plot"},{keys:y.eventDataKeys}),hovertext:x.hovertext,hovertemplate:i({},{keys:y.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},s,{}),insidetextfont:t({},s,{}),outsidetextfont:t({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},x.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,selected:{marker:{opacity:x.selected.marker.opacity,color:x.selected.marker.color,editType:"style"},textfont:x.selected.textfont,editType:"style"},unselected:{marker:{opacity:x.unselected.marker.opacity,color:x.unselected.marker.color,editType:"style"},textfont:x.unselected.textfont,editType:"style"},zorder:x.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(V,U,e){"use strict";var x=e(54460),P=e(1220),i=e(94288).hasColorscale,L=e(47128),C=e(84664),c=e(4500);V.exports=function(r,t){var s=x.getFromId(r,t.xaxis||"x"),n=x.getFromId(r,t.yaxis||"y"),u,l,f,g,h,w,d={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(u=s.makeCalcdata(t,"x",d),f=n.makeCalcdata(t,"y"),g=P(t,n,"y",f),h=!!t.yperiodalignment,w="y"):(u=n.makeCalcdata(t,"y",d),f=s.makeCalcdata(t,"x"),g=P(t,s,"x",f),h=!!t.xperiodalignment,w="x"),l=g.vals;for(var o=Math.min(l.length,u.length),v=new Array(o),A=0;A<o;A++)v[A]={p:l[A],s:u[A]},h&&(v[A].orig_p=f[A],v[A][w+"End"]=g.ends[A],v[A][w+"Start"]=g.starts[A]),t.ids&&(v[A].id=String(t.ids[A]));return i(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),i(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(v,t),c(v,t),v}},78048:function(V){"use strict";V.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(V,U,e){"use strict";var x=e(38248),P=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,L=e(24040),C=e(54460),c=e(71888).getAxisGroup,y=e(72592);function r(p,k){for(var R=k.xaxis,B=k.yaxis,F=p._fullLayout,_=p._fullData,O=p.calcdata,z=[],N=[],Y=0;Y<_.length;Y++){var J=_[Y];if(J.visible===!0&&L.traceIs(J,"bar")&&J.xaxis===R._id&&J.yaxis===B._id&&(J.orientation==="h"?z.push(O[Y]):N.push(O[Y]),J._computePh))for(var ae=p.calcdata[Y],se=0;se<ae.length;se++)typeof ae[se].ph0=="function"&&(ae[se].ph0=ae[se].ph0()),typeof ae[se].ph1=="function"&&(ae[se].ph1=ae[se].ph1())}var ue={xCat:R.type==="category"||R.type==="multicategory",yCat:B.type==="category"||B.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};t(p,R,B,N,ue),t(p,B,R,z,ue)}function t(p,k,R,B,F){if(B.length){var _,O,z,N,Y;switch(u(R,B),F.mode){case"overlay":l(k,R,B,F);break;case"group":for(_=[],O=[],z=0;z<B.length;z++)N=B[z],Y=N[0].trace,Y.offset===void 0?O.push(N):_.push(N);O.length&&f(p,k,R,O,F),_.length&&l(k,R,_,F);break;case"stack":case"relative":for(_=[],O=[],z=0;z<B.length;z++)N=B[z],Y=N[0].trace,Y.base===void 0?O.push(N):_.push(N);n(O),O.length&&g(p,k,R,O,F),_.length&&l(k,R,_,F);break}s(B),a(B,k)}}function s(p){var k,R,B,F,_,O,z;for(k=0;k<p.length;k++)R=p[k],B=R[0].trace,F=R[0].t,F.cornerradiusvalue===void 0&&(_=B.marker?B.marker.cornerradius:void 0,_!==void 0&&(O=x(_)?+_:+_.slice(0,-1),z=x(_)?"px":"%",F.cornerradiusvalue=O,F.cornerradiusform=z))}function n(p){if(!(p.length<2)){var k,R,B,F,_,O,z;for(k=0;k<p.length&&(R=p[k],B=R[0].trace,_=B.marker?B.marker.cornerradius:void 0,_===void 0);k++);if(_!==void 0)for(O=x(_)?+_:+_.slice(0,-1),z=x(_)?"px":"%",k=0;k<p.length;k++)R=p[k],F=R[0].t,F.cornerradiusvalue=O,F.cornerradiusform=z}}function u(p,k){var R,B;for(R=0;R<k.length;R++){var F=k[R],_=F[0].trace,O=_.type==="funnel"?_._base:_.base,z,N=_.orientation==="h"?_.xcalendar:_.ycalendar,Y=p.type==="category"||p.type==="multicategory"?function(){return null}:p.d2c;if(P(O)){for(B=0;B<Math.min(O.length,F.length);B++)z=Y(O[B],0,N),x(z)?(F[B].b=+z,F[B].hasB=1):F[B].b=0;for(;B<F.length;B++)F[B].b=0}else{z=Y(O,0,N);var J=x(z);for(z=J?z:0,B=0;B<F.length;B++)F[B].b=z,J&&(F[B].hasB=1)}}}function l(p,k,R,B){for(var F=0;F<R.length;F++){var _=R[F],O=new y([_],{posAxis:p,sepNegVal:!1,overlapNoMerge:!B.norm});h(p,O,B),B.norm?(M(O),S(k,O,B)):A(k,O)}}function f(p,k,R,B,F){var _=new y(B,{posAxis:k,sepNegVal:!1,overlapNoMerge:!F.norm});w(p,k,_,F),m(_,k),F.norm?(M(_),S(R,_,F)):A(R,_)}function g(p,k,R,B,F){var _=new y(B,{posAxis:k,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});h(k,_,F),b(R,_,F);for(var O=0;O<B.length;O++)for(var z=B[O],N=0;N<z.length;N++){var Y=z[N];if(Y.s!==i){var J=Y.b+Y.s===_.get(Y.p,Y.s);J&&(Y._outmost=!0)}}F.norm&&S(R,_,F)}function h(p,k,R){for(var B=k.minDiff,F=k.traces,_=B*(1-R.gap),O=_,z=O*(1-(R.groupgap||0)),N=-z/2,Y=0;Y<F.length;Y++){var J=F[Y],ae=J[0].t;ae.barwidth=z,ae.poffset=N,ae.bargroupwidth=_,ae.bardelta=B}k.binWidth=F[0][0].t.barwidth/100,d(k),o(p,k),v(p,k)}function w(p,k,R,B){for(var F=p._fullLayout,_=R.positions,O=R.distinctPositions,z=R.minDiff,N=R.traces,Y=N.length,J=_.length!==O.length,ae=z*(1-B.gap),se=c(F,k._id)+N[0][0].trace.orientation,ue=F._alignmentOpts[se]||{},K=0;K<Y;K++){var j=N[K],ie=j[0].trace,W=ue[ie.alignmentgroup]||{},Q=Object.keys(W.offsetGroups||{}).length,ee;Q?ee=ae/Q:ee=J?ae/Y:ae;var $=ee*(1-(B.groupgap||0)),X;Q?X=((2*ie._offsetIndex+1-Q)*ee-$)/2:X=J?((2*K+1-Y)*ee-$)/2:-$/2;var oe=j[0].t;oe.barwidth=$,oe.poffset=X,oe.bargroupwidth=ae,oe.bardelta=z}R.binWidth=N[0][0].t.barwidth/100,d(R),o(k,R),v(k,R,J)}function d(p){var k=p.traces,R,B;for(R=0;R<k.length;R++){var F=k[R],_=F[0],O=_.trace,z=_.t,N=O._offset||O.offset,Y=z.poffset,J;if(P(N)){for(J=Array.prototype.slice.call(N,0,F.length),B=0;B<J.length;B++)x(J[B])||(J[B]=Y);for(B=J.length;B<F.length;B++)J.push(Y);z.poffset=J}else N!==void 0&&(z.poffset=N);var ae=O._width||O.width,se=z.barwidth;if(P(ae)){var ue=Array.prototype.slice.call(ae,0,F.length);for(B=0;B<ue.length;B++)x(ue[B])||(ue[B]=se);for(B=ue.length;B<F.length;B++)ue.push(se);if(z.barwidth=ue,N===void 0){for(J=[],B=0;B<F.length;B++)J.push(Y+(se-ue[B])/2);z.poffset=J}}else ae!==void 0&&(z.barwidth=ae,N===void 0&&(z.poffset=Y+(se-ae)/2))}}function o(p,k){for(var R=k.traces,B=E(p),F=0;F<R.length;F++)for(var _=R[F],O=_[0].t,z=O.poffset,N=P(z),Y=O.barwidth,J=P(Y),ae=0;ae<_.length;ae++){var se=_[ae],ue=se.w=J?Y[ae]:Y;se.p===void 0&&(se.p=se[B],se["orig_"+B]=se[B]);var K=(N?z[ae]:z)+ue/2;se[B]=se.p+K}}function v(p,k,R){var B=k.traces,F=k.minDiff,_=F/2;C.minDtick(p,k.minDiff,k.distinctPositions[0],R);for(var O=0;O<B.length;O++){var z=B[O],N=z[0],Y=N.trace,J=[],ae,se,ue,K;for(K=0;K<z.length;K++)ae=z[K],se=ae.p-_,ue=ae.p+_,J.push(se,ue);if(Y.width||Y.offset){var j=N.t,ie=j.poffset,W=j.barwidth,Q=P(ie),ee=P(W);for(K=0;K<z.length;K++){ae=z[K];var $=Q?ie[K]:ie,X=ee?W[K]:W;se=ae.p+$,ue=se+X,J.push(se,ue)}}Y._extremes[p._id]=C.findExtremes(p,J,{padded:!1})}}function A(p,k){for(var R=k.traces,B=E(p),F=0;F<R.length;F++){for(var _=R[F],O=_[0].trace,z=O.type==="scatter",N=O.orientation==="v",Y=[],J=!1,ae=0;ae<_.length;ae++){var se=_[ae],ue=z?0:se.b,K=z?N?se.y:se.x:ue+se.s;se[B]=K,Y.push(K),se.hasB&&Y.push(ue),(!se.hasB||!se.b)&&(J=!0)}O._extremes[p._id]=C.findExtremes(p,Y,{tozero:J,padded:!0})}}function b(p,k,R){var B=E(p),F=k.traces,_,O,z,N,Y,J;for(N=0;N<F.length;N++)if(_=F[N],O=_[0].trace,O.type==="funnel")for(Y=0;Y<_.length;Y++)J=_[Y],J.s!==i&&k.put(J.p,-.5*J.s);for(N=0;N<F.length;N++){_=F[N],O=_[0].trace,z=O.type==="funnel";var ae=[];for(Y=0;Y<_.length;Y++)if(J=_[Y],J.s!==i){var se;z?se=J.s:se=J.s+J.b;var ue=k.put(J.p,se),K=ue+se;J.b=ue,J[B]=K,R.norm||(ae.push(K),J.hasB&&ae.push(ue))}R.norm||(O._extremes[p._id]=C.findExtremes(p,ae,{tozero:!0,padded:!0}))}}function M(p){for(var k=p.traces,R=0;R<k.length;R++)for(var B=k[R],F=0;F<B.length;F++){var _=B[F];_.s!==i&&p.put(_.p,_.b+_.s)}}function m(p,k){for(var R=p.traces,B=0;B<R.length;B++){var F=R[B],_=F[0].trace;if(_.base===void 0)for(var O=new y([F],{posAxis:k,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<F.length;z++){var N=F[z];if(N.p!==i){var Y=O.put(N.p,N.b+N.s);Y&&(N.b=Y)}}}}function S(p,k,R){var B=k.traces,F=E(p),_=R.norm==="fraction"?1:100,O=_/1e9,z=p.l2c(p.c2l(0)),N=R.mode==="stack"?_:z;function Y(X){return x(p.c2l(X))&&(X<z-O||X>N+O||!x(z))}for(var J=0;J<B.length;J++){for(var ae=B[J],se=ae[0].trace,ue=[],K=!1,j=!1,ie=0;ie<ae.length;ie++){var W=ae[ie];if(W.s!==i){var Q=Math.abs(_/k.get(W.p,W.s));W.b*=Q,W.s*=Q;var ee=W.b,$=ee+W.s;W[F]=$,ue.push($),j=j||Y($),W.hasB&&(ue.push(ee),j=j||Y(ee)),(!W.hasB||!W.b)&&(K=!0)}}se._extremes[p._id]=C.findExtremes(p,ue,{tozero:K,padded:j})}}function T(p,k,R,B){for(var F=E(B),_=0;_<p.length;_++)for(var O=p[_],z=0;z<O.length;z++){var N=O[z],Y=N[F];N._sMin=k[Y],N._sMax=R[Y]}}function a(p,k){var R=E(k),B={},F,_,O,z=1/0,N=-1/0;for(F=0;F<p.length;F++)for(O=p[F],_=0;_<O.length;_++){var Y=O[_].p;x(Y)&&(z=Math.min(z,Y),N=Math.max(N,Y))}var J=1e4/(N-z),ae=B.round=function(fe){return String(Math.round(J*(fe-z)))},se={},ue={},K=p.some(function(fe){var pe=fe[0].trace;return"marker"in pe&&pe.marker.cornerradius});for(F=0;F<p.length;F++){O=p[F],O[0].t.extents=B;var j=O[0].t.poffset,ie=P(j);for(_=0;_<O.length;_++){var W=O[_],Q=W[R]-W.w/2;if(x(Q)){var ee=W[R]+W.w/2,$=ae(W.p);B[$]?B[$]=[Math.min(Q,B[$][0]),Math.max(ee,B[$][1])]:B[$]=[Q,ee]}if(W.p0=W.p+(ie?j[_]:j),W.p1=W.p0+W.w,W.s0=W.b,W.s1=W.s0+W.s,K){var X=Math.min(W.s0,W.s1)||0,oe=Math.max(W.s0,W.s1)||0,te=W[R];se[te]=te in se?Math.min(se[te],X):X,ue[te]=te in ue?Math.max(ue[te],oe):oe}}}K&&T(p,se,ue,k)}function E(p){return p._id.charAt(0)}V.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(76308),L=e(24040),C=e(43980),c=e(31147),y=e(55592),r=e(20011),t=e(20832),s=P.coerceFont;function n(g,h,w,d){function o(m,S){return P.coerce(g,h,t,m,S)}var v=C(g,h,d,o);if(!v){h.visible=!1;return}c(g,h,d,o),o("xhoverformat"),o("yhoverformat"),o("zorder"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var A=o("textposition");f(g,h,d,o,A,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),y(g,h,o,w,d);var b=(h.marker.line||{}).color,M=L.getComponentMethod("errorbars","supplyDefaults");M(g,h,b||i.defaultLine,{axis:"y"}),M(g,h,b||i.defaultLine,{axis:"x",inherit:"y"}),P.coerceSelectionMarkerOpacity(h,o)}function u(g,h){var w,d;function o(b,M){return P.coerce(d._input,d,t,b,M)}for(var v=0;v<g.length;v++)if(d=g[v],d.type==="bar"){w=d._input;var A=o("marker.cornerradius",h.barcornerradius);d.marker&&(d.marker.cornerradius=l(A)),h.barmode==="group"&&r(w,d,h,o)}}function l(g){if(x(g)){if(g=+g,g>=0)return g}else if(typeof g=="string"&&(g=g.trim(),g.slice(-1)==="%"&&x(g.slice(0,-1))&&(g=+g.slice(0,-1),g>=0)))return g+"%"}function f(g,h,w,d,o,v){v=v||{};var A=v.moduleHasSelected!==!1,b=v.moduleHasUnselected!==!1,M=v.moduleHasConstrain!==!1,m=v.moduleHasCliponaxis!==!1,S=v.moduleHasTextangle!==!1,T=v.moduleHasInsideanchor!==!1,a=!!v.hasPathbar,E=Array.isArray(o)||o==="auto",p=E||o==="inside",k=E||o==="outside";if(p||k){var R=s(d,"textfont",w.font),B=P.extendFlat({},R),F=g.textfont&&g.textfont.color,_=!F;if(_&&delete B.color,s(d,"insidetextfont",B),a){var O=P.extendFlat({},R);_&&delete O.color,s(d,"pathbar.textfont",O)}k&&s(d,"outsidetextfont",R),A&&d("selected.textfont.color"),b&&d("unselected.textfont.color"),M&&d("constraintext"),m&&d("cliponaxis"),S&&d("textangle"),d("texttemplate")}p&&T&&d("insidetextanchor")}V.exports={supplyDefaults:n,crossTraceDefaults:u,handleText:f,validateCornerradius:l}},52160:function(V){"use strict";V.exports=function(e,x,P){return e.x="xVal"in x?x.xVal:x.x,e.y="yVal"in x?x.yVal:x.y,x.xa&&(e.xaxis=x.xa),x.ya&&(e.yaxis=x.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(V,U,e){"use strict";var x=e(38248),P=e(49760),i=e(3400).isArrayOrTypedArray;U.coerceString=function(L,C,c){if(typeof C=="string"){if(C||!L.noBlank)return C}else if((typeof C=="number"||C===!0)&&!L.strict)return String(C);return c!==void 0?c:L.dflt},U.coerceNumber=function(L,C,c){if(x(C)){C=+C;var y=L.min,r=L.max,t=y!==void 0&&C<y||r!==void 0&&C>r;if(!t)return C}return c!==void 0?c:L.dflt},U.coerceColor=function(L,C,c){return P(C).isValid()?C:c!==void 0?c:L.dflt},U.coerceEnumerated=function(L,C,c){return L.coerceNumber&&(C=+C),L.values.indexOf(C)!==-1?C:c!==void 0?c:L.dflt},U.getValue=function(L,C){var c;return i(L)?C<L.length&&(c=L[C]):c=L,c},U.getLineWidth=function(L,C){var c=0<C.mlw?C.mlw:i(L.marker.line.width)?0:L.marker.line.width;return c}},63400:function(V,U,e){"use strict";var x=e(93024),P=e(24040),i=e(76308),L=e(3400).fillText,C=e(60444).getLineWidth,c=e(54460).hoverLabelText,y=e(39032).BADNUM;function r(n,u,l,f,g){var h=t(n,u,l,f,g);if(h){var w=h.cd,d=w[0].trace,o=w[h.index];return h.color=s(d,o),P.getComponentMethod("errorbars","hoverInfo")(o,d,h),[h]}}function t(n,u,l,f,g){var h=n.cd,w=h[0].trace,d=h[0].t,o=f==="closest",v=w.type==="waterfall",A=n.maxHoverDistance,b=n.maxSpikeDistance,M,m,S,T,a,E,p;w.orientation==="h"?(M=l,m=u,S="y",T="x",a=ue,E=J):(M=u,m=l,S="x",T="y",E=ue,a=J);var k=w[S+"period"],R=o||k;function B(fe){return _(fe,-1)}function F(fe){return _(fe,1)}function _(fe,pe){var Ae=fe.w;return fe[S]+pe*Ae/2}function O(fe){return fe[S+"End"]-fe[S+"Start"]}var z=o?B:k?function(fe){return fe.p-O(fe)/2}:function(fe){return Math.min(B(fe),fe.p-d.bardelta/2)},N=o?F:k?function(fe){return fe.p+O(fe)/2}:function(fe){return Math.max(F(fe),fe.p+d.bardelta/2)};function Y(fe,pe,Ae){return g.finiteRange&&(Ae=0),x.inbox(fe-M,pe-M,Ae+Math.min(1,Math.abs(pe-fe)/p)-1)}function J(fe){return Y(z(fe),N(fe),A)}function ae(fe){return Y(B(fe),F(fe),b)}function se(fe){var pe=fe[T];if(v){var Ae=Math.abs(fe.rawS)||0;m>0?pe+=Ae:m<0&&(pe-=Ae)}return pe}function ue(fe){var pe=m,Ae=fe.b,be=se(fe);return x.inbox(Ae-pe,be-pe,A+(be-pe)/(be-Ae)-1)}function K(fe){var pe=m,Ae=fe.b,be=se(fe);return x.inbox(Ae-pe,be-pe,b+(be-pe)/(be-Ae)-1)}var j=n[S+"a"],ie=n[T+"a"];p=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));function W(fe){return(a(fe)+E(fe))/2}var Q=x.getDistanceFunction(f,a,E,W);if(x.getClosest(h,Q,n),n.index!==!1&&h[n.index].p!==y){R||(z=function(fe){return Math.min(B(fe),fe.p-d.bargroupwidth/2)},N=function(fe){return Math.max(F(fe),fe.p+d.bargroupwidth/2)});var ee=n.index,$=h[ee],X=w.base?$.b+$.s:$.s;n[T+"0"]=n[T+"1"]=ie.c2p($[T],!0),n[T+"LabelVal"]=X;var oe=d.extents[d.extents.round($.p)];n[S+"0"]=j.c2p(o?z($):oe[0],!0),n[S+"1"]=j.c2p(o?N($):oe[1],!0);var te=$.orig_p!==void 0;return n[S+"LabelVal"]=te?$.orig_p:$.p,n.labelLabel=c(j,n[S+"LabelVal"],w[S+"hoverformat"]),n.valueLabel=c(ie,n[T+"LabelVal"],w[T+"hoverformat"]),n.baseLabel=c(ie,$.b,w[T+"hoverformat"]),n.spikeDistance=(K($)+ae($))/2,n[S+"Spike"]=j.c2p($.p,!0),L($,w,n),n.hovertemplate=w.hovertemplate,n}}function s(n,u){var l=u.mcc||n.marker.color,f=u.mlcc||n.marker.line.color,g=C(n,u);if(i.opacity(l))return l;if(i.opacity(f)&&g)return f}V.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:s}},51132:function(V,U,e){"use strict";V.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(V){"use strict";V.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(V,U,e){"use strict";var x=e(24040),P=e(54460),i=e(3400),L=e(39324),C=e(31508).validateCornerradius;V.exports=function(c,y,r){function t(v,A){return i.coerce(c,y,L,v,A)}for(var s=!1,n=!1,u=!1,l={},f=t("barmode"),g=0;g<r.length;g++){var h=r[g];if(x.traceIs(h,"bar")&&h.visible)s=!0;else continue;if(f==="group"){var w=h.xaxis+h.yaxis;l[w]&&(u=!0),l[w]=!0}if(h.visible&&h.type==="histogram"){var d=P.getFromId({_fullLayout:y},h[h.orientation==="v"?"xaxis":"yaxis"]);d.type!=="category"&&(n=!0)}}if(!s){delete y.barmode;return}f!=="overlay"&&t("barnorm"),t("bargap",n&&!u?0:.2),t("bargroupgap");var o=t("barcornerradius");y.barcornerradius=C(o)}},98184:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(3400),L=e(72736),C=e(76308),c=e(43616),y=e(24040),r=e(54460).tickText,t=e(82744),s=t.recordMinTextSize,n=t.clearMinTextSize,u=e(60100),l=e(60444),f=e(78048),g=e(20832),h=g.text,w=g.textposition,d=e(10624).appendArrayPointValue,o=f.TEXTPAD;function v(J){return J.id}function A(J){if(J.ids)return v}function b(J){return(J>0)-(J<0)}function M(J,ae){return J<ae?1:-1}function m(J,ae,se,ue){var K=[],j=[],ie=ue?ae:se,W=ue?se:ae;return K[0]=ie.c2p(J.s0,!0),j[0]=W.c2p(J.p0,!0),K[1]=ie.c2p(J.s1,!0),j[1]=W.c2p(J.p1,!0),ue?[K,j]:[j,K]}function S(J,ae,se,ue){if(!ae.uniformtext.mode&&T(se)){var K;return ue&&(K=ue()),J.transition().duration(se.duration).ease(se.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()})}else return J}function T(J){return J&&J.duration>0}function a(J,ae,se,ue,K,j){var ie=ae.xaxis,W=ae.yaxis,Q=J._fullLayout,ee=J._context.staticPlot;K||(K={mode:Q.barmode,norm:Q.barmode,gap:Q.bargap,groupgap:Q.bargroupgap},n("bar",Q));var $=i.makeTraceGroups(ue,se,"trace bars").each(function(X){var oe=x.select(this),te=X[0].trace,fe=X[0].t,pe=te.type==="waterfall",Ae=te.type==="funnel",be=te.type==="histogram",Pe=te.type==="bar",me=Pe||Ae,Ee=0;pe&&te.connector.visible&&te.connector.mode==="between"&&(Ee=te.connector.line.width/2);var xe=te.orientation==="h",De=T(K),Ve=i.ensureSingle(oe,"g","points"),Ze=A(te),ke=Ve.selectAll("g.point").data(i.identity,Ze);ke.enter().append("g").classed("point",!0),ke.exit().remove(),ke.each(function(lt,yt){var He=x.select(this),Fe=m(lt,ie,W,xe),nt=Fe[0][0],ot=Fe[0][1],ct=Fe[1][0],ht=Fe[1][1],mt=(xe?ot-nt:ht-ct)===0;mt&&me&&l.getLineWidth(te,lt)&&(mt=!1),mt||(mt=!P(nt)||!P(ot)||!P(ct)||!P(ht)),lt.isBlank=mt,mt&&(xe?ot=nt:ht=ct),Ee&&!mt&&(xe?(nt-=M(nt,ot)*Ee,ot+=M(nt,ot)*Ee):(ct-=M(ct,ht)*Ee,ht+=M(ct,ht)*Ee));var tt,Re;if(te.type==="waterfall"){if(!mt){var Ge=te[lt.dir].marker;tt=Ge.line.width,Re=Ge.color}}else tt=l.getLineWidth(te,lt),Re=lt.mc||te.marker.color;function Je(st){var xt=x.round(tt/2%1,2);return K.gap===0&&K.groupgap===0?x.round(Math.round(st)-xt,2):st}function Xe(st,xt,Mt){return Mt&&st===xt?st:Math.abs(st-xt)>=2?Je(st):st>xt?Math.ceil(st):Math.floor(st)}var Oe=C.opacity(Re),Ne=Oe<1||tt>.01?Je:Xe;J._context.staticPlot||(nt=Ne(nt,ot,xe),ot=Ne(ot,nt,xe),ct=Ne(ct,ht,!xe),ht=Ne(ht,ct,!xe));var ze=xe?ie.c2p:W.c2p,et;lt.s0>0?et=lt._sMax:lt.s0<0?et=lt._sMin:et=lt.s1>0?lt._sMax:lt._sMin;function Le(st,xt){if(!st)return 0;var Mt=Math.abs(xe?ht-ct:ot-nt),Rt=Math.abs(xe?ot-nt:ht-ct),Vt=Ne(Math.abs(ze(et,!0)-ze(0,!0))),Ct=lt.hasB?Math.min(Mt/2,Rt/2):Math.min(Mt/2,Vt),Bt;if(xt==="%"){var Xt=Math.min(50,st);Bt=Mt*(Xt/100)}else Bt=st;return Ne(Math.max(Math.min(Bt,Ct),0))}var Te=Pe||be?Le(fe.cornerradiusvalue,fe.cornerradiusform):0,ye,Se,Ke="M"+nt+","+ct+"V"+ht+"H"+ot+"V"+ct+"Z",rt=0;if(Te&&lt.s){var Lt=b(lt.s0)===0||b(lt.s)===b(lt.s0)?lt.s1:lt.s0;if(rt=Ne(lt.hasB?0:Math.abs(ze(et,!0)-ze(Lt,!0))),rt<Te){var It=M(nt,ot),wt=M(ct,ht),Et=It===-wt?1:0;if(xe)if(lt.hasB)ye="M"+(nt+Te*It)+","+ct+"A "+Te+","+Te+" 0 0 "+Et+" "+nt+","+(ct+Te*wt)+"V"+(ht-Te*wt)+"A "+Te+","+Te+" 0 0 "+Et+" "+(nt+Te*It)+","+ht+"H"+(ot-Te*It)+"A "+Te+","+Te+" 0 0 "+Et+" "+ot+","+(ht-Te*wt)+"V"+(ct+Te*wt)+"A "+Te+","+Te+" 0 0 "+Et+" "+(ot-Te*It)+","+ct+"Z";else{Se=Math.abs(ot-nt)+rt;var Wt=Se<Te?Te-Math.sqrt(Se*(2*Te-Se)):0,vr=rt>0?Math.sqrt(rt*(2*Te-rt)):0,dt=It>0?Math.max:Math.min;ye="M"+nt+","+ct+"V"+(ht-Wt*wt)+"H"+dt(ot-(Te-rt)*It,nt)+"A "+Te+","+Te+" 0 0 "+Et+" "+ot+","+(ht-Te*wt-vr)+"V"+(ct+Te*wt+vr)+"A "+Te+","+Te+" 0 0 "+Et+" "+dt(ot-(Te-rt)*It,nt)+","+(ct+Wt*wt)+"Z"}else if(lt.hasB)ye="M"+(nt+Te*It)+","+ct+"A "+Te+","+Te+" 0 0 "+Et+" "+nt+","+(ct+Te*wt)+"V"+(ht-Te*wt)+"A "+Te+","+Te+" 0 0 "+Et+" "+(nt+Te*It)+","+ht+"H"+(ot-Te*It)+"A "+Te+","+Te+" 0 0 "+Et+" "+ot+","+(ht-Te*wt)+"V"+(ct+Te*wt)+"A "+Te+","+Te+" 0 0 "+Et+" "+(ot-Te*It)+","+ct+"Z";else{Se=Math.abs(ht-ct)+rt;var Yt=Se<Te?Te-Math.sqrt(Se*(2*Te-Se)):0,jt=rt>0?Math.sqrt(rt*(2*Te-rt)):0,gr=wt>0?Math.max:Math.min;ye="M"+(nt+Yt*It)+","+ct+"V"+gr(ht-(Te-rt)*wt,ct)+"A "+Te+","+Te+" 0 0 "+Et+" "+(nt+Te*It-jt)+","+ht+"H"+(ot-Te*It+jt)+"A "+Te+","+Te+" 0 0 "+Et+" "+(ot-Yt*It)+","+gr(ht-(Te-rt)*wt,ct)+"V"+ct+"Z"}}else ye=Ke}else ye=Ke;var sr=S(i.ensureSingle(He,"path"),Q,K,j);if(sr.style("vector-effect",ee?"none":"non-scaling-stroke").attr("d",isNaN((ot-nt)*(ht-ct))||mt&&J._context.staticPlot?"M0,0Z":ye).call(c.setClipUrl,ae.layerClipId,J),!Q.uniformtext.mode&&De){var gt=c.makePointStyleFns(te);c.singlePointStyle(lt,sr,te,gt,J)}E(J,ae,He,X,yt,nt,ot,ct,ht,Te,rt,K,j),ae.layerClipId&&c.hideOutsideRangePoint(lt,He.select("text"),ie,W,te.xcalendar,te.ycalendar)});var Ye=te.cliponaxis===!1;c.setClipUrl(oe,Ye?null:ae.layerClipId,J)});y.getComponentMethod("errorbars","plot")(J,$,ae,K)}function E(J,ae,se,ue,K,j,ie,W,Q,ee,$,X,oe){var te=ae.xaxis,fe=ae.yaxis,pe=J._fullLayout,Ae;function be(Se,Ke,rt){var Lt=i.ensureSingle(Se,"text").text(Ke).attr({class:"bartext bartext-"+Ae,"text-anchor":"middle","data-notex":1}).call(c.font,rt).call(L.convertToTspans,J);return Lt}var Pe=ue[0].trace,me=Pe.orientation==="h",Ee=O(pe,ue,K,te,fe);Ae=z(Pe,K);var xe=X.mode==="stack"||X.mode==="relative",De=ue[K],Ve=!xe||De._outmost,Ze=De.hasB,ke=ee&&ee-$>o;if(!Ee||Ae==="none"||(De.isBlank||j===ie||W===Q)&&(Ae==="auto"||Ae==="inside")){se.select("text").remove();return}var Ye=pe.font,lt=u.getBarColor(ue[K],Pe),yt=u.getInsideTextFont(Pe,K,Ye,lt),He=u.getOutsideTextFont(Pe,K,Ye),Fe=Pe.insidetextanchor||"end",nt=se.datum();me?te.type==="log"&&nt.s0<=0&&(te.range[0]<te.range[1]?j=0:j=te._length):fe.type==="log"&&nt.s0<=0&&(fe.range[0]<fe.range[1]?W=fe._length:W=0);var ot=Math.abs(ie-j),ct=Math.abs(Q-W),ht=ot-2*o,mt=ct-2*o,tt,Re,Ge,Je,Xe;if(Ae==="outside"&&!Ve&&!De.hasB&&(Ae="inside"),Ae==="auto")if(Ve){Ae="inside",Xe=i.ensureUniformFontSize(J,yt),tt=be(se,Ee,Xe),Re=c.bBox(tt.node()),Ge=Re.width,Je=Re.height;var Oe=Ge>0&&Je>0,Ne;ke?Ze?Ne=p(ht-2*ee,mt,Ge,Je,me)||p(ht,mt-2*ee,Ge,Je,me):me?Ne=p(ht-(ee-$),mt,Ge,Je,me)||p(ht,mt-2*(ee-$),Ge,Je,me):Ne=p(ht,mt-(ee-$),Ge,Je,me)||p(ht-2*(ee-$),mt,Ge,Je,me):Ne=p(ht,mt,Ge,Je,me),Oe&&Ne?Ae="inside":(Ae="outside",tt.remove(),tt=null)}else Ae="inside";if(!tt){Xe=i.ensureUniformFontSize(J,Ae==="outside"?He:yt),tt=be(se,Ee,Xe);var ze=tt.attr("transform");if(tt.attr("transform",""),Re=c.bBox(tt.node()),Ge=Re.width,Je=Re.height,tt.attr("transform",ze),Ge<=0||Je<=0){tt.remove();return}}var et=Pe.textangle,Le,Te;Ae==="outside"?(Te=Pe.constraintext==="both"||Pe.constraintext==="outside",Le=_(j,ie,W,Q,Re,{isHorizontal:me,constrained:Te,angle:et})):(Te=Pe.constraintext==="both"||Pe.constraintext==="inside",Le=B(j,ie,W,Q,Re,{isHorizontal:me,constrained:Te,angle:et,anchor:Fe,hasB:Ze,r:ee,overhead:$})),Le.fontSize=Xe.size,s(Pe.type==="histogram"?"bar":Pe.type,Le,pe),De.transform=Le;var ye=S(tt,pe,X,oe);i.setTransormAndDisplay(ye,Le)}function p(J,ae,se,ue,K){if(J<0||ae<0)return!1;var j=se<=J&&ue<=ae,ie=se<=ae&&ue<=J,W=K?J>=se*(ae/ue):ae>=ue*(J/se);return j||ie||W}function k(J){return J==="auto"?0:J}function R(J,ae){var se=Math.PI/180*ae,ue=Math.abs(Math.sin(se)),K=Math.abs(Math.cos(se));return{x:J.width*K+J.height*ue,y:J.width*ue+J.height*K}}function B(J,ae,se,ue,K,j){var ie=!!j.isHorizontal,W=!!j.constrained,Q=j.angle||0,ee=j.anchor,$=ee==="end",X=ee==="start",oe=j.leftToRight||0,te=(oe+1)/2,fe=1-te,pe=j.hasB,Ae=j.r,be=j.overhead,Pe=K.width,me=K.height,Ee=Math.abs(ae-J),xe=Math.abs(ue-se),De=Ee>2*o&&xe>2*o?o:0;Ee-=2*De,xe-=2*De;var Ve=k(Q);Q==="auto"&&!(Pe<=Ee&&me<=xe)&&(Pe>Ee||me>xe)&&(!(Pe>xe||me>Ee)||Pe<me!=Ee<xe)&&(Ve+=90);var Ze=R(K,Ve),ke,Ye;if(Ae&&Ae-be>o){var lt=F(J,ae,se,ue,Ze,Ae,be,ie,pe);ke=lt.scale,Ye=lt.pad}else ke=1,W&&(ke=Math.min(1,Ee/Ze.x,xe/Ze.y)),Ye=0;var yt=K.left*fe+K.right*te,He=(K.top+K.bottom)/2,Fe=(J+o)*fe+(ae-o)*te,nt=(se+ue)/2,ot=0,ct=0;if(X||$){var ht=(ie?Ze.x:Ze.y)/2;Ae&&($||pe)&&(De+=Ye);var mt=ie?M(J,ae):M(se,ue);ie?X?(Fe=J+mt*De,ot=-mt*ht):(Fe=ae-mt*De,ot=mt*ht):X?(nt=se+mt*De,ct=-mt*ht):(nt=ue-mt*De,ct=mt*ht)}return{textX:yt,textY:He,targetX:Fe,targetY:nt,anchorX:ot,anchorY:ct,scale:ke,rotate:Ve}}function F(J,ae,se,ue,K,j,ie,W,Q){var ee=Math.max(0,Math.abs(ae-J)-2*o),$=Math.max(0,Math.abs(ue-se)-2*o),X=j-o,oe=ie?X-Math.sqrt(X*X-(X-ie)*(X-ie)):X,te=Q?X*2:W?X-ie:2*oe,fe=Q?X*2:W?2*oe:X-ie,pe,Ae,be,Pe,me;return K.y/K.x>=$/(ee-te)?Pe=$/K.y:K.y/K.x<=($-fe)/ee?Pe=ee/K.x:!Q&&W?(pe=K.x*K.x+K.y*K.y/4,Ae=-2*K.x*(ee-X)-K.y*($/2-X),be=(ee-X)*(ee-X)+($/2-X)*($/2-X)-X*X,Pe=(-Ae+Math.sqrt(Ae*Ae-4*pe*be))/(2*pe)):Q?(pe=(K.x*K.x+K.y*K.y)/4,Ae=-K.x*(ee/2-X)-K.y*($/2-X),be=(ee/2-X)*(ee/2-X)+($/2-X)*($/2-X)-X*X,Pe=(-Ae+Math.sqrt(Ae*Ae-4*pe*be))/(2*pe)):(pe=K.x*K.x/4+K.y*K.y,Ae=-K.x*(ee/2-X)-2*K.y*($-X),be=(ee/2-X)*(ee/2-X)+($-X)*($-X)-X*X,Pe=(-Ae+Math.sqrt(Ae*Ae-4*pe*be))/(2*pe)),Pe=Math.min(1,Pe),W?me=Math.max(0,X-Math.sqrt(Math.max(0,X*X-(X-($-K.y*Pe)/2)*(X-($-K.y*Pe)/2)))-ie):me=Math.max(0,X-Math.sqrt(Math.max(0,X*X-(X-(ee-K.x*Pe)/2)*(X-(ee-K.x*Pe)/2)))-ie),{scale:Pe,pad:me}}function _(J,ae,se,ue,K,j){var ie=!!j.isHorizontal,W=!!j.constrained,Q=j.angle||0,ee=K.width,$=K.height,X=Math.abs(ae-J),oe=Math.abs(ue-se),te;ie?te=oe>2*o?o:0:te=X>2*o?o:0;var fe=1;W&&(fe=ie?Math.min(1,oe/$):Math.min(1,X/ee));var pe=k(Q),Ae=R(K,pe),be=(ie?Ae.x:Ae.y)/2,Pe=(K.left+K.right)/2,me=(K.top+K.bottom)/2,Ee=(J+ae)/2,xe=(se+ue)/2,De=0,Ve=0,Ze=ie?M(ae,J):M(se,ue);return ie?(Ee=ae-Ze*te,De=Ze*be):(xe=ue+Ze*te,Ve=-Ze*be),{textX:Pe,textY:me,targetX:Ee,targetY:xe,anchorX:De,anchorY:Ve,scale:fe,rotate:pe}}function O(J,ae,se,ue,K){var j=ae[0].trace,ie=j.texttemplate,W;return ie?W=N(J,ae,se,ue,K):j.textinfo?W=Y(ae,se,ue,K):W=l.getValue(j.text,se),l.coerceString(h,W)}function z(J,ae){var se=l.getValue(J.textposition,ae);return l.coerceEnumerated(w,se)}function N(J,ae,se,ue,K){var j=ae[0].trace,ie=i.castOption(j,se,"texttemplate");if(!ie)return"";var W=j.type==="histogram",Q=j.type==="waterfall",ee=j.type==="funnel",$=j.orientation==="h",X,oe,te,fe;$?(X="y",oe=K,te="x",fe=ue):(X="x",oe=ue,te="y",fe=K);function pe(De){return r(oe,oe.c2l(De),!0).text}function Ae(De){return r(fe,fe.c2l(De),!0).text}var be=ae[se],Pe={};Pe.label=be.p,Pe.labelLabel=Pe[X+"Label"]=pe(be.p);var me=i.castOption(j,be.i,"text");(me===0||me)&&(Pe.text=me),Pe.value=be.s,Pe.valueLabel=Pe[te+"Label"]=Ae(be.s);var Ee={};d(Ee,j,be.i),(W||Ee.x===void 0)&&(Ee.x=$?Pe.value:Pe.label),(W||Ee.y===void 0)&&(Ee.y=$?Pe.label:Pe.value),(W||Ee.xLabel===void 0)&&(Ee.xLabel=$?Pe.valueLabel:Pe.labelLabel),(W||Ee.yLabel===void 0)&&(Ee.yLabel=$?Pe.labelLabel:Pe.valueLabel),Q&&(Pe.delta=+be.rawS||be.s,Pe.deltaLabel=Ae(Pe.delta),Pe.final=be.v,Pe.finalLabel=Ae(Pe.final),Pe.initial=Pe.final-Pe.delta,Pe.initialLabel=Ae(Pe.initial)),ee&&(Pe.value=be.s,Pe.valueLabel=Ae(Pe.value),Pe.percentInitial=be.begR,Pe.percentInitialLabel=i.formatPercent(be.begR),Pe.percentPrevious=be.difR,Pe.percentPreviousLabel=i.formatPercent(be.difR),Pe.percentTotal=be.sumR,Pe.percenTotalLabel=i.formatPercent(be.sumR));var xe=i.castOption(j,be.i,"customdata");return xe&&(Pe.customdata=xe),i.texttemplateString(ie,Pe,J._d3locale,Ee,Pe,j._meta||{})}function Y(J,ae,se,ue){var K=J[0].trace,j=K.orientation==="h",ie=K.type==="waterfall",W=K.type==="funnel";function Q(xe){var De=j?ue:se;return r(De,xe,!0).text}function ee(xe){var De=j?se:ue;return r(De,+xe,!0).text}var $=K.textinfo,X=J[ae],oe=$.split("+"),te=[],fe,pe=function(xe){return oe.indexOf(xe)!==-1};if(pe("label")&&te.push(Q(J[ae].p)),pe("text")&&(fe=i.castOption(K,X.i,"text"),(fe===0||fe)&&te.push(fe)),ie){var Ae=+X.rawS||X.s,be=X.v,Pe=be-Ae;pe("initial")&&te.push(ee(Pe)),pe("delta")&&te.push(ee(Ae)),pe("final")&&te.push(ee(be))}if(W){pe("value")&&te.push(ee(X.s));var me=0;pe("percent initial")&&me++,pe("percent previous")&&me++,pe("percent total")&&me++;var Ee=me>1;pe("percent initial")&&(fe=i.formatPercent(X.begR),Ee&&(fe+=" of initial"),te.push(fe)),pe("percent previous")&&(fe=i.formatPercent(X.difR),Ee&&(fe+=" of previous"),te.push(fe)),pe("percent total")&&(fe=i.formatPercent(X.sumR),Ee&&(fe+=" of total"),te.push(fe))}return te.join("<br>")}V.exports={plot:a,toMoveInsideBar:B}},45784:function(V){"use strict";V.exports=function(x,P){var i=x.cd,L=x.xaxis,C=x.yaxis,c=i[0].trace,y=c.type==="funnel",r=c.orientation==="h",t=[],s;if(P===!1)for(s=0;s<i.length;s++)i[s].selected=0;else for(s=0;s<i.length;s++){var n=i[s],u="ct"in n?n.ct:U(n,L,C,r,y);P.contains(u,!1,s,x)?(t.push({pointNumber:s,x:L.c2d(n.x),y:C.c2d(n.y)}),n.selected=1):n.selected=0}return t};function U(e,x,P,i,L){var C=x.c2p(i?e.s0:e.p0,!0),c=x.c2p(i?e.s1:e.p1,!0),y=P.c2p(i?e.p0:e.s0,!0),r=P.c2p(i?e.p1:e.s1,!0);return L?[(C+c)/2,(y+r)/2]:i?[c,(y+r)/2]:[(C+c)/2,r]}},72592:function(V,U,e){"use strict";V.exports=P;var x=e(3400).distinctVals;function P(i,L){this.traces=i,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var C=1/0,c=L.posAxis._id.charAt(0),y=[],r=0;r<i.length;r++){for(var t=i[r],s=0;s<t.length;s++){var n=t[s],u=n.p;u===void 0&&(u=n[c]),u!==void 0&&y.push(u)}t[0]&&t[0].width1&&(C=Math.min(t[0].width1,C))}this.positions=y;var l=x(y);this.distinctPositions=l.vals,l.vals.length===1&&C!==1/0?this.minDiff=C:this.minDiff=Math.min(l.minDiff,C);var f=(L.posAxis||{}).type;(f==="category"||f==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,C){var c=this.getLabel(L,C),y=this.bins[c]||0;return this.bins[c]=y+C,y},P.prototype.get=function(L,C){var c=this.getLabel(L,C);return this.bins[c]||0},P.prototype.getLabel=function(L,C){var c=C<0&&this.sepNegVal?"v":"^",y=this.overlapNoMerge?L:Math.round(L/this.binWidth);return c+y}},60100:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(43616),L=e(3400),C=e(24040),c=e(82744).resizeText,y=e(20832),r=y.textfont,t=y.insidetextfont,s=y.outsidetextfont,n=e(60444);function u(m){var S=x.select(m).selectAll('g[class^="barlayer"]').selectAll("g.trace");c(m,S,"bar");var T=S.size(),a=m._fullLayout;S.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(a.barmode==="stack"&&T>1||a.bargap===0&&a.bargroupgap===0&&!E[0].trace.marker.line.width)&&x.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(E){var p=x.select(this),k=E[0].trace;l(p,k,m)}),C.getComponentMethod("errorbars","style")(S)}function l(m,S,T){i.pointStyle(m.selectAll("path"),S,T),f(m,S,T)}function f(m,S,T){m.selectAll("text").each(function(a){var E=x.select(this),p=L.ensureUniformFontSize(T,d(E,a,S,T));i.font(E,p)})}function g(m,S,T){var a=S[0].trace;a.selectedpoints?h(T,a,m):(l(T,a,m),C.getComponentMethod("errorbars","style")(T))}function h(m,S,T){i.selectedPointStyle(m.selectAll("path"),S),w(m.selectAll("text"),S,T)}function w(m,S,T){m.each(function(a){var E=x.select(this),p;if(a.selected){p=L.ensureUniformFontSize(T,d(E,a,S,T));var k=S.selected.textfont&&S.selected.textfont.color;k&&(p.color=k),i.font(E,p)}else i.selectedTextStyle(E,S)})}function d(m,S,T,a){var E=a._fullLayout.font,p=T.textfont;if(m.classed("bartext-inside")){var k=M(S,T);p=v(T,S.i,E,k)}else m.classed("bartext-outside")&&(p=A(T,S.i,E));return p}function o(m,S,T){return b(r,m.textfont,S,T)}function v(m,S,T,a){var E=o(m,S,T),p=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[S]===void 0;return p&&(E={color:P.contrast(a),family:E.family,size:E.size}),b(t,m.insidetextfont,S,E)}function A(m,S,T){var a=o(m,S,T);return b(s,m.outsidetextfont,S,a)}function b(m,S,T,a){S=S||{};var E=n.getValue(S.family,T),p=n.getValue(S.size,T),k=n.getValue(S.color,T);return{family:n.coerceString(m.family,E,a.family),size:n.coerceNumber(m.size,p,a.size),color:n.coerceColor(m.color,k,a.color)}}function M(m,S){return S.type==="waterfall"?S[m.dir].marker.color:m.mcc||m.mc||S.marker.color}V.exports={style:u,styleTextPoints:f,styleOnSelect:g,getInsideTextFont:v,getOutsideTextFont:A,getBarColor:M,resizeText:c}},55592:function(V,U,e){"use strict";var x=e(76308),P=e(94288).hasColorscale,i=e(27260),L=e(3400).coercePattern;V.exports=function(c,y,r,t,s){var n=r("marker.color",t),u=P(c,"marker");u&&i(c,y,s,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",x.defaultLine),P(c,"marker.line")&&i(c,y,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",n,u),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(V,U,e){"use strict";var x=e(33428),P=e(3400);function i(y,r,t){var s=y._fullLayout,n=s["_"+t+"Text_minsize"];if(n){var u=s.uniformtext.mode==="hide",l;switch(t){case"funnelarea":case"pie":case"sunburst":l="g.slice";break;case"treemap":case"icicle":l="g.slice, g.pathbar";break;default:l="g.points > g.point"}r.selectAll(l).each(function(f){var g=f.transform;if(g){g.scale=u&&g.hide?0:n/g.fontSize;var h=x.select(this).select("text");P.setTransormAndDisplay(h,g)}})}}function L(y,r,t){if(t.uniformtext.mode){var s=c(y),n=t.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<n,t[s]=t[s]||1/0,r.hide||(t[s]=Math.min(t[s],Math.max(u,n)))}}function C(y,r){var t=c(y);r[t]=void 0}function c(y){return"_"+y+"Text_minsize"}V.exports={recordMinTextSize:L,clearMinTextSize:C,resizeText:i}},78100:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(92880).extendFlat,i=e(8319),L=e(20832);V.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:C(),hoverinfo:i.hoverinfo,hovertemplate:x(),selected:L.selected,unselected:L.unselected};function C(){var c=P({},L.marker);return delete c.cornerradius,c}},47056:function(V,U,e){"use strict";var x=e(94288).hasColorscale,P=e(47128),i=e(3400).isArrayOrTypedArray,L=e(84664),C=e(96376).setGroupPositions,c=e(4500),y=e(24040).traceIs,r=e(3400).extendFlat;function t(n,u){for(var l=n._fullLayout,f=u.subplot,g=l[f].radialaxis,h=l[f].angularaxis,w=g.makeCalcdata(u,"r"),d=h.makeCalcdata(u,"theta"),o=u._length,v=new Array(o),A=w,b=d,M=0;M<o;M++)v[M]={p:b[M],s:A[M]};function m(S){var T=u[S];T!==void 0&&(u["_"+S]=i(T)?h.makeCalcdata(u,S):h.d2c(T,u.thetaunit))}return h.type==="linear"&&(m("width"),m("offset")),x(u,"marker")&&P(n,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),x(u,"marker.line")&&P(n,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(v,u),c(v,u),v}function s(n,u,l){for(var f=n.calcdata,g=[],h=0;h<f.length;h++){var w=f[h],d=w[0].trace;d.visible===!0&&y(d,"bar")&&d.subplot===l&&g.push(w)}var o=r({},u.radialaxis,{_id:"x"}),v=u.angularaxis;C(n,v,o,g,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}V.exports={calc:t,crossTraceCalc:s}},70384:function(V,U,e){"use strict";var x=e(3400),P=e(85968).handleRThetaDefaults,i=e(55592),L=e(78100);V.exports=function(c,y,r,t){function s(u,l){return x.coerce(c,y,L,u,l)}var n=P(c,y,t,s);if(!n){y.visible=!1;return}s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),i(c,y,s,r,t),x.coerceSelectionMarkerOpacity(y,s)}},68896:function(V,U,e){"use strict";var x=e(93024),P=e(3400),i=e(63400).getTraceColor,L=P.fillText,C=e(8504).makeHoverPointText,c=e(57384).isPtInsidePolygon;V.exports=function(r,t,s){var n=r.cd,u=n[0].trace,l=r.subplot,f=l.radialAxis,g=l.angularAxis,h=l.vangles,w=h?c:P.isPtInsideSector,d=r.maxHoverDistance,o=g._period||2*Math.PI,v=Math.abs(f.g2p(Math.sqrt(t*t+s*s))),A=Math.atan2(s,t);f.range[0]>f.range[1]&&(A+=Math.PI);var b=function(T){return w(v,A,[T.rp0,T.rp1],[T.thetag0,T.thetag1],h)?d+Math.min(1,Math.abs(T.thetag1-T.thetag0)/o)-1+(T.rp1-v)/(T.rp1-T.rp0)-1:1/0};if(x.getClosest(n,b,r),r.index!==!1){var M=r.index,m=n[M];r.x0=r.x1=m.ct[0],r.y0=r.y1=m.ct[1];var S=P.extendFlat({},m,{r:m.s,theta:m.p});return L(m,u,r),C(S,u,l,r),r.hovertemplate=u.hovertemplate,r.color=i(u,m),r.xLabelVal=r.yLabelVal=void 0,m.s<0&&(r.idealAlign="left"),[r]}}},94456:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(V){"use strict";V.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(V,U,e){"use strict";var x=e(3400),P=e(9320);V.exports=function(i,L,C){var c={},y;function r(n,u){return x.coerce(i[y]||{},L[y],P,n,u)}for(var t=0;t<C.length;t++){var s=C[t];s.type==="barpolar"&&s.visible===!0&&(y=s.subplot,c[y]||(r("barmode"),r("bargap"),c[y]=1))}}},42040:function(V,U,e){"use strict";var x=e(33428),P=e(38248),i=e(3400),L=e(43616),C=e(57384);V.exports=function(r,t,s){var n=r._context.staticPlot,u=t.xaxis,l=t.yaxis,f=t.radialAxis,g=t.angularAxis,h=c(t),w=t.layers.frontplot.select("g.barlayer");i.makeTraceGroups(w,s,"trace bars").each(function(){var d=x.select(this),o=i.ensureSingle(d,"g","points"),v=o.selectAll("g.point").data(i.identity);v.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),v.exit().remove(),v.each(function(A){var b=x.select(this),M=A.rp0=f.c2p(A.s0),m=A.rp1=f.c2p(A.s1),S=A.thetag0=g.c2g(A.p0),T=A.thetag1=g.c2g(A.p1),a;if(!P(M)||!P(m)||!P(S)||!P(T)||M===m||S===T)a="M0,0Z";else{var E=f.c2g(A.s1),p=(S+T)/2;A.ct=[u.c2p(E*Math.cos(p)),l.c2p(E*Math.sin(p))],a=h(M,m,S,T)}i.ensureSingle(b,"path").attr("d",a)}),L.setClipUrl(d,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function c(y){var r=y.cxx,t=y.cyy;return y.vangles?function(s,n,u,l){var f,g;i.angleDelta(u,l)>0?(f=u,g=l):(f=l,g=u);var h=C.findEnclosingVertexAngles(f,y.vangles)[0],w=C.findEnclosingVertexAngles(g,y.vangles)[1],d=[h,(f+g)/2,w];return C.pathPolygonAnnulus(s,n,f,g,d,r,t)}:function(s,n,u,l){return i.pathAnnulus(s,n,u,l,r,t)}}},63188:function(V,U,e){"use strict";var x=e(98304),P=e(52904),i=e(20832),L=e(22548),C=e(29736).axisHoverFormat,c=e(21776).Ks,y=e(92880).extendFlat,r=P.marker,t=r.line;V.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:y({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:y({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:y({},r.angle,{arrayOk:!1,editType:"calc"}),size:y({},r.size,{arrayOk:!1,editType:"calc"}),color:y({},r.color,{arrayOk:!1,editType:"style"}),line:{color:y({},t.color,{arrayOk:!1,dflt:L.defaultLine,editType:"style"}),width:y({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:x(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:P.selected.marker,editType:"style"},unselected:{marker:P.unselected.marker,editType:"style"},text:y({},P.text,{}),hovertext:y({},P.hovertext,{}),hovertemplate:c({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:P.zorder}},62555:function(V,U,e){"use strict";var x=e(38248),P=e(54460),i=e(1220),L=e(3400),C=e(39032).BADNUM,c=L._;V.exports=function(A,b){var M=A._fullLayout,m=P.getFromId(A,b.xaxis||"x"),S=P.getFromId(A,b.yaxis||"y"),T=[],a=b.type==="violin"?"_numViolins":"_numBoxes",E,p,k,R,B,F,_;b.orientation==="h"?(k=m,R="x",B=S,F="y",_=!!b.yperiodalignment):(k=S,R="y",B=m,F="x",_=!!b.xperiodalignment);var O=y(b,F,B,M[a]),z=O[0],N=O[1],Y=L.distinctVals(z,B),J=Y.vals,ae=Y.minDiff/2,se,ue,K,j,ie,W,Q=(b.boxpoints||b.points)==="all"?L.identity:function(mt){return mt.v<se.lf||mt.v>se.uf};if(b._hasPreCompStats){var ee=b[R],$=function(mt){return k.d2c((b[mt]||[])[E])},X=1/0,oe=-1/0;for(E=0;E<b._length;E++){var te=z[E];if(x(te)){if(se={},se.pos=se[F]=te,_&&N&&(se.orig_p=N[E]),se.q1=$("q1"),se.med=$("median"),se.q3=$("q3"),ue=[],ee&&L.isArrayOrTypedArray(ee[E]))for(p=0;p<ee[E].length;p++)W=k.d2c(ee[E][p]),W!==C&&(ie={v:W,i:[E,p]},n(ie,b,[E,p]),ue.push(ie));if(se.pts=ue.sort(l),K=se[R]=ue.map(f),j=K.length,se.med!==C&&se.q1!==C&&se.q3!==C&&se.med>=se.q1&&se.q3>=se.med){var fe=$("lowerfence");se.lf=fe!==C&&fe<=se.q1?fe:g(se,K,j);var pe=$("upperfence");se.uf=pe!==C&&pe>=se.q3?pe:h(se,K,j);var Ae=$("mean");se.mean=Ae!==C?Ae:j?L.mean(K,j):(se.q1+se.q3)/2;var be=$("sd");se.sd=Ae!==C&&be>=0?be:j?L.stdev(K,j,se.mean):se.q3-se.q1,se.lo=w(se),se.uo=d(se);var Pe=$("notchspan");Pe=Pe!==C&&Pe>0?Pe:o(se,j),se.ln=se.med-Pe,se.un=se.med+Pe;var me=se.lf,Ee=se.uf;b.boxpoints&&K.length&&(me=Math.min(me,K[0]),Ee=Math.max(Ee,K[j-1])),b.notched&&(me=Math.min(me,se.ln),Ee=Math.max(Ee,se.un)),se.min=me,se.max=Ee}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+se.q1,"median = "+se.med,"q3 = "+se.q3].join(`
`));var xe;se.med!==C?xe=se.med:se.q1!==C?se.q3!==C?xe=(se.q1+se.q3)/2:xe=se.q1:se.q3!==C?xe=se.q3:xe=0,se.med=xe,se.q1=se.q3=xe,se.lf=se.uf=xe,se.mean=se.sd=xe,se.ln=se.un=xe,se.min=se.max=xe}X=Math.min(X,se.min),oe=Math.max(oe,se.max),se.pts2=ue.filter(Q),T.push(se)}}b._extremes[k._id]=P.findExtremes(k,[X,oe],{padded:!0})}else{var De=k.makeCalcdata(b,R),Ve=r(J,ae),Ze=J.length,ke=t(Ze);for(E=0;E<b._length;E++)if(W=De[E],!!x(W)){var Ye=L.findBin(z[E],Ve);Ye>=0&&Ye<Ze&&(ie={v:W,i:E},n(ie,b,E),ke[Ye].push(ie))}var lt=1/0,yt=-1/0,He=b.quartilemethod,Fe=He==="exclusive",nt=He==="inclusive";for(E=0;E<Ze;E++)if(ke[E].length>0){if(se={},se.pos=se[F]=J[E],ue=se.pts=ke[E].sort(l),K=se[R]=ue.map(f),j=K.length,se.min=K[0],se.max=K[j-1],se.mean=L.mean(K,j),se.sd=L.stdev(K,j,se.mean)*b.sdmultiple,se.med=L.interp(K,.5),j%2&&(Fe||nt)){var ot,ct;Fe?(ot=K.slice(0,j/2),ct=K.slice(j/2+1)):nt&&(ot=K.slice(0,j/2+1),ct=K.slice(j/2)),se.q1=L.interp(ot,.5),se.q3=L.interp(ct,.5)}else se.q1=L.interp(K,.25),se.q3=L.interp(K,.75);se.lf=g(se,K,j),se.uf=h(se,K,j),se.lo=w(se),se.uo=d(se);var ht=o(se,j);se.ln=se.med-ht,se.un=se.med+ht,lt=Math.min(lt,se.ln),yt=Math.max(yt,se.un),se.pts2=ue.filter(Q),T.push(se)}b.notched&&L.isTypedArray(De)&&(De=Array.from(De)),b._extremes[k._id]=P.findExtremes(k,b.notched?De.concat([lt,yt]):De,{padded:!0})}return u(T,b),T.length>0?(T[0].t={num:M[a],dPos:ae,posLetter:F,valLetter:R,labels:{med:c(A,"median:"),min:c(A,"min:"),q1:c(A,"q1:"),q3:c(A,"q3:"),max:c(A,"max:"),mean:b.boxmean==="sd"||b.sizemode==="sd"?c(A,"mean \xB1 \u03C3:").replace("\u03C3",b.sdmultiple===1?"\u03C3":b.sdmultiple+"\u03C3"):c(A,"mean:"),lf:c(A,"lower fence:"),uf:c(A,"upper fence:")}},M[a]++,T):[{t:{empty:!0}}]};function y(v,A,b,M){var m=A in v,S=A+"0"in v,T="d"+A in v;if(m||S&&T){var a=b.makeCalcdata(v,A),E=i(v,b,A,a).vals;return[E,a]}var p;S?p=v[A+"0"]:"name"in v&&(b.type==="category"||x(v.name)&&["linear","log"].indexOf(b.type)!==-1||L.isDateTime(v.name)&&b.type==="date")?p=v.name:p=M;for(var k=b.type==="multicategory"?b.r2c_just_indices(p):b.d2c(p,0,v[A+"calendar"]),R=v._length,B=new Array(R),F=0;F<R;F++)B[F]=k;return[B]}function r(v,A){for(var b=v.length,M=new Array(b+1),m=0;m<b;m++)M[m]=v[m]-A;return M[b]=v[b-1]+A,M}function t(v){for(var A=new Array(v),b=0;b<v;b++)A[b]=[];return A}var s={text:"tx",hovertext:"htx"};function n(v,A,b){for(var M in s)L.isArrayOrTypedArray(A[M])&&(Array.isArray(b)?L.isArrayOrTypedArray(A[M][b[0]])&&(v[s[M]]=A[M][b[0]][b[1]]):v[s[M]]=A[M][b])}function u(v,A){if(L.isArrayOrTypedArray(A.selectedpoints))for(var b=0;b<v.length;b++){for(var M=v[b].pts||[],m={},S=0;S<M.length;S++)m[M[S].i]=S;L.tagSelected(M,A,m)}}function l(v,A){return v.v-A.v}function f(v){return v.v}function g(v,A,b){return b===0?v.q1:Math.min(v.q1,A[Math.min(L.findBin(2.5*v.q1-1.5*v.q3,A,!0)+1,b-1)])}function h(v,A,b){return b===0?v.q3:Math.max(v.q3,A[Math.max(L.findBin(2.5*v.q3-1.5*v.q1,A),0)])}function w(v){return 4*v.q1-3*v.q3}function d(v){return 4*v.q3-3*v.q1}function o(v,A){return A===0?0:1.57*(v.q3-v.q1)/Math.sqrt(A)}},96404:function(V,U,e){"use strict";var x=e(54460),P=e(3400),i=e(71888).getAxisGroup,L=["v","h"];function C(y,r){for(var t=y.calcdata,s=r.xaxis,n=r.yaxis,u=0;u<L.length;u++){for(var l=L[u],f=l==="h"?n:s,g=[],h=0;h<t.length;h++){var w=t[h],d=w[0].t,o=w[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!d.empty&&(o.orientation||"v")===l&&o.xaxis===s._id&&o.yaxis===n._id&&g.push(h)}c("box",y,g,f)}}function c(y,r,t,s){var n=r.calcdata,u=r._fullLayout,l=s._id,f=l.charAt(0),g,h,w,d=[],o=0;for(g=0;g<t.length;g++)for(w=n[t[g]],h=0;h<w.length;h++)d.push(s.c2l(w[h].pos,!0)),o+=(w[h].pts2||[]).length;if(d.length){var v=P.distinctVals(d);(s.type==="category"||s.type==="multicategory")&&(v.minDiff=1);var A=v.minDiff/2;x.minDtick(s,v.minDiff,v.vals[0],!0);var b=y==="violin"?"_numViolins":"_numBoxes",M=u[b],m=u[y+"mode"]==="group"&&M>1,S=1-u[y+"gap"],T=1-u[y+"groupgap"];for(g=0;g<t.length;g++){w=n[t[g]];var a=w[0].trace,E=w[0].t,p=a.width,k=a.side,R,B,F,_;if(p)R=B=_=p/2,F=0;else if(R=A,m){var O=i(u,s._id)+a.orientation,z=u._alignmentOpts[O]||{},N=z[a.alignmentgroup]||{},Y=Object.keys(N.offsetGroups||{}).length,J=Y||M,ae=Y?a._offsetIndex:E.num;B=R*S*T/J,F=2*R*(-.5+(ae+.5)/J)*S,_=R*S/J}else B=R*S*T,F=0,_=R;E.dPos=R,E.bPos=F,E.bdPos=B,E.wHover=_;var se,ue,K=F+B,j,ie,W,Q,ee,$,X=!!p,oe=(a.boxpoints||a.points)&&o>0;if(k==="positive"?(se=R*(p?1:.5),j=K,ue=j=F):k==="negative"?(se=j=F,ue=R*(p?1:.5),ie=K):(se=ue=R,j=ie=K),oe){var te=a.pointpos,fe=a.jitter,pe=a.marker.size/2,Ae=0;te+fe>=0&&(Ae=K*(te+fe),Ae>se?(X=!0,ee=pe,W=Ae):Ae>j&&(ee=pe,W=se)),Ae<=se&&(W=se);var be=0;te-fe<=0&&(be=-K*(te-fe),be>ue?(X=!0,$=pe,Q=be):be>ie&&($=pe,Q=ue)),be<=ue&&(Q=ue)}else W=se,Q=ue;var Pe=new Array(w.length);for(h=0;h<w.length;h++)Pe[h]=w[h].pos;a._extremes[l]=x.findExtremes(s,Pe,{padded:X,vpadminus:Q,vpadplus:W,vpadLinearized:!0,ppadminus:{x:$,y:ee}[f],ppadplus:{x:ee,y:$}[f]})}}}V.exports={crossTraceCalc:C,setPositionOffset:c}},90624:function(V,U,e){"use strict";var x=e(3400),P=e(24040),i=e(76308),L=e(31147),C=e(20011),c=e(52976),y=e(63188);function r(u,l,f,g){function h(T,a){return x.coerce(u,l,y,T,a)}if(t(u,l,h,g),l.visible!==!1){L(u,l,g,h),h("xhoverformat"),h("yhoverformat");var w=l._hasPreCompStats;w&&(h("lowerfence"),h("upperfence")),h("line.color",(u.marker||{}).color||f),h("line.width"),h("fillcolor",i.addOpacity(l.line.color,.5));var d=!1;if(w){var o=h("mean"),v=h("sd");o&&o.length&&(d=!0,v&&v.length&&(d="sd"))}h("whiskerwidth");var A=h("sizemode"),b;A==="quartiles"&&(b=h("boxmean",d)),h("showwhiskers",A==="quartiles"),(A==="sd"||b==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var M=!1;if(w){var m=h("notchspan");m&&m.length&&(M=!0)}else x.validate(u.notchwidth,y.notchwidth)&&(M=!0);var S=h("notched",M);S&&h("notchwidth"),s(u,l,h,{prefix:"box"}),h("zorder")}}function t(u,l,f,g){function h(Y){var J=0;return Y&&Y.length&&(J+=1,x.isArrayOrTypedArray(Y[0])&&Y[0].length&&(J+=1)),J}function w(Y){return x.validate(u[Y],y[Y])}var d=f("y"),o=f("x"),v;if(l.type==="box"){var A=f("q1"),b=f("median"),M=f("q3");l._hasPreCompStats=A&&A.length&&b&&b.length&&M&&M.length,v=Math.min(x.minRowLength(A),x.minRowLength(b),x.minRowLength(M))}var m=h(d),S=h(o),T=m&&x.minRowLength(d),a=S&&x.minRowLength(o),E=g.calendar,p={autotypenumbers:g.autotypenumbers},k,R;if(l._hasPreCompStats)switch(String(S)+String(m)){case"00":var B=w("x0")||w("dx"),F=w("y0")||w("dy");F&&!B?k="h":k="v",R=v;break;case"10":k="v",R=Math.min(v,a);break;case"20":k="h",R=Math.min(v,o.length);break;case"01":k="h",R=Math.min(v,T);break;case"02":k="v",R=Math.min(v,d.length);break;case"12":k="v",R=Math.min(v,a,d.length);break;case"21":k="h",R=Math.min(v,o.length,T);break;case"11":R=0;break;case"22":var _=!1,O;for(O=0;O<o.length;O++)if(c(o[O],E,p)==="category"){_=!0;break}if(_)k="v",R=Math.min(v,a,d.length);else{for(O=0;O<d.length;O++)if(c(d[O],E,p)==="category"){_=!0;break}_?(k="h",R=Math.min(v,o.length,T)):(k="v",R=Math.min(v,a,d.length))}break}else m>0?(k="v",S>0?R=Math.min(a,T):R=Math.min(T)):S>0?(k="h",R=Math.min(a)):R=0;if(!R){l.visible=!1;return}l._length=R;var z=f("orientation",k);l._hasPreCompStats?z==="v"&&S===0?(f("x0",0),f("dx",1)):z==="h"&&m===0&&(f("y0",0),f("dy",1)):z==="v"&&S===0?f("x0"):z==="h"&&m===0&&f("y0");var N=P.getComponentMethod("calendars","handleTraceDefaults");N(u,l,["x","y"],g)}function s(u,l,f,g){var h=g.prefix,w=x.coerce2(u,l,y,"marker.outliercolor"),d=f("marker.line.outliercolor"),o="outliers";l._hasPreCompStats?o="all":(w||d)&&(o="suspectedoutliers");var v=f(h+"points",o);v?(f("jitter",v==="all"?.3:0),f("pointpos",v==="all"?-1.5:0),f("marker.symbol"),f("marker.opacity"),f("marker.size"),f("marker.angle"),f("marker.color",l.line.color),f("marker.line.color"),f("marker.line.width"),v==="suspectedoutliers"&&(f("marker.line.outliercolor",l.marker.color),f("marker.line.outlierwidth")),f("selected.marker.color"),f("unselected.marker.color"),f("selected.marker.size"),f("unselected.marker.size"),f("text"),f("hovertext")):delete l.marker;var A=f("hoveron");(A==="all"||A.indexOf("points")!==-1)&&f("hovertemplate"),x.coerceSelectionMarkerOpacity(l,f)}function n(u,l){var f,g;function h(o){return x.coerce(g._input,g,y,o)}for(var w=0;w<u.length;w++){g=u[w];var d=g.type;(d==="box"||d==="violin")&&(f=g._input,l[d+"mode"]==="group"&&C(f,g,l,h))}}V.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:s}},10392:function(V){"use strict";V.exports=function(e,x){return x.hoverOnBox&&(e.hoverOnBox=x.hoverOnBox),"xVal"in x&&(e.x=x.xVal),"yVal"in x&&(e.y=x.yVal),x.xa&&(e.xaxis=x.xa),x.ya&&(e.yaxis=x.ya),e}},27576:function(V,U,e){"use strict";var x=e(54460),P=e(3400),i=e(93024),L=e(76308),C=P.fillText;function c(t,s,n,u){var l=t.cd,f=l[0].trace,g=f.hoveron,h=[],w;return g.indexOf("boxes")!==-1&&(h=h.concat(y(t,s,n,u))),g.indexOf("points")!==-1&&(w=r(t,s,n)),u==="closest"?w?[w]:h:(w&&h.push(w),h)}function y(t,s,n,u){var l=t.cd,f=t.xa,g=t.ya,h=l[0].trace,w=l[0].t,d=h.type==="violin",o,v,A,b,M,m,S,T,a,E,p,k=w.bdPos,R,B,F=w.wHover,_=function(be){return A.c2l(be.pos)+w.bPos-A.c2l(m)};d&&h.side!=="both"?(h.side==="positive"&&(a=function(be){var Pe=_(be);return i.inbox(Pe,Pe+F,E)},R=k,B=0),h.side==="negative"&&(a=function(be){var Pe=_(be);return i.inbox(Pe-F,Pe,E)},R=0,B=k)):(a=function(be){var Pe=_(be);return i.inbox(Pe-F,Pe+F,E)},R=B=k);var O;d?O=function(be){return i.inbox(be.span[0]-M,be.span[1]-M,E)}:O=function(be){return i.inbox(be.min-M,be.max-M,E)},h.orientation==="h"?(M=s,m=n,S=O,T=a,o="y",A=g,v="x",b=f):(M=n,m=s,S=a,T=O,o="x",A=f,v="y",b=g);var z=Math.min(1,k/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));E=t.maxHoverDistance-z,p=t.maxSpikeDistance-z;function N(be){return(S(be)+T(be))/2}var Y=i.getDistanceFunction(u,S,T,N);if(i.getClosest(l,Y,t),t.index===!1)return[];var J=l[t.index],ae=h.line.color,se=(h.marker||{}).color;L.opacity(ae)&&h.line.width?t.color=ae:L.opacity(se)&&h.boxpoints?t.color=se:t.color=h.fillcolor,t[o+"0"]=A.c2p(J.pos+w.bPos-B,!0),t[o+"1"]=A.c2p(J.pos+w.bPos+R,!0),t[o+"LabelVal"]=J.orig_p!==void 0?J.orig_p:J.pos;var ue=o+"Spike";t.spikeDistance=N(J)*p/E,t[ue]=A.c2p(J.pos,!0);var K=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,j=h.boxpoints||h.points,ie=j&&K?["max","uf","q3","med","mean","q1","lf","min"]:j&&!K?["max","uf","q3","med","q1","lf","min"]:!j&&K?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],W=b.range[1]<b.range[0];h.orientation===(W?"v":"h")&&ie.reverse();for(var Q=t.spikeDistance,ee=t[ue],$=[],X=0;X<ie.length;X++){var oe=ie[X];if(oe in J){var te=J[oe],fe=b.c2p(te,!0),pe=P.extendFlat({},t);pe.attr=oe,pe[v+"0"]=pe[v+"1"]=fe,pe[v+"LabelVal"]=te,pe[v+"Label"]=(w.labels?w.labels[oe]+" ":"")+x.hoverLabelText(b,te,h[v+"hoverformat"]),pe.hoverOnBox=!0,oe==="mean"&&"sd"in J&&(h.boxmean==="sd"||h.sizemode==="sd")&&(pe[v+"err"]=J.sd),pe.hovertemplate=!1,$.push(pe)}}t.name="",t.spikeDistance=void 0,t[ue]=void 0;for(var Ae=0;Ae<$.length;Ae++)$[Ae].attr!=="med"?($[Ae].name="",$[Ae].spikeDistance=void 0,$[Ae][ue]=void 0):($[Ae].spikeDistance=Q,$[Ae][ue]=ee);return $}function r(t,s,n){for(var u=t.cd,l=t.xa,f=t.ya,g=u[0].trace,h=l.c2p(s),w=f.c2p(n),d,o=function(O){var z=Math.max(3,O.mrc||0);return Math.max(Math.abs(l.c2p(O.x)-h)-z,1-3/z)},v=function(O){var z=Math.max(3,O.mrc||0);return Math.max(Math.abs(f.c2p(O.y)-w)-z,1-3/z)},A=i.quadrature(o,v),b=!1,M,m,S=0;S<u.length;S++){M=u[S];for(var T=0;T<(M.pts||[]).length;T++){m=M.pts[T];var a=A(m);a<=t.distance&&(t.distance=a,b=[S,T])}}if(!b)return!1;M=u[b[0]],m=M.pts[b[1]];var E=l.c2p(m.x,!0),p=f.c2p(m.y,!0),k=m.mrc||1;d=P.extendFlat({},t,{index:m.i,color:(g.marker||{}).color,name:g.name,x0:E-k,x1:E+k,y0:p-k,y1:p+k,spikeDistance:t.distance,hovertemplate:g.hovertemplate});var R=M.orig_p,B=R!==void 0?R:M.pos,F;g.orientation==="h"?(F=f,d.xLabelVal=m.x,d.yLabelVal=B):(F=l,d.xLabelVal=B,d.yLabelVal=m.y);var _=F._id.charAt(0);return d[_+"Spike"]=F.c2p(M.pos,!0),C(m,g,d),d}V.exports={hoverPoints:c,hoverOnBoxes:y,hoverOnPoints:r}},67244:function(V,U,e){"use strict";V.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(V){"use strict";V.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(16560);function L(c,y,r,t,s){for(var n=s+"Layout",u=!1,l=0;l<r.length;l++){var f=r[l];if(x.traceIs(f,n)){u=!0;break}}u&&(t(s+"mode"),t(s+"gap"),t(s+"groupgap"))}function C(c,y,r){function t(s,n){return P.coerce(c,y,i,s,n)}L(c,y,r,t,"box")}V.exports={supplyLayoutDefaults:C,_supply:L}},18728:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=5,C=.01;function c(s,n,u,l){var f=s._context.staticPlot,g=n.xaxis,h=n.yaxis;P.makeTraceGroups(l,u,"trace boxes").each(function(w){var d=x.select(this),o=w[0],v=o.t,A=o.trace;if(v.wdPos=v.bdPos*A.whiskerwidth,A.visible!==!0||v.empty){d.remove();return}var b,M;A.orientation==="h"?(b=h,M=g):(b=g,M=h),y(d,{pos:b,val:M},A,v,f),r(d,{x:g,y:h},A,v),t(d,{pos:b,val:M},A,v)})}function y(s,n,u,l,f){var g=u.orientation==="h",h=n.val,w=n.pos,d=!!w.rangebreaks,o=l.bPos,v=l.wdPos||0,A=l.bPosPxOffset||0,b=u.whiskerwidth||0,M=u.showwhiskers!==!1,m=u.notched||!1,S=m?1-2*u.notchwidth:1,T,a;Array.isArray(l.bdPos)?(T=l.bdPos[0],a=l.bdPos[1]):(T=l.bdPos,a=l.bdPos);var E=s.selectAll("path.box").data(u.type!=="violin"||u.box.visible?P.identity:[]);E.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(p){if(p.empty)return x.select(this).attr("d","M0,0Z");var k=w.c2l(p.pos+o,!0),R=w.l2p(k-T)+A,B=w.l2p(k+a)+A,F=d?(R+B)/2:w.l2p(k)+A,_=u.whiskerwidth,O=d?R*_+(1-_)*F:w.l2p(k-v)+A,z=d?B*_+(1-_)*F:w.l2p(k+v)+A,N=w.l2p(k-T*S)+A,Y=w.l2p(k+a*S)+A,J=u.sizemode==="sd",ae=h.c2p(J?p.mean-p.sd:p.q1,!0),se=J?h.c2p(p.mean+p.sd,!0):h.c2p(p.q3,!0),ue=P.constrain(J?h.c2p(p.mean,!0):h.c2p(p.med,!0),Math.min(ae,se)+1,Math.max(ae,se)-1),K=p.lf===void 0||u.boxpoints===!1||J,j=h.c2p(K?p.min:p.lf,!0),ie=h.c2p(K?p.max:p.uf,!0),W=h.c2p(p.ln,!0),Q=h.c2p(p.un,!0);g?x.select(this).attr("d","M"+ue+","+N+"V"+Y+"M"+ae+","+R+"V"+B+(m?"H"+W+"L"+ue+","+Y+"L"+Q+","+B:"")+"H"+se+"V"+R+(m?"H"+Q+"L"+ue+","+N+"L"+W+","+R:"")+"Z"+(M?"M"+ae+","+F+"H"+j+"M"+se+","+F+"H"+ie+(b===0?"":"M"+j+","+O+"V"+z+"M"+ie+","+O+"V"+z):"")):x.select(this).attr("d","M"+N+","+ue+"H"+Y+"M"+R+","+ae+"H"+B+(m?"V"+W+"L"+Y+","+ue+"L"+B+","+Q:"")+"V"+se+"H"+R+(m?"V"+Q+"L"+N+","+ue+"L"+R+","+W:"")+"Z"+(M?"M"+F+","+ae+"V"+j+"M"+F+","+se+"V"+ie+(b===0?"":"M"+O+","+j+"H"+z+"M"+O+","+ie+"H"+z):""))})}function r(s,n,u,l){var f=n.x,g=n.y,h=l.bdPos,w=l.bPos,d=u.boxpoints||u.points;P.seedPseudoRandom();var o=function(b){return b.forEach(function(M){M.t=l,M.trace=u}),b},v=s.selectAll("g.points").data(d?o:[]);v.enter().append("g").attr("class","points"),v.exit().remove();var A=v.selectAll("path").data(function(b){var M,m=b.pts2,S=Math.max((b.max-b.min)/10,b.q3-b.q1),T=S*1e-9,a=S*C,E=[],p=0,k;if(u.jitter){if(S===0)for(p=1,E=new Array(m.length),M=0;M<m.length;M++)E[M]=1;else for(M=0;M<m.length;M++){var R=Math.max(0,M-L),B=m[R].v,F=Math.min(m.length-1,M+L),_=m[F].v;d!=="all"&&(m[M].v<b.lf?_=Math.min(_,b.lf):B=Math.max(B,b.uf));var O=Math.sqrt(a*(F-R)/(_-B+T))||0;O=P.constrain(Math.abs(O),0,1),E.push(O),p=Math.max(O,p)}k=u.jitter*2/(p||1)}for(M=0;M<m.length;M++){var z=m[M],N=z.v,Y=u.jitter?k*E[M]*(P.pseudoRandom()-.5):0,J=b.pos+w+h*(u.pointpos+Y);u.orientation==="h"?(z.y=J,z.x=N):(z.x=J,z.y=N),d==="suspectedoutliers"&&N<b.uo&&N>b.lo&&(z.so=!0)}return m});A.enter().append("path").classed("point",!0),A.exit().remove(),A.call(i.translatePoints,f,g)}function t(s,n,u,l){var f=n.val,g=n.pos,h=!!g.rangebreaks,w=l.bPos,d=l.bPosPxOffset||0,o=u.boxmean||(u.meanline||{}).visible,v,A;Array.isArray(l.bdPos)?(v=l.bdPos[0],A=l.bdPos[1]):(v=l.bdPos,A=l.bdPos);var b=s.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?P.identity:[]);b.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),b.exit().remove(),b.each(function(M){var m=g.c2l(M.pos+w,!0),S=g.l2p(m-v)+d,T=g.l2p(m+A)+d,a=h?(S+T)/2:g.l2p(m)+d,E=f.c2p(M.mean,!0),p=f.c2p(M.mean-M.sd,!0),k=f.c2p(M.mean+M.sd,!0);u.orientation==="h"?x.select(this).attr("d","M"+E+","+S+"V"+T+(o==="sd"?"m0,0L"+p+","+a+"L"+E+","+S+"L"+k+","+a+"Z":"")):x.select(this).attr("d","M"+S+","+E+"H"+T+(o==="sd"?"m0,0L"+a+","+p+"L"+S+","+E+"L"+a+","+k+"Z":""))})}V.exports={plot:c,plotBoxAndWhiskers:y,plotPoints:r,plotBoxMean:t}},8264:function(V){"use strict";V.exports=function(e,x){var P=e.cd,i=e.xaxis,L=e.yaxis,C=[],c,y;if(x===!1)for(c=0;c<P.length;c++)for(y=0;y<(P[c].pts||[]).length;y++)P[c].pts[y].selected=0;else for(c=0;c<P.length;c++)for(y=0;y<(P[c].pts||[]).length;y++){var r=P[c].pts[y],t=i.c2p(r.x),s=L.c2p(r.y);x.contains([t,s],null,r.i,e)?(C.push({pointNumber:r.i,x:i.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return C}},25776:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(43616);function L(c,y,r){var t=r||x.select(c).selectAll("g.trace.boxes");t.style("opacity",function(s){return s[0].trace.opacity}),t.each(function(s){var n=x.select(this),u=s[0].trace,l=u.line.width;function f(w,d,o,v){w.style("stroke-width",d+"px").call(P.stroke,o).call(P.fill,v)}var g=n.selectAll("path.box");if(u.type==="candlestick")g.each(function(w){if(!w.empty){var d=x.select(this),o=u[w.dir];f(d,o.line.width,o.line.color,o.fillcolor),d.style("opacity",u.selectedpoints&&!w.selected?.3:1)}});else{f(g,l,u.line.color,u.fillcolor),n.selectAll("path.mean").style({"stroke-width":l,"stroke-dasharray":2*l+"px,"+l+"px"}).call(P.stroke,u.line.color);var h=n.selectAll("path.point");i.pointStyle(h,u,c)}})}function C(c,y,r){var t=y[0].trace,s=r.selectAll("path.point");t.selectedpoints?i.selectedPointStyle(s,t):i.pointStyle(s,t,c)}V.exports={style:L,styleOnSelect:C}},64216:function(V,U,e){"use strict";var x=e(3400).extendFlat,P=e(29736).axisHoverFormat,i=e(20279),L=e(63188);function C(c){return{line:{color:x({},L.line.color,{dflt:c}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}V.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:x({},L.line.width,{}),editType:"style"},increasing:C(i.increasing.line.color.dflt),decreasing:C(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:x({},L.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel,zorder:L.zorder}},46283:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(1220),L=e(42812).calcCommon;V.exports=function(c,y){var r=c._fullLayout,t=P.getFromId(c,y.xaxis),s=P.getFromId(c,y.yaxis),n=t.makeCalcdata(y,"x"),u=i(y,t,"x",n).vals,l=L(c,y,n,u,s,C);return l.length?(x.extendFlat(l[0].t,{num:r._numBoxes,dPos:x.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,l):[{t:{empty:!0}}]};function C(c,y,r,t){return{min:r,q1:Math.min(c,t),med:t,q3:Math.max(c,t),max:y}}},64588:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(52744),L=e(31147),C=e(64216);V.exports=function(r,t,s,n){function u(f,g){return x.coerce(r,t,C,f,g)}var l=i(r,t,u,n);if(!l){t.visible=!1;return}L(r,t,n,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),c(r,t,u,"increasing"),c(r,t,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,u("zorder")};function c(y,r,t,s){var n=t(s+".line.color");t(s+".line.width",r.line.width),t(s+".fillcolor",P.addOpacity(n,.5))}},61712:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(V,U,e){"use strict";var x=e(63856),P=e(31780);V.exports=function(C,c,y,r,t){var s=r("a");s||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),i(C,c,y,t)};function i(L,C,c,y){var r=["aaxis","baxis"];r.forEach(function(t){var s=t.charAt(0),n=L[t]||{},u=P.newContainer(C,t),l={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:C.font,name:t,data:L[s],calendar:C.calendar,dfltColor:y,bgColor:c.paper_bgcolor,autotypenumbersDflt:c.autotypenumbers,fullLayout:c};x(n,u,l),u._categories=u._categories||[],!L[t]&&n.type!=="-"&&(L[t]={type:n.type})})}},51676:function(V,U,e){"use strict";var x=e(3400).isArrayOrTypedArray;V.exports=function(i){return P(i,0)};function P(i,L){if(!x(i)||L>=10)return null;for(var C=1/0,c=-1/0,y=i.length,r=0;r<y;r++){var t=i[r];if(x(t)){var s=P(t,L+1);s&&(C=Math.min(s[0],C),c=Math.max(s[1],c))}else C=Math.min(t,C),c=Math.max(t,c)}return[C,c]}},85720:function(V,U,e){"use strict";var x=e(25376),P=e(98692),i=e(22548),L=x({editType:"calc"}),C=e(52904).zorder;L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=i.defaultLine,V.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0,zorder:C}},77712:function(V,U,e){"use strict";var x=e(3400).isArrayOrTypedArray;V.exports=function(P,i,L,C){var c,y,r,t,s,n,u,l,f,g,h,w,d,o=x(L)?"a":"b",v=o==="a"?P.aaxis:P.baxis,A=v.smoothing,b=o==="a"?P.a2i:P.b2j,M=o==="a"?L:C,m=o==="a"?C:L,S=o==="a"?i.a.length:i.b.length,T=o==="a"?i.b.length:i.a.length,a=Math.floor(o==="a"?P.b2j(m):P.a2i(m)),E=o==="a"?function(ae){return P.evalxy([],ae,a)}:function(ae){return P.evalxy([],a,ae)};A&&(r=Math.max(0,Math.min(T-2,a)),t=a-r,y=o==="a"?function(ae,se){return P.dxydi([],ae,r,se,t)}:function(ae,se){return P.dxydj([],r,ae,t,se)});var p=b(M[0]),k=b(M[1]),R=p<k?1:-1,B=(k-p)*1e-8,F=R>0?Math.floor:Math.ceil,_=R>0?Math.ceil:Math.floor,O=R>0?Math.min:Math.max,z=R>0?Math.max:Math.min,N=F(p+B),Y=_(k-B);u=E(p);var J=[[u]];for(c=N;c*R<Y*R;c+=R)s=[],h=z(p,c),w=O(k,c+R),d=w-h,n=Math.max(0,Math.min(S-2,Math.floor(.5*(h+w)))),l=E(w),A&&(f=y(n,h-n),g=y(n,w-n),s.push([u[0]+f[0]/3*d,u[1]+f[1]/3*d]),s.push([l[0]-g[0]/3*d,l[1]-g[1]/3*d])),s.push(l),J.push(s),u=l;return J}},98692:function(V,U,e){"use strict";var x=e(25376),P=e(22548),i=e(94724),L=e(29736).descriptionWithDates,C=e(67824).overrideAll,c=e(98192).u,y=e(92880).extendFlat;V.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:x({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:y({},i.labelalias,{editType:"calc"}),tickfont:x({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:C(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:y({},c,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:y({},c,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:x({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(V,U,e){"use strict";var x=e(85720),P=e(76308).addOpacity,i=e(24040),L=e(3400),C=e(26332),c=e(95936),y=e(42568),r=e(22416),t=e(78344),s=e(52976);V.exports=function(l,f,g){var h=g.letter,w=g.font||{},d=x[h+"axis"];function o(N,Y){return L.coerce(l,f,d,N,Y)}function v(N,Y){return L.coerce2(l,f,d,N,Y)}g.name&&(f._name=g.name,f._id=g.name),o("autotypenumbers",g.autotypenumbersDflt);var A=o("type");if(A==="-"&&(g.data&&n(f,g.data),f.type==="-"?f.type="linear":A=l.type=f.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),f.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),f._hovertitle=h,A==="date"){var b=i.getComponentMethod("calendars","handleDefaults");b(l,f,"calendar",g.calendar)}t(f,g.fullLayout),f.c2p=L.identity;var M=o("color",g.dfltColor),m=M===l.color?M:w.color,S=o("title.text");S&&(L.coerceFont(o,"title.font",{family:w.family,size:L.bigFont(w.size),color:m}),o("title.offset")),o("tickangle");var T=o("autorange",!f.isValidRange(l.range));T&&o("rangemode"),o("range"),f.cleanRange(),o("fixedrange"),C(l,f,o,A),y(l,f,o,A,g),c(l,f,o,A,g),r(l,f,o,{data:g.data,dataAttr:h});var a=v("gridcolor",P(M,.3)),E=v("gridwidth"),p=v("griddash"),k=o("showgrid");k||(delete f.gridcolor,delete f.gridwidth,delete f.griddash);var R=v("startlinecolor",M),B=v("startlinewidth",E),F=o("startline",f.showgrid||!!R||!!B);F||(delete f.startlinecolor,delete f.startlinewidth);var _=v("endlinecolor",M),O=v("endlinewidth",E),z=o("endline",f.showgrid||!!_||!!O);return z||(delete f.endlinecolor,delete f.endlinewidth),k?(o("minorgridcount"),o("minorgridwidth",E),o("minorgriddash",p),o("minorgridcolor",P(a,.06)),f.minorgridcount||(delete f.minorgridwidth,delete f.minorgriddash,delete f.minorgridcolor)):(delete f.gridcolor,delete f.gridwidth,delete f.griddash),f.showticklabels==="none"&&(delete f.tickfont,delete f.tickangle,delete f.showexponent,delete f.exponentformat,delete f.minexponent,delete f.tickformat,delete f.showticksuffix,delete f.showtickprefix),f.showticksuffix||delete f.ticksuffix,f.showtickprefix||delete f.tickprefix,o("tickmode"),f};function n(u,l){if(u.type==="-"){var f=u._id,g=f.charAt(0),h=g+"calendar",w=u[h];u.type=s(l,w,{autotypenumbers:u.autotypenumbers})}}},58744:function(V,U,e){"use strict";var x=e(54460),P=e(3400).isArray1D,i=e(60776),L=e(51676),C=e(19216),c=e(14724),y=e(24944),r=e(26136),t=e(51512),s=e(2872),n=e(81e3);V.exports=function(l,f){var g=x.getFromId(l,f.xaxis),h=x.getFromId(l,f.yaxis),w=f.aaxis,d=f.baxis,o=f.x,v=f.y,A=[];o&&P(o)&&A.push("x"),v&&P(v)&&A.push("y"),A.length&&s(f,w,d,"a","b",A);var b=f._a=f._a||f.a,M=f._b=f._b||f.b;o=f._x||f.x,v=f._y||f.y;var m={};if(f._cheater){var S=w.cheatertype==="index"?b.length:b,T=d.cheatertype==="index"?M.length:M;o=i(S,T,f.cheaterslope)}f._x=o=r(o),f._y=v=r(v),t(o,b,M),t(v,b,M),n(f),f.setScale();var a=L(o),E=L(v),p=.5*(a[1]-a[0]),k=.5*(a[1]+a[0]),R=.5*(E[1]-E[0]),B=.5*(E[1]+E[0]),F=1.3;return a=[k-p*F,k+p*F],E=[B-R*F,B+R*F],f._extremes[g._id]=x.findExtremes(g,a,{padded:!0}),f._extremes[h._id]=x.findExtremes(h,E,{padded:!0}),C(f,"a","b"),C(f,"b","a"),c(f,w),c(f,d),m.clipsegments=y(f._xctrl,f._yctrl,w,d),m.x=o,m.y=v,m.a=b,m.b=M,[m]}},24944:function(V){"use strict";V.exports=function(e,x,P,i){var L,C,c,y=[],r=!!P.smoothing,t=!!i.smoothing,s=e[0].length-1,n=e.length-1;for(L=0,C=[],c=[];L<=s;L++)C[L]=e[0][L],c[L]=x[0][L];for(y.push({x:C,y:c,bicubic:r}),L=0,C=[],c=[];L<=n;L++)C[L]=e[L][s],c[L]=x[L][s];for(y.push({x:C,y:c,bicubic:t}),L=s,C=[],c=[];L>=0;L--)C[s-L]=e[n][L],c[s-L]=x[n][L];for(y.push({x:C,y:c,bicubic:r}),L=n,C=[],c=[];L>=0;L--)C[n-L]=e[L][0],c[n-L]=x[L][0];return y.push({x:C,y:c,bicubic:t}),y}},19216:function(V,U,e){"use strict";var x=e(54460),P=e(92880).extendFlat;V.exports=function(L,C,c){var y,r,t,s,n,u,l,f,g,h,w,d,o,v,A=L["_"+C],b=L[C+"axis"],M=b._gridlines=[],m=b._minorgridlines=[],S=b._boundarylines=[],T=L["_"+c],a=L[c+"axis"];b.tickmode==="array"&&(b.tickvals=A.slice());var E=L._xctrl,p=L._yctrl,k=E[0].length,R=E.length,B=L._a.length,F=L._b.length;x.prepTicks(b),b.tickmode==="array"&&delete b.tickvals;var _=b.smoothing?3:1;function O(N){var Y,J,ae,se,ue,K,j,ie,W,Q,ee,$,X=[],oe=[],te={};if(C==="b")for(J=L.b2j(N),ae=Math.floor(Math.max(0,Math.min(F-2,J))),se=J-ae,te.length=F,te.crossLength=B,te.xy=function(fe){return L.evalxy([],fe,J)},te.dxy=function(fe,pe){return L.dxydi([],fe,ae,pe,se)},Y=0;Y<B;Y++)K=Math.min(B-2,Y),j=Y-K,ie=L.evalxy([],Y,J),a.smoothing&&Y>0&&(W=L.dxydi([],Y-1,ae,0,se),X.push(ue[0]+W[0]/3),oe.push(ue[1]+W[1]/3),Q=L.dxydi([],Y-1,ae,1,se),X.push(ie[0]-Q[0]/3),oe.push(ie[1]-Q[1]/3)),X.push(ie[0]),oe.push(ie[1]),ue=ie;else for(Y=L.a2i(N),K=Math.floor(Math.max(0,Math.min(B-2,Y))),j=Y-K,te.length=B,te.crossLength=F,te.xy=function(fe){return L.evalxy([],Y,fe)},te.dxy=function(fe,pe){return L.dxydj([],K,fe,j,pe)},J=0;J<F;J++)ae=Math.min(F-2,J),se=J-ae,ie=L.evalxy([],Y,J),a.smoothing&&J>0&&(ee=L.dxydj([],K,J-1,j,0),X.push(ue[0]+ee[0]/3),oe.push(ue[1]+ee[1]/3),$=L.dxydj([],K,J-1,j,1),X.push(ie[0]-$[0]/3),oe.push(ie[1]-$[1]/3)),X.push(ie[0]),oe.push(ie[1]),ue=ie;return te.axisLetter=C,te.axis=b,te.crossAxis=a,te.value=N,te.constvar=c,te.index=f,te.x=X,te.y=oe,te.smoothing=a.smoothing,te}function z(N){var Y,J,ae,se,ue,K=[],j=[],ie={};if(ie.length=A.length,ie.crossLength=T.length,C==="b")for(ae=Math.max(0,Math.min(F-2,N)),ue=Math.min(1,Math.max(0,N-ae)),ie.xy=function(W){return L.evalxy([],W,N)},ie.dxy=function(W,Q){return L.dxydi([],W,ae,Q,ue)},Y=0;Y<k;Y++)K[Y]=E[N*_][Y],j[Y]=p[N*_][Y];else for(J=Math.max(0,Math.min(B-2,N)),se=Math.min(1,Math.max(0,N-J)),ie.xy=function(W){return L.evalxy([],N,W)},ie.dxy=function(W,Q){return L.dxydj([],J,W,se,Q)},Y=0;Y<R;Y++)K[Y]=E[Y][N*_],j[Y]=p[Y][N*_];return ie.axisLetter=C,ie.axis=b,ie.crossAxis=a,ie.value=A[N],ie.constvar=c,ie.index=N,ie.x=K,ie.y=j,ie.smoothing=a.smoothing,ie}if(b.tickmode==="array"){for(s=5e-15,n=[Math.floor((A.length-1-b.arraytick0)/b.arraydtick*(1+s)),Math.ceil(-b.arraytick0/b.arraydtick/(1+s))].sort(function(N,Y){return N-Y}),u=n[0]-1,l=n[1]+1,f=u;f<l;f++)r=b.arraytick0+b.arraydtick*f,!(r<0||r>A.length-1)&&M.push(P(z(r),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(f=u;f<l;f++)if(t=b.arraytick0+b.arraydtick*f,w=Math.min(t+b.arraydtick,A.length-1),!(t<0||t>A.length-1)&&!(w<0||w>A.length-1))for(d=A[t],o=A[w],y=0;y<b.minorgridcount;y++)v=w-t,!(v<=0)&&(h=d+(o-d)*(y+1)/(b.minorgridcount+1)*(b.arraydtick/v),!(h<A[0]||h>A[A.length-1])&&m.push(P(O(h),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash})));b.startline&&S.push(P(z(0),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&S.push(P(z(A.length-1),{color:b.endlinecolor,width:b.endlinewidth}))}else{for(s=5e-15,n=[Math.floor((A[A.length-1]-b.tick0)/b.dtick*(1+s)),Math.ceil((A[0]-b.tick0)/b.dtick/(1+s))].sort(function(N,Y){return N-Y}),u=n[0],l=n[1],f=u;f<=l;f++)g=b.tick0+b.dtick*f,M.push(P(O(g),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(f=u-1;f<l+1;f++)for(g=b.tick0+b.dtick*f,y=0;y<b.minorgridcount;y++)h=g+b.dtick*(y+1)/(b.minorgridcount+1),!(h<A[0]||h>A[A.length-1])&&m.push(P(O(h),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash}));b.startline&&S.push(P(O(A[0]),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&S.push(P(O(A[A.length-1]),{color:b.endlinecolor,width:b.endlinewidth}))}}},14724:function(V,U,e){"use strict";var x=e(54460),P=e(92880).extendFlat;V.exports=function(L,C){var c,y,r,t,s,n=C._labels=[],u=C._gridlines;for(c=0;c<u.length;c++)s=u[c],["start","both"].indexOf(C.showticklabels)!==-1&&(y=x.tickText(C,s.value),P(y,{prefix:r,suffix:t,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:c===0,isLast:c===u.length-1}),n.push(y)),["end","both"].indexOf(C.showticklabels)!==-1&&(y=x.tickText(C,s.value),P(y,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:c===0,isLast:c===u.length-1}),n.push(y))}},62284:function(V){"use strict";var U=.5;V.exports=function(x,P,i,L){var C=x[0]-P[0],c=x[1]-P[1],y=i[0]-P[0],r=i[1]-P[1],t=Math.pow(C*C+c*c,U/2),s=Math.pow(y*y+r*r,U/2),n=(s*s*C-t*t*y)*L,u=(s*s*c-t*t*r)*L,l=s*(t+s)*3,f=t*(t+s)*3;return[[P[0]+(l&&n/l),P[1]+(l&&u/l)],[P[0]-(f&&n/f),P[1]-(f&&u/f)]]}},60776:function(V,U,e){"use strict";var x=e(3400).isArrayOrTypedArray;V.exports=function(P,i,L){var C,c,y,r,t,s,n=[],u=x(P)?P.length:P,l=x(i)?i.length:i,f=x(P)?P:null,g=x(i)?i:null;f&&(y=(f.length-1)/(f[f.length-1]-f[0])/(u-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(l-1));var h,w=1/0,d=-1/0;for(c=0;c<l;c++)for(n[c]=[],s=g?(g[c]-g[0])*r:c/(l-1),C=0;C<u;C++)t=f?(f[C]-f[0])*y:C/(u-1),h=t-s*L,w=Math.min(h,w),d=Math.max(h,d),n[c][C]=h;var o=1/(d-w),v=-w*o;for(c=0;c<l;c++)for(C=0;C<u;C++)n[c][C]=o*n[c][C]+v;return n}},30180:function(V,U,e){"use strict";var x=e(62284),P=e(3400).ensureArray;function i(L,C,c){var y=-.5*c[0]+1.5*C[0],r=-.5*c[1]+1.5*C[1];return[(2*y+L[0])/3,(2*r+L[1])/3]}V.exports=function(C,c,y,r,t,s){var n,u,l,f,g,h,w,d,o,v,A=y[0].length,b=y.length,M=t?3*A-2:A,m=s?3*b-2:b;for(C=P(C,m),c=P(c,m),l=0;l<m;l++)C[l]=P(C[l],M),c[l]=P(c[l],M);for(u=0,f=0;u<b;u++,f+=s?3:1)for(g=C[f],h=c[f],w=y[u],d=r[u],n=0,l=0;n<A;n++,l+=t?3:1)g[l]=w[n],h[l]=d[n];if(t)for(u=0,f=0;u<b;u++,f+=s?3:1){for(n=1,l=3;n<A-1;n++,l+=3)o=x([y[u][n-1],r[u][n-1]],[y[u][n],r[u][n]],[y[u][n+1],r[u][n+1]],t),C[f][l-1]=o[0][0],c[f][l-1]=o[0][1],C[f][l+1]=o[1][0],c[f][l+1]=o[1][1];v=i([C[f][0],c[f][0]],[C[f][2],c[f][2]],[C[f][3],c[f][3]]),C[f][1]=v[0],c[f][1]=v[1],v=i([C[f][M-1],c[f][M-1]],[C[f][M-3],c[f][M-3]],[C[f][M-4],c[f][M-4]]),C[f][M-2]=v[0],c[f][M-2]=v[1]}if(s)for(l=0;l<M;l++){for(f=3;f<m-3;f+=3)o=x([C[f-3][l],c[f-3][l]],[C[f][l],c[f][l]],[C[f+3][l],c[f+3][l]],s),C[f-1][l]=o[0][0],c[f-1][l]=o[0][1],C[f+1][l]=o[1][0],c[f+1][l]=o[1][1];v=i([C[0][l],c[0][l]],[C[2][l],c[2][l]],[C[3][l],c[3][l]]),C[1][l]=v[0],c[1][l]=v[1],v=i([C[m-1][l],c[m-1][l]],[C[m-3][l],c[m-3][l]],[C[m-4][l],c[m-4][l]]),C[m-2][l]=v[0],c[m-2][l]=v[1]}if(t&&s)for(f=1;f<m;f+=(f+1)%3===0?2:1){for(l=3;l<M-3;l+=3)o=x([C[f][l-3],c[f][l-3]],[C[f][l],c[f][l]],[C[f][l+3],c[f][l+3]],t),C[f][l-1]=.5*(C[f][l-1]+o[0][0]),c[f][l-1]=.5*(c[f][l-1]+o[0][1]),C[f][l+1]=.5*(C[f][l+1]+o[1][0]),c[f][l+1]=.5*(c[f][l+1]+o[1][1]);v=i([C[f][0],c[f][0]],[C[f][2],c[f][2]],[C[f][3],c[f][3]]),C[f][1]=.5*(C[f][1]+v[0]),c[f][1]=.5*(c[f][1]+v[1]),v=i([C[f][M-1],c[f][M-1]],[C[f][M-3],c[f][M-3]],[C[f][M-4],c[f][M-4]]),C[f][M-2]=.5*(C[f][M-2]+v[0]),c[f][M-2]=.5*(c[f][M-2]+v[1])}return[C,c]}},24588:function(V){"use strict";V.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(V){"use strict";V.exports=function(U,e,x){return e&&x?function(P,i,L,C,c){P||(P=[]);var y,r,t,s,n,u;i*=3,L*=3;var l=C*C,f=1-C,g=f*f,h=f*C*2,w=-3*g,d=3*(g-h),o=3*(h-l),v=3*l,A=c*c,b=A*c,M=1-c,m=M*M,S=m*M;for(u=0;u<U.length;u++)n=U[u],y=w*n[L][i]+d*n[L][i+1]+o*n[L][i+2]+v*n[L][i+3],r=w*n[L+1][i]+d*n[L+1][i+1]+o*n[L+1][i+2]+v*n[L+1][i+3],t=w*n[L+2][i]+d*n[L+2][i+1]+o*n[L+2][i+2]+v*n[L+2][i+3],s=w*n[L+3][i]+d*n[L+3][i+1]+o*n[L+3][i+2]+v*n[L+3][i+3],P[u]=S*y+3*(m*c*r+M*A*t)+b*s;return P}:e?function(P,i,L,C,c){P||(P=[]);var y,r,t,s;i*=3;var n=C*C,u=1-C,l=u*u,f=u*C*2,g=-3*l,h=3*(l-f),w=3*(f-n),d=3*n,o=1-c;for(t=0;t<U.length;t++)s=U[t],y=g*s[L][i]+h*s[L][i+1]+w*s[L][i+2]+d*s[L][i+3],r=g*s[L+1][i]+h*s[L+1][i+1]+w*s[L+1][i+2]+d*s[L+1][i+3],P[t]=o*y+c*r;return P}:x?function(P,i,L,C,c){P||(P=[]);var y,r,t,s,n,u;L*=3;var l=c*c,f=l*c,g=1-c,h=g*g,w=h*g;for(n=0;n<U.length;n++)u=U[n],y=u[L][i+1]-u[L][i],r=u[L+1][i+1]-u[L+1][i],t=u[L+2][i+1]-u[L+2][i],s=u[L+3][i+1]-u[L+3][i],P[n]=w*y+3*(h*c*r+g*l*t)+f*s;return P}:function(P,i,L,C,c){P||(P=[]);var y,r,t,s,n=1-c;for(t=0;t<U.length;t++)s=U[t],y=s[L][i+1]-s[L][i],r=s[L+1][i+1]-s[L+1][i],P[t]=n*y+c*r;return P}}},24464:function(V){"use strict";V.exports=function(U,e,x){return e&&x?function(P,i,L,C,c){P||(P=[]);var y,r,t,s,n,u;i*=3,L*=3;var l=C*C,f=l*C,g=1-C,h=g*g,w=h*g,d=c*c,o=1-c,v=o*o,A=o*c*2,b=-3*v,M=3*(v-A),m=3*(A-d),S=3*d;for(u=0;u<U.length;u++)n=U[u],y=b*n[L][i]+M*n[L+1][i]+m*n[L+2][i]+S*n[L+3][i],r=b*n[L][i+1]+M*n[L+1][i+1]+m*n[L+2][i+1]+S*n[L+3][i+1],t=b*n[L][i+2]+M*n[L+1][i+2]+m*n[L+2][i+2]+S*n[L+3][i+2],s=b*n[L][i+3]+M*n[L+1][i+3]+m*n[L+2][i+3]+S*n[L+3][i+3],P[u]=w*y+3*(h*C*r+g*l*t)+f*s;return P}:e?function(P,i,L,C,c){P||(P=[]);var y,r,t,s,n,u;i*=3;var l=c*c,f=l*c,g=1-c,h=g*g,w=h*g;for(n=0;n<U.length;n++)u=U[n],y=u[L+1][i]-u[L][i],r=u[L+1][i+1]-u[L][i+1],t=u[L+1][i+2]-u[L][i+2],s=u[L+1][i+3]-u[L][i+3],P[n]=w*y+3*(h*c*r+g*l*t)+f*s;return P}:x?function(P,i,L,C,c){P||(P=[]);var y,r,t,s;L*=3;var n=1-C,u=c*c,l=1-c,f=l*l,g=l*c*2,h=-3*f,w=3*(f-g),d=3*(g-u),o=3*u;for(t=0;t<U.length;t++)s=U[t],y=h*s[L][i]+w*s[L+1][i]+d*s[L+2][i]+o*s[L+3][i],r=h*s[L][i+1]+w*s[L+1][i+1]+d*s[L+2][i+1]+o*s[L+3][i+1],P[t]=n*y+C*r;return P}:function(P,i,L,C,c){P||(P=[]);var y,r,t,s,n=1-C;for(t=0;t<U.length;t++)s=U[t],y=s[L+1][i]-s[L][i],r=s[L+1][i+1]-s[L][i+1],P[t]=n*y+C*r;return P}}},29056:function(V){"use strict";V.exports=function(U,e,x,P,i){var L=e-2,C=x-2;return P&&i?function(c,y,r){c||(c=[]);var t,s,n,u,l,f,g=Math.max(0,Math.min(Math.floor(y),L)),h=Math.max(0,Math.min(Math.floor(r),C)),w=Math.max(0,Math.min(1,y-g)),d=Math.max(0,Math.min(1,r-h));g*=3,h*=3;var o=w*w,v=o*w,A=1-w,b=A*A,M=b*A,m=d*d,S=m*d,T=1-d,a=T*T,E=a*T;for(f=0;f<U.length;f++)l=U[f],t=M*l[h][g]+3*(b*w*l[h][g+1]+A*o*l[h][g+2])+v*l[h][g+3],s=M*l[h+1][g]+3*(b*w*l[h+1][g+1]+A*o*l[h+1][g+2])+v*l[h+1][g+3],n=M*l[h+2][g]+3*(b*w*l[h+2][g+1]+A*o*l[h+2][g+2])+v*l[h+2][g+3],u=M*l[h+3][g]+3*(b*w*l[h+3][g+1]+A*o*l[h+3][g+2])+v*l[h+3][g+3],c[f]=E*t+3*(a*d*s+T*m*n)+S*u;return c}:P?function(c,y,r){c||(c=[]);var t=Math.max(0,Math.min(Math.floor(y),L)),s=Math.max(0,Math.min(Math.floor(r),C)),n=Math.max(0,Math.min(1,y-t)),u=Math.max(0,Math.min(1,r-s)),l,f,g,h,w,d;t*=3;var o=n*n,v=o*n,A=1-n,b=A*A,M=b*A,m=1-u;for(w=0;w<U.length;w++)d=U[w],l=m*d[s][t]+u*d[s+1][t],f=m*d[s][t+1]+u*d[s+1][t+1],g=m*d[s][t+2]+u*d[s+1][t+1],h=m*d[s][t+3]+u*d[s+1][t+1],c[w]=M*l+3*(b*n*f+A*o*g)+v*h;return c}:i?function(c,y,r){c||(c=[]);var t=Math.max(0,Math.min(Math.floor(y),L)),s=Math.max(0,Math.min(Math.floor(r),C)),n=Math.max(0,Math.min(1,y-t)),u=Math.max(0,Math.min(1,r-s)),l,f,g,h,w,d;s*=3;var o=u*u,v=o*u,A=1-u,b=A*A,M=b*A,m=1-n;for(w=0;w<U.length;w++)d=U[w],l=m*d[s][t]+n*d[s][t+1],f=m*d[s+1][t]+n*d[s+1][t+1],g=m*d[s+2][t]+n*d[s+2][t+1],h=m*d[s+3][t]+n*d[s+3][t+1],c[w]=M*l+3*(b*u*f+A*o*g)+v*h;return c}:function(c,y,r){c||(c=[]);var t=Math.max(0,Math.min(Math.floor(y),L)),s=Math.max(0,Math.min(Math.floor(r),C)),n=Math.max(0,Math.min(1,y-t)),u=Math.max(0,Math.min(1,r-s)),l,f,g,h,w=1-u,d=1-n;for(g=0;g<U.length;g++)h=U[g],l=d*h[s][t]+n*h[s][t+1],f=d*h[s+1][t]+n*h[s+1][t+1],c[g]=w*l+u*f;return c}}},38356:function(V,U,e){"use strict";var x=e(3400),P=e(86411),i=e(93504),L=e(85720),C=e(22548);V.exports=function(y,r,t,s){function n(f,g){return x.coerce(y,r,L,f,g)}r._clipPathId="clip"+r.uid+"carpet";var u=n("color",C.defaultLine);if(x.coerceFont(n,"font"),n("carpet"),i(y,r,s,n,u),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var l=P(y,r,n);l||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(V,U,e){"use strict";V.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(V){"use strict";V.exports=function(U,e){for(var x=U._fullData.length,P,i=0;i<x;i++){var L=U._fullData[i];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},53416:function(V){"use strict";V.exports=function(e,x,P){if(e.length===0)return"";var i,L=[],C=P?3:1;for(i=0;i<e.length;i+=C)L.push(e[i]+","+x[i]),P&&i<e.length-C&&(L.push("C"),L.push([e[i+1]+","+x[i+1],e[i+2]+","+x[i+2]+" "].join(" ")));return L.join(P?"":"L")}},87072:function(V,U,e){"use strict";var x=e(3400).isArrayOrTypedArray;V.exports=function(i,L,C){var c;for(x(i)?i.length>L.length&&(i=i.slice(0,L.length)):i=[],c=0;c<L.length;c++)i[c]=C(L[c]);return i}},15584:function(V){"use strict";V.exports=function(e,x,P,i,L,C){var c=L[0]*e.dpdx(x),y=L[1]*e.dpdy(P),r=1,t=1;if(C){var s=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(C[0]*C[0]+C[1]*C[1]),u=(L[0]*C[0]+L[1]*C[1])/s/n;t=Math.max(0,u)}var l=Math.atan2(y,c)*180/Math.PI;return l<-90?(l+=180,r=-r):l>90&&(l-=180,r=-r),{angle:l,flip:r,p:e.c2p(i,x,P),offsetMultplier:t}}},164:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(87072),L=e(53416),C=e(15584),c=e(72736),y=e(3400),r=y.strRotate,t=y.strTranslate,s=e(84284);V.exports=function(o,v,A,b){var M=o._context.staticPlot,m=v.xaxis,S=v.yaxis,T=o._fullLayout,a=T._clips;y.makeTraceGroups(b,A,"trace").each(function(E){var p=x.select(this),k=E[0],R=k.trace,B=R.aaxis,F=R.baxis,_=y.ensureSingle(p,"g","minorlayer"),O=y.ensureSingle(p,"g","majorlayer"),z=y.ensureSingle(p,"g","boundarylayer"),N=y.ensureSingle(p,"g","labellayer");p.style("opacity",R.opacity),u(m,S,O,B,"a",B._gridlines,!0,M),u(m,S,O,F,"b",F._gridlines,!0,M),u(m,S,_,B,"a",B._minorgridlines,!0,M),u(m,S,_,F,"b",F._minorgridlines,!0,M),u(m,S,z,B,"a-boundary",B._boundarylines,M),u(m,S,z,F,"b-boundary",F._boundarylines,M);var Y=l(o,m,S,R,k,N,B._labels,"a-label"),J=l(o,m,S,R,k,N,F._labels,"b-label");f(o,N,R,k,m,S,Y,J),n(R,k,a,m,S)})};function n(d,o,v,A,b){var M,m,S,T,a=v.select("#"+d._clipPathId);a.size()||(a=v.append("clipPath").classed("carpetclip",!0));var E=y.ensureSingle(a,"path","carpetboundary"),p=o.clipsegments,k=[];for(T=0;T<p.length;T++)M=p[T],m=i([],M.x,A.c2p),S=i([],M.y,b.c2p),k.push(L(m,S,M.bicubic));var R="M"+k.join("L")+"Z";a.attr("id",d._clipPathId),E.attr("d",R)}function u(d,o,v,A,b,M,m){var S="const-"+b+"-lines",T=v.selectAll("."+S).data(M);T.enter().append("path").classed(S,!0).style("vector-effect",m?"none":"non-scaling-stroke"),T.each(function(a){var E=a,p=E.x,k=E.y,R=i([],p,d.c2p),B=i([],k,o.c2p),F="M"+L(R,B,E.smoothing),_=x.select(this);_.attr("d",F).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",P.dashStyle(E.dash,E.width)).style("fill","none")}),T.exit().remove()}function l(d,o,v,A,b,M,m,S){var T=M.selectAll("text."+S).data(m);T.enter().append("text").classed(S,!0);var a=0,E={};return T.each(function(p,k){var R;if(p.axis.tickangle==="auto")R=C(A,o,v,p.xy,p.dxy);else{var B=(p.axis.tickangle+180)*Math.PI/180;R=C(A,o,v,p.xy,[Math.cos(B),Math.sin(B)])}k||(E={angle:R.angle,flip:R.flip});var F=(p.endAnchor?-1:1)*R.flip,_=x.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(P.font,p.font).text(p.text).call(c.convertToTspans,d),O=P.bBox(this);_.attr("transform",t(R.p[0],R.p[1])+r(R.angle)+t(p.axis.labelpadding*F,O.height*.3)),a=Math.max(a,O.width+p.axis.labelpadding)}),T.exit().remove(),E.maxExtent=a,E}function f(d,o,v,A,b,M,m,S){var T,a,E,p,k=y.aggNums(Math.min,null,v.a),R=y.aggNums(Math.max,null,v.a),B=y.aggNums(Math.min,null,v.b),F=y.aggNums(Math.max,null,v.b);T=.5*(k+R),a=B,E=v.ab2xy(T,a,!0),p=v.dxyda_rough(T,a),m.angle===void 0&&y.extendFlat(m,C(v,b,M,E,v.dxydb_rough(T,a))),w(d,o,v,A,E,p,v.aaxis,b,M,m,"a-title"),T=k,a=.5*(B+F),E=v.ab2xy(T,a,!0),p=v.dxydb_rough(T,a),S.angle===void 0&&y.extendFlat(S,C(v,b,M,E,v.dxyda_rough(T,a))),w(d,o,v,A,E,p,v.baxis,b,M,S,"b-title")}var g=s.LINE_SPACING,h=(1-s.MID_SHIFT)/g+1;function w(d,o,v,A,b,M,m,S,T,a,E){var p=[];m.title.text&&p.push(m.title.text);var k=o.selectAll("text."+E).data(p),R=a.maxExtent;k.enter().append("text").classed(E,!0),k.each(function(){var B=C(v,S,T,b,M);["start","both"].indexOf(m.showticklabels)===-1&&(R=0);var F=m.title.font.size;R+=F+m.title.offset;var _=a.angle+(a.flip<0?180:0),O=(_-B.angle+450)%360,z=O>90&&O<270,N=x.select(this);N.text(m.title.text).call(c.convertToTspans,d),z&&(R=(-c.lineCount(N)+h)*g*F-R),N.attr("transform",t(B.p[0],B.p[1])+r(B.angle)+t(0,R)).attr("text-anchor","middle").call(P.font,m.title.font)}),k.exit().remove()}},81e3:function(V,U,e){"use strict";var x=e(24588),P=e(14952).findBin,i=e(30180),L=e(29056),C=e(26435),c=e(24464);V.exports=function(r){var t=r._a,s=r._b,n=t.length,u=s.length,l=r.aaxis,f=r.baxis,g=t[0],h=t[n-1],w=s[0],d=s[u-1],o=t[t.length-1]-t[0],v=s[s.length-1]-s[0],A=o*x.RELATIVE_CULL_TOLERANCE,b=v*x.RELATIVE_CULL_TOLERANCE;g-=A,h+=A,w-=b,d+=b,r.isVisible=function(M,m){return M>g&&M<h&&m>w&&m<d},r.isOccluded=function(M,m){return M<g||M>h||m<w||m>d},r.setScale=function(){var M=r._x,m=r._y,S=i(r._xctrl,r._yctrl,M,m,l.smoothing,f.smoothing);r._xctrl=S[0],r._yctrl=S[1],r.evalxy=L([r._xctrl,r._yctrl],n,u,l.smoothing,f.smoothing),r.dxydi=C([r._xctrl,r._yctrl],l.smoothing,f.smoothing),r.dxydj=c([r._xctrl,r._yctrl],l.smoothing,f.smoothing)},r.i2a=function(M){var m=Math.max(0,Math.floor(M[0]),n-2),S=M[0]-m;return(1-S)*t[m]+S*t[m+1]},r.j2b=function(M){var m=Math.max(0,Math.floor(M[1]),n-2),S=M[1]-m;return(1-S)*s[m]+S*s[m+1]},r.ij2ab=function(M){return[r.i2a(M[0]),r.j2b(M[1])]},r.a2i=function(M){var m=Math.max(0,Math.min(P(M,t),n-2)),S=t[m],T=t[m+1];return Math.max(0,Math.min(n-1,m+(M-S)/(T-S)))},r.b2j=function(M){var m=Math.max(0,Math.min(P(M,s),u-2)),S=s[m],T=s[m+1];return Math.max(0,Math.min(u-1,m+(M-S)/(T-S)))},r.ab2ij=function(M){return[r.a2i(M[0]),r.b2j(M[1])]},r.i2c=function(M,m){return r.evalxy([],M,m)},r.ab2xy=function(M,m,S){if(!S&&(M<t[0]||M>t[n-1]|m<s[0]||m>s[u-1]))return[!1,!1];var T=r.a2i(M),a=r.b2j(m),E=r.evalxy([],T,a);if(S){var p=0,k=0,R=[],B,F,_,O;M<t[0]?(B=0,F=0,p=(M-t[0])/(t[1]-t[0])):M>t[n-1]?(B=n-2,F=1,p=(M-t[n-1])/(t[n-1]-t[n-2])):(B=Math.max(0,Math.min(n-2,Math.floor(T))),F=T-B),m<s[0]?(_=0,O=0,k=(m-s[0])/(s[1]-s[0])):m>s[u-1]?(_=u-2,O=1,k=(m-s[u-1])/(s[u-1]-s[u-2])):(_=Math.max(0,Math.min(u-2,Math.floor(a))),O=a-_),p&&(r.dxydi(R,B,_,F,O),E[0]+=R[0]*p,E[1]+=R[1]*p),k&&(r.dxydj(R,B,_,F,O),E[0]+=R[0]*k,E[1]+=R[1]*k)}return E},r.c2p=function(M,m,S){return[m.c2p(M[0]),S.c2p(M[1])]},r.p2x=function(M,m,S){return[m.p2c(M[0]),S.p2c(M[1])]},r.dadi=function(M){var m=Math.max(0,Math.min(t.length-2,M));return t[m+1]-t[m]},r.dbdj=function(M){var m=Math.max(0,Math.min(s.length-2,M));return s[m+1]-s[m]},r.dxyda=function(M,m,S,T){var a=r.dxydi(null,M,m,S,T),E=r.dadi(M,S);return[a[0]/E,a[1]/E]},r.dxydb=function(M,m,S,T){var a=r.dxydj(null,M,m,S,T),E=r.dbdj(m,T);return[a[0]/E,a[1]/E]},r.dxyda_rough=function(M,m,S){var T=o*(S||.1),a=r.ab2xy(M+T,m,!0),E=r.ab2xy(M-T,m,!0);return[(a[0]-E[0])*.5/T,(a[1]-E[1])*.5/T]},r.dxydb_rough=function(M,m,S){var T=v*(S||.1),a=r.ab2xy(M,m+T,!0),E=r.ab2xy(M,m-T,!0);return[(a[0]-E[0])*.5/T,(a[1]-E[1])*.5/T]},r.dpdx=function(M){return M._m},r.dpdy=function(M){return M._m}}},51512:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L,C){var c,y,r,t=[],s=[],n=i[0].length,u=i.length;function l(J,ae){var se=0,ue,K=0;return J>0&&(ue=i[ae][J-1])!==void 0&&(K++,se+=ue),J<n-1&&(ue=i[ae][J+1])!==void 0&&(K++,se+=ue),ae>0&&(ue=i[ae-1][J])!==void 0&&(K++,se+=ue),ae<u-1&&(ue=i[ae+1][J])!==void 0&&(K++,se+=ue),se/Math.max(1,K)}var f=0;for(c=0;c<n;c++)for(y=0;y<u;y++)i[y][c]===void 0&&(t.push(c),s.push(y),i[y][c]=l(c,y)),f=Math.max(f,Math.abs(i[y][c]));if(!t.length)return i;var g,h,w,d,o,v,A,b,M,m,S,T=1e-5,a=0,E=100,p=0,k=t.length;do{for(a=0,r=0;r<k;r++){c=t[r],y=s[r];var R=0,B=0,F,_,O,z,N,Y;c===0?(N=Math.min(n-1,2),O=L[N],z=L[1],F=i[y][N],_=i[y][1],B+=_+(_-F)*(L[0]-z)/(z-O),R++):c===n-1&&(N=Math.max(0,n-3),O=L[N],z=L[n-2],F=i[y][N],_=i[y][n-2],B+=_+(_-F)*(L[n-1]-z)/(z-O),R++),(c===0||c===n-1)&&y>0&&y<u-1&&(g=C[y+1]-C[y],h=C[y]-C[y-1],B+=(h*i[y+1][c]+g*i[y-1][c])/(h+g),R++),y===0?(Y=Math.min(u-1,2),O=C[Y],z=C[1],F=i[Y][c],_=i[1][c],B+=_+(_-F)*(C[0]-z)/(z-O),R++):y===u-1&&(Y=Math.max(0,u-3),O=C[Y],z=C[u-2],F=i[Y][c],_=i[u-2][c],B+=_+(_-F)*(C[u-1]-z)/(z-O),R++),(y===0||y===u-1)&&c>0&&c<n-1&&(g=L[c+1]-L[c],h=L[c]-L[c-1],B+=(h*i[y][c+1]+g*i[y][c-1])/(h+g),R++),R?B/=R:(w=L[c+1]-L[c],d=L[c]-L[c-1],o=C[y+1]-C[y],v=C[y]-C[y-1],A=w*d*(w+d),b=o*v*(o+v),B=(A*(v*i[y+1][c]+o*i[y-1][c])+b*(d*i[y][c+1]+w*i[y][c-1]))/(b*(d+w)+A*(v+o))),M=B-i[y][c],m=M/f,a+=m*m,S=R?0:.85,i[y][c]+=M*(1+S)}a=Math.sqrt(a)}while(p++<E&&a>T);return x.log("Smoother converged to",a,"after",p,"iterations"),i}},86411:function(V,U,e){"use strict";var x=e(3400).isArray1D;V.exports=function(i,L,C){var c=C("x"),y=c&&c.length,r=C("y"),t=r&&r.length;if(!y&&!t)return!1;if(L._cheater=!c,(!y||x(c))&&(!t||x(r))){var s=y?c.length:1/0;t&&(s=Math.min(s,r.length)),L.a&&L.a.length&&(s=Math.min(s,L.a.length)),L.b&&L.b.length&&(s=Math.min(s,L.b.length)),L._length=s}else L._length=null;return!0}},83372:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(6096),i=e(49084),L=e(45464),C=e(22548).defaultLine,c=e(92880).extendFlat,y=P.marker.line;V.exports=c({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:c({},P.geojson,{}),featureidkey:P.featureidkey,text:c({},P.text,{}),hovertext:c({},P.hovertext,{}),marker:{line:{color:c({},y.color,{dflt:C}),width:c({},y.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:c({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:x(),showlegend:c({},L.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(V,U,e){"use strict";var x=e(38248),P=e(39032).BADNUM,i=e(47128),L=e(20148),C=e(4500);function c(y){return y&&typeof y=="string"}V.exports=function(r,t){var s=t._length,n=new Array(s),u;t.geojson?u=function(w){return c(w)||x(w)}:u=c;for(var l=0;l<s;l++){var f=n[l]={},g=t.locations[l],h=t.z[l];u(g)&&x(h)?(f.loc=g,f.z=h):(f.loc=null,f.z=P),f.index=l}return L(n,t),i(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),C(n,t),n}},30972:function(V,U,e){"use strict";var x=e(3400),P=e(27260),i=e(83372);V.exports=function(C,c,y,r){function t(h,w){return x.coerce(C,c,i,h,w)}var s=t("locations"),n=t("z");if(!(s&&s.length&&x.isArrayOrTypedArray(n)&&n.length)){c.visible=!1;return}c._length=Math.min(s.length,n.length);var u=t("geojson"),l;(typeof u=="string"&&u!==""||x.isPlainObject(u))&&(l="geojson-id");var f=t("locationmode",l);f==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var g=t("marker.line.width");g&&t("marker.line.color"),t("marker.opacity"),P(C,c,r,t,{prefix:"",cLetter:"z"}),x.coerceSelectionMarkerOpacity(c,t)}},52428:function(V){"use strict";V.exports=function(e,x,P,i,L){e.location=x.location,e.z=x.z;var C=i[L];return C.fIn&&C.fIn.properties&&(e.properties=C.fIn.properties),e.ct=C.ct,e}},69224:function(V,U,e){"use strict";var x=e(54460),P=e(83372),i=e(3400).fillText;V.exports=function(c,y,r){var t=c.cd,s=t[0].trace,n=c.subplot,u,l,f,g,h=[y,r],w=[y+360,r];for(l=0;l<t.length;l++)if(u=t[l],g=!1,u._polygons){for(f=0;f<u._polygons.length;f++)u._polygons[f].contains(h)&&(g=!g),u._polygons[f].contains(w)&&(g=!g);if(g)break}if(!(!g||!u))return c.x0=c.x1=c.xa.c2p(u.ct),c.y0=c.y1=c.ya.c2p(u.ct),c.index=u.index,c.location=u.loc,c.z=u.z,c.zLabel=x.tickText(n.mockAxis,n.mockAxis.c2l(u.z),"hover").text,c.hovertemplate=u.hovertemplate,L(c,s,u),[c]};function L(C,c,y){if(!c.hovertemplate){var r=y.hi||c.hoverinfo,t=String(y.loc),s=r==="all"?P.hoverinfo.flags:r.split("+"),n=s.indexOf("name")!==-1,u=s.indexOf("location")!==-1,l=s.indexOf("z")!==-1,f=s.indexOf("text")!==-1,g=!n&&u,h=[];g?C.nameOverride=t:(n&&(C.nameOverride=c.name),u&&h.push(t)),l&&h.push(C.zLabel),f&&i(y,c,h),C.extraText=h.join("<br>")}}},54272:function(V,U,e){"use strict";V.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(27144),L=e(59972).getTopojsonFeatures,C=e(19280).findExtremes,c=e(7947).style;function y(t,s,n){var u=s.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(u,n,"trace choropleth").each(function(l){var f=x.select(this),g=f.selectAll("path.choroplethlocation").data(P.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),c(t,l)})}function r(t,s){for(var n=t[0].trace,u=s[n.geo],l=u._subplot,f=n.locationmode,g=n._length,h=f==="geojson-id"?i.extractTraceFeature(t):L(n,l.topojson),w=[],d=[],o=0;o<g;o++){var v=t[o],A=f==="geojson-id"?v.fOut:i.locationToFeature(f,v.loc,h);if(A){v.geojson=A,v.ct=A.properties.ct,v._polygons=i.feature2polygons(A);var b=i.computeBbox(A);w.push(b[0],b[2]),d.push(b[1],b[3])}else v.geojson=null}if(u.fitbounds==="geojson"&&f==="geojson-id"){var M=i.computeBbox(i.getTraceGeojson(n));w=[M[0],M[2]],d=[M[1],M[3]]}var m={padded:!0};n._extremes.lon=C(u.lonaxis._ax,w,m),n._extremes.lat=C(u.lataxis._ax,d,m)}V.exports={calcGeoJSON:r,plot:y}},17328:function(V){"use strict";V.exports=function(e,x){var P=e.cd,i=e.xaxis,L=e.yaxis,C=[],c,y,r,t,s;if(x===!1)for(c=0;c<P.length;c++)P[c].selected=0;else for(c=0;c<P.length;c++)y=P[c],r=y.ct,r&&(t=i.c2p(r),s=L.c2p(r),x.contains([t,s],null,c,e)?(C.push({pointNumber:c,lon:r[0],lat:r[1]}),y.selected=1):y.selected=0);return C}},7947:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(43616),L=e(8932);function C(r,t){t&&c(r,t)}function c(r,t){var s=t[0].trace,n=t[0].node3,u=n.selectAll(".choroplethlocation"),l=s.marker||{},f=l.line||{},g=L.makeColorScaleFuncFromTrace(s);u.each(function(h){x.select(this).attr("fill",g(h.z)).call(P.stroke,h.mlc||f.color).call(i.dashLine,"",h.mlw||f.width||0).style("opacity",l.opacity)}),i.selectedPointStyle(u,s)}function y(r,t){var s=t[0].node3,n=t[0].trace;n.selectedpoints?i.selectedPointStyle(s.selectAll(".choroplethlocation"),n):c(r,t)}V.exports={style:C,styleOnSelect:y}},45608:function(V,U,e){"use strict";var x=e(83372),P=e(49084),i=e(21776).Ks,L=e(45464),C=e(92880).extendFlat;V.exports=C({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:C({},x.featureidkey,{}),below:{valType:"string",editType:"plot"},text:x.text,hovertext:x.hovertext,marker:{line:{color:C({},x.marker.line.color,{editType:"plot"}),width:C({},x.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:C({},x.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:C({},x.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:C({},x.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:x.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:C({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(8932),L=e(43616),C=e(44808).makeBlank,c=e(27144);function y(t){var s=t[0].trace,n=s.visible===!0&&s._length!==0,u={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},f=s._opts={fill:u,line:l,geojson:C()};if(!n)return f;var g=c.extractTraceFeature(t);if(!g)return f;var h=i.makeColorScaleFuncFromTrace(s),w=s.marker,d=w.line||{},o;P.isArrayOrTypedArray(w.opacity)&&(o=function(a){var E=a.mo;return x(E)?+P.constrain(E,0,1):0});var v;P.isArrayOrTypedArray(d.color)&&(v=function(a){return a.mlc});var A;P.isArrayOrTypedArray(d.width)&&(A=function(a){return a.mlw});for(var b=0;b<t.length;b++){var M=t[b],m=M.fOut;if(m){var S=m.properties;S.fc=h(M.z),o&&(S.mo=o(M)),v&&(S.mlc=v(M)),A&&(S.mlw=A(M)),M.ct=S.ct,M._polygons=c.feature2polygons(m)}}var T=o?{type:"identity",property:"mo"}:w.opacity;return P.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":T}),P.extendFlat(l.paint,{"line-color":v?{type:"identity",property:"mlc"}:d.color,"line-width":A?{type:"identity",property:"mlw"}:d.width,"line-opacity":T}),u.layout.visibility="visible",l.layout.visibility="visible",f.geojson={type:"FeatureCollection",features:g},r(t),f}function r(t){var s=t[0].trace,n=s._opts,u;if(s.selectedpoints){for(var l=L.makeSelectedPointStyleFns(s),f=0;f<t.length;f++){var g=t[f];g.fOut&&(g.fOut.properties.mo2=l.selectedOpacityFn(g))}u={type:"identity",property:"mo2"}}else u=P.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":u}),P.extendFlat(n.line.paint,{"line-opacity":u}),n}V.exports={convert:y,convertOnSelect:r}},9352:function(V,U,e){"use strict";var x=e(3400),P=e(27260),i=e(45608);V.exports=function(C,c,y,r){function t(f,g){return x.coerce(C,c,i,f,g)}var s=t("locations"),n=t("z"),u=t("geojson");if(!x.isArrayOrTypedArray(s)||!s.length||!x.isArrayOrTypedArray(n)||!n.length||!(typeof u=="string"&&u!==""||x.isPlainObject(u))){c.visible=!1;return}t("featureidkey"),c._length=Math.min(s.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var l=t("marker.line.width");l&&t("marker.line.color"),t("marker.opacity"),P(C,c,r,t,{prefix:"",cLetter:"z"}),x.coerceSelectionMarkerOpacity(c,t)}},85404:function(V,U,e){"use strict";V.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(x,P){if(P){var i=P[0].trace;i._glTrace.updateOnSelect(P)}},getBelow:function(x,P){for(var i=P.getMapLayers(),L=i.length-2;L>=0;L--){var C=i[L].id;if(typeof C=="string"&&C.indexOf("water")===0){for(var c=L+1;c<i.length;c++)if(C=i[c].id,typeof C=="string"&&C.indexOf("plotly-")===-1)return C}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(V,U,e){"use strict";var x=e(13504).convert,P=e(13504).convertOnSelect,i=e(47552).traceLayerPrefix;function L(c,y){this.type="choroplethmapbox",this.subplot=c,this.uid=y,this.sourceId="source-"+y,this.layerList=[["fill",i+y+"-fill"],["line",i+y+"-line"]],this.below=null}var C=L.prototype;C.update=function(c){this._update(x(c)),c[0].trace._glTrace=this},C.updateOnSelect=function(c){this._update(P(c))},C._update=function(c){var y=this.subplot,r=this.layerList,t=y.belowLookup["trace-"+this.uid];y.map.getSource(this.sourceId).setData(c.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(c,t),this.below=t);for(var s=0;s<r.length;s++){var n=r[s],u=n[0],l=n[1],f=c[u];y.setOptions(l,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&y.setOptions(l,"setPaintProperty",f.paint)}},C._addLayers=function(c,y){for(var r=this.subplot,t=this.layerList,s=this.sourceId,n=0;n<t.length;n++){var u=t[n],l=u[0],f=c[l];r.addLayer({type:l,id:u[1],source:s,layout:f.layout,paint:f.paint},y)}},C._removeLayers=function(){for(var c=this.subplot.map,y=this.layerList,r=y.length-1;r>=0;r--)c.removeLayer(y[r][1])},C.dispose=function(){var c=this.subplot.map;this._removeLayers(),c.removeSource(this.sourceId)},V.exports=function(y,r){var t=r[0].trace,s=new L(y,t.uid),n=s.sourceId,u=x(r),l=s.below=y.belowLookup["trace-"+t.uid];return y.map.addSource(n,{type:"geojson",data:u.geojson}),s._addLayers(u,l),r[0].trace._glTrace=s,s}},86040:function(V,U,e){"use strict";var x=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(52948),C=e(45464),c=e(92880).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:c({},C.showlegend,{dflt:!1})};c(y,x("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){y[t]=L[t]}),y.hoverinfo=c({},C.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,V.exports=y},83344:function(V,U,e){"use strict";var x=e(47128);V.exports=function(i,L){for(var C=L.u,c=L.v,y=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,C.length,c.length,y.length),t=-1/0,s=1/0,n=0;n<r;n++){var u=C[n],l=c[n],f=y[n],g=Math.sqrt(u*u+l*l+f*f);t=Math.max(t,g),s=Math.min(s,g)}L._len=r,L._normMax=t,x(i,L,{vals:[s,t],containerStr:"",cLetter:"c"})}},6648:function(V,U,e){"use strict";var x=e(67792).gl_cone3d,P=e(67792).gl_cone3d.createConeMesh,i=e(3400).simpleMap,L=e(33040).parseColorScale,C=e(8932).extractOpts,c=e(3400).isArrayOrTypedArray,y=e(52094);function r(g,h){this.scene=g,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(g){if(g.object===this.mesh){var h=g.index=g.data.index,w=this.data.x[h],d=this.data.y[h],o=this.data.z[h],v=this.data.u[h],A=this.data.v[h],b=this.data.w[h];g.traceCoordinate=[w,d,o,v,A,b,Math.sqrt(v*v+A*A+b*b)];var M=this.data.hovertext||this.data.text;return c(M)&&M[h]!==void 0?g.textLabel=M[h]:M&&(g.textLabel=M),!0}};var s={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},u={tip:1,tail:1,cm:.75,center:.5};function l(g,h){var w=g.fullSceneLayout,d=g.dataScale,o={};function v(S,T){var a=w[T],E=d[s[T]];return i(S,function(p){return a.d2l(p)*E})}o.vectors=y(v(h.u,"xaxis"),v(h.v,"yaxis"),v(h.w,"zaxis"),h._len),o.positions=y(v(h.x,"xaxis"),v(h.y,"yaxis"),v(h.z,"zaxis"),h._len);var A=C(h);o.colormap=L(h),o.vertexIntensityBounds=[A.min/h._normMax,A.max/h._normMax],o.coneOffset=n[h.anchor];var b=h.sizemode;b==="scaled"?o.coneSize=h.sizeref||.5:b==="absolute"?o.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:b==="raw"&&(o.coneSize=h.sizeref),o.coneSizemode=b;var M=x(o),m=h.lightposition;return M.lightPosition=[m.x,m.y,m.z],M.ambient=h.lighting.ambient,M.diffuse=h.lighting.diffuse,M.specular=h.lighting.specular,M.roughness=h.lighting.roughness,M.fresnel=h.lighting.fresnel,M.opacity=h.opacity,h._pad=u[h.anchor]*M.vectorScale*M.coneScale*h._normMax,M}t.update=function(g){this.data=g;var h=l(this.scene,g);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(g,h){var w=g.glplot.gl,d=l(g,h),o=P(w,d),v=new r(g,h.uid);return v.mesh=o,v.data=h,o._trace=v,g.glplot.add(o),v}V.exports=f},86096:function(V,U,e){"use strict";var x=e(3400),P=e(27260),i=e(86040);V.exports=function(C,c,y,r){function t(w,d){return x.coerce(C,c,i,w,d)}var s=t("u"),n=t("v"),u=t("w"),l=t("x"),f=t("y"),g=t("z");if(!s||!s.length||!n||!n.length||!u||!u.length||!l||!l.length||!f||!f.length||!g||!g.length){c.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(C,c,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),c._length=null}},26048:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(x,P){return x.norm=P.traceCoordinate[6],x},meta:{}}},67104:function(V,U,e){"use strict";var x=e(83328),P=e(52904),i=e(29736),L=i.axisHoverFormat,C=i.descriptionOnlyNumbers,c=e(49084),y=e(98192).u,r=e(25376),t=e(92880).extendFlat,s=e(69104),n=s.COMPARISON_OPS2,u=s.INTERVAL_OPS,l=P.line;V.exports=t({z:x.z,x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,text:x.text,hovertext:x.hovertext,transpose:x.transpose,xtype:x.xtype,ytype:x.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:x.hovertemplate,texttemplate:t({},x.texttemplate,{}),textfont:t({},x.textfont,{}),hoverongaps:x.hoverongaps,connectgaps:t({},x.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:C("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:y,smoothing:t({},l.smoothing,{}),editType:"plot"},zorder:P.zorder},c("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(V,U,e){"use strict";var x=e(8932),P=e(19512),i=e(54444),L=e(46960);V.exports=function(c,y){var r=P(c,y),t=r[0].z;i(y,t);var s=y.contours,n=x.extractOpts(y),u;if(s.coloring==="heatmap"&&n.auto&&y.autocontour===!1){var l=s.start,f=L(s),g=s.size||1,h=Math.floor((f-l)/g)+1;isFinite(g)||(g=1,h=1);var w=l-g/2,d=w+h*g;u=[w,d]}else u=t;return x.calc(c,y,{vals:u,cLetter:"z"}),r}},56008:function(V){"use strict";V.exports=function(U,e){var x=U[0],P=x.z,i;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(i=0;i<U.length;i++){var C=U[i];C.prefixBoundary=!C.edgepaths.length&&(L>C.level||C.starts.length&&L===C.level)}break;case"constraint":if(x.prefixBoundary=!1,x.edgepaths.length)return;var c=x.x.length,y=x.y.length,r=-1/0,t=1/0;for(i=0;i<y;i++)t=Math.min(t,P[i][0]),t=Math.min(t,P[i][c-1]),r=Math.max(r,P[i][0]),r=Math.max(r,P[i][c-1]);for(i=1;i<c-1;i++)t=Math.min(t,P[0][i]),t=Math.min(t,P[y-1][i]),r=Math.max(r,P[0][i]),r=Math.max(r,P[y-1][i]);var s=e.value,n,u;switch(e._operation){case">":s>r&&(x.prefixBoundary=!0);break;case"<":(s<t||x.starts.length&&s===t)&&(x.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]),(u<t||n>r||x.starts.length&&u===t)&&(x.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]),n<t&&u>r&&(x.prefixBoundary=!0);break}break}}},55296:function(V,U,e){"use strict";var x=e(8932),P=e(41076),i=e(46960);function L(C,c,y){var r=c.contours,t=c.line,s=r.size||1,n=r.coloring,u=P(c,{isColorbar:!0});if(n==="heatmap"){var l=x.extractOpts(c);y._fillgradient=l.reversescale?x.flipScale(l.colorscale):l.colorscale,y._zrange=[l.min,l.max]}else n==="fill"&&(y._fillcolor=u);y._line={color:n==="lines"?u:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},y._levels={start:r.start,end:i(r),size:s}}V.exports={min:"zmin",max:"zmax",calc:L}},93252:function(V){"use strict";V.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(V,U,e){"use strict";var x=e(38248),P=e(17428),i=e(76308),L=i.addOpacity,C=i.opacity,c=e(69104),y=e(3400).isArrayOrTypedArray,r=c.CONSTRAINT_REDUCTION,t=c.COMPARISON_OPS2;V.exports=function(u,l,f,g,h,w){var d=l.contours,o,v,A,b=f("contours.operation");if(d._operation=r[b],s(f,d),b==="="?o=d.showlines=!0:(o=f("contours.showlines"),A=f("fillcolor",L((u.line||{}).color||h,.5))),o){var M=A&&C(A)?L(l.fillcolor,1):h;v=f("line.color",M),f("line.width",2),f("line.dash")}f("line.smoothing"),P(f,g,v,w)};function s(n,u){var l;t.indexOf(u.operation)===-1?(n("contours.value",[0,1]),y(u.value)?u.value.length>2?u.value=u.value.slice(2):u.length===0?u.value=[0,1]:u.length<2?(l=parseFloat(u.value[0]),u.value=[l,l+1]):u.value=[parseFloat(u.value[0]),parseFloat(u.value[1])]:x(u.value)&&(l=parseFloat(u.value),u.value=[l,l+1])):(n("contours.value",0),x(u.value)||(y(u.value)?u.value=parseFloat(u.value[0]):u.value=0))}},3212:function(V,U,e){"use strict";var x=e(69104),P=e(38248);V.exports={"[]":L("[]"),"][":L("]["),">":C(">"),"<":C("<"),"=":C("=")};function i(c,y){var r=Array.isArray(y),t;function s(n){return P(n)?+n:null}return x.COMPARISON_OPS2.indexOf(c)!==-1?t=s(r?y[0]:y):x.INTERVAL_OPS.indexOf(c)!==-1?t=r?[s(y[0]),s(y[1])]:[s(y),s(y)]:x.SET_OPS.indexOf(c)!==-1&&(t=r?y.map(s):[s(y)]),t}function L(c){return function(y){y=i(c,y);var r=Math.min(y[0],y[1]),t=Math.max(y[0],y[1]);return{start:r,end:t,size:t-r}}}function C(c){return function(y){return y=i(c,y),{start:y,end:1/0,size:1/0}}}},84952:function(V){"use strict";V.exports=function(e,x,P,i){var L=i("contours.start"),C=i("contours.end"),c=L===!1||C===!1,y=P("contours.size"),r;c?r=x.autocontour=!0:r=P("autocontour",!1),(r||!y)&&P("ncontours")}},82172:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){var C,c,y,r=function(n){return n.reverse()},t=function(n){return n};switch(L){case"=":case"<":return i;case">":for(i.length!==1&&x.warn("Contour data invalid for the specified inequality operation."),c=i[0],C=0;C<c.edgepaths.length;C++)c.edgepaths[C]=r(c.edgepaths[C]);for(C=0;C<c.paths.length;C++)c.paths[C]=r(c.paths[C]);for(C=0;C<c.starts.length;C++)c.starts[C]=r(c.starts[C]);return i;case"][":var s=r;r=t,t=s;case"[]":for(i.length!==2&&x.warn("Contour data invalid for the specified inequality range operation."),c=P(i[0]),y=P(i[1]),C=0;C<c.edgepaths.length;C++)c.edgepaths[C]=r(c.edgepaths[C]);for(C=0;C<c.paths.length;C++)c.paths[C]=r(c.paths[C]);for(C=0;C<c.starts.length;C++)c.starts[C]=r(c.starts[C]);for(;y.edgepaths.length;)c.edgepaths.push(t(y.edgepaths.shift()));for(;y.paths.length;)c.paths.push(t(y.paths.shift()));for(;y.starts.length;)c.starts.push(t(y.starts.shift()));return[c]}};function P(i){return x.extendFlat({},i,{edgepaths:x.extendDeep([],i.edgepaths),paths:x.extendDeep([],i.paths),starts:x.extendDeep([],i.starts)})}},57004:function(V,U,e){"use strict";var x=e(3400),P=e(51264),i=e(31147),L=e(95536),C=e(84952),c=e(97680),y=e(39096),r=e(67104);V.exports=function(s,n,u,l){function f(d,o){return x.coerce(s,n,r,d,o)}function g(d){return x.coerce2(s,n,r,d)}var h=P(s,n,f,l);if(!h){n.visible=!1;return}i(s,n,l,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hoverongaps"),f("hovertemplate");var w=f("contours.type")==="constraint";f("connectgaps",x.isArray1D(n.z)),w?L(s,n,f,l,u):(C(s,n,f,g),c(s,n,f,l)),n.contours&&n.contours.coloring==="heatmap"&&y(f,l),f("zorder")}},61512:function(V,U,e){"use strict";var x=e(3400),P=e(3212),i=e(46960);V.exports=function(C,c,y){for(var r=C.type==="constraint"?P[C._operation](C.value):C,t=r.size,s=[],n=i(r),u=y.trace._carpetTrace,l=u?{xaxis:u.aaxis,yaxis:u.baxis,x:y.a,y:y.b}:{xaxis:c.xaxis,yaxis:c.yaxis,x:y.x,y:y.y},f=r.start;f<n;f+=t)if(s.push(x.extendFlat({level:f,crossings:{},starts:[],edgepaths:[],paths:[],z:y.z,smoothing:y.trace.line.smoothing},l)),s.length>1e3){x.warn("Too many contours, clipping at 1000",C);break}return s}},46960:function(V){"use strict";V.exports=function(e){return e.end+e.size/1e6}},88748:function(V,U,e){"use strict";var x=e(3400),P=e(93252);V.exports=function(t,s,n){var u,l,f,g,h;for(s=s||.01,n=n||.01,f=0;f<t.length;f++){for(g=t[f],h=0;h<g.starts.length;h++)l=g.starts[h],C(g,l,"edge",s,n);for(u=0;Object.keys(g.crossings).length&&u<1e4;)u++,l=Object.keys(g.crossings)[0].split(",").map(Number),C(g,l,void 0,s,n);u===1e4&&x.log("Infinite loop in contour?")}};function i(r,t,s,n){return Math.abs(r[0]-t[0])<s&&Math.abs(r[1]-t[1])<n}function L(r,t){var s=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(s*s+n*n)}function C(r,t,s,n,u){var l=t.join(","),f=r.crossings[l],g=c(f,s,t),h=[y(r,t,[-g[0],-g[1]])],w=r.z.length,d=r.z[0].length,o=t.slice(),v=g.slice(),A;for(A=0;A<1e4;A++){if(f>20?(f=P.CHOOSESADDLE[f][(g[0]||g[1])<0?0:1],r.crossings[l]=P.SADDLEREMAINDER[f]):delete r.crossings[l],g=P.NEWDELTA[f],!g){x.log("Found bad marching index:",f,t,r.level);break}h.push(y(r,t,g)),t[0]+=g[0],t[1]+=g[1],l=t.join(","),i(h[h.length-1],h[h.length-2],n,u)&&h.pop();var b=g[0]&&(t[0]<0||t[0]>d-2)||g[1]&&(t[1]<0||t[1]>w-2),M=t[0]===o[0]&&t[1]===o[1]&&g[0]===v[0]&&g[1]===v[1];if(M||s&&b)break;f=r.crossings[l]}A===1e4&&x.log("Infinite loop in contour?");var m=i(h[0],h[h.length-1],n,u),S=0,T=.2*r.smoothing,a=[],E=0,p,k,R,B,F,_,O,z,N,Y,J;for(A=1;A<h.length;A++)O=L(h[A],h[A-1]),S+=O,a.push(O);var ae=S/a.length*T;function se(j){return h[j%h.length]}for(A=h.length-2;A>=E;A--)if(p=a[A],p<ae){for(R=0,k=A-1;k>=E&&p+a[k]<ae;k--)p+=a[k];if(m&&A===h.length-2)for(R=0;R<k&&p+a[R]<ae;R++)p+=a[R];F=A-k+R+1,_=Math.floor((A+k+R+2)/2),!m&&A===h.length-2?B=h[h.length-1]:!m&&k===-1?B=h[0]:F%2?B=se(_):B=[(se(_)[0]+se(_+1)[0])/2,(se(_)[1]+se(_+1)[1])/2],h.splice(k+1,A-k+1,B),A=k+1,R&&(E=R),m&&(A===h.length-2?h[R]=h[h.length-1]:A===0&&(h[h.length-1]=h[0]))}for(h.splice(0,E),A=0;A<h.length;A++)h[A].length=2;if(!(h.length<2))if(m)h.pop(),r.paths.push(h);else{s||x.log("Unclosed interior contour?",r.level,o.join(","),h.join("L"));var ue=!1;for(z=0;z<r.edgepaths.length;z++)if(Y=r.edgepaths[z],!ue&&i(Y[0],h[h.length-1],n,u)){h.pop(),ue=!0;var K=!1;for(N=0;N<r.edgepaths.length;N++)if(J=r.edgepaths[N],i(J[J.length-1],h[0],n,u)){K=!0,h.shift(),r.edgepaths.splice(z,1),N===z?r.paths.push(h.concat(J)):(N>z&&N--,r.edgepaths[N]=J.concat(h,Y));break}K||(r.edgepaths[z]=h.concat(Y))}for(z=0;z<r.edgepaths.length&&!ue;z++)Y=r.edgepaths[z],i(Y[Y.length-1],h[0],n,u)&&(h.shift(),r.edgepaths[z]=Y.concat(h),ue=!0);ue||r.edgepaths.push(h)}}function c(r,t,s){var n=0,u=0;return r>20&&t?r===208||r===1114?n=s[0]===0?1:-1:u=s[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?u=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?u=-1:n=-1,[n,u]}function y(r,t,s){var n=t[0]+Math.max(s[0],0),u=t[1]+Math.max(s[1],0),l=r.z[u][n],f=r.xaxis,g=r.yaxis;if(s[1]){var h=(r.level-l)/(r.z[u][n+1]-l),w=(h!==1?(1-h)*f.c2l(r.x[n]):0)+(h!==0?h*f.c2l(r.x[n+1]):0);return[f.c2p(f.l2c(w),!0),g.c2p(r.y[u],!0),n+h,u]}else{var d=(r.level-l)/(r.z[u+1][n]-l),o=(d!==1?(1-d)*g.c2l(r.y[u]):0)+(d!==0?d*g.c2l(r.y[u+1]):0);return[f.c2p(r.x[n],!0),g.c2p(g.l2c(o),!0),n,u+d]}}},38200:function(V,U,e){"use strict";var x=e(76308),P=e(55512);V.exports=function(L,C,c,y,r){r||(r={}),r.isContour=!0;var t=P(L,C,c,y,r);return t&&t.forEach(function(s){var n=s.trace;n.contours.type==="constraint"&&(n.fillcolor&&x.opacity(n.fillcolor)?s.color=x.addOpacity(n.fillcolor,1):n.contours.showlines&&x.opacity(n.line.color)&&(s.color=x.addOpacity(n.line.color,1)))}),t}},66240:function(V,U,e){"use strict";V.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L,C,c){c||(c={});var y=i("contours.showlabels");if(y){var r=L.font;x.coerceFont(i,"contours.labelfont",{family:r.family,size:r.size,color:C}),i("contours.labelformat")}c.hasHover!==!1&&i("zhoverformat")}},41076:function(V,U,e){"use strict";var x=e(33428),P=e(8932),i=e(46960);V.exports=function(C){var c=C.contours,y=c.start,r=i(c),t=c.size||1,s=Math.floor((r-y)/t)+1,n=c.coloring==="lines"?0:1,u=P.extractOpts(C);isFinite(t)||(t=1,s=1);var l=u.reversescale?P.flipScale(u.colorscale):u.colorscale,f=l.length,g=new Array(f),h=new Array(f),w,d,o=u.min,v=u.max;if(c.coloring==="heatmap"){for(d=0;d<f;d++)w=l[d],g[d]=w[0]*(v-o)+o,h[d]=w[1];var A=x.extent([o,v,c.start,c.start+t*(s-1)]),b=A[o<v?0:1],M=A[o<v?1:0];b!==o&&(g.splice(0,0,b),h.splice(0,0,h[0])),M!==v&&(g.push(M),h.push(h[h.length-1]))}else{var m=C._input&&typeof C._input.zmin=="number"&&typeof C._input.zmax=="number";for(m&&(y<=o||r>=v)&&(y<=o&&(y=o),r>=v&&(r=v),s=Math.floor((r-y)/t)+1,n=0),d=0;d<f;d++)w=l[d],g[d]=(w[0]*(s+n-1)-n/2)*t+y,h[d]=w[1];(m||C.autocontour)&&(g[0]>o&&(g.unshift(o),h.unshift(h[0])),g[g.length-1]<v&&(g.push(v),h.push(h[h.length-1])))}return P.makeColorScaleFunc({domain:g,range:h},{noNumericCheck:!0})}},72424:function(V,U,e){"use strict";var x=e(93252);V.exports=function(L){var C=L[0].z,c=C.length,y=C[0].length,r=c===2||y===2,t,s,n,u,l,f,g,h,w;for(s=0;s<c-1;s++)for(u=[],s===0&&(u=u.concat(x.BOTTOMSTART)),s===c-2&&(u=u.concat(x.TOPSTART)),t=0;t<y-1;t++)for(n=u.slice(),t===0&&(n=n.concat(x.LEFTSTART)),t===y-2&&(n=n.concat(x.RIGHTSTART)),l=t+","+s,f=[[C[s][t],C[s][t+1]],[C[s+1][t],C[s+1][t+1]]],w=0;w<L.length;w++)h=L[w],g=P(h.level,f),g&&(h.crossings[l]=g,n.indexOf(g)!==-1&&(h.starts.push([t,s]),r&&n.indexOf(g,n.indexOf(g)+1)!==-1&&h.starts.push([t,s])))};function P(i,L){var C=(L[0][0]>i?0:1)+(L[0][1]>i?0:2)+(L[1][1]>i?0:4)+(L[1][0]>i?0:8);if(C===5||C===10){var c=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return i>c?C===5?713:1114:C===5?104:208}return C===15?0:C}},23676:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(8932),C=e(72736),c=e(54460),y=e(78344),r=e(41420),t=e(72424),s=e(88748),n=e(61512),u=e(82172),l=e(56008),f=e(93252),g=f.LABELOPTIMIZER;U.plot=function(m,S,T,a){var E=S.xaxis,p=S.yaxis;P.makeTraceGroups(a,T,"contour").each(function(k){var R=x.select(this),B=k[0],F=B.trace,_=B.x,O=B.y,z=F.contours,N=n(z,S,B),Y=P.ensureSingle(R,"g","heatmapcoloring"),J=[];z.coloring==="heatmap"&&(J=[k]),r(m,S,J,Y),t(N),s(N);var ae=E.c2p(_[0],!0),se=E.c2p(_[_.length-1],!0),ue=p.c2p(O[0],!0),K=p.c2p(O[O.length-1],!0),j=[[ae,K],[se,K],[se,ue],[ae,ue]],ie=N;z.type==="constraint"&&(ie=u(N,z._operation)),h(R,j,z),w(R,ie,j,z),o(R,N,m,B,z),A(R,S,m,B,j)})};function h(M,m,S){var T=P.ensureSingle(M,"g","contourbg"),a=T.selectAll("path").data(S.coloring==="fill"?[0]:[]);a.enter().append("path"),a.exit().remove(),a.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function w(M,m,S,T){var a=T.coloring==="fill"||T.type==="constraint"&&T._operation!=="=",E="M"+S.join("L")+"Z";a&&l(m,T);var p=P.ensureSingle(M,"g","contourfill"),k=p.selectAll("path").data(a?m:[]);k.enter().append("path"),k.exit().remove(),k.each(function(R){var B=(R.prefixBoundary?E:"")+d(R,S);B?x.select(this).attr("d",B).style("stroke","none"):x.select(this).remove()})}function d(M,m){var S="",T=0,a=M.edgepaths.map(function(ae,se){return se}),E=!0,p,k,R,B,F,_;function O(ae){return Math.abs(ae[1]-m[0][1])<.01}function z(ae){return Math.abs(ae[1]-m[2][1])<.01}function N(ae){return Math.abs(ae[0]-m[0][0])<.01}function Y(ae){return Math.abs(ae[0]-m[2][0])<.01}for(;a.length;){for(_=i.smoothopen(M.edgepaths[T],M.smoothing),S+=E?_:_.replace(/^M/,"L"),a.splice(a.indexOf(T),1),p=M.edgepaths[T][M.edgepaths[T].length-1],B=-1,R=0;R<4;R++){if(!p){P.log("Missing end?",T,M);break}for(O(p)&&!Y(p)?k=m[1]:N(p)?k=m[0]:z(p)?k=m[3]:Y(p)&&(k=m[2]),F=0;F<M.edgepaths.length;F++){var J=M.edgepaths[F][0];Math.abs(p[0]-k[0])<.01?Math.abs(p[0]-J[0])<.01&&(J[1]-p[1])*(k[1]-J[1])>=0&&(k=J,B=F):Math.abs(p[1]-k[1])<.01?Math.abs(p[1]-J[1])<.01&&(J[0]-p[0])*(k[0]-J[0])>=0&&(k=J,B=F):P.log("endpt to newendpt is not vert. or horz.",p,k,J)}if(p=k,B>=0)break;S+="L"+k}if(B===M.edgepaths.length){P.log("unclosed perimeter path");break}T=B,E=a.indexOf(T)===-1,E&&(T=a[0],S+="Z")}for(T=0;T<M.paths.length;T++)S+=i.smoothclosed(M.paths[T],M.smoothing);return S}function o(M,m,S,T,a){var E=S._context.staticPlot,p=P.ensureSingle(M,"g","contourlines"),k=a.showlines!==!1,R=a.showlabels,B=k&&R,F=U.createLines(p,k||R,m,E),_=U.createLineClip(p,B,S,T.trace.uid),O=M.selectAll("g.contourlabels").data(R?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),R){var z=[],N=[];P.clearLocationCache();var Y=U.labelFormatter(S,T),J=i.tester.append("text").attr("data-notex",1).call(i.font,a.labelfont),ae=m[0].xaxis,se=m[0].yaxis,ue=ae._length,K=se._length,j=ae.range,ie=se.range,W=P.aggNums(Math.min,null,T.x),Q=P.aggNums(Math.max,null,T.x),ee=P.aggNums(Math.min,null,T.y),$=P.aggNums(Math.max,null,T.y),X=Math.max(ae.c2p(W,!0),0),oe=Math.min(ae.c2p(Q,!0),ue),te=Math.max(se.c2p($,!0),0),fe=Math.min(se.c2p(ee,!0),K),pe={};j[0]<j[1]?(pe.left=X,pe.right=oe):(pe.left=oe,pe.right=X),ie[0]<ie[1]?(pe.top=te,pe.bottom=fe):(pe.top=fe,pe.bottom=te),pe.middle=(pe.top+pe.bottom)/2,pe.center=(pe.left+pe.right)/2,z.push([[pe.left,pe.top],[pe.right,pe.top],[pe.right,pe.bottom],[pe.left,pe.bottom]]);var Ae=Math.sqrt(ue*ue+K*K),be=f.LABELDISTANCE*Ae/Math.max(1,m.length/f.LABELINCREASE);F.each(function(Pe){var me=U.calcTextOpts(Pe.level,Y,J,S);x.select(this).selectAll("path").each(function(){var Ee=this,xe=P.getVisibleSegment(Ee,pe,me.height/2);if(xe&&!(xe.len<(me.width+me.height)*f.LABELMIN))for(var De=Math.min(Math.ceil(xe.len/be),f.LABELMAX),Ve=0;Ve<De;Ve++){var Ze=U.findBestTextLocation(Ee,xe,me,N,pe);if(!Ze)break;U.addLabelData(Ze,me,N,z)}})}),J.remove(),U.drawLabels(O,N,S,_,B?z:null)}R&&!k&&F.remove()}U.createLines=function(M,m,S,T){var a=S[0].smoothing,E=M.selectAll("g.contourlevel").data(m?S:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),m){var p=E.selectAll("path.openline").data(function(R){return R.pedgepaths||R.edgepaths});p.exit().remove(),p.enter().append("path").classed("openline",!0),p.attr("d",function(R){return i.smoothopen(R,a)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke");var k=E.selectAll("path.closedline").data(function(R){return R.ppaths||R.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(R){return i.smoothclosed(R,a)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke")}return E},U.createLineClip=function(M,m,S,T){var a=S._fullLayout._clips,E=m?"clipline"+T:null,p=a.selectAll("#"+E).data(m?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),i.setClipUrl(M,E,S),p},U.labelFormatter=function(M,m){var S=M._fullLayout,T=m.trace,a=T.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(a.labelformat)E.tickformat=a.labelformat,y(E,S);else{var p=L.extractOpts(T);if(p&&p.colorbar&&p.colorbar._axis)E=p.colorbar._axis;else{if(a.type==="constraint"){var k=a.value;P.isArrayOrTypedArray(k)?E.range=[k[0],k[k.length-1]]:E.range=[k,k]}else E.range=[a.start,a.end],E.nticks=(a.end-a.start)/a.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),y(E,S),c.prepTicks(E),E._tmin=null,E._tmax=null}}return function(R){return c.tickText(E,R).text}},U.calcTextOpts=function(M,m,S,T){var a=m(M);S.text(a).call(C.convertToTspans,T);var E=S.node(),p=i.bBox(E,!0);return{text:a,width:p.width,height:p.height,fontSize:+E.style["font-size"].replace("px",""),level:M,dy:(p.top+p.bottom)/2}},U.findBestTextLocation=function(M,m,S,T,a){var E=S.width,p,k,R,B,F;m.isClosed?(k=m.len/g.INITIALSEARCHPOINTS,p=m.min+k/2,R=m.max):(k=(m.len-E)/(g.INITIALSEARCHPOINTS+1),p=m.min+k+E/2,R=m.max-(k+E)/2);for(var _=1/0,O=0;O<g.ITERATIONS;O++){for(var z=p;z<R;z+=k){var N=P.getTextLocation(M,m.total,z,E),Y=v(N,S,T,a);Y<_&&(_=Y,F=N,B=z)}if(_>g.MAXCOST*2)break;O&&(k/=2),p=B-k/2,R=p+k*1.5}if(_<=g.MAXCOST)return F};function v(M,m,S,T){var a=m.width/2,E=m.height/2,p=M.x,k=M.y,R=M.theta,B=Math.cos(R)*a,F=Math.sin(R)*a,_=(p>T.center?T.right-p:p-T.left)/(B+Math.abs(Math.sin(R)*E)),O=(k>T.middle?T.bottom-k:k-T.top)/(Math.abs(F)+Math.cos(R)*E);if(_<1||O<1)return 1/0;var z=g.EDGECOST*(1/(_-1)+1/(O-1));z+=g.ANGLECOST*R*R;for(var N=p-B,Y=k-F,J=p+B,ae=k+F,se=0;se<S.length;se++){var ue=S[se],K=Math.cos(ue.theta)*ue.width/2,j=Math.sin(ue.theta)*ue.width/2,ie=P.segmentDistance(N,Y,J,ae,ue.x-K,ue.y-j,ue.x+K,ue.y+j)*2/(m.height+ue.height),W=ue.level===m.level,Q=W?g.SAMELEVELDISTANCE:1;if(ie<=Q)return 1/0;var ee=g.NEIGHBORCOST*(W?g.SAMELEVELFACTOR:1);z+=ee/(ie-Q)}return z}U.addLabelData=function(M,m,S,T){var a=m.fontSize,E=m.width+a/3,p=Math.max(0,m.height-a/3),k=M.x,R=M.y,B=M.theta,F=Math.sin(B),_=Math.cos(B),O=function(N,Y){return[k+N*_-Y*F,R+N*F+Y*_]},z=[O(-E/2,-p/2),O(-E/2,p/2),O(E/2,p/2),O(E/2,-p/2)];S.push({text:m.text,x:k,y:R,dy:m.dy,theta:B,level:m.level,width:E,height:p}),T.push(z)},U.drawLabels=function(M,m,S,T,a){var E=M.selectAll("text").data(m,function(B){return B.text+","+B.x+","+B.y+","+B.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(B){var F=B.x+Math.sin(B.theta)*B.dy,_=B.y-Math.cos(B.theta)*B.dy;x.select(this).text(B.text).attr({x:F,y:_,transform:"rotate("+180*B.theta/Math.PI+" "+F+" "+_+")"}).call(C.convertToTspans,S)}),a){for(var p="",k=0;k<a.length;k++)p+="M"+a[k].join("L")+"Z";var R=P.ensureSingle(T,"path","");R.attr("d",p)}};function A(M,m,S,T,a){var E=T.trace,p=S._fullLayout._clips,k="clip"+E.uid,R=p.selectAll("#"+k).data(E.connectgaps?[]:[0]);if(R.enter().append("clipPath").classed("contourclip",!0).attr("id",k),R.exit().remove(),E.connectgaps===!1){var B={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:T.x,y:T.y,z:b(T),smoothing:0};t([B]),s([B]),l([B],{type:"levels"});var F=P.ensureSingle(R,"path","");F.attr("d",(B.prefixBoundary?"M"+a.join("L")+"Z":"")+d(B,a))}else k=null;i.setClipUrl(M,k,S)}function b(M){var m=M.trace._emptypoints,S=[],T=M.z.length,a=M.z[0].length,E,p=[],k;for(E=0;E<a;E++)p.push(1);for(E=0;E<T;E++)S.push(p.slice());for(E=0;E<m.length;E++)k=m[E],S[k[0]][k[1]]=0;return M.zmask=S,S}},54444:function(V,U,e){"use strict";var x=e(54460),P=e(3400);V.exports=function(C,c){var y=C.contours;if(C.autocontour){var r=C.zmin,t=C.zmax;(C.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,c)),(C.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,c));var s=i(r,t,C.ncontours);y.size=s.dtick,y.start=x.tickFirst(s),s.range.reverse(),y.end=x.tickFirst(s),y.start===r&&(y.start+=y.size),y.end===t&&(y.end-=y.size),y.start>y.end&&(y.start=y.end=(y.start+y.end)/2),C._input.contours||(C._input.contours={}),P.extendFlat(C._input.contours,{start:y.start,end:y.end,size:y.size}),C._input.autocontour=!0}else if(y.type!=="constraint"){var n=y.start,u=y.end,l=C._input.contours;if(n>u&&(y.start=l.start=u,u=y.end=l.end=n,n=y.start),!(y.size>0)){var f;n===u?f=1:f=i(n,u,C.ncontours).dtick,l.size=y.size=f}}};function i(L,C,c){var y={type:"linear",range:[L,C]};return x.autoTicks(y,(C-L)/(c||15)),y}},52440:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(41648),L=e(41076);V.exports=function(c){var y=x.select(c).selectAll("g.contour");y.style("opacity",function(r){return r[0].trace.opacity}),y.each(function(r){var t=x.select(this),s=r[0].trace,n=s.contours,u=s.line,l=n.size||1,f=n.start,g=n.type==="constraint",h=!g&&n.coloring==="lines",w=!g&&n.coloring==="fill",d=h||w?L(s):null;t.selectAll("g.contourlevel").each(function(A){x.select(this).selectAll("path").call(P.lineGroupStyle,u.width,h?d(A.level):u.color,u.dash)});var o=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(A){P.font(x.select(this),{family:o.family,size:o.size,color:o.color||(h?d(A.level):u.color)})}),g)t.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(w){var v;t.selectAll("g.contourfill path").style("fill",function(A){return v===void 0&&(v=A.level),d(A.level+.5*l)}),v===void 0&&(v=f),t.selectAll("g.contourbg path").style("fill",d(v-.5*l))}}),i(c)}},97680:function(V,U,e){"use strict";var x=e(27260),P=e(17428);V.exports=function(L,C,c,y,r){var t=c("contours.coloring"),s,n="";t==="fill"&&(s=c("contours.showlines")),s!==!1&&(t!=="lines"&&(n=c("line.color","#000")),c("line.width",.5),c("line.dash")),t!=="none"&&(L.showlegend!==!0&&(C.showlegend=!1),C._dfltShowLegend=!1,x(L,C,y,c,{prefix:"",cLetter:"z"})),c("line.smoothing"),P(c,y,n,r)}},37960:function(V,U,e){"use strict";var x=e(83328),P=e(67104),i=e(49084),L=e(92880).extendFlat,C=P.contours;V.exports=L({carpet:{valType:"string",editType:"calc"},z:x.z,a:x.x,a0:x.x0,da:x.dx,b:x.y,b0:x.y0,db:x.dy,text:x.text,hovertext:x.hovertext,transpose:x.transpose,atype:x.xtype,btype:x.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:C.type,start:C.start,end:C.end,size:C.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:C.showlines,showlabels:C.showlabels,labelfont:C.labelfont,labelformat:C.labelformat,operation:C.operation,value:C.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},zorder:P.zorder,transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},30572:function(V,U,e){"use strict";var x=e(47128),P=e(3400),i=e(2872),L=e(26136),C=e(70448),c=e(11240),y=e(35744),r=e(3252),t=e(50948),s=e(54444);V.exports=function(l,f){var g=f._carpetTrace=t(l,f);if(!(!g||!g.visible||g.visible==="legendonly")){if(!f.a||!f.b){var h=l.data[g.index],w=l.data[f.index];w.a||(w.a=h.a),w.b||(w.b=h.b),r(w,f,f._defaultColor,l._fullLayout)}var d=n(l,f);return s(f,f._z),d}};function n(u,l){var f=l._carpetTrace,g=f.aaxis,h=f.baxis,w,d,o,v,A,b,M;g._minDtick=0,h._minDtick=0,P.isArray1D(l.z)&&i(l,g,h,"a","b",["z"]),w=l._a=l._a||l.a,v=l._b=l._b||l.b,w=w?g.makeCalcdata(l,"_a"):[],v=v?h.makeCalcdata(l,"_b"):[],d=l.a0||0,o=l.da||1,A=l.b0||0,b=l.db||1,M=l._z=L(l._z||l.z,l.transpose),l._emptypoints=c(M),C(M,l._emptypoints);var m=P.maxRowLength(M),S=l.xtype==="scaled"?"":w,T=y(l,S,d,o,m,g),a=l.ytype==="scaled"?"":v,E=y(l,a,A,b,M.length,h),p={a:T,b:E,z:M};return l.contours.type==="levels"&&l.contours.coloring!=="none"&&x(u,l,{vals:M,containerStr:"",cLetter:"z"}),[p]}},3252:function(V,U,e){"use strict";var x=e(3400),P=e(51264),i=e(37960),L=e(95536),C=e(84952),c=e(97680);V.exports=function(r,t,s,n){function u(h,w){return x.coerce(r,t,i,h,w)}function l(h){return x.coerce2(r,t,i,h)}if(u("carpet"),r.a&&r.b){var f=P(r,t,u,n,"a","b");if(!f){t.visible=!1;return}u("text");var g=u("contours.type")==="constraint";g?L(r,t,u,n,s,{hasHover:!1}):(C(r,t,u,l),c(r,t,u,n,{hasHover:!1}))}else t._defaultColor=s,t._length=null;u("zorder")}},40448:function(V,U,e){"use strict";V.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(V,U,e){"use strict";var x=e(33428),P=e(87072),i=e(53416),L=e(43616),C=e(3400),c=e(72424),y=e(88748),r=e(23676),t=e(93252),s=e(82172),n=e(61512),u=e(56008),l=e(50948),f=e(77712);V.exports=function(S,T,a,E){var p=T.xaxis,k=T.yaxis;C.makeTraceGroups(E,a,"contour").each(function(R){var B=x.select(this),F=R[0],_=F.trace,O=_._carpetTrace=l(S,_),z=S.calcdata[O.index][0];if(!O.visible||O.visible==="legendonly")return;var N=F.a,Y=F.b,J=_.contours,ae=n(J,T,F),se=J.type==="constraint",ue=J._operation,K=se?ue==="="?"lines":"fill":J.coloring;function j(Ae){var be=O.ab2xy(Ae[0],Ae[1],!0);return[p.c2p(be[0]),k.c2p(be[1])]}var ie=[[N[0],Y[Y.length-1]],[N[N.length-1],Y[Y.length-1]],[N[N.length-1],Y[0]],[N[0],Y[0]]];c(ae);var W=(N[N.length-1]-N[0])*1e-8,Q=(Y[Y.length-1]-Y[0])*1e-8;y(ae,W,Q);var ee=ae;J.type==="constraint"&&(ee=s(ae,ue)),g(ae,j);var $,X,oe,te,fe=[];for(te=z.clipsegments.length-1;te>=0;te--)$=z.clipsegments[te],X=P([],$.x,p.c2p),oe=P([],$.y,k.c2p),X.reverse(),oe.reverse(),fe.push(i(X,oe,$.bicubic));var pe="M"+fe.join("L")+"Z";A(B,z.clipsegments,p,k,se,K),b(_,B,p,k,ee,ie,j,O,z,K,pe),h(B,ae,S,F,J,T,O),L.setClipUrl(B,O._clipPathId,S)})};function g(m,S){var T,a,E,p,k,R,B,F,_;for(T=0;T<m.length;T++){for(p=m[T],k=p.pedgepaths=[],R=p.ppaths=[],a=0;a<p.edgepaths.length;a++){for(_=p.edgepaths[a],B=[],E=0;E<_.length;E++)B[E]=S(_[E]);k.push(B)}for(a=0;a<p.paths.length;a++){for(_=p.paths[a],F=[],E=0;E<_.length;E++)F[E]=S(_[E]);R.push(F)}}}function h(m,S,T,a,E,p,k){var R=T._context.staticPlot,B=C.ensureSingle(m,"g","contourlines"),F=E.showlines!==!1,_=E.showlabels,O=F&&_,z=r.createLines(B,F||_,S,R),N=r.createLineClip(B,O,T,a.trace.uid),Y=m.selectAll("g.contourlabels").data(_?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),_){var J=p.xaxis,ae=p.yaxis,se=J._length,ue=ae._length,K=[[[0,0],[se,0],[se,ue],[0,ue]]],j=[];C.clearLocationCache();var ie=r.labelFormatter(T,a),W=L.tester.append("text").attr("data-notex",1).call(L.font,E.labelfont),Q={left:0,right:se,center:se/2,top:0,bottom:ue,middle:ue/2},ee=Math.sqrt(se*se+ue*ue),$=t.LABELDISTANCE*ee/Math.max(1,S.length/t.LABELINCREASE);z.each(function(X){var oe=r.calcTextOpts(X.level,ie,W,T);x.select(this).selectAll("path").each(function(te){var fe=this,pe=C.getVisibleSegment(fe,Q,oe.height/2);if(pe&&(w(fe,te,X,pe,k,oe.height),!(pe.len<(oe.width+oe.height)*t.LABELMIN)))for(var Ae=Math.min(Math.ceil(pe.len/$),t.LABELMAX),be=0;be<Ae;be++){var Pe=r.findBestTextLocation(fe,pe,oe,j,Q);if(!Pe)break;r.addLabelData(Pe,oe,j,K)}})}),W.remove(),r.drawLabels(Y,j,T,N,O?K:null)}_&&!F&&z.remove()}function w(m,S,T,a,E,p){for(var k,R=0;R<T.pedgepaths.length;R++)S===T.pedgepaths[R]&&(k=T.edgepaths[R]);if(!k)return;var B=E.a[0],F=E.a[E.a.length-1],_=E.b[0],O=E.b[E.b.length-1];function z(se,ue){var K=0,j,ie=.1;return(Math.abs(se[0]-B)<ie||Math.abs(se[0]-F)<ie)&&(j=o(E.dxydb_rough(se[0],se[1],ie)),K=Math.max(K,p*v(ue,j)/2)),(Math.abs(se[1]-_)<ie||Math.abs(se[1]-O)<ie)&&(j=o(E.dxyda_rough(se[0],se[1],ie)),K=Math.max(K,p*v(ue,j)/2)),K}var N=d(m,0,1),Y=d(m,a.total,a.total-1),J=z(k[0],N),ae=a.total-z(k[k.length-1],Y);a.min<J&&(a.min=J),a.max>ae&&(a.max=ae),a.len=a.max-a.min}function d(m,S,T){var a=m.getPointAtLength(S),E=m.getPointAtLength(T),p=E.x-a.x,k=E.y-a.y,R=Math.sqrt(p*p+k*k);return[p/R,k/R]}function o(m){var S=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/S,m[1]/S]}function v(m,S){var T=Math.abs(m[0]*S[0]+m[1]*S[1]),a=Math.sqrt(1-T*T);return a/T}function A(m,S,T,a,E,p){var k,R,B,F,_=C.ensureSingle(m,"g","contourbg"),O=_.selectAll("path").data(p==="fill"&&!E?[0]:[]);O.enter().append("path"),O.exit().remove();var z=[];for(F=0;F<S.length;F++)k=S[F],R=P([],k.x,T.c2p),B=P([],k.y,a.c2p),z.push(i(R,B,k.bicubic));O.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function b(m,S,T,a,E,p,k,R,B,F,_){var O=F==="fill";O&&u(E,m.contours);var z=C.ensureSingle(S,"g","contourfill"),N=z.selectAll("path").data(O?E:[]);N.enter().append("path"),N.exit().remove(),N.each(function(Y){var J=(Y.prefixBoundary?_:"")+M(m,Y,p,k,R,B,T,a);J?x.select(this).attr("d",J).style("stroke","none"):x.select(this).remove()})}function M(m,S,T,a,E,p,k,R){var B,F="",_=S.edgepaths.map(function(oe,te){return te}),O=!0,z,N,Y,J,ae,se,ue=Math.abs(T[0][0]-T[2][0])*1e-4,K=Math.abs(T[0][1]-T[2][1])*1e-4;function j(oe){return Math.abs(oe[1]-T[0][1])<K}function ie(oe){return Math.abs(oe[1]-T[2][1])<K}function W(oe){return Math.abs(oe[0]-T[0][0])<ue}function Q(oe){return Math.abs(oe[0]-T[2][0])<ue}function ee(oe,te){var fe,pe,Ae,be,Pe="";for(j(oe)&&!Q(oe)||ie(oe)&&!W(oe)?(be=E.aaxis,Ae=f(E,p,[oe[0],te[0]],.5*(oe[1]+te[1]))):(be=E.baxis,Ae=f(E,p,.5*(oe[0]+te[0]),[oe[1],te[1]])),fe=1;fe<Ae.length;fe++)for(Pe+=be.smoothing?"C":"L",pe=0;pe<Ae[fe].length;pe++){var me=Ae[fe][pe];Pe+=[k.c2p(me[0]),R.c2p(me[1])]+" "}return Pe}for(B=0,z=null;_.length;){var $=S.edgepaths[B][0];for(z&&(F+=ee(z,$)),se=L.smoothopen(S.edgepaths[B].map(a),S.smoothing),F+=O?se:se.replace(/^M/,"L"),_.splice(_.indexOf(B),1),z=S.edgepaths[B][S.edgepaths[B].length-1],J=-1,Y=0;Y<4;Y++){if(!z){C.log("Missing end?",B,S);break}for(j(z)&&!Q(z)?N=T[1]:W(z)?N=T[0]:ie(z)?N=T[3]:Q(z)&&(N=T[2]),ae=0;ae<S.edgepaths.length;ae++){var X=S.edgepaths[ae][0];Math.abs(z[0]-N[0])<ue?Math.abs(z[0]-X[0])<ue&&(X[1]-z[1])*(N[1]-X[1])>=0&&(N=X,J=ae):Math.abs(z[1]-N[1])<K?Math.abs(z[1]-X[1])<K&&(X[0]-z[0])*(N[0]-X[0])>=0&&(N=X,J=ae):C.log("endpt to newendpt is not vert. or horz.",z,N,X)}if(J>=0)break;F+=ee(z,N),z=N}if(J===S.edgepaths.length){C.log("unclosed perimeter path");break}B=J,O=_.indexOf(B)===-1,O&&(B=_[0],F+=ee(z,N)+"Z",z=null)}for(B=0;B<S.paths.length;B++)F+=L.smoothclosed(S.paths[B].map(a),S.smoothing);return F}},33928:function(V,U,e){"use strict";var x=e(49084),P=e(21776).Ks,i=e(45464),L=e(31512),C=e(92880).extendFlat;V.exports=C({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:C({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:C({},i.showlegend,{dflt:!1})},x("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(V,U,e){"use strict";var x=e(38248),P=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,L=e(47128),C=e(3400)._;V.exports=function(y,r){for(var t=r._length,s=new Array(t),n=r.z,u=P(n)&&n.length,l=0;l<t;l++){var f=s[l]={},g=r.lon[l],h=r.lat[l];if(f.lonlat=x(g)&&x(h)?[+g,+h]:[i,i],u){var w=n[l];f.z=x(w)?w:i}}return L(y,r,{vals:u?n:[0,1],containerStr:"",cLetter:"z"}),t&&(s[0].t={labels:{lat:C(y,"lat:")+" ",lon:C(y,"lon:")+" "}}),s}},4629:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(76308),L=e(8932),C=e(39032).BADNUM,c=e(44808).makeBlank;V.exports=function(r){var t=r[0].trace,s=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},u=t._opts={heatmap:n,geojson:c()};if(!s)return u;var l=[],f,g=t.z,h=t.radius,w=P.isArrayOrTypedArray(g)&&g.length,d=P.isArrayOrTypedArray(h);for(f=0;f<r.length;f++){var o=r[f],v=o.lonlat;if(v[0]!==C){var A={};if(w){var b=o.z;A.z=b!==C?b:0}d&&(A.r=x(h[f])&&h[f]>0?+h[f]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:v},properties:A})}}var M=L.extractOpts(t),m=M.reversescale?L.flipScale(M.colorscale):M.colorscale,S=m[0][1],T=i.opacity(S)<1?S:i.addOpacity(S,0),a=["interpolate",["linear"],["heatmap-density"],0,T];for(f=1;f<m.length;f++)a.push(m[f][0],m[f][1]);var E=["interpolate",["linear"],["get","z"],M.min,0,M.max,1];return P.extendFlat(u.heatmap.paint,{"heatmap-weight":w?E:1/(M.max-M.min),"heatmap-color":a,"heatmap-radius":d?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),u.geojson={type:"FeatureCollection",features:l},u.heatmap.layout.visibility="visible",u}},97664:function(V,U,e){"use strict";var x=e(3400),P=e(27260),i=e(33928);V.exports=function(C,c,y,r){function t(l,f){return x.coerce(C,c,i,l,f)}var s=t("lon")||[],n=t("lat")||[],u=Math.min(s.length,n.length);if(!u){c.visible=!1;return}c._length=u,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(C,c,r,t,{prefix:"",cLetter:"z"})}},96176:function(V){"use strict";V.exports=function(e,x){return e.lon=x.lon,e.lat=x.lat,e.z=x.z,e}},25336:function(V,U,e){"use strict";var x=e(54460),P=e(63312).hoverPoints,i=e(63312).getExtraText;V.exports=function(C,c,y){var r=P(C,c,y);if(r){var t=r[0],s=t.cd,n=s[0].trace,u=s[t.index];if(delete t.color,"z"in u){var l=t.subplot.mockAxis;t.z=u.z,t.zLabel=x.tickText(l,l.c2l(u.z),"hover").text}return t.extraText=i(n,u,s[0].t.labels),[t]}}},15088:function(V,U,e){"use strict";V.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(x,P){for(var i=P.getMapLayers(),L=0;L<i.length;L++){var C=i[L],c=C.id;if(C.type==="symbol"&&typeof c=="string"&&c.indexOf("plotly-")===-1)return c}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(V,U,e){"use strict";var x=e(4629),P=e(47552).traceLayerPrefix;function i(C,c){this.type="densitymapbox",this.subplot=C,this.uid=c,this.sourceId="source-"+c,this.layerList=[["heatmap",P+c+"-heatmap"]],this.below=null}var L=i.prototype;L.update=function(C){var c=this.subplot,y=this.layerList,r=x(C),t=c.belowLookup["trace-"+this.uid];c.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var s=0;s<y.length;s++){var n=y[s],u=n[0],l=n[1],f=r[u];c.setOptions(l,"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&c.setOptions(l,"setPaintProperty",f.paint)}},L._addLayers=function(C,c){for(var y=this.subplot,r=this.layerList,t=this.sourceId,s=0;s<r.length;s++){var n=r[s],u=n[0],l=C[u];y.addLayer({type:u,id:n[1],source:t,layout:l.layout,paint:l.paint},c)}},L._removeLayers=function(){for(var C=this.subplot.map,c=this.layerList,y=c.length-1;y>=0;y--)C.removeLayer(c[y][1])},L.dispose=function(){var C=this.subplot.map;this._removeLayers(),C.removeSource(this.sourceId)},V.exports=function(c,y){var r=y[0].trace,t=new i(c,r.uid),s=t.sourceId,n=x(y),u=t.below=c.belowLookup["trace-"+r.uid];return c.map.addSource(s,{type:"geojson",data:n.geojson}),t._addLayers(n,u),t}},74248:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){for(var C=0;C<i.length;C++)i[C].i=C;x.mergeArray(L.text,i,"tx"),x.mergeArray(L.hovertext,i,"htx");var c=L.marker;if(c){x.mergeArray(c.opacity,i,"mo"),x.mergeArray(c.color,i,"mc");var y=c.line;y&&(x.mergeArray(y.color,i,"mlc"),x.mergeArrayCastPositive(y.width,i,"mlw"))}}},20088:function(V,U,e){"use strict";var x=e(20832),P=e(52904).line,i=e(45464),L=e(29736).axisHoverFormat,C=e(21776).Ks,c=e(21776).Gw,y=e(74732),r=e(92880).extendFlat,t=e(76308);V.exports={x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:x.hovertext,hovertemplate:C({},{keys:y.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:c({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),text:x.text,textposition:x.textposition,insidetextanchor:r({},x.insidetextanchor,{dflt:"middle"}),textangle:r({},x.textangle,{dflt:0}),textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:x.outsidetextfont,constraintext:x.constraintext,cliponaxis:x.cliponaxis,orientation:r({},x.orientation,{}),offset:r({},x.offset,{arrayOk:!1}),width:r({},x.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,zorder:x.zorder};function s(){var n=r({},x.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(V,U,e){"use strict";var x=e(54460),P=e(1220),i=e(74248),L=e(4500),C=e(39032).BADNUM;V.exports=function(r,t){var s=x.getFromId(r,t.xaxis||"x"),n=x.getFromId(r,t.yaxis||"y"),u,l,f,g,h,w,d,o;t.orientation==="h"?(u=s.makeCalcdata(t,"x"),f=n.makeCalcdata(t,"y"),g=P(t,n,"y",f),h=!!t.yperiodalignment,w="y"):(u=n.makeCalcdata(t,"y"),f=s.makeCalcdata(t,"x"),g=P(t,s,"x",f),h=!!t.xperiodalignment,w="x"),l=g.vals;var v=Math.min(l.length,u.length),A=new Array(v);for(t._base=[],d=0;d<v;d++){u[d]<0&&(u[d]=C);var b=!1;u[d]!==C&&d+1<v&&u[d+1]!==C&&(b=!0),o=A[d]={p:l[d],s:u[d],cNext:b},t._base[d]=-.5*o.s,h&&(A[d].orig_p=f[d],A[d][w+"End"]=g.ends[d],A[d][w+"Start"]=g.starts[d]),t.ids&&(o.id=String(t.ids[d])),d===0&&(A[0].vTotal=0),A[0].vTotal+=c(o.s),o.begR=c(o.s)/c(A[0].s)}var M;for(d=0;d<v;d++)o=A[d],o.s!==C&&(o.sumR=o.s/A[0].vTotal,o.difR=M!==void 0?o.s/M:1,M=o.s);return i(A,t),L(A,t),A};function c(y){return y===C?0:y}},74732:function(V){"use strict";V.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(V,U,e){"use strict";var x=e(96376).setGroupPositions;V.exports=function(i,L){var C=i._fullLayout,c=i._fullData,y=i.calcdata,r=L.xaxis,t=L.yaxis,s=[],n=[],u=[],l,f;for(f=0;f<c.length;f++){var g=c[f],h=g.orientation==="h";g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="funnel"&&(l=y[f],h?u.push(l):n.push(l),s.push(l))}var w={mode:C.funnelmode,norm:C.funnelnorm,gap:C.funnelgap,groupgap:C.funnelgroupgap};for(x(i,r,t,n,w),x(i,t,r,u,w),f=0;f<s.length;f++){l=s[f];for(var d=0;d<l.length;d++)d+1<l.length&&(l[d].nextP0=l[d+1].p0,l[d].nextS0=l[d+1].s0,l[d].nextP1=l[d+1].p1,l[d].nextS1=l[d+1].s1)}}},45432:function(V,U,e){"use strict";var x=e(3400),P=e(20011),i=e(31508).handleText,L=e(43980),C=e(31147),c=e(20088),y=e(76308);function r(n,u,l,f){function g(b,M){return x.coerce(n,u,c,b,M)}var h=L(n,u,f,g);if(!h){u.visible=!1;return}C(n,u,f,g),g("xhoverformat"),g("yhoverformat"),g("orientation",u.y&&!u.x?"v":"h"),g("offset"),g("width");var w=g("text");g("hovertext"),g("hovertemplate");var d=g("textposition");i(n,u,f,g,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u.textposition!=="none"&&!u.texttemplate&&g("textinfo",x.isArrayOrTypedArray(w)?"text+value":"value");var o=g("marker.color",l);g("marker.line.color",y.defaultLine),g("marker.line.width");var v=g("connector.visible");if(v){g("connector.fillcolor",t(o));var A=g("connector.line.width");A&&(g("connector.line.color"),g("connector.line.dash"))}g("zorder")}function t(n){var u=x.isArrayOrTypedArray(n)?"#000":n;return y.addOpacity(u,.5*y.opacity(u))}function s(n,u){var l,f;function g(w){return x.coerce(f._input,f,c,w)}if(u.funnelmode==="group")for(var h=0;h<n.length;h++)f=n[h],l=f._input,P(l,f,u,g)}V.exports={supplyDefaults:r,crossTraceDefaults:s}},34580:function(V){"use strict";V.exports=function(e,x){return e.x="xVal"in x?x.xVal:x.x,e.y="yVal"in x?x.yVal:x.y,"percentInitial"in x&&(e.percentInitial=x.percentInitial),"percentPrevious"in x&&(e.percentPrevious=x.percentPrevious),"percentTotal"in x&&(e.percentTotal=x.percentTotal),x.xa&&(e.xaxis=x.xa),x.ya&&(e.yaxis=x.ya),e}},31488:function(V,U,e){"use strict";var x=e(76308).opacity,P=e(63400).hoverOnBars,i=e(3400).formatPercent;V.exports=function(c,y,r,t,s){var n=P(c,y,r,t,s);if(n){var u=n.cd,l=u[0].trace,f=l.orientation==="h",g=n.index,h=u[g],w=f?"x":"y";n[w+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=i(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=i(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=i(h.sumR,1);var d=h.hi||l.hoverinfo,o=[];if(d&&d!=="none"&&d!=="skip"){var v=d==="all",A=d.split("+"),b=function(M){return v||A.indexOf(M)!==-1};b("percent initial")&&o.push(n.percentInitialLabel+" of initial"),b("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),b("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=L(l,h),[n]}};function L(C,c){var y=C.marker,r=c.mc||y.color,t=c.mlc||y.line.color,s=c.mlw||y.line.width;if(x(r))return r;if(x(t)&&s)return t}},94704:function(V,U,e){"use strict";V.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(V){"use strict";V.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(V,U,e){"use strict";var x=e(3400),P=e(7076);V.exports=function(i,L,C){var c=!1;function y(s,n){return x.coerce(i,L,P,s,n)}for(var r=0;r<C.length;r++){var t=C[r];if(t.visible&&t.type==="funnel"){c=!0;break}}c&&(y("funnelmode"),y("funnelgap",.2),y("funnelgroupgap"))}},42200:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(39032).BADNUM,C=e(98184),c=e(82744).clearMinTextSize;V.exports=function(n,u,l,f){var g=n._fullLayout;c("funnel",g),y(n,u,l,f),r(n,u,l,f),C.plot(n,u,l,f,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})};function y(s,n,u,l){var f=n.xaxis,g=n.yaxis;P.makeTraceGroups(l,u,"trace bars").each(function(h){var w=x.select(this),d=h[0].trace,o=P.ensureSingle(w,"g","regions");if(!d.connector||!d.connector.visible){o.remove();return}var v=d.orientation==="h",A=o.selectAll("g.region").data(P.identity);A.enter().append("g").classed("region",!0),A.exit().remove();var b=A.size();A.each(function(M,m){if(!(m!==b-1&&!M.cNext)){var S=t(M,f,g,v),T=S[0],a=S[1],E="";T[0]!==L&&a[0]!==L&&T[1]!==L&&a[1]!==L&&T[2]!==L&&a[2]!==L&&T[3]!==L&&a[3]!==L&&(v?E+="M"+T[0]+","+a[1]+"L"+T[2]+","+a[2]+"H"+T[3]+"L"+T[1]+","+a[1]+"Z":E+="M"+T[1]+","+a[1]+"L"+T[2]+","+a[3]+"V"+a[2]+"L"+T[1]+","+a[0]+"Z"),E===""&&(E="M0,0Z"),P.ensureSingle(x.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,s)}})})}function r(s,n,u,l){var f=n.xaxis,g=n.yaxis;P.makeTraceGroups(l,u,"trace bars").each(function(h){var w=x.select(this),d=h[0].trace,o=P.ensureSingle(w,"g","lines");if(!d.connector||!d.connector.visible||!d.connector.line.width){o.remove();return}var v=d.orientation==="h",A=o.selectAll("g.line").data(P.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var b=A.size();A.each(function(M,m){if(!(m!==b-1&&!M.cNext)){var S=t(M,f,g,v),T=S[0],a=S[1],E="";T[3]!==void 0&&a[3]!==void 0&&(v?(E+="M"+T[0]+","+a[1]+"L"+T[2]+","+a[2],E+="M"+T[1]+","+a[1]+"L"+T[3]+","+a[2]):(E+="M"+T[1]+","+a[1]+"L"+T[2]+","+a[3],E+="M"+T[1]+","+a[0]+"L"+T[2]+","+a[2])),E===""&&(E="M0,0Z"),P.ensureSingle(x.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,s)}})})}function t(s,n,u,l){var f=[],g=[],h=l?n:u,w=l?u:n;return f[0]=h.c2p(s.s0,!0),g[0]=w.c2p(s.p0,!0),f[1]=h.c2p(s.s1,!0),g[1]=w.c2p(s.p1,!0),f[2]=h.c2p(s.nextS0,!0),g[2]=w.c2p(s.nextP0,!0),f[3]=h.c2p(s.nextS1,!0),g[3]=w.c2p(s.nextP1,!0),l?[f,g]:[g,f]}},44544:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(76308),L=e(13448).DESELECTDIM,C=e(60100),c=e(82744).resizeText,y=C.styleTextPoints;function r(t,s,n){var u=n||x.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");c(t,u,"funnel"),u.style("opacity",function(l){return l[0].trace.opacity}),u.each(function(l){var f=x.select(this),g=l[0].trace;f.selectAll(".point > path").each(function(h){if(!h.isBlank){var w=g.marker;x.select(this).call(i.fill,h.mc||w.color).call(i.stroke,h.mlc||w.line.color).call(P.dashLine,w.line.dash,h.mlw||w.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),y(f,g,t),f.selectAll(".regions").each(function(){x.select(this).selectAll("path").style("stroke-width",0).call(i.fill,g.connector.fillcolor)}),f.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(x.select(this).selectAll("path"),h.width,h.color,h.dash)})})}V.exports={style:r}},22332:function(V,U,e){"use strict";var x=e(74996),P=e(45464),i=e(86968).u,L=e(21776).Ks,C=e(21776).Gw,c=e(92880).extendFlat;V.exports={labels:x.labels,label0:x.label0,dlabel:x.dlabel,values:x.values,marker:{colors:x.marker.colors,line:{color:c({},x.marker.line.color,{dflt:null}),width:c({},x.marker.line.width,{dflt:1}),editType:"calc"},pattern:x.marker.pattern,editType:"calc"},text:x.text,hovertext:x.hovertext,scalegroup:c({},x.scalegroup,{}),textinfo:c({},x.textinfo,{flags:["label","text","value","percent"]}),texttemplate:C({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:c({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:c({},x.textposition,{values:["inside","none"],dflt:"inside"}),textfont:x.textfont,insidetextfont:x.insidetextfont,title:{text:x.title.text,font:x.title.font,position:c({},x.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(V,U,e){"use strict";var x=e(7316);U.name="funnelarea",U.plot=function(P,i,L,C){x.plotBasePlot(U.name,P,i,L,C)},U.clean=function(P,i,L,C){x.cleanBasePlot(U.name,P,i,L,C)}},54e3:function(V,U,e){"use strict";var x=e(45768);function P(L,C){return x.calc(L,C)}function i(L){x.crossTraceCalc(L,{type:"funnelarea"})}V.exports={calc:P,crossTraceCalc:i}},92688:function(V,U,e){"use strict";var x=e(3400),P=e(22332),i=e(86968).Q,L=e(31508).handleText,C=e(74174).handleLabelsAndValues,c=e(74174).handleMarkerDefaults;V.exports=function(r,t,s,n){function u(b,M){return x.coerce(r,t,P,b,M)}var l=u("labels"),f=u("values"),g=C(l,f),h=g.len;if(t._hasLabels=g.hasLabels,t._hasValues=g.hasValues,!t._hasLabels&&t._hasValues&&(u("label0"),u("dlabel")),!h){t.visible=!1;return}t._length=h,c(r,t,n,u),u("scalegroup");var w=u("text"),d=u("texttemplate"),o;if(d||(o=u("textinfo",Array.isArray(w)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),d||o&&o!=="none"){var v=u("textposition");L(r,t,n,u,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&u("textposition","none");i(t,n,u);var A=u("title.text");A&&(u("title.position"),x.coerceFont(u,"title.font",n.font)),u("aspectratio"),u("baseratio")}},62396:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(V,U,e){"use strict";var x=e(85204).hiddenlabels;V.exports={hiddenlabels:x,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(V,U,e){"use strict";var x=e(3400),P=e(61280);V.exports=function(L,C){function c(y,r){return x.coerce(L,C,P,y,r)}c("hiddenlabels"),c("funnelareacolorway",C.colorway),c("extendfunnelareacolors")}},39472:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(3400),L=i.strScale,C=i.strTranslate,c=e(72736),y=e(98184),r=y.toMoveInsideBar,t=e(82744),s=t.recordMinTextSize,n=t.clearMinTextSize,u=e(69656),l=e(37820),f=l.attachFxHandlers,g=l.determineInsideTextFont,h=l.layoutAreas,w=l.prerenderTitles,d=l.positionTitleOutside,o=l.formatSliceLabel;V.exports=function(m,S){var T=m._context.staticPlot,a=m._fullLayout;n("funnelarea",a),w(S,m),h(S,a._size),i.makeTraceGroups(a._funnelarealayer,S,"trace").each(function(E){var p=x.select(this),k=E[0],R=k.trace;b(E),p.each(function(){var B=x.select(this).selectAll("g.slice").data(E);B.enter().append("g").classed("slice",!0),B.exit().remove(),B.each(function(_,O){if(_.hidden){x.select(this).selectAll("path,g").remove();return}_.pointNumber=_.i,_.curveNumber=R.index;var z=k.cx,N=k.cy,Y=x.select(this),J=Y.selectAll("path.surface").data([_]);J.enter().append("path").classed("surface",!0).style({"pointer-events":T?"none":"all"}),Y.call(f,m,E);var ae="M"+(z+_.TR[0])+","+(N+_.TR[1])+v(_.TR,_.BR)+v(_.BR,_.BL)+v(_.BL,_.TL)+"Z";J.attr("d",ae),o(m,_,k);var se=u.castOption(R.textposition,_.pts),ue=Y.selectAll("g.slicetext").data(_.text&&se!=="none"?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var K=i.ensureSingle(x.select(this),"text","",function(oe){oe.attr("data-notex",1)}),j=i.ensureUniformFontSize(m,g(R,_,a.font));K.text(_.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,j).call(c.convertToTspans,m);var ie=P.bBox(K.node()),W,Q,ee,$=Math.min(_.BL[1],_.BR[1])+N,X=Math.max(_.TL[1],_.TR[1])+N;Q=Math.max(_.TL[0],_.BL[0])+z,ee=Math.min(_.TR[0],_.BR[0])+z,W=r(Q,ee,$,X,ie,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),W.fontSize=j.size,s(R.type,W,a),E[O].transform=W,i.setTransormAndDisplay(K,W)})});var F=x.select(this).selectAll("g.titletext").data(R.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var _=i.ensureSingle(x.select(this),"text","",function(N){N.attr("data-notex",1)}),O=R.title.text;R._meta&&(O=i.templateString(O,R._meta)),_.text(O).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,R.title.font).call(c.convertToTspans,m);var z=d(k,a._size);_.attr("transform",C(z.x,z.y)+L(Math.min(1,z.scale))+C(z.tx,z.ty))})})})};function v(M,m){var S=m[0]-M[0],T=m[1]-M[1];return"l"+S+","+T}function A(M,m){return[.5*(M[0]+m[0]),.5*(M[1]+m[1])]}function b(M){if(!M.length)return;var m=M[0],S=m.trace,T=S.aspectratio,a=S.baseratio;a>.999&&(a=.999);var E=Math.pow(a,2),p=m.vTotal,k=p*E/(1-E),R=p,B=k/p;function F(){var te=Math.sqrt(B);return{x:te,y:-te}}function _(){var te=F();return[te.x,te.y]}var O,z=[];z.push(_());var N,Y;for(N=M.length-1;N>-1;N--)if(Y=M[N],!Y.hidden){var J=Y.v/R;B+=J,z.push(_())}var ae=1/0,se=-1/0;for(N=0;N<z.length;N++)O=z[N],ae=Math.min(ae,O[1]),se=Math.max(se,O[1]);for(N=0;N<z.length;N++)z[N][1]-=(se+ae)/2;var ue=z[z.length-1][0],K=m.r,j=(se-ae)/2,ie=K/ue,W=K/j*T;for(m.r=W*j,N=0;N<z.length;N++)z[N][0]*=ie,z[N][1]*=W;O=z[0];var Q=[-O[0],O[1]],ee=[O[0],O[1]],$=0;for(N=M.length-1;N>-1;N--)if(Y=M[N],!Y.hidden){$+=1;var X=z[$][0],oe=z[$][1];Y.TL=[-X,oe],Y.TR=[X,oe],Y.BL=Q,Y.BR=ee,Y.pxmid=A(Y.TR,Y.BR),Q=Y.TL,ee=Y.TR}}},62096:function(V,U,e){"use strict";var x=e(33428),P=e(10528),i=e(82744).resizeText;V.exports=function(C){var c=C._fullLayout._funnelarealayer.selectAll(".trace");i(C,c,"funnelarea"),c.each(function(y){var r=y[0],t=r.trace,s=x.select(this);s.style({opacity:t.opacity}),s.selectAll("path.surface").each(function(n){x.select(this).call(P,n,t,C)})})}},83328:function(V,U,e){"use strict";var x=e(52904),P=e(45464),i=e(25376),L=e(29736).axisHoverFormat,C=e(21776).Ks,c=e(21776).Gw,y=e(49084),r=e(92880).extendFlat;V.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},x.x,{impliedEdits:{xtype:"array"}}),x0:r({},x.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},x.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},x.y,{impliedEdits:{ytype:"array"}}),y0:r({},x.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},x.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},x.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},x.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},x.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},x.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},x.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},x.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:C(),texttemplate:c({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1}),zorder:x.zorder},{transforms:void 0},y("",{cLetter:"z",autoColorDflt:!1}))},19512:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(54460),L=e(1220),C=e(55480),c=e(47128),y=e(2872),r=e(26136),t=e(70448),s=e(11240),n=e(35744),u=e(39032).BADNUM;V.exports=function(h,w){var d=i.getFromId(h,w.xaxis||"x"),o=i.getFromId(h,w.yaxis||"y"),v=x.traceIs(w,"contour"),A=x.traceIs(w,"histogram"),b=x.traceIs(w,"gl2d"),M=v?"best":w.zsmooth,m,S,T,a,E,p,k,R,B,F,_;if(d._minDtick=0,o._minDtick=0,A)_=C(h,w),a=_.orig_x,m=_.x,S=_.x0,T=_.dx,R=_.orig_y,E=_.y,p=_.y0,k=_.dy,B=_.z;else{var O=w.z;P.isArray1D(O)?(y(w,d,o,"x","y",["z"]),m=w._x,E=w._y,O=w._z):(a=w.x?d.makeCalcdata(w,"x"):[],R=w.y?o.makeCalcdata(w,"y"):[],m=L(w,d,"x",a).vals,E=L(w,o,"y",R).vals,w._x=m,w._y=E),S=w.x0,T=w.dx,p=w.y0,k=w.dy,B=r(O,w,d,o)}(d.rangebreaks||o.rangebreaks)&&(B=f(m,E,B),A||(m=l(m),E=l(E),w._x=m,w._y=E)),!A&&(v||w.connectgaps)&&(w._emptypoints=s(B),t(B,w._emptypoints));function z(ie){M=w._input.zsmooth=w.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+ie)}function N(ie){if(ie.length>1){var W=(ie[ie.length-1]-ie[0])/(ie.length-1),Q=Math.abs(W/100);for(F=0;F<ie.length-1;F++)if(Math.abs(ie[F+1]-ie[F]-W)>Q)return!1}return!0}w._islinear=!1,d.type==="log"||o.type==="log"?M==="fast"&&z("log axis found"):N(m)?N(E)?w._islinear=!0:M==="fast"&&z("y scale is not linear"):M==="fast"&&z("x scale is not linear");var Y=P.maxRowLength(B),J=w.xtype==="scaled"?"":m,ae=n(w,J,S,T,Y,d),se=w.ytype==="scaled"?"":E,ue=n(w,se,p,k,B.length,o);b||(w._extremes[d._id]=i.findExtremes(d,ae),w._extremes[o._id]=i.findExtremes(o,ue));var K={x:ae,y:ue,z:B,text:w._text||w.text,hovertext:w._hovertext||w.hovertext};if(w.xperiodalignment&&a&&(K.orig_x=a),w.yperiodalignment&&R&&(K.orig_y=R),J&&J.length===ae.length-1&&(K.xCenter=J),se&&se.length===ue.length-1&&(K.yCenter=se),A&&(K.xRanges=_.xRanges,K.yRanges=_.yRanges,K.pts=_.pts),v||c(h,w,{vals:B,cLetter:"z"}),v&&w.contours&&w.contours.coloring==="heatmap"){var j={type:w.type==="contour"?"heatmap":"histogram2d",xcalendar:w.xcalendar,ycalendar:w.ycalendar};K.xfill=n(j,J,S,T,Y,d),K.yfill=n(j,se,p,k,B.length,o)}return[K]};function l(g){for(var h=[],w=g.length,d=0;d<w;d++){var o=g[d];o!==u&&h.push(o)}return h}function f(g,h,w){for(var d=[],o=-1,v=0;v<w.length;v++)if(h[v]!==u){o++,d[o]=[];for(var A=0;A<w[v].length;A++)g[A]!==u&&d[o].push(w[v][A])}return d}},26136:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(39032).BADNUM;V.exports=function(C,c,y,r){var t,s,n,u,l,f;function g(A){if(x(A))return+A}if(c&&c.transpose){for(t=0,l=0;l<C.length;l++)t=Math.max(t,C[l].length);if(t===0)return!1;n=function(A){return A.length},u=function(A,b,M){return(A[M]||[])[b]}}else t=C.length,n=function(A,b){return A[b].length},u=function(A,b,M){return(A[b]||[])[M]};var h=function(A,b,M){return b===i||M===i?i:u(A,b,M)};function w(A){if(c&&c.type!=="carpet"&&c.type!=="contourcarpet"&&A&&A.type==="category"&&c["_"+A._id.charAt(0)].length){var b=A._id.charAt(0),M={},m=c["_"+b+"CategoryMap"]||c[b];for(l=0;l<m.length;l++)M[m[l]]=l;return function(S){var T=M[A._categories[S]];return T+1?T:i}}else return P.identity}var d=w(y),o=w(r);r&&r.type==="category"&&(t=r._categories.length);var v=new Array(t);for(l=0;l<t;l++)for(y&&y.type==="category"?s=y._categories.length:s=n(C,l),v[l]=new Array(s),f=0;f<s;f++)v[l][f]=g(h(C,o(l),d(f)));return v}},96288:function(V){"use strict";V.exports={min:"zmin",max:"zmax"}},2872:function(V,U,e){"use strict";var x=e(3400),P=e(39032).BADNUM,i=e(1220);V.exports=function(C,c,y,r,t,s){var n=C._length,u=c.makeCalcdata(C,r),l=y.makeCalcdata(C,t);u=i(C,c,r,u).vals,l=i(C,y,t,l).vals;var f=C.text,g=f!==void 0&&x.isArray1D(f),h=C.hovertext,w=h!==void 0&&x.isArray1D(h),d,o,v=x.distinctVals(u),A=v.vals,b=x.distinctVals(l),M=b.vals,m=[],S,T,a=M.length,E=A.length;for(d=0;d<s.length;d++)m[d]=x.init2dArray(a,E);g&&(S=x.init2dArray(a,E)),w&&(T=x.init2dArray(a,E));var p=x.init2dArray(a,E);for(d=0;d<n;d++)if(u[d]!==P&&l[d]!==P){var k=x.findBin(u[d]+v.minDiff/2,A),R=x.findBin(l[d]+b.minDiff/2,M);for(o=0;o<s.length;o++){var B=s[o],F=C[B],_=m[o];_[R][k]=F[d],p[R][k]=d}g&&(S[R][k]=f[d]),w&&(T[R][k]=h[d])}for(C["_"+r]=A,C["_"+t]=M,o=0;o<s.length;o++)C["_"+s[o]]=m[o];g&&(C._text=S),w&&(C._hovertext=T),c&&c.type==="category"&&(C["_"+r+"CategoryMap"]=A.map(function(O){return c._categories[O]})),y&&y.type==="category"&&(C["_"+t+"CategoryMap"]=M.map(function(O){return y._categories[O]})),C._after2before=p}},24480:function(V,U,e){"use strict";var x=e(3400),P=e(51264),i=e(39096),L=e(31147),C=e(82748),c=e(27260),y=e(83328);V.exports=function(t,s,n,u){function l(g,h){return x.coerce(t,s,y,g,h)}var f=P(t,s,l,u);if(!f){s.visible=!1;return}L(t,s,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),i(l,u),C(t,s,l,u),l("hoverongaps"),l("connectgaps",x.isArray1D(s.z)&&s.zsmooth!==!1),c(t,s,u,l,{prefix:"",cLetter:"z"}),l("zorder")}},11240:function(V,U,e){"use strict";var x=e(3400).maxRowLength;V.exports=function(i){var L=[],C={},c=[],y=i[0],r=[],t=[0,0,0],s=x(i),n,u,l,f,g,h,w,d;for(u=0;u<i.length;u++)for(n=r,r=y,y=i[u+1]||[],l=0;l<s;l++)r[l]===void 0&&(h=(r[l-1]!==void 0?1:0)+(r[l+1]!==void 0?1:0)+(n[l]!==void 0?1:0)+(y[l]!==void 0?1:0),h?(u===0&&h++,l===0&&h++,u===i.length-1&&h++,l===r.length-1&&h++,h<4&&(C[[u,l]]=[u,l,h]),L.push([u,l,h])):c.push([u,l]));for(;c.length;){for(w={},d=!1,g=c.length-1;g>=0;g--)f=c[g],u=f[0],l=f[1],h=((C[[u-1,l]]||t)[2]+(C[[u+1,l]]||t)[2]+(C[[u,l-1]]||t)[2]+(C[[u,l+1]]||t)[2])/20,h&&(w[f]=[u,l,h],c.splice(g,1),d=!0);if(!d)throw"findEmpties iterated with no new neighbors";for(f in w)C[f]=w[f],L.push(w[f])}return L.sort(function(o,v){return v[2]-o[2]})}},55512:function(V,U,e){"use strict";var x=e(93024),P=e(3400),i=P.isArrayOrTypedArray,L=e(54460),C=e(8932).extractOpts;V.exports=function(y,r,t,s,n){n||(n={});var u=n.isContour,l=y.cd[0],f=l.trace,g=y.xa,h=y.ya,w=l.x,d=l.y,o=l.z,v=l.xCenter,A=l.yCenter,b=l.zmask,M=f.zhoverformat,m=w,S=d,T,a,E,p;if(y.index!==!1){try{E=Math.round(y.index[1]),p=Math.round(y.index[0])}catch(ue){P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",y.index);return}if(E<0||E>=o[0].length||p<0||p>o.length)return}else{if(x.inbox(r-w[0],r-w[w.length-1],0)>0||x.inbox(t-d[0],t-d[d.length-1],0)>0)return;if(u){var k;for(m=[2*w[0]-w[1]],k=1;k<w.length;k++)m.push((w[k]+w[k-1])/2);for(m.push([2*w[w.length-1]-w[w.length-2]]),S=[2*d[0]-d[1]],k=1;k<d.length;k++)S.push((d[k]+d[k-1])/2);S.push([2*d[d.length-1]-d[d.length-2]])}E=Math.max(0,Math.min(m.length-2,P.findBin(r,m))),p=Math.max(0,Math.min(S.length-2,P.findBin(t,S)))}var R=g.c2p(w[E]),B=g.c2p(w[E+1]),F=h.c2p(d[p]),_=h.c2p(d[p+1]),O,z;u?(O=l.orig_x||w,z=l.orig_y||d,B=R,T=O[E],_=F,a=z[p]):(O=l.orig_x||v||w,z=l.orig_y||A||d,T=v?O[E]:(O[E]+O[E+1])/2,a=A?z[p]:(z[p]+z[p+1])/2,g&&g.type==="category"&&(T=w[E]),h&&h.type==="category"&&(a=d[p]),f.zsmooth&&(R=B=g.c2p(T),F=_=h.c2p(a)));var N=o[p][E];if(b&&!b[p][E]&&(N=void 0),!(N===void 0&&!f.hoverongaps)){var Y;i(l.hovertext)&&i(l.hovertext[p])?Y=l.hovertext[p][E]:i(l.text)&&i(l.text[p])&&(Y=l.text[p][E]);var J=C(f),ae={type:"linear",range:[J.min,J.max],hoverformat:M,_separators:g._separators,_numFormat:g._numFormat},se=L.tickText(ae,N,"hover").text;return[P.extendFlat(y,{index:f._after2before?f._after2before[p][E]:[p,E],distance:y.maxHoverDistance,spikeDistance:y.maxSpikeDistance,x0:R,x1:B,y0:F,y1:_,xLabelVal:T,yLabelVal:a,zLabelVal:N,zLabel:se,text:Y})]}}},81932:function(V,U,e){"use strict";V.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(V,U,e){"use strict";var x=e(3400),P=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function L(c){return .5-.25*Math.min(1,c*.5)}V.exports=function(y,r){var t=1,s;for(C(y,r),s=0;s<r.length&&!(r[s][2]<4);s++);for(r=r.slice(s),s=0;s<100&&t>P;s++)t=C(y,r,L(t));return t>P&&x.log("interp2d didn't converge quickly",t),y};function C(c,y,r){var t=0,s,n,u,l,f,g,h,w,d,o,v,A,b;for(l=0;l<y.length;l++){for(s=y[l],n=s[0],u=s[1],v=c[n][u],o=0,d=0,f=0;f<4;f++)g=i[f],h=c[n+g[0]],h&&(w=h[u+g[1]],w!==void 0&&(o===0?A=b=w:(A=Math.min(A,w),b=Math.max(b,w)),d++,o+=w));if(d===0)throw"iterateInterp2d order is wrong: no defined neighbors";c[n][u]=o/d,v===void 0?d<4&&(t=1):(c[n][u]=(1+r)*c[n][u]-r*v,b>A&&(t=Math.max(t,Math.abs(c[n][u]-v)/(b-A))))}return t}},39096:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){i("texttemplate");var C=x.extendFlat({},L.font,{color:"auto",size:"auto"});x.coerceFont(i,"textfont",C)}},35744:function(V,U,e){"use strict";var x=e(24040),P=e(3400).isArrayOrTypedArray;V.exports=function(L,C,c,y,r,t){var s=[],n=x.traceIs(L,"contour"),u=x.traceIs(L,"histogram"),l=x.traceIs(L,"gl2d"),f,g,h,w=P(C)&&C.length>1;if(w&&!u&&t.type!=="category"){var d=C.length;if(d<=r){if(n||l)s=Array.from(C).slice(0,r);else if(r===1)t.type==="log"?s=[.5*C[0],2*C[0]]:s=[C[0]-.5,C[0]+.5];else if(t.type==="log"){for(s=[Math.pow(C[0],1.5)/Math.pow(C[1],.5)],h=1;h<d;h++)s.push(Math.sqrt(C[h-1]*C[h]));s.push(Math.pow(C[d-1],1.5)/Math.pow(C[d-2],.5))}else{for(s=[1.5*C[0]-.5*C[1]],h=1;h<d;h++)s.push((C[h-1]+C[h])*.5);s.push(1.5*C[d-1]-.5*C[d-2])}if(d<r){var o=s[s.length-1],v;if(t.type==="log")for(v=o/s[s.length-2],h=d;h<r;h++)o*=v,s.push(o);else for(v=o-s[s.length-2],h=d;h<r;h++)o+=v,s.push(o)}}else return n?C.slice(0,r):C.slice(0,r+1)}else{var A=L[t._id.charAt(0)+"calendar"];if(u)f=t.r2c(c,0,A);else if(P(C)&&C.length===1)f=C[0];else if(c===void 0)f=0;else{var b=t.type==="log"?t.d2c:t.r2c;f=b(c,0,A)}for(g=y||1,h=n||l?0:-.5;h<r;h++)s.push(f+g*h)}return s}},41420:function(V,U,e){"use strict";var x=e(33428),P=e(49760),i=e(24040),L=e(43616),C=e(54460),c=e(3400),y=e(72736),r=e(76688),t=e(76308),s=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,u=e(9616),l=e(84284),f=l.LINE_SPACING,g=e(9188),h=e(2264).STYLE,w="heatmap-label";function d(M){return M.selectAll("g."+w)}function o(M){d(M).remove()}V.exports=function(M,m,S,T){var a=m.xaxis,E=m.yaxis;c.makeTraceGroups(T,S,"hm").each(function(p){var k=x.select(this),R=p[0],B=R.trace,F=B.xgap||0,_=B.ygap||0,O=R.z,z=R.x,N=R.y,Y=R.xCenter,J=R.yCenter,ae=i.traceIs(B,"contour"),se=ae?"best":B.zsmooth,ue=O.length,K=c.maxRowLength(O),j=!1,ie=!1,W,Q,ee,$,X,oe,te,fe;for(oe=0;W===void 0&&oe<z.length-1;)W=a.c2p(z[oe]),oe++;for(oe=z.length-1;Q===void 0&&oe>0;)Q=a.c2p(z[oe]),oe--;for(Q<W&&(ee=Q,Q=W,W=ee,j=!0),oe=0;$===void 0&&oe<N.length-1;)$=E.c2p(N[oe]),oe++;for(oe=N.length-1;X===void 0&&oe>0;)X=E.c2p(N[oe]),oe--;X<$&&(ee=$,$=X,X=ee,ie=!0),ae&&(Y=z,J=N,z=R.xfill,N=R.yfill);var pe="default";if(se?pe=se==="best"?"smooth":"fast":B._islinear&&F===0&&_===0&&g()&&(pe="fast"),pe!=="fast"){var Ae=se==="best"?0:.5;W=Math.max(-Ae*a._length,W),Q=Math.min((1+Ae)*a._length,Q),$=Math.max(-Ae*E._length,$),X=Math.min((1+Ae)*E._length,X)}var be=Math.round(Q-W),Pe=Math.round(X-$),me=W>=a._length||Q<=0||$>=E._length||X<=0;if(me){var Ee=k.selectAll("image").data([]);Ee.exit().remove(),o(k);return}var xe,De;pe==="fast"?(xe=K,De=ue):(xe=be,De=Pe);var Ve=document.createElement("canvas");Ve.width=xe,Ve.height=De;var Ze=Ve.getContext("2d",{willReadFrequently:!0}),ke=n(B,{noNumericCheck:!0,returnArray:!0}),Ye,lt;pe==="fast"?(Ye=j?function(on){return K-1-on}:c.identity,lt=ie?function(on){return ue-1-on}:c.identity):(Ye=function(on){return c.constrain(Math.round(a.c2p(z[on])-W),0,be)},lt=function(on){return c.constrain(Math.round(E.c2p(N[on])-$),0,Pe)});var yt=lt(0),He=[yt,yt],Fe=j?0:1,nt=ie?0:1,ot=0,ct=0,ht=0,mt=0,tt,Re,Ge,Je,Xe;function Oe(on,gn){if(on!==void 0){var yn=ke(on);return yn[0]=Math.round(yn[0]),yn[1]=Math.round(yn[1]),yn[2]=Math.round(yn[2]),ot+=gn,ct+=yn[0]*gn,ht+=yn[1]*gn,mt+=yn[2]*gn,yn}return[0,0,0,0]}function Ne(on,gn,yn,Pn){var zn=on[yn.bin0];if(zn===void 0)return Oe(void 0,1);var ta=on[yn.bin1],Un=gn[yn.bin0],ra=gn[yn.bin1],Jn=ta-zn||0,ea=Un-zn||0,pr;return ta===void 0?ra===void 0?pr=0:Un===void 0?pr=2*(ra-zn):pr=(2*ra-Un-zn)*2/3:ra===void 0?Un===void 0?pr=0:pr=(2*zn-ta-Un)*2/3:Un===void 0?pr=(2*ra-ta-zn)*2/3:pr=ra+zn-ta-Un,Oe(zn+yn.frac*Jn+Pn.frac*(ea+yn.frac*pr))}if(pe!=="default"){var ze=0,et;try{et=new Uint8Array(xe*De*4)}catch(on){et=new Array(xe*De*4)}if(pe==="smooth"){var Le=Y||z,Te=J||N,ye=new Array(Le.length),Se=new Array(Te.length),Ke=new Array(be),rt=Y?A:v,Lt=J?A:v,It,wt,Et;for(oe=0;oe<Le.length;oe++)ye[oe]=Math.round(a.c2p(Le[oe])-W);for(oe=0;oe<Te.length;oe++)Se[oe]=Math.round(E.c2p(Te[oe])-$);for(oe=0;oe<be;oe++)Ke[oe]=rt(oe,ye);for(te=0;te<Pe;te++)for(It=Lt(te,Se),wt=O[It.bin0],Et=O[It.bin1],oe=0;oe<be;oe++,ze+=4)Xe=Ne(wt,Et,Ke[oe],It),b(et,ze,Xe)}else for(te=0;te<ue;te++)for(Je=O[te],He=lt(te),oe=0;oe<K;oe++)Xe=Oe(Je[oe],1),ze=(He*K+Ye(oe))*4,b(et,ze,Xe);var Wt=Ze.createImageData(xe,De);try{Wt.data.set(et)}catch(on){var vr=Wt.data,dt=vr.length;for(te=0;te<dt;te++)vr[te]=et[te]}Ze.putImageData(Wt,0,0)}else{var Yt=Math.floor(F/2),jt=Math.floor(_/2);for(te=0;te<ue;te++)if(Je=O[te],He.reverse(),He[nt]=lt(te+1),!(He[0]===He[1]||He[0]===void 0||He[1]===void 0))for(Re=Ye(0),tt=[Re,Re],oe=0;oe<K;oe++)tt.reverse(),tt[Fe]=Ye(oe+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0)&&(Ge=Je[oe],Xe=Oe(Ge,(tt[1]-tt[0])*(He[1]-He[0])),Ze.fillStyle="rgba("+Xe.join(",")+")",Ze.fillRect(tt[0]+Yt,He[0]+jt,tt[1]-tt[0]-F,He[1]-He[0]-_))}ct=Math.round(ct/ot),ht=Math.round(ht/ot),mt=Math.round(mt/ot);var gr=P("rgb("+ct+","+ht+","+mt+")");M._hmpixcount=(M._hmpixcount||0)+ot,M._hmlumcount=(M._hmlumcount||0)+ot*gr.getLuminance();var sr=k.selectAll("image").data(p);sr.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),sr.attr({height:Pe,width:be,x:W,y:$,"xlink:href":Ve.toDataURL("image/png")}),pe==="fast"&&!se&&sr.attr("style",h),o(k);var gt=B.texttemplate;if(gt){var st=s(B),xt={type:"linear",range:[st.min,st.max],_separators:a._separators,_numFormat:a._numFormat},Mt=B.type==="histogram2dcontour",Rt=B.type==="contour",Vt=Rt?1:0,Ct=Rt?ue-1:ue,Bt=Rt?1:0,Xt=Rt?K-1:K,ir=[];for(oe=Vt;oe<Ct;oe++){var or;if(Rt)or=R.y[oe];else if(Mt){if(oe===0||oe===ue-1)continue;or=R.y[oe]}else if(R.yCenter)or=R.yCenter[oe];else{if(oe+1===ue&&R.y[oe+1]===void 0)continue;or=(R.y[oe]+R.y[oe+1])/2}var cr=Math.round(E.c2p(or));if(!(0>cr||cr>E._length))for(te=Bt;te<Xt;te++){var We;if(Rt)We=R.x[te];else if(Mt){if(te===0||te===K-1)continue;We=R.x[te]}else if(R.xCenter)We=R.xCenter[te];else{if(te+1===K&&R.x[te+1]===void 0)continue;We=(R.x[te]+R.x[te+1])/2}var Ue=Math.round(a.c2p(We));if(!(0>Ue||Ue>a._length)){var Ft=r({x:We,y:or},B,M._fullLayout);Ft.x=We,Ft.y=or;var kt=R.z[oe][te];kt===void 0?(Ft.z="",Ft.zLabel=""):(Ft.z=kt,Ft.zLabel=C.tickText(xt,kt,"hover").text);var Zt=R.text&&R.text[oe]&&R.text[oe][te];(Zt===void 0||Zt===!1)&&(Zt=""),Ft.text=Zt;var rr=c.texttemplateString(gt,Ft,M._fullLayout._d3locale,Ft,B._meta||{});if(rr){var lr=rr.split("<br>"),qt=lr.length,Ot=0;for(fe=0;fe<qt;fe++)Ot=Math.max(Ot,lr[fe].length);ir.push({l:qt,c:Ot,t:rr,x:Ue,y:cr,z:kt})}}}}var tr=B.textfont,dr=tr.family,mr=tr.size,Cr=M._fullLayout.font.size;if(!mr||mr==="auto"){var $r=1/0,yr=1/0,Gr=0,rn=0;for(fe=0;fe<ir.length;fe++){var _r=ir[fe];if(Gr=Math.max(Gr,_r.l),rn=Math.max(rn,_r.c),fe<ir.length-1){var bn=ir[fe+1],xn=Math.abs(bn.x-_r.x),fr=Math.abs(bn.y-_r.y);xn&&($r=Math.min($r,xn)),fr&&(yr=Math.min(yr,fr))}}!isFinite($r)||!isFinite(yr)?mr=Cr:($r-=F,yr-=_,$r/=rn,yr/=Gr,$r/=f/2,yr/=f,mr=Math.min(Math.floor($r),Math.floor(yr),Cr))}if(mr<=0||!isFinite(mr))return;var Dr=function(on){return on.x},Nr=function(on){return on.y-mr*(on.l*f/2-1)},Ur=d(k).data(ir);Ur.enter().append("g").classed(w,1).append("text").attr("text-anchor","middle").each(function(on){var gn=x.select(this),yn=tr.color;(!yn||yn==="auto")&&(yn=t.contrast(on.z===void 0?M._fullLayout.plot_bgcolor:"rgba("+ke(on.z).join()+")")),gn.attr("data-notex",1).call(y.positionText,Dr(on),Nr(on)).call(L.font,dr,mr,yn).text(on.t).call(y.convertToTspans,M)})}})};function v(M,m){var S=m.length-2,T=c.constrain(c.findBin(M,m),0,S),a=m[T],E=m[T+1],p=c.constrain(T+(M-a)/(E-a)-.5,0,S),k=Math.round(p),R=Math.abs(p-k);return!p||p===S||!R?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:R,bin1:Math.round(k+R/(p-k))}}function A(M,m){var S=m.length-1,T=c.constrain(c.findBin(M,m),0,S),a=m[T],E=m[T+1],p=(M-a)/(E-a)||0;return p<=0?{bin0:T,bin1:T,frac:0}:p<.5?{bin0:T,bin1:T+1,frac:p}:{bin0:T+1,bin1:T,frac:1-p}}function b(M,m,S){M[m]=S[0],M[m+1]=S[1],M[m+2]=S[2],M[m+3]=Math.round(S[3]*255)}},41648:function(V,U,e){"use strict";var x=e(33428);V.exports=function(i){x.select(i).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},82748:function(V){"use strict";V.exports=function(e,x,P){var i=P("zsmooth");i===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},51264:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(24040);V.exports=function(y,r,t,s,n,u){var l=t("z");n=n||"x",u=u||"y";var f,g;if(l===void 0||!l.length)return 0;if(P.isArray1D(l)){f=t(n),g=t(u);var h=P.minRowLength(f),w=P.minRowLength(g);if(h===0||w===0)return 0;r._length=Math.min(h,w,l.length)}else{if(f=L(n,t),g=L(u,t),!C(l))return 0;t("transpose"),r._length=null}if(y.type==="heatmapgl")return!0;var d=i.getComponentMethod("calendars","handleTraceDefaults");return d(y,r,[n,u],s),!0};function L(c,y){var r=y(c),t=r?y(c+"type","array"):"scaled";return t==="scaled"&&(y(c+"0"),y("d"+c)),r}function C(c){for(var y=!0,r=!1,t=!1,s,n=0;n<c.length;n++){if(s=c[n],!P.isArrayOrTypedArray(s)){y=!1;break}s.length>0&&(r=!0);for(var u=0;u<s.length;u++)if(x(s[u])){t=!0;break}}return y&&r&&t}},74512:function(V,U,e){"use strict";for(var x=e(83328),P=e(49084),i=e(92880).extendFlat,L=e(67824).overrideAll,C=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],c={},y=0;y<C.length;y++){var r=C[y];c[r]=x[r]}c.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(c,P("",{cLetter:"z",autoColorDflt:!1})),V.exports=L(c,"calc","nested")},84656:function(V,U,e){"use strict";var x=e(67792).gl_heatmap2d,P=e(54460),i=e(43080);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=x(r.glplot,this.options),this.heatmap._trace=this}var C=L.prototype;C.handlePick=function(r){var t=this.options,s=t.shape,n=r.pointId,u=n%s[0],l=Math.floor(n/s[0]),f=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[u],t.y[l],t.z[f]],textLabel:this.textLabels[n],name:this.name,pointIndex:[l,u],hoverinfo:this.hoverinfo}},C.update=function(r,t){var s=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=s.z;this.options.z=[].concat.apply([],n);var u=n[0].length,l=n.length;this.options.shape=[u,l],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=r.zsmooth;var f=c(r);this.options.colorLevels=f.colorLevels,this.options.colorValues=f.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var g=this.scene.xaxis,h=this.scene.yaxis,w,d;r.zsmooth===!1&&(w={ppad:s.x[1]-s.x[0]},d={ppad:s.y[1]-s.y[0]}),r._extremes[g._id]=P.findExtremes(g,s.x,w),r._extremes[h._id]=P.findExtremes(h,s.y,d)},C.dispose=function(){this.heatmap.dispose()};function c(r){for(var t=r.colorscale,s=r.zmin,n=r.zmax,u=t.length,l=new Array(u),f=new Array(4*u),g=0;g<u;g++){var h=t[g],w=i(h[1]);l[g]=s+h[0]*(n-s);for(var d=0;d<4;d++)f[4*g+d]=w[d]}return{colorLevels:l,colorValues:f}}function y(r,t,s){var n=new L(r,t.uid);return n.update(t,s),n}V.exports=y},86464:function(V,U,e){"use strict";var x=e(3400),P=e(51264),i=e(27260),L=e(74512);V.exports=function(c,y,r,t){function s(u,l){return x.coerce(c,y,L,u,l)}var n=P(c,y,s,t);if(!n){y.visible=!1;return}s("text"),s("zsmooth"),i(c,y,t,s,{prefix:"",cLetter:"z"})}},45536:function(V,U,e){"use strict";var x=["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" ");V.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(V,U,e){"use strict";var x=e(20832),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(21776).Gw,C=e(25376),c=e(11120),y=e(73316),r=e(92880).extendFlat;V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},x.text,{}),hovertext:r({},x.hovertext,{}),orientation:x.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:c("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:c("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:y.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},x.textposition,{arrayOk:!1}),textfont:C({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:C({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:C({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:x.insidetextanchor,textangle:x.textangle,cliponaxis:x.cliponaxis,constraintext:x.constraintext,marker:x.marker,offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,selected:x.selected,unselected:x.unselected,_deprecated:{bardir:x._deprecated.bardir},zorder:x.zorder}},2e3:function(V){"use strict";V.exports=function(e,x){for(var P=e.length,i=0,L=0;L<P;L++)x[L]?(e[L]/=x[L],i+=e[L]):e[L]=null;return i}},11120:function(V){"use strict";V.exports=function(e,x){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(V,U,e){"use strict";var x=e(38248);V.exports={count:function(P,i,L){return L[P]++,1},sum:function(P,i,L,C){var c=C[i];return x(c)?(c=Number(c),L[P]+=c,c):0},avg:function(P,i,L,C,c){var y=C[i];return x(y)&&(y=Number(y),L[P]+=y,c[P]++),0},min:function(P,i,L,C){var c=C[i];if(x(c))if(c=Number(c),x(L[P])){if(L[P]>c){var y=c-L[P];return L[P]=c,y}}else return L[P]=c,c;return 0},max:function(P,i,L,C){var c=C[i];if(x(c))if(c=Number(c),x(L[P])){if(L[P]<c){var y=c-L[P];return L[P]=c,y}}else return L[P]=c,c;return 0}}},67712:function(V,U,e){"use strict";var x=e(39032),P=x.ONEAVGYEAR,i=x.ONEAVGMONTH,L=x.ONEDAY,C=x.ONEHOUR,c=x.ONEMIN,y=x.ONESEC,r=e(54460).tickIncrement;V.exports=function(f,g,h,w,d){var o=-1.1*g,v=-.1*g,A=f-v,b=h[0],M=h[1],m=Math.min(t(b+v,b+A,w,d),t(M+v,M+A,w,d)),S=Math.min(t(b+o,b+v,w,d),t(M+o,M+v,w,d)),T,a;if(m>S&&S<Math.abs(M-b)/4e3?(T=m,a=!1):(T=Math.min(m,S),a=!0),w.type==="date"&&T>L){var E=T===P?1:6,p=T===P?"M12":"M1";return function(k,R){var B=w.c2d(k,P,d),F=B.indexOf("-",E);F>0&&(B=B.substr(0,F));var _=w.d2c(B,0,d);if(_<k){var O=r(_,p,!1,d);(_+O)/2<k+f&&(_=O)}return R&&a?r(_,p,!0,d):_}}return function(k,R){var B=T*Math.round(k/T);return B+T/10<k&&B+T*.9<k+f&&(B+=T),R&&a&&(B-=T),B}};function t(l,f,g,h){if(l*f<=0)return 1/0;for(var w=Math.abs(f-l),d=g.type==="date",o=s(w,d),v=0;v<10;v++){var A=s(o*80,d);if(o===A)break;if(n(A,l,f,d,g,h))o=A;else break}return o}function s(l,f){return f&&l>y?l>L?l>P*1.1?P:l>i*1.1?i:L:l>C?C:l>c?c:y:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function n(l,f,g,h,w,d){if(h&&l>L){var o=u(f,w,d),v=u(g,w,d),A=l===P?0:1;return o[A]!==v[A]}return Math.floor(g/l)-Math.floor(f/l)>.1}function u(l,f,g){var h=f.c2d(l,P,g).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(24040),L=e(54460),C=e(84664),c=e(16964),y=e(10648),r=e(2e3),t=e(67712);function s(g,h){var w=[],d=[],o=h.orientation==="h",v=L.getFromId(g,o?h.yaxis:h.xaxis),A=o?"y":"x",b={x:"y",y:"x"}[A],M=h[A+"calendar"],m=h.cumulative,S,T=n(g,h,v,A),a=T[0],E=T[1],p=typeof a.size=="string",k=[],R=p?k:a,B=[],F=[],_=[],O=0,z=h.histnorm,N=h.histfunc,Y=z.indexOf("density")!==-1,J,ae,se;m.enabled&&Y&&(z=z.replace(/ ?density$/,""),Y=!1);var ue=N==="max"||N==="min",K=ue?null:0,j=c.count,ie=y[z],W=!1,Q=function(Ze){return v.r2c(Ze,0,M)},ee;for(P.isArrayOrTypedArray(h[b])&&N!=="count"&&(ee=h[b],W=N==="avg",j=c[N]),S=Q(a.start),ae=Q(a.end)+(S-L.tickIncrement(S,a.size,!1,M))/1e6;S<ae&&w.length<1e6&&(J=L.tickIncrement(S,a.size,!1,M),w.push((S+J)/2),d.push(K),_.push([]),k.push(S),Y&&B.push(1/(J-S)),W&&F.push(0),!(J<=S));)S=J;k.push(S),!p&&v.type==="date"&&(R={start:Q(R.start),end:Q(R.end),size:R.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var $=h["_"+A+"bingroup"],X={leftGap:1/0,rightGap:1/0};$&&(g._fullLayout._roundFnOpts[$]||(g._fullLayout._roundFnOpts[$]=X),X=g._fullLayout._roundFnOpts[$]);var oe=d.length,te=!0,fe=X.leftGap,pe=X.rightGap,Ae={};for(S=0;S<E.length;S++){var be=E[S];se=P.findBin(be,R),se>=0&&se<oe&&(O+=j(se,S,d,ee,F),te&&_[se].length&&be!==E[_[se][0]]&&(te=!1),_[se].push(S),Ae[S]=se,fe=Math.min(fe,be-k[se]),pe=Math.min(pe,k[se+1]-be))}X.leftGap=fe,X.rightGap=pe;var Pe;te||(Pe=function(Ze,ke){return function(){var Ye=g._fullLayout._roundFnOpts[$];return t(Ye.leftGap,Ye.rightGap,k,v,M)(Ze,ke)}}),W&&(O=r(d,F)),ie&&ie(d,O,B),m.enabled&&f(d,m.direction,m.currentbin);var me=Math.min(w.length,d.length),Ee=[],xe=0,De=me-1;for(S=0;S<me;S++)if(d[S]){xe=S;break}for(S=me-1;S>=xe;S--)if(d[S]){De=S;break}for(S=xe;S<=De;S++)if(x(w[S])&&x(d[S])){var Ve={p:w[S],s:d[S],b:0};m.enabled||(Ve.pts=_[S],te?Ve.ph0=Ve.ph1=_[S].length?E[_[S][0]]:w[S]:(h._computePh=!0,Ve.ph0=Pe(k[S]),Ve.ph1=Pe(k[S+1],!0))),Ee.push(Ve)}return Ee.length===1&&(Ee[0].width1=L.tickIncrement(Ee[0].p,a.size,!1,M)-Ee[0].p),C(Ee,h),P.isArrayOrTypedArray(h.selectedpoints)&&P.tagSelected(Ee,h,Ae),Ee}function n(g,h,w,d,o){var v=d+"bins",A=g._fullLayout,b=h["_"+d+"bingroup"],M=A._histogramBinOpts[b],m=A.barmode==="overlay",S,T,a,E,p,k,R,B=function(be){return w.r2c(be,0,E)},F=function(be){return w.c2r(be,0,E)},_=w.type==="date"?function(be){return be||be===0?P.cleanDate(be,null,E):null}:function(be){return x(be)?Number(be):null};function O(be,Pe,me){Pe[be+"Found"]?(Pe[be]=_(Pe[be]),Pe[be]===null&&(Pe[be]=me[be])):(k[be]=Pe[be]=me[be],P.nestedProperty(T[0],v+"."+be).set(me[be]))}if(h["_"+d+"autoBinFinished"])delete h["_"+d+"autoBinFinished"];else{T=M.traces;var z=[],N=!0,Y=!1,J=!1;for(S=0;S<T.length;S++)if(a=T[S],a.visible){var ae=M.dirs[S];p=a["_"+ae+"pos0"]=w.makeCalcdata(a,ae),z=P.concat(z,p),delete a["_"+d+"autoBinFinished"],h.visible===!0&&(N?N=!1:(delete a._autoBin,a["_"+d+"autoBinFinished"]=1),i.traceIs(a,"2dMap")&&(Y=!0),a.type==="histogram2dcontour"&&(J=!0))}E=T[0][d+"calendar"];var se=L.autoBin(z,w,M.nbins,Y,E,M.sizeFound&&M.size),ue=T[0]._autoBin={};if(k=ue[M.dirs[0]]={},J&&(M.size||(se.start=F(L.tickIncrement(B(se.start),se.size,!0,E))),M.end===void 0&&(se.end=F(L.tickIncrement(B(se.end),se.size,!1,E)))),m&&!i.traceIs(h,"2dMap")&&se._dataSpan===0&&w.type!=="category"&&w.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins=="undefined"){if(o)return[se,p,!0];se=u(g,h,w,d,v)}R=a.cumulative||{},R.enabled&&R.currentbin!=="include"&&(R.direction==="decreasing"?se.start=F(L.tickIncrement(B(se.start),se.size,!0,E)):se.end=F(L.tickIncrement(B(se.end),se.size,!1,E))),M.size=se.size,M.sizeFound||(k.size=se.size,P.nestedProperty(T[0],v+".size").set(se.size)),O("start",M,se),O("end",M,se)}p=h["_"+d+"pos0"],delete h["_"+d+"pos0"];var K=h._input[v]||{},j=P.extendFlat({},M),ie=M.start,W=w.r2l(K.start),Q=W!==void 0;if((M.startFound||Q)&&W!==w.r2l(ie)){var ee=Q?W:P.aggNums(Math.min,null,p),$={type:w.type==="category"||w.type==="multicategory"?"linear":w.type,r2l:w.r2l,dtick:M.size,tick0:ie,calendar:E,range:[ee,L.tickIncrement(ee,M.size,!1,E)].map(w.l2r)},X=L.tickFirst($);X>w.r2l(ee)&&(X=L.tickIncrement(X,M.size,!0,E)),j.start=w.l2r(X),Q||P.nestedProperty(h,v+".start").set(j.start)}var oe=M.end,te=w.r2l(K.end),fe=te!==void 0;if((M.endFound||fe)&&te!==w.r2l(oe)){var pe=fe?te:P.aggNums(Math.max,null,p);j.end=w.l2r(pe),fe||P.nestedProperty(h,v+".start").set(j.end)}var Ae="autobin"+d;return h._input[Ae]===!1&&(h._input[v]=P.extendFlat({},h[v]||{}),delete h._input[Ae],delete h[Ae]),[j,p]}function u(g,h,w,d,o){var v=g._fullLayout,A=l(g,h),b=!1,M=1/0,m=[h],S,T,a;for(S=0;S<A.length;S++)if(T=A[S],T===h)b=!0;else if(!b)a=v._histogramBinOpts[T["_"+d+"bingroup"]],M=Math.min(M,a.size||T[o].size);else{var E=n(g,T,w,d,!0),p=E[0],k=E[2];T["_"+d+"autoBinFinished"]=1,T["_"+d+"pos0"]=E[1],k?m.push(T):M=Math.min(M,p.size)}var R=new Array(m.length);for(S=0;S<m.length;S++)for(var B=m[S]["_"+d+"pos0"],F=0;F<B.length;F++)if(B[F]!==void 0){R[S]=B[F];break}for(isFinite(M)||(M=P.distinctVals(R).minDiff),S=0;S<m.length;S++){T=m[S];var _=T[d+"calendar"],O={start:w.c2r(R[S]-M/2,0,_),end:w.c2r(R[S]+M/2,0,_),size:M};T._input[o]=T[o]=O,a=v._histogramBinOpts[T["_"+d+"bingroup"]],a&&P.extendFlat(a,O)}return h[o]}function l(g,h){for(var w=h.xaxis,d=h.yaxis,o=h.orientation,v=[],A=g._fullData,b=0;b<A.length;b++){var M=A[b];M.type==="histogram"&&M.visible===!0&&M.orientation===o&&M.xaxis===w&&M.yaxis===d&&v.push(M)}return v}function f(g,h,w){var d,o,v;function A(M){v=g[M],g[M]/=2}function b(M){o=g[M],g[M]=v+o/2,v+=o}if(w==="half")if(h==="increasing")for(A(0),d=1;d<g.length;d++)b(d);else for(A(g.length-1),d=g.length-2;d>=0;d--)b(d);else if(h==="increasing"){for(d=1;d<g.length;d++)g[d]+=g[d-1];w==="exclude"&&(g.unshift(0),g.pop())}else{for(d=g.length-2;d>=0;d--)g[d]+=g[d+1];w==="exclude"&&(g.push(0),g.shift())}}V.exports={calc:s,calcAllAutoBins:n}},73316:function(V){"use strict";V.exports={eventDataKeys:["binNumber"]}},80536:function(V,U,e){"use strict";var x=e(3400),P=e(79811),i=e(24040).traceIs,L=e(20011),C=e(31508).validateCornerradius,c=x.nestedProperty,y=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];V.exports=function(n,u){var l=u._histogramBinOpts={},f=[],g={},h=[],w,d,o,v,A,b,M;function m(se,ue){return x.coerce(w._input,w,w._module.attributes,se,ue)}function S(se){return se.orientation==="v"?"x":"y"}function T(se,ue){var K=P.getFromTrace({_fullLayout:u},se,ue);return K.type}function a(se,ue,K){var j=se.uid+"__"+K;ue||(ue=j);var ie=T(se,K),W=se[K+"calendar"]||"",Q=l[ue],ee=!0;Q&&(ie===Q.axType&&W===Q.calendar?(ee=!1,Q.traces.push(se),Q.dirs.push(K)):(ue=j,ie!==Q.axType&&x.warn(["Attempted to group the bins of trace",se.index,"set on a","type:"+ie,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),W!==Q.calendar&&x.warn(["Attempted to group the bins of trace",se.index,"set with a",W,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),ee&&(l[ue]={traces:[se],dirs:[K],axType:ie,calendar:se[K+"calendar"]||""}),se["_"+K+"bingroup"]=ue}for(A=0;A<n.length;A++)if(w=n[A],i(w,"histogram")){if(f.push(w),delete w._xautoBinFinished,delete w._yautoBinFinished,w.type==="histogram"){var E=m("marker.cornerradius",u.barcornerradius);w.marker&&(w.marker.cornerradius=C(E))}i(w,"2dMap")||L(w._input,w,u,m)}var p=u._alignmentOpts||{};for(A=0;A<f.length;A++){if(w=f[A],o="",!i(w,"2dMap")){if(v=S(w),u.barmode==="group"&&w.alignmentgroup){var k=w[v+"axis"],R=y(u,k)+w.orientation;(p[R]||{})[w.alignmentgroup]&&(o=R)}!o&&u.barmode!=="overlay"&&(o=y(u,w.xaxis)+y(u,w.yaxis)+S(w))}o?(g[o]||(g[o]=[]),g[o].push(w)):h.push(w)}for(o in g){if(d=g[o],d.length===1){h.push(d[0]);continue}var B=!1;for(d.length&&(w=d[0],B=m("bingroup")),o=B||o,A=0;A<d.length;A++){w=d[A];var F=w._input.bingroup;F&&F!==o&&x.warn(["Trace",w.index,"must match","within bingroup",o+".","Ignoring its bingroup:",F,"setting."].join(" ")),w.bingroup=o,a(w,o,S(w))}}for(A=0;A<h.length;A++){w=h[A];var _=m("bingroup");if(i(w,"2dMap"))for(M=0;M<2;M++){v=t[M];var O=m(v+"bingroup",_?_+"__"+v:null);a(w,O,v)}else a(w,_,S(w))}for(o in l){var z=l[o];for(d=z.traces,b=0;b<r.length;b++){var N=r[b],Y=N.name,J,ae;if(!(Y==="nbins"&&z.sizeFound)){for(A=0;A<d.length;A++){if(w=d[A],v=z.dirs[A],J=N.aStr[v],c(w._input,J).get()!==void 0){z[Y]=m(J),z[Y+"Found"]=!0;break}ae=(w._autoBin||{})[v]||{},ae[Y]&&c(w,J).set(ae[Y])}if(Y==="start"||Y==="end")for(;A<d.length;A++)w=d[A],w["_"+v+"bingroup"]&&(ae=(w._autoBin||{})[v]||{},m(J,ae[Y]));Y==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(w=d[0],z[Y]=m(J))}}}}},6616:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(76308),L=e(31508).handleText,C=e(55592),c=e(40196);V.exports=function(r,t,s,n){function u(S,T){return P.coerce(r,t,c,S,T)}var l=u("x"),f=u("y"),g=u("cumulative.enabled");g&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var h=u("textposition");L(r,t,n,u,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var w=u("orientation",f&&!l?"h":"v"),d=w==="v"?"x":"y",o=w==="v"?"y":"x",v=l&&f?Math.min(P.minRowLength(l)&&P.minRowLength(f)):P.minRowLength(t[d]||[]);if(!v){t.visible=!1;return}t._length=v;var A=x.getComponentMethod("calendars","handleTraceDefaults");A(r,t,["x","y"],n);var b=t[o];b&&u("histfunc"),u("histnorm"),u("autobin"+d),C(r,t,u,s,n),P.coerceSelectionMarkerOpacity(t,u);var M=(t.marker.line||{}).color,m=x.getComponentMethod("errorbars","supplyDefaults");m(r,t,M||i.defaultLine,{axis:"y"}),m(r,t,M||i.defaultLine,{axis:"x",inherit:"y"}),u("zorder")}},84980:function(V){"use strict";V.exports=function(e,x,P,i,L){if(e.x="xVal"in x?x.xVal:x.x,e.y="yVal"in x?x.yVal:x.y,"zLabelVal"in x&&(e.z=x.zLabelVal),x.xa&&(e.xaxis=x.xa),x.ya&&(e.yaxis=x.ya),!(P.cumulative||{}).enabled){var C=Array.isArray(L)?i[0].pts[L[0]][L[1]]:i[L].pts;e.pointNumbers=C,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var c;if(P._indexToPoints){c=[];for(var y=0;y<C.length;y++)c=c.concat(P._indexToPoints[C[y]])}else c=C;e.pointIndices=c}return e}},43339:function(V,U,e){"use strict";var x=e(63400).hoverPoints,P=e(54460).hoverLabelText;V.exports=function(L,C,c,y,r){var t=x(L,C,c,y,r);if(t){L=t[0];var s=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var u=n.orientation==="h"?"y":"x";L[u+"Label"]=P(L[u+"a"],[s.ph0,s.ph1],n[u+"hoverformat"])}return t}}},42600:function(V,U,e){"use strict";V.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(V){"use strict";V.exports={percent:function(U,e){for(var x=U.length,P=100/e,i=0;i<x;i++)U[i]*=P},probability:function(U,e){for(var x=U.length,P=0;P<x;P++)U[P]/=e},density:function(U,e,x,P){var i=U.length;P=P||1;for(var L=0;L<i;L++)U[L]*=x[L]*P},"probability density":function(U,e,x,P){var i=U.length;P&&(e/=P);for(var L=0;L<i;L++)U[L]*=x[L]/e}}},37008:function(V,U,e){"use strict";var x=e(40196),P=e(11120),i=e(83328),L=e(45464),C=e(29736).axisHoverFormat,c=e(21776).Ks,y=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;V.exports=t({x:x.x,y:x.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:x.histnorm,histfunc:x.histfunc,nbinsx:x.nbinsx,xbins:P("x"),nbinsy:x.nbinsy,ybins:P("y"),autobinx:x.autobinx,autobiny:x.autobiny,bingroup:t({},x.bingroup,{}),xbingroup:t({},x.bingroup,{}),ybingroup:t({},x.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:c({},{keys:"z"}),texttemplate:y({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(16964),L=e(10648),C=e(2e3),c=e(67712),y=e(35852).calcAllAutoBins;V.exports=function(u,l){var f=P.getFromId(u,l.xaxis),g=P.getFromId(u,l.yaxis),h=l.xcalendar,w=l.ycalendar,d=function(Xe){return f.r2c(Xe,0,h)},o=function(Xe){return g.r2c(Xe,0,w)},v=function(Xe){return f.c2r(Xe,0,h)},A=function(Xe){return g.c2r(Xe,0,w)},b,M,m,S,T=y(u,l,f,"x"),a=T[0],E=T[1],p=y(u,l,g,"y"),k=p[0],R=p[1],B=l._length;E.length>B&&E.splice(B,E.length-B),R.length>B&&R.splice(B,R.length-B);var F=[],_=[],O=[],z=typeof a.size=="string",N=typeof k.size=="string",Y=[],J=[],ae=z?Y:a,se=N?J:k,ue=0,K=[],j=[],ie=l.histnorm,W=l.histfunc,Q=ie.indexOf("density")!==-1,ee=W==="max"||W==="min",$=ee?null:0,X=i.count,oe=L[ie],te=!1,fe=[],pe=[],Ae="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";Ae&&W!=="count"&&(te=W==="avg",X=i[W]);var be=a.size,Pe=d(a.start),me=d(a.end)+(Pe-P.tickIncrement(Pe,be,!1,h))/1e6;for(b=Pe;b<me;b=P.tickIncrement(b,be,!1,h))_.push($),Y.push(b),te&&O.push(0);Y.push(b);var Ee=_.length,xe=(b-Pe)/Ee,De=v(Pe+xe/2),Ve=k.size,Ze=o(k.start),ke=o(k.end)+(Ze-P.tickIncrement(Ze,Ve,!1,w))/1e6;for(b=Ze;b<ke;b=P.tickIncrement(b,Ve,!1,w)){F.push(_.slice()),J.push(b);var Ye=new Array(Ee);for(M=0;M<Ee;M++)Ye[M]=[];j.push(Ye),te&&K.push(O.slice())}J.push(b);var lt=F.length,yt=(b-Ze)/lt,He=A(Ze+yt/2);Q&&(fe=r(_.length,ae,xe,z),pe=r(F.length,se,yt,N)),!z&&f.type==="date"&&(ae=t(d,ae)),!N&&g.type==="date"&&(se=t(o,se));var Fe=!0,nt=!0,ot=new Array(Ee),ct=new Array(lt),ht=1/0,mt=1/0,tt=1/0,Re=1/0;for(b=0;b<B;b++){var Ge=E[b],Je=R[b];m=x.findBin(Ge,ae),S=x.findBin(Je,se),m>=0&&m<Ee&&S>=0&&S<lt&&(ue+=X(m,b,F[S],Ae,K[S]),j[S][m].push(b),Fe&&(ot[m]===void 0?ot[m]=Ge:ot[m]!==Ge&&(Fe=!1)),nt&&(ct[S]===void 0?ct[S]=Je:ct[S]!==Je&&(nt=!1)),ht=Math.min(ht,Ge-Y[m]),mt=Math.min(mt,Y[m+1]-Ge),tt=Math.min(tt,Je-J[S]),Re=Math.min(Re,J[S+1]-Je))}if(te)for(S=0;S<lt;S++)ue+=C(F[S],K[S]);if(oe)for(S=0;S<lt;S++)oe(F[S],ue,fe,pe[S]);return{x:E,xRanges:s(Y,Fe&&ot,ht,mt,f,h),x0:De,dx:xe,y:R,yRanges:s(J,nt&&ct,tt,Re,g,w),y0:He,dy:yt,z:F,pts:j}};function r(n,u,l,f){var g=new Array(n),h;if(f)for(h=0;h<n;h++)g[h]=1/(u[h+1]-u[h]);else{var w=1/l;for(h=0;h<n;h++)g[h]=w}return g}function t(n,u){return{start:n(u.start),end:n(u.end),size:u.size}}function s(n,u,l,f,g,h){var w,d=n.length-1,o=new Array(d),v=c(l,f,n,g,h);for(w=0;w<d;w++){var A=(u||[])[w];o[w]=A===void 0?[v(n[w]),v(n[w+1],!0)]:[A,A]}return o}},99784:function(V,U,e){"use strict";var x=e(3400),P=e(56408),i=e(82748),L=e(27260),C=e(39096),c=e(37008);V.exports=function(r,t,s,n){function u(l,f){return x.coerce(r,t,c,l,f)}P(r,t,u,n),t.visible!==!1&&(i(r,t,u,n),L(r,t,n,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),C(u,n),u("xhoverformat"),u("yhoverformat"))}},59576:function(V,U,e){"use strict";var x=e(55512),P=e(54460).hoverLabelText;V.exports=function(L,C,c,y,r){var t=x(L,C,c,y,r);if(t){L=t[0];var s=L.index,n=s[0],u=s[1],l=L.cd[0],f=l.trace,g=l.xRanges[u],h=l.yRanges[n];return L.xLabel=P(L.xa,[g[0],g[1]],f.xhoverformat),L.yLabel=P(L.ya,[h[0],h[1]],f.yhoverformat),t}}},21536:function(V,U,e){"use strict";V.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(V,U,e){"use strict";var x=e(24040),P=e(3400);V.exports=function(L,C,c,y){var r=c("x"),t=c("y"),s=P.minRowLength(r),n=P.minRowLength(t);if(!s||!n){C.visible=!1;return}C._length=Math.min(s,n);var u=x.getComponentMethod("calendars","handleTraceDefaults");u(L,C,["x","y"],y);var l=c("z")||c("marker.color");l&&c("histfunc"),c("histnorm"),c("autobinx"),c("autobiny")}},81220:function(V,U,e){"use strict";var x=e(37008),P=e(67104),i=e(49084),L=e(29736).axisHoverFormat,C=e(92880).extendFlat;V.exports=C({x:x.x,y:x.y,z:x.z,marker:x.marker,histnorm:x.histnorm,histfunc:x.histfunc,nbinsx:x.nbinsx,xbins:x.xbins,nbinsy:x.nbinsy,ybins:x.ybins,autobinx:x.autobinx,autobiny:x.autobiny,bingroup:x.bingroup,xbingroup:x.xbingroup,ybingroup:x.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:C({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:x.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(V,U,e){"use strict";var x=e(3400),P=e(56408),i=e(84952),L=e(97680),C=e(39096),c=e(81220);V.exports=function(r,t,s,n){function u(f,g){return x.coerce(r,t,c,f,g)}function l(f){return x.coerce2(r,t,c,f)}P(r,t,u,n),t.visible!==!1&&(i(r,t,u,l),L(r,t,u,n),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&C(u,n))}},65664:function(V,U,e){"use strict";V.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(21776).Gw,i=e(49084),L=e(86968).u,C=e(74996),c=e(424),y=e(40516),r=e(32984),t=e(92880).extendFlat,s=e(98192).c;V.exports={labels:c.labels,parents:c.parents,values:c.values,branchvalues:c.branchvalues,count:c.count,level:c.level,maxdepth:c.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:y.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:c.marker.colors,line:c.marker.line,pattern:s,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:c.leaf,pathbar:y.pathbar,text:C.text,textinfo:c.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:C.hovertext,hoverinfo:c.hoverinfo,hovertemplate:x({},{keys:r.eventDataKeys}),textfont:C.textfont,insidetextfont:C.insidetextfont,outsidetextfont:y.outsidetextfont,textposition:y.textposition,sort:C.sort,root:c.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},59564:function(V,U,e){"use strict";var x=e(7316);U.name="icicle",U.plot=function(P,i,L,C){x.plotBasePlot(U.name,P,i,L,C)},U.clean=function(P,i,L,C){x.cleanBasePlot(U.name,P,i,L,C)}},73876:function(V,U,e){"use strict";var x=e(3776);U.r=function(P,i){return x.calc(P,i)},U.q=function(P){return x._runCrossTraceCalc("icicle",P)}},7045:function(V,U,e){"use strict";var x=e(3400),P=e(97376),i=e(76308),L=e(86968).Q,C=e(31508).handleText,c=e(78048).TEXTPAD,y=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,s=r.handleDefaults;V.exports=function(u,l,f,g){function h(m,S){return x.coerce(u,l,P,m,S)}var w=h("labels"),d=h("parents");if(!w||!w.length||!d||!d.length){l.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),l.texttemplate||h("textinfo",x.isArrayOrTypedArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var A=h("pathbar.visible"),b="auto";C(u,l,g,h,b,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),y(u,l,g,h);var M=l._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;M&&s(u,l,g,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",M?1:.7),l._hovered={marker:{line:{width:2,color:i.contrast(g.paper_bgcolor)}}},A&&(h("pathbar.thickness",l.pathbar.textfont.size+2*c),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(l,g,h),l._length=null}},67880:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(72736),C=e(25132),c=e(47192).styleOne,y=e(32984),r=e(78176),t=e(45716),s=e(96488).formatSliceLabel,n=!1;V.exports=function(l,f,g,h,w){var d=w.width,o=w.height,v=w.viewX,A=w.viewY,b=w.pathSlice,M=w.toMoveInsideSlice,m=w.strTransform,S=w.hasTransition,T=w.handleSlicesExit,a=w.makeUpdateSliceInterpolator,E=w.makeUpdateTextInterpolator,p=w.prevEntry,k={},R=l._context.staticPlot,B=l._fullLayout,F=f[0],_=F.trace,O=_.textposition.indexOf("left")!==-1,z=_.textposition.indexOf("right")!==-1,N=_.textposition.indexOf("bottom")!==-1,Y=C(g,[d,o],{flipX:_.tiling.flip.indexOf("x")>-1,flipY:_.tiling.flip.indexOf("y")>-1,orientation:_.tiling.orientation,pad:{inner:_.tiling.pad},maxDepth:_._maxDepth}),J=Y.descendants(),ae=1/0,se=-1/0;J.forEach(function(W){var Q=W.depth;Q>=_._maxDepth?(W.x0=W.x1=(W.x0+W.x1)/2,W.y0=W.y1=(W.y0+W.y1)/2):(ae=Math.min(ae,Q),se=Math.max(se,Q))}),h=h.data(J,r.getPtId),_._maxVisibleLayers=isFinite(se)?se-ae+1:0,h.enter().append("g").classed("slice",!0),T(h,n,k,[d,o],b),h.order();var ue=null;if(S&&p){var K=r.getPtId(p);h.each(function(W){ue===null&&r.getPtId(W)===K&&(ue={x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1})})}var j=function(){return ue||{x0:0,x1:d,y0:0,y1:o}},ie=h;return S&&(ie=ie.transition().each("end",function(){var W=x.select(this);r.setSliceCursor(W,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ie.each(function(W){W._x0=v(W.x0),W._x1=v(W.x1),W._y0=A(W.y0),W._y1=A(W.y1),W._hoverX=v(W.x1-_.tiling.pad),W._hoverY=A(N?W.y1-_.tiling.pad/2:W.y0+_.tiling.pad/2);var Q=x.select(this),ee=P.ensureSingle(Q,"path","surface",function(te){te.style("pointer-events",R?"none":"all")});S?ee.transition().attrTween("d",function(te){var fe=a(te,n,j(),[d,o],{orientation:_.tiling.orientation,flipX:_.tiling.flip.indexOf("x")>-1,flipY:_.tiling.flip.indexOf("y")>-1});return function(pe){return b(fe(pe))}}):ee.attr("d",b),Q.call(t,g,l,f,{styleOne:c,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{isTransitioning:l._transitioning}),ee.call(c,W,_,l,{hovered:!1}),W.x0===W.x1||W.y0===W.y1?W._text="":W._text=s(W,g,_,f,B)||"";var $=P.ensureSingle(Q,"g","slicetext"),X=P.ensureSingle($,"text","",function(te){te.attr("data-notex",1)}),oe=P.ensureUniformFontSize(l,r.determineTextFont(_,W,B.font));X.text(W._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":O?"start":"middle").call(i.font,oe).call(L.convertToTspans,l),W.textBB=i.bBox(X.node()),W.transform=M(W,{fontSize:oe.size}),W.transform.fontSize=oe.size,S?X.transition().attrTween("transform",function(te){var fe=E(te,n,j(),[d,o]);return function(pe){return m(fe(pe))}}):X.attr("transform",m(W))}),ue}},29044:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(V){"use strict";V.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(V,U,e){"use strict";var x=e(3400),P=e(90676);V.exports=function(L,C){function c(y,r){return x.coerce(L,C,P,y,r)}c("iciclecolorway",C.colorway),c("extendiciclecolors")}},25132:function(V,U,e){"use strict";var x=e(74148),P=e(83024);V.exports=function(L,C,c){var y=c.flipX,r=c.flipY,t=c.orientation==="h",s=c.maxDepth,n=C[0],u=C[1];s&&(n=(L.height+1)*C[0]/Math.min(L.height+1,s),u=(L.height+1)*C[1]/Math.min(L.height+1,s));var l=x.partition().padding(c.pad.inner).size(t?[C[1],n]:[C[0],u])(L);return(t||y||r)&&P(l,C,{swapXY:t,flipX:y,flipY:r}),l}},38364:function(V,U,e){"use strict";var x=e(95808),P=e(67880);V.exports=function(L,C,c,y){return x(L,C,c,y,{type:"icicle",drawDescendants:P})}},47192:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(3400),L=e(82744).resizeText,C=e(60404);function c(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(s){var n=x.select(this),u=s[0],l=u.trace;n.style("opacity",l.opacity),n.selectAll("path.surface").each(function(f){x.select(this).call(y,f,l,r)})})}function y(r,t,s,n){var u=t.data.data,l=!t.children,f=u.i,g=i.castOption(s,f,"marker.line.color")||P.defaultLine,h=i.castOption(s,f,"marker.line.width")||0;r.call(C,t,s,n).style("stroke-width",h).call(P.stroke,g).style("opacity",l?s.leaf.opacity:null)}V.exports={style:c,styleOne:y}},95188:function(V,U,e){"use strict";for(var x=e(45464),P=e(52904).zorder,i=e(21776).Ks,L=e(92880).extendFlat,C=e(47797).colormodel,c=["rgb","rgba","rgba256","hsl","hsla"],y=[],r=[],t=0;t<c.length;t++){var s=C[c[t]];y.push("For the `"+c[t]+"` colormodel, it is ["+(s.zminDflt||s.min).join(", ")+"]."),r.push("For the `"+c[t]+"` colormodel, it is ["+(s.zmaxDflt||s.max).join(", ")+"].")}V.exports=L({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:c,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:L({},x.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:i({},{keys:["z","color","colormodel"]}),zorder:P,transforms:void 0})},93336:function(V,U,e){"use strict";var x=e(3400),P=e(47797),i=e(38248),L=e(54460),C=e(3400).maxRowLength,c=e(18712).i;V.exports=function(n,u){var l,f;if(u._hasZ)l=u.z.length,f=C(u.z);else if(u._hasSource){var g=c(u.source);l=g.height,f=g.width}var h=L.getFromId(n,u.xaxis||"x"),w=L.getFromId(n,u.yaxis||"y"),d=h.d2c(u.x0)-u.dx/2,o=w.d2c(u.y0)-u.dy/2,v,A=[d,d+f*u.dx],b=[o,o+l*u.dy];if(h&&h.type==="log")for(v=0;v<f;v++)A.push(d+v*u.dx);if(w&&w.type==="log")for(v=0;v<l;v++)b.push(o+v*u.dy);u._extremes[h._id]=L.findExtremes(h,A),u._extremes[w._id]=L.findExtremes(w,b),u._scaler=t(u);var M={x0:d,y0:o,z:u.z,w:f,h:l};return[M]};function y(s,n,u,l){return function(f){return x.constrain((f-s)*n,u,l)}}function r(s,n){return function(u){return x.constrain(u,s,n)}}function t(s){var n=P.colormodel[s.colormodel],u=n.colormodel||s.colormodel,l=u.length;s._sArray=[];for(var f=0;f<l;f++)n.min[f]!==s.zmin[f]||n.max[f]!==s.zmax[f]?s._sArray.push(y(s.zmin[f],(n.max[f]-n.min[f])/(s.zmax[f]-s.zmin[f]),n.min[f],n.max[f])):s._sArray.push(r(n.min[f],n.max[f]));return function(g){for(var h=g.slice(0,l),w=0;w<l;w++){var d=h[w];if(!i(d))return!1;h[w]=s._sArray[w](d)}return h}}},47797:function(V){"use strict";V.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var e=U.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var e=U.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%",""]}}}},13188:function(V,U,e){"use strict";var x=e(3400),P=e(95188),i=e(47797),L=e(81792).IMAGE_URL_PREFIX;V.exports=function(c,y){function r(n,u){return x.coerce(c,y,P,n,u)}r("source"),y.source&&!y.source.match(L)&&delete y.source,y._hasSource=!!y.source;var t=r("z");if(y._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!y._hasZ&&!y._hasSource){y.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var s;y._hasZ?(r("colormodel","rgb"),s=i.colormodel[y.colormodel],r("zmin",s.zminDflt||s.min),r("zmax",s.zmaxDflt||s.max)):y._hasSource&&(y.colormodel="rgba256",s=i.colormodel[y.colormodel],y.zmin=s.zminDflt,y.zmax=s.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),y._length=null,r("zorder")}},79972:function(V){"use strict";V.exports=function(e,x){return"xVal"in x&&(e.x=x.xVal),"yVal"in x&&(e.y=x.yVal),x.xa&&(e.xaxis=x.xa),x.ya&&(e.yaxis=x.ya),e.color=x.color,e.colormodel=x.trace.colormodel,e.z||(e.z=x.color),e}},18712:function(V,U,e){"use strict";var x=e(19480),P=e(81792).IMAGE_URL_PREFIX,i=e(33576).Buffer;U.i=function(L){var C=L.replace(P,""),c=new i(C,"base64");return x(c)}},24892:function(V,U,e){"use strict";var x=e(93024),P=e(3400),i=P.isArrayOrTypedArray,L=e(47797);V.exports=function(c,y,r){var t=c.cd[0],s=t.trace,n=c.xa,u=c.ya;if(!(x.inbox(y-t.x0,y-(t.x0+t.w*s.dx),0)>0||x.inbox(r-t.y0,r-(t.y0+t.h*s.dy),0)>0)){var l=Math.floor((y-t.x0)/s.dx),f=Math.floor(Math.abs(r-t.y0)/s.dy),g;if(s._hasZ?g=t.z[f][l]:s._hasSource&&(g=s._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,f,1,1).data),!!g){var h=t.hi||s.hoverinfo,w;if(h){var d=h.split("+");d.indexOf("all")!==-1&&(d=["color"]),d.indexOf("color")!==-1&&(w=!0)}var o=L.colormodel[s.colormodel],v=o.colormodel||s.colormodel,A=v.length,b=s._scaler(g),M=o.suffix,m=[];(s.hovertemplate||w)&&(m.push("["+[b[0]+M[0],b[1]+M[1],b[2]+M[2]].join(", ")),A===4&&m.push(", "+b[3]+M[3]),m.push("]"),m=m.join(""),c.extraText=v.toUpperCase()+": "+m);var S;i(s.hovertext)&&i(s.hovertext[f])?S=s.hovertext[f][l]:i(s.text)&&i(s.text[f])&&(S=s.text[f][l]);var T=u.c2p(t.y0+(f+.5)*s.dy),a=t.x0+(l+.5)*s.dx,E=t.y0+(f+.5)*s.dy,p="["+g.slice(0,s.colormodel.length).join(", ")+"]";return[P.extendFlat(c,{index:[f,l],x0:n.c2p(t.x0+l*s.dx),x1:n.c2p(t.x0+(l+1)*s.dx),y0:T,y1:T,color:b,xVal:a,xLabelVal:a,yVal:E,yLabelVal:E,zLabelVal:p,text:S,hovertemplateLabels:{zLabel:p,colorLabel:m,"color[0]Label":b[0]+M[0],"color[1]Label":b[1]+M[1],"color[2]Label":b[2]+M[2],"color[3]Label":b[3]+M[3]}})]}}}},48928:function(V,U,e){"use strict";V.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=P.strTranslate,L=e(9616),C=e(47797),c=e(9188),y=e(2264).STYLE;V.exports=function(t,s,n,u){var l=s.xaxis,f=s.yaxis,g=!t._context._exportedPlot&&c();P.makeTraceGroups(u,n,"im").each(function(h){var w=x.select(this),d=h[0],o=d.trace,v=(o.zsmooth==="fast"||o.zsmooth===!1&&g)&&!o._hasZ&&o._hasSource&&l.type==="linear"&&f.type==="linear";o._realImage=v;var A=d.z,b=d.x0,M=d.y0,m=d.w,S=d.h,T=o.dx,a=o.dy,E,p,k,R,B,F;for(F=0;E===void 0&&F<m;)E=l.c2p(b+F*T),F++;for(F=m;p===void 0&&F>0;)p=l.c2p(b+F*T),F--;for(F=0;R===void 0&&F<S;)R=f.c2p(M+F*a),F++;for(F=S;B===void 0&&F>0;)B=f.c2p(M+F*a),F--;if(p<E&&(k=p,p=E,E=k),B<R&&(k=R,R=B,B=k),!v){var _=.5;E=Math.max(-_*l._length,E),p=Math.min((1+_)*l._length,p),R=Math.max(-_*f._length,R),B=Math.min((1+_)*f._length,B)}var O=Math.round(p-E),z=Math.round(B-R),N=O<=0||z<=0;if(N){var Y=w.selectAll("image").data([]);Y.exit().remove();return}function J($){var X=document.createElement("canvas");X.width=O,X.height=z;var oe=X.getContext("2d",{willReadFrequently:!0}),te=function(Ze){return P.constrain(Math.round(l.c2p(b+Ze*T)-E),0,O)},fe=function(Ze){return P.constrain(Math.round(f.c2p(M+Ze*a)-R),0,z)},pe=C.colormodel[o.colormodel],Ae=pe.colormodel||o.colormodel,be=pe.fmt,Pe;for(F=0;F<d.w;F++){var me=te(F),Ee=te(F+1);if(!(Ee===me||isNaN(Ee)||isNaN(me)))for(var xe=0;xe<d.h;xe++){var De=fe(xe),Ve=fe(xe+1);Ve===De||isNaN(Ve)||isNaN(De)||!$(F,xe)||(Pe=o._scaler($(F,xe)),Pe?oe.fillStyle=Ae+"("+be(Pe).join(",")+")":oe.fillStyle="rgba(0,0,0,0)",oe.fillRect(me,De,Ee-me,Ve-De))}}return X}var ae=w.selectAll("image").data([h]);ae.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),ae.exit().remove();var se=o.zsmooth===!1?y:"";if(v){var ue=P.simpleMap(l.range,l.r2l),K=P.simpleMap(f.range,f.r2l),j=ue[1]<ue[0],ie=K[1]>K[0];if(j||ie){var W=E+O/2,Q=R+z/2;se+="transform:"+i(W+"px",Q+"px")+"scale("+(j?-1:1)+","+(ie?-1:1)+")"+i(-W+"px",-Q+"px")+";"}}ae.attr("style",se);var ee=new Promise(function($){if(o._hasZ)$();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===m&&o._canvas.el.height===S&&o._canvas.source===o.source)$();else{var X=document.createElement("canvas");X.width=m,X.height=S;var oe=X.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var te=o._image;te.onload=function(){oe.drawImage(te,0,0),o._canvas={el:X,source:o.source},$()},te.setAttribute("src",o.source)}}).then(function(){var $,X;if(o._hasZ)X=J(function(fe,pe){var Ae=A[pe][fe];return P.isTypedArray(Ae)&&(Ae=Array.from(Ae)),Ae}),$=X.toDataURL("image/png");else if(o._hasSource)if(v)$=o.source;else{var oe=o._canvas.el.getContext("2d",{willReadFrequently:!0}),te=oe.getImageData(0,0,m,S).data;X=J(function(fe,pe){var Ae=4*(pe*m+fe);return[te[Ae],te[Ae+1],te[Ae+2],te[Ae+3]]}),$=X.toDataURL("image/png")}ae.attr({"xlink:href":$,height:z,width:O,x:E,y:R})});t._promises.push(ee)})}},28576:function(V,U,e){"use strict";var x=e(33428);V.exports=function(i){x.select(i).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},89864:function(V,U,e){"use strict";var x=e(92880).extendFlat,P=e(92880).extendDeep,i=e(67824).overrideAll,L=e(25376),C=e(22548),c=e(86968).u,y=e(94724),r=e(31780).templatedArray,t=e(48164),s=e(29736).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:C.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},f=r("step",P({},u,{range:l}));V.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:c({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:x({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:x({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:x({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:l,visible:x({},y.visible,{dflt:!0}),tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:x({},y.ticks,{dflt:"outside"}),ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:L({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,editType:"plot"},"plot"),steps:f,threshold:{line:{color:x({},u.line.color,{}),width:x({},u.line.width,{dflt:1}),editType:"plot"},thickness:x({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(V,U,e){"use strict";var x=e(7316);U.name="indicator",U.plot=function(P,i,L,C){x.plotBasePlot(U.name,P,i,L,C)},U.clean=function(P,i,L,C){x.cleanBasePlot(U.name,P,i,L,C)}},79136:function(V){"use strict";function U(e,x){var P=[],i=x.value;typeof x._lastValue!="number"&&(x._lastValue=x.value);var L=x._lastValue,C=L;return x._hasDelta&&typeof x.delta.reference=="number"&&(C=x.delta.reference),P[0]={y:i,lastY:L,delta:i-C,relativeDelta:(i-C)/C},P}V.exports={calc:U}},12096:function(V){"use strict";V.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(V,U,e){"use strict";var x=e(3400),P=e(89864),i=e(86968).Q,L=e(31780),C=e(51272),c=e(12096),y=e(26332),r=e(25404),t=e(95936),s=e(42568);function n(l,f,g,h){function w(B,F){return x.coerce(l,f,P,B,F)}i(f,h,w),w("mode"),f._hasNumber=f.mode.indexOf("number")!==-1,f._hasDelta=f.mode.indexOf("delta")!==-1,f._hasGauge=f.mode.indexOf("gauge")!==-1;var d=w("value");f._range=[0,typeof d=="number"?1.5*d:1];var o=new Array(2),v;f._hasNumber&&(w("number.valueformat"),w("number.font.color",h.font.color),w("number.font.family",h.font.family),w("number.font.size"),f.number.font.size===void 0&&(f.number.font.size=c.defaultNumberFontSize,o[0]=!0),w("number.prefix"),w("number.suffix"),v=f.number.font.size);var A;f._hasDelta&&(w("delta.font.color",h.font.color),w("delta.font.family",h.font.family),w("delta.font.size"),f.delta.font.size===void 0&&(f.delta.font.size=(f._hasNumber?.5:1)*(v||c.defaultNumberFontSize),o[1]=!0),w("delta.reference",f.value),w("delta.relative"),w("delta.valueformat",f.delta.relative?"2%":""),w("delta.increasing.symbol"),w("delta.increasing.color"),w("delta.decreasing.symbol"),w("delta.decreasing.color"),w("delta.position"),w("delta.prefix"),w("delta.suffix"),A=f.delta.font.size),f._scaleNumbers=(!f._hasNumber||o[0])&&(!f._hasDelta||o[1])||!1,w("title.font.color",h.font.color),w("title.font.family",h.font.family),w("title.font.size",.25*(v||A||c.defaultNumberFontSize)),w("title.text");var b,M,m,S;function T(B,F){return x.coerce(b,M,P.gauge,B,F)}function a(B,F){return x.coerce(m,S,P.gauge.axis,B,F)}if(f._hasGauge){b=l.gauge,b||(b={}),M=L.newContainer(f,"gauge"),T("shape");var E=f._isBullet=f.gauge.shape==="bullet";E||w("title.align","center");var p=f._isAngular=f.gauge.shape==="angular";p||w("align","center"),T("bgcolor",h.paper_bgcolor),T("borderwidth"),T("bordercolor"),T("bar.color"),T("bar.line.color"),T("bar.line.width");var k=c.valueThickness*(f.gauge.shape==="bullet"?.5:1);T("bar.thickness",k),C(b,M,{name:"steps",handleItemDefaults:u}),T("threshold.value"),T("threshold.thickness"),T("threshold.line.width"),T("threshold.line.color"),m={},b&&(m=b.axis||{}),S=L.newContainer(M,"axis"),a("visible"),f._range=a("range",f._range);var R={noAutotickangles:!0,outerTicks:!0};y(m,S,a,"linear"),s(m,S,a,"linear",R),t(m,S,a,"linear",R),r(m,S,a,R)}else w("title.align","center"),w("align","center"),f._isAngular=f._isBullet=!1;f._length=null}function u(l,f){function g(h,w){return x.coerce(l,f,P.gauge.steps,h,w)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}V.exports={supplyDefaults:n}},43480:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(V,U,e){"use strict";var x=e(33428),P=e(67756).qy,i=e(67756).Gz,L=e(3400),C=L.strScale,c=L.strTranslate,y=L.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),s=e(12096),n=e(72736),u=e(54460),l=e(28336),f=e(37668),g=e(94724),h=e(76308),w={left:"start",center:"middle",right:"end"},d={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function v(R){return R&&R.duration>0}V.exports=function(B,F,_,O){var z=B._fullLayout,N;v(_)&&O&&(N=O()),L.makeTraceGroups(z._indicatorlayer,F,"trace").each(function(Y){var J=Y[0],ae=J.trace,se=x.select(this),ue=ae._hasGauge,K=ae._isAngular,j=ae._isBullet,ie=ae.domain,W={w:z._size.w*(ie.x[1]-ie.x[0]),h:z._size.h*(ie.y[1]-ie.y[0]),l:z._size.l+z._size.w*ie.x[0],r:z._size.r+z._size.w*(1-ie.x[1]),t:z._size.t+z._size.h*(1-ie.y[1]),b:z._size.b+z._size.h*ie.y[0]},Q=W.l+W.w/2,ee=W.t+W.h/2,$=Math.min(W.w/2,W.h),X=s.innerRadius*$,oe,te,fe,pe=ae.align||"center";if(te=ee,!ue)oe=W.l+d[pe]*W.w,fe=function(ke){return a(ke,W.w,W.h)};else if(K&&(oe=Q,te=ee+$/2,fe=function(ke){return E(ke,.9*X)}),j){var Ae=s.bulletPadding,be=1-s.bulletNumberDomainSize+Ae;oe=W.l+(be+(1-be)*d[pe])*W.w,fe=function(ke){return a(ke,(s.bulletNumberDomainSize-Ae)*W.w,W.h)}}M(B,se,Y,{numbersX:oe,numbersY:te,numbersScaler:fe,transitionOpts:_,onComplete:N});var Pe,me;ue&&(Pe={range:ae.gauge.axis.range,color:ae.gauge.bgcolor,line:{color:ae.gauge.bordercolor,width:0},thickness:1},me={range:ae.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ae.gauge.bordercolor,width:ae.gauge.borderwidth},thickness:1});var Ee=se.selectAll("g.angular").data(K?Y:[]);Ee.exit().remove();var xe=se.selectAll("g.angularaxis").data(K?Y:[]);xe.exit().remove(),K&&b(B,se,Y,{radius:$,innerRadius:X,gauge:Ee,layer:xe,size:W,gaugeBg:Pe,gaugeOutline:me,transitionOpts:_,onComplete:N});var De=se.selectAll("g.bullet").data(j?Y:[]);De.exit().remove();var Ve=se.selectAll("g.bulletaxis").data(j?Y:[]);Ve.exit().remove(),j&&A(B,se,Y,{gauge:De,layer:Ve,size:W,gaugeBg:Pe,gaugeOutline:me,transitionOpts:_,onComplete:N});var Ze=se.selectAll("text.title").data(Y);Ze.exit().remove(),Ze.enter().append("text").classed("title",!0),Ze.attr("text-anchor",function(){return j?w.right:w[ae.title.align]}).text(ae.title.text).call(t.font,ae.title.font).call(n.convertToTspans,B),Ze.attr("transform",function(){var ke=W.l+W.w*d[ae.title.align],Ye,lt=s.titlePadding,yt=t.bBox(Ze.node());if(ue){if(K)if(ae.gauge.axis.visible){var He=t.bBox(xe.node());Ye=He.top-lt-yt.bottom}else Ye=W.t+W.h/2-$/2-yt.bottom-lt;j&&(Ye=te-(yt.top+yt.bottom)/2,ke=W.l-s.bulletPadding*W.w)}else Ye=ae._numbersTop-lt-yt.bottom;return c(ke,Ye)})})};function A(R,B,F,_){var O=F[0].trace,z=_.gauge,N=_.layer,Y=_.gaugeBg,J=_.gaugeOutline,ae=_.size,se=O.domain,ue=_.transitionOpts,K=_.onComplete,j,ie,W,Q,ee;z.enter().append("g").classed("bullet",!0),z.attr("transform",c(ae.l,ae.t)),N.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),N.selectAll("g.xbulletaxistick,path,text").remove();var $=ae.h,X=O.gauge.bar.thickness*$,oe=se.x[0],te=se.x[0]+(se.x[1]-se.x[0])*(O._hasNumber||O._hasDelta?1-s.bulletNumberDomainSize:1);j=T(R,O.gauge.axis),j._id="xbulletaxis",j.domain=[oe,te],j.setScale(),ie=u.calcTicks(j),W=u.makeTransTickFn(j),Q=u.getTickSigns(j)[2],ee=ae.t+ae.h,j.visible&&(u.drawTicks(R,j,{vals:j.ticks==="inside"?u.clipEnds(j,ie):ie,layer:N,path:u.makeTickPath(j,ee,Q),transFn:W}),u.drawLabels(R,j,{vals:ie,layer:N,transFn:W,labelFns:u.makeLabelFns(j,ee)}));function fe(xe){xe.attr("width",function(De){return Math.max(0,j.c2p(De.range[1])-j.c2p(De.range[0]))}).attr("x",function(De){return j.c2p(De.range[0])}).attr("y",function(De){return .5*(1-De.thickness)*$}).attr("height",function(De){return De.thickness*$})}var pe=[Y].concat(O.gauge.steps),Ae=z.selectAll("g.bg-bullet").data(pe);Ae.enter().append("g").classed("bg-bullet",!0).append("rect"),Ae.select("rect").call(fe).call(m),Ae.exit().remove();var be=z.selectAll("g.value-bullet").data([O.gauge.bar]);be.enter().append("g").classed("value-bullet",!0).append("rect"),be.select("rect").attr("height",X).attr("y",($-X)/2).call(m),v(ue)?be.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()}).attr("width",Math.max(0,j.c2p(Math.min(O.gauge.axis.range[1],F[0].y)))):be.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,j.c2p(Math.min(O.gauge.axis.range[1],F[0].y))):0),be.exit().remove();var Pe=F.filter(function(){return O.gauge.threshold.value||O.gauge.threshold.value===0}),me=z.selectAll("g.threshold-bullet").data(Pe);me.enter().append("g").classed("threshold-bullet",!0).append("line"),me.select("line").attr("x1",j.c2p(O.gauge.threshold.value)).attr("x2",j.c2p(O.gauge.threshold.value)).attr("y1",(1-O.gauge.threshold.thickness)/2*$).attr("y2",(1-(1-O.gauge.threshold.thickness)/2)*$).call(h.stroke,O.gauge.threshold.line.color).style("stroke-width",O.gauge.threshold.line.width),me.exit().remove();var Ee=z.selectAll("g.gauge-outline").data([J]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(fe).call(m),Ee.exit().remove()}function b(R,B,F,_){var O=F[0].trace,z=_.size,N=_.radius,Y=_.innerRadius,J=_.gaugeBg,ae=_.gaugeOutline,se=[z.l+z.w/2,z.t+z.h/2+N/2],ue=_.gauge,K=_.layer,j=_.transitionOpts,ie=_.onComplete,W=Math.PI/2;function Q(Fe){var nt=O.gauge.axis.range[0],ot=O.gauge.axis.range[1],ct=(Fe-nt)/(ot-nt)*Math.PI-W;return ct<-W?-W:ct>W?W:ct}function ee(Fe){return x.svg.arc().innerRadius((Y+N)/2-Fe/2*(N-Y)).outerRadius((Y+N)/2+Fe/2*(N-Y)).startAngle(-W)}function $(Fe){Fe.attr("d",function(nt){return ee(nt.thickness).startAngle(Q(nt.range[0])).endAngle(Q(nt.range[1]))()})}var X,oe,te,fe;ue.enter().append("g").classed("angular",!0),ue.attr("transform",c(se[0],se[1])),K.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),K.selectAll("g.xangularaxistick,path,text").remove(),X=T(R,O.gauge.axis),X.type="linear",X.range=O.gauge.axis.range,X._id="xangularaxis",X.ticklabeloverflow="allow",X.setScale();var pe=function(Fe){return(X.range[0]-Fe.x)/(X.range[1]-X.range[0])*Math.PI+Math.PI},Ae={},be=u.makeLabelFns(X,0),Pe=be.labelStandoff;Ae.xFn=function(Fe){var nt=pe(Fe);return Math.cos(nt)*Pe},Ae.yFn=function(Fe){var nt=pe(Fe),ot=Math.sin(nt)>0?.2:1;return-Math.sin(nt)*(Pe+Fe.fontSize*ot)+Math.abs(Math.cos(nt))*(Fe.fontSize*r)},Ae.anchorFn=function(Fe){var nt=pe(Fe),ot=Math.cos(nt);return Math.abs(ot)<.1?"middle":ot>0?"start":"end"},Ae.heightFn=function(Fe,nt,ot){var ct=pe(Fe);return-.5*(1+Math.sin(ct))*ot};var me=function(Fe){return c(se[0]+N*Math.cos(Fe),se[1]-N*Math.sin(Fe))};te=function(Fe){return me(pe(Fe))};var Ee=function(Fe){var nt=pe(Fe);return me(nt)+"rotate("+-y(nt)+")"};if(oe=u.calcTicks(X),fe=u.getTickSigns(X)[2],X.visible){fe=X.ticks==="inside"?-1:1;var xe=(X.linewidth||1)/2;u.drawTicks(R,X,{vals:oe,layer:K,path:"M"+fe*xe+",0h"+fe*X.ticklen,transFn:Ee}),u.drawLabels(R,X,{vals:oe,layer:K,transFn:te,labelFns:Ae})}var De=[J].concat(O.gauge.steps),Ve=ue.selectAll("g.bg-arc").data(De);Ve.enter().append("g").classed("bg-arc",!0).append("path"),Ve.select("path").call($).call(m),Ve.exit().remove();var Ze=ee(O.gauge.bar.thickness),ke=ue.selectAll("g.value-arc").data([O.gauge.bar]);ke.enter().append("g").classed("value-arc",!0).append("path");var Ye=ke.select("path");v(j)?(Ye.transition().duration(j.duration).ease(j.easing).each("end",function(){ie&&ie()}).each("interrupt",function(){ie&&ie()}).attrTween("d",S(Ze,Q(F[0].lastY),Q(F[0].y))),O._lastValue=F[0].y):Ye.attr("d",typeof F[0].y=="number"?Ze.endAngle(Q(F[0].y)):"M0,0Z"),Ye.call(m),ke.exit().remove(),De=[];var lt=O.gauge.threshold.value;(lt||lt===0)&&De.push({range:[lt,lt],color:O.gauge.threshold.color,line:{color:O.gauge.threshold.line.color,width:O.gauge.threshold.line.width},thickness:O.gauge.threshold.thickness});var yt=ue.selectAll("g.threshold-arc").data(De);yt.enter().append("g").classed("threshold-arc",!0).append("path"),yt.select("path").call($).call(m),yt.exit().remove();var He=ue.selectAll("g.gauge-outline").data([ae]);He.enter().append("g").classed("gauge-outline",!0).append("path"),He.select("path").call($).call(m),He.exit().remove()}function M(R,B,F,_){var O=F[0].trace,z=_.numbersX,N=_.numbersY,Y=O.align||"center",J=w[Y],ae=_.transitionOpts,se=_.onComplete,ue=L.ensureSingle(B,"g","numbers"),K,j,ie,W=[];O._hasNumber&&W.push("number"),O._hasDelta&&(W.push("delta"),O.delta.position==="left"&&W.reverse());var Q=ue.selectAll("text").data(W);Q.enter().append("text"),Q.attr("text-anchor",function(){return J}).attr("class",function(me){return me}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Q.exit().remove();function ee(me,Ee,xe,De){if(me.match("s")&&xe>=0!=De>=0&&!Ee(xe).slice(-1).match(o)&&!Ee(De).slice(-1).match(o)){var Ve=me.slice().replace("s","f").replace(/\d+/,function(ke){return parseInt(ke)-1}),Ze=T(R,{tickformat:Ve});return function(ke){return Math.abs(ke)<1?u.tickText(Ze,ke).text:Ee(ke)}}else return Ee}function $(){var me=T(R,{tickformat:O.number.valueformat},O._range);me.setScale(),u.prepTicks(me);var Ee=function(ke){return u.tickText(me,ke).text},xe=O.number.suffix,De=O.number.prefix,Ve=ue.select("text.number");function Ze(){var ke=typeof F[0].y=="number"?De+Ee(F[0].y)+xe:"-";Ve.text(ke).call(t.font,O.number.font).call(n.convertToTspans,R)}return v(ae)?Ve.transition().duration(ae.duration).ease(ae.easing).each("end",function(){Ze(),se&&se()}).each("interrupt",function(){Ze(),se&&se()}).attrTween("text",function(){var ke=x.select(this),Ye=i(F[0].lastY,F[0].y);O._lastValue=F[0].y;var lt=ee(O.number.valueformat,Ee,F[0].lastY,F[0].y);return function(yt){ke.text(De+lt(Ye(yt))+xe)}}):Ze(),K=p(De+Ee(F[0].y)+xe,O.number.font,J,R),Ve}function X(){var me=T(R,{tickformat:O.delta.valueformat},O._range);me.setScale(),u.prepTicks(me);var Ee=function(yt){return u.tickText(me,yt).text},xe=O.delta.suffix,De=O.delta.prefix,Ve=function(yt){var He=O.delta.relative?yt.relativeDelta:yt.delta;return He},Ze=function(yt,He){return yt===0||typeof yt!="number"||isNaN(yt)?"-":(yt>0?O.delta.increasing.symbol:O.delta.decreasing.symbol)+De+He(yt)+xe},ke=function(yt){return yt.delta>=0?O.delta.increasing.color:O.delta.decreasing.color};O._deltaLastValue===void 0&&(O._deltaLastValue=Ve(F[0]));var Ye=ue.select("text.delta");Ye.call(t.font,O.delta.font).call(h.fill,ke({delta:O._deltaLastValue}));function lt(){Ye.text(Ze(Ve(F[0]),Ee)).call(h.fill,ke(F[0])).call(n.convertToTspans,R)}return v(ae)?Ye.transition().duration(ae.duration).ease(ae.easing).tween("text",function(){var yt=x.select(this),He=Ve(F[0]),Fe=O._deltaLastValue,nt=ee(O.delta.valueformat,Ee,Fe,He),ot=i(Fe,He);return O._deltaLastValue=He,function(ct){yt.text(Ze(ot(ct),nt)),yt.call(h.fill,ke({delta:ot(ct)}))}}).each("end",function(){lt(),se&&se()}).each("interrupt",function(){lt(),se&&se()}):lt(),j=p(Ze(Ve(F[0]),Ee),O.delta.font,J,R),Ye}var oe=O.mode+O.align,te;if(O._hasDelta&&(te=X(),oe+=O.delta.position+O.delta.font.size+O.delta.font.family+O.delta.valueformat,oe+=O.delta.increasing.symbol+O.delta.decreasing.symbol,ie=j),O._hasNumber&&($(),oe+=O.number.font.size+O.number.font.family+O.number.valueformat+O.number.suffix+O.number.prefix,ie=K),O._hasDelta&&O._hasNumber){var fe=[(K.left+K.right)/2,(K.top+K.bottom)/2],pe=[(j.left+j.right)/2,(j.top+j.bottom)/2],Ae,be,Pe=.75*O.delta.font.size;O.delta.position==="left"&&(Ae=k(O,"deltaPos",0,-1*(K.width*d[O.align]+j.width*(1-d[O.align])+Pe),oe,Math.min),be=fe[1]-pe[1],ie={width:K.width+j.width+Pe,height:Math.max(K.height,j.height),left:j.left+Ae,right:K.right,top:Math.min(K.top,j.top+be),bottom:Math.max(K.bottom,j.bottom+be)}),O.delta.position==="right"&&(Ae=k(O,"deltaPos",0,K.width*(1-d[O.align])+j.width*d[O.align]+Pe,oe,Math.max),be=fe[1]-pe[1],ie={width:K.width+j.width+Pe,height:Math.max(K.height,j.height),left:K.left,right:j.right+Ae,top:Math.min(K.top,j.top+be),bottom:Math.max(K.bottom,j.bottom+be)}),O.delta.position==="bottom"&&(Ae=null,be=j.height,ie={width:Math.max(K.width,j.width),height:K.height+j.height,left:Math.min(K.left,j.left),right:Math.max(K.right,j.right),top:K.bottom-K.height,bottom:K.bottom+j.height}),O.delta.position==="top"&&(Ae=null,be=K.top,ie={width:Math.max(K.width,j.width),height:K.height+j.height,left:Math.min(K.left,j.left),right:Math.max(K.right,j.right),top:K.bottom-K.height-j.height,bottom:K.bottom}),te.attr({dx:Ae,dy:be})}(O._hasNumber||O._hasDelta)&&ue.attr("transform",function(){var me=_.numbersScaler(ie);oe+=me[2];var Ee=k(O,"numbersScale",1,me[0],oe,Math.min),xe;O._scaleNumbers||(Ee=1),O._isAngular?xe=N-Ee*ie.bottom:xe=N-Ee*(ie.top+ie.bottom)/2,O._numbersTop=Ee*ie.top+xe;var De=ie[Y];Y==="center"&&(De=(ie.left+ie.right)/2);var Ve=z-Ee*De;return Ve=k(O,"numbersTranslate",0,Ve,oe,Math.max),c(Ve,xe)+C(Ee)})}function m(R){R.each(function(B){h.stroke(x.select(this),B.line.color)}).each(function(B){h.fill(x.select(this),B.color)}).style("stroke-width",function(B){return B.line.width})}function S(R,B,F){return function(){var _=P(B,F);return function(O){return R.endAngle(_(O))()}}}function T(R,B,F){var _=R._fullLayout,O=L.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},B),z={type:"linear",_id:"x"+B._id},N={letter:"x",font:_.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function Y(J,ae){return L.coerce(O,z,g,J,ae)}return l(O,z,Y,N,_),f(O,z,Y,N),z}function a(R,B,F){var _=Math.min(B/R.width,F/R.height);return[_,R,B+"x"+F]}function E(R,B){var F=Math.sqrt(R.width/2*(R.width/2)+R.height*R.height),_=B/F;return[_,R,B]}function p(R,B,F,_){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),z=x.select(O);return z.text(R).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",R).call(n.convertToTspans,_).call(t.font,B),t.bBox(z.node())}function k(R,B,F,_,O,z){var N="_cache"+B;R[N]&&R[N].key===O||(R[N]={key:O,value:F});var Y=L.aggNums(z,null,[R[N].value,_],2);return R[N].value=Y,Y}},50048:function(V,U,e){"use strict";var x=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(52948),C=e(45464),c=e(92880).extendFlat,y=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=V.exports=y(c({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r("x"),y:r("y"),z:r("z")},caps:{x:t("x"),y:t("y"),z:t("z")},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:c({},C.showlegend,{dflt:!1})},x("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:c({},C.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},62624:function(V,U,e){"use strict";var x=e(47128),P=e(3832).processGrid,i=e(3832).filter;V.exports=function(C,c){c._len=Math.min(c.x.length,c.y.length,c.z.length,c.value.length),c._x=i(c.x,c._len),c._y=i(c.y,c._len),c._z=i(c.z,c._len),c._value=i(c.value,c._len);var y=P(c);c._gridFill=y.fill,c._Xs=y.Xs,c._Ys=y.Ys,c._Zs=y.Zs,c._len=y.len;for(var r=1/0,t=-1/0,s=0;s<c._len;s++){var n=c._value[s];r=Math.min(r,n),t=Math.max(t,n)}c._minValues=r,c._maxValues=t,c._vMin=c.isomin===void 0||c.isomin===null?r:c.isomin,c._vMax=c.isomax===void 0||c.isomin===null?t:c.isomax,x(C,c,{vals:[c._vMin,c._vMax],containerStr:"",cLetter:"c"})}},31460:function(V,U,e){"use strict";var x=e(67792).gl_mesh3d,P=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,L=e(43080),C=e(8932).extractOpts,c=e(52094),y=function(l,f){for(var g=f.length-1;g>0;g--){var h=Math.min(f[g],f[g-1]),w=Math.max(f[g],f[g-1]);if(w>h&&h<l&&l<=w)return{id:g,distRatio:(w-l)/(w-h)}}return{id:0,distRatio:0}};function r(l,f,g){this.scene=l,this.uid=g,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(l){if(l.object===this.mesh){var f=l.data.index,g=this.data._meshX[f],h=this.data._meshY[f],w=this.data._meshZ[f],d=this.data._Ys.length,o=this.data._Zs.length,v=y(g,this.data._Xs).id,A=y(h,this.data._Ys).id,b=y(w,this.data._Zs).id,M=l.index=b+o*A+o*d*v;l.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var m=this.data.hovertext||this.data.text;return i(m)&&m[M]!==void 0?l.textLabel=m[M]:m&&(l.textLabel=m),!0}},t.update=function(l){var f=this.scene,g=f.fullSceneLayout;this.data=n(l);function h(A,b,M,m){return b.map(function(S){return A.d2l(S,0,m)*M})}var w=c(h(g.xaxis,l._meshX,f.dataScale[0],l.xcalendar),h(g.yaxis,l._meshY,f.dataScale[1],l.ycalendar),h(g.zaxis,l._meshZ,f.dataScale[2],l.zcalendar)),d=c(l._meshI,l._meshJ,l._meshK),o={positions:w,cells:d,lightPosition:[l.lightposition.x,l.lightposition.y,l.lightposition.z],ambient:l.lighting.ambient,diffuse:l.lighting.diffuse,specular:l.lighting.specular,roughness:l.lighting.roughness,fresnel:l.lighting.fresnel,vertexNormalsEpsilon:l.lighting.vertexnormalsepsilon,faceNormalsEpsilon:l.lighting.facenormalsepsilon,opacity:l.opacity,contourEnable:l.contour.show,contourColor:L(l.contour.color).slice(0,3),contourWidth:l.contour.width,useFacetNormals:l.flatshading},v=C(l);o.vertexIntensity=l._meshIntensity,o.vertexIntensityBounds=[v.min,v.max],o.colormap=P(l),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(l){l._meshI=[],l._meshJ=[],l._meshK=[];var f=l.surface.show,g=l.spaceframe.show,h=l.surface.fill,w=l.spaceframe.fill,d=!1,o=!1,v=0,A,b,M=l._Xs,m=l._Ys,S=l._Zs,T=M.length,a=m.length,E=S.length,p=s.indexOf(l._gridFill.replace(/-/g,"").replace(/\+/g,"")),k=function(Je,Xe,Oe){switch(p){case 5:return Oe+E*Xe+E*a*Je;case 4:return Oe+E*Je+E*T*Xe;case 3:return Xe+a*Oe+a*E*Je;case 2:return Xe+a*Je+a*T*Oe;case 1:return Je+T*Oe+T*E*Xe;default:return Je+T*Xe+T*a*Oe}},R=l._minValues,B=l._maxValues,F=l._vMin,_=l._vMax,O,z,N,Y;function J(Je,Xe,Oe){for(var Ne=Y.length,ze=b;ze<Ne;ze++)if(Je===O[ze]&&Xe===z[ze]&&Oe===N[ze])return ze;return-1}function ae(){b=A}function se(){O=[],z=[],N=[],Y=[],A=0,ae()}function ue(Je,Xe,Oe,Ne){return O.push(Je),z.push(Xe),N.push(Oe),Y.push(Ne),A++,A-1}function K(Je,Xe,Oe){return l._meshI.push(Je),l._meshJ.push(Xe),l._meshK.push(Oe),v++,v-1}function j(Je,Xe,Oe){for(var Ne=[],ze=0;ze<Je.length;ze++)Ne[ze]=(Je[ze]+Xe[ze]+Oe[ze])/3;return Ne}function ie(Je,Xe,Oe){for(var Ne=[],ze=0;ze<Je.length;ze++)Ne[ze]=Je[ze]*(1-Oe)+Oe*Xe[ze];return Ne}var W;function Q(Je){W=Je}function ee(Je,Xe){var Oe=Je[0],Ne=Je[1],ze=Je[2],et=j(Oe,Ne,ze),Le=Math.sqrt(1-W),Te=ie(et,Oe,Le),ye=ie(et,Ne,Le),Se=ie(et,ze,Le),Ke=Xe[0],rt=Xe[1],Lt=Xe[2];return{xyzv:[[Oe,Ne,ye],[ye,Te,Oe],[Ne,ze,Se],[Se,ye,Ne],[ze,Oe,Te],[Te,Se,ze]],abc:[[Ke,rt,-1],[-1,-1,Ke],[rt,Lt,-1],[-1,-1,rt],[Lt,Ke,-1],[-1,-1,Lt]]}}function $(Je,Xe){return Je==="all"||Je===null?!0:Je.indexOf(Xe)>-1}function X(Je,Xe){return Je===null?Xe:Je}function oe(Je,Xe,Oe){ae();var Ne=[Xe],ze=[Oe];if(W>=1)Ne=[Xe],ze=[Oe];else if(W>0){var et=ee(Xe,Oe);Ne=et.xyzv,ze=et.abc}for(var Le=0;Le<Ne.length;Le++){Xe=Ne[Le],Oe=ze[Le];for(var Te=[],ye=0;ye<3;ye++){var Se=Xe[ye][0],Ke=Xe[ye][1],rt=Xe[ye][2],Lt=Xe[ye][3],It=Oe[ye]>-1?Oe[ye]:J(Se,Ke,rt);It>-1?Te[ye]=It:Te[ye]=ue(Se,Ke,rt,X(Je,Lt))}K(Te[0],Te[1],Te[2])}}function te(Je,Xe,Oe){var Ne=function(ze,et,Le){oe(Je,[Xe[ze],Xe[et],Xe[Le]],[Oe[ze],Oe[et],Oe[Le]])};Ne(0,1,2),Ne(2,3,0)}function fe(Je,Xe,Oe){var Ne=function(ze,et,Le){oe(Je,[Xe[ze],Xe[et],Xe[Le]],[Oe[ze],Oe[et],Oe[Le]])};Ne(0,1,2),Ne(3,0,1),Ne(2,3,0),Ne(1,2,3)}function pe(Je,Xe,Oe,Ne){var ze=Je[3];ze<Oe&&(ze=Oe),ze>Ne&&(ze=Ne);for(var et=(Je[3]-ze)/(Je[3]-Xe[3]+1e-9),Le=[],Te=0;Te<4;Te++)Le[Te]=(1-et)*Je[Te]+et*Xe[Te];return Le}function Ae(Je,Xe,Oe){return Je>=Xe&&Je<=Oe}function be(Je){var Xe=.001*(_-F);return Je>=F-Xe&&Je<=_+Xe}function Pe(Je){for(var Xe=[],Oe=0;Oe<4;Oe++){var Ne=Je[Oe];Xe.push([l._x[Ne],l._y[Ne],l._z[Ne],l._value[Ne]])}return Xe}var me=3;function Ee(Je,Xe,Oe,Ne,ze,et){et||(et=1),Oe=[-1,-1,-1];var Le=!1,Te=[Ae(Xe[0][3],Ne,ze),Ae(Xe[1][3],Ne,ze),Ae(Xe[2][3],Ne,ze)];if(!Te[0]&&!Te[1]&&!Te[2])return!1;var ye=function(Ke,rt,Lt){return be(rt[0][3])&&be(rt[1][3])&&be(rt[2][3])?(oe(Ke,rt,Lt),!0):et<me?Ee(Ke,rt,Lt,F,_,++et):!1};if(Te[0]&&Te[1]&&Te[2])return ye(Je,Xe,Oe)||Le;var Se=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Ke){if(Te[Ke[0]]&&Te[Ke[1]]&&!Te[Ke[2]]){var rt=Xe[Ke[0]],Lt=Xe[Ke[1]],It=Xe[Ke[2]],wt=pe(It,rt,Ne,ze),Et=pe(It,Lt,Ne,ze);Le=ye(Je,[Et,wt,rt],[-1,-1,Oe[Ke[0]]])||Le,Le=ye(Je,[rt,Lt,Et],[Oe[Ke[0]],Oe[Ke[1]],-1])||Le,Se=!0}}),Se||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Ke){if(Te[Ke[0]]&&!Te[Ke[1]]&&!Te[Ke[2]]){var rt=Xe[Ke[0]],Lt=Xe[Ke[1]],It=Xe[Ke[2]],wt=pe(Lt,rt,Ne,ze),Et=pe(It,rt,Ne,ze);Le=ye(Je,[Et,wt,rt],[-1,-1,Oe[Ke[0]]])||Le,Se=!0}}),Le}function xe(Je,Xe,Oe,Ne){var ze=!1,et=Pe(Xe),Le=[Ae(et[0][3],Oe,Ne),Ae(et[1][3],Oe,Ne),Ae(et[2][3],Oe,Ne),Ae(et[3][3],Oe,Ne)];if(!Le[0]&&!Le[1]&&!Le[2]&&!Le[3])return ze;if(Le[0]&&Le[1]&&Le[2]&&Le[3])return o&&(ze=fe(Je,et,Xe)||ze),ze;var Te=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ye){if(Le[ye[0]]&&Le[ye[1]]&&Le[ye[2]]&&!Le[ye[3]]){var Se=et[ye[0]],Ke=et[ye[1]],rt=et[ye[2]],Lt=et[ye[3]];if(o)ze=oe(Je,[Se,Ke,rt],[Xe[ye[0]],Xe[ye[1]],Xe[ye[2]]])||ze;else{var It=pe(Lt,Se,Oe,Ne),wt=pe(Lt,Ke,Oe,Ne),Et=pe(Lt,rt,Oe,Ne);ze=oe(null,[It,wt,Et],[-1,-1,-1])||ze}Te=!0}}),Te||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ye){if(Le[ye[0]]&&Le[ye[1]]&&!Le[ye[2]]&&!Le[ye[3]]){var Se=et[ye[0]],Ke=et[ye[1]],rt=et[ye[2]],Lt=et[ye[3]],It=pe(rt,Se,Oe,Ne),wt=pe(rt,Ke,Oe,Ne),Et=pe(Lt,Ke,Oe,Ne),Wt=pe(Lt,Se,Oe,Ne);o?(ze=oe(Je,[Se,Wt,It],[Xe[ye[0]],-1,-1])||ze,ze=oe(Je,[Ke,wt,Et],[Xe[ye[1]],-1,-1])||ze):ze=te(null,[It,wt,Et,Wt],[-1,-1,-1,-1])||ze,Te=!0}}),Te)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ye){if(Le[ye[0]]&&!Le[ye[1]]&&!Le[ye[2]]&&!Le[ye[3]]){var Se=et[ye[0]],Ke=et[ye[1]],rt=et[ye[2]],Lt=et[ye[3]],It=pe(Ke,Se,Oe,Ne),wt=pe(rt,Se,Oe,Ne),Et=pe(Lt,Se,Oe,Ne);o?(ze=oe(Je,[Se,It,wt],[Xe[ye[0]],-1,-1])||ze,ze=oe(Je,[Se,wt,Et],[Xe[ye[0]],-1,-1])||ze,ze=oe(Je,[Se,Et,It],[Xe[ye[0]],-1,-1])||ze):ze=oe(null,[It,wt,Et],[-1,-1,-1])||ze,Te=!0}}),ze}function De(Je,Xe,Oe,Ne,ze,et,Le,Te,ye,Se,Ke){var rt=!1;return d&&($(Je,"A")&&(rt=xe(null,[Xe,Oe,Ne,et],Se,Ke)||rt),$(Je,"B")&&(rt=xe(null,[Oe,Ne,ze,ye],Se,Ke)||rt),$(Je,"C")&&(rt=xe(null,[Oe,et,Le,ye],Se,Ke)||rt),$(Je,"D")&&(rt=xe(null,[Ne,et,Te,ye],Se,Ke)||rt),$(Je,"E")&&(rt=xe(null,[Oe,Ne,et,ye],Se,Ke)||rt)),o&&(rt=xe(Je,[Oe,Ne,et,ye],Se,Ke)||rt),rt}function Ve(Je,Xe,Oe,Ne,ze,et,Le,Te){return[Te[0]===!0?!0:Ee(Je,Pe([Xe,Oe,Ne]),[Xe,Oe,Ne],et,Le),Te[1]===!0?!0:Ee(Je,Pe([Ne,ze,Xe]),[Ne,ze,Xe],et,Le)]}function Ze(Je,Xe,Oe,Ne,ze,et,Le,Te,ye){return Te?Ve(Je,Xe,Oe,ze,Ne,et,Le,ye):Ve(Je,Oe,ze,Ne,Xe,et,Le,ye)}function ke(Je,Xe,Oe,Ne,ze,et,Le){var Te=!1,ye,Se,Ke,rt,Lt=function(){Te=Ee(Je,[ye,Se,Ke],[-1,-1,-1],ze,et)||Te,Te=Ee(Je,[Ke,rt,ye],[-1,-1,-1],ze,et)||Te},It=Le[0],wt=Le[1],Et=Le[2];return It&&(ye=ie(Pe([k(Xe,Oe-0,Ne-0)])[0],Pe([k(Xe-1,Oe-0,Ne-0)])[0],It),Se=ie(Pe([k(Xe,Oe-0,Ne-1)])[0],Pe([k(Xe-1,Oe-0,Ne-1)])[0],It),Ke=ie(Pe([k(Xe,Oe-1,Ne-1)])[0],Pe([k(Xe-1,Oe-1,Ne-1)])[0],It),rt=ie(Pe([k(Xe,Oe-1,Ne-0)])[0],Pe([k(Xe-1,Oe-1,Ne-0)])[0],It),Lt()),wt&&(ye=ie(Pe([k(Xe-0,Oe,Ne-0)])[0],Pe([k(Xe-0,Oe-1,Ne-0)])[0],wt),Se=ie(Pe([k(Xe-0,Oe,Ne-1)])[0],Pe([k(Xe-0,Oe-1,Ne-1)])[0],wt),Ke=ie(Pe([k(Xe-1,Oe,Ne-1)])[0],Pe([k(Xe-1,Oe-1,Ne-1)])[0],wt),rt=ie(Pe([k(Xe-1,Oe,Ne-0)])[0],Pe([k(Xe-1,Oe-1,Ne-0)])[0],wt),Lt()),Et&&(ye=ie(Pe([k(Xe-0,Oe-0,Ne)])[0],Pe([k(Xe-0,Oe-0,Ne-1)])[0],Et),Se=ie(Pe([k(Xe-0,Oe-1,Ne)])[0],Pe([k(Xe-0,Oe-1,Ne-1)])[0],Et),Ke=ie(Pe([k(Xe-1,Oe-1,Ne)])[0],Pe([k(Xe-1,Oe-1,Ne-1)])[0],Et),rt=ie(Pe([k(Xe-1,Oe-0,Ne)])[0],Pe([k(Xe-1,Oe-0,Ne-1)])[0],Et),Lt()),Te}function Ye(Je,Xe,Oe,Ne,ze,et,Le,Te,ye,Se,Ke,rt){var Lt=Je;return rt?(d&&Je==="even"&&(Lt=null),De(Lt,Xe,Oe,Ne,ze,et,Le,Te,ye,Se,Ke)):(d&&Je==="odd"&&(Lt=null),De(Lt,ye,Te,Le,et,ze,Ne,Oe,Xe,Se,Ke))}function lt(Je,Xe,Oe,Ne,ze){for(var et=[],Le=0,Te=0;Te<Xe.length;Te++)for(var ye=Xe[Te],Se=1;Se<E;Se++)for(var Ke=1;Ke<a;Ke++)et.push(Ze(Je,k(ye,Ke-1,Se-1),k(ye,Ke-1,Se),k(ye,Ke,Se-1),k(ye,Ke,Se),Oe,Ne,(ye+Ke+Se)%2,ze&&ze[Le]?ze[Le]:[])),Le++;return et}function yt(Je,Xe,Oe,Ne,ze){for(var et=[],Le=0,Te=0;Te<Xe.length;Te++)for(var ye=Xe[Te],Se=1;Se<T;Se++)for(var Ke=1;Ke<E;Ke++)et.push(Ze(Je,k(Se-1,ye,Ke-1),k(Se,ye,Ke-1),k(Se-1,ye,Ke),k(Se,ye,Ke),Oe,Ne,(Se+ye+Ke)%2,ze&&ze[Le]?ze[Le]:[])),Le++;return et}function He(Je,Xe,Oe,Ne,ze){for(var et=[],Le=0,Te=0;Te<Xe.length;Te++)for(var ye=Xe[Te],Se=1;Se<a;Se++)for(var Ke=1;Ke<T;Ke++)et.push(Ze(Je,k(Ke-1,Se-1,ye),k(Ke-1,Se,ye),k(Ke,Se-1,ye),k(Ke,Se,ye),Oe,Ne,(Ke+Se+ye)%2,ze&&ze[Le]?ze[Le]:[])),Le++;return et}function Fe(Je,Xe,Oe){for(var Ne=1;Ne<E;Ne++)for(var ze=1;ze<a;ze++)for(var et=1;et<T;et++)Ye(Je,k(et-1,ze-1,Ne-1),k(et-1,ze-1,Ne),k(et-1,ze,Ne-1),k(et-1,ze,Ne),k(et,ze-1,Ne-1),k(et,ze-1,Ne),k(et,ze,Ne-1),k(et,ze,Ne),Xe,Oe,(et+ze+Ne)%2)}function nt(Je,Xe,Oe){o=!0,Fe(Je,Xe,Oe),o=!1}function ot(Je,Xe,Oe){d=!0,Fe(Je,Xe,Oe),d=!1}function ct(Je,Xe,Oe,Ne,ze,et){for(var Le=[],Te=0,ye=0;ye<Xe.length;ye++)for(var Se=Xe[ye],Ke=1;Ke<E;Ke++)for(var rt=1;rt<a;rt++)Le.push(ke(Je,Se,rt,Ke,Oe,Ne,ze[ye],et&&et[Te]?et[Te]:[])),Te++;return Le}function ht(Je,Xe,Oe,Ne,ze,et){for(var Le=[],Te=0,ye=0;ye<Xe.length;ye++)for(var Se=Xe[ye],Ke=1;Ke<T;Ke++)for(var rt=1;rt<E;rt++)Le.push(ke(Je,Ke,Se,rt,Oe,Ne,ze[ye],et&&et[Te]?et[Te]:[])),Te++;return Le}function mt(Je,Xe,Oe,Ne,ze,et){for(var Le=[],Te=0,ye=0;ye<Xe.length;ye++)for(var Se=Xe[ye],Ke=1;Ke<a;Ke++)for(var rt=1;rt<T;rt++)Le.push(ke(Je,rt,Ke,Se,Oe,Ne,ze[ye],et&&et[Te]?et[Te]:[])),Te++;return Le}function tt(Je,Xe){for(var Oe=[],Ne=Je;Ne<Xe;Ne++)Oe.push(Ne);return Oe}function Re(){for(var Je=0;Je<T;Je++)for(var Xe=0;Xe<a;Xe++)for(var Oe=0;Oe<E;Oe++){var Ne=k(Je,Xe,Oe);ue(l._x[Ne],l._y[Ne],l._z[Ne],l._value[Ne])}}function Ge(){se(),Re();var Je=null;if(g&&w&&(Q(w),nt(Je,F,_)),f&&h){Q(h);for(var Xe=l.surface.pattern,Oe=l.surface.count,Ne=0;Ne<Oe;Ne++){var ze=Oe===1?.5:Ne/(Oe-1),et=(1-ze)*F+ze*_,Le=Math.abs(et-R),Te=Math.abs(et-B),ye=Le>Te?[R,et]:[et,B];ot(Xe,ye[0],ye[1])}}var Se=[[Math.min(F,B),Math.max(F,B)],[Math.min(R,_),Math.max(R,_)]];["x","y","z"].forEach(function(Ke){for(var rt=[],Lt=0;Lt<Se.length;Lt++){var It=0,wt=Se[Lt][0],Et=Se[Lt][1],Wt=l.slices[Ke];if(Wt.show&&Wt.fill){Q(Wt.fill);var vr=[],dt=[],Yt=[];if(Wt.locations.length)for(var jt=0;jt<Wt.locations.length;jt++){var gr=y(Wt.locations[jt],Ke==="x"?M:Ke==="y"?m:S);gr.distRatio===0?vr.push(gr.id):gr.id>0&&(dt.push(gr.id),Ke==="x"?Yt.push([gr.distRatio,0,0]):Ke==="y"?Yt.push([0,gr.distRatio,0]):Yt.push([0,0,gr.distRatio]))}else Ke==="x"?vr=tt(1,T-1):Ke==="y"?vr=tt(1,a-1):vr=tt(1,E-1);dt.length>0&&(Ke==="x"?rt[It]=ct(Je,dt,wt,Et,Yt,rt[It]):Ke==="y"?rt[It]=ht(Je,dt,wt,Et,Yt,rt[It]):rt[It]=mt(Je,dt,wt,Et,Yt,rt[It]),It++),vr.length>0&&(Ke==="x"?rt[It]=lt(Je,vr,wt,Et,rt[It]):Ke==="y"?rt[It]=yt(Je,vr,wt,Et,rt[It]):rt[It]=He(Je,vr,wt,Et,rt[It]),It++)}var sr=l.caps[Ke];sr.show&&sr.fill&&(Q(sr.fill),Ke==="x"?rt[It]=lt(Je,[0,T-1],wt,Et,rt[It]):Ke==="y"?rt[It]=yt(Je,[0,a-1],wt,Et,rt[It]):rt[It]=He(Je,[0,E-1],wt,Et,rt[It]),It++)}}),v===0&&se(),l._meshX=O,l._meshY=z,l._meshZ=N,l._meshIntensity=Y,l._Xs=M,l._Ys=m,l._Zs=S}return Ge(),l}function u(l,f){var g=l.glplot.gl,h=x({gl:g}),w=new r(l,h,f.uid);return h._trace=w,w.update(f),l.glplot.add(h),w}V.exports={findNearestOnAxis:y,generateIsoMeshes:n,createIsosurfaceTrace:u}},70548:function(V,U,e){"use strict";var x=e(3400),P=e(24040),i=e(50048),L=e(27260);function C(y,r,t,s){function n(u,l){return x.coerce(y,r,i,u,l)}c(y,r,t,s,n)}function c(y,r,t,s,n){var u=n("isomin"),l=n("isomax");l!=null&&u!==void 0&&u!==null&&u>l&&(r.isomin=null,r.isomax=null);var f=n("x"),g=n("y"),h=n("z"),w=n("value");if(!f||!f.length||!g||!g.length||!h||!h.length||!w||!w.length){r.visible=!1;return}var d=P.getComponentMethod("calendars","handleTraceDefaults");d(y,r,["x","y","z"],s),n("valuehoverformat"),["x","y","z"].forEach(function(b){n(b+"hoverformat");var M="caps."+b,m=n(M+".show");m&&n(M+".fill");var S="slices."+b,T=n(S+".show");T&&(n(S+".fill"),n(S+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var v=n("surface.show");v&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var A=n("contour.show");A&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(b){n(b)}),L(y,r,s,n,{prefix:"",cLetter:"c"}),r._length=null}V.exports={supplyDefaults:C,supplyIsoDefaults:c}},6296:function(V,U,e){"use strict";V.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(V,U,e){"use strict";var x=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(16716),C=e(45464),c=e(92880).extendFlat;V.exports=c({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},x("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:c({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:c({},L.lightposition.x,{dflt:1e5}),y:c({},L.lightposition.y,{dflt:1e5}),z:c({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:c({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:c({},C.hoverinfo,{editType:"calc"}),showlegend:c({},C.showlegend,{dflt:!1})})},1876:function(V,U,e){"use strict";var x=e(47128);V.exports=function(i,L){L.intensity&&x(i,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},576:function(V,U,e){"use strict";var x=e(67792).gl_mesh3d,P=e(67792).delaunay_triangulate,i=e(67792).alpha_shape,L=e(67792).convex_hull,C=e(33040).parseColorScale,c=e(3400).isArrayOrTypedArray,y=e(43080),r=e(8932).extractOpts,t=e(52094);function s(d,o,v){this.scene=d,this.uid=v,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=s.prototype;n.handlePick=function(d){if(d.object===this.mesh){var o=d.index=d.data.index;d.data._cellCenter?d.traceCoordinate=d.data.dataCoordinate:d.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var v=this.data.hovertext||this.data.text;return c(v)&&v[o]!==void 0?d.textLabel=v[o]:v&&(d.textLabel=v),!0}};function u(d){for(var o=[],v=d.length,A=0;A<v;A++)o[A]=y(d[A]);return o}function l(d,o,v,A){for(var b=[],M=o.length,m=0;m<M;m++)b[m]=d.d2l(o[m],0,A)*v;return b}function f(d){for(var o=[],v=d.length,A=0;A<v;A++)o[A]=Math.round(d[A]);return o}function g(d,o){for(var v=["x","y","z"].indexOf(d),A=[],b=o.length,M=0;M<b;M++)A[M]=[o[M][(v+1)%3],o[M][(v+2)%3]];return P(A)}function h(d,o){for(var v=d.length,A=0;A<v;A++)if(d[A]<=-.5||d[A]>=o-.5)return!1;return!0}n.update=function(d){var o=this.scene,v=o.fullSceneLayout;this.data=d;var A=d.x.length,b=t(l(v.xaxis,d.x,o.dataScale[0],d.xcalendar),l(v.yaxis,d.y,o.dataScale[1],d.ycalendar),l(v.zaxis,d.z,o.dataScale[2],d.zcalendar)),M;if(d.i&&d.j&&d.k){if(d.i.length!==d.j.length||d.j.length!==d.k.length||!h(d.i,A)||!h(d.j,A)||!h(d.k,A))return;M=t(f(d.i),f(d.j),f(d.k))}else d.alphahull===0?M=L(b):d.alphahull>0?M=i(d.alphahull,b):M=g(d.delaunayaxis,b);var m={positions:b,cells:M,lightPosition:[d.lightposition.x,d.lightposition.y,d.lightposition.z],ambient:d.lighting.ambient,diffuse:d.lighting.diffuse,specular:d.lighting.specular,roughness:d.lighting.roughness,fresnel:d.lighting.fresnel,vertexNormalsEpsilon:d.lighting.vertexnormalsepsilon,faceNormalsEpsilon:d.lighting.facenormalsepsilon,opacity:d.opacity,contourEnable:d.contour.show,contourColor:y(d.contour.color).slice(0,3),contourWidth:d.contour.width,useFacetNormals:d.flatshading};if(d.intensity){var S=r(d);this.color="#fff";var T=d.intensitymode;m[T+"Intensity"]=d.intensity,m[T+"IntensityBounds"]=[S.min,S.max],m.colormap=C(d)}else d.vertexcolor?(this.color=d.vertexcolor[0],m.vertexColors=u(d.vertexcolor)):d.facecolor?(this.color=d.facecolor[0],m.cellColors=u(d.facecolor)):(this.color=d.color,m.meshColor=y(d.color));this.mesh.update(m)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function w(d,o){var v=d.glplot.gl,A=x({gl:v}),b=new s(d,A,o.uid);return A._trace=b,b.update(o),d.glplot.add(A),b}V.exports=w},74212:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(27260),L=e(52948);V.exports=function(c,y,r,t){function s(g,h){return P.coerce(c,y,L,g,h)}function n(g){var h=g.map(function(w){var d=s(w);return d&&P.isArrayOrTypedArray(d)?d:null});return h.every(function(w){return w&&w.length===h[0].length})&&h}var u=n(["x","y","z"]);if(!u){y.visible=!1;return}if(n(["i","j","k"]),y.i&&(!y.j||!y.k)||y.j&&(!y.k||!y.i)||y.k&&(!y.i||!y.j)){y.visible=!1;return}var l=x.getComponentMethod("calendars","handleTraceDefaults");l(c,y,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){s(g)});var f=s("contour.show");f&&(s("contour.color"),s("contour.width")),"intensity"in c?(s("intensity"),s("intensitymode"),i(c,y,t,s,{prefix:"",cLetter:"c"})):(y.showscale=!1,"facecolor"in c?s("facecolor"):"vertexcolor"in c?s("vertexcolor"):s("color",r)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),y._length=null}},7404:function(V,U,e){"use strict";V.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(V,U,e){"use strict";var x=e(3400).extendFlat,P=e(52904),i=e(29736).axisHoverFormat,L=e(98192).u,C=e(55756),c=e(48164),y=c.INCREASING.COLOR,r=c.DECREASING.COLOR,t=P.line;function s(n){return{line:{color:x({},t.color,{dflt:n}),width:t.width,dash:L,editType:"style"},editType:"style"}}V.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:x({},t.width,{}),dash:x({},L,{}),editType:"style"},increasing:s(y),decreasing:s(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:x({},C.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:P.zorder}},42812:function(V,U,e){"use strict";var x=e(3400),P=x._,i=e(54460),L=e(1220),C=e(39032).BADNUM;function c(s,n){var u=i.getFromId(s,n.xaxis),l=i.getFromId(s,n.yaxis),f=t(s,u,n),g=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var w=n._xcalc;n._xcalc=null;var d=r(s,n,h,w,l,y);return n._extremes[u._id]=i.findExtremes(u,w,{vpad:g/2}),d.length?(x.extendFlat(d[0].t,{wHover:g/2,tickLen:f}),d):[{t:{empty:!0}}]}function y(s,n,u,l){return{o:s,h:n,l:u,c:l}}function r(s,n,u,l,f,g){for(var h=f.makeCalcdata(n,"open"),w=f.makeCalcdata(n,"high"),d=f.makeCalcdata(n,"low"),o=f.makeCalcdata(n,"close"),v=x.isArrayOrTypedArray(n.text),A=x.isArrayOrTypedArray(n.hovertext),b=!0,M=null,m=!!n.xperiodalignment,S=[],T=0;T<l.length;T++){var a=l[T],E=h[T],p=w[T],k=d[T],R=o[T];if(a!==C&&E!==C&&p!==C&&k!==C&&R!==C){R===E?M!==null&&R!==M&&(b=R>M):b=R>E,M=R;var B=g(E,p,k,R);B.pos=a,B.yc=(E+R)/2,B.i=T,B.dir=b?"increasing":"decreasing",B.x=B.pos,B.y=[k,p],m&&(B.orig_p=u[T]),v&&(B.tx=n.text[T]),A&&(B.htx=n.hovertext[T]),S.push(B)}else S.push({pos:a,empty:!0})}return n._extremes[f._id]=i.findExtremes(f,x.concat(d,w),{padded:!0}),S.length&&(S[0].t={labels:{open:P(s,"open:")+" ",high:P(s,"high:")+" ",low:P(s,"low:")+" ",close:P(s,"close:")+" "}}),S}function t(s,n,u){var l=u._minDiff;if(!l){var f=s._fullData,g=[];l=1/0;var h;for(h=0;h<f.length;h++){var w=f[h];if(w.type==="ohlc"&&w.visible===!0&&w.xaxis===n._id){g.push(w);var d=n.makeCalcdata(w,"x");w._origX=d;var o=L(u,n,"x",d).vals;w._xcalc=o;var v=x.distinctVals(o).minDiff;v&&isFinite(v)&&(l=Math.min(l,v))}}for(l===1/0&&(l=1),h=0;h<g.length;h++)g[h]._minDiff=l}return l*u.tickwidth}V.exports={calc:c,calcCommon:r}},23860:function(V,U,e){"use strict";var x=e(3400),P=e(52744),i=e(31147),L=e(20279);V.exports=function(y,r,t,s){function n(l,f){return x.coerce(y,r,L,l,f)}var u=P(y,r,n,s);if(!u){r.visible=!1;return}i(y,r,s,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),C(y,r,n,"increasing"),C(y,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),s._requestRangeslider[r.xaxis]=!0,n("zorder")};function C(c,y,r,t){r(t+".line.color"),r(t+".line.width",y.line.width),r(t+".line.dash",y.line.dash)}},18720:function(V,U,e){"use strict";var x=e(54460),P=e(3400),i=e(93024),L=e(76308),C=e(3400).fillText,c=e(48164),y={increasing:c.INCREASING.SYMBOL,decreasing:c.DECREASING.SYMBOL};function r(u,l,f,g){var h=u.cd,w=h[0].trace;return w.hoverlabel.split?s(u,l,f,g):n(u,l,f,g)}function t(u,l,f,g){var h=u.cd,w=u.xa,d=h[0].trace,o=h[0].t,v=d.type,A=v==="ohlc"?"l":"min",b=v==="ohlc"?"h":"max",M,m,S=o.bPos||0,T=function(Y){return Y.pos+S-l},a=o.bdPos||o.tickLen,E=o.wHover,p=Math.min(1,a/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));M=u.maxHoverDistance-p,m=u.maxSpikeDistance-p;function k(Y){var J=T(Y);return i.inbox(J-E,J+E,M)}function R(Y){var J=Y[A],ae=Y[b];return J===ae||i.inbox(J-f,ae-f,M)}function B(Y){return(k(Y)+R(Y))/2}var F=i.getDistanceFunction(g,k,R,B);if(i.getClosest(h,F,u),u.index===!1)return null;var _=h[u.index];if(_.empty)return null;var O=_.dir,z=d[O],N=z.line.color;return L.opacity(N)&&z.line.width?u.color=N:u.color=z.fillcolor,u.x0=w.c2p(_.pos+S-a,!0),u.x1=w.c2p(_.pos+S+a,!0),u.xLabelVal=_.orig_p!==void 0?_.orig_p:_.pos,u.spikeDistance=B(_)*m/M,u.xSpike=w.c2p(_.pos,!0),u}function s(u,l,f,g){var h=u.cd,w=u.ya,d=h[0].trace,o=h[0].t,v=[],A=t(u,l,f,g);if(!A)return[];var b=A.index,M=h[b],m=M.hi||d.hoverinfo,S=m.split("+"),T=m==="all",a=T||S.indexOf("y")!==-1;if(!a)return[];for(var E=["high","open","close","low"],p={},k=0;k<E.length;k++){var R=E[k],B=d[R][A.index],F=w.c2p(B,!0),_;B in p?(_=p[B],_.yLabel+="<br>"+o.labels[R]+x.hoverLabelText(w,B,d.yhoverformat)):(_=P.extendFlat({},A),_.y0=_.y1=F,_.yLabelVal=B,_.yLabel=o.labels[R]+x.hoverLabelText(w,B,d.yhoverformat),_.name="",v.push(_),p[B]=_)}return v}function n(u,l,f,g){var h=u.cd,w=u.ya,d=h[0].trace,o=h[0].t,v=t(u,l,f,g);if(!v)return[];var A=v.index,b=h[A],M=v.index=b.i,m=b.dir;function S(B){return o.labels[B]+x.hoverLabelText(w,d[B][M],d.yhoverformat)}var T=b.hi||d.hoverinfo,a=T.split("+"),E=T==="all",p=E||a.indexOf("y")!==-1,k=E||a.indexOf("text")!==-1,R=p?[S("open"),S("high"),S("low"),S("close")+"  "+y[m]]:[];return k&&C(b,d,R),v.extraText=R.join("<br>"),v.y0=v.y1=w.c2p(b.yc,!0),[v]}V.exports={hoverPoints:r,hoverSplit:s,hoverOnPoints:n}},65456:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(V,U,e){"use strict";var x=e(24040),P=e(3400);V.exports=function(L,C,c,y){var r=c("x"),t=c("open"),s=c("high"),n=c("low"),u=c("close");c("hoverlabel.split");var l=x.getComponentMethod("calendars","handleTraceDefaults");if(l(L,C,["x"],y),!!(t&&s&&n&&u)){var f=Math.min(t.length,s.length,n.length,u.length);return r&&(f=Math.min(f,P.minRowLength(r))),C._length=f,f}}},36664:function(V,U,e){"use strict";var x=e(33428),P=e(3400);V.exports=function(L,C,c,y){var r=C.yaxis,t=C.xaxis,s=!!t.rangebreaks;P.makeTraceGroups(y,c,"trace ohlc").each(function(n){var u=x.select(this),l=n[0],f=l.t,g=l.trace;if(g.visible!==!0||f.empty){u.remove();return}var h=f.tickLen,w=u.selectAll("path").data(P.identity);w.enter().append("path"),w.exit().remove(),w.attr("d",function(d){if(d.empty)return"M0,0Z";var o=t.c2p(d.pos-h,!0),v=t.c2p(d.pos+h,!0),A=s?(o+v)/2:t.c2p(d.pos,!0),b=r.c2p(d.o,!0),M=r.c2p(d.h,!0),m=r.c2p(d.l,!0),S=r.c2p(d.c,!0);return"M"+o+","+b+"H"+A+"M"+A+","+M+"V"+m+"M"+v+","+S+"H"+A})})}},97384:function(V){"use strict";V.exports=function(e,x){var P=e.cd,i=e.xaxis,L=e.yaxis,C=[],c,y=P[0].t.bPos||0;if(x===!1)for(c=0;c<P.length;c++)P[c].selected=0;else for(c=0;c<P.length;c++){var r=P[c];x.contains([i.c2p(r.pos+y),L.c2p(r.yc)],null,r.i,e)?(C.push({pointNumber:r.i,x:i.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return C}},14008:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(76308);V.exports=function(C,c,y){var r=y||x.select(C).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var s=t[0].trace;x.select(this).selectAll("path").each(function(n){if(!n.empty){var u=s[n.dir].line;x.select(this).style("fill","none").call(i.stroke,u.color).call(P.dashLine,u.dash,u.width).style("opacity",s.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(V,U,e){"use strict";var x=e(92880).extendFlat,P=e(45464),i=e(25376),L=e(49084),C=e(21776).Ks,c=e(86968).u,y=x({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:C({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});V.exports={domain:c({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:x({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:C({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:y,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(V,U,e){"use strict";var x=e(84888)._M,P=e(60268),i="parcats";U.name=i,U.plot=function(L,C,c,y){var r=x(L.calcdata,i);if(r.length){var t=r[0];P(L,t,c,y)}},U.clean=function(L,C,c,y){var r=y._has&&y._has("parcats"),t=C._has&&C._has("parcats");r&&!t&&y._paperdiv.selectAll(".parcats").remove()}},69136:function(V,U,e){"use strict";var x=e(71688).wrap,P=e(94288).hasColorscale,i=e(47128),L=e(68944),C=e(43616),c=e(3400),y=e(38248);V.exports=function(o,v){var A=c.filterVisible(v.dimensions);if(A.length===0)return[];var b=A.map(function(K){var j;if(K.categoryorder==="trace")j=null;else if(K.categoryorder==="array")j=K.categoryarray;else{j=L(K.values);for(var ie=!0,W=0;W<j.length;W++)if(!y(j[W])){ie=!1;break}j.sort(ie?c.sorterAsc:void 0),K.categoryorder==="category descending"&&(j=j.reverse())}return f(K.values,j)}),M,m,S;c.isArrayOrTypedArray(v.counts)?M=v.counts:M=[v.counts],g(A),A.forEach(function(K,j){h(K,b[j])});var T=v.line,a;T?(P(v,"line")&&i(o,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a=C.tryColorscale(T)):a=c.identity;function E(K){var j,ie;return c.isArrayOrTypedArray(T.color)?(j=T.color[K%T.color.length],ie=j):j=T.color,{color:a(j),rawColor:ie}}var p=A[0].values.length,k={},R=b.map(function(K){return K.inds});S=0;var B,F;for(B=0;B<p;B++){var _=[];for(F=0;F<R.length;F++)_.push(R[F][B]);m=M[B%M.length],S+=m;var O=E(B),z=_+"-"+O.rawColor;k[z]===void 0&&(k[z]=u(_,O.color,O.rawColor)),l(k[z],B,m)}var N=A.map(function(K,j){return t(j,K._index,K._displayindex,K.label,S)});for(B=0;B<p;B++)for(m=M[B%M.length],F=0;F<N.length;F++){var Y=N[F].containerInd,J=b[F].inds[B],ae=N[F].categories;if(ae[J]===void 0){var se=v.dimensions[Y]._categoryarray[J],ue=v.dimensions[Y]._ticktext[J];ae[J]=s(F,J,se,ue)}n(ae[J],B,m)}return x(r(N,k,S))};function r(d,o,v){var A=d.map(function(b){return b.categories.length}).reduce(function(b,M){return Math.max(b,M)});return{dimensions:d,paths:o,trace:void 0,maxCats:A,count:v}}function t(d,o,v,A,b){return{dimensionInd:d,containerInd:o,displayInd:v,dimensionLabel:A,count:b,categories:[],dragX:null}}function s(d,o,v,A){return{dimensionInd:d,categoryInd:o,categoryValue:v,displayInd:o,categoryLabel:A,valueInds:[],count:0,dragY:null}}function n(d,o,v){d.valueInds.push(o),d.count+=v}function u(d,o,v){return{categoryInds:d,color:o,rawColor:v,valueInds:[],count:0}}function l(d,o,v){d.valueInds.push(o),d.count+=v}function f(d,o){o==null?o=[]:o=o.map(function(a){return a});var v={},A={},b=[];o.forEach(function(a,E){v[a]=0,A[a]=E});for(var M=0;M<d.length;M++){var m=d[M],S;v[m]===void 0?(v[m]=1,S=o.push(m)-1,A[m]=S):(v[m]++,S=A[m]),b.push(S)}var T=o.map(function(a){return v[a]});return{uniqueValues:o,uniqueCounts:T,inds:b}}function g(d){var o=d.map(function(A){return A.displayindex}),v;if(w(o))for(v=0;v<d.length;v++)d[v]._displayindex=d[v].displayindex;else for(v=0;v<d.length;v++)d[v]._displayindex=v}function h(d,o){d._categoryarray=o.uniqueValues,d.ticktext===null||d.ticktext===void 0?d._ticktext=[]:d._ticktext=d.ticktext.slice();for(var v=d._ticktext.length;v<o.uniqueValues.length;v++)d._ticktext.push(o.uniqueValues[v])}function w(d){for(var o=new Array(d.length),v=0;v<d.length;v++){if(d[v]<0||d[v]>=d.length||o[d[v]]!==void 0)return!1;o[d[v]]=!0}return!0}},76671:function(V,U,e){"use strict";var x=e(3400),P=e(94288).hasColorscale,i=e(27260),L=e(86968).Q,C=e(51272),c=e(72140),y=e(26284),r=e(38116).isTypedArraySpec;function t(n,u,l,f,g){g("line.shape"),g("line.hovertemplate");var h=g("line.color",f.colorway[0]);if(P(n,"line")&&x.isArrayOrTypedArray(h)){if(h.length)return g("line.colorscale"),i(n,u,f,g,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=l}return 1/0}function s(n,u){function l(v,A){return x.coerce(n,u,c.dimensions,v,A)}var f=l("values"),g=l("visible");if(f&&f.length||(g=u.visible=!1),g){l("label"),l("displayindex",u._index);var h=n.categoryarray,w=x.isArrayOrTypedArray(h)&&h.length>0||r(h),d;w&&(d="array");var o=l("categoryorder",d);o==="array"?(l("categoryarray"),l("ticktext")):(delete n.categoryarray,delete n.ticktext),!w&&o==="array"&&(u.categoryorder="trace")}}V.exports=function(u,l,f,g){function h(A,b){return x.coerce(u,l,c,A,b)}var w=C(u,l,{name:"dimensions",handleItemDefaults:s}),d=t(u,l,f,g,h);L(l,g,h),(!Array.isArray(w)||!w.length)&&(l.visible=!1),y(l,w,"values",d),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var o={family:g.font.family,size:Math.round(g.font.size),color:g.font.color};x.coerceFont(h,"labelfont",o);var v={family:g.font.family,size:Math.round(g.font.size/1.2),color:g.font.color};x.coerceFont(h,"tickfont",v)}},22020:function(V,U,e){"use strict";V.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(V,U,e){"use strict";var x=e(33428),P=e(67756).Gz,i=e(36424),L=e(93024),C=e(3400),c=C.strTranslate,y=e(43616),r=e(49760),t=e(72736);function s(W,Q,ee,$){var X=Q._context.staticPlot,oe=W.map(se.bind(0,Q,ee)),te=$.selectAll("g.parcatslayer").data([null]);te.enter().append("g").attr("class","parcatslayer").style("pointer-events",X?"none":"all");var fe=te.selectAll("g.trace.parcats").data(oe,n),pe=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(Ye){return c(Ye.x,Ye.y)}),pe.append("g").attr("class","paths");var Ae=fe.select("g.paths"),be=Ae.selectAll("path.path").data(function(Ye){return Ye.paths},n);be.attr("fill",function(Ye){return Ye.model.color});var Pe=be.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ye){return Ye.model.color}).attr("fill-opacity",0);o(Pe),be.attr("d",function(Ye){return Ye.svgD}),Pe.empty()||be.sort(l),be.exit().remove(),be.on("mouseover",f).on("mouseout",g).on("click",d),pe.append("g").attr("class","dimensions");var me=fe.select("g.dimensions"),Ee=me.selectAll("g.dimension").data(function(Ye){return Ye.dimensions},n);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(Ye){return c(Ye.x,0)}),Ee.exit().remove();var xe=Ee.selectAll("g.category").data(function(Ye){return Ye.categories},n),De=xe.enter().append("g").attr("class","category");xe.attr("transform",function(Ye){return c(0,Ye.y)}),De.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(Ye){return Ye.width}).attr("height",function(Ye){return Ye.height}),b(De);var Ve=xe.selectAll("rect.bandrect").data(function(Ye){return Ye.bands},n);Ve.each(function(){C.raiseToTop(this)}),Ve.attr("fill",function(Ye){return Ye.color});var Ze=Ve.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ye){return Ye.color}).attr("fill-opacity",0);Ve.attr("fill",function(Ye){return Ye.color}).attr("width",function(Ye){return Ye.width}).attr("height",function(Ye){return Ye.height}).attr("y",function(Ye){return Ye.y}).attr("cursor",function(Ye){return Ye.parcatsViewModel.arrangement==="fixed"?"default":Ye.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Ze),Ve.exit().remove(),De.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=Q._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(Ye){return u(Ye)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(Ye){return u(Ye)?Ye.width+5:-5}).attr("y",function(Ye){return Ye.height/2}).text(function(Ye){return Ye.model.categoryLabel}).each(function(Ye){y.font(x.select(this),Ye.parcatsViewModel.categorylabelfont),t.convertToTspans(x.select(this),Q)}),De.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ye){return Ye.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ye){return Ye.width/2}).attr("y",-5).text(function(Ye,lt){return lt===0?Ye.parcatsViewModel.model.dimensions[Ye.model.dimensionInd].dimensionLabel:null}).each(function(Ye){y.font(x.select(this),Ye.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",_),xe.exit().remove(),Ee.call(x.behavior.drag().origin(function(Ye){return{x:Ye.x,y:0}}).on("dragstart",O).on("drag",z).on("dragend",N)),fe.each(function(Ye){Ye.traceSelection=x.select(this),Ye.pathSelection=x.select(this).selectAll("g.paths").selectAll("path.path"),Ye.dimensionSelection=x.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}V.exports=function(W,Q,ee,$){s(ee,W,$,Q)};function n(W){return W.key}function u(W){var Q=W.parcatsViewModel.dimensions.length,ee=W.parcatsViewModel.dimensions[Q-1].model.dimensionInd;return W.model.dimensionInd===ee}function l(W,Q){return W.model.rawColor>Q.model.rawColor?1:W.model.rawColor<Q.model.rawColor?-1:0}function f(W){if(!W.parcatsViewModel.dragDimension&&W.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){C.raiseToTop(this),v(x.select(this));var Q=h(W),ee=w(W);if(W.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Q,event:x.event,constraints:ee}),W.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $=x.mouse(this)[0],X=W.parcatsViewModel.graphDiv,oe=W.parcatsViewModel.trace,te=X._fullLayout,fe=te._paperdiv.node().getBoundingClientRect(),pe=W.parcatsViewModel.graphDiv.getBoundingClientRect(),Ae,be,Pe;for(Pe=0;Pe<W.leftXs.length-1;Pe++)if(W.leftXs[Pe]+W.dimWidths[Pe]-2<=$&&$<=W.leftXs[Pe+1]+2){var me=W.parcatsViewModel.dimensions[Pe],Ee=W.parcatsViewModel.dimensions[Pe+1];Ae=(me.x+me.width+Ee.x)/2,be=(W.topYs[Pe]+W.topYs[Pe+1]+W.height)/2;break}var xe=W.parcatsViewModel.x+Ae,De=W.parcatsViewModel.y+be,Ve=r.mostReadable(W.model.color,["black","white"]),Ze=W.model.count,ke=Ze/W.parcatsViewModel.model.count,Ye={countLabel:Ze,probabilityLabel:ke.toFixed(3)},lt=[];W.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&lt.push(["Count:",Ye.countLabel].join(" ")),W.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&lt.push(["P:",Ye.probabilityLabel].join(" "));var yt=lt.join("<br>"),He=x.mouse(X)[0];L.loneHover({trace:oe,x:xe-fe.left+pe.left,y:De-fe.top+pe.top,text:yt,color:W.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ve,idealAlign:He<xe?"right":"left",hovertemplate:(oe.line||{}).hovertemplate,hovertemplateLabels:Ye,eventData:[{data:oe._input,fullData:oe,count:Ze,probability:ke}]},{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:X})}}}function g(W){if(!W.parcatsViewModel.dragDimension&&(o(x.select(this)),L.loneUnhover(W.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),W.parcatsViewModel.pathSelection.sort(l),W.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var Q=h(W),ee=w(W);W.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Q,event:x.event,constraints:ee})}}function h(W){for(var Q=[],ee=Y(W.parcatsViewModel),$=0;$<W.model.valueInds.length;$++){var X=W.model.valueInds[$];Q.push({curveNumber:ee,pointNumber:X})}return Q}function w(W){for(var Q={},ee=W.parcatsViewModel.model.dimensions,$=0;$<ee.length;$++){var X=ee[$],oe=X.categories[W.model.categoryInds[$]];Q[X.containerInd]=oe.categoryValue}return W.model.rawColor!==void 0&&(Q.color=W.model.rawColor),Q}function d(W){if(W.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=h(W),ee=w(W);W.parcatsViewModel.graphDiv.emit("plotly_click",{points:Q,event:x.event,constraints:ee})}}function o(W){W.attr("fill",function(Q){return Q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function v(W){W.attr("fill-opacity",.8).attr("stroke",function(Q){return r.mostReadable(Q.model.color,["black","white"])}).attr("stroke-width",.3)}function A(W){W.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function b(W){W.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function M(W){W.attr("stroke","black").attr("stroke-width",1.5)}function m(W){W.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(W){var Q=W.parcatsViewModel.pathSelection,ee=W.categoryViewModel.model.dimensionInd,$=W.categoryViewModel.model.categoryInd;return Q.filter(function(X){return X.model.categoryInds[ee]===$&&X.model.color===W.color})}function T(W){var Q=x.select(W.parentNode).selectAll("rect.bandrect");Q.each(function(ee){var $=S(ee);v($),$.each(function(){C.raiseToTop(this)})}),A(x.select(W.parentNode))}function a(W){var Q=x.select(W).datum(),ee=S(Q);v(ee),ee.each(function(){C.raiseToTop(this)}),x.select(W.parentNode).selectAll("rect.bandrect").filter(function($){return $.color===Q.color}).each(function(){C.raiseToTop(this),M(x.select(this))})}function E(W,Q,ee){var $=x.select(W).datum(),X=$.categoryViewModel.model,oe=$.parcatsViewModel.graphDiv,te=x.select(W.parentNode).selectAll("rect.bandrect"),fe=[];te.each(function(Ae){var be=S(Ae);be.each(function(Pe){Array.prototype.push.apply(fe,h(Pe))})});var pe={};pe[X.dimensionInd]=X.categoryValue,oe.emit(Q,{points:fe,event:ee,constraints:pe})}function p(W,Q,ee){var $=x.select(W).datum(),X=$.categoryViewModel.model,oe=$.parcatsViewModel.graphDiv,te=S($),fe=[];te.each(function(Ae){Array.prototype.push.apply(fe,h(Ae))});var pe={};pe[X.dimensionInd]=X.categoryValue,$.rawColor!==void 0&&(pe.color=$.rawColor),oe.emit(Q,{points:fe,event:ee,constraints:pe})}function k(W,Q,ee){W._fullLayout._calcInverseTransform(W);var $=W._fullLayout._invScaleX,X=W._fullLayout._invScaleY,oe=x.select(ee.parentNode).select("rect.catrect"),te=oe.node().getBoundingClientRect(),fe=oe.datum(),pe=fe.parcatsViewModel,Ae=pe.model.dimensions[fe.model.dimensionInd],be=pe.trace,Pe=te.top+te.height/2,me,Ee;pe.dimensions.length>1&&Ae.displayInd===pe.dimensions.length-1?(me=te.left,Ee="left"):(me=te.left+te.width,Ee="right");var xe=fe.model.count,De=fe.model.categoryLabel,Ve=xe/fe.parcatsViewModel.model.count,Ze={countLabel:xe,categoryLabel:De,probabilityLabel:Ve.toFixed(3)},ke=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ke.push(["Count:",Ze.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ke.push(["P("+Ze.categoryLabel+"):",Ze.probabilityLabel].join(" "));var Ye=ke.join("<br>");return{trace:be,x:$*(me-Q.left),y:X*(Pe-Q.top),text:Ye,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:be.hovertemplate,hovertemplateLabels:Ze,eventData:[{data:be._input,fullData:be,count:xe,category:De,probability:Ve}]}}function R(W,Q,ee){var $=[];return x.select(ee.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var X=this;$.push(k(W,Q,X))}),$}function B(W,Q,ee){W._fullLayout._calcInverseTransform(W);var $=W._fullLayout._invScaleX,X=W._fullLayout._invScaleY,oe=ee.getBoundingClientRect(),te=x.select(ee).datum(),fe=te.categoryViewModel,pe=fe.parcatsViewModel,Ae=pe.model.dimensions[fe.model.dimensionInd],be=pe.trace,Pe=oe.y+oe.height/2,me,Ee;pe.dimensions.length>1&&Ae.displayInd===pe.dimensions.length-1?(me=oe.left,Ee="left"):(me=oe.left+oe.width,Ee="right");var xe=fe.model.categoryLabel,De=te.parcatsViewModel.model.count,Ve=0;te.categoryViewModel.bands.forEach(function(ct){ct.color===te.color&&(Ve+=ct.count)});var Ze=fe.model.count,ke=0;pe.pathSelection.each(function(ct){ct.model.color===te.color&&(ke+=ct.model.count)});var Ye=Ve/De,lt=Ve/ke,yt=Ve/Ze,He={countLabel:Ve,categoryLabel:xe,probabilityLabel:Ye.toFixed(3)},Fe=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",He.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Fe.push("P(color \u2229 "+xe+"): "+He.probabilityLabel),Fe.push("P("+xe+" | color): "+lt.toFixed(3)),Fe.push("P(color | "+xe+"): "+yt.toFixed(3)));var nt=Fe.join("<br>"),ot=r.mostReadable(te.color,["black","white"]);return{trace:be,x:$*(me-Q.left),y:X*(Pe-Q.top),text:nt,color:te.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ot,fontSize:10,idealAlign:Ee,hovertemplate:be.hovertemplate,hovertemplateLabels:He,eventData:[{data:be._input,fullData:be,category:xe,count:De,probability:Ye,categorycount:Ze,colorcount:ke,bandcolorcount:Ve}]}}function F(W){if(!W.parcatsViewModel.dragDimension&&W.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var Q=x.mouse(this)[1];if(Q<-1)return;var ee=W.parcatsViewModel.graphDiv,$=ee._fullLayout,X=$._paperdiv.node().getBoundingClientRect(),oe=W.parcatsViewModel.hoveron,te=this;if(oe==="color"?(a(te),p(te,"plotly_hover",x.event)):(T(te),E(te,"plotly_hover",x.event)),W.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;oe==="category"?fe=k(ee,X,te):oe==="color"?fe=B(ee,X,te):oe==="dimension"&&(fe=R(ee,X,te)),fe&&L.loneHover(fe,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:ee})}}}function _(W){var Q=W.parcatsViewModel;if(!Q.dragDimension&&(o(Q.pathSelection),b(Q.dimensionSelection.selectAll("g.category")),m(Q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(Q.graphDiv._fullLayout._hoverlayer.node()),Q.pathSelection.sort(l),Q.hoverinfoItems.indexOf("skip")===-1)){var ee=W.parcatsViewModel.hoveron,$=this;ee==="color"?p($,"plotly_unhover",x.event):E($,"plotly_unhover",x.event)}}function O(W){W.parcatsViewModel.arrangement!=="fixed"&&(W.dragDimensionDisplayInd=W.model.displayInd,W.initialDragDimensionDisplayInds=W.parcatsViewModel.model.dimensions.map(function(Q){return Q.displayInd}),W.dragHasMoved=!1,W.dragCategoryDisplayInd=null,x.select(this).selectAll("g.category").select("rect.catrect").each(function(Q){var ee=x.mouse(this)[0],$=x.mouse(this)[1];-2<=ee&&ee<=Q.width+2&&-2<=$&&$<=Q.height+2&&(W.dragCategoryDisplayInd=Q.model.displayInd,W.initialDragCategoryDisplayInds=W.model.categories.map(function(X){return X.displayInd}),Q.model.dragY=Q.y,C.raiseToTop(this.parentNode),x.select(this.parentNode).selectAll("rect.bandrect").each(function(X){X.y<$&&$<=X.y+X.height&&(W.potentialClickBand=this)}))}),W.parcatsViewModel.dragDimension=W,L.loneUnhover(W.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(W){if(W.parcatsViewModel.arrangement!=="fixed"&&(W.dragHasMoved=!0,W.dragDimensionDisplayInd!==null)){var Q=W.dragDimensionDisplayInd,ee=Q-1,$=Q+1,X=W.parcatsViewModel.dimensions[Q];if(W.dragCategoryDisplayInd!==null){var oe=X.categories[W.dragCategoryDisplayInd];oe.model.dragY+=x.event.dy;var te=oe.model.dragY,fe=oe.model.displayInd,pe=X.categories,Ae=pe[fe-1],be=pe[fe+1];Ae!==void 0&&te<Ae.y+Ae.height/2&&(oe.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=fe),be!==void 0&&te+oe.height>be.y+be.height/2&&(oe.model.displayInd=be.model.displayInd,be.model.displayInd=fe),W.dragCategoryDisplayInd=oe.model.displayInd}if(W.dragCategoryDisplayInd===null||W.parcatsViewModel.arrangement==="freeform"){X.model.dragX=x.event.x;var Pe=W.parcatsViewModel.dimensions[ee],me=W.parcatsViewModel.dimensions[$];Pe!==void 0&&X.model.dragX<Pe.x+Pe.width&&(X.model.displayInd=Pe.model.displayInd,Pe.model.displayInd=Q),me!==void 0&&X.model.dragX+X.width>me.x&&(X.model.displayInd=me.model.displayInd,me.model.displayInd=W.dragDimensionDisplayInd),W.dragDimensionDisplayInd=X.model.displayInd}j(W.parcatsViewModel),K(W.parcatsViewModel),ae(W.parcatsViewModel),J(W.parcatsViewModel)}}function N(W){if(W.parcatsViewModel.arrangement!=="fixed"&&W.dragDimensionDisplayInd!==null){x.select(this).selectAll("text").attr("font-weight","normal");var Q={},ee=Y(W.parcatsViewModel),$=W.parcatsViewModel.model.dimensions.map(function(me){return me.displayInd}),X=W.initialDragDimensionDisplayInds.some(function(me,Ee){return me!==$[Ee]});X&&$.forEach(function(me,Ee){var xe=W.parcatsViewModel.model.dimensions[Ee].containerInd;Q["dimensions["+xe+"].displayindex"]=me});var oe=!1;if(W.dragCategoryDisplayInd!==null){var te=W.model.categories.map(function(me){return me.displayInd});if(oe=W.initialDragCategoryDisplayInds.some(function(me,Ee){return me!==te[Ee]}),oe){var fe=W.model.categories.slice().sort(function(me,Ee){return me.displayInd-Ee.displayInd}),pe=fe.map(function(me){return me.categoryValue}),Ae=fe.map(function(me){return me.categoryLabel});Q["dimensions["+W.model.containerInd+"].categoryarray"]=[pe],Q["dimensions["+W.model.containerInd+"].ticktext"]=[Ae],Q["dimensions["+W.model.containerInd+"].categoryorder"]="array"}}if(W.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!W.dragHasMoved&&W.potentialClickBand&&(W.parcatsViewModel.hoveron==="color"?p(W.potentialClickBand,"plotly_click",x.event.sourceEvent):E(W.potentialClickBand,"plotly_click",x.event.sourceEvent)),W.model.dragX=null,W.dragCategoryDisplayInd!==null){var be=W.parcatsViewModel.dimensions[W.dragDimensionDisplayInd].categories[W.dragCategoryDisplayInd];be.model.dragY=null,W.dragCategoryDisplayInd=null}W.dragDimensionDisplayInd=null,W.parcatsViewModel.dragDimension=null,W.dragHasMoved=null,W.potentialClickBand=null,j(W.parcatsViewModel),K(W.parcatsViewModel);var Pe=x.transition().duration(300).ease("cubic-in-out");Pe.each(function(){ae(W.parcatsViewModel,!0),J(W.parcatsViewModel,!0)}).each("end",function(){(X||oe)&&i.restyle(W.parcatsViewModel.graphDiv,Q,[ee])})}}function Y(W){for(var Q,ee=W.graphDiv._fullData,$=0;$<ee.length;$++)if(W.key===ee[$].uid){Q=$;break}return Q}function J(W,Q){Q===void 0&&(Q=!1);function ee($){return Q?$.transition():$}W.pathSelection.data(function($){return $.paths},n),ee(W.pathSelection).attr("d",function($){return $.svgD})}function ae(W,Q){Q===void 0&&(Q=!1);function ee(pe){return Q?pe.transition():pe}W.dimensionSelection.data(function(pe){return pe.dimensions},n);var $=W.dimensionSelection.selectAll("g.category").data(function(pe){return pe.categories},n);ee(W.dimensionSelection).attr("transform",function(pe){return c(pe.x,0)}),ee($).attr("transform",function(pe){return c(0,pe.y)});var X=$.select(".dimlabel");X.text(function(pe,Ae){return Ae===0?pe.parcatsViewModel.model.dimensions[pe.model.dimensionInd].dimensionLabel:null});var oe=$.select(".catlabel");oe.attr("text-anchor",function(pe){return u(pe)?"start":"end"}).attr("x",function(pe){return u(pe)?pe.width+5:-5}).each(function(pe){var Ae,be;u(pe)?(Ae=pe.width+5,be="start"):(Ae=-5,be="end"),x.select(this).selectAll("tspan").attr("x",Ae).attr("text-anchor",be)});var te=$.selectAll("rect.bandrect").data(function(pe){return pe.bands},n),fe=te.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(pe){return pe.color}).attr("fill-opacity",0);te.attr("fill",function(pe){return pe.color}).attr("width",function(pe){return pe.width}).attr("height",function(pe){return pe.height}).attr("y",function(pe){return pe.y}),m(fe),te.each(function(){C.raiseToTop(this)}),te.exit().remove()}function se(W,Q,ee){var $=ee[0],X=Q.margin||{l:80,r:80,t:100,b:80},oe=$.trace,te=oe.domain,fe=Q.width,pe=Q.height,Ae=Math.floor(fe*(te.x[1]-te.x[0])),be=Math.floor(pe*(te.y[1]-te.y[0])),Pe=te.x[0]*fe+X.l,me=Q.height-te.y[1]*Q.height+X.t,Ee=oe.line.shape,xe;oe.hoverinfo==="all"?xe=["count","probability"]:xe=(oe.hoverinfo||"").split("+");var De={trace:oe,key:oe.uid,model:$,x:Pe,y:me,width:Ae,height:be,hoveron:oe.hoveron,hoverinfoItems:xe,arrangement:oe.arrangement,bundlecolors:oe.bundlecolors,sortpaths:oe.sortpaths,labelfont:oe.labelfont,categorylabelfont:oe.tickfont,pathShape:Ee,dragDimension:null,margin:X,paths:[],dimensions:[],graphDiv:W,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(j(De),K(De)),De}function ue(W,Q,ee,$,X){var oe=[],te=[],fe,pe;for(pe=0;pe<ee.length-1;pe++)fe=P(ee[pe]+W[pe],W[pe+1]),oe.push(fe(X)),te.push(fe(1-X));var Ae="M "+W[0]+","+Q[0];for(Ae+="l"+ee[0]+",0 ",pe=1;pe<ee.length;pe++)Ae+="C"+oe[pe-1]+","+Q[pe-1]+" "+te[pe-1]+","+Q[pe]+" "+W[pe]+","+Q[pe],Ae+="l"+ee[pe]+",0 ";for(Ae+="l0,"+$+" ",Ae+="l -"+ee[ee.length-1]+",0 ",pe=ee.length-2;pe>=0;pe--)Ae+="C"+te[pe]+","+(Q[pe+1]+$)+" "+oe[pe]+","+(Q[pe]+$)+" "+(W[pe]+ee[pe])+","+(Q[pe]+$),Ae+="l-"+ee[pe]+",0 ";return Ae+="Z",Ae}function K(W){var Q=W.dimensions,ee=W.model,$=Q.map(function(tt){return tt.categories.map(function(Re){return Re.y})}),X=W.model.dimensions.map(function(tt){return tt.categories.map(function(Re){return Re.displayInd})}),oe=W.model.dimensions.map(function(tt){return tt.displayInd}),te=W.dimensions.map(function(tt){return tt.model.dimensionInd}),fe=Q.map(function(tt){return tt.x}),pe=Q.map(function(tt){return tt.width}),Ae=[];for(var be in ee.paths)ee.paths.hasOwnProperty(be)&&Ae.push(ee.paths[be]);function Pe(tt){var Re=tt.categoryInds.map(function(Je,Xe){return X[Xe][Je]}),Ge=te.map(function(Je){return Re[Je]});return Ge}Ae.sort(function(tt,Re){var Ge=Pe(tt),Je=Pe(Re);return W.sortpaths==="backward"&&(Ge.reverse(),Je.reverse()),Ge.push(tt.valueInds[0]),Je.push(Re.valueInds[0]),W.bundlecolors&&(Ge.unshift(tt.rawColor),Je.unshift(Re.rawColor)),Ge<Je?-1:Ge>Je?1:0});for(var me=new Array(Ae.length),Ee=Q[0].model.count,xe=Q[0].categories.map(function(tt){return tt.height}).reduce(function(tt,Re){return tt+Re}),De=0;De<Ae.length;De++){var Ve=Ae[De],Ze;Ee>0?Ze=xe*(Ve.count/Ee):Ze=0;for(var ke=new Array($.length),Ye=0;Ye<Ve.categoryInds.length;Ye++){var lt=Ve.categoryInds[Ye],yt=X[Ye][lt],He=oe[Ye];ke[He]=$[He][yt],$[He][yt]+=Ze;var Fe=W.dimensions[He].categories[yt],nt=Fe.bands.length,ot=Fe.bands[nt-1];if(ot===void 0||Ve.rawColor!==ot.rawColor){var ct=ot===void 0?0:ot.y+ot.height;Fe.bands.push({key:ct,color:Ve.color,rawColor:Ve.rawColor,height:Ze,width:Fe.width,count:Ve.count,y:ct,categoryViewModel:Fe,parcatsViewModel:W})}else{var ht=Fe.bands[nt-1];ht.height+=Ze,ht.count+=Ve.count}}var mt;W.pathShape==="hspline"?mt=ue(fe,ke,pe,Ze,.5):mt=ue(fe,ke,pe,Ze,0),me[De]={key:Ve.valueInds[0],model:Ve,height:Ze,leftXs:fe,topYs:ke,dimWidths:pe,svgD:mt,parcatsViewModel:W}}W.paths=me}function j(W){var Q=W.model.dimensions.map(function(te){return{displayInd:te.displayInd,dimensionInd:te.dimensionInd}});Q.sort(function(te,fe){return te.displayInd-fe.displayInd});var ee=[];for(var $ in Q){var X=Q[$].dimensionInd,oe=W.model.dimensions[X];ee.push(ie(W,oe))}W.dimensions=ee}function ie(W,Q){var ee=40,$=16,X=W.model.dimensions.length,oe=Q.displayInd,te,fe,pe;X>1?te=(W.width-2*ee-$)/(X-1):te=0,fe=ee,pe=fe+te*oe;var Ae=[],be=W.model.maxCats,Pe=Q.categories.length,me=8,Ee=Q.count,xe=W.height-me*(be-1),De,Ve,Ze,ke,Ye,lt=(be-Pe)*me/2,yt=Q.categories.map(function(He){return{displayInd:He.displayInd,categoryInd:He.categoryInd}});for(yt.sort(function(He,Fe){return He.displayInd-Fe.displayInd}),Ye=0;Ye<Pe;Ye++)ke=yt[Ye].categoryInd,Ve=Q.categories[ke],Ee>0?De=Ve.count/Ee*xe:De=0,Ze={key:Ve.valueInds[0],model:Ve,width:$,height:De,y:Ve.dragY!==null?Ve.dragY:lt,bands:[],parcatsViewModel:W},lt=lt+De+me,Ae.push(Ze);return{key:Q.dimensionInd,x:Q.dragX!==null?Q.dragX:pe,y:0,width:$,model:Q,categories:Ae,parcatsViewModel:W,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(V,U,e){"use strict";var x=e(51036);V.exports=function(i,L,C,c){var y=i._fullLayout,r=y._paper,t=y._size;x(i,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},C,c)}},82296:function(V,U,e){"use strict";var x=e(49084),P=e(94724),i=e(25376),L=e(86968).u,C=e(92880).extendFlat,c=e(31780).templatedArray;V.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:c("dimension",{label:{valType:"string",editType:"plot"},tickvals:C({},P.tickvals,{editType:"plot"}),ticktext:C({},P.ticktext,{editType:"plot"}),tickformat:C({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:C({editType:"calc"},x("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(V,U,e){"use strict";var x=e(30140),P=e(33428),i=e(71688).keyFun,L=e(71688).repeat,C=e(3400).sorterAsc,c=e(3400).strTranslate,y=x.bar.snapRatio;function r(N,Y){return N*(1-y)+Y*y}var t=x.bar.snapClose;function s(N,Y){return N*(1-t)+Y*t}function n(N,Y,J,ae){if(u(J,ae))return J;var se=N?-1:1,ue=0,K=Y.length-1;if(se<0){var j=ue;ue=K,K=j}for(var ie=Y[ue],W=ie,Q=ue;se*Q<se*K;Q+=se){var ee=Q+se,$=Y[ee];if(se*J<se*s(ie,$))return r(ie,W);if(se*J<se*$||ee===K)return r($,ie);W=ie,ie=$}}function u(N,Y){for(var J=0;J<Y.length;J++)if(N>=Y[J][0]&&N<=Y[J][1])return!0;return!1}function l(N){N.attr("x",-x.bar.captureWidth/2).attr("width",x.bar.captureWidth)}function f(N){N.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(N){if(!N.brush.filterSpecified)return"0,"+N.height;for(var Y=h(N.brush.filter.getConsolidated(),N.height),J=[0],ae,se,ue,K=Y.length?Y[0][0]:null,j=0;j<Y.length;j++)ae=Y[j],se=ae[1]-ae[0],J.push(K),J.push(se),ue=j+1,ue<Y.length&&(K=Y[ue][0]-ae[1]);return J.push(N.height),J}function h(N,Y){return N.map(function(J){return J.map(function(ae){return Math.max(0,ae*Y)}).sort(C)})}function w(N,Y){var J=x.bar.handleHeight;if(!(Y>N[1]+J||Y<N[0]-J))return Y>=.9*N[1]+.1*N[0]?"n":Y<=.9*N[0]+.1*N[1]?"s":"ns"}function d(){P.select(document.body).style("cursor",null)}function o(N){N.attr("stroke-dasharray",g)}function v(N,Y){var J=P.select(N).selectAll(".highlight, .highlight-shadow"),ae=Y?J.transition().duration(x.bar.snapDuration).each("end",Y):J;o(ae)}function A(N,Y){var J=N.brush,ae=J.filterSpecified,se=NaN,ue={},K;if(ae){var j=N.height,ie=J.filter.getConsolidated(),W=h(ie,j),Q=NaN,ee=NaN,$=NaN;for(K=0;K<=W.length;K++){var X=W[K];if(X&&X[0]<=Y&&Y<=X[1]){Q=K;break}else if(ee=K?K-1:NaN,X&&X[0]>Y){$=K;break}}if(se=Q,isNaN(se)&&(isNaN(ee)||isNaN($)?se=isNaN(ee)?$:ee:se=Y-W[ee][1]<W[$][0]-Y?ee:$),!isNaN(se)){var oe=W[se],te=w(oe,Y);te&&(ue.interval=ie[se],ue.intervalPix=oe,ue.region=te)}}if(N.ordinal&&!ue.region){var fe=N.unitTickvals,pe=N.unitToPaddedPx.invert(Y);for(K=0;K<fe.length;K++){var Ae=[fe[Math.max(K-1,0)]*.25+fe[K]*.75,fe[Math.min(K+1,fe.length-1)]*.25+fe[K]*.75];if(pe>=Ae[0]&&pe<=Ae[1]){ue.clickableOrdinalRange=Ae;break}}}return ue}function b(N,Y){P.event.sourceEvent.stopPropagation();var J=Y.height-P.mouse(N)[1]-2*x.verticalPadding,ae=Y.unitToPaddedPx.invert(J),se=Y.brush,ue=A(Y,J),K=ue.interval,j=se.svgBrush;if(j.wasDragged=!1,j.grabbingBar=ue.region==="ns",j.grabbingBar){var ie=K.map(Y.unitToPaddedPx);j.grabPoint=J-ie[0]-x.verticalPadding,j.barLength=ie[1]-ie[0]}j.clickableOrdinalRange=ue.clickableOrdinalRange,j.stayingIntervals=Y.multiselect&&se.filterSpecified?se.filter.getConsolidated():[],K&&(j.stayingIntervals=j.stayingIntervals.filter(function(W){return W[0]!==K[0]&&W[1]!==K[1]})),j.startExtent=ue.region?K[ue.region==="s"?1:0]:ae,Y.parent.inBrushDrag=!0,j.brushStartCallback()}function M(N,Y){P.event.sourceEvent.stopPropagation();var J=Y.height-P.mouse(N)[1]-2*x.verticalPadding,ae=Y.brush.svgBrush;ae.wasDragged=!0,ae._dragging=!0,ae.grabbingBar?ae.newExtent=[J-ae.grabPoint,J+ae.barLength-ae.grabPoint].map(Y.unitToPaddedPx.invert):ae.newExtent=[ae.startExtent,Y.unitToPaddedPx.invert(J)].sort(C),Y.brush.filterSpecified=!0,ae.extent=ae.stayingIntervals.concat([ae.newExtent]),ae.brushCallback(Y),v(N.parentNode)}function m(N,Y){var J=Y.brush,ae=J.filter,se=J.svgBrush;se._dragging||(S(N,Y),M(N,Y),Y.brush.svgBrush.wasDragged=!1),se._dragging=!1;var ue=P.event;ue.sourceEvent.stopPropagation();var K=se.grabbingBar;if(se.grabbingBar=!1,se.grabLocation=void 0,Y.parent.inBrushDrag=!1,d(),!se.wasDragged){se.wasDragged=void 0,se.clickableOrdinalRange?J.filterSpecified&&Y.multiselect?se.extent.push(se.clickableOrdinalRange):(se.extent=[se.clickableOrdinalRange],J.filterSpecified=!0):K?(se.extent=se.stayingIntervals,se.extent.length===0&&R(J)):R(J),se.brushCallback(Y),v(N.parentNode),se.brushEndCallback(J.filterSpecified?ae.getConsolidated():[]);return}var j=function(){ae.set(ae.getConsolidated())};if(Y.ordinal){var ie=Y.unitTickvals;ie[ie.length-1]<ie[0]&&ie.reverse(),se.newExtent=[n(0,ie,se.newExtent[0],se.stayingIntervals),n(1,ie,se.newExtent[1],se.stayingIntervals)];var W=se.newExtent[1]>se.newExtent[0];se.extent=se.stayingIntervals.concat(W?[se.newExtent]:[]),se.extent.length||R(J),se.brushCallback(Y),W?v(N.parentNode,j):(j(),v(N.parentNode))}else j();se.brushEndCallback(J.filterSpecified?ae.getConsolidated():[])}function S(N,Y){var J=Y.height-P.mouse(N)[1]-2*x.verticalPadding,ae=A(Y,J),se="crosshair";ae.clickableOrdinalRange?se="pointer":ae.region&&(se=ae.region+"-resize"),P.select(document.body).style("cursor",se)}function T(N){N.on("mousemove",function(Y){P.event.preventDefault(),Y.parent.inBrushDrag||S(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||d()}).call(P.behavior.drag().on("dragstart",function(Y){b(this,Y)}).on("drag",function(Y){M(this,Y)}).on("dragend",function(Y){m(this,Y)}))}function a(N,Y){return N[0]-Y[0]}function E(N,Y,J){var ae=J._context.staticPlot,se=N.selectAll(".background").data(L);se.enter().append("rect").classed("background",!0).call(l).call(f).style("pointer-events",ae?"none":"auto").attr("transform",c(0,x.verticalPadding)),se.call(T).attr("height",function(j){return j.height-x.verticalPadding});var ue=N.selectAll(".highlight-shadow").data(L);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-x.bar.width/2).attr("stroke-width",x.bar.width+x.bar.strokeWidth).attr("stroke",Y).attr("opacity",x.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(j){return j.height}).call(o);var K=N.selectAll(".highlight").data(L);K.enter().append("line").classed("highlight",!0).attr("x",-x.bar.width/2).attr("stroke-width",x.bar.width-x.bar.strokeWidth).attr("stroke",x.bar.fillColor).attr("opacity",x.bar.fillOpacity).attr("stroke-linecap","butt"),K.attr("y1",function(j){return j.height}).call(o)}function p(N,Y,J){var ae=N.selectAll("."+x.cn.axisBrush).data(L,i);ae.enter().append("g").classed(x.cn.axisBrush,!0),E(ae,Y,J)}function k(N){return N.svgBrush.extent.map(function(Y){return Y.slice()})}function R(N){N.filterSpecified=!1,N.svgBrush.extent=[[-1/0,1/0]]}function B(N){return function(J){var ae=J.brush,se=k(ae),ue=se.slice();ae.filter.set(ue),N()}}function F(N){for(var Y=N.slice(),J=[],ae,se=Y.shift();se;){for(ae=se.slice();(se=Y.shift())&&se[0]<=ae[1];)ae[1]=Math.max(ae[1],se[1]);J.push(ae)}return J.length===1&&J[0][0]>J[0][1]&&(J=[]),J}function _(){var N=[],Y,J;return{set:function(ae){N=ae.map(function(se){return se.slice().sort(C)}).sort(a),N.length===1&&N[0][0]===-1/0&&N[0][1]===1/0&&(N=[[0,-1]]),Y=F(N),J=N.reduce(function(se,ue){return[Math.min(se[0],ue[0]),Math.max(se[1],ue[1])]},[1/0,-1/0])},get:function(){return N.slice()},getConsolidated:function(){return Y},getBounds:function(){return J}}}function O(N,Y,J,ae,se,ue){var K=_();return K.set(J),{filter:K,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:ae,brushCallback:B(se),brushEndCallback:ue}}}function z(N,Y){if(Array.isArray(N[0])?(N=N.map(function(ae){return ae.sort(C)}),Y.multiselect?N=F(N.sort(a)):N=[N[0]]):N=[N.sort(C)],Y.tickvals){var J=Y.tickvals.slice().sort(C);if(N=N.map(function(ae){var se=[n(0,J,ae[0],[]),n(1,J,ae[1],[])];if(se[1]>se[0])return se}).filter(function(ae){return ae}),!N.length)return}return N.length>1?N:N[0]}V.exports={makeBrush:O,ensureAxisBrush:p,cleanRanges:z}},61664:function(V,U,e){"use strict";V.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(V,U,e){"use strict";var x=e(33428),P=e(84888)._M,i=e(24196),L=e(9616);U.name="parcoords",U.plot=function(C){var c=P(C.calcdata,"parcoords")[0];c.length&&i(C,c)},U.clean=function(C,c,y,r){var t=r._has&&r._has("parcoords"),s=c._has&&c._has("parcoords");t&&!s&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},U.toSVG=function(C){var c=C._fullLayout._glimages,y=x.select(C).selectAll(".svg-container"),r=y.filter(function(s,n){return n===y.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var s=this,n=s.toDataURL("image/png"),u=c.append("svg:image");u.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}r.each(t),window.setTimeout(function(){x.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(V,U,e){"use strict";var x=e(3400).isArrayOrTypedArray,P=e(8932),i=e(71688).wrap;V.exports=function(c,y){var r,t;return P.hasColorscale(y,"line")&&x(y.line.color)?(r=y.line.color,t=P.extractOpts(y.line).colorscale,P.calc(c,y,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(y._length),t=[[0,y.line.color],[1,y.line.color]]),i({lineColor:r,cscale:t})};function L(C){for(var c=new Array(C),y=0;y<C;y++)c[y]=.5;return c}},30140:function(V){"use strict";V.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(V,U,e){"use strict";var x=e(3400),P=e(94288).hasColorscale,i=e(27260),L=e(86968).Q,C=e(51272),c=e(54460),y=e(82296),r=e(71864),t=e(30140).maxDimensionCount,s=e(26284);function n(l,f,g,h,w){var d=w("line.color",g);if(P(l,"line")&&x.isArrayOrTypedArray(d)){if(d.length)return w("line.colorscale"),i(l,f,h,w,{prefix:"line.",cLetter:"c"}),d.length;f.line.color=g}return 1/0}function u(l,f,g,h){function w(b,M){return x.coerce(l,f,y.dimensions,b,M)}var d=w("values"),o=w("visible");if(d&&d.length||(o=f.visible=!1),o){w("label"),w("tickvals"),w("ticktext"),w("tickformat");var v=w("range");f._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:v},c.setConvert(f._ax,h.layout),w("multiselect");var A=w("constraintrange");A&&(f.constraintrange=r.cleanRanges(A,f))}}V.exports=function(f,g,h,w){function d(M,m){return x.coerce(f,g,y,M,m)}var o=f.dimensions;Array.isArray(o)&&o.length>t&&(x.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var v=C(f,g,{name:"dimensions",layout:w,handleItemDefaults:u}),A=n(f,g,h,w,d);L(g,w,d),(!Array.isArray(v)||!v.length)&&(g.visible=!1),s(g,v,"values",A);var b={family:w.font.family,size:Math.round(w.font.size/1.2),color:w.font.color};x.coerceFont(d,"labelfont",b),x.coerceFont(d,"tickfont",b),x.coerceFont(d,"rangefont",b),d("labelangle"),d("labelside"),d("unselected.line.color"),d("unselected.line.opacity")}},95724:function(V,U,e){"use strict";var x=e(3400).isTypedArray;U.convertTypedArray=function(P){return x(P)?Array.prototype.slice.call(P):P},U.isOrdinal=function(P){return!!P.tickvals},U.isVisible=function(P){return P.visible||!("visible"in P)}},29928:function(V,U,e){"use strict";var x=e(61664);x.plot=e(24196),V.exports=x},51352:function(V,U,e){"use strict";var x=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),P=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),i=e(30140).maxDimensionCount,L=e(3400),C=1e-6,c=2048,y=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function s(m){m.read({x:0,y:0,width:1,height:1,data:y})}function n(m,S,T,a,E){var p=m._gl;p.enable(p.SCISSOR_TEST),p.scissor(S,T,a,E),m.clear({color:[0,0,0,0],depth:1})}function u(m,S,T,a,E,p){var k=p.key;function R(B){var F=Math.min(a,E-B*a);B===0&&(window.cancelAnimationFrame(T.currentRafs[k]),delete T.currentRafs[k],n(m,p.scissorX,p.scissorY,p.scissorWidth,p.viewBoxSize[1])),!T.clearOnly&&(p.count=2*F,p.offset=2*B*a,S(p),B*a+F<E&&(T.currentRafs[k]=window.requestAnimationFrame(function(){R(B+1)})),T.drawCompleted=!1)}T.drawCompleted||(s(m),T.drawCompleted=!0),R(0)}function l(m){return Math.max(C,Math.min(1-C,m))}function f(m,S){for(var T=new Array(256),a=0;a<256;a++)T[a]=m(a/255).concat(S);return T}function g(m,S){return(m>>>8*S)%256/255}function h(m,S,T){for(var a=new Array(m*(i+4)),E=0,p=0;p<m;p++){for(var k=0;k<i;k++)a[E++]=k<S.length?S[k].paddedUnitValues[p]:.5;a[E++]=g(p,2),a[E++]=g(p,1),a[E++]=g(p,0),a[E++]=l(T[p])}return a}function w(m,S,T){for(var a=new Array(S*8),E=0,p=0;p<S;p++)for(var k=0;k<2;k++)for(var R=0;R<4;R++){var B=m*4+R,F=T[p*64+B];B===63&&k===0&&(F*=-1),a[E++]=F}return a}function d(m){var S="0"+m;return S.substr(S.length-2)}function o(m){return m<i?"p"+d(m+1)+"_"+d(m+4):"colors"}function v(m,S,T){for(var a=0;a<=i;a+=4)m[o(a)](w(a/4,S,T))}function A(m){for(var S={},T=0;T<=i;T+=4)S[o(T)]=m.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return S}function b(m,S,T,a,E,p,k,R,B,F,_,O,z,N){for(var Y=[[],[]],J=0;J<64;J++)Y[0][J]=J===E?1:0,Y[1][J]=J===p?1:0;k*=N,R*=N,B*=N,F*=N;var ae=m.lines.canvasOverdrag*N,se=m.domain,ue=m.canvasWidth*N,K=m.canvasHeight*N,j=m.pad.l*N,ie=m.pad.b*N,W=m.layoutHeight*N,Q=m.layoutWidth*N,ee=m.deselectedLines.color,$=m.deselectedLines.opacity,X=L.extendFlat({key:_,resolution:[ue,K],viewBoxPos:[k+ae,R],viewBoxSize:[B,F],i0:E,i1:p,dim0A:Y[0].slice(0,16),dim0B:Y[0].slice(16,32),dim0C:Y[0].slice(32,48),dim0D:Y[0].slice(48,64),dim1A:Y[1].slice(0,16),dim1B:Y[1].slice(16,32),dim1C:Y[1].slice(32,48),dim1D:Y[1].slice(48,64),drwLayer:O,contextColor:[ee[0]/255,ee[1]/255,ee[2]/255,$!=="auto"?ee[3]*$:Math.max(1/255,Math.pow(1/m.lines.color.length,1/3))],scissorX:(a===S?0:k+ae)+(j-ae)+Q*se.x[0],scissorWidth:(a===T?ue-k+ae:B+.5)+(a===S?k+ae:0),scissorY:R+ie+W*se.y[0],scissorHeight:F,viewportX:j-ae+Q*se.x[0],viewportY:ie+W*se.y[0],viewportWidth:ue,viewportHeight:K},z);return X}function M(m){var S=c-1,T=Math.max(0,Math.floor(m[0]*S),0),a=Math.min(S,Math.ceil(m[1]*S),S);return[Math.min(T,a),Math.max(T,a)]}V.exports=function(m,S){var T=S.context,a=S.pick,E=S.regl,p=E._gl,k=p.getParameter(p.ALIASED_LINE_WIDTH_RANGE),R=Math.max(k[0],Math.min(k[1],S.viewModel.plotGlPixelRatio)),B={currentRafs:{},drawCompleted:!0,clearOnly:!1},F,_,O,z,N=A(E),Y,J=E.texture(t),ae=[];ue(S);var se=E({profile:!1,blend:{enable:T,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!T,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:x,frag:P,primitive:"lines",lineWidth:R,attributes:N,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:J,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function ue(ee){F=ee.model,_=ee.viewModel,O=_.dimensions.slice(),z=O[0]?O[0].values.length:0;var $=F.lines,X=a?$.color.map(function(te,fe){return fe/$.color.length}):$.color,oe=h(z,O,X);v(N,z,oe),!T&&!a&&(J=E.texture(L.extendFlat({data:f(F.unitToColor,255)},t)))}function K(ee){var $,X,oe,te=[[],[]];for(oe=0;oe<64;oe++){var fe=!ee&&oe<O.length?O[oe].brush.filter.getBounds():[-1/0,1/0];te[0][oe]=fe[0],te[1][oe]=fe[1]}var pe=c*8,Ae=new Array(pe);for($=0;$<pe;$++)Ae[$]=255;if(!ee)for($=0;$<O.length;$++){var be=$%8,Pe=($-be)/8,me=Math.pow(2,be),Ee=O[$],xe=Ee.brush.filter.get();if(!(xe.length<2)){var De=M(xe[0])[1];for(X=1;X<xe.length;X++){var Ve=M(xe[X]);for(oe=De+1;oe<Ve[0];oe++)Ae[oe*8+Pe]&=~me;De=Math.max(De,Ve[1])}}}var Ze={shape:[8,c],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return Y?Y(Ze):Y=E.texture(Ze),{maskTexture:Y,maskHeight:c,loA:te[0].slice(0,16),loB:te[0].slice(16,32),loC:te[0].slice(32,48),loD:te[0].slice(48,64),hiA:te[1].slice(0,16),hiB:te[1].slice(16,32),hiC:te[1].slice(32,48),hiD:te[1].slice(48,64)}}function j(ee,$,X){var oe=ee.length,te,fe,pe,Ae=1/0,be=-1/0;for(te=0;te<oe;te++)ee[te].dim0.canvasX<Ae&&(Ae=ee[te].dim0.canvasX,fe=te),ee[te].dim1.canvasX>be&&(be=ee[te].dim1.canvasX,pe=te);oe===0&&n(E,0,0,F.canvasWidth,F.canvasHeight);var Pe=K(T);for(te=0;te<oe;te++){var me=ee[te],Ee=me.dim0.crossfilterDimensionIndex,xe=me.dim1.crossfilterDimensionIndex,De=me.canvasX,Ve=me.canvasY,Ze=De+me.panelSizeX,ke=me.plotGlPixelRatio;if($||!ae[Ee]||ae[Ee][0]!==De||ae[Ee][1]!==Ze){ae[Ee]=[De,Ze];var Ye=b(F,fe,pe,te,Ee,xe,De,Ve,me.panelSizeX,me.panelSizeY,me.dim0.crossfilterDimensionIndex,T?0:a?2:1,Pe,ke);B.clearOnly=X;var lt=$?F.lines.blockLineCount:z;u(E,se,B,lt,z,Ye)}}}function ie(ee,$){return E.read({x:ee,y:$,width:1,height:1,data:r}),r}function W(ee,$,X,oe){var te=new Uint8Array(4*X*oe);return E.read({x:ee,y:$,width:X,height:oe,data:te}),te}function Q(){m.style["pointer-events"]="none",J.destroy(),Y&&Y.destroy();for(var ee in N)N[ee].destroy()}return{render:j,readPixel:ie,readPixels:W,destroy:Q,update:ue}}},26284:function(V){"use strict";V.exports=function(U,e,x,P){P||(P=1/0);var i,L;for(i=0;i<e.length;i++)L=e[i],L.visible&&(P=Math.min(P,L[x].length));for(P===1/0&&(P=0),U._length=P,i=0;i<e.length;i++)L=e[i],L.visible&&(L._length=P);return P}},36336:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=P.isArrayOrTypedArray,L=P.numberFormat,C=e(96824),c=e(54460),y=P.strRotate,r=P.strTranslate,t=e(72736),s=e(43616),n=e(8932),u=e(71688),l=u.keyFun,f=u.repeat,g=u.unwrap,h=e(95724),w=e(30140),d=e(71864),o=e(51352);function v(ae,se,ue){return P.aggNums(ae,null,se,ue)}function A(ae,se){return M(v(Math.min,ae,se),v(Math.max,ae,se))}function b(ae){var se=ae.range;return se?M(se[0],se[1]):A(ae.values,ae._length)}function M(ae,se){return(isNaN(ae)||!isFinite(ae))&&(ae=0),(isNaN(se)||!isFinite(se))&&(se=0),ae===se&&(ae===0?(ae-=1,se+=1):(ae*=.9,se*=1.1)),[ae,se]}function m(ae,se){return se?function(ue,K){var j=se[K];return j==null?ae(ue):j}:ae}function S(ae,se,ue,K,j){var ie=b(ue);return K?x.scale.ordinal().domain(K.map(m(L(ue.tickformat),j))).range(K.map(function(W){var Q=(W-ie[0])/(ie[1]-ie[0]);return ae-se+Q*(2*se-ae)})):x.scale.linear().domain(ie).range([ae-se,se])}function T(ae,se){return x.scale.linear().range([se,ae-se])}function a(ae,se){return x.scale.linear().domain(b(ae)).range([se,1-se])}function E(ae){if(ae.tickvals){var se=b(ae);return x.scale.ordinal().domain(ae.tickvals).range(ae.tickvals.map(function(ue){return(ue-se[0])/(se[1]-se[0])}))}}function p(ae){var se=ae.map(function(ie){return ie[0]}),ue=ae.map(function(ie){var W=C(ie[1]);return x.rgb("rgb("+W[0]+","+W[1]+","+W[2]+")")}),K=function(ie){return function(W){return W[ie]}},j="rgb".split("").map(function(ie){return x.scale.linear().clamp(!0).domain(se).range(ue.map(K(ie)))});return function(ie){return j.map(function(W){return W(ie)})}}function k(ae){return ae.dimensions.some(function(se){return se.brush.filterSpecified})}function R(ae,se,ue){var K=g(se),j=K.trace,ie=h.convertTypedArray(K.lineColor),W=j.line,Q={color:C(j.unselected.line.color),opacity:j.unselected.line.opacity},ee=n.extractOpts(W),$=ee.reversescale?n.flipScale(K.cscale):K.cscale,X=j.domain,oe=j.dimensions,te=ae.width,fe=j.labelangle,pe=j.labelside,Ae=j.labelfont,be=j.tickfont,Pe=j.rangefont,me=P.extendDeepNoArrays({},W,{color:ie.map(x.scale.linear().domain(b({values:ie,range:[ee.min,ee.max],_length:j._length}))),blockLineCount:w.blockLineCount,canvasOverdrag:w.overdrag*w.canvasPixelRatio}),Ee=Math.floor(te*(X.x[1]-X.x[0])),xe=Math.floor(ae.height*(X.y[1]-X.y[0])),De=ae.margin||{l:80,r:80,t:100,b:80},Ve=Ee,Ze=xe;return{key:ue,colCount:oe.filter(h.isVisible).length,dimensions:oe,tickDistance:w.tickDistance,unitToColor:p($),lines:me,deselectedLines:Q,labelAngle:fe,labelSide:pe,labelFont:Ae,tickFont:be,rangeFont:Pe,layoutWidth:te,layoutHeight:ae.height,domain:X,translateX:X.x[0]*te,translateY:ae.height-X.y[1]*ae.height,pad:De,canvasWidth:Ve*w.canvasPixelRatio+2*me.canvasOverdrag,canvasHeight:Ze*w.canvasPixelRatio,width:Ve,height:Ze,canvasPixelRatio:w.canvasPixelRatio}}function B(ae,se,ue){var K=ue.width,j=ue.height,ie=ue.dimensions,W=ue.canvasPixelRatio,Q=function(te){return K*te/Math.max(1,ue.colCount-1)},ee=w.verticalPadding/j,$=T(j,w.verticalPadding),X={key:ue.key,xScale:Q,model:ue,inBrushDrag:!1},oe={};return X.dimensions=ie.filter(h.isVisible).map(function(te,fe){var pe=a(te,ee),Ae=oe[te.label];oe[te.label]=(Ae||0)+1;var be=te.label+(Ae?"__"+Ae:""),Pe=te.constraintrange,me=Pe&&Pe.length;me&&!i(Pe[0])&&(Pe=[Pe]);var Ee=me?Pe.map(function(Fe){return Fe.map(pe)}):[[-1/0,1/0]],xe=function(){var Fe=X;Fe.focusLayer&&Fe.focusLayer.render(Fe.panels,!0);var nt=k(Fe);!ae.contextShown()&&nt?(Fe.contextLayer&&Fe.contextLayer.render(Fe.panels,!0),ae.contextShown(!0)):ae.contextShown()&&!nt&&(Fe.contextLayer&&Fe.contextLayer.render(Fe.panels,!0,!0),ae.contextShown(!1))},De=te.values;De.length>te._length&&(De=De.slice(0,te._length));var Ve=te.tickvals,Ze;function ke(Fe,nt){return{val:Fe,text:Ze[nt]}}function Ye(Fe,nt){return Fe.val-nt.val}if(i(Ve)&&Ve.length){P.isTypedArray(Ve)&&(Ve=Array.from(Ve)),Ze=te.ticktext,!i(Ze)||!Ze.length?Ze=Ve.map(L(te.tickformat)):Ze.length>Ve.length?Ze=Ze.slice(0,Ve.length):Ve.length>Ze.length&&(Ve=Ve.slice(0,Ze.length));for(var lt=1;lt<Ve.length;lt++)if(Ve[lt]<Ve[lt-1]){for(var yt=Ve.map(ke).sort(Ye),He=0;He<Ve.length;He++)Ve[He]=yt[He].val,Ze[He]=yt[He].text;break}}else Ve=void 0;return De=h.convertTypedArray(De),{key:be,label:te.label,tickFormat:te.tickformat,tickvals:Ve,ticktext:Ze,ordinal:h.isOrdinal(te),multiselect:te.multiselect,xIndex:fe,crossfilterDimensionIndex:fe,visibleIndex:te._index,height:j,values:De,paddedUnitValues:De.map(pe),unitTickvals:Ve&&Ve.map(pe),xScale:Q,x:Q(fe),canvasX:Q(fe)*W,unitToPaddedPx:$,domainScale:S(j,w.verticalPadding,te,Ve,Ze),ordinalScale:E(te),parent:X,model:ue,brush:d.makeBrush(ae,me,Ee,function(){ae.linePickActive(!1)},xe,function(Fe){if(X.focusLayer.render(X.panels,!0),X.pickLayer&&X.pickLayer.render(X.panels,!0),ae.linePickActive(!0),se&&se.filterChanged){var nt=pe.invert,ot=Fe.map(function(ct){return ct.map(nt).sort(P.sorterAsc)}).sort(function(ct,ht){return ct[0]-ht[0]});se.filterChanged(X.key,te._index,ot)}})}}),X}function F(ae){ae.classed(w.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function _(){var ae=!0,se=!1;return{linePickActive:function(ue){return arguments.length?ae=!!ue:ae},contextShown:function(ue){return arguments.length?se=!!ue:se}}}function O(ae,se){var ue=se==="top"?1:-1,K=ae*Math.PI/180,j=Math.sin(K),ie=Math.cos(K);return{dir:ue,dx:j,dy:ie,degrees:ae}}function z(ae,se,ue){for(var K=se.panels||(se.panels=[]),j=ae.data(),ie=0;ie<j.length-1;ie++){var W=K[ie]||(K[ie]={}),Q=j[ie],ee=j[ie+1];W.dim0=Q,W.dim1=ee,W.canvasX=Q.canvasX,W.panelSizeX=ee.canvasX-Q.canvasX,W.panelSizeY=se.model.canvasHeight,W.y=0,W.canvasY=0,W.plotGlPixelRatio=ue}}function N(ae){for(var se=0;se<ae.length;se++)for(var ue=0;ue<ae[se].length;ue++)for(var K=ae[se][ue].trace,j=K.dimensions,ie=0;ie<j.length;ie++){var W=j[ie].values,Q=j[ie]._ax;Q&&(Q.range?Q.range=M(Q.range[0],Q.range[1]):Q.range=A(W,K._length),Q.dtick||(Q.dtick=.01*(Math.abs(Q.range[1]-Q.range[0])||1)),Q.tickformat=j[ie].tickformat,c.calcTicks(Q),Q.cleanRange())}}function Y(ae,se){return c.tickText(ae._ax,se,!1).text}function J(ae,se){if(ae.ordinal)return"";var ue=ae.domainScale.domain(),K=ue[se?ue.length-1:0];return Y(ae.model.dimensions[ae.visibleIndex],K)}V.exports=function(se,ue,K,j){var ie=se._context.staticPlot,W=se._fullLayout,Q=W._toppaper,ee=W._glcontainer,$=se._context.plotGlPixelRatio,X=se._fullLayout.paper_bgcolor;N(ue);var oe=_(),te=ue.filter(function(He){return g(He).trace.visible}).map(R.bind(0,K)).map(B.bind(0,oe,j));ee.each(function(He,Fe){return P.extendFlat(He,te[Fe])});var fe=ee.selectAll(".gl-canvas").each(function(He){He.viewModel=te[0],He.viewModel.plotGlPixelRatio=$,He.viewModel.paperColor=X,He.model=He.viewModel?He.viewModel.model:null}),pe=null,Ae=fe.filter(function(He){return He.pick});Ae.style("pointer-events",ie?"none":"auto").on("mousemove",function(He){if(oe.linePickActive()&&He.lineLayer&&j&&j.hover){var Fe=x.event,nt=this.width,ot=this.height,ct=x.mouse(this),ht=ct[0],mt=ct[1];if(ht<0||mt<0||ht>=nt||mt>=ot)return;var tt=He.lineLayer.readPixel(ht,ot-1-mt),Re=tt[3]!==0,Ge=Re?tt[2]+256*(tt[1]+256*tt[0]):null,Je={x:ht,y:mt,clientX:Fe.clientX,clientY:Fe.clientY,dataIndex:He.model.key,curveNumber:Ge};Ge!==pe&&(Re?j.hover(Je):j.unhover&&j.unhover(Je),pe=Ge)}}),fe.style("opacity",function(He){return He.pick?0:1}),Q.style("background","rgba(255, 255, 255, 0)");var be=Q.selectAll("."+w.cn.parcoords).data(te,l);be.exit().remove(),be.enter().append("g").classed(w.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),be.attr("transform",function(He){return r(He.model.translateX,He.model.translateY)});var Pe=be.selectAll("."+w.cn.parcoordsControlView).data(f,l);Pe.enter().append("g").classed(w.cn.parcoordsControlView,!0),Pe.attr("transform",function(He){return r(He.model.pad.l,He.model.pad.t)});var me=Pe.selectAll("."+w.cn.yAxis).data(function(He){return He.dimensions},l);me.enter().append("g").classed(w.cn.yAxis,!0),Pe.each(function(He){z(me,He,$)}),fe.each(function(He){if(He.viewModel){!He.lineLayer||j?He.lineLayer=o(this,He):He.lineLayer.update(He),(He.key||He.key===0)&&(He.viewModel[He.key]=He.lineLayer);var Fe=!He.context||j;He.lineLayer.render(He.viewModel.panels,Fe)}}),me.attr("transform",function(He){return r(He.xScale(He.xIndex),0)}),me.call(x.behavior.drag().origin(function(He){return He}).on("drag",function(He){var Fe=He.parent;oe.linePickActive(!1),He.x=Math.max(-w.overdrag,Math.min(He.model.width+w.overdrag,x.event.x)),He.canvasX=He.x*He.model.canvasPixelRatio,me.sort(function(nt,ot){return nt.x-ot.x}).each(function(nt,ot){nt.xIndex=ot,nt.x=He===nt?nt.x:nt.xScale(nt.xIndex),nt.canvasX=nt.x*nt.model.canvasPixelRatio}),z(me,Fe,$),me.filter(function(nt){return Math.abs(He.xIndex-nt.xIndex)!==0}).attr("transform",function(nt){return r(nt.xScale(nt.xIndex),0)}),x.select(this).attr("transform",r(He.x,0)),me.each(function(nt,ot,ct){ct===He.parent.key&&(Fe.dimensions[ot]=nt)}),Fe.contextLayer&&Fe.contextLayer.render(Fe.panels,!1,!k(Fe)),Fe.focusLayer.render&&Fe.focusLayer.render(Fe.panels)}).on("dragend",function(He){var Fe=He.parent;He.x=He.xScale(He.xIndex),He.canvasX=He.x*He.model.canvasPixelRatio,z(me,Fe,$),x.select(this).attr("transform",function(nt){return r(nt.x,0)}),Fe.contextLayer&&Fe.contextLayer.render(Fe.panels,!1,!k(Fe)),Fe.focusLayer&&Fe.focusLayer.render(Fe.panels),Fe.pickLayer&&Fe.pickLayer.render(Fe.panels,!0),oe.linePickActive(!0),j&&j.axesMoved&&j.axesMoved(Fe.key,Fe.dimensions.map(function(nt){return nt.crossfilterDimensionIndex}))})),me.exit().remove();var Ee=me.selectAll("."+w.cn.axisOverlays).data(f,l);Ee.enter().append("g").classed(w.cn.axisOverlays,!0),Ee.selectAll("."+w.cn.axis).remove();var xe=Ee.selectAll("."+w.cn.axis).data(f,l);xe.enter().append("g").classed(w.cn.axis,!0),xe.each(function(He){var Fe=He.model.height/He.model.tickDistance,nt=He.domainScale,ot=nt.domain();x.select(this).call(x.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Fe,He.tickFormat).tickValues(He.ordinal?ot:null).tickFormat(function(ct){return h.isOrdinal(He)?ct:Y(He.model.dimensions[He.visibleIndex],ct)}).scale(nt)),s.font(xe.selectAll("text"),He.model.tickFont)}),xe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),xe.selectAll("text").style("text-shadow",t.makeTextShadow(X)).style("cursor","default");var De=Ee.selectAll("."+w.cn.axisHeading).data(f,l);De.enter().append("g").classed(w.cn.axisHeading,!0);var Ve=De.selectAll("."+w.cn.axisTitle).data(f,l);Ve.enter().append("text").classed(w.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ie?"none":"auto"),Ve.text(function(He){return He.label}).each(function(He){var Fe=x.select(this);s.font(Fe,He.model.labelFont),t.convertToTspans(Fe,se)}).attr("transform",function(He){var Fe=O(He.model.labelAngle,He.model.labelSide),nt=w.axisTitleOffset;return(Fe.dir>0?"":r(0,2*nt+He.model.height))+y(Fe.degrees)+r(-nt*Fe.dx,-nt*Fe.dy)}).attr("text-anchor",function(He){var Fe=O(He.model.labelAngle,He.model.labelSide),nt=Math.abs(Fe.dx),ot=Math.abs(Fe.dy);return 2*nt>ot?Fe.dir*Fe.dx<0?"start":"end":"middle"});var Ze=Ee.selectAll("."+w.cn.axisExtent).data(f,l);Ze.enter().append("g").classed(w.cn.axisExtent,!0);var ke=Ze.selectAll("."+w.cn.axisExtentTop).data(f,l);ke.enter().append("g").classed(w.cn.axisExtentTop,!0),ke.attr("transform",r(0,-w.axisExtentOffset));var Ye=ke.selectAll("."+w.cn.axisExtentTopText).data(f,l);Ye.enter().append("text").classed(w.cn.axisExtentTopText,!0).call(F),Ye.text(function(He){return J(He,!0)}).each(function(He){s.font(x.select(this),He.model.rangeFont)});var lt=Ze.selectAll("."+w.cn.axisExtentBottom).data(f,l);lt.enter().append("g").classed(w.cn.axisExtentBottom,!0),lt.attr("transform",function(He){return r(0,He.model.height+w.axisExtentOffset)});var yt=lt.selectAll("."+w.cn.axisExtentBottomText).data(f,l);yt.enter().append("text").classed(w.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),yt.text(function(He){return J(He,!1)}).each(function(He){s.font(x.select(this),He.model.rangeFont)}),d.ensureAxisBrush(Ee,X,se)}},24196:function(V,U,e){"use strict";var x=e(36336),P=e(5048),i=e(95724).isVisible,L={};function C(r,t,s){var n=t.indexOf(s),u=r.indexOf(n);return u===-1&&(u+=t.length),u}function c(r,t){return function(n,u){return C(r,t,n)-C(r,t,u)}}var y=V.exports=function(t,s){var n=t._fullLayout,u=P(t,[],L);if(u){var l={},f={},g={},h={},w=n._size;s.forEach(function(b,M){var m=b[0].trace;g[M]=m.index;var S=h[M]=m._fullInput.index;l[M]=t.data[S].dimensions,f[M]=t.data[S].dimensions.slice()});var d=function(b,M,m){var S=f[b][M],T=m.map(function(B){return B.slice()}),a="dimensions["+M+"].constraintrange",E=n._tracePreGUI[t._fullData[g[b]]._fullInput.uid];if(E[a]===void 0){var p=S.constraintrange;E[a]=p||null}var k=t._fullData[g[b]].dimensions[M];T.length?(T.length===1&&(T=T[0]),S.constraintrange=T,k.constraintrange=T.slice(),T=[T]):(delete S.constraintrange,delete k.constraintrange,T=null);var R={};R[a]=T,t.emit("plotly_restyle",[R,[h[b]]])},o=function(b){t.emit("plotly_hover",b)},v=function(b){t.emit("plotly_unhover",b)},A=function(b,M){var m=c(M,f[b].filter(i));l[b].sort(m),f[b].filter(function(S){return!i(S)}).sort(function(S){return f[b].indexOf(S)}).forEach(function(S){l[b].splice(l[b].indexOf(S),1),l[b].splice(f[b].indexOf(S),0,S)}),t.emit("plotly_restyle",[{dimensions:[l[b]]},[h[b]]])};x(t,s,{width:w.w,height:w.h,margin:{t:w.t,r:w.r,b:w.b,l:w.l}},{filterChanged:d,hover:o,unhover:v,axesMoved:A})}};y.reglPrecompiled=L},74996:function(V,U,e){"use strict";var x=e(45464),P=e(86968).u,i=e(25376),L=e(22548),C=e(21776).Ks,c=e(21776).Gw,y=e(92880).extendFlat,r=e(98192).c,t=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});V.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:y({},x.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","percent","text"]}),texttemplate:c({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:y({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:y({},t,{}),outsidetextfont:y({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:y({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:y({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(V,U,e){"use strict";var x=e(7316);U.name="pie",U.plot=function(P,i,L,C){x.plotBasePlot(U.name,P,i,L,C)},U.clean=function(P,i,L,C){x.cleanBasePlot(U.name,P,i,L,C)}},45768:function(V,U,e){"use strict";var x=e(38248),P=e(49760),i=e(76308),L={};function C(t,s){var n=[],u=t._fullLayout,l=u.hiddenlabels||[],f=s.labels,g=s.marker.colors||[],h=s.values,w=s._length,d=s._hasValues&&w,o,v;if(s.dlabel)for(f=new Array(w),o=0;o<w;o++)f[o]=String(s.label0+o*s.dlabel);var A={},b=c(u["_"+s.type+"colormap"]),M=0,m=!1;for(o=0;o<w;o++){var S,T,a;if(d){if(S=h[o],!x(S))continue;S=+S}else S=1;T=f[o],(T===void 0||T==="")&&(T=o),T=String(T);var E=A[T];E===void 0?(A[T]=n.length,a=l.indexOf(T)!==-1,a||(M+=S),n.push({v:S,label:T,color:b(g[o],T),i:o,pts:[o],hidden:a})):(m=!0,v=n[E],v.v+=S,v.pts.push(o),v.hidden||(M+=S),v.color===!1&&g[o]&&(v.color=b(g[o],T)))}n=n.filter(function(k){return k.v>=0});var p=s.type==="funnelarea"?m:s.sort;return p&&n.sort(function(k,R){return R.v-k.v}),n[0]&&(n[0].vTotal=M),n}function c(t){return function(n,u){return!n||(n=P(n),!n.isValid())?!1:(n=i.addOpacity(n,n.getAlpha()),t[u]||(t[u]=n),n)}}function y(t,s){var n=(s||{}).type;n||(n="pie");var u=t._fullLayout,l=t.calcdata,f=u[n+"colorway"],g=u["_"+n+"colormap"];u["extend"+n+"colors"]&&(f=r(f,L));for(var h=0,w=0;w<l.length;w++){var d=l[w],o=d[0].trace.type;if(o===n)for(var v=0;v<d.length;v++){var A=d[v];A.color===!1&&(g[A.label]?A.color=g[A.label]:(g[A.label]=A.color=f[h%f.length],h++))}}}function r(t,s){var n,u=JSON.stringify(t),l=s[u];if(!l){for(l=t.slice(),n=0;n<t.length;n++)l.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)l.push(P(t[n]).darken(20).toHexString());s[u]=l}return l}V.exports={calc:C,crossTraceCalc:y,makePullColorFn:c,generateExtendedColors:r}},74174:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(74996),L=e(86968).Q,C=e(31508).handleText,c=e(3400).coercePattern;function y(s,n){var u=P.isArrayOrTypedArray(s),l=P.isArrayOrTypedArray(n),f=Math.min(u?s.length:1/0,l?n.length:1/0);if(isFinite(f)||(f=0),f&&l){for(var g,h=0;h<f;h++){var w=n[h];if(x(w)&&w>0){g=!0;break}}g||(f=0)}return{hasLabels:u,hasValues:l,len:f}}function r(s,n,u,l,f){var g=l("marker.line.width");g&&l("marker.line.color",f?void 0:u.paper_bgcolor);var h=l("marker.colors");c(l,"marker.pattern",h),s.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=s.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=u.paper_bgcolor)}function t(s,n,u,l){function f(E,p){return P.coerce(s,n,i,E,p)}var g=f("labels"),h=f("values"),w=y(g,h),d=w.len;if(n._hasLabels=w.hasLabels,n._hasValues=w.hasValues,!n._hasLabels&&n._hasValues&&(f("label0"),f("dlabel")),!d){n.visible=!1;return}n._length=d,r(s,n,l,f,!0),f("scalegroup");var o=f("text"),v=f("texttemplate"),A;if(v||(A=f("textinfo",P.isArrayOrTypedArray(o)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),v||A&&A!=="none"){var b=f("textposition");C(s,n,l,f,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var M=Array.isArray(b)||b==="auto",m=M||b==="outside";m&&f("automargin"),(b==="inside"||b==="auto"||Array.isArray(b))&&f("insidetextorientation")}else A==="none"&&f("textposition","none");L(n,l,f);var S=f("hole"),T=f("title.text");if(T){var a=f("title.position",S?"middle center":"top center");!S&&a==="middle center"&&(n.title.position="top center"),P.coerceFont(f,"title.font",l.font)}f("sort"),f("direction"),f("rotation"),f("pull")}V.exports={handleLabelsAndValues:y,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(V,U,e){"use strict";var x=e(10624).appendArrayMultiPointValues;V.exports=function(i,L){var C={curveNumber:L.index,pointNumbers:i.pts,data:L._input,fullData:L,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return i.pts.length===1&&(C.pointNumber=C.i=i.pts[0]),x(C,L,i.pts),L.type==="funnelarea"&&(delete C.v,delete C.i),C}},21552:function(V,U,e){"use strict";var x=e(43616),P=e(76308);V.exports=function(L,C,c,y){var r=c.marker.pattern;r&&r.shape?x.pointStyle(L,c,y,C):P.fill(L,C.color)}},69656:function(V,U,e){"use strict";var x=e(3400);function P(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}U.formatPiePercent=function(L,C){var c=P((L*100).toPrecision(3));return x.numSeparate(c,C)+"%"},U.formatPieValue=function(L,C){var c=P(L.toPrecision(10));return x.numSeparate(c,C)},U.getFirstFilled=function(L,C){if(x.isArrayOrTypedArray(L))for(var c=0;c<C.length;c++){var y=L[C[c]];if(y||y===0||y==="")return y}},U.castOption=function(L,C){if(x.isArrayOrTypedArray(L))return U.getFirstFilled(L,C);if(L)return L},U.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},75792:function(V,U,e){"use strict";V.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(V){"use strict";V.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(V,U,e){"use strict";var x=e(3400),P=e(85204);V.exports=function(L,C){function c(y,r){return x.coerce(L,C,P,y,r)}c("hiddenlabels"),c("piecolorway",C.colorway),c("extendpiecolors")}},37820:function(V,U,e){"use strict";var x=e(33428),P=e(7316),i=e(93024),L=e(76308),C=e(43616),c=e(3400),y=c.strScale,r=c.strTranslate,t=e(72736),s=e(82744),n=s.recordMinTextSize,u=s.clearMinTextSize,l=e(78048).TEXTPAD,f=e(69656),g=e(53644),h=e(3400).isValidTextValue;function w(j,ie){var W=j._context.staticPlot,Q=j._fullLayout,ee=Q._size;u("pie",Q),b(ie,j),Y(ie,ee);var $=c.makeTraceGroups(Q._pielayer,ie,"trace").each(function(X){var oe=x.select(this),te=X[0],fe=te.trace;ae(X),oe.attr("stroke-linejoin","round"),oe.each(function(){var pe=x.select(this).selectAll("g.slice").data(X);pe.enter().append("g").classed("slice",!0),pe.exit().remove();var Ae=[[[],[]],[[],[]]],be=!1;pe.each(function(ke,Ye){if(ke.hidden){x.select(this).selectAll("path,g").remove();return}ke.pointNumber=ke.i,ke.curveNumber=fe.index,Ae[ke.pxmid[1]<0?0:1][ke.pxmid[0]<0?0:1].push(ke);var lt=te.cx,yt=te.cy,He=x.select(this),Fe=He.selectAll("path.surface").data([ke]);if(Fe.enter().append("path").classed("surface",!0).style({"pointer-events":W?"none":"all"}),He.call(o,j,X),fe.pull){var nt=+f.castOption(fe.pull,ke.pts)||0;nt>0&&(lt+=nt*ke.pxmid[0],yt+=nt*ke.pxmid[1])}ke.cxFinal=lt,ke.cyFinal=yt;function ot(Je,Xe,Oe,Ne){var ze=Ne*(Xe[0]-Je[0]),et=Ne*(Xe[1]-Je[1]);return"a"+Ne*te.r+","+Ne*te.r+" 0 "+ke.largeArc+(Oe?" 1 ":" 0 ")+ze+","+et}var ct=fe.hole;if(ke.v===te.vTotal){var ht="M"+(lt+ke.px0[0])+","+(yt+ke.px0[1])+ot(ke.px0,ke.pxmid,!0,1)+ot(ke.pxmid,ke.px0,!0,1)+"Z";ct?Fe.attr("d","M"+(lt+ct*ke.px0[0])+","+(yt+ct*ke.px0[1])+ot(ke.px0,ke.pxmid,!1,ct)+ot(ke.pxmid,ke.px0,!1,ct)+"Z"+ht):Fe.attr("d",ht)}else{var mt=ot(ke.px0,ke.px1,!0,1);if(ct){var tt=1-ct;Fe.attr("d","M"+(lt+ct*ke.px1[0])+","+(yt+ct*ke.px1[1])+ot(ke.px1,ke.px0,!1,ct)+"l"+tt*ke.px0[0]+","+tt*ke.px0[1]+mt+"Z")}else Fe.attr("d","M"+lt+","+yt+"l"+ke.px0[0]+","+ke.px0[1]+mt+"Z")}ue(j,ke,te);var Re=f.castOption(fe.textposition,ke.pts),Ge=He.selectAll("g.slicetext").data(ke.text&&Re!=="none"?[0]:[]);Ge.enter().append("g").classed("slicetext",!0),Ge.exit().remove(),Ge.each(function(){var Je=c.ensureSingle(x.select(this),"text","",function(ye){ye.attr("data-notex",1)}),Xe=c.ensureUniformFontSize(j,Re==="outside"?v(fe,ke,Q.font):A(fe,ke,Q.font));Je.text(ke.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(C.font,Xe).call(t.convertToTspans,j);var Oe=C.bBox(Je.node()),Ne;if(Re==="outside")Ne=R(Oe,ke);else if(Ne=M(Oe,ke,te),Re==="auto"&&Ne.scale<1){var ze=c.ensureUniformFontSize(j,fe.outsidetextfont);Je.call(C.font,ze),Oe=C.bBox(Je.node()),Ne=R(Oe,ke)}var et=Ne.textPosAngle,Le=et===void 0?ke.pxmid:se(te.r,et);if(Ne.targetX=lt+Le[0]*Ne.rCenter+(Ne.x||0),Ne.targetY=yt+Le[1]*Ne.rCenter+(Ne.y||0),K(Ne,Oe),Ne.outside){var Te=Ne.targetY;ke.yLabelMin=Te-Oe.height/2,ke.yLabelMid=Te,ke.yLabelMax=Te+Oe.height/2,ke.labelExtraX=0,ke.labelExtraY=0,be=!0}Ne.fontSize=Xe.size,n(fe.type,Ne,Q),X[Ye].transform=Ne,c.setTransormAndDisplay(Je,Ne)})});var Pe=x.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(Pe.enter().append("g").classed("titletext",!0),Pe.exit().remove(),Pe.each(function(){var ke=c.ensureSingle(x.select(this),"text","",function(yt){yt.attr("data-notex",1)}),Ye=fe.title.text;fe._meta&&(Ye=c.templateString(Ye,fe._meta)),ke.text(Ye).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(C.font,fe.title.font).call(t.convertToTspans,j);var lt;fe.title.position==="middle center"?lt=B(te):lt=F(te,ee),ke.attr("transform",r(lt.x,lt.y)+y(Math.min(1,lt.scale))+r(lt.tx,lt.ty))}),be&&N(Ae,fe),d(pe,fe),be&&fe.automargin){var me=C.bBox(oe.node()),Ee=fe.domain,xe=ee.w*(Ee.x[1]-Ee.x[0]),De=ee.h*(Ee.y[1]-Ee.y[0]),Ve=(.5*xe-te.r)/ee.w,Ze=(.5*De-te.r)/ee.h;P.autoMargin(j,"pie."+fe.uid+".automargin",{xl:Ee.x[0]-Ve,xr:Ee.x[1]+Ve,yb:Ee.y[0]-Ze,yt:Ee.y[1]+Ze,l:Math.max(te.cx-te.r-me.left,0),r:Math.max(me.right-(te.cx+te.r),0),b:Math.max(me.bottom-(te.cy+te.r),0),t:Math.max(te.cy-te.r-me.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var X=x.select(this);X.attr("dy")&&X.attr("dy",X.attr("dy"))})},0)}function d(j,ie){j.each(function(W){var Q=x.select(this);if(!W.labelExtraX&&!W.labelExtraY){Q.select("path.textline").remove();return}var ee=Q.select("g.slicetext text");W.transform.targetX+=W.labelExtraX,W.transform.targetY+=W.labelExtraY,c.setTransormAndDisplay(ee,W.transform);var $=W.cxFinal+W.pxmid[0],X=W.cyFinal+W.pxmid[1],oe="M"+$+","+X,te=(W.yLabelMax-W.yLabelMin)*(W.pxmid[0]<0?-1:1)/4;if(W.labelExtraX){var fe=W.labelExtraX*W.pxmid[1]/W.pxmid[0],pe=W.yLabelMid+W.labelExtraY-(W.cyFinal+W.pxmid[1]);Math.abs(fe)>Math.abs(pe)?oe+="l"+pe*W.pxmid[0]/W.pxmid[1]+","+pe+"H"+($+W.labelExtraX+te):oe+="l"+W.labelExtraX+","+fe+"v"+(pe-fe)+"h"+te}else oe+="V"+(W.yLabelMid+W.labelExtraY)+"h"+te;c.ensureSingle(Q,"path","textline").call(L.stroke,ie.outsidetextfont.color).attr({"stroke-width":Math.min(2,ie.outsidetextfont.size/8),d:oe,fill:"none"})})}function o(j,ie,W){var Q=W[0],ee=Q.cx,$=Q.cy,X=Q.trace,oe=X.type==="funnelarea";"_hasHoverLabel"in X||(X._hasHoverLabel=!1),"_hasHoverEvent"in X||(X._hasHoverEvent=!1),j.on("mouseover",function(te){var fe=ie._fullLayout,pe=ie._fullData[X.index];if(!(ie._dragging||fe.hovermode===!1)){var Ae=pe.hoverinfo;if(Array.isArray(Ae)&&(Ae=i.castHoverinfo({hoverinfo:[f.castOption(Ae,te.pts)],_module:X._module},fe,0)),Ae==="all"&&(Ae="label+text+value+percent+name"),pe.hovertemplate||Ae!=="none"&&Ae!=="skip"&&Ae){var be=te.rInscribed||0,Pe=ee+te.pxmid[0]*(1-be),me=$+te.pxmid[1]*(1-be),Ee=fe.separators,xe=[];if(Ae&&Ae.indexOf("label")!==-1&&xe.push(te.label),te.text=f.castOption(pe.hovertext||pe.text,te.pts),Ae&&Ae.indexOf("text")!==-1){var De=te.text;c.isValidTextValue(De)&&xe.push(De)}te.value=te.v,te.valueLabel=f.formatPieValue(te.v,Ee),Ae&&Ae.indexOf("value")!==-1&&xe.push(te.valueLabel),te.percent=te.v/Q.vTotal,te.percentLabel=f.formatPiePercent(te.percent,Ee),Ae&&Ae.indexOf("percent")!==-1&&xe.push(te.percentLabel);var Ve=pe.hoverlabel,Ze=Ve.font,ke=[];i.loneHover({trace:X,x0:Pe-be*Q.r,x1:Pe+be*Q.r,y:me,_x0:oe?ee+te.TL[0]:Pe-be*Q.r,_x1:oe?ee+te.TR[0]:Pe+be*Q.r,_y0:oe?$+te.TL[1]:me-be*Q.r,_y1:oe?$+te.BL[1]:me+be*Q.r,text:xe.join("<br>"),name:pe.hovertemplate||Ae.indexOf("name")!==-1?pe.name:void 0,idealAlign:te.pxmid[0]<0?"left":"right",color:f.castOption(Ve.bgcolor,te.pts)||te.color,borderColor:f.castOption(Ve.bordercolor,te.pts),fontFamily:f.castOption(Ze.family,te.pts),fontSize:f.castOption(Ze.size,te.pts),fontColor:f.castOption(Ze.color,te.pts),nameLength:f.castOption(Ve.namelength,te.pts),textAlign:f.castOption(Ve.align,te.pts),hovertemplate:f.castOption(pe.hovertemplate,te.pts),hovertemplateLabels:te,eventData:[g(te,pe)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:ie,inOut_bbox:ke}),te.bbox=ke[0],X._hasHoverLabel=!0}X._hasHoverEvent=!0,ie.emit("plotly_hover",{points:[g(te,pe)],event:x.event})}}),j.on("mouseout",function(te){var fe=ie._fullLayout,pe=ie._fullData[X.index],Ae=x.select(this).datum();X._hasHoverEvent&&(te.originalEvent=x.event,ie.emit("plotly_unhover",{points:[g(Ae,pe)],event:x.event}),X._hasHoverEvent=!1),X._hasHoverLabel&&(i.loneUnhover(fe._hoverlayer.node()),X._hasHoverLabel=!1)}),j.on("click",function(te){var fe=ie._fullLayout,pe=ie._fullData[X.index];ie._dragging||fe.hovermode===!1||(ie._hoverdata=[g(te,pe)],i.click(ie,x.event))})}function v(j,ie,W){var Q=f.castOption(j.outsidetextfont.color,ie.pts)||f.castOption(j.textfont.color,ie.pts)||W.color,ee=f.castOption(j.outsidetextfont.family,ie.pts)||f.castOption(j.textfont.family,ie.pts)||W.family,$=f.castOption(j.outsidetextfont.size,ie.pts)||f.castOption(j.textfont.size,ie.pts)||W.size;return{color:Q,family:ee,size:$}}function A(j,ie,W){var Q=f.castOption(j.insidetextfont.color,ie.pts);!Q&&j._input.textfont&&(Q=f.castOption(j._input.textfont.color,ie.pts));var ee=f.castOption(j.insidetextfont.family,ie.pts)||f.castOption(j.textfont.family,ie.pts)||W.family,$=f.castOption(j.insidetextfont.size,ie.pts)||f.castOption(j.textfont.size,ie.pts)||W.size;return{color:Q||L.contrast(ie.color),family:ee,size:$}}function b(j,ie){for(var W,Q,ee=0;ee<j.length;ee++)if(W=j[ee][0],Q=W.trace,Q.title.text){var $=Q.title.text;Q._meta&&($=c.templateString($,Q._meta));var X=C.tester.append("text").attr("data-notex",1).text($).call(C.font,Q.title.font).call(t.convertToTspans,ie),oe=C.bBox(X.node(),!0);W.titleBox={width:oe.width,height:oe.height},X.remove()}}function M(j,ie,W){var Q=W.r||ie.rpx1,ee=ie.rInscribed,$=ie.startangle===ie.stopangle;if($)return{rCenter:1-ee,scale:0,rotate:0,textPosAngle:0};var X=ie.ring,oe=X===1&&Math.abs(ie.startangle-ie.stopangle)===Math.PI*2,te=ie.halfangle,fe=ie.midangle,pe=W.trace.insidetextorientation,Ae=pe==="horizontal",be=pe==="tangential",Pe=pe==="radial",me=pe==="auto",Ee=[],xe;if(!me){var De=function(He,Fe){if(m(ie,He)){var nt=Math.abs(He-ie.startangle),ot=Math.abs(He-ie.stopangle),ct=nt<ot?nt:ot;Fe==="tan"?xe=T(j,Q,X,ct,0):xe=S(j,Q,X,ct,Math.PI/2),xe.textPosAngle=He,Ee.push(xe)}},Ve;if(Ae||be){for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*(Ve+1),"tan")}if(Ae||Pe){for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*(Ve+.5),"rad")}}if(oe||me||Ae){var Ze=Math.sqrt(j.width*j.width+j.height*j.height);if(xe={scale:ee*Q*2/Ze,rCenter:1-ee,rotate:0},xe.textPosAngle=(ie.startangle+ie.stopangle)/2,xe.scale>=1)return xe;Ee.push(xe)}(me||Pe)&&(xe=S(j,Q,X,te,fe),xe.textPosAngle=(ie.startangle+ie.stopangle)/2,Ee.push(xe)),(me||be)&&(xe=T(j,Q,X,te,fe),xe.textPosAngle=(ie.startangle+ie.stopangle)/2,Ee.push(xe));for(var ke=0,Ye=0,lt=0;lt<Ee.length;lt++){var yt=Ee[lt].scale;if(Ye<yt&&(Ye=yt,ke=lt),!me&&Ye>=1)break}return Ee[ke]}function m(j,ie){var W=j.startangle,Q=j.stopangle;return W>ie&&ie>Q||W<ie&&ie<Q}function S(j,ie,W,Q,ee){ie=Math.max(0,ie-2*l);var $=j.width/j.height,X=p($,Q,ie,W);return{scale:X*2/j.height,rCenter:a($,X/ie),rotate:E(ee)}}function T(j,ie,W,Q,ee){ie=Math.max(0,ie-2*l);var $=j.height/j.width,X=p($,Q,ie,W);return{scale:X*2/j.width,rCenter:a($,X/ie),rotate:E(ee+Math.PI/2)}}function a(j,ie){return Math.cos(ie)-j*ie}function E(j){return(180/Math.PI*j+720)%180-90}function p(j,ie,W,Q){var ee=j+1/(2*Math.tan(ie));return W*Math.min(1/(Math.sqrt(ee*ee+.5)+ee),Q/(Math.sqrt(j*j+Q/2)+j))}function k(j,ie){return j.v===ie.vTotal&&!ie.trace.hole?1:Math.min(1/(1+1/Math.sin(j.halfangle)),j.ring/2)}function R(j,ie){var W=ie.pxmid[0],Q=ie.pxmid[1],ee=j.width/2,$=j.height/2;return W<0&&(ee*=-1),Q<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:ee+Math.abs($)*(ee>0?1:-1)/2,y:$/(1+W*W/(Q*Q)),outside:!0}}function B(j){var ie=Math.sqrt(j.titleBox.width*j.titleBox.width+j.titleBox.height*j.titleBox.height);return{x:j.cx,y:j.cy,scale:j.trace.hole*j.r*2/ie,tx:0,ty:-j.titleBox.height/2+j.trace.title.font.size}}function F(j,ie){var W=1,Q=1,ee,$=j.trace,X={x:j.cx,y:j.cy},oe={tx:0,ty:0};oe.ty+=$.title.font.size,ee=z($),$.title.position.indexOf("top")!==-1?(X.y-=(1+ee)*j.r,oe.ty-=j.titleBox.height):$.title.position.indexOf("bottom")!==-1&&(X.y+=(1+ee)*j.r);var te=_(j.r,j.trace.aspectratio),fe=ie.w*($.domain.x[1]-$.domain.x[0])/2;return $.title.position.indexOf("left")!==-1?(fe=fe+te,X.x-=(1+ee)*te,oe.tx+=j.titleBox.width/2):$.title.position.indexOf("center")!==-1?fe*=2:$.title.position.indexOf("right")!==-1&&(fe=fe+te,X.x+=(1+ee)*te,oe.tx-=j.titleBox.width/2),W=fe/j.titleBox.width,Q=O(j,ie)/j.titleBox.height,{x:X.x,y:X.y,scale:Math.min(W,Q),tx:oe.tx,ty:oe.ty}}function _(j,ie){return j/(ie===void 0?1:ie)}function O(j,ie){var W=j.trace,Q=ie.h*(W.domain.y[1]-W.domain.y[0]);return Math.min(j.titleBox.height,Q/2)}function z(j){var ie=j.pull;if(!ie)return 0;var W;if(c.isArrayOrTypedArray(ie))for(ie=0,W=0;W<j.pull.length;W++)j.pull[W]>ie&&(ie=j.pull[W]);return ie}function N(j,ie){var W,Q,ee,$,X,oe,te,fe,pe,Ae,be,Pe,me;function Ee(Ze,ke){return Ze.pxmid[1]-ke.pxmid[1]}function xe(Ze,ke){return ke.pxmid[1]-Ze.pxmid[1]}function De(Ze,ke){ke||(ke={});var Ye=ke.labelExtraY+(Q?ke.yLabelMax:ke.yLabelMin),lt=Q?Ze.yLabelMin:Ze.yLabelMax,yt=Q?Ze.yLabelMax:Ze.yLabelMin,He=Ze.cyFinal+X(Ze.px0[1],Ze.px1[1]),Fe=Ye-lt,nt,ot,ct,ht,mt,tt;if(Fe*te>0&&(Ze.labelExtraY=Fe),!!c.isArrayOrTypedArray(ie.pull))for(ot=0;ot<Ae.length;ot++)ct=Ae[ot],!(ct===Ze||(f.castOption(ie.pull,Ze.pts)||0)>=(f.castOption(ie.pull,ct.pts)||0))&&((Ze.pxmid[1]-ct.pxmid[1])*te>0?(ht=ct.cyFinal+X(ct.px0[1],ct.px1[1]),Fe=ht-lt-Ze.labelExtraY,Fe*te>0&&(Ze.labelExtraY+=Fe)):(yt+Ze.labelExtraY-He)*te>0&&(nt=3*oe*Math.abs(ot-Ae.indexOf(Ze)),mt=ct.cxFinal+$(ct.px0[0],ct.px1[0]),tt=mt+nt-(Ze.cxFinal+Ze.pxmid[0])-Ze.labelExtraX,tt*oe>0&&(Ze.labelExtraX+=tt)))}for(Q=0;Q<2;Q++)for(ee=Q?Ee:xe,X=Q?Math.max:Math.min,te=Q?1:-1,W=0;W<2;W++){for($=W?Math.max:Math.min,oe=W?1:-1,fe=j[Q][W],fe.sort(ee),pe=j[1-Q][W],Ae=pe.concat(fe),Pe=[],be=0;be<fe.length;be++)fe[be].yLabelMid!==void 0&&Pe.push(fe[be]);for(me=!1,be=0;Q&&be<pe.length;be++)if(pe[be].yLabelMid!==void 0){me=pe[be];break}for(be=0;be<Pe.length;be++){var Ve=be&&Pe[be-1];me&&!be&&(Ve=me),De(Pe[be],Ve)}}}function Y(j,ie){for(var W=[],Q=0;Q<j.length;Q++){var ee=j[Q][0],$=ee.trace,X=$.domain,oe=ie.w*(X.x[1]-X.x[0]),te=ie.h*(X.y[1]-X.y[0]);$.title.text&&$.title.position!=="middle center"&&(te-=O(ee,ie));var fe=oe/2,pe=te/2;$.type==="funnelarea"&&!$.scalegroup&&(pe/=$.aspectratio),ee.r=Math.min(fe,pe)/(1+z($)),ee.cx=ie.l+ie.w*($.domain.x[1]+$.domain.x[0])/2,ee.cy=ie.t+ie.h*(1-$.domain.y[0])-te/2,$.title.text&&$.title.position.indexOf("bottom")!==-1&&(ee.cy-=O(ee,ie)),$.scalegroup&&W.indexOf($.scalegroup)===-1&&W.push($.scalegroup)}J(j,W)}function J(j,ie){for(var W,Q,ee,$=0;$<ie.length;$++){var X=1/0,oe=ie[$];for(Q=0;Q<j.length;Q++)if(W=j[Q][0],ee=W.trace,ee.scalegroup===oe){var te;if(ee.type==="pie")te=W.r*W.r;else if(ee.type==="funnelarea"){var fe,pe;ee.aspectratio>1?(fe=W.r,pe=fe/ee.aspectratio):(pe=W.r,fe=pe*ee.aspectratio),fe*=(1+ee.baseratio)/2,te=fe*pe}X=Math.min(X,te/W.vTotal)}for(Q=0;Q<j.length;Q++)if(W=j[Q][0],ee=W.trace,ee.scalegroup===oe){var Ae=X*W.vTotal;ee.type==="funnelarea"&&(Ae/=(1+ee.baseratio)/2,Ae/=ee.aspectratio),W.r=Math.sqrt(Ae)}}}function ae(j){var ie=j[0],W=ie.r,Q=ie.trace,ee=f.getRotationAngle(Q.rotation),$=2*Math.PI/ie.vTotal,X="px0",oe="px1",te,fe,pe;if(Q.direction==="counterclockwise"){for(te=0;te<j.length&&j[te].hidden;te++);if(te===j.length)return;ee+=$*j[te].v,$*=-1,X="px1",oe="px0"}for(pe=se(W,ee),te=0;te<j.length;te++)fe=j[te],!fe.hidden&&(fe[X]=pe,fe.startangle=ee,ee+=$*fe.v/2,fe.pxmid=se(W,ee),fe.midangle=ee,ee+=$*fe.v/2,pe=se(W,ee),fe.stopangle=ee,fe[oe]=pe,fe.largeArc=fe.v>ie.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/ie.vTotal,.5),fe.ring=1-Q.hole,fe.rInscribed=k(fe,ie))}function se(j,ie){return[j*Math.sin(ie),-j*Math.cos(ie)]}function ue(j,ie,W){var Q=j._fullLayout,ee=W.trace,$=ee.texttemplate,X=ee.textinfo;if(!$&&X&&X!=="none"){var oe=X.split("+"),te=function(ke){return oe.indexOf(ke)!==-1},fe=te("label"),pe=te("text"),Ae=te("value"),be=te("percent"),Pe=Q.separators,me;if(me=fe?[ie.label]:[],pe){var Ee=f.getFirstFilled(ee.text,ie.pts);h(Ee)&&me.push(Ee)}Ae&&me.push(f.formatPieValue(ie.v,Pe)),be&&me.push(f.formatPiePercent(ie.v/W.vTotal,Pe)),ie.text=me.join("<br>")}function xe(ke){return{label:ke.label,value:ke.v,valueLabel:f.formatPieValue(ke.v,Q.separators),percent:ke.v/W.vTotal,percentLabel:f.formatPiePercent(ke.v/W.vTotal,Q.separators),color:ke.color,text:ke.text,customdata:c.castOption(ee,ke.i,"customdata")}}if($){var De=c.castOption(ee,ie.i,"texttemplate");if(!De)ie.text="";else{var Ve=xe(ie),Ze=f.getFirstFilled(ee.text,ie.pts);(h(Ze)||Ze==="")&&(Ve.text=Ze),ie.text=c.texttemplateString(De,Ve,j._fullLayout._d3locale,Ve,ee._meta||{})}}}function K(j,ie){var W=j.rotate*Math.PI/180,Q=Math.cos(W),ee=Math.sin(W),$=(ie.left+ie.right)/2,X=(ie.top+ie.bottom)/2;j.textX=$*Q-X*ee,j.textY=$*ee+X*Q,j.noCenter=!0}V.exports={plot:w,formatSliceLabel:ue,transformInsideText:M,determineInsideTextFont:A,positionTitleOutside:F,prerenderTitles:b,layoutAreas:Y,attachFxHandlers:o,computeTransform:K}},22152:function(V,U,e){"use strict";var x=e(33428),P=e(10528),i=e(82744).resizeText;V.exports=function(C){var c=C._fullLayout._pielayer.selectAll(".trace");i(C,c,"pie"),c.each(function(y){var r=y[0],t=r.trace,s=x.select(this);s.style({opacity:t.opacity}),s.selectAll("path.surface").each(function(n){x.select(this).call(P,n,t,C)})})}},10528:function(V,U,e){"use strict";var x=e(76308),P=e(69656).castOption,i=e(21552);V.exports=function(C,c,y,r){var t=y.marker.line,s=P(t.color,c.pts)||x.defaultLine,n=P(t.width,c.pts)||0;C.call(i,c,y,r).style("stroke-width",n).call(x.stroke,s)}},35484:function(V,U,e){"use strict";var x=e(52904);V.exports={x:x.x,y:x.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:x.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(V,U,e){"use strict";var x=e(67792).gl_pointcloud2d,P=e(3400).isArrayOrTypedArray,i=e(43080),L=e(19280).findExtremes,C=e(44928);function c(t,s){this.scene=t,this.uid=s,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=x(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var y=c.prototype;y.handlePick=function(t){var s=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[s*2],this.pickXYData[s*2+1]]:[this.pickXData[s],this.pickYData[s]],textLabel:P(this.textLabels)?this.textLabels[s]:this.textLabels,color:this.color,name:this.name,pointIndex:s,hoverinfo:this.hoverinfo}},y.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=C(t,{})},y.updateFast=function(t){var s=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,u=this.pickXYData=t.xy,l=t.xbounds&&t.ybounds,f=t.indices,g,h,w,d=this.bounds,o,v,A;if(u){if(w=u,g=u.length>>>1,l)d[0]=t.xbounds[0],d[2]=t.xbounds[1],d[1]=t.ybounds[0],d[3]=t.ybounds[1];else for(A=0;A<g;A++)o=w[A*2],v=w[A*2+1],o<d[0]&&(d[0]=o),o>d[2]&&(d[2]=o),v<d[1]&&(d[1]=v),v>d[3]&&(d[3]=v);if(f)h=f;else for(h=new Int32Array(g),A=0;A<g;A++)h[A]=A}else for(g=s.length,w=new Float32Array(2*g),h=new Int32Array(g),A=0;A<g;A++)o=s[A],v=n[A],h[A]=A,w[A*2]=o,w[A*2+1]=v,o<d[0]&&(d[0]=o),o>d[2]&&(d[2]=o),v<d[1]&&(d[1]=v),v>d[3]&&(d[3]=v);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=w;var b=i(t.marker.color),M=i(t.marker.border.color),m=t.opacity*t.marker.opacity;b[3]*=m,this.pointcloudOptions.color=b;var S=t.marker.blend;if(S===null){var T=100;S=s.length<T||n.length<T}this.pointcloudOptions.blend=S,M[3]*=m,this.pointcloudOptions.borderColor=M;var a=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=a,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var p=this.scene.xaxis,k=this.scene.yaxis,R=E/2||.5;t._extremes[p._id]=L(p,[d[0],d[2]],{ppad:R}),t._extremes[k._id]=L(k,[d[1],d[3]],{ppad:R})},y.dispose=function(){this.pointcloud.dispose()};function r(t,s){var n=new c(t,s.uid);return n.update(s),n}V.exports=r},41904:function(V,U,e){"use strict";var x=e(3400),P=e(35484);V.exports=function(L,C,c){function y(r,t){return x.coerce(L,C,P,r,t)}y("x"),y("y"),y("xbounds"),y("ybounds"),L.xy&&L.xy instanceof Float32Array&&(C.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(C.indices=L.indices),y("text"),y("marker.color",c),y("marker.opacity"),y("marker.blend"),y("marker.sizemin"),y("marker.sizemax"),y("marker.border.color",c),y("marker.border.arearatio"),C._length=null}},156:function(V,U,e){"use strict";var x=["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" ");V.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(V,U,e){"use strict";var x=e(25376),P=e(45464),i=e(22548),L=e(55756),C=e(86968).u,c=e(21776).Ks,y=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,s=e(92880).extendFlat,n=e(67824).overrideAll,u=V.exports=n({hoverinfo:s({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:C({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:x({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:c({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:c({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(y().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");u.transforms=void 0},10760:function(V,U,e){"use strict";var x=e(67824).overrideAll,P=e(84888)._M,i=e(59596),L=e(65460),C=e(93972),c=e(86476),y=e(22676).prepSelect,r=e(3400),t=e(24040),s="sankey";U.name=s,U.baseLayoutAttrOverrides=x({hoverlabel:L.hoverlabel},"plot","nested"),U.plot=function(u){var l=P(u.calcdata,s)[0];i(u,l),U.updateFx(u)},U.clean=function(u,l,f,g){var h=g._has&&g._has(s),w=l._has&&l._has(s);h&&!w&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(u){for(var l=0;l<u._fullData.length;l++)n(u,l)};function n(u,l){var f=u._fullData[l],g=u._fullLayout,h=g.dragmode,w=g.dragmode==="pan"?"move":"crosshair",d=f._bgRect;if(d&&!(h==="pan"||h==="zoom")){C(d,w);var o={_id:"x",c2p:r.identity,_offset:f._sankey.translateX,_length:f._sankey.width},v={_id:"y",c2p:r.identity,_offset:f._sankey.translateY,_length:f._sankey.height},A={gd:u,element:d.node(),plotinfo:{id:l,xaxis:o,yaxis:v,fillRangeItems:r.noop},subplot:l,xaxes:[o],yaxes:[v],doneFnCompleted:function(b){var M=u._fullData[l],m,S=M.node.groups.slice(),T=[];function a(R){for(var B=M._sankey.graph.nodes,F=0;F<B.length;F++)if(B[F].pointNumber===R)return B[F]}for(var E=0;E<b.length;E++){var p=a(b[E].pointNumber);if(p)if(p.group){for(var k=0;k<p.childrenNodes.length;k++)T.push(p.childrenNodes[k].pointNumber);S[p.pointNumber-M.node._count]=!1}else T.push(p.pointNumber)}m=S.filter(Boolean).concat([T]),t.call("_guiRestyle",u,{"node.groups":[m]},l)}};A.prepFn=function(b,M,m){y(b,M,m,A,h)},c.init(A)}}},48068:function(V,U,e){"use strict";var x=e(78484),P=e(3400),i=e(71688).wrap,L=P.isArrayOrTypedArray,C=P.isIndex,c=e(8932);function y(t){var s=t.node,n=t.link,u=[],l=L(n.color),f=L(n.hovercolor),g=L(n.customdata),h={},w={},d=n.colorscales.length,o;for(o=0;o<d;o++){var v=n.colorscales[o],A=c.extractScale(v,{cLetter:"c"}),b=c.makeColorScaleFunc(A);w[v.label]=b}var M=0;for(o=0;o<n.value.length;o++)n.source[o]>M&&(M=n.source[o]),n.target[o]>M&&(M=n.target[o]);var m=M+1;t.node._count=m;var S,T=t.node.groups,a={};for(o=0;o<T.length;o++){var E=T[o];for(S=0;S<E.length;S++){var p=E[S],k=m+o;a.hasOwnProperty(p)?P.warn("Node "+p+" is already part of a group."):a[p]=k}}var R={source:[],target:[]};for(o=0;o<n.value.length;o++){var B=n.value[o],F=n.source[o],_=n.target[o];if(B>0&&C(F,m)&&C(_,m)&&!(a.hasOwnProperty(F)&&a.hasOwnProperty(_)&&a[F]===a[_])){a.hasOwnProperty(_)&&(_=a[_]),a.hasOwnProperty(F)&&(F=a[F]),F=+F,_=+_,h[F]=h[_]=!0;var O="";n.label&&n.label[o]&&(O=n.label[o]);var z=null;O&&w.hasOwnProperty(O)&&(z=w[O]),u.push({pointNumber:o,label:O,color:l?n.color[o]:n.color,hovercolor:f?n.hovercolor[o]:n.hovercolor,customdata:g?n.customdata[o]:n.customdata,concentrationscale:z,source:F,target:_,value:+B}),R.source.push(F),R.target.push(_)}}var N=m+T.length,Y=L(s.color),J=L(s.customdata),ae=[];for(o=0;o<N;o++)if(h[o]){var se=s.label[o];ae.push({group:o>m-1,childrenNodes:[],pointNumber:o,label:se,color:Y?s.color[o]:s.color,customdata:J?s.customdata[o]:s.customdata})}var ue=!1;return r(N,R.source,R.target)&&(ue=!0),{circular:ue,links:u,nodes:ae,groups:T,groupLookup:a}}function r(t,s,n){for(var u=P.init2dArray(t,0),l=0;l<Math.min(s.length,n.length);l++)if(P.isIndex(s[l],t)&&P.isIndex(n[l],t)){if(s[l]===n[l])return!0;u[s[l]].push(n[l])}var f=x(u);return f.components.some(function(g){return g.length>1})}V.exports=function(s,n){var u=y(n);return i({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},11820:function(V){"use strict";V.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(V,U,e){"use strict";var x=e(3400),P=e(41440),i=e(76308),L=e(49760),C=e(86968).Q,c=e(16132),y=e(31780),r=e(51272);V.exports=function(n,u,l,f){function g(k,R){return x.coerce(n,u,P,k,R)}var h=x.extendDeep(f.hoverlabel,n.hoverlabel),w=n.node,d=y.newContainer(u,"node");function o(k,R){return x.coerce(w,d,P.node,k,R)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),c(w,d,o,h),o("hovertemplate"),o("align");var v=f.colorway,A=function(k){return v[k%v.length]};o("color",d.label.map(function(k,R){return i.addOpacity(A(R),.8)})),o("customdata");var b=n.link||{},M=y.newContainer(u,"link");function m(k,R){return x.coerce(b,M,P.link,k,R)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),c(b,M,m,h),m("hovertemplate");var S=L(f.paper_bgcolor).getLuminance()<.333,T=S?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",a=m("color",T);function E(k){var R=L(k);if(!R.isValid())return k;var B=R.getAlpha();return B<=.8?R.setAlpha(B+.2):R=S?R.brighten():R.darken(),R.toRgbString()}m("hovercolor",Array.isArray(a)?a.map(E):E(a)),m("customdata"),r(b,M,{name:"colorscales",handleItemDefaults:t}),C(u,f,g),g("orientation"),g("valueformat"),g("valuesuffix");var p;d.x.length&&d.y.length&&(p="freeform"),g("arrangement",p),x.coerceFont(g,"textfont",x.extendFlat({},f.font)),u._length=null};function t(s,n){function u(l,f){return x.coerce(s,n,P.link.colorscales,l,f)}u("label"),u("cmin"),u("cmax"),u("colorscale")}},45499:function(V,U,e){"use strict";V.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=P.numberFormat,L=e(83248),C=e(93024),c=e(76308),y=e(11820).cn,r=P._;function t(v){return v!==""}function s(v,A){return v.filter(function(b){return b.key===A.traceId})}function n(v,A){x.select(v).select("path").style("fill-opacity",A),x.select(v).select("rect").style("fill-opacity",A)}function u(v){x.select(v).select("text.name").style("fill","black")}function l(v){return function(A){return v.node.sourceLinks.indexOf(A.link)!==-1||v.node.targetLinks.indexOf(A.link)!==-1}}function f(v){return function(A){return A.node.sourceLinks.indexOf(v.link)!==-1||A.node.targetLinks.indexOf(v.link)!==-1}}function g(v,A,b){A&&b&&s(b,A).selectAll("."+y.sankeyLink).filter(l(A)).call(w.bind(0,A,b,!1))}function h(v,A,b){A&&b&&s(b,A).selectAll("."+y.sankeyLink).filter(l(A)).call(d.bind(0,A,b,!1))}function w(v,A,b,M){M.style("fill",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverHue}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverAlpha}),M.each(function(m){var S=m.link.label;S!==""&&s(A,v).selectAll("."+y.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverHue}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverAlpha})}),b&&s(A,v).selectAll("."+y.sankeyNode).filter(f(v)).call(g)}function d(v,A,b,M){M.style("fill",function(m){return m.tinyColorHue}).style("fill-opacity",function(m){return m.tinyColorAlpha}),M.each(function(m){var S=m.link.label;S!==""&&s(A,v).selectAll("."+y.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){return T.tinyColorHue}).style("fill-opacity",function(T){return T.tinyColorAlpha})}),b&&s(A,v).selectAll(y.sankeyNode).filter(f(v)).call(h)}function o(v,A){var b=v.hoverlabel||{},M=P.nestedProperty(b,A).get();return Array.isArray(M)?!1:M}V.exports=function(A,b){for(var M=A._fullLayout,m=M._paper,S=M._size,T=0;T<A._fullData.length;T++)if(A._fullData[T].visible&&A._fullData[T].type===y.sankey&&!A._fullData[T]._viewInitial){var a=A._fullData[T].node;A._fullData[T]._viewInitial={node:{groups:a.groups.slice(),x:a.x.slice(),y:a.y.slice()}}}var E=function(se,ue){var K=ue.link;K.originalEvent=x.event,A._hoverdata=[K],C.click(A,{target:!0})},p=function(se,ue,K){A._fullLayout.hovermode!==!1&&(x.select(se).call(w.bind(0,ue,K,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,A.emit("plotly_hover",{event:x.event,points:[ue.link]})))},k=r(A,"source:")+" ",R=r(A,"target:")+" ",B=r(A,"concentration:")+" ",F=r(A,"incoming flow count:")+" ",_=r(A,"outgoing flow count:")+" ",O=function(se,ue){if(A._fullLayout.hovermode===!1)return;var K=ue.link.trace.link;if(K.hoverinfo==="none"||K.hoverinfo==="skip")return;var j=[];function ie(te){var fe,pe;te.circular?(fe=(te.circularPathData.leftInnerExtent+te.circularPathData.rightInnerExtent)/2,pe=te.circularPathData.verticalFullExtent):(fe=(te.source.x1+te.target.x0)/2,pe=(te.y0+te.y1)/2);var Ae=[fe,pe];return te.trace.orientation==="v"&&Ae.reverse(),Ae[0]+=ue.parent.translateX,Ae[1]+=ue.parent.translateY,Ae}for(var W=0,Q=0;Q<ue.flow.links.length;Q++){var ee=ue.flow.links[Q];if(!(A._fullLayout.hovermode==="closest"&&ue.link.pointNumber!==ee.pointNumber)){ue.link.pointNumber===ee.pointNumber&&(W=Q),ee.fullData=ee.trace,K=ue.link.trace.link;var $=ie(ee),X={valueLabel:i(ue.valueFormat)(ee.value)+ue.valueSuffix};j.push({x:$[0],y:$[1],name:X.valueLabel,text:[ee.label||"",k+ee.source.label,R+ee.target.label,ee.concentrationscale?B+i("%0.2f")(ee.flow.labelConcentration):""].filter(t).join("<br>"),color:o(K,"bgcolor")||c.addOpacity(ee.color,1),borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:x.event.x<$[0]?"right":"left",hovertemplate:K.hovertemplate,hovertemplateLabels:X,eventData:[ee]})}}var oe=C.loneHover(j,{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:A,anchorIndex:W});oe.each(function(){var te=this;ue.link.concentrationscale||n(te,.65),u(te)})},z=function(se,ue,K){A._fullLayout.hovermode!==!1&&(x.select(se).call(d.bind(0,ue,K,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,A.emit("plotly_unhover",{event:x.event,points:[ue.link]})),C.loneUnhover(M._hoverlayer.node()))},N=function(se,ue,K){var j=ue.node;j.originalEvent=x.event,A._hoverdata=[j],x.select(se).call(h,ue,K),C.click(A,{target:!0})},Y=function(se,ue,K){A._fullLayout.hovermode!==!1&&(x.select(se).call(g,ue,K),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,A.emit("plotly_hover",{event:x.event,points:[ue.node]})))},J=function(se,ue){if(A._fullLayout.hovermode!==!1){var K=ue.node.trace.node;if(!(K.hoverinfo==="none"||K.hoverinfo==="skip")){var j=x.select(se).select("."+y.nodeRect),ie=A._fullLayout._paperdiv.node().getBoundingClientRect(),W=j.node().getBoundingClientRect(),Q=W.left-2-ie.left,ee=W.right+2-ie.left,$=W.top+W.height/4-ie.top,X={valueLabel:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,A._fullLayout._calcInverseTransform(A);var oe=A._fullLayout._invScaleX,te=A._fullLayout._invScaleY,fe=C.loneHover({x0:oe*Q,x1:oe*ee,y:te*$,name:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,F+ue.node.targetLinks.length,_+ue.node.sourceLinks.length].filter(t).join("<br>"),color:o(K,"bgcolor")||ue.tinyColorHue,borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:"left",hovertemplate:K.hovertemplate,hovertemplateLabels:X,eventData:[ue.node]},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:A});n(fe,.85),u(fe)}}},ae=function(se,ue,K){A._fullLayout.hovermode!==!1&&(x.select(se).call(h,ue,K),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,A.emit("plotly_unhover",{event:x.event,points:[ue.node]})),C.loneUnhover(M._hoverlayer.node()))};L(A,m,b,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:p,follow:O,unhover:z,select:E},nodeEvents:{hover:Y,follow:J,unhover:ae,select:N}})}},83248:function(V,U,e){"use strict";var x=e(49812),P=e(67756).Gz,i=e(33428),L=e(26800),C=e(48932),c=e(11820),y=e(49760),r=e(76308),t=e(43616),s=e(3400),n=s.strTranslate,u=s.strRotate,l=e(71688),f=l.keyFun,g=l.repeat,h=l.unwrap,w=e(72736),d=e(24040),o=e(84284),v=o.CAP_SHIFT,A=o.LINE_SPACING,b=3;function M(ie,W,Q){var ee=h(W),$=ee.trace,X=$.domain,oe=$.orientation==="h",te=$.node.pad,fe=$.node.thickness,pe={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[$.node.align],Ae=ie.width*(X.x[1]-X.x[0]),be=ie.height*(X.y[1]-X.y[0]),Pe=ee._nodes,me=ee._links,Ee=ee.circular,xe;Ee?xe=C.sankeyCircular().circularLinkGap(0):xe=L.sankey(),xe.iterations(c.sankeyIterations).size(oe?[Ae,be]:[be,Ae]).nodeWidth(fe).nodePadding(te).nodeId(function(tt){return tt.pointNumber}).nodeAlign(pe).nodes(Pe).links(me);var De=xe();xe.nodePadding()<te&&s.warn("node.pad was reduced to ",xe.nodePadding()," to fit within the figure.");var Ve,Ze,ke;for(var Ye in ee._groupLookup){var lt=parseInt(ee._groupLookup[Ye]),yt;for(Ve=0;Ve<De.nodes.length;Ve++)if(De.nodes[Ve].pointNumber===lt){yt=De.nodes[Ve];break}if(yt){var He={pointNumber:parseInt(Ye),x0:yt.x0,x1:yt.x1,y0:yt.y0,y1:yt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};De.nodes.unshift(He),yt.childrenNodes.unshift(He)}}function Fe(){for(Ve=0;Ve<De.nodes.length;Ve++){var tt=De.nodes[Ve],Re={},Ge,Je;for(Ze=0;Ze<tt.targetLinks.length;Ze++)Je=tt.targetLinks[Ze],Ge=Je.source.pointNumber+":"+Je.target.pointNumber,Re.hasOwnProperty(Ge)||(Re[Ge]=[]),Re[Ge].push(Je);var Xe=Object.keys(Re);for(Ze=0;Ze<Xe.length;Ze++){Ge=Xe[Ze];var Oe=Re[Ge],Ne=0,ze={};for(ke=0;ke<Oe.length;ke++)Je=Oe[ke],ze[Je.label]||(ze[Je.label]=0),ze[Je.label]+=Je.value,Ne+=Je.value;for(ke=0;ke<Oe.length;ke++)Je=Oe[ke],Je.flow={value:Ne,labelConcentration:ze[Je.label]/Ne,concentration:Je.value/Ne,links:Oe},Je.concentrationscale&&(Je.color=y(Je.concentrationscale(Je.flow.labelConcentration)))}var et=0;for(Ze=0;Ze<tt.sourceLinks.length;Ze++)et+=tt.sourceLinks[Ze].value;for(Ze=0;Ze<tt.sourceLinks.length;Ze++)Je=tt.sourceLinks[Ze],Je.concentrationOut=Je.value/et;var Le=0;for(Ze=0;Ze<tt.targetLinks.length;Ze++)Le+=tt.targetLinks[Ze].value;for(Ze=0;Ze<tt.targetLinks.length;Ze++)Je=tt.targetLinks[Ze],Je.concenrationIn=Je.value/Le}}Fe();function nt(tt){tt.forEach(function(Re){var Ge,Je,Xe=0,Oe=Re.length,Ne;for(Re.sort(function(ze,et){return ze.y0-et.y0}),Ne=0;Ne<Oe;++Ne)Ge=Re[Ne],Ge.y0>=Xe||(Je=Xe-Ge.y0,Je>1e-6&&(Ge.y0+=Je,Ge.y1+=Je)),Xe=Ge.y1+te})}function ot(tt){var Re=tt.map(function(et,Le){return{x0:et.x0,index:Le}}).sort(function(et,Le){return et.x0-Le.x0}),Ge=[],Je=-1,Xe,Oe=-1/0,Ne;for(Ve=0;Ve<Re.length;Ve++){var ze=tt[Re[Ve].index];ze.x0>Oe+fe&&(Je+=1,Xe=ze.x0),Oe=ze.x0,Ge[Je]||(Ge[Je]=[]),Ge[Je].push(ze),Ne=Xe-ze.x0,ze.x0+=Ne,ze.x1+=Ne}return Ge}if($.node.x.length&&$.node.y.length){for(Ve=0;Ve<Math.min($.node.x.length,$.node.y.length,De.nodes.length);Ve++)if($.node.x[Ve]&&$.node.y[Ve]){var ct=[$.node.x[Ve]*Ae,$.node.y[Ve]*be];De.nodes[Ve].x0=ct[0]-fe/2,De.nodes[Ve].x1=ct[0]+fe/2;var ht=De.nodes[Ve].y1-De.nodes[Ve].y0;De.nodes[Ve].y0=ct[1]-ht/2,De.nodes[Ve].y1=ct[1]+ht/2}if($.arrangement==="snap"){Pe=De.nodes;var mt=ot(Pe);nt(mt)}xe.update(De)}return{circular:Ee,key:Q,trace:$,guid:s.randstr(),horizontal:oe,width:Ae,height:be,nodePad:$.node.pad,nodeLineColor:$.node.line.color,nodeLineWidth:$.node.line.width,linkLineColor:$.link.line.color,linkLineWidth:$.link.line.width,linkArrowLength:$.link.arrowlen,valueFormat:$.valueformat,valueSuffix:$.valuesuffix,textFont:$.textfont,translateX:X.x[0]*ie.width+ie.margin.l,translateY:ie.height-X.y[1]*ie.height+ie.margin.t,dragParallel:oe?be:Ae,dragPerpendicular:oe?Ae:be,arrangement:$.arrangement,sankey:xe,graph:De,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(ie,W,Q){var ee=y(W.color),$=y(W.hovercolor),X=W.source.label+"|"+W.target.label,oe=X+"__"+Q;return W.trace=ie.trace,W.curveNumber=ie.trace.index,{circular:ie.circular,key:oe,traceId:ie.key,pointNumber:W.pointNumber,link:W,tinyColorHue:r.tinyRGB(ee),tinyColorAlpha:ee.getAlpha(),tinyColorHoverHue:r.tinyRGB($),tinyColorHoverAlpha:$.getAlpha(),linkPath:T,linkLineColor:ie.linkLineColor,linkLineWidth:ie.linkLineWidth,linkArrowLength:ie.linkArrowLength,valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,parent:ie,interactionState:ie.interactionState,flow:W.flow}}function S(ie,W){var Q="",ee=ie.width/2,$=ie.circularPathData;return ie.circularLinkType==="top"?Q="M "+($.targetX-W)+" "+($.targetY+ee)+" L"+($.rightInnerExtent-W)+" "+($.targetY+ee)+"A"+($.rightLargeArcRadius+ee)+" "+($.rightSmallArcRadius+ee)+" 0 0 1 "+($.rightFullExtent-ee-W)+" "+($.targetY-$.rightSmallArcRadius)+"L"+($.rightFullExtent-ee-W)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+ee)+" "+($.rightLargeArcRadius+ee)+" 0 0 1 "+($.rightInnerExtent-W)+" "+($.verticalFullExtent-ee)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent-ee)+"A"+($.leftLargeArcRadius+ee)+" "+($.leftLargeArcRadius+ee)+" 0 0 1 "+($.leftFullExtent+ee)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+ee)+" "+($.sourceY-$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+ee)+" "+($.leftSmallArcRadius+ee)+" 0 0 1 "+$.leftInnerExtent+" "+($.sourceY+ee)+"L"+$.sourceX+" "+($.sourceY+ee)+"L"+$.sourceX+" "+($.sourceY-ee)+"L"+$.leftInnerExtent+" "+($.sourceY-ee)+"A"+($.leftLargeArcRadius-ee)+" "+($.leftSmallArcRadius-ee)+" 0 0 0 "+($.leftFullExtent-ee)+" "+($.sourceY-$.leftSmallArcRadius)+"L"+($.leftFullExtent-ee)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-ee)+" "+($.leftLargeArcRadius-ee)+" 0 0 0 "+$.leftInnerExtent+" "+($.verticalFullExtent+ee)+"L"+($.rightInnerExtent-W)+" "+($.verticalFullExtent+ee)+"A"+($.rightLargeArcRadius-ee)+" "+($.rightLargeArcRadius-ee)+" 0 0 0 "+($.rightFullExtent+ee-W)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+ee-W)+" "+($.targetY-$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-ee)+" "+($.rightSmallArcRadius-ee)+" 0 0 0 "+($.rightInnerExtent-W)+" "+($.targetY-ee)+"L"+($.targetX-W)+" "+($.targetY-ee)+(W>0?"L"+$.targetX+" "+$.targetY:"")+"Z":Q="M "+($.targetX-W)+" "+($.targetY-ee)+" L"+($.rightInnerExtent-W)+" "+($.targetY-ee)+"A"+($.rightLargeArcRadius+ee)+" "+($.rightSmallArcRadius+ee)+" 0 0 0 "+($.rightFullExtent-ee-W)+" "+($.targetY+$.rightSmallArcRadius)+"L"+($.rightFullExtent-ee-W)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+ee)+" "+($.rightLargeArcRadius+ee)+" 0 0 0 "+($.rightInnerExtent-W)+" "+($.verticalFullExtent+ee)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent+ee)+"A"+($.leftLargeArcRadius+ee)+" "+($.leftLargeArcRadius+ee)+" 0 0 0 "+($.leftFullExtent+ee)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+ee)+" "+($.sourceY+$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+ee)+" "+($.leftSmallArcRadius+ee)+" 0 0 0 "+$.leftInnerExtent+" "+($.sourceY-ee)+"L"+$.sourceX+" "+($.sourceY-ee)+"L"+$.sourceX+" "+($.sourceY+ee)+"L"+$.leftInnerExtent+" "+($.sourceY+ee)+"A"+($.leftLargeArcRadius-ee)+" "+($.leftSmallArcRadius-ee)+" 0 0 1 "+($.leftFullExtent-ee)+" "+($.sourceY+$.leftSmallArcRadius)+"L"+($.leftFullExtent-ee)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-ee)+" "+($.leftLargeArcRadius-ee)+" 0 0 1 "+$.leftInnerExtent+" "+($.verticalFullExtent-ee)+"L"+($.rightInnerExtent-W)+" "+($.verticalFullExtent-ee)+"A"+($.rightLargeArcRadius-ee)+" "+($.rightLargeArcRadius-ee)+" 0 0 1 "+($.rightFullExtent+ee-W)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+ee-W)+" "+($.targetY+$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-ee)+" "+($.rightSmallArcRadius-ee)+" 0 0 1 "+($.rightInnerExtent-W)+" "+($.targetY+ee)+"L"+($.targetX-W)+" "+($.targetY+ee)+(W>0?"L"+$.targetX+" "+$.targetY:"")+"Z",Q}function T(){var ie=.5;function W(Q){var ee=Q.linkArrowLength;if(Q.link.circular)return S(Q.link,ee);var $=Math.abs((Q.link.target.x0-Q.link.source.x1)/2);ee>$&&(ee=$);var X=Q.link.source.x1,oe=Q.link.target.x0-ee,te=P(X,oe),fe=te(ie),pe=te(1-ie),Ae=Q.link.y0-Q.link.width/2,be=Q.link.y0+Q.link.width/2,Pe=Q.link.y1-Q.link.width/2,me=Q.link.y1+Q.link.width/2,Ee="M"+X+","+Ae,xe="C"+fe+","+Ae+" "+pe+","+Pe+" "+oe+","+Pe,De="C"+pe+","+me+" "+fe+","+be+" "+X+","+be,Ve=ee>0?"L"+(oe+ee)+","+(Pe+Q.link.width/2):"";return Ve+="L"+oe+","+me,Ee+xe+Ve+De+"Z"}return W}function a(ie,W){var Q=y(W.color),ee=c.nodePadAcross,$=ie.nodePad/2;W.dx=W.x1-W.x0,W.dy=W.y1-W.y0;var X=W.dx,oe=Math.max(.5,W.dy),te="node_"+W.pointNumber;return W.group&&(te=s.randstr()),W.trace=ie.trace,W.curveNumber=ie.trace.index,{index:W.pointNumber,key:te,partOfGroup:W.partOfGroup||!1,group:W.group,traceId:ie.key,trace:ie.trace,node:W,nodePad:ie.nodePad,nodeLineColor:ie.nodeLineColor,nodeLineWidth:ie.nodeLineWidth,textFont:ie.textFont,size:ie.horizontal?ie.height:ie.width,visibleWidth:Math.ceil(X),visibleHeight:oe,zoneX:-ee,zoneY:-$,zoneWidth:X+2*ee,zoneHeight:oe+2*$,labelY:ie.horizontal?W.dy/2+1:W.dx/2+1,left:W.originalLayer===1,sizeAcross:ie.width,forceLayouts:ie.forceLayouts,horizontal:ie.horizontal,darkBackground:Q.getBrightness()<=128,tinyColorHue:r.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),valueFormat:ie.valueFormat,valueSuffix:ie.valueSuffix,sankey:ie.sankey,graph:ie.graph,arrangement:ie.arrangement,uniqueNodeLabelPathId:[ie.guid,ie.key,te].join("_"),interactionState:ie.interactionState,figure:ie}}function E(ie){ie.attr("transform",function(W){return n(W.node.x0.toFixed(3),W.node.y0.toFixed(3))})}function p(ie){ie.call(E)}function k(ie,W){ie.call(p),W.attr("d",T())}function R(ie){ie.attr("width",function(W){return W.node.x1-W.node.x0}).attr("height",function(W){return W.visibleHeight})}function B(ie){return ie.link.width>1||ie.linkLineWidth>0}function F(ie){var W=n(ie.translateX,ie.translateY);return W+(ie.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function _(ie,W,Q){ie.on(".basic",null).on("mouseover.basic",function(ee){!ee.interactionState.dragInProgress&&!ee.partOfGroup&&(Q.hover(this,ee,W),ee.interactionState.hovered=[this,ee])}).on("mousemove.basic",function(ee){!ee.interactionState.dragInProgress&&!ee.partOfGroup&&(Q.follow(this,ee),ee.interactionState.hovered=[this,ee])}).on("mouseout.basic",function(ee){!ee.interactionState.dragInProgress&&!ee.partOfGroup&&(Q.unhover(this,ee,W),ee.interactionState.hovered=!1)}).on("click.basic",function(ee){ee.interactionState.hovered&&(Q.unhover(this,ee,W),ee.interactionState.hovered=!1),!ee.interactionState.dragInProgress&&!ee.partOfGroup&&Q.select(this,ee,W)})}function O(ie,W,Q,ee){var $=i.behavior.drag().origin(function(X){return{x:X.node.x0+X.visibleWidth/2,y:X.node.y0+X.visibleHeight/2}}).on("dragstart",function(X){if(X.arrangement!=="fixed"&&(s.ensureSingle(ee._fullLayout._infolayer,"g","dragcover",function(te){ee._fullLayout._dragCover=te}),s.raiseToTop(this),X.interactionState.dragInProgress=X.node,se(X.node),X.interactionState.hovered&&(Q.nodeEvents.unhover.apply(0,X.interactionState.hovered),X.interactionState.hovered=!1),X.arrangement==="snap")){var oe=X.traceId+"|"+X.key;X.forceLayouts[oe]?X.forceLayouts[oe].alpha(1):z(ie,oe,X,ee),N(ie,W,X,oe,ee)}}).on("drag",function(X){if(X.arrangement!=="fixed"){var oe=i.event.x,te=i.event.y;X.arrangement==="snap"?(X.node.x0=oe-X.visibleWidth/2,X.node.x1=oe+X.visibleWidth/2,X.node.y0=te-X.visibleHeight/2,X.node.y1=te+X.visibleHeight/2):(X.arrangement==="freeform"&&(X.node.x0=oe-X.visibleWidth/2,X.node.x1=oe+X.visibleWidth/2),te=Math.max(0,Math.min(X.size-X.visibleHeight/2,te)),X.node.y0=te-X.visibleHeight/2,X.node.y1=te+X.visibleHeight/2),se(X.node),X.arrangement!=="snap"&&(X.sankey.update(X.graph),k(ie.filter(ue(X)),W))}}).on("dragend",function(X){if(X.arrangement!=="fixed"){X.interactionState.dragInProgress=!1;for(var oe=0;oe<X.node.childrenNodes.length;oe++)X.node.childrenNodes[oe].x=X.node.x,X.node.childrenNodes[oe].y=X.node.y;X.arrangement!=="snap"&&J(X,ee)}});ie.on(".drag",null).call($)}function z(ie,W,Q,ee){K(Q.graph.nodes);var $=Q.graph.nodes.filter(function(X){return X.originalX===Q.node.originalX}).filter(function(X){return!X.partOfGroup});Q.forceLayouts[W]=x.forceSimulation($).alphaDecay(0).force("collide",x.forceCollide().radius(function(X){return X.dy/2+Q.nodePad/2}).strength(1).iterations(c.forceIterations)).force("constrain",Y(ie,W,$,Q,ee)).stop()}function N(ie,W,Q,ee,$){window.requestAnimationFrame(function X(){var oe;for(oe=0;oe<c.forceTicksPerFrame;oe++)Q.forceLayouts[ee].tick();var te=Q.graph.nodes;if(j(te),Q.sankey.update(Q.graph),k(ie.filter(ue(Q)),W),Q.forceLayouts[ee].alpha()>0)window.requestAnimationFrame(X);else{var fe=Q.node.originalX;Q.node.x0=fe-Q.visibleWidth/2,Q.node.x1=fe+Q.visibleWidth/2,J(Q,$)}})}function Y(ie,W,Q,ee){return function(){for(var X=0,oe=0;oe<Q.length;oe++){var te=Q[oe];te===ee.interactionState.dragInProgress?(te.x=te.lastDraggedX,te.y=te.lastDraggedY):(te.vx=(te.originalX-te.x)/c.forceTicksPerFrame,te.y=Math.min(ee.size-te.dy/2,Math.max(te.dy/2,te.y))),X=Math.max(X,Math.abs(te.vx),Math.abs(te.vy))}!ee.interactionState.dragInProgress&&X<.1&&ee.forceLayouts[W].alpha()>0&&ee.forceLayouts[W].alpha(0)}}function J(ie,W){for(var Q=[],ee=[],$=0;$<ie.graph.nodes.length;$++){var X=(ie.graph.nodes[$].x0+ie.graph.nodes[$].x1)/2,oe=(ie.graph.nodes[$].y0+ie.graph.nodes[$].y1)/2;Q.push(X/ie.figure.width),ee.push(oe/ie.figure.height)}d.call("_guiRestyle",W,{"node.x":[Q],"node.y":[ee]},ie.trace.index).then(function(){W._fullLayout._dragCover&&W._fullLayout._dragCover.remove()})}function ae(ie){var W=[],Q;for(Q=0;Q<ie.length;Q++)ie[Q].originalX=(ie[Q].x0+ie[Q].x1)/2,ie[Q].originalY=(ie[Q].y0+ie[Q].y1)/2,W.indexOf(ie[Q].originalX)===-1&&W.push(ie[Q].originalX);for(W.sort(function(ee,$){return ee-$}),Q=0;Q<ie.length;Q++)ie[Q].originalLayerIndex=W.indexOf(ie[Q].originalX),ie[Q].originalLayer=ie[Q].originalLayerIndex/(W.length-1)}function se(ie){ie.lastDraggedX=ie.x0+ie.dx/2,ie.lastDraggedY=ie.y0+ie.dy/2}function ue(ie){return function(W){return W.node.originalX===ie.node.originalX}}function K(ie){for(var W=0;W<ie.length;W++)ie[W].y=(ie[W].y0+ie[W].y1)/2,ie[W].x=(ie[W].x0+ie[W].x1)/2}function j(ie){for(var W=0;W<ie.length;W++)ie[W].y0=ie[W].y-ie[W].dy/2,ie[W].y1=ie[W].y0+ie[W].dy,ie[W].x0=ie[W].x-ie[W].dx/2,ie[W].x1=ie[W].x0+ie[W].dx}V.exports=function(ie,W,Q,ee,$){var X=ie._context.staticPlot,oe=!1;s.ensureSingle(ie._fullLayout._infolayer,"g","first-render",function(){oe=!0});var te=ie._fullLayout._dragCover,fe=Q.filter(function(De){return h(De).trace.visible}).map(M.bind(null,ee)),pe=W.selectAll("."+c.cn.sankey).data(fe,f);pe.exit().remove(),pe.enter().append("g").classed(c.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",X?"none":"auto").attr("transform",F),pe.each(function(De,Ve){ie._fullData[Ve]._sankey=De;var Ze="bgsankey-"+De.trace.uid+"-"+Ve;s.ensureSingle(ie._fullLayout._draggers,"rect",Ze),ie._fullData[Ve]._bgRect=i.select("."+Ze),ie._fullData[Ve]._bgRect.style("pointer-events",X?"none":"all").attr("width",De.width).attr("height",De.height).attr("x",De.translateX).attr("y",De.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),pe.transition().ease(c.ease).duration(c.duration).attr("transform",F);var Ae=pe.selectAll("."+c.cn.sankeyLinks).data(g,f);Ae.enter().append("g").classed(c.cn.sankeyLinks,!0).style("fill","none");var be=Ae.selectAll("."+c.cn.sankeyLink).data(function(De){var Ve=De.graph.links;return Ve.filter(function(Ze){return Ze.value}).map(m.bind(null,De))},f);be.enter().append("path").classed(c.cn.sankeyLink,!0).call(_,pe,$.linkEvents),be.style("stroke",function(De){return B(De)?r.tinyRGB(y(De.linkLineColor)):De.tinyColorHue}).style("stroke-opacity",function(De){return B(De)?r.opacity(De.linkLineColor):De.tinyColorAlpha}).style("fill",function(De){return De.tinyColorHue}).style("fill-opacity",function(De){return De.tinyColorAlpha}).style("stroke-width",function(De){return B(De)?De.linkLineWidth:1}).attr("d",T()),be.style("opacity",function(){return ie._context.staticPlot||oe||te?1:0}).transition().ease(c.ease).duration(c.duration).style("opacity",1),be.exit().transition().ease(c.ease).duration(c.duration).style("opacity",0).remove();var Pe=pe.selectAll("."+c.cn.sankeyNodeSet).data(g,f);Pe.enter().append("g").classed(c.cn.sankeyNodeSet,!0),Pe.style("cursor",function(De){switch(De.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var me=Pe.selectAll("."+c.cn.sankeyNode).data(function(De){var Ve=De.graph.nodes;return ae(Ve),Ve.map(a.bind(null,De))},f);me.enter().append("g").classed(c.cn.sankeyNode,!0).call(E).style("opacity",function(De){return(ie._context.staticPlot||oe)&&!De.partOfGroup?1:0}),me.call(_,pe,$.nodeEvents).call(O,be,$,ie),me.transition().ease(c.ease).duration(c.duration).call(E).style("opacity",function(De){return De.partOfGroup?0:1}),me.exit().transition().ease(c.ease).duration(c.duration).style("opacity",0).remove();var Ee=me.selectAll("."+c.cn.nodeRect).data(g);Ee.enter().append("rect").classed(c.cn.nodeRect,!0).call(R),Ee.style("stroke-width",function(De){return De.nodeLineWidth}).style("stroke",function(De){return r.tinyRGB(y(De.nodeLineColor))}).style("stroke-opacity",function(De){return r.opacity(De.nodeLineColor)}).style("fill",function(De){return De.tinyColorHue}).style("fill-opacity",function(De){return De.tinyColorAlpha}),Ee.transition().ease(c.ease).duration(c.duration).call(R);var xe=me.selectAll("."+c.cn.nodeLabel).data(g);xe.enter().append("text").classed(c.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(De){return De.node.label}).each(function(De){var Ve=i.select(this);t.font(Ve,De.textFont),w.convertToTspans(Ve,ie)}).style("text-shadow",w.makeTextShadow(ie._fullLayout.paper_bgcolor)).attr("text-anchor",function(De){return De.horizontal&&De.left?"end":"start"}).attr("transform",function(De){var Ve=i.select(this),Ze=w.lineCount(Ve),ke=De.textFont.size*((Ze-1)*A-v),Ye=De.nodeLineWidth/2+b,lt=((De.horizontal?De.visibleHeight:De.visibleWidth)-ke)/2;De.horizontal&&(De.left?Ye=-Ye:Ye+=De.visibleWidth);var yt=De.horizontal?"":"scale(-1,1)"+u(90);return n(De.horizontal?Ye:lt,De.horizontal?lt:Ye)+yt}),xe.transition().ease(c.ease).duration(c.duration)}},81128:function(V){"use strict";V.exports=function(e,x){for(var P=e.cd,i=[],L=P[0].trace,C=L._sankey.graph.nodes,c=0;c<C.length;c++){var y=C[c];if(!y.partOfGroup){var r=[(y.x0+y.x1)/2,(y.y0+y.y1)/2];L.orientation==="v"&&r.reverse(),x&&x.contains(r,!1,c,e)&&i.push({pointNumber:y.pointNumber})}}return i}},20148:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){for(var C=0;C<i.length;C++)i[C].i=C;x.mergeArray(L.text,i,"tx"),x.mergeArray(L.texttemplate,i,"txt"),x.mergeArray(L.hovertext,i,"htx"),x.mergeArray(L.customdata,i,"data"),x.mergeArray(L.textposition,i,"tp"),L.textfont&&(x.mergeArrayCastPositive(L.textfont.size,i,"ts"),x.mergeArray(L.textfont.color,i,"tc"),x.mergeArray(L.textfont.family,i,"tf"));var c=L.marker;if(c){x.mergeArrayCastPositive(c.size,i,"ms"),x.mergeArrayCastPositive(c.opacity,i,"mo"),x.mergeArray(c.symbol,i,"mx"),x.mergeArray(c.angle,i,"ma"),x.mergeArray(c.standoff,i,"mf"),x.mergeArray(c.color,i,"mc");var y=c.line;c.line&&(x.mergeArray(y.color,i,"mlc"),x.mergeArrayCastPositive(y.width,i,"mlw"));var r=c.gradient;r&&r.type!=="none"&&(x.mergeArray(r.type,i,"mgt"),x.mergeArray(r.color,i,"mgc"))}}},52904:function(V,U,e){"use strict";var x=e(29736).axisHoverFormat,P=e(21776).Gw,i=e(21776).Ks,L=e(49084),C=e(25376),c=e(98192).u,y=e(98192).c,r=e(43616),t=e(88200),s=e(92880).extendFlat,n=e(98304);function u(g){return{valType:"any",dflt:0,editType:"calc"}}function l(g){return{valType:"any",editType:"calc"}}function f(g){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:u("x"),yperiod:u("y"),xperiod0:l("x0"),yperiod0:l("y0"),xperiodalignment:f("x"),yperiodalignment:f("y"),xhoverformat:x("x"),yhoverformat:x("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},c,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:s({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:y,marker:s({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:C({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(54460),L=e(1220),C=e(39032).BADNUM,c=e(43028),y=e(90136),r=e(20148),t=e(4500);function s(h,w){var d=h._fullLayout,o=w._xA=i.getFromId(h,w.xaxis||"x","x"),v=w._yA=i.getFromId(h,w.yaxis||"y","y"),A=o.makeCalcdata(w,"x"),b=v.makeCalcdata(w,"y"),M=L(w,o,"x",A),m=L(w,v,"y",b),S=M.vals,T=m.vals,a=w._length,E=new Array(a),p=w.ids,k=g(w,d,o,v),R=!1,B,F,_,O,z,N;l(d,w);var Y="x",J="y",ae;if(k)P.pushUnique(k.traceIndices,w._expandedIndex),B=k.orientation==="v",B?(J="s",ae="x"):(Y="s",ae="y"),z=k.stackgaps==="interpolate";else{var se=u(w,a);n(h,w,o,v,S,T,se)}var ue=!!w.xperiodalignment,K=!!w.yperiodalignment;for(F=0;F<a;F++){var j=E[F]={},ie=x(S[F]),W=x(T[F]);ie&&W?(j[Y]=S[F],j[J]=T[F],ue&&(j.orig_x=A[F],j.xEnd=M.ends[F],j.xStart=M.starts[F]),K&&(j.orig_y=b[F],j.yEnd=m.ends[F],j.yStart=m.starts[F])):k&&(B?ie:W)?(j[ae]=B?S[F]:T[F],j.gap=!0,z?(j.s=C,R=!0):j.s=0):j[Y]=j[J]=C,p&&(j.id=String(p[F]))}if(r(E,w),y(h,w),t(E,w),k){for(F=0;F<E.length;)E[F][ae]===C?E.splice(F,1):F++;if(P.sort(E,function(X,oe){return X[ae]-oe[ae]||X.i-oe.i}),R){for(F=0;F<E.length-1&&E[F].gap;)F++;for(N=E[F].s,N||(N=E[F].s=0),_=0;_<F;_++)E[_].s=N;for(O=E.length-1;O>F&&E[O].gap;)O--;for(N=E[O].s,_=E.length-1;_>O;_--)E[_].s=N;for(;F<O;)if(F++,E[F].gap){for(_=F+1;E[_].gap;)_++;for(var Q=E[F-1][ae],ee=E[F-1].s,$=(E[_].s-ee)/(E[_][ae]-Q);F<_;)E[F].s=ee+(E[F][ae]-Q)*$,F++}}}return E}function n(h,w,d,o,v,A,b){var M=w._length,m=h._fullLayout,S=d._id,T=o._id,a=m._firstScatter[f(w)]===w.uid,E=(g(w,m,d,o)||{}).orientation,p=w.fill;d._minDtick=0,o._minDtick=0;var k={padded:!0},R={padded:!0};b&&(k.ppad=R.ppad=b);var B=M<2||v[0]!==v[M-1]||A[0]!==A[M-1];B&&(p==="tozerox"||p==="tonextx"&&(a||E==="h"))?k.tozero=!0:!(w.error_y||{}).visible&&(p==="tonexty"||p==="tozeroy"||!c.hasMarkers(w)&&!c.hasText(w))&&(k.padded=!1,k.ppad=0),B&&(p==="tozeroy"||p==="tonexty"&&(a||E==="v"))?R.tozero=!0:(p==="tonextx"||p==="tozerox")&&(R.padded=!1),S&&(w._extremes[S]=i.findExtremes(d,v,k)),T&&(w._extremes[T]=i.findExtremes(o,A,R))}function u(h,w){if(c.hasMarkers(h)){var d=h.marker,o=1.6*(h.marker.sizeref||1),v;if(h.marker.sizemode==="area"?v=function(S){return Math.max(Math.sqrt((S||0)/o),3)}:v=function(S){return Math.max((S||0)/o,3)},P.isArrayOrTypedArray(d.size)){var A={type:"linear"};i.setConvert(A);for(var b=A.makeCalcdata(h.marker,"size"),M=new Array(w),m=0;m<w;m++)M[m]=v(b[m]);return M}else return v(d.size)}}function l(h,w){var d=f(w),o=h._firstScatter;o[d]||(o[d]=w.uid)}function f(h){var w=h.stackgroup;return h.xaxis+h.yaxis+h.type+(w?"-"+w:"")}function g(h,w,d,o){var v=h.stackgroup;if(v){var A=w._scatterStackOpts[d._id+o._id][v],b=A.orientation==="v"?o:d;if(b.type==="linear"||b.type==="log")return A}}V.exports={calc:s,calcMarkerSize:u,calcAxisExpansion:n,setFirstScatter:l,getStackOpts:g}},4500:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){x.isArrayOrTypedArray(L.selectedpoints)&&x.tagSelected(i,L)}},90136:function(V,U,e){"use strict";var x=e(94288).hasColorscale,P=e(47128),i=e(43028);V.exports=function(C,c){i.hasLines(c)&&x(c,"line")&&P(C,c,{vals:c.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(c)&&(x(c,"marker")&&P(C,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),x(c,"marker.line")&&P(C,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(V){"use strict";V.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(V,U,e){"use strict";var x=e(16356),P=e(96376).setGroupPositions;function i(c,y){for(var r=y.xaxis,t=y.yaxis,s=c._fullLayout,n=c._fullData,u=c.calcdata,l=[],f=[],g=0;g<n.length;g++){var h=n[g];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?l.push(u[g]):h.orientation==="v"&&f.push(u[g]))}var w={mode:s.scattermode,gap:s.scattergap};P(c,r,t,f,w),P(c,t,r,l,w)}V.exports=function(y,r){y._fullLayout.scattermode==="group"&&i(y,r);var t=r.xaxis,s=r.yaxis,n=t._id+s._id,u=y._fullLayout._scatterStackOpts[n];if(u){var l=y.calcdata,f,g,h,w,d,o,v,A,b,M,m,S,T,a,E;for(var p in u){M=u[p];var k=M.traceIndices;if(k.length){for(m=M.stackgaps==="interpolate",S=M.groupnorm,M.orientation==="v"?(T="x",a="y"):(T="y",a="x"),E=new Array(k.length),f=0;f<E.length;f++)E[f]=!1;o=l[k[0]];var R=new Array(o.length);for(f=0;f<o.length;f++)R[f]=o[f][T];for(f=1;f<k.length;f++){for(d=l[k[f]],g=h=0;g<d.length;g++){for(v=d[g][T];v>R[h]&&h<R.length;h++)L(d,g,R[h],f,E,m,T),g++;if(v!==R[h]){for(w=0;w<f;w++)L(l[k[w]],h,v,w,E,m,T);R.splice(h,0,v)}h++}for(;h<R.length;h++)L(d,g,R[h],f,E,m,T),g++}var B=R.length;for(g=0;g<o.length;g++){for(A=o[g][a]=o[g].s,f=1;f<k.length;f++)d=l[k[f]],d[0].trace._rawLength=d[0].trace._length,d[0].trace._length=B,A+=d[g].s,d[g][a]=A;if(S)for(b=(S==="fraction"?A:A/100)||1,f=0;f<k.length;f++){var F=l[k[f]][g];F[a]/=b,F.sNorm=F.s/b}}for(f=0;f<k.length;f++){d=l[k[f]];var _=d[0].trace,O=x.calcMarkerSize(_,_._rawLength),z=Array.isArray(O);if(O&&E[f]||z){var N=O;for(O=new Array(B),g=0;g<B;g++)O[g]=d[g].gap?0:z?N[d[g].i]:N}var Y=new Array(B),J=new Array(B);for(g=0;g<B;g++)Y[g]=d[g].x,J[g]=d[g].y;x.calcAxisExpansion(y,_,t,s,Y,J,O),d[0].t.orientation=M.orientation}}}}};function L(c,y,r,t,s,n,u){s[t]=!0;var l={i:null,gap:!0,s:0};if(l[u]=r,c.splice(y,0,l),y&&r===c[y-1][u]){var f=c[y-1];l.s=f.s,l.i=f.i,l.gap=f.gap}else n&&(l.s=C(c,y,r,u));y||(c[0].t=c[1].t,c[0].trace=c[1].trace,delete c[1].t,delete c[1].trace)}function C(c,y,r,t){var s=c[y-1],n=c[y+1];return n?s?s.s+(n.s-s.s)*(r-s[t])/(n[t]-s[t]):n.s:s.s}},35036:function(V,U,e){"use strict";var x=e(3400),P=e(20011),i=e(52904);V.exports=function(C,c){var y,r,t;function s(g){return x.coerce(r._input,r,i,g)}if(c.scattermode==="group")for(t=0;t<C.length;t++)r=C[t],r.type==="scatter"&&(y=r._input,P(y,r,c,s));for(t=0;t<C.length;t++){var n=C[t];if(n.type==="scatter"){var u=n.fill;if(!(u==="none"||u==="toself")&&(n.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var l=t-1;l>=0;l--){var f=C[l];if(f.type==="scatter"&&f.xaxis===n.xaxis&&f.yaxis===n.yaxis){f.opacity=void 0;break}}}}}},18800:function(V,U,e){"use strict";var x=e(3400),P=e(24040),i=e(52904),L=e(88200),C=e(43028),c=e(43980),y=e(31147),r=e(43912),t=e(74428),s=e(66828),n=e(11731),u=e(124),l=e(70840),f=e(3400).coercePattern;V.exports=function(h,w,d,o){function v(E,p){return x.coerce(h,w,i,E,p)}var A=c(h,w,o,v);if(A||(w.visible=!1),!!w.visible){y(h,w,o,v),v("xhoverformat"),v("yhoverformat"),v("zorder");var b=r(h,w,o,v);o.scattermode==="group"&&w.orientation===void 0&&v("orientation","v");var M=!b&&A<L.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",M),C.hasMarkers(w)&&t(h,w,d,o,v,{gradient:!0}),C.hasLines(w)&&(s(h,w,d,o,v,{backoff:!0}),n(h,w,v),v("connectgaps"),v("line.simplify")),C.hasText(w)&&(v("texttemplate"),u(h,w,o,v));var m=[];(C.hasMarkers(w)||C.hasText(w))&&(v("cliponaxis"),v("marker.maxdisplayed"),m.push("points")),v("fill",b?b.fillDflt:"none"),w.fill!=="none"&&(l(h,w,d,v,{moduleHasFillgradient:!0}),C.hasLines(w)||n(h,w,v),f(v,"fillpattern",w.fillcolor,!1));var S=(w.line||{}).color,T=(w.marker||{}).color;(w.fill==="tonext"||w.fill==="toself")&&m.push("fills"),v("hoveron",m.join("+")||"points"),w.hoveron!=="fills"&&v("hovertemplate");var a=P.getComponentMethod("errorbars","supplyDefaults");a(h,w,S||T||d,{axis:"y"}),a(h,w,S||T||d,{axis:"x",inherit:"y"}),x.coerceSelectionMarkerOpacity(w,v)}}},98304:function(V){"use strict";V.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(V,U,e){"use strict";var x=e(76308),P=e(3400).isArrayOrTypedArray;function i(L){for(var C=x.interpolate(L[0][1],L[1][1],.5),c=2;c<L.length;c++){var y=x.interpolate(L[c-1][1],L[c][1],.5);C=x.interpolate(C,y,L[c-1][0]/L[c][0])}return C}V.exports=function(C,c,y,r,t){t||(t={});var s=!1;if(c.marker){var n=c.marker.color,u=(c.marker.line||{}).color;n&&!P(n)?s=n:u&&!P(u)&&(s=u)}var l;if(t.moduleHasFillgradient){var f=r("fillgradient.type");if(f!=="none"){r("fillgradient.start"),r("fillgradient.stop");var g=r("fillgradient.colorscale");g&&(l=i(g))}}r("fillcolor",x.addOpacity((c.line||{}).color||s||l||y,.5))}},76688:function(V,U,e){"use strict";var x=e(54460);V.exports=function(i,L,C){var c={},y={_fullLayout:C},r=x.getFromTrace(y,L,"x"),t=x.getFromTrace(y,L,"y"),s=i.orig_x;s===void 0&&(s=i.x);var n=i.orig_y;return n===void 0&&(n=i.y),c.xLabel=x.tickText(r,r.c2l(s),!0).text,c.yLabel=x.tickText(t,t.c2l(n),!0).text,c}},44928:function(V,U,e){"use strict";var x=e(76308),P=e(43028);V.exports=function(L,C){var c,y;if(L.mode==="lines")return c=L.line.color,c&&x.opacity(c)?c:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=C.mcc||(L.marker||{}).color,t=C.mlcc||((L.marker||{}).line||{}).color;return y=r&&x.opacity(r)?r:t&&x.opacity(t)&&(C.mlw||((L.marker||{}).line||{}).width)?t:"",y?x.opacity(y)<.3?x.addOpacity(y,.3):y:(c=(L.line||{}).color,c&&x.opacity(c)&&P.hasLines(L)&&L.line.width?c:L.fillcolor)}},20011:function(V,U,e){"use strict";var x=e(71888).getAxisGroup;V.exports=function(i,L,C,c){var y=L.orientation,r=L[{v:"x",h:"y"}[y]+"axis"],t=x(C,r)+y,s=C._alignmentOpts||{},n=c("alignmentgroup"),u=s[t];u||(u=s[t]={});var l=u[n];l?l.traces.push(L):l=u[n]={traces:[L],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var f=c("offsetgroup"),g=l.offsetGroups,h=g[f];f&&(h||(h=g[f]={offsetIndex:Object.keys(g).length}),L._offsetIndex=h.offsetIndex)}},98723:function(V,U,e){"use strict";var x=e(3400),P=e(93024),i=e(24040),L=e(44928),C=e(76308),c=x.fillText;V.exports=function(r,t,s,n){var u=r.cd,l=u[0].trace,f=r.xa,g=r.ya,h=f.c2p(t),w=g.c2p(s),d=[h,w],o=l.hoveron||"",v=l.mode.indexOf("markers")!==-1?3:.5,A=!!l.xperiodalignment,b=!!l.yperiodalignment;if(o.indexOf("points")!==-1){var M=function(ae){if(A){var se=f.c2p(ae.xStart),ue=f.c2p(ae.xEnd);return h>=Math.min(se,ue)&&h<=Math.max(se,ue)?0:1/0}var K=Math.max(3,ae.mrc||0),j=1-1/K,ie=Math.abs(f.c2p(ae.x)-h);return ie<K?j*ie/K:ie-K+j},m=function(ae){if(b){var se=g.c2p(ae.yStart),ue=g.c2p(ae.yEnd);return w>=Math.min(se,ue)&&w<=Math.max(se,ue)?0:1/0}var K=Math.max(3,ae.mrc||0),j=1-1/K,ie=Math.abs(g.c2p(ae.y)-w);return ie<K?j*ie/K:ie-K+j},S=function(ae){var se=Math.max(v,ae.mrc||0),ue=f.c2p(ae.x)-h,K=g.c2p(ae.y)-w;return Math.max(Math.sqrt(ue*ue+K*K)-se,1-v/se)},T=P.getDistanceFunction(n,M,m,S);if(P.getClosest(u,T,r),r.index!==!1){var a=u[r.index],E=f.c2p(a.x,!0),p=g.c2p(a.y,!0),k=a.mrc||1;r.index=a.i;var R=u[0].t.orientation,B=R&&(a.sNorm||a.s),F=R==="h"?B:a.orig_x!==void 0?a.orig_x:a.x,_=R==="v"?B:a.orig_y!==void 0?a.orig_y:a.y;return x.extendFlat(r,{color:L(l,a),x0:E-k,x1:E+k,xLabelVal:F,y0:p-k,y1:p+k,yLabelVal:_,spikeDistance:S(a),hovertemplate:l.hovertemplate}),c(a,l,r),i.getComponentMethod("errorbars","hoverInfo")(a,l,r),[r]}}function O(ae){if(!ae)return!1;var se=ae.node();try{var ue=new DOMPoint(d[0],d[1]);return se.isPointInFill(ue)}catch(j){var K=se.ownerSVGElement.createSVGPoint();return K.x=d[0],K.y=d[1],se.isPointInFill(K)}}function z(ae){var se,ue=[],K=1/0,j=-1/0,ie=1/0,W=-1/0,Q;for(se=0;se<ae.length;se++){var ee=ae[se];ee.contains(d)&&(ue.push(ee),ie=Math.min(ie,ee.ymin),W=Math.max(W,ee.ymax))}if(ue.length===0)return null;ie=Math.max(ie,0),W=Math.min(W,g._length),Q=(ie+W)/2;var $,X,oe,te,fe,pe,Ae;for(se=0;se<ue.length;se++)for(X=ue[se].pts,$=1;$<X.length;$++)pe=X[$-1][1],Ae=X[$][1],pe>Q!=Ae>=Q&&(te=X[$-1][0],fe=X[$][0],Ae-pe&&(oe=te+(fe-te)*(Q-pe)/(Ae-pe),K=Math.min(K,oe),j=Math.max(j,oe)));return K=Math.max(K,0),j=Math.min(j,f._length),{x0:K,x1:j,y0:Q,y1:Q}}if(o.indexOf("fills")!==-1&&l._fillElement){var N=O(l._fillElement)&&!O(l._fillExclusionElement);if(N){var Y=z(l._polygons);Y===null&&(Y={x0:d[0],x1:d[0],y0:d[1],y1:d[1]});var J=C.defaultLine;return C.opacity(l.fillcolor)?J=l.fillcolor:C.opacity((l.line||{}).color)&&(J=l.line.color),x.extendFlat(r,{distance:r.maxHoverDistance,x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1,color:J,hovertemplate:!1}),delete r.index,l.text&&!x.isArrayOrTypedArray(l.text)?r.text=String(l.text):r.text=l.name,[r]}}}},65875:function(V,U,e){"use strict";var x=e(43028);V.exports={hasLines:x.hasLines,hasMarkers:x.hasMarkers,hasText:x.hasText,isBubble:x.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(V){"use strict";V.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(V,U,e){"use strict";var x=e(3400),P=e(55308);V.exports=function(i,L){function C(y,r){return x.coerce(i,L,P,y,r)}var c=L.barmode==="group";L.scattermode==="group"&&C("scattergap",c?L.bargap:.2)}},66828:function(V,U,e){"use strict";var x=e(3400).isArrayOrTypedArray,P=e(94288).hasColorscale,i=e(27260);V.exports=function(C,c,y,r,t,s){s||(s={});var n=(C.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",y),P(C,"line"))i(C,c,r,t,{prefix:"line.",cLetter:"c"});else{var u=(x(n)?!1:n)||y;t("line.color",u)}t("line.width"),s.noDash||t("line.dash"),s.backoff&&t("line.backoff")}},52340:function(V,U,e){"use strict";var x=e(43616),P=e(39032),i=P.BADNUM,L=P.LOG_CLIP,C=L+.5,c=L-.5,y=e(3400),r=y.segmentsIntersect,t=y.constrain,s=e(88200);V.exports=function(u,l){var f=l.trace||{},g=l.xaxis,h=l.yaxis,w=g.type==="log",d=h.type==="log",o=g._length,v=h._length,A=l.backoff,b=f.marker,M=l.connectGaps,m=l.baseTolerance,S=l.shape,T=S==="linear",a=f.fill&&f.fill!=="none",E=[],p=s.minTolerance,k=u.length,R=new Array(k),B=0,F,_,O,z,N,Y,J,ae,se,ue,K,j,ie,W,Q,ee;function $(Ke){var rt=u[Ke];if(!rt)return!1;var Lt=l.linearized?g.l2p(rt.x):g.c2p(rt.x),It=l.linearized?h.l2p(rt.y):h.c2p(rt.y);if(Lt===i){if(w&&(Lt=g.c2p(rt.x,!0)),Lt===i)return!1;d&&It===i&&(Lt*=Math.abs(g._m*v*(g._m>0?C:c)/(h._m*o*(h._m>0?C:c)))),Lt*=1e3}if(It===i){if(d&&(It=h.c2p(rt.y,!0)),It===i)return!1;It*=1e3}return[Lt,It]}function X(Ke,rt,Lt,It){var wt=Lt-Ke,Et=It-rt,Wt=.5-Ke,vr=.5-rt,dt=wt*wt+Et*Et,Yt=wt*Wt+Et*vr;if(Yt>0&&Yt<dt){var jt=Wt*Et-vr*wt;if(jt*jt<dt)return!0}}var oe,te;function fe(Ke,rt){var Lt=Ke[0]/o,It=Ke[1]/v,wt=Math.max(0,-Lt,Lt-1,-It,It-1);return wt&&oe!==void 0&&X(Lt,It,oe,te)&&(wt=0),wt&&rt&&X(Lt,It,rt[0]/o,rt[1]/v)&&(wt=0),(1+s.toleranceGrowth*wt)*m}function pe(Ke,rt){var Lt=Ke[0]-rt[0],It=Ke[1]-rt[1];return Math.sqrt(Lt*Lt+It*It)}var Ae=s.maxScreensAway,be=-o*Ae,Pe=o*(1+Ae),me=-v*Ae,Ee=v*(1+Ae),xe=[[be,me,Pe,me],[Pe,me,Pe,Ee],[Pe,Ee,be,Ee],[be,Ee,be,me]],De,Ve,Ze,ke,Ye,lt;function yt(Ke,rt){for(var Lt=[],It=0,wt=0;wt<4;wt++){var Et=xe[wt],Wt=r(Ke[0],Ke[1],rt[0],rt[1],Et[0],Et[1],Et[2],Et[3]);Wt&&(!It||Math.abs(Wt.x-Lt[0][0])>1||Math.abs(Wt.y-Lt[0][1])>1)&&(Wt=[Wt.x,Wt.y],It&&pe(Wt,Ke)<pe(Lt[0],Ke)?Lt.unshift(Wt):Lt.push(Wt),It++)}return Lt}function He(Ke){if(Ke[0]<be||Ke[0]>Pe||Ke[1]<me||Ke[1]>Ee)return[t(Ke[0],be,Pe),t(Ke[1],me,Ee)]}function Fe(Ke,rt){if(Ke[0]===rt[0]&&(Ke[0]===be||Ke[0]===Pe)||Ke[1]===rt[1]&&(Ke[1]===me||Ke[1]===Ee))return!0}function nt(Ke,rt){var Lt=[],It=He(Ke),wt=He(rt);return It&&wt&&Fe(It,wt)||(It&&Lt.push(It),wt&&Lt.push(wt)),Lt}function ot(Ke,rt,Lt){return function(It,wt){var Et=He(It),Wt=He(wt),vr=[];if(Et&&Wt&&Fe(Et,Wt))return vr;Et&&vr.push(Et),Wt&&vr.push(Wt);var dt=2*y.constrain((It[Ke]+wt[Ke])/2,rt,Lt)-((Et||It)[Ke]+(Wt||wt)[Ke]);if(dt){var Yt;Et&&Wt?Yt=dt>0==Et[Ke]>Wt[Ke]?Et:Wt:Yt=Et||Wt,Yt[Ke]+=dt}return vr}}var ct;S==="linear"||S==="spline"?ct=yt:S==="hv"||S==="vh"?ct=nt:S==="hvh"?ct=ot(0,be,Pe):S==="vhv"&&(ct=ot(1,me,Ee));function ht(Ke,rt){var Lt=rt[0]-Ke[0],It=(rt[1]-Ke[1])/Lt,wt=(Ke[1]*rt[0]-rt[1]*Ke[0])/Lt;return wt>0?[It>0?be:Pe,Ee]:[It>0?Pe:be,me]}function mt(Ke){var rt=Ke[0],Lt=Ke[1],It=rt===R[B-1][0],wt=Lt===R[B-1][1];if(!(It&&wt))if(B>1){var Et=rt===R[B-2][0],Wt=Lt===R[B-2][1];It&&(rt===be||rt===Pe)&&Et?Wt?B--:R[B-1]=Ke:wt&&(Lt===me||Lt===Ee)&&Wt?Et?B--:R[B-1]=Ke:R[B++]=Ke}else R[B++]=Ke}function tt(Ke){R[B-1][0]!==Ke[0]&&R[B-1][1]!==Ke[1]&&mt([Ze,ke]),mt(Ke),Ye=null,Ze=ke=0}var Re=y.isArrayOrTypedArray(b);function Ge(Ke){if(Ke&&A&&(Ke.i=F,Ke.d=u,Ke.trace=f,Ke.marker=Re?b[Ke.i]:b,Ke.backoff=A),oe=Ke[0]/o,te=Ke[1]/v,De=Ke[0]<be?be:Ke[0]>Pe?Pe:0,Ve=Ke[1]<me?me:Ke[1]>Ee?Ee:0,De||Ve){if(!B)R[B++]=[De||Ke[0],Ve||Ke[1]];else if(Ye){var rt=ct(Ye,Ke);rt.length>1&&(tt(rt[0]),R[B++]=rt[1])}else lt=ct(R[B-1],Ke)[0],R[B++]=lt;var Lt=R[B-1];De&&Ve&&(Lt[0]!==De||Lt[1]!==Ve)?(Ye&&(Ze!==De&&ke!==Ve?mt(Ze&&ke?ht(Ye,Ke):[Ze||De,ke||Ve]):Ze&&ke&&mt([Ze,ke])),mt([De,Ve])):Ze-De&&ke-Ve&&mt([De||Ze,Ve||ke]),Ye=Ke,Ze=De,ke=Ve}else Ye&&tt(ct(Ye,Ke)[0]),R[B++]=Ke}for(F=0;F<k;F++)if(_=$(F),!!_){for(B=0,Ye=null,Ge(_),F++;F<k;F++){if(z=$(F),!z){if(M)continue;break}if(!T||!l.simplify){Ge(z);continue}var Je=$(F+1);if(ue=pe(z,_),!(!(a&&(B===0||B===k-1))&&ue<fe(z,Je)*p)){for(ae=[(z[0]-_[0])/ue,(z[1]-_[1])/ue],N=_,K=ue,j=W=Q=0,J=!1,O=z,F++;F<u.length;F++){if(Y=Je,Je=$(F+1),!Y){if(M)continue;break}if(se=[Y[0]-_[0],Y[1]-_[1]],ee=se[0]*ae[1]-se[1]*ae[0],W=Math.min(W,ee),Q=Math.max(Q,ee),Q-W>fe(Y,Je))break;O=Y,ie=se[0]*ae[0]+se[1]*ae[1],ie>K?(K=ie,z=Y,J=!1):ie<j&&(j=ie,N=Y,J=!0)}if(J?(Ge(z),O!==N&&Ge(N)):(N!==_&&Ge(N),O!==z&&Ge(z)),Ge(O),F>=u.length||!Y)break;Ge(Y),_=Y}}Ye&&mt([Ze||Ye[0],ke||Ye[1]]),E.push(R.slice(0,B))}var Xe=S.slice(S.length-1);if(A&&Xe!=="h"&&Xe!=="v"){for(var Oe=!1,Ne=-1,ze=[],et=0;et<E.length;et++)for(var Le=0;Le<E[et].length-1;Le++){var Te=E[et][Le],ye=E[et][Le+1],Se=x.applyBackoff(ye,Te);(Se[0]!==ye[0]||Se[1]!==ye[1])&&(Oe=!0),ze[Ne+1]||(Ne++,ze[Ne]=[Te,[Se[0],Se[1]]])}return Oe?ze:E}return E}},11731:function(V){"use strict";V.exports=function(e,x,P){var i=P("line.shape");i==="spline"&&P("line.smoothing")}},14328:function(V){"use strict";var U={tonextx:1,tonexty:1,tonext:1};V.exports=function(x,P,i){var L,C,c,y,r,t={},s=!1,n=-1,u=0,l=-1;for(C=0;C<i.length;C++)L=i[C][0].trace,c=L.stackgroup||"",c?c in t?r=t[c]:(r=t[c]=u,u++):L.fill in U&&l>=0?r=l:(r=l=u,u++),r<n&&(s=!0),L._groupIndex=n=r;var f=i.slice();s&&f.sort(function(h,w){var d=h[0].trace,o=w[0].trace;return d._groupIndex-o._groupIndex||d.index-o.index});var g={};for(C=0;C<f.length;C++)L=f[C][0].trace,c=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in U&&(y=g[c],L._prevtrace=y||null,y&&(y._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),g[c]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return f}},7152:function(V,U,e){"use strict";var x=e(38248);V.exports=function(i,L){L||(L=2);var C=i.marker,c=C.sizeref||1,y=C.sizemin||0,r=C.sizemode==="area"?function(t){return Math.sqrt(t/c)}:function(t){return t/c};return function(t){var s=r(t/L);return x(s)&&s>0?Math.max(s,y):0}}},5528:function(V){"use strict";V.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(V,U,e){"use strict";var x=e(76308),P=e(94288).hasColorscale,i=e(27260),L=e(43028);V.exports=function(c,y,r,t,s,n){var u=L.isBubble(c),l=(c.line||{}).color,f;if(n=n||{},l&&(r=l),s("marker.symbol"),s("marker.opacity",u?.7:1),s("marker.size"),n.noAngle||(s("marker.angle"),n.noAngleRef||s("marker.angleref"),n.noStandOff||s("marker.standoff")),s("marker.color",r),P(c,"marker")&&i(c,y,t,s,{prefix:"marker.",cLetter:"c"}),n.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),n.noLine||(l&&!Array.isArray(l)&&y.marker.color!==l?f=l:u?f=x.background:f=x.defaultLine,s("marker.line.color",f),P(c,"marker.line")&&i(c,y,t,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",u?1:0)),u&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),n.gradient){var g=s("marker.gradient.type");g!=="none"&&s("marker.gradient.color")}}},31147:function(V,U,e){"use strict";var x=e(3400).dateTick0,P=e(39032),i=P.ONEWEEK;function L(C,c){return C%i===0?x(c,1):x(c,0)}V.exports=function(c,y,r,t,s){if(s||(s={x:!0,y:!0}),s.x){var n=t("xperiod");n&&(t("xperiod0",L(n,y.xcalendar)),t("xperiodalignment"))}if(s.y){var u=t("yperiod");u&&(t("yperiod0",L(u,y.ycalendar)),t("yperiodalignment"))}}},96504:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(3400),L=i.ensureSingle,C=i.identity,c=e(43616),y=e(43028),r=e(52340),t=e(14328),s=e(92065).tester;V.exports=function(g,h,w,d,o,v){var A,b,M=!o,m=!!o&&o.duration>0,S=t(g,h,w);if(A=d.selectAll("g.trace").data(S,function(a){return a[0].trace.uid}),A.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2),A.order(),n(g,A,h),m){v&&(b=v());var T=x.transition().duration(o.duration).ease(o.easing).each("end",function(){b&&b()}).each("interrupt",function(){b&&b()});T.each(function(){d.selectAll("g.trace").each(function(a,E){u(g,E,h,a,S,this,o)})})}else A.each(function(a,E){u(g,E,h,a,S,this,o)});M&&A.exit().remove(),d.selectAll("path:not([d])").remove()};function n(f,g,h){g.each(function(w){var d=L(x.select(this),"g","fills");c.setClipUrl(d,h.layerClipId,f);var o=w[0].trace,v=[];o._ownfill&&v.push("_ownFill"),o._nexttrace&&v.push("_nextFill");var A=d.selectAll("g").data(v,C);A.enter().append("g"),A.exit().each(function(b){o[b]=null}).remove(),A.order().each(function(b){o[b]=L(x.select(this),"path","js-fill")})})}function u(f,g,h,w,d,o,v){var A=f._context.staticPlot,b;l(f,g,h,w,d);var M=!!v&&v.duration>0;function m(mt){return M?mt.transition():mt}var S=h.xaxis,T=h.yaxis,a=w[0].trace,E=a.line,p=x.select(o),k=L(p,"g","errorbars"),R=L(p,"g","lines"),B=L(p,"g","points"),F=L(p,"g","text");if(P.getComponentMethod("errorbars","plot")(f,k,h,v),a.visible!==!0)return;m(p).style("opacity",a.opacity);var _,O,z=a.fill.charAt(a.fill.length-1);z!=="x"&&z!=="y"&&(z="");var N,Y;z==="y"?(N=1,Y=T.c2p(0,!0)):z==="x"&&(N=0,Y=S.c2p(0,!0)),w[0][h.isRangePlot?"nodeRangePlot3":"node3"]=p;var J="",ae=[],se=a._prevtrace,ue=null,K=null;se&&(J=se._prevRevpath||"",O=se._nextFill,ae=se._ownPolygons,ue=se._fillsegments,K=se._fillElement);var j,ie,W="",Q="",ee,$,X,oe,te,fe,pe=[];a._polygons=[];var Ae=[],be=[],Pe=i.noop;if(_=a._ownFill,y.hasLines(a)||a.fill!=="none"){O&&O.datum(w),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(ee=c.steps(E.shape),$=c.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?ee=$=function(mt){var tt=mt[mt.length-1];return mt.length>1&&mt[0][0]===tt[0]&&mt[0][1]===tt[1]?c.smoothclosed(mt.slice(1),E.smoothing):c.smoothopen(mt,E.smoothing)}:ee=$=function(mt){return"M"+mt.join("L")},X=function(mt){return $(mt.reverse())},be=r(w,{xaxis:S,yaxis:T,trace:a,connectGaps:a.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:a.fill}),Ae=new Array(be.length);var me=0;for(b=0;b<be.length;b++){var Ee,xe=be[b];!Ee||!z?(Ee=xe.slice(),Ae[me]=Ee,me++):Ee.push.apply(Ee,xe)}a._fillElement=null,a._fillExclusionElement=K,a._fillsegments=Ae.slice(0,me),Ae=a._fillsegments,be.length&&(oe=be[0][0].slice(),te=be[be.length-1],fe=te[te.length-1].slice()),Pe=function(mt){return function(tt){if(j=ee(tt),ie=X(tt),W?z?(W+="L"+j.substr(1),Q=ie+("L"+Q.substr(1))):(W+="Z"+j,Q=ie+"Z"+Q):(W=j,Q=ie),y.hasLines(a)){var Re=x.select(this);if(Re.datum(w),mt)m(Re.style("opacity",0).attr("d",j).call(c.lineGroupStyle)).style("opacity",1);else{var Ge=m(Re);Ge.attr("d",j),c.singleLineStyle(w,Ge)}}}}}var De=R.selectAll(".js-line").data(be);m(De.exit()).style("opacity",0).remove(),De.each(Pe(!1)),De.enter().append("path").classed("js-line",!0).style("vector-effect",A?"none":"non-scaling-stroke").call(c.lineGroupStyle).each(Pe(!0)),c.setClipUrl(De,h.layerClipId,f);function Ve(mt){m(mt).attr("d","M0,0Z")}var Ze=function(){var mt=new Array(Ae.length);for(b=0;b<Ae.length;b++)mt[b]=s(Ae[b]);return mt},ke=function(mt){var tt,Re;if(!mt||mt.length===0)for(tt=new Array(Ae.length),Re=0;Re<Ae.length;Re++){var Ge=Ae[Re][0].slice(),Je=Ae[Re][Ae[Re].length-1].slice();Ge[N]=Je[N]=Y;var Xe=[Je,Ge],Oe=Xe.concat(Ae[Re]);tt[Re]=s(Oe)}else{for(tt=new Array(mt.length-1+Ae.length),Re=0;Re<mt.length-1;Re++)tt[Re]=s(mt[Re]);var Ne=mt[mt.length-1].slice();for(Ne.reverse(),Re=0;Re<Ae.length;Re++)tt[mt.length-1+Re]=s(Ae[Re].concat(Ne))}return tt};be.length?(_?(_.datum(w),oe&&fe&&(z?(oe[N]=fe[N]=Y,m(_).attr("d","M"+fe+"L"+oe+"L"+W.substr(1)).call(c.singleFillStyle,f),pe=ke(null)):(m(_).attr("d",W+"Z").call(c.singleFillStyle,f),pe=Ze())),a._polygons=pe,a._fillElement=_):O&&(a.fill.substr(0,6)==="tonext"&&W&&J?(a.fill==="tonext"?(m(O).attr("d",W+"Z"+J+"Z").call(c.singleFillStyle,f),pe=Ze(),a._polygons=pe.concat(ae)):(m(O).attr("d",W+"L"+J.substr(1)+"Z").call(c.singleFillStyle,f),pe=ke(ue),a._polygons=pe),a._fillElement=O):Ve(O)),a._prevRevpath=Q):(_?Ve(_):O&&Ve(O),a._prevRevpath=null),a._ownPolygons=pe;function Ye(mt){return mt.filter(function(tt){return!tt.gap&&tt.vis})}function lt(mt){return mt.filter(function(tt){return tt.vis})}function yt(mt){return mt.filter(function(tt){return!tt.gap})}function He(mt){return mt.id}function Fe(mt){if(mt.ids)return He}function nt(){return!1}function ot(mt,tt,Re){var Ge,Je,Xe,Oe=Re[0].trace,Ne=y.hasMarkers(Oe),ze=y.hasText(Oe),et=Fe(Oe),Le=nt,Te=nt;if(Ne||ze){var ye=C,Se=Oe.stackgroup,Ke=Se&&f._fullLayout._scatterStackOpts[S._id+T._id][Se].stackgaps==="infer zero";Oe.marker.maxdisplayed||Oe._needsCull?ye=Ke?lt:Ye:Se&&!Ke&&(ye=yt),Ne&&(Le=ye),ze&&(Te=ye)}Je=mt.selectAll("path.point"),Ge=Je.data(Le,et);var rt=Ge.enter().append("path").classed("point",!0);M&&rt.call(c.pointStyle,Oe,f).call(c.translatePoints,S,T).style("opacity",0).transition().style("opacity",1),Ge.order();var Lt;Ne&&(Lt=c.makePointStyleFns(Oe)),Ge.each(function(It){var wt=x.select(this),Et=m(wt);Xe=c.translatePoint(It,Et,S,T),Xe?(c.singlePointStyle(It,Et,Oe,Lt,f),h.layerClipId&&c.hideOutsideRangePoint(It,Et,S,T,Oe.xcalendar,Oe.ycalendar),Oe.customdata&&wt.classed("plotly-customdata",It.data!==null&&It.data!==void 0)):Et.remove()}),M?Ge.exit().transition().style("opacity",0).remove():Ge.exit().remove(),Je=tt.selectAll("g"),Ge=Je.data(Te,et),Ge.enter().append("g").classed("textpoint",!0).append("text"),Ge.order(),Ge.each(function(It){var wt=x.select(this),Et=m(wt.select("text"));Xe=c.translatePoint(It,Et,S,T),Xe?h.layerClipId&&c.hideOutsideRangePoint(It,wt,S,T,Oe.xcalendar,Oe.ycalendar):wt.remove()}),Ge.selectAll("text").call(c.textPointStyle,Oe,f).each(function(It){var wt=S.c2p(It.x),Et=T.c2p(It.y);x.select(this).selectAll("tspan.line").each(function(){m(x.select(this)).attr({x:wt,y:Et})})}),Ge.exit().remove()}B.datum(w),F.datum(w),ot(B,F,w);var ct=a.cliponaxis===!1,ht=ct?null:h.layerClipId;c.setClipUrl(B,ht,f),c.setClipUrl(F,ht,f)}function l(f,g,h,w,d){var o=h.xaxis,v=h.yaxis,A=x.extent(i.simpleMap(o.range,o.r2c)),b=x.extent(i.simpleMap(v.range,v.r2c)),M=w[0].trace;if(y.hasMarkers(M)){var m=M.marker.maxdisplayed;if(m!==0){var S=w.filter(function(p){return p.x>=A[0]&&p.x<=A[1]&&p.y>=b[0]&&p.y<=b[1]}),T=Math.ceil(S.length/m),a=0;d.forEach(function(p,k){var R=p[0].trace;y.hasMarkers(R)&&R.marker.maxdisplayed>0&&k<g&&a++});var E=Math.round(a*T/3+Math.floor(a/3)*T/7.1);w.forEach(function(p){delete p.vis}),S.forEach(function(p,k){Math.round((k+E)%T)===0&&(p.vis=!0)})}}}},91560:function(V,U,e){"use strict";var x=e(43028);V.exports=function(i,L){var C=i.cd,c=i.xaxis,y=i.yaxis,r=[],t=C[0].trace,s,n,u,l,f=!x.hasMarkers(t)&&!x.hasText(t);if(f)return[];if(L===!1)for(s=0;s<C.length;s++)C[s].selected=0;else for(s=0;s<C.length;s++)n=C[s],u=c.c2p(n.x),l=y.c2p(n.y),n.i!==null&&L.contains([u,l],!1,s,i)?(r.push({pointNumber:n.i,x:c.c2d(n.x),y:y.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(V){"use strict";var U=["orientation","groupnorm","stackgaps"];V.exports=function(x,P,i,L){var C=i._scatterStackOpts,c=L("stackgroup");if(c){var y=P.xaxis+P.yaxis,r=C[y];r||(r=C[y]={});var t=r[c],s=!1;t?t.traces.push(P):(t=r[c]={traceIndices:[],traces:[P]},s=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},u=0;u<U.length;u++){var l=U[u],f=l+"Found";if(!t[f]){var g=x[l]!==void 0,h=l==="orientation";if((g||s)&&(t[l]=L(l,n[l]),h&&(t.fillDflt=t[l]==="h"?"tonextx":"tonexty"),g&&(t[f]=!0,!s&&(delete t.traces[0][l],h))))for(var w=0;w<t.traces.length-1;w++){var d=t.traces[w];d._input.fill!==d.fill&&(d.fill=t.fillDflt)}}}return t}}},49224:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(24040);function L(r){var t=x.select(r).selectAll("g.trace.scatter");t.style("opacity",function(s){return s[0].trace.opacity}),t.selectAll("g.points").each(function(s){var n=x.select(this),u=s.trace||s[0].trace;C(n,u,r)}),t.selectAll("g.text").each(function(s){var n=x.select(this),u=s.trace||s[0].trace;c(n,u,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r,!1),i.getComponentMethod("errorbars","style")(t)}function C(r,t,s){P.pointStyle(r.selectAll("path.point"),t,s)}function c(r,t,s){P.textPointStyle(r.selectAll("text"),t,s)}function y(r,t,s){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(s.selectAll("path.point"),n),P.selectedTextStyle(s.selectAll("text"),n)):(C(s,n,r),c(s,n,r))}V.exports={style:L,stylePoints:C,styleText:c,styleOnSelect:y}},43028:function(V,U,e){"use strict";var x=e(3400),P=e(38116).isTypedArraySpec;V.exports={hasLines:function(i){return i.visible&&i.mode&&i.mode.indexOf("lines")!==-1},hasMarkers:function(i){return i.visible&&(i.mode&&i.mode.indexOf("markers")!==-1||i.type==="splom")},hasText:function(i){return i.visible&&i.mode&&i.mode.indexOf("text")!==-1},isBubble:function(i){var L=i.marker;return x.isPlainObject(L)&&(x.isArrayOrTypedArray(L.size)||P(L.size))}}},124:function(V,U,e){"use strict";var x=e(3400);V.exports=function(P,i,L,C,c){c=c||{},C("textposition"),x.coerceFont(C,"textfont",c.font||L.font),c.noSelect||(C("selected.textfont.color"),C("unselected.textfont.color"))}},43980:function(V,U,e){"use strict";var x=e(3400),P=e(24040);V.exports=function(L,C,c,y){var r=y("x"),t=y("y"),s,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,C,["x","y"],c),r){var u=x.minRowLength(r);t?s=Math.min(u,x.minRowLength(t)):(s=u,y("y0"),y("dy"))}else{if(!t)return 0;s=x.minRowLength(t),y("x0"),y("dx")}return C._length=s,s}},91592:function(V,U,e){"use strict";var x=e(52904),P=e(49084),i=e(29736).axisHoverFormat,L=e(21776).Ks,C=e(21776).Gw,c=e(45464),y=e(99168),r=e(87792),t=e(92880).extendFlat,s=e(67824).overrideAll,n=e(95376),u=x.line,l=x.marker,f=l.line,g=t({width:u.width,dash:{valType:"enumerated",values:n(y),dflt:"solid"}},P("line"));function h(d){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var w=V.exports=s({x:x.x,y:x.y,z:{valType:"data_array"},text:t({},x.text,{}),texttemplate:C({},{}),hovertext:t({},x.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),mode:t({},x.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h("x"),y:h("y"),z:h("z")},connectgaps:x.connectgaps,line:g,marker:t({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:t({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:t({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:t({width:t({},f.width,{arrayOk:!1})},P("marker.line"))},P("marker")),textposition:t({},x.textposition,{dflt:"top center"}),textfont:{color:x.textfont.color,size:x.textfont.size,family:t({},x.textfont.family,{arrayOk:!1})},opacity:c.opacity,hoverinfo:t({},c.hoverinfo)},"calc","nested");w.x.editType=w.y.editType=w.z.editType="calc+clearAxisTypes"},41484:function(V,U,e){"use strict";var x=e(20148),P=e(90136);V.exports=function(L,C){var c=[{x:!1,y:!1,trace:C,t:{}}];return x(c,C),P(L,C),c}},45156:function(V,U,e){"use strict";var x=e(24040);function P(C,c,y,r){if(!c||!c.visible)return null;for(var t=x.getComponentMethod("errorbars","makeComputeError")(c),s=new Array(C.length),n=0;n<C.length;n++){var u=t(+C[n],n);if(r.type==="log"){var l=r.c2l(C[n]),f=C[n]-u[0],g=C[n]+u[1];if(s[n]=[(r.c2l(f,!0)-l)*y,(r.c2l(g,!0)-l)*y],f>0){var h=r.c2l(f);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else s[n]=[-u[0]*y,u[1]*y]}return s}function i(C){for(var c=0;c<C.length;c++)if(C[c])return C[c].length;return 0}function L(C,c,y){var r=[P(C.x,C.error_x,c[0],y.xaxis),P(C.y,C.error_y,c[1],y.yaxis),P(C.z,C.error_z,c[2],y.zaxis)],t=i(r);if(t===0)return null;for(var s=new Array(t),n=0;n<t;n++){for(var u=[[0,0,0],[0,0,0]],l=0;l<3;l++)if(r[l])for(var f=0;f<2;f++)u[f][l]=r[l][n][f];s[n]=u}return s}V.exports=L},41064:function(V,U,e){"use strict";var x=e(67792).gl_line3d,P=e(67792).gl_scatter3d,i=e(67792).gl_error3d,L=e(67792).gl_mesh3d,C=e(67792).delaunay_triangulate,c=e(3400),y=e(43080),r=e(33040).formatColor,t=e(7152),s=e(99168),n=e(87792),u=e(54460),l=e(10624).appendArrayPointValue,f=e(45156);function g(p,k){this.scene=p,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=g.prototype;h.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var k=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(c.isArrayOrTypedArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(p.textLabel=this.textLabels[k]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function w(p,k,R){var B=(R+1)%3,F=(R+2)%3,_=[],O=[],z;for(z=0;z<p.length;++z){var N=p[z];isNaN(N[B])||!isFinite(N[B])||isNaN(N[F])||!isFinite(N[F])||(_.push([N[B],N[F]]),O.push(z))}var Y=C(_);for(z=0;z<Y.length;++z)for(var J=Y[z],ae=0;ae<J.length;++ae)J[ae]=O[J[ae]];return{positions:p,cells:Y,meshColor:k}}function d(p){for(var k=[0,0,0],R=[[0,0,0],[0,0,0],[0,0,0]],B=[1,1,1],F=0;F<3;F++){var _=p[F];_&&_.copy_zstyle!==!1&&p[2].visible!==!1&&(_=p[2]),!(!_||!_.visible)&&(k[F]=_.width/2,R[F]=y(_.color),B[F]=_.thickness)}return{capSize:k,color:R,lineWidth:B}}function o(p){return p==null?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function v(p){return p==null?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function A(p){var k=0,R=0,B=[k,R];if(Array.isArray(p))for(var F=0;F<p.length;F++)B[F]=[k,R],p[F]&&(B[F][0]=o(p[F]),B[F][1]=v(p[F]));else B[0]=o(p),B[1]=v(p);return B}function b(p,k){return k(p*4)}function M(p){return n[p]}function m(p,k,R,B,F){var _=null;if(c.isArrayOrTypedArray(p)){_=[];for(var O=0;O<k;O++)p[O]===void 0?_[O]=B:_[O]=R(p[O],F)}else _=R(p,c.identity);return _}function S(p,k){var R=[],B=p.fullSceneLayout,F=p.dataScale,_=B.xaxis,O=B.yaxis,z=B.zaxis,N=k.marker,Y=k.line,J=k.x||[],ae=k.y||[],se=k.z||[],ue=J.length,K=k.xcalendar,j=k.ycalendar,ie=k.zcalendar,W,Q,ee,$,X,oe;for(X=0;X<ue;X++)W=_.d2l(J[X],0,K)*F[0],Q=O.d2l(ae[X],0,j)*F[1],ee=z.d2l(se[X],0,ie)*F[2],R[X]=[W,Q,ee];if(Array.isArray(k.text))oe=k.text;else if(c.isTypedArray(k.text))oe=Array.from(k.text);else if(k.text!==void 0)for(oe=new Array(ue),X=0;X<ue;X++)oe[X]=k.text;function te(yt,He){var Fe=B[yt];return u.tickText(Fe,Fe.d2l(He),!0).text}var fe=k.texttemplate;if(fe){var pe=p.fullLayout,Ae=pe._d3locale,be=Array.isArray(fe),Pe=be?Math.min(fe.length,ue):ue,me=be?function(yt){return fe[yt]}:function(){return fe};for(oe=new Array(Pe),X=0;X<Pe;X++){var Ee={x:J[X],y:ae[X],z:se[X]},xe={xLabel:te("xaxis",J[X]),yLabel:te("yaxis",ae[X]),zLabel:te("zaxis",se[X])},De={};l(De,k,X);var Ve=k._meta||{};oe[X]=c.texttemplateString(me(X),xe,Ae,De,Ee,Ve)}}if($={position:R,mode:k.mode,text:oe},"line"in k&&($.lineColor=r(Y,1,ue),$.lineWidth=Y.width,$.lineDashes=Y.dash),"marker"in k){var Ze=t(k);$.scatterColor=r(N,1,ue),$.scatterSize=m(N.size,ue,b,20,Ze),$.scatterMarker=m(N.symbol,ue,M,"\u25CF"),$.scatterLineWidth=N.line.width,$.scatterLineColor=r(N.line,1,ue),$.scatterAngle=0}"textposition"in k&&($.textOffset=A(k.textposition),$.textColor=r(k.textfont,1,ue),$.textSize=m(k.textfont.size,ue,c.identity,12),$.textFont=k.textfont.family,$.textAngle=0);var ke=["x","y","z"];for($.project=[!1,!1,!1],$.projectScale=[1,1,1],$.projectOpacity=[1,1,1],X=0;X<3;++X){var Ye=k.projection[ke[X]];($.project[X]=Ye.show)&&($.projectOpacity[X]=Ye.opacity,$.projectScale[X]=Ye.scale)}$.errorBounds=f(k,F,B);var lt=d([k.error_x,k.error_y,k.error_z]);return $.errorColor=lt.color,$.errorLineWidth=lt.lineWidth,$.errorCapSize=lt.capSize,$.delaunayAxis=k.surfaceaxis,$.delaunayColor=y(k.surfacecolor),$}function T(p){if(c.isArrayOrTypedArray(p)){var k=p[0];return c.isArrayOrTypedArray(k)&&(p=k),"rgb("+p.slice(0,3).map(function(R){return Math.round(R*255)})+")"}return null}function a(p){return c.isArrayOrTypedArray(p)?p.length===4&&typeof p[0]=="number"?T(p):p.map(T):null}h.update=function(p){var k=this.scene.glplot.gl,R,B,F,_,O=s.solid;this.data=p;var z=S(this.scene,p);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in s&&(O=s[z.lineDashes]),this.color=a(z.scatterColor)||a(z.lineColor),this.dataPoints=z.position,R={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:p.opacity,connectGaps:p.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(R):(this.linePlot=x(R),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var N=p.opacity;if(p.marker&&p.marker.opacity!==void 0&&(N*=p.marker.opacity),B={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:N,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(B):(this.scatterPlot=P(B),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),_={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(_):(this.textMarkers=P(_),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:p.opacity},this.errorBars?z.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=i(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var Y=w(z.position,z.delaunayColor,z.delaunayAxis);Y.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=k,this.delaunayMesh=L(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(p,k){var R=new g(p,k.uid);return R.update(k),R}V.exports=E},83484:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(43028),L=e(74428),C=e(66828),c=e(124),y=e(91592);V.exports=function(s,n,u,l){function f(b,M){return P.coerce(s,n,y,b,M)}var g=r(s,n,f,l);if(!g){n.visible=!1;return}f("text"),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat"),f("zhoverformat"),f("mode"),i.hasMarkers(n)&&L(s,n,u,l,f,{noSelect:!0,noAngle:!0}),i.hasLines(n)&&(f("connectgaps"),C(s,n,u,l,f)),i.hasText(n)&&(f("texttemplate"),c(s,n,l,f,{noSelect:!0}));var h=(n.line||{}).color,w=(n.marker||{}).color;f("surfaceaxis")>=0&&f("surfacecolor",h||w);for(var d=["x","y","z"],o=0;o<3;++o){var v="projection."+d[o];f(v+".show")&&(f(v+".opacity"),f(v+".scale"))}var A=x.getComponentMethod("errorbars","supplyDefaults");A(s,n,h||w||u,{axis:"z"}),A(s,n,h||w||u,{axis:"y",inherit:"z"}),A(s,n,h||w||u,{axis:"x",inherit:"z"})};function r(t,s,n,u){var l=0,f=n("x"),g=n("y"),h=n("z"),w=x.getComponentMethod("calendars","handleTraceDefaults");return w(t,s,["x","y","z"],u),f&&g&&h&&(l=Math.min(f.length,g.length,h.length),s._length=s._xlength=s._ylength=s._zlength=l),l}},3296:function(V,U,e){"use strict";V.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(V,U,e){"use strict";var x=e(98304),P=e(52904),i=e(45464),L=e(21776).Ks,C=e(21776).Gw,c=e(49084),y=e(92880).extendFlat,r=P.marker,t=P.line,s=r.line;V.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:y({},P.mode,{dflt:"markers"}),text:y({},P.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","text"]}),hovertext:y({},P.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:y({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:P.connectgaps,fill:y({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:x(),marker:y({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:y({width:s.width,editType:"calc"},c("marker.line")),gradient:r.gradient,editType:"calc"},c("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:y({},i.hoverinfo,{flags:["a","b","text","name"]}),hoveron:P.hoveron,hovertemplate:L(),zorder:P.zorder}},48228:function(V,U,e){"use strict";var x=e(38248),P=e(90136),i=e(20148),L=e(4500),C=e(16356).calcMarkerSize,c=e(50948);V.exports=function(r,t){var s=t._carpetTrace=c(r,t);if(!(!s||!s.visible||s.visible==="legendonly")){var n;t.xaxis=s.xaxis,t.yaxis=s.yaxis;var u=t._length,l=new Array(u),f,g,h=!1;for(n=0;n<u;n++)if(f=t.a[n],g=t.b[n],x(f)&&x(g)){var w=s.ab2xy(+f,+g,!0),d=s.isVisible(+f,+g);d||(h=!0),l[n]={x:w[0],y:w[1],a:f,b:g,vis:d}}else l[n]={x:!1,y:!1};return t._needsCull=h,l[0].carpet=s,l[0].trace=t,C(t,u),P(r,t),i(l,t),L(l,t),l}}},6176:function(V,U,e){"use strict";var x=e(3400),P=e(88200),i=e(43028),L=e(74428),C=e(66828),c=e(11731),y=e(124),r=e(70840),t=e(90372);V.exports=function(n,u,l,f){function g(b,M){return x.coerce(n,u,t,b,M)}g("carpet"),u.xaxis="x",u.yaxis="y";var h=g("a"),w=g("b"),d=Math.min(h.length,w.length);if(!d){u.visible=!1;return}u._length=d,g("text"),g("texttemplate"),g("hovertext");var o=d<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",o),i.hasMarkers(u)&&L(n,u,l,f,g,{gradient:!0}),i.hasLines(u)&&(C(n,u,l,f,g,{backoff:!0}),c(n,u,g),g("connectgaps")),i.hasText(u)&&y(n,u,f,g);var v=[];(i.hasMarkers(u)||i.hasText(u))&&(g("marker.maxdisplayed"),v.push("points")),g("fill"),u.fill!=="none"&&(r(n,u,l,g),i.hasLines(u)||c(n,u,g)),(u.fill==="tonext"||u.fill==="toself")&&v.push("fills");var A=g("hoveron",v.join("+")||"points");A!=="fills"&&g("hovertemplate"),g("zorder"),x.coerceSelectionMarkerOpacity(u,g)}},89307:function(V){"use strict";V.exports=function(e,x,P,i,L){var C=i[L];return e.a=C.a,e.b=C.b,e.y=C.y,e}},52364:function(V){"use strict";V.exports=function(e,x){var P={},i=x._carpet,L=i.ab2ij([e.a,e.b]),C=Math.floor(L[0]),c=L[0]-C,y=Math.floor(L[1]),r=L[1]-y,t=i.evalxy([],C,y,c,r);return P.yLabel=t[1].toFixed(3),P}},58960:function(V,U,e){"use strict";var x=e(98723),P=e(3400).fillText;V.exports=function(L,C,c,y){var r=x(L,C,c,y);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var s=1-t.y0/L.ya._length,n=L.xa._length,u=n*s/2,l=n-u;return t.x0=Math.max(Math.min(t.x0,l),u),t.x1=Math.max(Math.min(t.x1,l),u),r}var f=t.cd[t.index];t.a=f.a,t.b=f.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var g=t.trace,h=g._carpet,w=g._module.formatLabels(f,g);t.yLabel=w.yLabel,delete t.text;var d=[];function o(b,M){var m;b.labelprefix&&b.labelprefix.length>0?m=b.labelprefix.replace(/ = $/,""):m=b._hovertitle,d.push(m+": "+M.toFixed(3)+b.labelsuffix)}if(!g.hovertemplate){var v=f.hi||g.hoverinfo,A=v.split("+");A.indexOf("all")!==-1&&(A=["a","b","text"]),A.indexOf("a")!==-1&&o(h.aaxis,f.a),A.indexOf("b")!==-1&&o(h.baxis,f.b),d.push("y: "+t.yLabel),A.indexOf("text")!==-1&&P(f,g,d),t.extraText=d.join("<br>")}return r}},4184:function(V,U,e){"use strict";V.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(V,U,e){"use strict";var x=e(96504),P=e(54460),i=e(43616);V.exports=function(C,c,y,r){var t,s,n,u=y[0][0].carpet,l=P.getFromId(C,u.xaxis||"x"),f=P.getFromId(C,u.yaxis||"y"),g={xaxis:l,yaxis:f,plot:c.plot};for(t=0;t<y.length;t++)s=y[t][0].trace,s._xA=l,s._yA=f;for(x(C,g,y,r),t=0;t<y.length;t++)s=y[t][0].trace,n=r.selectAll("g.trace"+s.uid+" .js-line"),i.setClipUrl(n,y[t][0].carpet._clipPathId,C)}},6096:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(21776).Gw,i=e(98304),L=e(52904),C=e(45464),c=e(49084),y=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,s=L.marker,n=L.line,u=s.line;V.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},L.hovertext,{}),textfont:L.textfont,textposition:L.textposition,line:{color:n.color,width:n.width,dash:y},connectgaps:L.connectgaps,marker:r({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:r({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:r({width:u.width},c("marker.line")),gradient:s.gradient},c("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i(),selected:L.selected,unselected:L.unselected,hoverinfo:r({},C.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:x()},"calc","nested")},25212:function(V,U,e){"use strict";var x=e(38248),P=e(39032).BADNUM,i=e(90136),L=e(20148),C=e(4500),c=e(3400).isArrayOrTypedArray,y=e(3400)._;function r(t){return t&&typeof t=="string"}V.exports=function(s,n){var u=c(n.locations),l=u?n.locations.length:n._length,f=new Array(l),g;n.geojson?g=function(A){return r(A)||x(A)}:g=r;for(var h=0;h<l;h++){var w=f[h]={};if(u){var d=n.locations[h];w.loc=g(d)?d:null}else{var o=n.lon[h],v=n.lat[h];x(o)&&x(v)?w.lonlat=[+o,+v]:w.lonlat=[P,P]}}return L(f,n),i(s,n),C(f,n),l&&(f[0].t={labels:{lat:y(s,"lat:")+" ",lon:y(s,"lon:")+" "}}),f}},86188:function(V,U,e){"use strict";var x=e(3400),P=e(43028),i=e(74428),L=e(66828),C=e(124),c=e(70840),y=e(6096);V.exports=function(t,s,n,u){function l(A,b){return x.coerce(t,s,y,A,b)}var f=l("locations"),g;if(f&&f.length){var h=l("geojson"),w;(typeof h=="string"&&h!==""||x.isPlainObject(h))&&(w="geojson-id");var d=l("locationmode",w);d==="geojson-id"&&l("featureidkey"),g=f.length}else{var o=l("lon")||[],v=l("lat")||[];g=Math.min(o.length,v.length)}if(!g){s.visible=!1;return}s._length=g,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),P.hasMarkers(s)&&i(t,s,n,u,l,{gradient:!0}),P.hasLines(s)&&(L(t,s,n,u,l),l("connectgaps")),P.hasText(s)&&(l("texttemplate"),C(t,s,u,l)),l("fill"),s.fill!=="none"&&c(t,s,n,l),x.coerceSelectionMarkerOpacity(s,l)}},58544:function(V){"use strict";V.exports=function(e,x,P,i,L){e.lon=x.lon,e.lat=x.lat,e.location=x.loc?x.loc:null;var C=i[L];return C.fIn&&C.fIn.properties&&(e.properties=C.fIn.properties),e}},56696:function(V,U,e){"use strict";var x=e(54460);V.exports=function(i,L,C){var c={},y=C[L.geo]._subplot,r=y.mockAxis,t=i.lonlat;return c.lonLabel=x.tickText(r,r.c2l(t[0]),!0).text,c.latLabel=x.tickText(r,r.c2l(t[1]),!0).text,c}},64292:function(V,U,e){"use strict";var x=e(93024),P=e(39032).BADNUM,i=e(44928),L=e(3400).fillText,C=e(6096);V.exports=function(r,t,s){var n=r.cd,u=n[0].trace,l=r.xa,f=r.ya,g=r.subplot,h=g.projection.isLonLatOverEdges,w=g.project;function d(S){var T=S.lonlat;if(T[0]===P||h(T))return 1/0;var a=w(T),E=w([t,s]),p=Math.abs(a[0]-E[0]),k=Math.abs(a[1]-E[1]),R=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(p*p+k*k)-R,1-3/R)}if(x.getClosest(n,d,r),r.index!==!1){var o=n[r.index],v=o.lonlat,A=[l.c2p(v),f.c2p(v)],b=o.mrc||1;r.x0=A[0]-b,r.x1=A[0]+b,r.y0=A[1]-b,r.y1=A[1]+b,r.loc=o.loc,r.lon=v[0],r.lat=v[1];var M={};M[u.geo]={_subplot:g};var m=u._module.formatLabels(o,u,M);return r.lonLabel=m.lonLabel,r.latLabel=m.latLabel,r.color=i(u,o),r.extraText=c(u,o,r,n[0].t.labels),r.hovertemplate=u.hovertemplate,[r]}};function c(y,r,t,s){if(y.hovertemplate)return;var n=r.hi||y.hoverinfo,u=n==="all"?C.hoverinfo.flags:n.split("+"),l=u.indexOf("location")!==-1&&Array.isArray(y.locations),f=u.indexOf("lon")!==-1,g=u.indexOf("lat")!==-1,h=u.indexOf("text")!==-1,w=[];function d(o){return o+"\xB0"}return l?w.push(r.loc):f&&g?w.push("("+d(t.latLabel)+", "+d(t.lonLabel)+")"):f?w.push(s.lon+d(t.lonLabel)):g&&w.push(s.lat+d(t.latLabel)),h&&L(r,y,w),w.join("<br>")}},36952:function(V,U,e){"use strict";V.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(59972).getTopojsonFeatures,L=e(44808),C=e(27144),c=e(19280).findExtremes,y=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),s=e(25064);function n(l,f,g){var h=f.layers.frontplot.select(".scatterlayer"),w=P.makeTraceGroups(h,g,"trace scattergeo");function d(o,v){o.lonlat[0]===y&&x.select(v).remove()}w.selectAll("*").remove(),w.each(function(o){var v=x.select(this),A=o[0].trace;if(t.hasLines(A)||A.fill!=="none"){var b=L.calcTraceToLineCoords(o),M=A.fill!=="none"?L.makePolygon(b):L.makeLine(b);v.selectAll("path.js-line").data([{geojson:M,trace:A}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(A)&&v.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(m){d(m,this)}),t.hasText(A)&&v.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(m){d(m,this)}),s(l,o)})}function u(l,f){var g=l[0].trace,h=f[g.geo],w=h._subplot,d=g._length,o,v;if(P.isArrayOrTypedArray(g.locations)){var A=g.locationmode,b=A==="geojson-id"?C.extractTraceFeature(l):i(g,w.topojson);for(o=0;o<d;o++){v=l[o];var M=A==="geojson-id"?v.fOut:C.locationToFeature(A,v.loc,b);v.lonlat=M?M.properties.ct:[y,y]}}var m={padded:!0},S,T;if(h.fitbounds==="geojson"&&g.locationmode==="geojson-id"){var a=C.computeBbox(C.getTraceGeojson(g));S=[a[0],a[2]],T=[a[1],a[3]]}else{for(S=new Array(d),T=new Array(d),o=0;o<d;o++)v=l[o],S[o]=v.lonlat[0],T[o]=v.lonlat[1];m.ppad=r(g,d)}g._extremes.lon=c(h.lonaxis._ax,S,m),g._extremes.lat=c(h.lataxis._ax,T,m)}V.exports={calcGeoJSON:u,plot:n}},8796:function(V,U,e){"use strict";var x=e(43028),P=e(39032).BADNUM;V.exports=function(L,C){var c=L.cd,y=L.xaxis,r=L.yaxis,t=[],s=c[0].trace,n,u,l,f,g,h=!x.hasMarkers(s)&&!x.hasText(s);if(h)return[];if(C===!1)for(g=0;g<c.length;g++)c[g].selected=0;else for(g=0;g<c.length;g++)n=c[g],u=n.lonlat,u[0]!==P&&(l=y.c2p(u),f=r.c2p(u),C.contains([l,f],null,g,L)?(t.push({pointNumber:g,lon:u[0],lat:u[1]}),n.selected=1):n.selected=0);return t}},25064:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(76308),L=e(49224),C=L.stylePoints,c=L.styleText;V.exports=function(t,s){s&&y(t,s)};function y(r,t){var s=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),C(n,s,r),c(n,s,r),n.selectAll("path.js-line").style("fill","none").each(function(u){var l=x.select(this),f=u.trace,g=f.line||{};l.call(i.stroke,g.color).call(P.dashLine,g.dash||"",g.width||0),f.fill!=="none"&&l.call(i.fill,f.fillcolor)})}},2876:function(V,U,e){"use strict";var x=e(45464),P=e(98304),i=e(52904),L=e(29736).axisHoverFormat,C=e(49084),c=e(95376),y=e(92880).extendFlat,r=e(67824).overrideAll,t=e(67072).DASHES,s=i.line,n=i.marker,u=n.line,l=V.exports=r({x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:i.text,hovertext:i.hovertext,textposition:i.textposition,textfont:i.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:c(t),dflt:"solid"}},marker:y({},C("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:y({},C("marker.line"),{width:u.width})}),connectgaps:i.connectgaps,fill:y({},i.fill,{dflt:"none"}),fillcolor:P(),selected:{marker:i.selected.marker,textfont:i.selected.textfont},unselected:{marker:i.unselected.marker,textfont:i.unselected.textfont},opacity:x.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=i.hovertemplate,l.texttemplate=i.texttemplate},64628:function(V,U,e){"use strict";var x=e(41272);V.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:x.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(V,U,e){"use strict";var x=e(3108),P=e(3400),i=e(79811),L=e(19280).findExtremes,C=e(1220),c=e(16356),y=c.calcMarkerSize,r=c.calcAxisExpansion,t=c.setFirstScatter,s=e(90136),n=e(84236),u=e(74588),l=e(39032).BADNUM,f=e(67072).TOO_MANY_POINTS;V.exports=function(d,o){var v=d._fullLayout,A=o._xA=i.getFromId(d,o.xaxis,"x"),b=o._yA=i.getFromId(d,o.yaxis,"y"),M=v._plots[o.xaxis+o.yaxis],m=o._length,S=m>=f,T=m*2,a={},E,p=A.makeCalcdata(o,"x"),k=b.makeCalcdata(o,"y"),R=C(o,A,"x",p),B=C(o,b,"y",k),F=R.vals,_=B.vals;o._x=F,o._y=_,o.xperiodalignment&&(o._origX=p,o._xStarts=R.starts,o._xEnds=R.ends),o.yperiodalignment&&(o._origY=k,o._yStarts=B.starts,o._yEnds=B.ends);var O=new Array(T),z=new Array(m);for(E=0;E<m;E++)O[E*2]=F[E]===l?NaN:F[E],O[E*2+1]=_[E]===l?NaN:_[E],z[E]=E;if(A.type==="log")for(E=0;E<T;E+=2)O[E]=A.c2l(O[E]);if(b.type==="log")for(E=1;E<T;E+=2)O[E]=b.c2l(O[E]);S&&A.type!=="log"&&b.type!=="log"?a.tree=x(O):a.ids=z,s(d,o);var N=h(d,M,o,O,F,_),Y=u(d,M);t(v,o);var J;return S?N.marker&&(J=N.marker.sizeAvg||Math.max(N.marker.size,3)):J=y(o,m),r(d,o,A,b,F,_,J),N.errorX&&g(o,A,N.errorX),N.errorY&&g(o,b,N.errorY),N.fill&&!Y.fill2d&&(Y.fill2d=!0),N.marker&&!Y.scatter2d&&(Y.scatter2d=!0),N.line&&!Y.line2d&&(Y.line2d=!0),(N.errorX||N.errorY)&&!Y.error2d&&(Y.error2d=!0),N.text&&!Y.glText&&(Y.glText=!0),N.marker&&(N.marker.snap=m),Y.lineOptions.push(N.line),Y.errorXOptions.push(N.errorX),Y.errorYOptions.push(N.errorY),Y.fillOptions.push(N.fill),Y.markerOptions.push(N.marker),Y.markerSelectedOptions.push(N.markerSel),Y.markerUnselectedOptions.push(N.markerUnsel),Y.textOptions.push(N.text),Y.textSelectedOptions.push(N.textSel),Y.textUnselectedOptions.push(N.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),a._scene=Y,a.index=Y.count,a.x=F,a.y=_,a.positions=O,Y.count++,[{x:!1,y:!1,t:a,trace:o}]};function g(w,d,o){var v=w._extremes[d._id],A=L(d,o._bnds,{padded:!0});v.min=v.min.concat(A.min),v.max=v.max.concat(A.max)}function h(w,d,o,v,A,b){var M=n.style(w,o);if(M.marker&&(M.marker.positions=v),M.line&&v.length>1&&P.extendFlat(M.line,n.linePositions(w,o,v)),M.errorX||M.errorY){var m=n.errorBarPositions(w,o,v,A,b);M.errorX&&P.extendFlat(M.errorX,m.x),M.errorY&&P.extendFlat(M.errorY,m.y)}return M.text&&(P.extendFlat(M.text,{positions:v},n.textPosition(w,o,M.text,M.marker)),P.extendFlat(M.textSel,{positions:v},n.textPosition(w,o,M.text,M.markerSel)),P.extendFlat(M.textUnsel,{positions:v},n.textPosition(w,o,M.text,M.markerUnsel))),M}},67072:function(V){"use strict";var U=20;V.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(V,U,e){"use strict";var x=e(38248),P=e(20472),i=e(72160),L=e(24040),C=e(3400),c=C.isArrayOrTypedArray,y=e(43616),r=e(79811),t=e(33040).formatColor,s=e(43028),n=e(7152),u=e(80088),l=e(67072),f=e(13448).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function w(B,F){var _,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=B._context.plotGlPixelRatio;if(F.visible!==!0)return O;if(s.hasText(F)&&(O.text=d(B,F),O.textSel=A(B,F,F.selected),O.textUnsel=A(B,F,F.unselected)),s.hasMarkers(F)&&(O.marker=o(B,F),O.markerSel=v(B,F,F.selected),O.markerUnsel=v(B,F,F.unselected),!F.unselected&&c(F.marker.opacity))){var N=F.marker.opacity;for(O.markerUnsel.opacity=new Array(N.length),_=0;_<N.length;_++)O.markerUnsel.opacity[_]=f*N[_]}if(s.hasLines(F)){O.line={overlay:!0,thickness:F.line.width*z,color:F.line.color,opacity:F.opacity};var Y=(l.DASHES[F.line.dash]||[1]).slice();for(_=0;_<Y.length;++_)Y[_]*=F.line.width*z;O.line.dashes=Y}return F.error_x&&F.error_x.visible&&(O.errorX=b(F,F.error_x,z)),F.error_y&&F.error_y.visible&&(O.errorY=b(F,F.error_y,z)),F.fill&&F.fill!=="none"&&(O.fill={closed:!0,fill:F.fillcolor,thickness:0}),O}function d(B,F){var _=B._fullLayout,O=F._length,z=F.textfont,N=F.textposition,Y=c(N)?N:[N],J=z.color,ae=z.size,se=z.family,ue={},K,j=B._context.plotGlPixelRatio,ie=F.texttemplate;if(ie){ue.text=[];var W=_._d3locale,Q=Array.isArray(ie),ee=Q?Math.min(ie.length,O):O,$=Q?function(be){return ie[be]}:function(){return ie};for(K=0;K<ee;K++){var X={i:K},oe=F._module.formatLabels(X,F,_),te={};h(te,F,K);var fe=F._meta||{};ue.text.push(C.texttemplateString($(K),oe,W,te,X,fe))}}else c(F.text)&&F.text.length<O?ue.text=F.text.slice():ue.text=F.text;if(c(ue.text))for(K=ue.text.length;K<O;K++)ue.text[K]="";for(ue.opacity=F.opacity,ue.font={},ue.align=[],ue.baseline=[],K=0;K<Y.length;K++){var pe=Y[K].split(/\s+/);switch(pe[1]){case"left":ue.align.push("right");break;case"right":ue.align.push("left");break;default:ue.align.push(pe[1])}switch(pe[0]){case"top":ue.baseline.push("bottom");break;case"bottom":ue.baseline.push("top");break;default:ue.baseline.push(pe[0])}}if(c(J))for(ue.color=new Array(O),K=0;K<O;K++)ue.color[K]=J[K];else ue.color=J;if(c(ae)||c(se))for(ue.font=new Array(O),K=0;K<O;K++){var Ae=ue.font[K]={};Ae.size=(C.isTypedArray(ae)?ae[K]:c(ae)?x(ae[K])?ae[K]:0:ae)*j,Ae.family=c(se)?se[K]:se}else ue.font={size:ae*j,family:se};return ue}function o(B,F){var _=F._length,O=F.marker,z={},N,Y=c(O.symbol),J=c(O.angle),ae=c(O.color),se=c(O.line.color),ue=c(O.opacity),K=c(O.size),j=c(O.line.width),ie;if(Y||(ie=u.isOpenSymbol(O.symbol)),Y||ae||se||ue||J){z.symbols=new Array(_),z.angles=new Array(_),z.colors=new Array(_),z.borderColors=new Array(_);var W=O.symbol,Q=O.angle,ee=t(O,O.opacity,_),$=t(O.line,O.opacity,_);if(!c($[0])){var X=$;for($=Array(_),N=0;N<_;N++)$[N]=X}if(!c(ee[0])){var oe=ee;for(ee=Array(_),N=0;N<_;N++)ee[N]=oe}if(!c(W)){var te=W;for(W=Array(_),N=0;N<_;N++)W[N]=te}if(!c(Q)){var fe=Q;for(Q=Array(_),N=0;N<_;N++)Q[N]=fe}for(z.symbols=W,z.angles=Q,z.colors=ee,z.borderColors=$,N=0;N<_;N++)Y&&(ie=u.isOpenSymbol(O.symbol[N])),ie&&($[N]=ee[N].slice(),ee[N]=ee[N].slice(),ee[N][3]=0);for(z.opacity=F.opacity,z.markers=new Array(_),N=0;N<_;N++)z.markers[N]=E({mx:z.symbols[N],ma:z.angles[N]},F)}else ie?(z.color=i(O.color,"uint8"),z.color[3]=0,z.borderColor=i(O.color,"uint8")):(z.color=i(O.color,"uint8"),z.borderColor=i(O.line.color,"uint8")),z.opacity=F.opacity*O.opacity,z.marker=E({mx:O.symbol,ma:O.angle},F);var pe=1,Ae=n(F,pe),be;if(K||j){var Pe=z.sizes=new Array(_),me=z.borderSizes=new Array(_),Ee=0,xe;if(K){for(N=0;N<_;N++)Pe[N]=Ae(O.size[N]),Ee+=Pe[N];xe=Ee/_}else for(be=Ae(O.size),N=0;N<_;N++)Pe[N]=be;if(j)for(N=0;N<_;N++)me[N]=O.line.width[N];else for(be=O.line.width,N=0;N<_;N++)me[N]=be;z.sizeAvg=xe}else z.size=Ae(O&&O.size||10),z.borderSizes=Ae(O.line.width);return z}function v(B,F,_){var O=F.marker,z={};return _&&(_.marker&&_.marker.symbol?z=o(B,C.extendFlat({},O,_.marker)):_.marker&&(_.marker.size&&(z.size=_.marker.size),_.marker.color&&(z.colors=_.marker.color),_.marker.opacity!==void 0&&(z.opacity=_.marker.opacity))),z}function A(B,F,_){var O={};if(!_)return O;if(_.textfont){var z={opacity:1,text:F.text,texttemplate:F.texttemplate,textposition:F.textposition,textfont:C.extendFlat({},F.textfont)};_.textfont&&C.extendFlat(z.textfont,_.textfont),O=d(B,z)}return O}function b(B,F,_){var O={capSize:F.width*2*_,lineWidth:F.thickness*_,color:F.color};return F.copy_ystyle&&(O=B.error_y),O}var M=l.SYMBOL_SDF_SIZE,m=l.SYMBOL_SIZE,S=l.SYMBOL_STROKE,T={},a=y.symbolFuncs[0](m*.05);function E(B,F){var _=B.mx;if(_==="circle")return null;var O,z,N=y.symbolNumber(_),Y=y.symbolFuncs[N%100],J=!!y.symbolNoDot[N%100],ae=!!y.symbolNoFill[N%100],se=u.isDotSymbol(_);if(B.ma&&(_+="_"+B.ma),T[_])return T[_];var ue=y.getMarkerAngle(B,F);return se&&!J?O=Y(m*1.1,ue)+a:O=Y(m,ue),z=P(O,{w:M,h:M,viewBox:[-m,-m,m,m],stroke:ae?S:-S}),T[_]=z,z||null}function p(B,F,_){var O=_.length,z=O/2,N,Y;if(s.hasLines(F)&&z)if(F.line.shape==="hv"){for(N=[],Y=0;Y<z-1;Y++)isNaN(_[Y*2])||isNaN(_[Y*2+1])?N.push(NaN,NaN,NaN,NaN):(N.push(_[Y*2],_[Y*2+1]),!isNaN(_[Y*2+2])&&!isNaN(_[Y*2+3])?N.push(_[Y*2+2],_[Y*2+1]):N.push(NaN,NaN));N.push(_[O-2],_[O-1])}else if(F.line.shape==="hvh"){for(N=[],Y=0;Y<z-1;Y++)if(isNaN(_[Y*2])||isNaN(_[Y*2+1])||isNaN(_[Y*2+2])||isNaN(_[Y*2+3]))!isNaN(_[Y*2])&&!isNaN(_[Y*2+1])?N.push(_[Y*2],_[Y*2+1]):N.push(NaN,NaN),N.push(NaN,NaN);else{var J=(_[Y*2]+_[Y*2+2])/2;N.push(_[Y*2],_[Y*2+1],J,_[Y*2+1],J,_[Y*2+3])}N.push(_[O-2],_[O-1])}else if(F.line.shape==="vhv"){for(N=[],Y=0;Y<z-1;Y++)if(isNaN(_[Y*2])||isNaN(_[Y*2+1])||isNaN(_[Y*2+2])||isNaN(_[Y*2+3]))!isNaN(_[Y*2])&&!isNaN(_[Y*2+1])?N.push(_[Y*2],_[Y*2+1]):N.push(NaN,NaN),N.push(NaN,NaN);else{var ae=(_[Y*2+1]+_[Y*2+3])/2;N.push(_[Y*2],_[Y*2+1],_[Y*2],ae,_[Y*2+2],ae)}N.push(_[O-2],_[O-1])}else if(F.line.shape==="vh"){for(N=[],Y=0;Y<z-1;Y++)isNaN(_[Y*2])||isNaN(_[Y*2+1])?N.push(NaN,NaN,NaN,NaN):(N.push(_[Y*2],_[Y*2+1]),!isNaN(_[Y*2+2])&&!isNaN(_[Y*2+3])?N.push(_[Y*2],_[Y*2+3]):N.push(NaN,NaN));N.push(_[O-2],_[O-1])}else N=_;var se=!1;for(Y=0;Y<N.length;Y++)if(isNaN(N[Y])){se=!0;break}var ue=se||N.length>l.TOO_MANY_POINTS||s.hasMarkers(F)?"rect":"round";if(se&&F.connectgaps){var K=N[0],j=N[1];for(Y=0;Y<N.length;Y+=2)isNaN(N[Y])||isNaN(N[Y+1])?(N[Y]=K,N[Y+1]=j):(K=N[Y],j=N[Y+1])}return{join:ue,positions:N}}function k(B,F,_,O,z){var N=L.getComponentMethod("errorbars","makeComputeError"),Y=r.getFromId(B,F.xaxis,"x"),J=r.getFromId(B,F.yaxis,"y"),ae=_.length/2,se={};function ue(K,j){var ie=j._id.charAt(0),W=F["error_"+ie];if(W&&W.visible&&(j.type==="linear"||j.type==="log")){for(var Q=N(W),ee={x:0,y:1}[ie],$={x:[0,1,2,3],y:[2,3,0,1]}[ie],X=new Float64Array(4*ae),oe=1/0,te=-1/0,fe=0,pe=0;fe<ae;fe++,pe+=4){var Ae=K[fe];if(x(Ae)){var be=_[fe*2+ee],Pe=Q(Ae,fe),me=Pe[0],Ee=Pe[1];if(x(me)&&x(Ee)){var xe=Ae-me,De=Ae+Ee;X[pe+$[0]]=be-j.c2l(xe),X[pe+$[1]]=j.c2l(De)-be,X[pe+$[2]]=0,X[pe+$[3]]=0,oe=Math.min(oe,Ae-me),te=Math.max(te,Ae+Ee)}}}se[ie]={positions:_,errors:X,_bnds:[oe,te]}}}return ue(O,Y),ue(z,J),se}function R(B,F,_,O){var z=F._length,N={},Y;if(s.hasMarkers(F)){var J=_.font,ae=_.align,se=_.baseline;for(N.offset=new Array(z),Y=0;Y<z;Y++){var ue=O.sizes?O.sizes[Y]:O.size,K=c(J)?J[Y].size:J.size,j=c(ae)?ae.length>1?ae[Y]:ae[0]:ae,ie=c(se)?se.length>1?se[Y]:se[0]:se,W=g[j],Q=g[ie],ee=ue?ue/.8+1:0,$=-Q*ee-Q*.5;N.offset[Y]=[W*ee/K,$/K]}}return N}V.exports={style:w,markerStyle:o,markerSelection:v,linePositions:p,errorBarPositions:k,textPosition:R}},80220:function(V,U,e){"use strict";var x=e(3400),P=e(24040),i=e(80088),L=e(2876),C=e(88200),c=e(43028),y=e(43980),r=e(31147),t=e(74428),s=e(66828),n=e(70840),u=e(124);V.exports=function(f,g,h,w){function d(T,a){return x.coerce(f,g,L,T,a)}var o=f.marker?i.isOpenSymbol(f.marker.symbol):!1,v=c.isBubble(f),A=y(f,g,w,d);if(!A){g.visible=!1;return}r(f,g,w,d),d("xhoverformat"),d("yhoverformat");var b=A<C.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("hovertemplate"),d("mode",b),c.hasMarkers(g)&&(t(f,g,h,w,d,{noAngleRef:!0,noStandOff:!0}),d("marker.line.width",o||v?1:0)),c.hasLines(g)&&(d("connectgaps"),s(f,g,h,w,d),d("line.shape")),c.hasText(g)&&(d("texttemplate"),u(f,g,w,d));var M=(g.line||{}).color,m=(g.marker||{}).color;d("fill"),g.fill!=="none"&&n(f,g,h,d);var S=P.getComponentMethod("errorbars","supplyDefaults");S(f,g,M||m||h,{axis:"y"}),S(f,g,M||m||h,{axis:"x",inherit:"y"}),x.coerceSelectionMarkerOpacity(g,d)}},26768:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(13448).DESELECTDIM;function L(C){var c=C[0],y=c.trace,r=c.t,t=r._scene,s=r.index,n=t.selectBatch[s],u=t.unselectBatch[s],l=t.textOptions[s],f=t.textSelectedOptions[s]||{},g=t.textUnselectedOptions[s]||{},h=x.extendFlat({},l),w,d;if(n.length||u.length){var o=f.color,v=g.color,A=l.color,b=x.isArrayOrTypedArray(A);for(h.color=new Array(y._length),w=0;w<n.length;w++)d=n[w],h.color[d]=o||(b?A[d]:A);for(w=0;w<u.length;w++){d=u[w];var M=b?A[d]:A;h.color[d]=v||(o?M:P.addOpacity(M,i))}}t.glText[s].update(h)}V.exports={styleTextSelection:L}},99396:function(V,U,e){"use strict";var x=e(76688);V.exports=function(i,L,C){var c=i.i;return"x"in i||(i.x=L._x[c]),"y"in i||(i.y=L._y[c]),x(i,L,C)}},80088:function(V,U,e){"use strict";var x=e(67072);U.isOpenSymbol=function(P){return typeof P=="string"?x.OPEN_RE.test(P):P%200>100},U.isDotSymbol=function(P){return typeof P=="string"?x.DOT_RE.test(P):P>200}},41272:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(44928);function L(c,y,r,t){var s=c.cd,n=s[0].t,u=s[0].trace,l=c.xa,f=c.ya,g=n.x,h=n.y,w=l.c2p(y),d=f.c2p(r),o=c.distance,v;if(n.tree){var A=l.p2c(w-o),b=l.p2c(w+o),M=f.p2c(d-o),m=f.p2c(d+o);t==="x"?v=n.tree.range(Math.min(A,b),Math.min(f._rl[0],f._rl[1]),Math.max(A,b),Math.max(f._rl[0],f._rl[1])):v=n.tree.range(Math.min(A,b),Math.min(M,m),Math.max(A,b),Math.max(M,m))}else v=n.ids;var S,T,a,E,p,k,R,B,F,_=o;if(t==="x"){var O=!!u.xperiodalignment,z=!!u.yperiodalignment;for(p=0;p<v.length;p++){if(S=v[p],a=g[S],k=Math.abs(l.c2p(a)-w),O){var N=l.c2p(u._xStarts[S]),Y=l.c2p(u._xEnds[S]);k=w>=Math.min(N,Y)&&w<=Math.max(N,Y)?0:1/0}if(k<_){if(_=k,E=h[S],R=f.c2p(E)-d,z){var J=f.c2p(u._yStarts[S]),ae=f.c2p(u._yEnds[S]);R=d>=Math.min(J,ae)&&d<=Math.max(J,ae)?0:1/0}F=Math.sqrt(k*k+R*R),T=v[p]}}}else for(p=v.length-1;p>-1;p--)S=v[p],a=g[S],E=h[S],k=l.c2p(a)-w,R=f.c2p(E)-d,B=Math.sqrt(k*k+R*R),B<_&&(_=F=B,T=S);return c.index=T,c.distance=_,c.dxy=F,T===void 0?[c]:[C(c,g,h,u)]}function C(c,y,r,t){var s=c.xa,n=c.ya,u=c.distance,l=c.dxy,f=c.index,g={pointNumber:f,x:y[f],y:r[f]};g.tx=P.isArrayOrTypedArray(t.text)?t.text[f]:t.text,g.htx=Array.isArray(t.hovertext)?t.hovertext[f]:t.hovertext,g.data=Array.isArray(t.customdata)?t.customdata[f]:t.customdata,g.tp=Array.isArray(t.textposition)?t.textposition[f]:t.textposition;var h=t.textfont;h&&(g.ts=P.isArrayOrTypedArray(h.size)?h.size[f]:h.size,g.tc=Array.isArray(h.color)?h.color[f]:h.color,g.tf=Array.isArray(h.family)?h.family[f]:h.family);var w=t.marker;w&&(g.ms=P.isArrayOrTypedArray(w.size)?w.size[f]:w.size,g.mo=P.isArrayOrTypedArray(w.opacity)?w.opacity[f]:w.opacity,g.mx=P.isArrayOrTypedArray(w.symbol)?w.symbol[f]:w.symbol,g.ma=P.isArrayOrTypedArray(w.angle)?w.angle[f]:w.angle,g.mc=P.isArrayOrTypedArray(w.color)?w.color[f]:w.color);var d=w&&w.line;d&&(g.mlc=Array.isArray(d.color)?d.color[f]:d.color,g.mlw=P.isArrayOrTypedArray(d.width)?d.width[f]:d.width);var o=w&&w.gradient;o&&o.type!=="none"&&(g.mgt=Array.isArray(o.type)?o.type[f]:o.type,g.mgc=Array.isArray(o.color)?o.color[f]:o.color);var v=s.c2p(g.x,!0),A=n.c2p(g.y,!0),b=g.mrc||1,M=t.hoverlabel;M&&(g.hbg=Array.isArray(M.bgcolor)?M.bgcolor[f]:M.bgcolor,g.hbc=Array.isArray(M.bordercolor)?M.bordercolor[f]:M.bordercolor,g.hts=P.isArrayOrTypedArray(M.font.size)?M.font.size[f]:M.font.size,g.htc=Array.isArray(M.font.color)?M.font.color[f]:M.font.color,g.htf=Array.isArray(M.font.family)?M.font.family[f]:M.font.family,g.hnl=P.isArrayOrTypedArray(M.namelength)?M.namelength[f]:M.namelength);var m=t.hoverinfo;m&&(g.hi=Array.isArray(m)?m[f]:m);var S=t.hovertemplate;S&&(g.ht=Array.isArray(S)?S[f]:S);var T={};T[c.index]=g;var a=t._origX,E=t._origY,p=P.extendFlat({},c,{color:i(t,g),x0:v-b,x1:v+b,xLabelVal:a?a[f]:g.x,y0:A-b,y1:A+b,yLabelVal:E?E[f]:g.y,cd:T,distance:u,spikeDistance:l,hovertemplate:g.ht});return g.htx?p.text=g.htx:g.tx?p.text=g.tx:t.text&&(p.text=t.text),P.fillText(g,t,p),x.getComponentMethod("errorbars","hoverInfo")(g,t,p),p}V.exports={hoverPoints:L,calcHover:C}},38983:function(V,U,e){"use strict";var x=e(64628);x.plot=e(89876),V.exports=x},89876:function(V,U,e){"use strict";var x=e(38540),P=e(13472),i=e(24544),L=e(23352),C=e(3400),c=e(72760).selectMode,y=e(5048),r=e(43028),t=e(14328),s=e(26768).styleTextSelection,n={};function u(f,g,h,w){var d=f._size,o=f.width*w,v=f.height*w,A=d.l*w,b=d.b*w,M=d.r*w,m=d.t*w,S=d.w*w,T=d.h*w;return[A+g.domain[0]*S,b+h.domain[0]*T,o-M-(1-g.domain[1])*S,v-m-(1-h.domain[1])*T]}var l=V.exports=function(g,h,w){if(w.length){var d=g._fullLayout,o=h._scene,v=h.xaxis,A=h.yaxis,b,M;if(o){var m=y(g,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){o.init();return}var S=o.count,T=d._glcanvas.data()[0].regl;if(t(g,h,w),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&T.clear({}),o.error2d===!0&&(o.error2d=i(T)),o.line2d===!0&&(o.line2d=P(T)),o.scatter2d===!0&&(o.scatter2d=x(T)),o.fill2d===!0&&(o.fill2d=P(T)),o.glText===!0)for(o.glText=new Array(S),b=0;b<S;b++)o.glText[b]=new L(T);if(o.glText){if(S>o.glText.length){var a=S-o.glText.length;for(b=0;b<a;b++)o.glText.push(new L(T))}else if(S<o.glText.length){var E=o.glText.length-S,p=o.glText.splice(S,E);p.forEach(function($){$.destroy()})}for(b=0;b<S;b++)o.glText[b].update(o.textOptions[b])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function($){if($&&$.positions){for(var X=$.positions,oe=0;oe<X.length&&(isNaN(X[oe])||isNaN(X[oe+1]));)oe+=2;for(var te=X.length-2;te>oe&&(isNaN(X[te])||isNaN(X[te+1]));)te-=2;$.positions=X.slice(oe,te+2)}return $}),o.line2d.update(o.lineOptions)),o.error2d){var k=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(k)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=C.repeat(null,S),o.fill2d&&(o.fillOptions=o.fillOptions.map(function($,X){var oe=w[X];if(!(!$||!oe||!oe[0]||!oe[0].trace)){var te=oe[0],fe=te.trace,pe=te.t,Ae=o.lineOptions[X],be,Pe,me=[];fe._ownfill&&me.push(X),fe._nexttrace&&me.push(X+1),me.length&&(o.fillOrder[X]=me);var Ee=[],xe=Ae&&Ae.positions||pe.positions,De,Ve;if(fe.fill==="tozeroy"){for(De=0;De<xe.length&&isNaN(xe[De+1]);)De+=2;for(Ve=xe.length-2;Ve>De&&isNaN(xe[Ve+1]);)Ve-=2;xe[De+1]!==0&&(Ee=[xe[De],0]),Ee=Ee.concat(xe.slice(De,Ve+2)),xe[Ve+1]!==0&&(Ee=Ee.concat([xe[Ve],0]))}else if(fe.fill==="tozerox"){for(De=0;De<xe.length&&isNaN(xe[De]);)De+=2;for(Ve=xe.length-2;Ve>De&&isNaN(xe[Ve]);)Ve-=2;xe[De]!==0&&(Ee=[0,xe[De+1]]),Ee=Ee.concat(xe.slice(De,Ve+2)),xe[Ve]!==0&&(Ee=Ee.concat([0,xe[Ve+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Ee=[],be=0,$.splitNull=!0,Pe=0;Pe<xe.length;Pe+=2)(isNaN(xe[Pe])||isNaN(xe[Pe+1]))&&(Ee=Ee.concat(xe.slice(be,Pe)),Ee.push(xe[be],xe[be+1]),Ee.push(null,null),be=Pe+2);Ee=Ee.concat(xe.slice(be)),be&&Ee.push(xe[be],xe[be+1])}else{var Ze=fe._nexttrace;if(Ze){var ke=o.lineOptions[X+1];if(ke){var Ye=ke.positions;if(fe.fill==="tonexty"){for(Ee=xe.slice(),X=Math.floor(Ye.length/2);X--;){var lt=Ye[X*2],yt=Ye[X*2+1];isNaN(lt)||isNaN(yt)||Ee.push(lt,yt)}$.fill=Ze.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var He=o.lineOptions[X-1].positions,Fe=Ee.length/2;be=Fe;var nt=[be];for(Pe=0;Pe<He.length;Pe+=2)(isNaN(He[Pe])||isNaN(He[Pe+1]))&&(nt.push(Pe/2+Fe+1),be=Pe+2);Ee=Ee.concat(He),$.hole=nt}return $.fillmode=fe.fill,$.opacity=fe.opacity,$.positions=Ee,$}}),o.fill2d.update(o.fillOptions))}var R=d.dragmode,B=c(R),F=d.clickmode.indexOf("select")>-1;for(b=0;b<S;b++){var _=w[b][0],O=_.trace,z=_.t,N=z.index,Y=O._length,J=z.x,ae=z.y;if(O.selectedpoints||B||F){if(B||(B=!0),O.selectedpoints){var se=o.selectBatch[N]=C.selIndices2selPoints(O),ue={};for(M=0;M<se.length;M++)ue[se[M]]=1;var K=[];for(M=0;M<Y;M++)ue[M]||K.push(M);o.unselectBatch[N]=K}var j=z.xpx=new Array(Y),ie=z.ypx=new Array(Y);for(M=0;M<Y;M++)j[M]=v.c2p(J[M]),ie[M]=A.c2p(ae[M])}else z.xpx=z.ypx=null}if(B){if(o.select2d||(o.select2d=x(d._glcanvas.data()[1].regl)),o.scatter2d){var W=new Array(S);for(b=0;b<S;b++)W[b]=o.selectBatch[b].length||o.unselectBatch[b].length?o.markerUnselectedOptions[b]:{};o.scatter2d.update(W)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&w.forEach(function($){var X=(($||[])[0]||{}).trace||{};r.hasText(X)&&s($)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var Q={viewport:u(d,v,A,g._context.plotGlPixelRatio),range:[(v._rl||v.range)[0],(A._rl||A.range)[0],(v._rl||v.range)[1],(A._rl||A.range)[1]]},ee=C.repeat(Q,o.count);o.fill2d&&o.fill2d.update(ee),o.line2d&&o.line2d.update(ee),o.error2d&&o.error2d.update(ee.concat(ee)),o.scatter2d&&o.scatter2d.update(ee),o.select2d&&o.select2d.update(ee),o.glText&&o.glText.forEach(function($){$.update(Q)})}}};l.reglPrecompiled=n},74588:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){var C=L._scene,c={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},y={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(C=L._scene={},C.init=function(){x.extendFlat(C,y,c)},C.init(),C.update=function(t){var s=x.repeat(t,C.count);if(C.fill2d&&C.fill2d.update(s),C.scatter2d&&C.scatter2d.update(s),C.line2d&&C.line2d.update(s),C.error2d&&C.error2d.update(s.concat(s)),C.select2d&&C.select2d.update(s),C.glText)for(var n=0;n<C.count;n++)C.glText[n].update(t)},C.draw=function(){for(var t=C.count,s=C.fill2d,n=C.error2d,u=C.line2d,l=C.scatter2d,f=C.glText,g=C.select2d,h=C.selectBatch,w=C.unselectBatch,d=0;d<t;d++){if(s&&C.fillOrder[d]&&s.draw(C.fillOrder[d]),u&&C.lineOptions[d]&&u.draw(d),n&&(C.errorXOptions[d]&&n.draw(d),C.errorYOptions[d]&&n.draw(d+t)),l&&C.markerOptions[d])if(w[d].length){var o=x.repeat([],C.count);o[d]=w[d],l.draw(o)}else h[d].length||l.draw(d);f[d]&&C.textOptions[d]&&f[d].render()}g&&g.draw(h),C.dirty=!1},C.destroy=function(){C.fill2d&&C.fill2d.destroy&&C.fill2d.destroy(),C.scatter2d&&C.scatter2d.destroy&&C.scatter2d.destroy(),C.error2d&&C.error2d.destroy&&C.error2d.destroy(),C.line2d&&C.line2d.destroy&&C.line2d.destroy(),C.select2d&&C.select2d.destroy&&C.select2d.destroy(),C.glText&&C.glText.forEach(function(t){t.destroy&&t.destroy()}),C.lineOptions=null,C.fillOptions=null,C.markerOptions=null,C.markerSelectedOptions=null,C.markerUnselectedOptions=null,C.errorXOptions=null,C.errorYOptions=null,C.textOptions=null,C.textSelectedOptions=null,C.textUnselectedOptions=null,C.selectBatch=null,C.unselectBatch=null,L._scene=null}),C.dirty||x.extendFlat(C,c),C}},73224:function(V,U,e){"use strict";var x=e(43028),P=e(26768).styleTextSelection;V.exports=function(L,C){var c=L.cd,y=L.xaxis,r=L.yaxis,t=[],s=c[0].trace,n=c[0].t,u=s._length,l=n.x,f=n.y,g=n._scene,h=n.index;if(!g)return t;var w=x.hasText(s),d=x.hasMarkers(s),o=!d&&!w;if(s.visible!==!0||o)return t;var v=[],A=[];if(C!==!1&&!C.degenerate)for(var b=0;b<u;b++)C.contains([n.xpx[b],n.ypx[b]],!1,b,L)?(v.push(b),t.push({pointNumber:b,x:y.c2d(l[b]),y:r.c2d(f[b])})):A.push(b);if(d){var M=g.scatter2d;if(!v.length&&!A.length){var m=new Array(g.count);m[h]=g.markerOptions[h],M.update.apply(M,m)}else if(!g.selectBatch[h].length&&!g.unselectBatch[h].length){var S=new Array(g.count);S[h]=g.markerUnselectedOptions[h],M.update.apply(M,S)}}return g.selectBatch[h]=v,g.unselectBatch[h]=A,w&&P(c),t}},31512:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(21776).Gw,i=e(98304),L=e(6096),C=e(52904),c=e(5232),y=e(45464),r=e(49084),t=e(92880).extendFlat,s=e(67824).overrideAll,n=e(5232),u=L.line,l=L.marker;V.exports=s({lon:L.lon,lat:L.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},l.opacity,{dflt:1})},mode:t({},C.mode,{dflt:"markers"}),text:t({},C.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},C.hovertext,{}),line:{color:u.color,width:u.width},connectgaps:C.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},r("marker")),fill:L.fill,fillcolor:i(),textfont:c.layers.symbol.textfont,textposition:c.layers.symbol.textposition,below:{valType:"string"},selected:{marker:C.selected.marker},unselected:{marker:C.unselected.marker},hoverinfo:t({},y.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:x()},"calc","nested")},59392:function(V,U,e){"use strict";var x=e(38248),P=e(3400),i=e(39032).BADNUM,L=e(44808),C=e(8932),c=e(43616),y=e(7152),r=e(43028),t=e(89032),s=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;V.exports=function(A,b){var M=b[0].trace,m=M.visible===!0&&M._length!==0,S=M.fill!=="none",T=r.hasLines(M),a=r.hasMarkers(M),E=r.hasText(M),p=a&&M.marker.symbol==="circle",k=a&&M.marker.symbol!=="circle",R=M.cluster&&M.cluster.enabled,B=l("fill"),F=l("line"),_=l("circle"),O=l("symbol"),z={fill:B,line:F,circle:_,symbol:O};if(!m)return z;var N;if((S||T)&&(N=L.calcTraceToLineCoords(b)),S&&(B.geojson=L.makePolygon(N),B.layout.visibility="visible",P.extendFlat(B.paint,{"fill-color":M.fillcolor})),T&&(F.geojson=L.makeLine(N),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":M.line.width,"line-color":M.line.color,"line-opacity":M.opacity})),p){var Y=f(b);_.geojson=Y.geojson,_.layout.visibility="visible",R&&(_.filter=["!",["has","point_count"]],z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(M.cluster.color,M.cluster.step),"circle-radius":o(M.cluster.size,M.cluster.step),"circle-opacity":o(M.cluster.opacity,M.cluster.step)}},z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),P.extendFlat(_.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(p&&R&&(_.filter=["!",["has","point_count"]]),(k||E)&&(O.geojson=g(b,A),P.extendFlat(O.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(P.extendFlat(O.layout,{"icon-size":M.marker.size/10}),"angle"in M.marker&&M.marker.angle!=="auto"&&P.extendFlat(O.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),O.layout["icon-allow-overlap"]=M.marker.allowoverlap,P.extendFlat(O.paint,{"icon-opacity":M.opacity*M.marker.opacity,"icon-color":M.marker.color})),E)){var J=(M.marker||{}).size,ae=t(M.textposition,J);P.extendFlat(O.layout,{"text-size":M.textfont.size,"text-anchor":ae.anchor,"text-offset":ae.offset,"text-font":M.textfont.family.split(", ")}),P.extendFlat(O.paint,{"text-color":M.textfont.color,"text-opacity":M.opacity})}return z};function l(v){return{type:v,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function f(v){var A=v[0].trace,b=A.marker,M=A.selectedpoints,m=P.isArrayOrTypedArray(b.color),S=P.isArrayOrTypedArray(b.size),T=P.isArrayOrTypedArray(b.opacity),a;function E(J){return A.opacity*J}function p(J){return J/2}var k;m&&(C.hasColorscale(A,"marker")?k=C.makeColorScaleFuncFromTrace(b):k=P.identity);var R;S&&(R=y(A));var B;T&&(B=function(J){var ae=x(J)?+P.constrain(J,0,1):0;return E(ae)});var F=[];for(a=0;a<v.length;a++){var _=v[a],O=_.lonlat;if(!d(O)){var z={};k&&(z.mcc=_.mcc=k(_.mc)),R&&(z.mrc=_.mrc=R(_.ms)),B&&(z.mo=B(_.mo)),M&&(z.selected=_.selected||0),F.push({type:"Feature",id:a+1,geometry:{type:"Point",coordinates:O},properties:z})}}var N;if(M)for(N=c.makeSelectedPointStyleFns(A),a=0;a<F.length;a++){var Y=F[a].properties;N.selectedOpacityFn&&(Y.mo=E(N.selectedOpacityFn(Y))),N.selectedColorFn&&(Y.mcc=N.selectedColorFn(Y)),N.selectedSizeFn&&(Y.mrc=N.selectedSizeFn(Y))}return{geojson:{type:"FeatureCollection",features:F},mcc:m||N&&N.selectedColorFn?{type:"identity",property:"mcc"}:b.color,mrc:S||N&&N.selectedSizeFn?{type:"identity",property:"mrc"}:p(b.size),mo:T||N&&N.selectedOpacityFn?{type:"identity",property:"mo"}:E(b.opacity)}}function g(v,A){for(var b=A._fullLayout,M=v[0].trace,m=M.marker||{},S=m.symbol,T=m.angle,a=S!=="circle"?h(S):w,E=T!=="auto"?h(T,!0):w,p=r.hasText(M)?h(M.text):w,k=[],R=0;R<v.length;R++){var B=v[R];if(!d(B.lonlat)){var F=M.texttemplate,_;if(F){var O=Array.isArray(F)?F[R]||"":F,z=M._module.formatLabels(B,M,b),N={};s(N,M,B.i);var Y=M._meta||{};_=P.texttemplateString(O,z,b._d3locale,N,B,Y)}else _=p(R);_&&(_=_.replace(n,"").replace(u,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:a(R),angle:E(R),text:_}})}}return{type:"FeatureCollection",features:k}}function h(v,A){return P.isArrayOrTypedArray(v)?A?function(b){return x(v[b])?+v[b]:0}:function(b){return v[b]}:v?function(){return v}:w}function w(){return""}function d(v){return v[0]===i}function o(v,A){var b;if(P.isArrayOrTypedArray(v)&&P.isArrayOrTypedArray(A)){b=["step",["get","point_count"],v[0]];for(var M=1;M<v.length;M++)b.push(A[M-1],v[M])}else b=v;return b}},15752:function(V,U,e){"use strict";var x=e(3400),P=e(43028),i=e(74428),L=e(66828),C=e(124),c=e(70840),y=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];V.exports=function(n,u,l,f){function g(S,T){return x.coerce(n,u,y,S,T)}function h(S,T){return x.coerce2(n,u,y,S,T)}var w=t(n,u,g);if(!w){u.visible=!1;return}if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),P.hasMarkers(u)){i(n,u,l,f,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var d=u.marker;d.symbol!=="circle"&&(x.isArrayOrTypedArray(d.size)&&(d.size=d.size[0]),x.isArrayOrTypedArray(d.color)&&(d.color=d.color[0]))}P.hasLines(u)&&(L(n,u,l,f,g,{noDash:!0}),g("connectgaps"));var o=h("cluster.maxzoom"),v=h("cluster.step"),A=h("cluster.color",u.marker&&u.marker.color||l),b=h("cluster.size"),M=h("cluster.opacity"),m=o!==!1||v!==!1||A!==!1||b!==!1||M!==!1;g("cluster.enabled",m),P.hasText(u)&&C(n,u,f,g,{noSelect:!0,font:{family:r.indexOf(f.font.family)!==-1?f.font.family:"Open Sans Regular",size:f.font.size,color:f.font.color}}),g("fill"),u.fill!=="none"&&c(n,u,l,g),x.coerceSelectionMarkerOpacity(u,g)};function t(s,n,u){var l=u("lon")||[],f=u("lat")||[],g=Math.min(l.length,f.length);return n._length=g,g}},37920:function(V){"use strict";V.exports=function(e,x){return e.lon=x.lon,e.lat=x.lat,e}},11960:function(V,U,e){"use strict";var x=e(54460);V.exports=function(i,L,C){var c={},y=C[L.subplot]._subplot,r=y.mockAxis,t=i.lonlat;return c.lonLabel=x.tickText(r,r.c2l(t[0]),!0).text,c.latLabel=x.tickText(r,r.c2l(t[1]),!0).text,c}},63312:function(V,U,e){"use strict";var x=e(93024),P=e(3400),i=e(44928),L=P.fillText,C=e(39032).BADNUM,c=e(47552).traceLayerPrefix;function y(t,s,n){var u=t.cd,l=u[0].trace,f=t.xa,g=t.ya,h=t.subplot,w=[],d=c+l.uid+"-circle",o=l.cluster&&l.cluster.enabled;if(o){var v=h.map.queryRenderedFeatures(null,{layers:[d]});w=v.map(function(F){return F.id})}var A=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),b=A*360,M=s-b;function m(F){var _=F.lonlat;if(_[0]===C||o&&w.indexOf(F.i+1)===-1)return 1/0;var O=P.modHalf(_[0],360),z=_[1],N=h.project([O,z]),Y=N.x-f.c2p([M,z]),J=N.y-g.c2p([O,n]),ae=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(Y*Y+J*J)-ae,1-3/ae)}if(x.getClosest(u,m,t),t.index!==!1){var S=u[t.index],T=S.lonlat,a=[P.modHalf(T[0],360)+b,T[1]],E=f.c2p(a),p=g.c2p(a),k=S.mrc||1;t.x0=E-k,t.x1=E+k,t.y0=p-k,t.y1=p+k;var R={};R[l.subplot]={_subplot:h};var B=l._module.formatLabels(S,l,R);return t.lonLabel=B.lonLabel,t.latLabel=B.latLabel,t.color=i(l,S),t.extraText=r(l,S,u[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}}function r(t,s,n){if(t.hovertemplate)return;var u=s.hi||t.hoverinfo,l=u.split("+"),f=l.indexOf("all")!==-1,g=l.indexOf("lon")!==-1,h=l.indexOf("lat")!==-1,w=s.lonlat,d=[];function o(v){return v+"\xB0"}return f||g&&h?d.push("("+o(w[1])+", "+o(w[0])+")"):g?d.push(n.lon+o(w[0])):h&&d.push(n.lat+o(w[1])),(f||l.indexOf("text")!==-1)&&L(s,t,d),d.join("<br>")}V.exports={hoverPoints:y,getExtraText:r}},11572:function(V,U,e){"use strict";V.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(x,P){if(P){var i=P[0].trace;i._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(V,U,e){"use strict";var x=e(3400),P=e(59392),i=e(47552).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function C(y,r,t,s){this.type="scattermapbox",this.subplot=y,this.uid=r,this.clusterEnabled=t,this.isHidden=s,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:i+r+"-fill",line:i+r+"-line",circle:i+r+"-circle",symbol:i+r+"-symbol",cluster:i+r+"-cluster",clusterCount:i+r+"-cluster-count"},this.below=null}var c=C.prototype;c.addSource=function(y,r,t){var s={type:"geojson",data:r.geojson};t&&t.enabled&&x.extendFlat(s,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[y]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[y],s)},c.setSourceData=function(y,r){this.subplot.map.getSource(this.sourceIds[y]).setData(r.geojson)},c.addLayer=function(y,r,t){var s={type:r.type,id:this.layerIds[y],source:this.sourceIds[y],layout:r.layout,paint:r.paint};r.filter&&(s.filter=r.filter);for(var n=this.layerIds[y],u,l=this.subplot.getMapLayers(),f=0;f<l.length;f++)if(l[f].id===n){u=!0;break}u?(this.subplot.setOptions(n,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",s.paint)):this.subplot.addLayer(s,t)},c.update=function(r){var t=r[0].trace,s=this.subplot,n=s.map,u=P(s.gd,r),l=s.belowLookup["trace-"+this.uid],f=!!(t.cluster&&t.cluster.enabled),g=!!this.clusterEnabled,h=this;function w(T){T||h.addSource("circle",u.circle,t.cluster);for(var a=L.cluster,E=0;E<a.length;E++){var p=a[E],k=u[p];h.addLayer(p,k,l)}}function d(T){for(var a=L.cluster,E=a.length-1;E>=0;E--){var p=a[E];n.removeLayer(h.layerIds[p])}T||n.removeSource(h.sourceIds.circle)}function o(T){for(var a=L.nonCluster,E=0;E<a.length;E++){var p=a[E],k=u[p];T||h.addSource(p,k),h.addLayer(p,k,l)}}function v(T){for(var a=L.nonCluster,E=a.length-1;E>=0;E--){var p=a[E];n.removeLayer(h.layerIds[p]),T||n.removeSource(h.sourceIds[p])}}function A(T){g?d(T):v(T)}function b(T){f?w(T):o(T)}function M(){for(var T=f?L.cluster:L.nonCluster,a=0;a<T.length;a++){var E=T[a],p=u[E];p&&(s.setOptions(h.layerIds[E],"setLayoutProperty",p.layout),p.layout.visibility==="visible"&&(E!=="cluster"&&h.setSourceData(E,p),s.setOptions(h.layerIds[E],"setPaintProperty",p.paint)))}}var m=this.isHidden,S=t.visible!==!0;S?m||A():m?S||b():g!==f?(A(),b()):(this.below!==l&&(A(!0),b(!0)),M()),this.clusterEnabled=f,this.isHidden=S,this.below=l,r[0].trace._glTrace=this},c.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,s=t.length-1;s>=0;s--){var n=t[s];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},V.exports=function(r,t){var s=t[0].trace,n=s.cluster&&s.cluster.enabled,u=s.visible!==!0,l=new C(r,s.uid,n,u),f=P(r.gd,t),g=l.below=r.belowLookup["trace-"+s.uid],h,w,d;if(n)for(l.addSource("circle",f.circle,s.cluster),h=0;h<L.cluster.length;h++)w=L.cluster[h],d=f[w],l.addLayer(w,d,g);else for(h=0;h<L.nonCluster.length;h++)w=L.nonCluster[h],d=f[w],l.addSource(w,d,s.cluster),l.addLayer(w,d,g);return t[0].trace._glTrace=l,l}},404:function(V,U,e){"use strict";var x=e(3400),P=e(43028),i=e(39032).BADNUM;V.exports=function(C,c){var y=C.cd,r=C.xaxis,t=C.yaxis,s=[],n=y[0].trace,u;if(!P.hasMarkers(n))return[];if(c===!1)for(u=0;u<y.length;u++)y[u].selected=0;else for(u=0;u<y.length;u++){var l=y[u],f=l.lonlat;if(f[0]!==i){var g=[x.modHalf(f[0],360),f[1]],h=[r.c2p(g),t.c2p(g)];c.contains(h,null,u,C)?(s.push({pointNumber:u,lon:f[0],lat:f[1]}),l.selected=1):l.selected=0}}return s}},8319:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(21776).Gw,i=e(92880).extendFlat,L=e(98304),C=e(52904),c=e(45464),y=C.line;V.exports={mode:C.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,line:{color:y.color,width:y.width,dash:y.dash,backoff:y.backoff,shape:i({},y.shape,{values:["linear","spline"]}),smoothing:y.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:i({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:i({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:i({},c.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:C.hoveron,hovertemplate:x(),selected:C.selected,unselected:C.unselected}},58320:function(V,U,e){"use strict";var x=e(38248),P=e(39032).BADNUM,i=e(54460),L=e(90136),C=e(20148),c=e(4500),y=e(16356).calcMarkerSize;V.exports=function(t,s){for(var n=t._fullLayout,u=s.subplot,l=n[u].radialaxis,f=n[u].angularaxis,g=l.makeCalcdata(s,"r"),h=f.makeCalcdata(s,"theta"),w=s._length,d=new Array(w),o=0;o<w;o++){var v=g[o],A=h[o],b=d[o]={};x(v)&&x(A)?(b.r=v,b.theta=A):b.r=P}var M=y(s,w);return s._extremes.x=i.findExtremes(l,g,{ppad:M}),L(t,s),C(d,s),c(d,s),d}},85968:function(V,U,e){"use strict";var x=e(3400),P=e(43028),i=e(74428),L=e(66828),C=e(11731),c=e(124),y=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function s(u,l,f,g){function h(o,v){return x.coerce(u,l,t,o,v)}var w=n(u,l,g,h);if(!w){l.visible=!1;return}h("thetaunit"),h("mode",w<r?"lines+markers":"lines"),h("text"),h("hovertext"),l.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(l)&&i(u,l,f,g,h,{gradient:!0}),P.hasLines(l)&&(L(u,l,f,g,h,{backoff:!0}),C(u,l,h),h("connectgaps")),P.hasText(l)&&(h("texttemplate"),c(u,l,g,h));var d=[];(P.hasMarkers(l)||P.hasText(l))&&(h("cliponaxis"),h("marker.maxdisplayed"),d.push("points")),h("fill"),l.fill!=="none"&&(y(u,l,f,h),P.hasLines(l)||C(u,l,h)),(l.fill==="tonext"||l.fill==="toself")&&d.push("fills"),h("hoveron",d.join("+")||"points"),x.coerceSelectionMarkerOpacity(l,h)}function n(u,l,f,g){var h=g("r"),w=g("theta");x.isTypedArray(h)&&(l.r=h=Array.from(h)),x.isTypedArray(w)&&(l.theta=w=Array.from(w));var d;if(h)w?d=Math.min(h.length,w.length):(d=h.length,g("theta0"),g("dtheta"));else{if(!w)return 0;d=l.theta.length,g("r0"),g("dr")}return l._length=d,d}V.exports={handleRThetaDefaults:n,supplyDefaults:s}},22852:function(V,U,e){"use strict";var x=e(3400),P=e(54460);V.exports=function(L,C,c){var y={},r=c[C.subplot]._subplot,t,s;r?(t=r.radialAxis,s=r.angularAxis):(r=c[C.subplot],t=r.radialaxis,s=r.angularaxis);var n=t.c2l(L.r);y.rLabel=P.tickText(t,n,!0).text;var u=s.thetaunit==="degrees"?x.rad2deg(L.theta):L.theta;return y.thetaLabel=P.tickText(s,u,!0).text,y}},8504:function(V,U,e){"use strict";var x=e(98723);function P(L,C,c,y){var r=x(L,C,c,y);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var s=L.subplot,n=t.cd[t.index],u=t.trace;if(s.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,u,s,t),t.hovertemplate=u.hovertemplate,r}}function i(L,C,c,y){var r=c.radialAxis,t=c.angularAxis;r._hovertitle="r",t._hovertitle="\u03B8";var s={};s[C.subplot]={_subplot:c};var n=C._module.formatLabels(L,C,s);y.rLabel=n.rLabel,y.thetaLabel=n.thetaLabel;var u=L.hi||C.hoverinfo,l=[];function f(h,w){l.push(h._hovertitle+": "+w)}if(!C.hovertemplate){var g=u.split("+");g.indexOf("all")!==-1&&(g=["r","theta","text"]),g.indexOf("r")!==-1&&f(r,y.rLabel),g.indexOf("theta")!==-1&&f(t,y.thetaLabel),g.indexOf("text")!==-1&&y.text&&(l.push(y.text),delete y.text),y.extraText=l.join("<br>")}}V.exports={hoverPoints:P,makeHoverPointText:i}},76924:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(V,U,e){"use strict";var x=e(96504),P=e(39032).BADNUM;V.exports=function(L,C,c){for(var y=C.layers.frontplot.select("g.scatterlayer"),r=C.xaxis,t=C.yaxis,s={xaxis:r,yaxis:t,plot:C.framework,layerClipId:C._hasClipOnAxisFalse?C.clipIds.forTraces:null},n=C.radialAxis,u=C.angularAxis,l=0;l<c.length;l++)for(var f=c[l],g=0;g<f.length;g++){g===0&&(f[0].trace._xA=r,f[0].trace._yA=t);var h=f[g],w=h.r;if(w===P)h.x=h.y=P;else{var d=n.c2g(w),o=u.c2g(h.theta);h.x=d*Math.cos(o),h.y=d*Math.sin(o)}}x(L,s,c,y)}},24396:function(V,U,e){"use strict";var x=e(8319),P=e(2876),i=e(21776).Gw;V.exports={mode:x.mode,r:x.r,theta:x.theta,r0:x.r0,dr:x.dr,theta0:x.theta0,dtheta:x.dtheta,thetaunit:x.thetaunit,text:x.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:x.hovertext,hovertemplate:x.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:x.hoverinfo,selected:x.selected,unselected:x.unselected}},27160:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(V,U,e){"use strict";var x=e(90136),P=e(16356).calcMarkerSize,i=e(84236),L=e(54460),C=e(67072).TOO_MANY_POINTS;V.exports=function(y,r){var t=y._fullLayout,s=r.subplot,n=t[s].radialaxis,u=t[s].angularaxis,l=r._r=n.makeCalcdata(r,"r"),f=r._theta=u.makeCalcdata(r,"theta"),g=r._length,h={};g<l.length&&(l=l.slice(0,g)),g<f.length&&(f=f.slice(0,g)),h.r=l,h.theta=f,x(y,r);var w=h.opts=i.style(y,r),d;return g<C?d=P(r,g):w.marker&&(d=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),r._extremes.x=L.findExtremes(n,l,{ppad:d}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(V,U,e){"use strict";var x=e(3400),P=e(43028),i=e(85968).handleRThetaDefaults,L=e(74428),C=e(66828),c=e(124),y=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);V.exports=function(n,u,l,f){function g(w,d){return x.coerce(n,u,t,w,d)}var h=i(n,u,f,g);if(!h){u.visible=!1;return}g("thetaunit"),g("mode",h<r?"lines+markers":"lines"),g("text"),g("hovertext"),u.hoveron!=="fills"&&g("hovertemplate"),P.hasMarkers(u)&&L(n,u,l,f,g,{noAngleRef:!0,noStandOff:!0}),P.hasLines(u)&&(C(n,u,l,f,g),g("connectgaps")),P.hasText(u)&&(g("texttemplate"),c(n,u,f,g)),g("fill"),u.fill!=="none"&&y(n,u,l,g),x.coerceSelectionMarkerOpacity(u,g)}},94120:function(V,U,e){"use strict";var x=e(22852);V.exports=function(i,L,C){var c=i.i;return"r"in i||(i.r=L._r[c]),"theta"in i||(i.theta=L._theta[c]),x(i,L,C)}},1600:function(V,U,e){"use strict";var x=e(41272),P=e(8504).makeHoverPointText;function i(L,C,c,y){var r=L.cd,t=r[0].t,s=t.r,n=t.theta,u=x.hoverPoints(L,C,c,y);if(!(!u||u[0].index===!1)){var l=u[0];if(l.index===void 0)return u;var f=L.subplot,g=l.cd[l.index],h=l.trace;if(g.r=s[l.index],g.theta=n[l.index],!!f.isPtInside(g))return l.xLabelVal=void 0,l.yLabelVal=void 0,P(g,h,f,l),u}}V.exports={hoverPoints:i}},62944:function(V,U,e){"use strict";var x=e(27160);x.plot=e(56512),V.exports=x},56512:function(V,U,e){"use strict";var x=e(3108),P=e(38248),i=e(89876),L=e(74588),C=e(84236),c=e(3400),y=e(67072).TOO_MANY_POINTS,r={};V.exports=function(s,n,u){if(u.length){var l=n.radialAxis,f=n.angularAxis,g=L(s,n);return u.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var w=h[0],d=w.trace,o=w.t,v=d._length,A=o.r,b=o.theta,M=o.opts,m,S=A.slice(),T=b.slice();for(m=0;m<A.length;m++)n.isPtInside({r:A[m],theta:b[m]})||(S[m]=NaN,T[m]=NaN);var a=new Array(v*2),E=Array(v),p=Array(v);for(m=0;m<v;m++){var k=S[m],R,B;if(P(k)){var F=l.c2g(k),_=f.c2g(T[m],d.thetaunit);R=F*Math.cos(_),B=F*Math.sin(_)}else R=B=NaN;E[m]=a[m*2]=R,p[m]=a[m*2+1]=B}o.tree=x(a),M.marker&&v>=y&&(M.marker.cluster=o.tree),M.marker&&(M.markerSel.positions=M.markerUnsel.positions=M.marker.positions=a),M.line&&a.length>1&&c.extendFlat(M.line,C.linePositions(s,d,a)),M.text&&(c.extendFlat(M.text,{positions:a},C.textPosition(s,d,M.text,M.marker)),c.extendFlat(M.textSel,{positions:a},C.textPosition(s,d,M.text,M.markerSel)),c.extendFlat(M.textUnsel,{positions:a},C.textPosition(s,d,M.text,M.markerUnsel))),M.fill&&!g.fill2d&&(g.fill2d=!0),M.marker&&!g.scatter2d&&(g.scatter2d=!0),M.line&&!g.line2d&&(g.line2d=!0),M.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(M.line),g.fillOptions.push(M.fill),g.markerOptions.push(M.marker),g.markerSelectedOptions.push(M.markerSel),g.markerUnselectedOptions.push(M.markerUnsel),g.textOptions.push(M.text),g.textSelectedOptions.push(M.textSel),g.textUnselectedOptions.push(M.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),o.x=E,o.y=p,o.rawx=E,o.rawy=p,o.r=A,o.theta=b,o.positions=a,o._scene=g,o.index=g.count,g.count++}}),i(s,n,u)}},V.exports.reglPrecompiled=r},69496:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(21776).Gw,i=e(92880).extendFlat,L=e(98304),C=e(52904),c=e(45464),y=C.line;V.exports={mode:C.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:C.hovertext,line:{color:y.color,width:y.width,dash:y.dash,backoff:y.backoff,shape:i({},y.shape,{values:["linear","spline"]}),smoothing:y.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:i({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:i({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:i({},c.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:C.hoveron,hovertemplate:x(),selected:C.selected,unselected:C.unselected}},47507:function(V,U,e){"use strict";var x=e(38248),P=e(39032).BADNUM,i=e(90136),L=e(20148),C=e(4500),c=e(16356).calcMarkerSize;V.exports=function(r,t){for(var s=r._fullLayout,n=t.subplot,u=s[n].realaxis,l=s[n].imaginaryaxis,f=u.makeCalcdata(t,"real"),g=l.makeCalcdata(t,"imag"),h=t._length,w=new Array(h),d=0;d<h;d++){var o=f[d],v=g[d],A=w[d]={};x(o)&&x(v)?(A.real=o,A.imag=v):A.real=P}return c(t,h),i(r,t),L(w,t),C(w,t),w}},76716:function(V,U,e){"use strict";var x=e(3400),P=e(43028),i=e(74428),L=e(66828),C=e(11731),c=e(124),y=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);V.exports=function(u,l,f,g){function h(o,v){return x.coerce(u,l,t,o,v)}var w=s(u,l,g,h);if(!w){l.visible=!1;return}h("mode",w<r?"lines+markers":"lines"),h("text"),h("hovertext"),l.hoveron!=="fills"&&h("hovertemplate"),P.hasMarkers(l)&&i(u,l,f,g,h,{gradient:!0}),P.hasLines(l)&&(L(u,l,f,g,h,{backoff:!0}),C(u,l,h),h("connectgaps")),P.hasText(l)&&(h("texttemplate"),c(u,l,g,h));var d=[];(P.hasMarkers(l)||P.hasText(l))&&(h("cliponaxis"),h("marker.maxdisplayed"),d.push("points")),h("fill"),l.fill!=="none"&&(y(u,l,f,h),P.hasLines(l)||C(u,l,h)),(l.fill==="tonext"||l.fill==="toself")&&d.push("fills"),h("hoveron",d.join("+")||"points"),x.coerceSelectionMarkerOpacity(l,h)};function s(n,u,l,f){var g=f("real"),h=f("imag"),w;return g&&h&&(w=Math.min(g.length,h.length)),x.isTypedArray(g)&&(u.real=g=Array.from(g)),x.isTypedArray(h)&&(u.imag=h=Array.from(h)),u._length=w,w}},49504:function(V,U,e){"use strict";var x=e(54460);V.exports=function(i,L,C){var c={},y=C[L.subplot]._subplot;return c.realLabel=x.tickText(y.radialAxis,i.real,!0).text,c.imagLabel=x.tickText(y.angularAxis,i.imag,!0).text,c}},25292:function(V,U,e){"use strict";var x=e(98723);function P(L,C,c,y){var r=x(L,C,c,y);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var s=L.subplot,n=t.cd[t.index],u=t.trace;if(s.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,u,s,t),t.hovertemplate=u.hovertemplate,r}}function i(L,C,c,y){var r=c.radialAxis,t=c.angularAxis;r._hovertitle="real",t._hovertitle="imag";var s={};s[C.subplot]={_subplot:c};var n=C._module.formatLabels(L,C,s);y.realLabel=n.realLabel,y.imagLabel=n.imagLabel;var u=L.hi||C.hoverinfo,l=[];function f(h,w){l.push(h._hovertitle+": "+w)}if(!C.hovertemplate){var g=u.split("+");g.indexOf("all")!==-1&&(g=["real","imag","text"]),g.indexOf("real")!==-1&&f(r,y.realLabel),g.indexOf("imag")!==-1&&f(t,y.imagLabel),g.indexOf("text")!==-1&&y.text&&(l.push(y.text),delete y.text),y.extraText=l.join("<br>")}}V.exports={hoverPoints:P,makeHoverPointText:i}},95443:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(V,U,e){"use strict";var x=e(96504),P=e(39032).BADNUM,i=e(36416),L=i.smith;V.exports=function(c,y,r){for(var t=y.layers.frontplot.select("g.scatterlayer"),s=y.xaxis,n=y.yaxis,u={xaxis:s,yaxis:n,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},l=0;l<r.length;l++)for(var f=r[l],g=0;g<f.length;g++){g===0&&(f[0].trace._xA=s,f[0].trace._yA=n);var h=f[g],w=h.real;if(w===P)h.x=h.y=P;else{var d=L([w,h.imag]);h.x=d[0],h.y=d[1]}}x(c,u,r,t)}},5896:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(21776).Gw,i=e(98304),L=e(52904),C=e(45464),c=e(49084),y=e(98192).u,r=e(92880).extendFlat,t=L.marker,s=L.line,n=t.line;V.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},L.hovertext,{}),line:{color:s.color,width:s.width,dash:y,backoff:s.backoff,shape:r({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:L.connectgaps,cliponaxis:L.cliponaxis,fill:r({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},c("marker.line")),gradient:t.gradient,editType:"calc"},c("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:r({},C.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:L.hoveron,hovertemplate:x()}},34335:function(V,U,e){"use strict";var x=e(38248),P=e(90136),i=e(20148),L=e(4500),C=e(16356).calcMarkerSize,c=["a","b","c"],y={a:["b","c"],b:["a","c"],c:["a","b"]};V.exports=function(t,s){var n=t._fullLayout[s.subplot],u=n.sum,l=s.sum||u,f={a:s.a,b:s.b,c:s.c},g,h,w,d,o,v;for(g=0;g<c.length;g++)if(w=c[g],!f[w]){for(o=f[y[w][0]],v=f[y[w][1]],d=new Array(o.length),h=0;h<o.length;h++)d[h]=l-o[h]-v[h];f[w]=d}var A=s._length,b=new Array(A),M,m,S,T,a,E;for(g=0;g<A;g++)M=f.a[g],m=f.b[g],S=f.c[g],x(M)&&x(m)&&x(S)?(M=+M,m=+m,S=+S,T=u/(M+m+S),T!==1&&(M*=T,m*=T,S*=T),E=M,a=S-m,b[g]={x:a,y:E,a:M,b:m,c:S}):b[g]={x:!1,y:!1};return C(s,A),P(t,s),i(b,s),L(b,s),b}},84256:function(V,U,e){"use strict";var x=e(3400),P=e(88200),i=e(43028),L=e(74428),C=e(66828),c=e(11731),y=e(124),r=e(70840),t=e(5896);V.exports=function(n,u,l,f){function g(b,M){return x.coerce(n,u,t,b,M)}var h=g("a"),w=g("b"),d=g("c"),o;if(h?(o=h.length,w?(o=Math.min(o,w.length),d&&(o=Math.min(o,d.length))):d?o=Math.min(o,d.length):o=0):w&&d&&(o=Math.min(w.length,d.length)),!o){u.visible=!1;return}u._length=o,g("sum"),g("text"),g("hovertext"),u.hoveron!=="fills"&&g("hovertemplate");var v=o<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",v),i.hasMarkers(u)&&L(n,u,l,f,g,{gradient:!0}),i.hasLines(u)&&(C(n,u,l,f,g,{backoff:!0}),c(n,u,g),g("connectgaps")),i.hasText(u)&&(g("texttemplate"),y(n,u,f,g));var A=[];(i.hasMarkers(u)||i.hasText(u))&&(g("cliponaxis"),g("marker.maxdisplayed"),A.push("points")),g("fill"),u.fill!=="none"&&(r(n,u,l,g),i.hasLines(u)||c(n,u,g)),(u.fill==="tonext"||u.fill==="toself")&&A.push("fills"),g("hoveron",A.join("+")||"points"),x.coerceSelectionMarkerOpacity(u,g)}},97476:function(V){"use strict";V.exports=function(e,x,P,i,L){if(x.xa&&(e.xaxis=x.xa),x.ya&&(e.yaxis=x.ya),i[L]){var C=i[L];e.a=C.a,e.b=C.b,e.c=C.c}else e.a=x.a,e.b=x.b,e.c=x.c;return e}},90404:function(V,U,e){"use strict";var x=e(54460);V.exports=function(i,L,C){var c={},y=C[L.subplot]._subplot;return c.aLabel=x.tickText(y.aaxis,i.a,!0).text,c.bLabel=x.tickText(y.baxis,i.b,!0).text,c.cLabel=x.tickText(y.caxis,i.c,!0).text,c}},26596:function(V,U,e){"use strict";var x=e(98723);V.exports=function(i,L,C,c){var y=x(i,L,C,c);if(!y||y[0].index===!1)return;var r=y[0];if(r.index===void 0){var t=1-r.y0/i.ya._length,s=i.xa._length,n=s*t/2,u=s-n;return r.x0=Math.max(Math.min(r.x0,u),n),r.x1=Math.max(Math.min(r.x1,u),n),y}var l=r.cd[r.index],f=r.trace,g=r.subplot;r.a=l.a,r.b=l.b,r.c=l.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[f.subplot]={_subplot:g};var w=f._module.formatLabels(l,f,h);r.aLabel=w.aLabel,r.bLabel=w.bLabel,r.cLabel=w.cLabel;var d=l.hi||f.hoverinfo,o=[];function v(b,M){o.push(b._hovertitle+": "+M)}if(!f.hovertemplate){var A=d.split("+");A.indexOf("all")!==-1&&(A=["a","b","c"]),A.indexOf("a")!==-1&&v(g.aaxis,r.aLabel),A.indexOf("b")!==-1&&v(g.baxis,r.bLabel),A.indexOf("c")!==-1&&v(g.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=f.hovertemplate,y}},34864:function(V,U,e){"use strict";V.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(V,U,e){"use strict";var x=e(96504);V.exports=function(i,L,C){var c=L.plotContainer;c.select(".scatterlayer").selectAll("*").remove();for(var y=L.xaxis,r=L.yaxis,t={xaxis:y,yaxis:r,plot:c,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},s=L.layers.frontplot.select("g.scatterlayer"),n=0;n<C.length;n++){var u=C[n];u.length&&(u[0].trace._xA=y,u[0].trace._yA=r)}x(i,t,C,s)}},44524:function(V,U,e){"use strict";var x=e(52904),P=e(49084),i=e(29736).axisHoverFormat,L=e(21776).Ks,C=e(2876),c=e(33816).idRegex,y=e(31780).templatedArray,r=e(92880).extendFlat,t=x.marker,s=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},s.width,{editType:"calc"}),editType:"calc"}),u=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});u.color.editType=u.cmin.editType=u.cmax.editType="style";function l(f){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:c[f],editType:"plot"}}}V.exports={dimensions:y("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},C.text,{}),hovertext:r({},C.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),marker:u,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:C.selected.marker,editType:"calc"},unselected:{marker:C.unselected.marker,editType:"calc"},opacity:C.opacity}},28888:function(V,U,e){"use strict";var x=e(24040),P=e(12704);V.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},x.register(P)},99332:function(V,U,e){"use strict";var x=e(13472),P=e(24040),i=e(5048),L=e(84888)._M,C=e(57952),c=e(79811).getFromId,y=e(54460).shouldShowZeroLine,r="splom",t={};function s(h){var w=h._fullLayout,d=P.getModule(r),o=L(h.calcdata,d)[0],v=i(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);v&&(w._hasOnlyLargeSploms&&l(h),d.plot(h,{},o))}function n(h){var w=h.calcdata,d=h._fullLayout;d._hasOnlyLargeSploms&&l(h);for(var o=0;o<w.length;o++){var v=w[o][0],A=v.trace,b=d._splomScenes[A.uid];A.type==="splom"&&b&&b.matrix&&u(h,A,b)}}function u(h,w,d){for(var o=d.matrixOptions.data.length,v=w._visibleDims,A=d.viewOpts.ranges=new Array(o),b=0;b<v.length;b++){var M=v[b],m=A[b]=new Array(4),S=c(h,w._diag[M][0]);S&&(m[0]=S.r2l(S.range[0]),m[2]=S.r2l(S.range[1]));var T=c(h,w._diag[M][1]);T&&(m[1]=T.r2l(T.range[0]),m[3]=T.r2l(T.range[1]))}d.selectBatch.length||d.unselectBatch.length?d.matrix.update({ranges:A},{ranges:A}):d.matrix.update({ranges:A})}function l(h){var w=h._fullLayout,d=w._glcanvas.data()[0].regl,o=w._splomGrid;o||(o=w._splomGrid=x(d)),o.update(f(h))}function f(h){var w=h._context.plotGlPixelRatio,d=h._fullLayout,o=d._size,v=[0,0,d.width*w,d.height*w],A={},b;function M(Y,J,ae,se,ue,K){ae*=w,se*=w,ue*=w,K*=w;var j=J[Y+"color"],ie=J[Y+"width"],W=String(j+ie);W in A?A[W].data.push(NaN,NaN,ae,se,ue,K):A[W]={data:[ae,se,ue,K],join:"rect",thickness:ie*w,color:j,viewport:v,range:v,overlay:!1}}for(b in d._splomSubplots){var m=d._plots[b],S=m.xaxis,T=m.yaxis,a=S._gridVals,E=T._gridVals,p=S._offset,k=S._length,R=T._length,B=o.b+T.domain[0]*o.h,F=-T._m,_=-F*T.r2l(T.range[0],T.calendar),O,z;if(S.showgrid)for(b=0;b<a.length;b++)O=p+S.l2p(a[b].x),M("grid",S,O,B,O,B+R);if(T.showgrid)for(b=0;b<E.length;b++)z=B+_+F*E[b].x,M("grid",T,p,z,p+k,z);y(h,S,T)&&(O=p+S.l2p(0),M("zeroline",S,O,B,O,B+R)),y(h,T,S)&&(z=B+_+0,M("zeroline",T,p,z,p+k,z))}var N=[];for(b in A)N.push(A[b]);return N}function g(h,w,d,o){var v={},A;if(o._splomScenes){for(A=0;A<h.length;A++){var b=h[A];b.type==="splom"&&(v[b.uid]=1)}for(A=0;A<d.length;A++){var M=d[A];if(!v[M.uid]){var m=o._splomScenes[M.uid];m&&m.destroy&&m.destroy(),o._splomScenes[M.uid]=null,delete o._splomScenes[M.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!w._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),C.clean(h,w,d,o)}V.exports={name:r,attr:C.attr,attrRegex:C.attrRegex,layoutAttributes:C.layoutAttributes,supplyLayoutDefaults:C.supplyLayoutDefaults,drawFramework:C.drawFramework,plot:s,drag:n,updateGrid:l,clean:g,updateFx:C.updateFx,toSVG:C.toSVG,reglPrecompiled:t}},66821:function(V,U,e){"use strict";var x=e(3400),P=e(79811),i=e(16356).calcMarkerSize,L=e(16356).calcAxisExpansion,C=e(90136),c=e(84236).markerSelection,y=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,s=e(67072).TOO_MANY_POINTS;V.exports=function(u,l){var f=l.dimensions,g=l._length,h={},w=h.cdata=[],d=h.data=[],o=l._visibleDims=[],v,A,b,M,m;function S(k,R){for(var B=k.makeCalcdata({v:R.values,vcalendar:l.calendar},"v"),F=0;F<B.length;F++)B[F]=B[F]===t?NaN:B[F];w.push(B),d.push(k.type==="log"?x.simpleMap(B,k.c2l):B)}for(v=0;v<f.length;v++)if(b=f[v],b.visible){if(M=P.getFromId(u,l._diag[v][0]),m=P.getFromId(u,l._diag[v][1]),M&&m&&M.type!==m.type){x.log("Skipping splom dimension "+v+" with conflicting axis types");continue}M?(S(M,b),m&&m.type==="category"&&(m._categories=M._categories.slice())):S(m,b),o.push(v)}C(u,l),x.extendFlat(h,y(u,l));var T=w.length,a=T*g>s,E;for(a?E=h.sizeAvg||Math.max(h.size,3):E=i(l,g),A=0;A<o.length;A++)v=o[A],b=f[v],M=P.getFromId(u,l._diag[v][0])||{},m=P.getFromId(u,l._diag[v][1])||{},L(u,l,M,m,w[A],w[A],E);var p=r(u,l);return p.matrix||(p.matrix=!0),p.matrixOptions=h,p.selectedOptions=c(u,l,l.selected),p.unselectedOptions=c(u,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},69544:function(V,U,e){"use strict";var x=e(3400),P=e(51272),i=e(44524),L=e(43028),C=e(74428),c=e(26284),y=e(80088).isOpenSymbol;V.exports=function(n,u,l,f){function g(M,m){return x.coerce(n,u,i,M,m)}var h=P(n,u,{name:"dimensions",handleItemDefaults:r}),w=g("diagonal.visible"),d=g("showupperhalf"),o=g("showlowerhalf"),v=c(u,h,"values");if(!v||!w&&!d&&!o){u.visible=!1;return}g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),C(n,u,l,f,g,{noAngleRef:!0,noStandOff:!0});var A=y(u.marker.symbol),b=L.isBubble(u);g("marker.line.width",A||b?1:0),t(n,u,f,g),x.coerceSelectionMarkerOpacity(u,g)};function r(s,n){function u(f,g){return x.coerce(s,n,i.dimensions,f,g)}u("label");var l=u("values");l&&l.length?u("visible"):n.visible=!1,u("axis.type"),u("axis.matches")}function t(s,n,u,l){var f=n.dimensions,g=f.length,h=n.showupperhalf,w=n.showlowerhalf,d=n.diagonal.visible,o,v,A=new Array(g),b=new Array(g);for(o=0;o<g;o++){var M=o?o+1:"";A[o]="x"+M,b[o]="y"+M}var m=l("xaxes",A),S=l("yaxes",b),T=n._diag=new Array(g);n._xaxes={},n._yaxes={};var a=[],E=[];function p(Y,J,ae,se){if(Y){var ue=Y.charAt(0),K=u._splomAxes[ue];if(n["_"+ue+"axes"][Y]=1,se.push(Y),!(Y in K)){var j=K[Y]={};ae&&(j.label=ae.label||"",ae.visible&&ae.axis&&(ae.axis.type&&(j.type=ae.axis.type),ae.axis.matches&&(j.matches=J)))}}}var k=!d&&!w,R=!d&&!h;for(n._axesDim={},o=0;o<g;o++){var B=f[o],F=o===0,_=o===g-1,O=F&&k||_&&R?void 0:m[o],z=F&&R||_&&k?void 0:S[o];p(O,z,B,a),p(z,O,B,E),T[o]=[O,z],n._axesDim[O]=o,n._axesDim[z]=o}for(o=0;o<a.length;o++)for(v=0;v<E.length;v++){var N=a[o]+E[v];(o>v&&h||o<v&&w||o===v&&(d||!w||!h))&&(u._splomSubplots[N]=1)}(!w||!d&&h&&w)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}},83156:function(V,U,e){"use strict";var x=e(3400),P=e(90136),i=e(84236).markerStyle;V.exports=function(C,c){var y=c.trace,r=C._fullLayout._splomScenes[y.uid];if(r){P(C,y),x.extendFlat(r.matrixOptions,i(C,y));var t=x.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(V,U){"use strict";U.getDimIndex=function(x,P){for(var i=P._id,L=i.charAt(0),C={x:0,y:1}[L],c=x._visibleDims,y=0;y<c.length;y++){var r=c[y];if(x._diag[r][C]===i)return y}return!1}},72248:function(V,U,e){"use strict";var x=e(50328),P=e(41272).calcHover,i=e(54460).getFromId,L=e(92880).extendFlat;function C(y,r,t,s,n){n||(n={});var u=(s||"").charAt(0)==="x",l=(s||"").charAt(0)==="y",f=c(y,r,t);if((u||l)&&n.hoversubplots==="axis"&&f[0])for(var g=(u?y.xa:y.ya)._subplotsWith,h=n.gd,w=L({},y),d=0;d<g.length;d++){var o=g[d];l?w.xa=i(h,o,"x"):w.ya=i(h,o,"y");var v=u||l,A=c(w,r,t,v);f=f.concat(A)}return f}function c(y,r,t,s){var n=y.cd,u=n[0].trace,l=y.scene,f=l.matrixOptions.cdata,g=y.xa,h=y.ya,w=g.c2p(r),d=h.c2p(t),o=y.distance,v=x.getDimIndex(u,g),A=x.getDimIndex(u,h);if(v===!1||A===!1)return[y];for(var b=f[v],M=f[A],m,S,T=o,a=0;a<b.length;a++)if(!(s&&a!==y.index)){var E=b[a],p=M[a],k=g.c2p(E)-w,R=h.c2p(p)-d,B=Math.sqrt(k*k+R*R);(s||B<T)&&(T=S=B,m=a)}return y.index=m,y.distance=T,y.dxy=S,m===void 0?[y]:[P(y,b,M,u)]}V.exports={hoverPoints:C}},97924:function(V,U,e){"use strict";var x=e(28888);x.basePlotModule=e(99332),V.exports=x},54840:function(V,U,e){"use strict";var x=e(55795),P=e(3400),i=e(79811),L=e(72760).selectMode;V.exports=function(y,r,t){if(t.length)for(var s=0;s<t.length;s++)C(y,t[s][0])};function C(c,y){var r=c._fullLayout,t=r._size,s=y.trace,n=y.t,u=r._splomScenes[s.uid],l=u.matrixOptions,f=l.cdata,g=r._glcanvas.data()[0].regl,h=r.dragmode,w,d,o,v,A;if(f.length!==0){l.lower=s.showupperhalf,l.upper=s.showlowerhalf,l.diagonal=s.diagonal.visible;var b=s._visibleDims,M=f.length,m=u.viewOpts={};for(m.ranges=new Array(M),m.domains=new Array(M),A=0;A<b.length;A++){o=b[A];var S=m.ranges[A]=new Array(4),T=m.domains[A]=new Array(4);w=i.getFromId(c,s._diag[o][0]),w&&(S[0]=w._rl[0],S[2]=w._rl[1],T[0]=w.domain[0],T[2]=w.domain[1]),d=i.getFromId(c,s._diag[o][1]),d&&(S[1]=d._rl[0],S[3]=d._rl[1],T[1]=d.domain[0],T[3]=d.domain[1])}var a=c._context.plotGlPixelRatio,E=t.l*a,p=t.b*a,k=t.w*a,R=t.h*a;m.viewport=[E,p,k+E,R+p],u.matrix===!0&&(u.matrix=x(g));var B=r.clickmode.indexOf("select")>-1,F=L(h)||!!s.selectedpoints||B,_=!0;if(F){var O=s._length;if(s.selectedpoints){u.selectBatch=s.selectedpoints;var z=s.selectedpoints,N={};for(o=0;o<z.length;o++)N[z[o]]=!0;var Y=[];for(o=0;o<O;o++)N[o]||Y.push(o);u.unselectBatch=Y}var J=n.xpx=new Array(M),ae=n.ypx=new Array(M);for(A=0;A<b.length;A++){if(o=b[A],w=i.getFromId(c,s._diag[o][0]),w)for(J[A]=new Array(O),v=0;v<O;v++)J[A][v]=w.c2p(f[A][v]);if(d=i.getFromId(c,s._diag[o][1]),d)for(ae[A]=new Array(O),v=0;v<O;v++)ae[A][v]=d.c2p(f[A][v])}if(u.selectBatch.length||u.unselectBatch.length){var se=P.extendFlat({},l,u.unselectedOptions,m),ue=P.extendFlat({},l,u.selectedOptions,m);u.matrix.update(se,ue),_=!1}}else n.xpx=n.ypx=null;if(_){var K=P.extendFlat({},l,m);u.matrix.update(K,null)}}}},72308:function(V,U,e){"use strict";var x=e(3400);V.exports=function(i,L){var C=i._fullLayout,c=L.uid,y=C._splomScenes;y||(y=C._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},s=y[L.uid];return s||(s=y[c]=x.extendFlat({},r,t),s.draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||x.extendFlat(s,r),s}},62500:function(V,U,e){"use strict";var x=e(3400),P=x.pushUnique,i=e(43028),L=e(50328);V.exports=function(c,y){var r=c.cd,t=r[0].trace,s=r[0].t,n=c.scene,u=n.matrixOptions.cdata,l=c.xaxis,f=c.yaxis,g=[];if(!n)return g;var h=!i.hasMarkers(t)&&!i.hasText(t);if(t.visible!==!0||h)return g;var w=L.getDimIndex(t,l),d=L.getDimIndex(t,f);if(w===!1||d===!1)return g;var o=s.xpx[w],v=s.ypx[d],A=u[w],b=u[d],M=(c.scene.selectBatch||[]).slice(),m=[];if(y!==!1&&!y.degenerate)for(var S=0;S<A.length;S++)y.contains([o[S],v[S]],null,S,c)?(g.push({pointNumber:S,x:A[S],y:b[S]}),P(M,S)):M.indexOf(S)!==-1?P(M,S):m.push(S);var T=n.matrixOptions;return!M.length&&!m.length?n.matrix.update(T,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,x.extendFlat({},T,n.selectedOptions,n.viewOpts)),n.selectBatch=M,n.unselectBatch=m,g}},90167:function(V,U,e){"use strict";var x=e(49084),P=e(29736).axisHoverFormat,i=e(21776).Ks,L=e(52948),C=e(45464),c=e(92880).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:c({},C.showlegend,{dflt:!1})};c(y,x("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){y[t]=L[t]}),y.hoverinfo=c({},C.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,V.exports=y},3832:function(V,U,e){"use strict";var x=e(3400),P=e(47128);function i(y,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=c(r.u,r._len),r._v=c(r.v,r._len),r._w=c(r.w,r._len),r._x=c(r.x,r._len),r._y=c(r.y,r._len),r._z=c(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var s=0,n,u,l;r.starts&&(n=c(r.starts.x||[]),u=c(r.starts.y||[]),l=c(r.starts.z||[]),s=Math.min(n.length,u.length,l.length)),r._startsX=n||[],r._startsY=u||[],r._startsZ=l||[];var f=0,g=1/0,h;for(h=0;h<r._len;h++){var w=r._u[h],d=r._v[h],o=r._w[h],v=Math.sqrt(w*w+d*d+o*o);f=Math.max(f,v),g=Math.min(g,v)}for(P(y,r,{vals:[g,f],containerStr:"",cLetter:"c"}),h=0;h<s;h++){var A=n[h];t.xMax=Math.max(t.xMax,A),t.xMin=Math.min(t.xMin,A);var b=u[h];t.yMax=Math.max(t.yMax,b),t.yMin=Math.min(t.yMin,b);var M=l[h];t.zMax=Math.max(t.zMax,M),t.zMin=Math.min(t.zMin,M)}r._slen=s,r._normMax=f,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(y){var r=y._x,t=y._y,s=y._z,n=y._len,u,l,f,g=-1/0,h=1/0,w=-1/0,d=1/0,o=-1/0,v=1/0,A="",b,M,m,S,T,a,E,p,k;for(n&&(S=r[0],a=t[0],p=s[0]),n>1&&(T=r[n-1],E=t[n-1],k=s[n-1]),u=0;u<n;u++)g=Math.max(g,r[u]),h=Math.min(h,r[u]),w=Math.max(w,t[u]),d=Math.min(d,t[u]),o=Math.max(o,s[u]),v=Math.min(v,s[u]),!b&&r[u]!==S&&(b=!0,A+="x"),!M&&t[u]!==a&&(M=!0,A+="y"),!m&&s[u]!==p&&(m=!0,A+="z");b||(A+="x"),M||(A+="y"),m||(A+="z");var R=C(y._x),B=C(y._y),F=C(y._z);A=A.replace("x",(S>T?"-":"+")+"x"),A=A.replace("y",(a>E?"-":"+")+"y"),A=A.replace("z",(p>k?"-":"+")+"z");var _=function(){n=0,R=[],B=[],F=[]};(!n||n<R.length*B.length*F.length)&&_();var O=function(fe){return fe==="x"?r:fe==="y"?t:s},z=function(fe){return fe==="x"?R:fe==="y"?B:F},N=function(fe){return fe[n-1]<fe[0]?-1:1},Y=O(A[1]),J=O(A[3]),ae=O(A[5]),se=z(A[1]).length,ue=z(A[3]).length,K=z(A[5]).length,j=!1,ie=function(fe,pe,Ae){return se*(ue*fe+pe)+Ae},W=N(O(A[1])),Q=N(O(A[3])),ee=N(O(A[5]));for(u=0;u<K-1;u++){for(l=0;l<ue-1;l++){for(f=0;f<se-1;f++){var $=ie(u,l,f),X=ie(u,l,f+1),oe=ie(u,l+1,f),te=ie(u+1,l,f);if((!(Y[$]*W<Y[X]*W)||!(J[$]*Q<J[oe]*Q)||!(ae[$]*ee<ae[te]*ee))&&(j=!0),j)break}if(j)break}if(j)break}return j&&(x.warn("Encountered arbitrary coordinates! Unable to input data grid."),_()),{xMin:h,yMin:d,zMin:v,xMax:g,yMax:w,zMax:o,Xs:R,Ys:B,Zs:F,len:n,fill:A}}function C(y){return x.distinctVals(y).vals}function c(y,r){if(r===void 0&&(r=y.length),x.isTypedArray(y))return y.subarray(0,r);for(var t=[],s=0;s<r;s++)t[s]=+y[s];return t}V.exports={calc:i,filter:c,processGrid:L}},25668:function(V,U,e){"use strict";var x=e(67792).gl_streamtube3d,P=x.createTubeMesh,i=e(3400),L=e(33040).parseColorScale,C=e(8932).extractOpts,c=e(52094),y={xaxis:0,yaxis:1,zaxis:2};function r(f,g){this.scene=f,this.uid=g,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(f){var g=this.scene.fullSceneLayout,h=this.scene.dataScale;function w(v,A){var b=g[A],M=h[y[A]];return b.l2c(v)/M}if(f.object===this.mesh){var d=f.data.position,o=f.data.velocity;return f.traceCoordinate=[w(d[0],"xaxis"),w(d[1],"yaxis"),w(d[2],"zaxis"),w(o[0],"xaxis"),w(o[1],"yaxis"),w(o[2],"zaxis"),f.data.intensity*this.data._normMax,f.data.divergence],f.textLabel=this.data.hovertext||this.data.text,!0}};function s(f){var g=f.length,h;return g>2?h=f.slice(1,g-1):g===2?h=[(f[0]+f[1])/2]:h=f,h}function n(f){var g=f.length;return g===1?[.5,.5]:[f[1]-f[0],f[g-1]-f[g-2]]}function u(f,g){var h=f.fullSceneLayout,w=f.dataScale,d=g._len,o={};function v(ue,K){var j=h[K],ie=w[y[K]];return i.simpleMap(ue,function(W){return j.d2l(W)*ie})}if(o.vectors=c(v(g._u,"xaxis"),v(g._v,"yaxis"),v(g._w,"zaxis"),d),!d)return{positions:[],cells:[]};var A=v(g._Xs,"xaxis"),b=v(g._Ys,"yaxis"),M=v(g._Zs,"zaxis");o.meshgrid=[A,b,M],o.gridFill=g._gridFill;var m=g._slen;if(m)o.startingPositions=c(v(g._startsX,"xaxis"),v(g._startsY,"yaxis"),v(g._startsZ,"zaxis"));else{for(var S=b[0],T=s(A),a=s(M),E=new Array(T.length*a.length),p=0,k=0;k<T.length;k++)for(var R=0;R<a.length;R++)E[p++]=[T[k],S,a[R]];o.startingPositions=E}o.colormap=L(g),o.tubeSize=g.sizeref,o.maxLength=g.maxdisplayed;var B=v(g._xbnds,"xaxis"),F=v(g._ybnds,"yaxis"),_=v(g._zbnds,"zaxis"),O=n(A),z=n(b),N=n(M),Y=[[B[0]-O[0],F[0]-z[0],_[0]-N[0]],[B[1]+O[1],F[1]+z[1],_[1]+N[1]]],J=x(o,Y),ae=C(g);J.vertexIntensityBounds=[ae.min/g._normMax,ae.max/g._normMax];var se=g.lightposition;return J.lightPosition=[se.x,se.y,se.z],J.ambient=g.lighting.ambient,J.diffuse=g.lighting.diffuse,J.specular=g.lighting.specular,J.roughness=g.lighting.roughness,J.fresnel=g.lighting.fresnel,J.opacity=g.opacity,g._pad=J.tubeScale*g.sizeref*2,J}t.update=function(f){this.data=f;var g=u(this.scene,f);this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(f,g){var h=f.glplot.gl,w=u(f,g),d=P(h,w),o=new r(f,g.uid);return o.mesh=d,o.data=g,d._trace=o,f.glplot.add(d),o}V.exports=l},54304:function(V,U,e){"use strict";var x=e(3400),P=e(27260),i=e(90167);V.exports=function(C,c,y,r){function t(h,w){return x.coerce(C,c,i,h,w)}var s=t("u"),n=t("v"),u=t("w"),l=t("x"),f=t("y"),g=t("z");if(!s||!s.length||!n||!n.length||!u||!u.length||!l||!l.length||!f||!f.length||!g||!g.length){c.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(C,c,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),c._length=null}},15436:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(x,P){return x.tubex=x.x,x.tubey=x.y,x.tubez=x.z,x.tubeu=P.traceCoordinate[3],x.tubev=P.traceCoordinate[4],x.tubew=P.traceCoordinate[5],x.norm=P.traceCoordinate[6],x.divergence=P.traceCoordinate[7],delete x.x,delete x.y,delete x.z,x},meta:{}}},424:function(V,U,e){"use strict";var x=e(45464),P=e(21776).Ks,i=e(21776).Gw,L=e(49084),C=e(86968).u,c=e(74996),y=e(27328),r=e(92880).extendFlat,t=e(98192).c;V.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},c.marker.line.color,{dflt:null}),width:r({},c.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:c.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:c.hovertext,hoverinfo:r({},x.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:y.eventDataKeys}),textfont:c.textfont,insidetextorientation:c.insidetextorientation,insidetextfont:c.insidetextfont,outsidetextfont:r({},c.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:c.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:C({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(V,U,e){"use strict";var x=e(7316);U.name="sunburst",U.plot=function(P,i,L,C){x.plotBasePlot(U.name,P,i,L,C)},U.clean=function(P,i,L,C){x.cleanBasePlot(U.name,P,i,L,C)}},3776:function(V,U,e){"use strict";var x=e(74148),P=e(38248),i=e(3400),L=e(8932).makeColorScaleFuncFromTrace,C=e(45768).makePullColorFn,c=e(45768).generateExtendedColors,y=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},s={},n={};U.calc=function(l,f){var g=l._fullLayout,h=f.ids,w=i.isArrayOrTypedArray(h),d=f.labels,o=f.parents,v=f.values,A=i.isArrayOrTypedArray(v),b=[],M={},m={},S=function(W,Q){M[W]?M[W].push(Q):M[W]=[Q],m[Q]=1},T=function(W){return W||typeof W=="number"},a=function(W){return!A||P(v[W])&&v[W]>=0},E,p,k;w?(E=Math.min(h.length,o.length),p=function(W){return T(h[W])&&a(W)},k=function(W){return String(h[W])}):(E=Math.min(d.length,o.length),p=function(W){return T(d[W])&&a(W)},k=function(W){return String(d[W])}),A&&(E=Math.min(E,v.length));for(var R=0;R<E;R++)if(p(R)){var B=k(R),F=T(o[R])?String(o[R]):"",_={i:R,id:B,pid:F,label:T(d[R])?String(d[R]):""};A&&(_.v=+v[R]),b.push(_),S(F,B)}if(M[""]){if(M[""].length>1){for(var N=i.randstr(),Y=0;Y<b.length;Y++)b[Y].pid===""&&(b[Y].pid=N);b.unshift({hasMultipleRoots:!0,id:N,pid:"",label:""})}}else{var O=[],z;for(z in M)m[z]||O.push(z);if(O.length===1)z=O[0],b.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return i.warn(["Multiple implied roots, cannot build",f.type,"hierarchy of",f.name+".","These roots include:",O.join(", ")].join(" "))}var J;try{J=x.stratify().id(function(W){return W.id}).parentId(function(W){return W.pid})(b)}catch(W){return i.warn(["Failed to build",f.type,"hierarchy of",f.name+".","Error:",W.message].join(" "))}var ae=x.hierarchy(J),se=!1;if(A)switch(f.branchvalues){case"remainder":ae.sum(function(W){return W.data.v});break;case"total":ae.each(function(W){var Q=W.data.data,ee=Q.v;if(W.children){var $=W.children.reduce(function(X,oe){return X+oe.data.data.v},0);if((Q.hasImpliedRoot||Q.hasMultipleRoots)&&(ee=$),ee<$*r)return se=!0,i.warn(["Total value for node",W.data.data.id,"of",f.name,"is smaller than the sum of its children.",`
parent value =`,ee,`
children sum =`,$].join(" "))}W.value=ee});break}else u(ae,f,{branches:f.count.indexOf("branches")!==-1,leaves:f.count.indexOf("leaves")!==-1});if(!se){f.sort&&ae.sort(function(W,Q){return Q.value-W.value});var ue,K,j=f.marker.colors||[],ie=!!j.length;return f._hasColorscale?(ie||(j=A?f.values:f._values),y(l,f,{vals:j,containerStr:"marker",cLetter:"c"}),K=L(f.marker)):ue=C(g["_"+f.type+"colormap"]),ae.each(function(W){var Q=W.data.data;Q.color=f._hasColorscale?K(j[Q.i]):ue(j[Q.i],Q.id)}),b[0].hierarchy=ae,b}},U._runCrossTraceCalc=function(l,f){var g=f._fullLayout,h=f.calcdata,w=g[l+"colorway"],d=g["_"+l+"colormap"];g["extend"+l+"colors"]&&(w=c(w,l==="icicle"?n:l==="treemap"?s:t));var o=0,v;function A(S){var T=S.data.data,a=T.id;T.color===!1&&(d[a]?T.color=d[a]:S.parent?S.parent.parent?T.color=S.parent.data.data.color:(d[a]=T.color=w[o%w.length],o++):T.color=v)}for(var b=0;b<h.length;b++){var M=h[b],m=M[0];m.trace.type===l&&m.hierarchy&&(v=m.trace.root.color,m.hierarchy.each(A))}},U.crossTraceCalc=function(l){return U._runCrossTraceCalc("sunburst",l)};function u(l,f,g){var h=0,w=l.children;if(w){for(var d=w.length,o=0;o<d;o++)h+=u(w[o],f,g);g.branches&&h++}else g.leaves&&h++;return l.value=l.data.data.value=h,f._values||(f._values=[]),f._values[l.data.data.i]=h,h}},27328:function(V){"use strict";V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(V,U,e){"use strict";var x=e(3400),P=e(424),i=e(86968).Q,L=e(31508).handleText,C=e(74174).handleMarkerDefaults,c=e(8932),y=c.hasColorscale,r=c.handleDefaults;V.exports=function(s,n,u,l){function f(A,b){return x.coerce(s,n,P,A,b)}var g=f("labels"),h=f("parents");if(!g||!g.length||!h||!h.length){n.visible=!1;return}var w=f("values");w&&w.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),C(s,n,l,f);var d=n._hasColorscale=y(s,"marker","colors")||(s.marker||{}).coloraxis;d&&r(s,n,l,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",d?1:.7);var o=f("text");f("texttemplate"),n.texttemplate||f("textinfo",x.isArrayOrTypedArray(o)?"text+label":"label"),f("hovertext"),f("hovertemplate");var v="auto";L(s,n,l,f,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("insidetextorientation"),f("sort"),f("rotation"),f("root.color"),i(n,l,f),n._length=null}},60404:function(V,U,e){"use strict";var x=e(43616),P=e(76308);V.exports=function(L,C,c,y,r){var t=C.data.data,s=t.i,n=r||t.color;if(s>=0){C.i=t.i;var u=c.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=n,C.color=n):(u.color=n,C.color=n),x.pointStyle(L,c,y,C)}else P.fill(L,n)}},45716:function(V,U,e){"use strict";var x=e(33428),P=e(24040),i=e(10624).appendArrayPointValue,L=e(93024),C=e(3400),c=e(95924),y=e(78176),r=e(69656),t=r.formatPieValue;V.exports=function(u,l,f,g,h){var w=g[0],d=w.trace,o=w.hierarchy,v=d.type==="sunburst",A=d.type==="treemap"||d.type==="icicle";"_hasHoverLabel"in d||(d._hasHoverLabel=!1),"_hasHoverEvent"in d||(d._hasHoverEvent=!1);var b=function(S){var T=f._fullLayout;if(!(f._dragging||T.hovermode===!1)){var a=f._fullData[d.index],E=S.data.data,p=E.i,k=y.isHierarchyRoot(S),R=y.getParent(o,S),B=y.getValue(S),F=function(X){return C.castOption(a,p,X)},_=F("hovertemplate"),O=L.castHoverinfo(a,T,p),z=T.separators,N;if(_||O&&O!=="none"&&O!=="skip"){var Y,J;v&&(Y=w.cx+S.pxmid[0]*(1-S.rInscribed),J=w.cy+S.pxmid[1]*(1-S.rInscribed)),A&&(Y=S._hoverX,J=S._hoverY);var ae={},se=[],ue=[],K=function(X){return se.indexOf(X)!==-1};O&&(se=O==="all"?a._module.attributes.hoverinfo.flags:O.split("+")),ae.label=E.label,K("label")&&ae.label&&ue.push(ae.label),E.hasOwnProperty("v")&&(ae.value=E.v,ae.valueLabel=t(ae.value,z),K("value")&&ue.push(ae.valueLabel)),ae.currentPath=S.currentPath=y.getPath(S.data),K("current path")&&!k&&ue.push(ae.currentPath);var j,ie=[],W=function(){ie.indexOf(j)===-1&&(ue.push(j),ie.push(j))};ae.percentParent=S.percentParent=B/y.getValue(R),ae.parent=S.parentString=y.getPtLabel(R),K("percent parent")&&(j=y.formatPercent(ae.percentParent,z)+" of "+ae.parent,W()),ae.percentEntry=S.percentEntry=B/y.getValue(l),ae.entry=S.entry=y.getPtLabel(l),K("percent entry")&&!k&&!S.onPathbar&&(j=y.formatPercent(ae.percentEntry,z)+" of "+ae.entry,W()),ae.percentRoot=S.percentRoot=B/y.getValue(o),ae.root=S.root=y.getPtLabel(o),K("percent root")&&!k&&(j=y.formatPercent(ae.percentRoot,z)+" of "+ae.root,W()),ae.text=F("hovertext")||F("text"),K("text")&&(j=ae.text,C.isValidTextValue(j)&&ue.push(j)),N=[s(S,a,h.eventDataKeys)];var Q={trace:a,y:J,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:ue.join("<br>"),name:_||K("name")?a.name:void 0,color:F("hoverlabel.bgcolor")||E.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:_,hovertemplateLabels:ae,eventData:N};v&&(Q.x0=Y-S.rInscribed*S.rpx1,Q.x1=Y+S.rInscribed*S.rpx1,Q.idealAlign=S.pxmid[0]<0?"left":"right"),A&&(Q.x=Y,Q.idealAlign=Y<0?"left":"right");var ee=[];L.loneHover(Q,{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:f,inOut_bbox:ee}),N[0].bbox=ee[0],d._hasHoverLabel=!0}if(A){var $=u.select("path.surface");h.styleOne($,S,a,f,{hovered:!0})}d._hasHoverEvent=!0,f.emit("plotly_hover",{points:N||[s(S,a,h.eventDataKeys)],event:x.event})}},M=function(S){var T=f._fullLayout,a=f._fullData[d.index],E=x.select(this).datum();if(d._hasHoverEvent&&(S.originalEvent=x.event,f.emit("plotly_unhover",{points:[s(E,a,h.eventDataKeys)],event:x.event}),d._hasHoverEvent=!1),d._hasHoverLabel&&(L.loneUnhover(T._hoverlayer.node()),d._hasHoverLabel=!1),A){var p=u.select("path.surface");h.styleOne(p,E,a,f,{hovered:!1})}},m=function(S){var T=f._fullLayout,a=f._fullData[d.index],E=v&&(y.isHierarchyRoot(S)||y.isLeaf(S)),p=y.getPtId(S),k=y.isEntry(S)?y.findEntryWithChild(o,p):y.findEntryWithLevel(o,p),R=y.getPtId(k),B={points:[s(S,a,h.eventDataKeys)],event:x.event};E||(B.nextLevel=R);var F=c.triggerHandler(f,"plotly_"+d.type+"click",B);if(F!==!1&&T.hovermode&&(f._hoverdata=[s(S,a,h.eventDataKeys)],L.click(f,x.event)),!E&&F!==!1&&!f._dragging&&!f._transitioning){P.call("_storeDirectGUIEdit",a,T._tracePreGUI[a.uid],{level:a.level});var _={data:[{level:R}],traces:[d.index]},O={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(T._hoverlayer.node()),P.call("animate",f,_,O)}};u.on("mouseover",b),u.on("mouseout",M),u.on("click",m)};function s(n,u,l){for(var f=n.data.data,g={curveNumber:u.index,pointNumber:f.i,data:u._input,fullData:u},h=0;h<l.length;h++){var w=l[h];w in n&&(g[w]=n[w])}return"parentString"in n&&!y.isHierarchyRoot(n)&&(g.parent=n.parentString),i(g,u,f.i),g}},78176:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(93972),L=e(69656);U.findEntryWithLevel=function(r,t){var s;return t&&r.eachAfter(function(n){if(U.getPtId(n)===t)return s=n.copy()}),s||r},U.findEntryWithChild=function(r,t){var s;return r.eachAfter(function(n){for(var u=n.children||[],l=0;l<u.length;l++){var f=u[l];if(U.getPtId(f)===t)return s=n.copy()}}),s||r},U.isEntry=function(r){return!r.parent},U.isLeaf=function(r){return!r.children},U.getPtId=function(r){return r.data.data.id},U.getPtLabel=function(r){return r.data.data.label},U.getValue=function(r){return r.value},U.isHierarchyRoot=function(r){return y(r)===""},U.setSliceCursor=function(r,t,s){var n=s.isTransitioning;if(!n){var u=r.datum();n=s.hideOnRoot&&U.isHierarchyRoot(u)||s.hideOnLeaves&&U.isLeaf(u)}i(r,n?null:"pointer")};function C(r,t,s){return{color:U.getOutsideTextFontKey("color",r,t,s),family:U.getOutsideTextFontKey("family",r,t,s),size:U.getOutsideTextFontKey("size",r,t,s)}}function c(r,t,s,n){var u=(n||{}).onPathbar,l=t.data.data,f=l.i,g=x.castOption(r,f,(u?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=x.castOption(r._input,f,"textfont.color")),{color:g||P.contrast(l.color),family:U.getInsideTextFontKey("family",r,t,s,n),size:U.getInsideTextFontKey("size",r,t,s,n)}}U.getInsideTextFontKey=function(r,t,s,n,u){var l=(u||{}).onPathbar,f=l?"pathbar.textfont":"insidetextfont",g=s.data.data.i;return x.castOption(t,g,f+"."+r)||x.castOption(t,g,"textfont."+r)||n.size},U.getOutsideTextFontKey=function(r,t,s,n){var u=s.data.data.i;return x.castOption(t,u,"outsidetextfont."+r)||x.castOption(t,u,"textfont."+r)||n.size},U.isOutsideText=function(r,t){return!r._hasColorscale&&U.isHierarchyRoot(t)},U.determineTextFont=function(r,t,s,n){return U.isOutsideText(r,t)?C(r,t,s):c(r,t,s,n)},U.hasTransition=function(r){return!!(r&&r.duration>0)},U.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},U.isHeader=function(r,t){return!(U.isLeaf(r)||r.depth===t._maxDepth-1)};function y(r){return r.data.data.pid}U.getParent=function(r,t){return U.findEntryWithLevel(r,y(t))},U.listPath=function(r,t){var s=r.parent;if(!s)return[];var n=t?[s.data[t]]:[s];return U.listPath(s,t).concat(n)},U.getPath=function(r){return U.listPath(r,"label").join("/")+"/"},U.formatValue=L.formatPieValue,U.formatPercent=function(r,t){var s=x.formatPercent(r,0);return s==="0%"&&(s=L.formatPiePercent(r,t)),s}},5621:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(V){"use strict";V.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(V,U,e){"use strict";var x=e(3400),P=e(84920);V.exports=function(L,C){function c(y,r){return x.coerce(L,C,P,y,r)}c("sunburstcolorway",C.colorway),c("extendsunburstcolors")}},96488:function(V,U,e){"use strict";var x=e(33428),P=e(74148),i=e(67756).qy,L=e(43616),C=e(3400),c=e(72736),y=e(82744),r=y.recordMinTextSize,t=y.clearMinTextSize,s=e(37820),n=e(69656).getRotationAngle,u=s.computeTransform,l=s.transformInsideText,f=e(85676).styleOne,g=e(60100).resizeText,h=e(45716),w=e(27328),d=e(78176);U.plot=function(m,S,T,a){var E=m._fullLayout,p=E._sunburstlayer,k,R,B=!T,F=!E.uniformtext.mode&&d.hasTransition(T);if(t("sunburst",E),k=p.selectAll("g.trace.sunburst").data(S,function(O){return O[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),F){a&&(R=a());var _=x.transition().duration(T.duration).ease(T.easing).each("end",function(){R&&R()}).each("interrupt",function(){R&&R()});_.each(function(){p.selectAll("g.trace").each(function(O){o(m,O,this,T)})})}else k.each(function(O){o(m,O,this,T)}),E.uniformtext.mode&&g(m,E._sunburstlayer.selectAll(".trace"),"sunburst");B&&k.exit().remove()};function o(m,S,T,a){var E=m._context.staticPlot,p=m._fullLayout,k=!p.uniformtext.mode&&d.hasTransition(a),R=x.select(T),B=R.selectAll("g.slice"),F=S[0],_=F.trace,O=F.hierarchy,z=d.findEntryWithLevel(O,_.level),N=d.getMaxDepth(_),Y=p._size,J=_.domain,ae=Y.w*(J.x[1]-J.x[0]),se=Y.h*(J.y[1]-J.y[0]),ue=.5*Math.min(ae,se),K=F.cx=Y.l+Y.w*(J.x[1]+J.x[0])/2,j=F.cy=Y.t+Y.h*(1-J.y[0])-se/2;if(!z)return B.remove();var ie=null,W={};k&&B.each(function(Ye){W[d.getPtId(Ye)]={rpx0:Ye.rpx0,rpx1:Ye.rpx1,x0:Ye.x0,x1:Ye.x1,transform:Ye.transform},!ie&&d.isEntry(Ye)&&(ie=Ye)});var Q=v(z).descendants(),ee=z.height+1,$=0,X=N;F.hasMultipleRoots&&d.isHierarchyRoot(z)&&(Q=Q.slice(1),ee-=1,$=1,X+=1),Q=Q.filter(function(Ye){return Ye.y1<=X});var oe=n(_.rotation);oe&&Q.forEach(function(Ye){Ye.x0+=oe,Ye.x1+=oe});var te=Math.min(ee,N),fe=function(Ye){return(Ye-$)/te*ue},pe=function(Ye,lt){return[Ye*Math.cos(lt),-Ye*Math.sin(lt)]},Ae=function(Ye){return C.pathAnnulus(Ye.rpx0,Ye.rpx1,Ye.x0,Ye.x1,K,j)},be=function(Ye){return K+b(Ye)[0]*(Ye.transform.rCenter||0)+(Ye.transform.x||0)},Pe=function(Ye){return j+b(Ye)[1]*(Ye.transform.rCenter||0)+(Ye.transform.y||0)};B=B.data(Q,d.getPtId),B.enter().append("g").classed("slice",!0),k?B.exit().transition().each(function(){var Ye=x.select(this),lt=Ye.select("path.surface");lt.transition().attrTween("d",function(He){var Fe=De(He);return function(nt){return Ae(Fe(nt))}});var yt=Ye.select("g.slicetext");yt.attr("opacity",0)}).remove():B.exit().remove(),B.order();var me=null;if(k&&ie){var Ee=d.getPtId(ie);B.each(function(Ye){me===null&&d.getPtId(Ye)===Ee&&(me=Ye.x1)})}var xe=B;k&&(xe=xe.transition().each("end",function(){var Ye=x.select(this);d.setSliceCursor(Ye,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(Ye){var lt=x.select(this),yt=C.ensureSingle(lt,"path","surface",function(ht){ht.style("pointer-events",E?"none":"all")});Ye.rpx0=fe(Ye.y0),Ye.rpx1=fe(Ye.y1),Ye.xmid=(Ye.x0+Ye.x1)/2,Ye.pxmid=pe(Ye.rpx1,Ye.xmid),Ye.midangle=-(Ye.xmid-Math.PI/2),Ye.startangle=-(Ye.x0-Math.PI/2),Ye.stopangle=-(Ye.x1-Math.PI/2),Ye.halfangle=.5*Math.min(C.angleDelta(Ye.x0,Ye.x1)||Math.PI,Math.PI),Ye.ring=1-Ye.rpx0/Ye.rpx1,Ye.rInscribed=A(Ye,_),k?yt.transition().attrTween("d",function(ht){var mt=Ve(ht);return function(tt){return Ae(mt(tt))}}):yt.attr("d",Ae),lt.call(h,z,m,S,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),yt.call(f,Ye,_,m);var He=C.ensureSingle(lt,"g","slicetext"),Fe=C.ensureSingle(He,"text","",function(ht){ht.attr("data-notex",1)}),nt=C.ensureUniformFontSize(m,d.determineTextFont(_,Ye,p.font));Fe.text(U.formatSliceLabel(Ye,z,_,S,p)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,nt).call(c.convertToTspans,m);var ot=L.bBox(Fe.node());Ye.transform=l(ot,Ye,F),Ye.transform.targetX=be(Ye),Ye.transform.targetY=Pe(Ye);var ct=function(ht,mt){var tt=ht.transform;return u(tt,mt),tt.fontSize=nt.size,r(_.type,tt,p),C.getTextTransform(tt)};k?Fe.transition().attrTween("transform",function(ht){var mt=Ze(ht);return function(tt){return ct(mt(tt),ot)}}):Fe.attr("transform",ct(Ye,ot))});function De(Ye){var lt=d.getPtId(Ye),yt=W[lt],He=W[d.getPtId(z)],Fe;if(He){var nt=(Ye.x1>He.x1?2*Math.PI:0)+oe;Fe=Ye.rpx1<He.rpx1?{x0:Ye.x0,x1:Ye.x1,rpx0:0,rpx1:0}:{x0:nt,x1:nt,rpx0:Ye.rpx0,rpx1:Ye.rpx1}}else{var ot,ct=d.getPtId(Ye.parent);B.each(function(Ge){if(d.getPtId(Ge)===ct)return ot=Ge});var ht=ot.children,mt;ht.forEach(function(Ge,Je){if(d.getPtId(Ge)===lt)return mt=Je});var tt=ht.length,Re=i(ot.x0,ot.x1);Fe={rpx0:ue,rpx1:ue,x0:Re(mt/tt),x1:Re((mt+1)/tt)}}return i(yt,Fe)}function Ve(Ye){var lt=W[d.getPtId(Ye)],yt,He={x0:Ye.x0,x1:Ye.x1,rpx0:Ye.rpx0,rpx1:Ye.rpx1};if(lt)yt=lt;else if(ie)if(Ye.parent)if(me){var Fe=(Ye.x1>me?2*Math.PI:0)+oe;yt={x0:Fe,x1:Fe}}else yt={rpx0:ue,rpx1:ue},C.extendFlat(yt,ke(Ye));else yt={rpx0:0,rpx1:0};else yt={x0:oe,x1:oe};return i(yt,He)}function Ze(Ye){var lt=W[d.getPtId(Ye)],yt,He=Ye.transform;if(lt)yt=lt;else if(yt={rpx1:Ye.rpx1,transform:{textPosAngle:He.textPosAngle,scale:0,rotate:He.rotate,rCenter:He.rCenter,x:He.x,y:He.y}},ie)if(Ye.parent)if(me){var Fe=Ye.x1>me?2*Math.PI:0;yt.x0=yt.x1=Fe}else C.extendFlat(yt,ke(Ye));else yt.x0=yt.x1=oe;else yt.x0=yt.x1=oe;var nt=i(yt.transform.textPosAngle,Ye.transform.textPosAngle),ot=i(yt.rpx1,Ye.rpx1),ct=i(yt.x0,Ye.x0),ht=i(yt.x1,Ye.x1),mt=i(yt.transform.scale,He.scale),tt=i(yt.transform.rotate,He.rotate),Re=He.rCenter===0?3:yt.transform.rCenter===0?1/3:1,Ge=i(yt.transform.rCenter,He.rCenter),Je=function(Xe){return Ge(Math.pow(Xe,Re))};return function(Xe){var Oe=ot(Xe),Ne=ct(Xe),ze=ht(Xe),et=Je(Xe),Le=pe(Oe,(Ne+ze)/2),Te=nt(Xe),ye={pxmid:Le,rpx1:Oe,transform:{textPosAngle:Te,rCenter:et,x:He.x,y:He.y}};return r(_.type,He,p),{transform:{targetX:be(ye),targetY:Pe(ye),scale:mt(Xe),rotate:tt(Xe),rCenter:et}}}}function ke(Ye){var lt=Ye.parent,yt=W[d.getPtId(lt)],He={};if(yt){var Fe=lt.children,nt=Fe.indexOf(Ye),ot=Fe.length,ct=i(yt.x0,yt.x1);He.x0=ct(nt/ot),He.x1=ct(nt/ot)}else He.x0=He.x1=0;return He}}function v(m){return P.partition().size([2*Math.PI,m.height+1])(m)}U.formatSliceLabel=function(m,S,T,a,E){var p=T.texttemplate,k=T.textinfo;if(!p&&(!k||k==="none"))return"";var R=E.separators,B=a[0],F=m.data.data,_=B.hierarchy,O=d.isHierarchyRoot(m),z=d.getParent(_,m),N=d.getValue(m);if(!p){var Y=k.split("+"),J=function($){return Y.indexOf($)!==-1},ae=[],se;if(J("label")&&F.label&&ae.push(F.label),F.hasOwnProperty("v")&&J("value")&&ae.push(d.formatValue(F.v,R)),!O){J("current path")&&ae.push(d.getPath(m.data));var ue=0;J("percent parent")&&ue++,J("percent entry")&&ue++,J("percent root")&&ue++;var K=ue>1;if(ue){var j,ie=function($){se=d.formatPercent(j,R),K&&(se+=" of "+$),ae.push(se)};J("percent parent")&&!O&&(j=N/d.getValue(z),ie("parent")),J("percent entry")&&(j=N/d.getValue(S),ie("entry")),J("percent root")&&(j=N/d.getValue(_),ie("root"))}}return J("text")&&(se=C.castOption(T,F.i,"text"),C.isValidTextValue(se)&&ae.push(se)),ae.join("<br>")}var W=C.castOption(T,F.i,"texttemplate");if(!W)return"";var Q={};F.label&&(Q.label=F.label),F.hasOwnProperty("v")&&(Q.value=F.v,Q.valueLabel=d.formatValue(F.v,R)),Q.currentPath=d.getPath(m.data),O||(Q.percentParent=N/d.getValue(z),Q.percentParentLabel=d.formatPercent(Q.percentParent,R),Q.parent=d.getPtLabel(z)),Q.percentEntry=N/d.getValue(S),Q.percentEntryLabel=d.formatPercent(Q.percentEntry,R),Q.entry=d.getPtLabel(S),Q.percentRoot=N/d.getValue(_),Q.percentRootLabel=d.formatPercent(Q.percentRoot,R),Q.root=d.getPtLabel(_),F.hasOwnProperty("color")&&(Q.color=F.color);var ee=C.castOption(T,F.i,"text");return(C.isValidTextValue(ee)||ee==="")&&(Q.text=ee),Q.customdata=C.castOption(T,F.i,"customdata"),C.texttemplateString(W,Q,E._d3locale,Q,T._meta||{})};function A(m){return m.rpx0===0&&C.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function b(m){return M(m.rpx1,m.transform.textPosAngle)}function M(m,S){return[m*Math.sin(S),-m*Math.cos(S)]}},85676:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(3400),L=e(82744).resizeText,C=e(60404);function c(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(s){var n=x.select(this),u=s[0],l=u.trace;n.style("opacity",l.opacity),n.selectAll("path.surface").each(function(f){x.select(this).call(y,f,l,r)})})}function y(r,t,s,n){var u=t.data.data,l=!t.children,f=u.i,g=i.castOption(s,f,"marker.line.color")||P.defaultLine,h=i.castOption(s,f,"marker.line.width")||0;r.call(C,t,s,n).style("stroke-width",h).call(P.stroke,g).style("opacity",l?s.leaf.opacity:null)}V.exports={style:c,styleOne:y}},16716:function(V,U,e){"use strict";var x=e(76308),P=e(49084),i=e(29736).axisHoverFormat,L=e(21776).Ks,C=e(45464),c=e(92880).extendFlat,y=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r("x"),y:r("y"),z:r("z")},color:{valType:"color",dflt:x.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:x.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=V.exports=y(c({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t("x"),y:t("y"),z:t("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:c({},P.zauto,{}),zmin:c({},P.zmin,{}),zmax:c({},P.zmax,{})},hoverinfo:c({},C.hoverinfo),showlegend:c({},C.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},56576:function(V,U,e){"use strict";var x=e(47128);V.exports=function(i,L){L.surfacecolor?x(i,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):x(i,L,{vals:L.z,containerStr:"",cLetter:"c"})}},79164:function(V,U,e){"use strict";var x=e(67792).gl_surface3d,P=e(67792).ndarray,i=e(67792).ndarray_linear_interpolate.d2,L=e(70448),C=e(11240),c=e(3400).isArrayOrTypedArray,y=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function s(a,E,p){this.scene=a,this.uid=p,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=s.prototype;n.getXat=function(a,E,p,k){var R=c(this.data.x)?c(this.data.x[0])?this.data.x[E][a]:this.data.x[a]:a;return p===void 0?R:k.d2l(R,0,p)},n.getYat=function(a,E,p,k){var R=c(this.data.y)?c(this.data.y[0])?this.data.y[E][a]:this.data.y[E]:E;return p===void 0?R:k.d2l(R,0,p)},n.getZat=function(a,E,p,k){var R=this.data.z[E][a];return R===null&&this.data.connectgaps&&this.data._interpolatedZ&&(R=this.data._interpolatedZ[E][a]),p===void 0?R:k.d2l(R,0,p)},n.handlePick=function(a){if(a.object===this.surface){var E=(a.data.index[0]-1)/this.dataScaleX-1,p=(a.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),R=Math.max(Math.min(Math.round(p),this.data._ylength-1),0);a.index=[k,R],a.traceCoordinate=[this.getXat(k,R),this.getYat(k,R),this.getZat(k,R)],a.dataCoordinate=[this.getXat(k,R,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,R,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,R,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var B=0;B<3;B++){var F=a.dataCoordinate[B];F!=null&&(a.dataCoordinate[B]*=this.scene.dataScale[B])}var _=this.data.hovertext||this.data.text;return c(_)&&_[R]&&_[R][k]!==void 0?a.textLabel=_[R][k]:_?a.textLabel=_:a.textLabel="",a.data.dataCoordinate=a.dataCoordinate.slice(),this.surface.highlight(a.data),this.scene.glplot.spikes.position=a.dataCoordinate,!0}};function u(a){var E=a[0].rgb,p=a[a.length-1].rgb;return E[0]===p[0]&&E[1]===p[1]&&E[2]===p[2]&&E[3]===p[3]}var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function f(a,E){if(a<E)return 0;for(var p=0;Math.floor(a%E)===0;)a/=E,p++;return p}function g(a){for(var E=[],p=0;p<l.length;p++){var k=l[p];E.push(f(a,k))}return E}function h(a){for(var E=g(a),p=a,k=0;k<l.length;k++)if(E[k]>0){p=l[k];break}return p}function w(a,E){if(!(a<1||E<1)){for(var p=g(a),k=g(E),R=1,B=0;B<l.length;B++)R*=Math.pow(l[B],Math.max(p[B],k[B]));return R}}function d(a){if(a.length!==0){for(var E=1,p=0;p<a.length;p++)E=w(E,a[p]);return E}}n.calcXnums=function(a){var E,p=[];for(E=1;E<a;E++){var k=this.getXat(E-1,0),R=this.getXat(E,0);R!==k&&k!==void 0&&k!==null&&R!==void 0&&R!==null?p[E-1]=Math.abs(R-k):p[E-1]=0}var B=0;for(E=1;E<a;E++)B+=p[E-1];for(E=1;E<a;E++)p[E-1]===0?p[E-1]=1:p[E-1]=Math.round(B/p[E-1]);return p},n.calcYnums=function(a){var E,p=[];for(E=1;E<a;E++){var k=this.getYat(0,E-1),R=this.getYat(0,E);R!==k&&k!==void 0&&k!==null&&R!==void 0&&R!==null?p[E-1]=Math.abs(R-k):p[E-1]=0}var B=0;for(E=1;E<a;E++)B+=p[E-1];for(E=1;E<a;E++)p[E-1]===0?p[E-1]=1:p[E-1]=Math.round(B/p[E-1]);return p};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],v=o[9],A=o[13];n.estimateScale=function(a,E){for(var p=E===0?this.calcXnums(a):this.calcYnums(a),k=1+d(p);k<v;)k*=2;for(;k>A;)k--,k/=h(k),k++,k<v&&(k=A);var R=Math.round(k/a);return R>1?R:1};function b(a,E,p){var k=p[8]+p[2]*E[0]+p[5]*E[1];return a[0]=(p[6]+p[0]*E[0]+p[3]*E[1])/k,a[1]=(p[7]+p[1]*E[0]+p[4]*E[1])/k,a}function M(a,E,p){return m(a,E,b,p),a}function m(a,E,p,k){for(var R=[0,0],B=a.shape[0],F=a.shape[1],_=0;_<B;_++)for(var O=0;O<F;O++)p(R,[_,O],k),a.set(_,O,i(E,R[0],R[1]));return a}n.refineCoords=function(a){for(var E=this.dataScaleX,p=this.dataScaleY,k=a[0].shape[0],R=a[0].shape[1],B=Math.floor(a[0].shape[0]*E+1)|0,F=Math.floor(a[0].shape[1]*p+1)|0,_=1+k+1,O=1+R+1,z=P(new Float32Array(_*O),[_,O]),N=[1/E,0,0,0,1/p,0,0,0,1],Y=0;Y<a.length;++Y){this.surface.padField(z,a[Y]);var J=P(new Float32Array(B*F),[B,F]);M(J,z,N),a[Y]=J}};function S(a,E){for(var p=!1,k=0;k<a.length;k++)if(E===a[k]){p=!0;break}p===!1&&a.push(E)}n.setContourLevels=function(){var a=[[],[],[]],E=[!1,!1,!1],p=!1,k,R,B;for(k=0;k<3;++k)if(this.showContour[k]&&(p=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(E[k]=!0,R=this.contourStart[k];R<this.contourEnd[k];R+=this.contourSize[k])B=R*this.scene.dataScale[k],S(a[k],B);if(p){var F=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(F[k]=E[k]?a[k]:this.scene.contourLevels[k]);this.surface.update({levels:F})}},n.update=function(a){var E=this.scene,p=E.fullSceneLayout,k=this.surface,R=y(a),B=E.dataScale,F=a.z[0].length,_=a._ylength,O=E.contourLevels;this.data=a;var z,N,Y,J,ae=[];for(z=0;z<3;z++)for(ae[z]=[],N=0;N<F;N++)ae[z][N]=[];for(N=0;N<F;N++)for(Y=0;Y<_;Y++)ae[0][N][Y]=this.getXat(N,Y,a.xcalendar,p.xaxis),ae[1][N][Y]=this.getYat(N,Y,a.ycalendar,p.yaxis),ae[2][N][Y]=this.getZat(N,Y,a.zcalendar,p.zaxis);if(a.connectgaps)for(a._emptypoints=C(ae[2]),L(ae[2],a._emptypoints),a._interpolatedZ=[],N=0;N<F;N++)for(a._interpolatedZ[N]=[],Y=0;Y<_;Y++)a._interpolatedZ[N][Y]=ae[2][N][Y];for(z=0;z<3;z++)for(N=0;N<F;N++)for(Y=0;Y<_;Y++)J=ae[z][N][Y],J==null?ae[z][N][Y]=NaN:J=ae[z][N][Y]*=B[z];for(z=0;z<3;z++)for(N=0;N<F;N++)for(Y=0;Y<_;Y++)J=ae[z][N][Y],J!=null&&(this.minValues[z]>J&&(this.minValues[z]=J),this.maxValues[z]<J&&(this.maxValues[z]=J));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(N=0;N<F;N++)for(Y=0;Y<_;Y++)J=ae[z][N][Y],J!=null&&(ae[z][N][Y]-=this.objectOffset[z]);var se=[P(new Float32Array(F*_),[F,_]),P(new Float32Array(F*_),[F,_]),P(new Float32Array(F*_),[F,_])];for(z=0;z<3;z++)for(N=0;N<F;N++)for(Y=0;Y<_;Y++)se[z].set(N,Y,ae[z][N][Y]);ae=[];var ue={colormap:R,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!a.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:a.opacityscale,opacity:a.opacity},K=t(a);if(ue.intensityBounds=[K.min,K.max],a.surfacecolor){var j=P(new Float32Array(F*_),[F,_]);for(N=0;N<F;N++)for(Y=0;Y<_;Y++)j.set(N,Y,a.surfacecolor[Y][N]);se.push(j)}else ue.intensityBounds[0]*=B[2],ue.intensityBounds[1]*=B[2];(A<se[0].shape[0]||A<se[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(se[0].shape[0],0),this.dataScaleY=this.estimateScale(se[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(se)),a.surfacecolor&&(ue.intensity=se.pop());var ie=[!0,!0,!0],W=["x","y","z"];for(z=0;z<3;++z){var Q=a.contours[W[z]];ie[z]=Q.highlight,ue.showContour[z]=Q.show||Q.highlight,ue.showContour[z]&&(ue.contourProject[z]=[Q.project.x,Q.project.y,Q.project.z],Q.show?(this.showContour[z]=!0,ue.levels[z]=O[z],k.highlightColor[z]=ue.contourColor[z]=r(Q.color),Q.usecolormap?k.highlightTint[z]=ue.contourTint[z]=0:k.highlightTint[z]=ue.contourTint[z]=1,ue.contourWidth[z]=Q.width,this.contourStart[z]=Q.start,this.contourEnd[z]=Q.end,this.contourSize[z]=Q.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),Q.highlight&&(ue.dynamicColor[z]=r(Q.highlightcolor),ue.dynamicWidth[z]=Q.highlightwidth))}u(R)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=se,k.update(ue),k.visible=a.visible,k.enableDynamic=ie,k.enableHighlight=ie,k.snapToData=!0,"lighting"in a&&(k.ambientLight=a.lighting.ambient,k.diffuseLight=a.lighting.diffuse,k.specularLight=a.lighting.specular,k.roughness=a.lighting.roughness,k.fresnel=a.lighting.fresnel),"lightposition"in a&&(k.lightPosition=[a.lightposition.x,a.lightposition.y,a.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function T(a,E){var p=a.glplot.gl,k=x({gl:p}),R=new s(a,k,E.uid);return k._trace=R,R.update(E),a.glplot.add(k),R}V.exports=T},60192:function(V,U,e){"use strict";var x=e(24040),P=e(3400),i=e(27260),L=e(16716),C=.1;function c(n,u){for(var l=[],f=32,g=0;g<f;g++){var h=g/(f-1),w=u+(1-u)*(1-Math.pow(Math.sin(n*h*Math.PI),2));l.push([h,Math.max(0,Math.min(1,w))])}return l}function y(n){var u=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var l=0;l<n.length;l++){var f=n[l];if(f.length!==2||+f[0]<u)return!1;u=+f[0]}return!0}function r(n,u,l,f){var g,h;function w(a,E){return P.coerce(n,u,L,a,E)}var d=w("x"),o=w("y"),v=w("z");if(!v||!v.length||d&&d.length<1||o&&o.length<1){u.visible=!1;return}u._xlength=Array.isArray(d)&&P.isArrayOrTypedArray(d[0])?v.length:v[0].length,u._ylength=v.length;var A=x.getComponentMethod("calendars","handleTraceDefaults");A(n,u,["x","y","z"],f),w("text"),w("hovertext"),w("hovertemplate"),w("xhoverformat"),w("yhoverformat"),w("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(a){w(a)});var b=w("surfacecolor"),M=["x","y","z"];for(g=0;g<3;++g){var m="contours."+M[g],S=w(m+".show"),T=w(m+".highlight");if(S||T)for(h=0;h<3;++h)w(m+".project."+M[h]);S&&(w(m+".color"),w(m+".width"),w(m+".usecolormap")),T&&(w(m+".highlightcolor"),w(m+".highlightwidth")),w(m+".start"),w(m+".end"),w(m+".size")}b||(s(n,"zmin","cmin"),s(n,"zmax","cmax"),s(n,"zauto","cauto")),i(n,u,f,w,{prefix:"",cLetter:"c"}),t(n,u,f,w),u._length=null}function t(n,u,l,f){var g=f("opacityscale");g==="max"?u.opacityscale=[[0,C],[1,1]]:g==="min"?u.opacityscale=[[0,1],[1,C]]:g==="extremes"?u.opacityscale=c(1,C):y(g)||(u.opacityscale=void 0)}function s(n,u,l){u in n&&!(l in n)&&(n[l]=n[u])}V.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(V,U,e){"use strict";V.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(V,U,e){"use strict";var x=e(13916),P=e(92880).extendFlat,i=e(67824).overrideAll,L=e(25376),C=e(86968).u,c=e(29736).descriptionOnlyNumbers,y=V.exports=i({domain:C({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:c("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},x.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:c("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},x.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");y.transforms=void 0},85852:function(V,U,e){"use strict";var x=e(84888)._M,P=e(24752),i="table";U.name=i,U.plot=function(L){var C=x(L.calcdata,i)[0];C.length&&P(L,C)},U.clean=function(L,C,c,y){var r=y._has&&y._has(i),t=C._has&&C._has(i);r&&!t&&y._paperdiv.selectAll(".table").remove()}},39312:function(V,U,e){"use strict";var x=e(71688).wrap;V.exports=function(){return x({})}},23536:function(V){"use strict";V.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(V,U,e){"use strict";var x=e(23536),P=e(92880).extendFlat,i=e(38248),L=e(38116).isTypedArray,C=e(38116).isArrayOrTypedArray;V.exports=function(g,h){var w=r(h.cells.values),d=function(J){return J.slice(h.header.values.length,J.length)},o=r(h.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var v=o.concat(d(w).map(function(){return t((o[0]||[""]).length)})),A=h.domain,b=Math.floor(g._fullLayout._size.w*(A.x[1]-A.x[0])),M=Math.floor(g._fullLayout._size.h*(A.y[1]-A.y[0])),m=h.header.values.length?v[0].map(function(){return h.header.height}):[x.emptyHeaderHeight],S=w.length?w[0].map(function(){return h.cells.height}):[],T=m.reduce(y,0),a=M-T,E=a+x.uplift,p=u(S,E),k=u(m,T),R=n(k,[]),B=n(p,R),F={},_=h._fullInput.columnorder;C(_)&&(_=Array.from(_)),_=_.concat(d(w.map(function(J,ae){return ae})));var O=v.map(function(J,ae){var se=C(h.columnwidth)?h.columnwidth[Math.min(ae,h.columnwidth.length-1)]:h.columnwidth;return i(se)?Number(se):1}),z=O.reduce(y,0);O=O.map(function(J){return J/z*b});var N=Math.max(c(h.header.line.width),c(h.cells.line.width)),Y={key:h.uid+g._context.staticPlot,translateX:A.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-A.y[1]),size:g._fullLayout._size,width:b,maxLineWidth:N,height:M,columnOrder:_,groupHeight:M,rowBlocks:B,headerRowBlocks:R,scrollY:0,cells:P({},h.cells,{values:w}),headerCells:P({},h.header,{values:v}),gdColumns:v.map(function(J){return J[0]}),gdColumnsOriginalOrder:v.map(function(J){return J[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:v.map(function(J,ae){var se=F[J];F[J]=(se||0)+1;var ue=J+"__"+F[J];return{key:ue,label:J,specIndex:ae,xIndex:_[ae],xScale:s,x:void 0,calcdata:void 0,columnWidth:O[ae]}})};return Y.columns.forEach(function(J){J.calcdata=Y,J.x=s(J)}),Y};function c(f){if(C(f)){for(var g=0,h=0;h<f.length;h++)g=Math.max(g,c(f[h]));return g}return f}function y(f,g){return f+g}function r(f){var g=f.slice(),h=1/0,w=0,d;for(d=0;d<g.length;d++)L(g[d])?g[d]=Array.from(g[d]):C(g[d])||(g[d]=[g[d]]),h=Math.min(h,g[d].length),w=Math.max(w,g[d].length);if(h!==w)for(d=0;d<g.length;d++){var o=w-g[d].length;o&&(g[d]=g[d].concat(t(o)))}return g}function t(f){for(var g=new Array(f),h=0;h<f;h++)g[h]="";return g}function s(f){return f.calcdata.columns.reduce(function(g,h){return h.xIndex<f.xIndex?g+h.columnWidth:g},0)}function n(f,g){var h=Object.keys(f);return h.map(function(w){return P({},f[w],{auxiliaryBlocks:g})})}function u(f,g){for(var h={},w,d=0,o=0,v=l(),A=0,b=0,M=0;M<f.length;M++)w=f[M],v.rows.push({rowIndex:M,rowHeight:w}),o+=w,(o>=g||M===f.length-1)&&(h[d]=v,v.key=b++,v.firstRowIndex=A,v.lastRowIndex=M,v=l(),d+=o,A=M+1,o=0);return h}function l(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(V,U,e){"use strict";var x=e(92880).extendFlat;U.splitToPanels=function(i){var L=[0,0],C=x({},i,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:x({},i.calcdata,{cells:i.calcdata.headerCells})}),c=x({},i,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),y=x({},i,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[c,y,C]},U.splitToCells=function(i){var L=P(i);return(i.values||[]).slice(L[0],L[1]).map(function(C,c){var y=typeof C=="string"&&C.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:c+y,key:L[0]+c,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:C}})};function P(i){var L=i.rowBlocks[i.page],C=L?L.rows[0].rowIndex:0,c=L?C+L.rows.length:0;return[C,c]}},53212:function(V,U,e){"use strict";var x=e(3400),P=e(60520),i=e(86968).Q;function L(C,c){for(var y=C.columnorder||[],r=C.header.values.length,t=y.slice(0,r),s=t.slice().sort(function(l,f){return l-f}),n=t.map(function(l){return s.indexOf(l)}),u=n.length;u<r;u++)n.push(u);c("columnorder",n)}V.exports=function(c,y,r,t){function s(n,u){return x.coerce(c,y,P,n,u)}i(y,t,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),x.coerceFont(s,"header.font",x.extendFlat({},t.font)),L(y,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),x.coerceFont(s,"cells.font",x.extendFlat({},t.font)),y._length=null}},41724:function(V,U,e){"use strict";V.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(V,U,e){"use strict";var x=e(23536),P=e(33428),i=e(3400),L=i.numberFormat,C=e(71688),c=e(43616),y=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,s=e(3400).cancelTransition,n=e(55992),u=e(53056),l=e(76308);V.exports=function(oe,te){var fe=!oe._context.staticPlot,pe=oe._fullLayout._paper.selectAll("."+x.cn.table).data(te.map(function(He){var Fe=C.unwrap(He),nt=Fe.trace;return n(oe,nt)}),C.keyFun);pe.exit().remove(),pe.enter().append("g").classed(x.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),pe.attr("width",function(He){return He.width+He.size.l+He.size.r}).attr("height",function(He){return He.height+He.size.t+He.size.b}).attr("transform",function(He){return t(He.translateX,He.translateY)});var Ae=pe.selectAll("."+x.cn.tableControlView).data(C.repeat,C.keyFun),be=Ae.enter().append("g").classed(x.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var Pe="onwheel"in document?"wheel":"mousewheel";be.on("mousemove",function(He){Ae.filter(function(Fe){return He===Fe}).call(d,oe)}).on(Pe,function(He){if(!He.scrollbarState.wheeling){He.scrollbarState.wheeling=!0;var Fe=He.scrollY+P.event.deltaY,nt=J(oe,Ae,null,Fe)(He);nt||(P.event.stopPropagation(),P.event.preventDefault()),He.scrollbarState.wheeling=!1}}).call(d,oe,!0)}Ae.attr("transform",function(He){return t(He.size.l,He.size.t)});var me=Ae.selectAll("."+x.cn.scrollBackground).data(C.repeat,C.keyFun);me.enter().append("rect").classed(x.cn.scrollBackground,!0).attr("fill","none"),me.attr("width",function(He){return He.width}).attr("height",function(He){return He.height}),Ae.each(function(He){c.setClipUrl(P.select(this),g(oe,He),oe)});var Ee=Ae.selectAll("."+x.cn.yColumn).data(function(He){return He.columns},C.keyFun);Ee.enter().append("g").classed(x.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(He){return t(He.x,0)}),fe&&Ee.call(P.behavior.drag().origin(function(He){var Fe=P.select(this);return F(Fe,He,-x.uplift),r(this),He.calcdata.columnDragInProgress=!0,d(Ae.filter(function(nt){return He.calcdata.key===nt.key}),oe),He}).on("drag",function(He){var Fe=P.select(this),nt=function(ht){return(He===ht?P.event.x:ht.x)+ht.columnWidth/2};He.x=Math.max(-x.overdrag,Math.min(He.calcdata.width+x.overdrag-He.columnWidth,P.event.x));var ot=w(Ee).filter(function(ht){return ht.calcdata.key===He.calcdata.key}),ct=ot.sort(function(ht,mt){return nt(ht)-nt(mt)});ct.forEach(function(ht,mt){ht.xIndex=mt,ht.x=He===ht?ht.x:ht.xScale(ht)}),Ee.filter(function(ht){return He!==ht}).transition().ease(x.transitionEase).duration(x.transitionDuration).attr("transform",function(ht){return t(ht.x,0)}),Fe.call(s).attr("transform",t(He.x,-x.uplift))}).on("dragend",function(He){var Fe=P.select(this),nt=He.calcdata;He.x=He.xScale(He),He.calcdata.columnDragInProgress=!1,F(Fe,He,0),R(oe,nt,nt.columns.map(function(ot){return ot.xIndex}))})),Ee.each(function(He){c.setClipUrl(P.select(this),h(oe,He),oe)});var xe=Ee.selectAll("."+x.cn.columnBlock).data(u.splitToPanels,C.keyFun);xe.enter().append("g").classed(x.cn.columnBlock,!0).attr("id",function(He){return He.key}),xe.style("cursor",function(He){return He.dragHandle?"ew-resize":He.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var De=xe.filter(O),Ve=xe.filter(_);fe&&Ve.call(P.behavior.drag().origin(function(He){return P.event.stopPropagation(),He}).on("drag",J(oe,Ae,-1)).on("dragend",function(){})),o(oe,Ae,De,xe),o(oe,Ae,Ve,xe);var Ze=Ae.selectAll("."+x.cn.scrollAreaClip).data(C.repeat,C.keyFun);Ze.enter().append("clipPath").classed(x.cn.scrollAreaClip,!0).attr("id",function(He){return g(oe,He)});var ke=Ze.selectAll("."+x.cn.scrollAreaClipRect).data(C.repeat,C.keyFun);ke.enter().append("rect").classed(x.cn.scrollAreaClipRect,!0).attr("x",-x.overdrag).attr("y",-x.uplift).attr("fill","none"),ke.attr("width",function(He){return He.width+2*x.overdrag}).attr("height",function(He){return He.height+x.uplift});var Ye=Ee.selectAll("."+x.cn.columnBoundary).data(C.repeat,C.keyFun);Ye.enter().append("g").classed(x.cn.columnBoundary,!0);var lt=Ee.selectAll("."+x.cn.columnBoundaryClippath).data(C.repeat,C.keyFun);lt.enter().append("clipPath").classed(x.cn.columnBoundaryClippath,!0),lt.attr("id",function(He){return h(oe,He)});var yt=lt.selectAll("."+x.cn.columnBoundaryRect).data(C.repeat,C.keyFun);yt.enter().append("rect").classed(x.cn.columnBoundaryRect,!0).attr("fill","none"),yt.attr("width",function(He){return He.columnWidth+2*f(He)}).attr("height",function(He){return He.calcdata.height+2*f(He)+x.uplift}).attr("x",function(He){return-f(He)}).attr("y",function(He){return-f(He)}),Y(null,Ve,Ae)};function f(X){return Math.ceil(X.calcdata.maxLineWidth/2)}function g(X,oe){return"clip"+X._fullLayout._uid+"_scrollAreaBottomClip_"+oe.key}function h(X,oe){return"clip"+X._fullLayout._uid+"_columnBoundaryClippath_"+oe.calcdata.key+"_"+oe.specIndex}function w(X){return[].concat.apply([],X.map(function(oe){return oe})).map(function(oe){return oe.__data__})}function d(X,oe,te){function fe(Ee){var xe=Ee.rowBlocks;return ie(xe,xe.length-1)+(xe.length?W(xe[xe.length-1],1/0):1)}var pe=X.selectAll("."+x.cn.scrollbarKit).data(C.repeat,C.keyFun);pe.enter().append("g").classed(x.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),pe.each(function(Ee){var xe=Ee.scrollbarState;xe.totalHeight=fe(Ee),xe.scrollableAreaHeight=Ee.groupHeight-z(Ee),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,x.goldenRatio*x.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=xe.barWiggleRoom===0?0:Ee.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Ee){var xe=Ee.width+x.scrollbarWidth/2+x.scrollbarOffset;return t(xe,z(Ee))});var Ae=pe.selectAll("."+x.cn.scrollbar).data(C.repeat,C.keyFun);Ae.enter().append("g").classed(x.cn.scrollbar,!0);var be=Ae.selectAll("."+x.cn.scrollbarSlider).data(C.repeat,C.keyFun);be.enter().append("g").classed(x.cn.scrollbarSlider,!0),be.attr("transform",function(Ee){return t(0,Ee.scrollbarState.topY||0)});var Pe=be.selectAll("."+x.cn.scrollbarGlyph).data(C.repeat,C.keyFun);Pe.enter().append("line").classed(x.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",x.scrollbarWidth).attr("stroke-linecap","round").attr("y1",x.scrollbarWidth/2),Pe.attr("y2",function(Ee){return Ee.scrollbarState.barLength-x.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||te?0:.4}),Pe.transition().delay(0).duration(0),Pe.transition().delay(x.scrollbarHideDelay).duration(x.scrollbarHideDuration).attr("stroke-opacity",0);var me=Ae.selectAll("."+x.cn.scrollbarCaptureZone).data(C.repeat,C.keyFun);me.enter().append("line").classed(x.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",x.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var xe=P.event.y,De=this.getBoundingClientRect(),Ve=Ee.scrollbarState,Ze=xe-De.top,ke=P.scale.linear().domain([0,Ve.scrollableAreaHeight]).range([0,Ve.totalHeight]).clamp(!0);Ve.topY<=Ze&&Ze<=Ve.bottomY||J(oe,X,null,ke(Ze-Ve.barLength/2))(Ee)}).call(P.behavior.drag().origin(function(Ee){return P.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",J(oe,X)).on("dragend",function(){})),me.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),oe._context.staticPlot&&(Pe.remove(),me.remove())}function o(X,oe,te,fe){var pe=v(te),Ae=A(pe);S(Ae);var be=b(Ae);a(be);var Pe=m(Ae),me=M(Pe);T(me),E(me,oe,fe,X),j(Ae)}function v(X){var oe=X.selectAll("."+x.cn.columnCells).data(C.repeat,C.keyFun);return oe.enter().append("g").classed(x.cn.columnCells,!0),oe.exit().remove(),oe}function A(X){var oe=X.selectAll("."+x.cn.columnCell).data(u.splitToCells,function(te){return te.keyWithinBlock});return oe.enter().append("g").classed(x.cn.columnCell,!0),oe.exit().remove(),oe}function b(X){var oe=X.selectAll("."+x.cn.cellRect).data(C.repeat,function(te){return te.keyWithinBlock});return oe.enter().append("rect").classed(x.cn.cellRect,!0),oe}function M(X){var oe=X.selectAll("."+x.cn.cellText).data(C.repeat,function(te){return te.keyWithinBlock});return oe.enter().append("text").classed(x.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),oe}function m(X){var oe=X.selectAll("."+x.cn.cellTextHolder).data(C.repeat,function(te){return te.keyWithinBlock});return oe.enter().append("g").classed(x.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),oe}function S(X){X.each(function(oe,te){var fe=oe.calcdata.cells.font,pe=oe.column.specIndex,Ae={size:B(fe.size,pe,te),color:B(fe.color,pe,te),family:B(fe.family,pe,te)};oe.rowNumber=oe.key,oe.align=B(oe.calcdata.cells.align,pe,te),oe.cellBorderWidth=B(oe.calcdata.cells.line.width,pe,te),oe.font=Ae})}function T(X){X.each(function(oe){c.font(P.select(this),oe.font)})}function a(X){X.attr("width",function(oe){return oe.column.columnWidth}).attr("stroke-width",function(oe){return oe.cellBorderWidth}).each(function(oe){var te=P.select(this);l.stroke(te,B(oe.calcdata.cells.line.color,oe.column.specIndex,oe.rowNumber)),l.fill(te,B(oe.calcdata.cells.fill.color,oe.column.specIndex,oe.rowNumber))})}function E(X,oe,te,fe){X.text(function(pe){var Ae=pe.column.specIndex,be=pe.rowNumber,Pe=pe.value,me=typeof Pe=="string",Ee=me&&Pe.match(/<br>/i),xe=!me||Ee;pe.mayHaveMarkup=me&&Pe.match(/[<&>]/);var De=p(Pe);pe.latex=De;var Ve=De?"":B(pe.calcdata.cells.prefix,Ae,be)||"",Ze=De?"":B(pe.calcdata.cells.suffix,Ae,be)||"",ke=De?null:B(pe.calcdata.cells.format,Ae,be)||null,Ye=Ve+(ke?L(ke)(pe.value):pe.value)+Ze,lt;pe.wrappingNeeded=!pe.wrapped&&!xe&&!De&&(lt=k(Ye)),pe.cellHeightMayIncrease=Ee||De||pe.mayHaveMarkup||(lt===void 0?k(Ye):lt),pe.needsConvertToTspans=pe.mayHaveMarkup||pe.wrappingNeeded||pe.latex;var yt;if(pe.wrappingNeeded){var He=x.wrapSplitCharacter===" "?Ye.replace(/<a href=/ig,"<a_href="):Ye,Fe=He.split(x.wrapSplitCharacter),nt=x.wrapSplitCharacter===" "?Fe.map(function(ot){return ot.replace(/<a_href=/ig,"<a href=")}):Fe;pe.fragments=nt.map(function(ot){return{text:ot,width:null}}),pe.fragments.push({fragment:x.wrapSpacer,width:null}),yt=nt.join(x.lineBreaker)+x.lineBreaker+x.wrapSpacer}else delete pe.fragments,yt=Ye;return yt}).attr("dy",function(pe){return pe.needsConvertToTspans?0:"0.75em"}).each(function(pe){var Ae=this,be=P.select(Ae),Pe=pe.wrappingNeeded?se:ue;pe.needsConvertToTspans?y.convertToTspans(be,fe,Pe(te,Ae,oe,fe,pe)):P.select(Ae.parentNode).attr("transform",function(me){return t(K(me),x.cellPad)}).attr("text-anchor",function(me){return{left:"start",center:"middle",right:"end"}[me.align]})})}function p(X){return typeof X=="string"&&X.match(x.latexCheck)}function k(X){return X.indexOf(x.wrapSplitCharacter)!==-1}function R(X,oe,te){var fe=oe.gdColumnsOriginalOrder;oe.gdColumns.sort(function(pe,Ae){return te[fe.indexOf(pe)]-te[fe.indexOf(Ae)]}),oe.columnorder=te,X.emit("plotly_restyle")}function B(X,oe,te){if(i.isArrayOrTypedArray(X)){var fe=X[Math.min(oe,X.length-1)];return i.isArrayOrTypedArray(fe)?fe[Math.min(te,fe.length-1)]:fe}else return X}function F(X,oe,te){X.transition().ease(x.releaseTransitionEase).duration(x.releaseTransitionDuration).attr("transform",t(oe.x,te))}function _(X){return X.type==="cells"}function O(X){return X.type==="header"}function z(X){var oe=X.rowBlocks.length?X.rowBlocks[0].auxiliaryBlocks:[];return oe.reduce(function(te,fe){return te+W(fe,1/0)},0)}function N(X,oe,te){for(var fe=[],pe=0,Ae=0;Ae<X.length;Ae++){for(var be=X[Ae],Pe=be.rows,me=0,Ee=0;Ee<Pe.length;Ee++)me+=Pe[Ee].rowHeight;be.allRowsHeight=me;var xe=pe+me,De=oe,Ve=De+te;De<xe&&Ve>pe&&fe.push(Ae),pe+=me}return fe}function Y(X,oe,te){var fe=w(oe)[0];if(fe!==void 0){var pe=fe.rowBlocks,Ae=fe.calcdata,be=ie(pe,pe.length),Pe=fe.calcdata.groupHeight-z(fe),me=Ae.scrollY=Math.max(0,Math.min(be-Pe,Ae.scrollY)),Ee=N(pe,me,Pe);Ee.length===1&&(Ee[0]===pe.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),oe.each(function(xe,De){xe.page=Ee[De],xe.scrollY=me}),oe.attr("transform",function(xe){var De=ie(xe.rowBlocks,xe.page)-xe.scrollY;return t(0,De)}),X&&(ae(X,te,oe,Ee,fe.prevPages,fe,0),ae(X,te,oe,Ee,fe.prevPages,fe,1),d(te,X))}}function J(X,oe,te,fe){return function(Ae){var be=Ae.calcdata?Ae.calcdata:Ae,Pe=oe.filter(function(De){return be.key===De.key}),me=te||be.scrollbarState.dragMultiplier,Ee=be.scrollY;be.scrollY=fe===void 0?be.scrollY+me*P.event.dy:fe;var xe=Pe.selectAll("."+x.cn.yColumn).selectAll("."+x.cn.columnBlock).filter(_);return Y(X,xe,Pe),be.scrollY===Ee}}function ae(X,oe,te,fe,pe,Ae,be){var Pe=fe[be]!==pe[be];Pe&&(clearTimeout(Ae.currentRepaint[be]),Ae.currentRepaint[be]=setTimeout(function(){var me=te.filter(function(Ee,xe){return xe===be&&fe[xe]!==pe[xe]});o(X,oe,me,te),pe[be]=fe[be]}))}function se(X,oe,te,fe){return function(){var Ae=P.select(oe.parentNode);Ae.each(function(be){var Pe=be.fragments;Ae.selectAll("tspan.line").each(function(Ye,lt){Pe[lt].width=this.getComputedTextLength()});var me=Pe[Pe.length-1].width,Ee=Pe.slice(0,-1),xe=[],De,Ve,Ze=0,ke=be.column.columnWidth-2*x.cellPad;for(be.value="";Ee.length;)De=Ee.shift(),Ve=De.width+me,Ze+Ve>ke&&(be.value+=xe.join(x.wrapSpacer)+x.lineBreaker,xe=[],Ze=0),xe.push(De.text),Ze+=Ve;Ze&&(be.value+=xe.join(x.wrapSpacer)),be.wrapped=!0}),Ae.selectAll("tspan.line").remove(),E(Ae.select("."+x.cn.cellText),te,X,fe),P.select(oe.parentNode.parentNode).call(j)}}function ue(X,oe,te,fe,pe){return function(){if(!pe.settledY){var be=P.select(oe.parentNode),Pe=ee(pe),me=pe.key-Pe.firstRowIndex,Ee=Pe.rows[me].rowHeight,xe=pe.cellHeightMayIncrease?oe.parentNode.getBoundingClientRect().height+2*x.cellPad:Ee,De=Math.max(xe,Ee),Ve=De-Pe.rows[me].rowHeight;Ve&&(Pe.rows[me].rowHeight=De,X.selectAll("."+x.cn.columnCell).call(j),Y(null,X.filter(_),0),d(te,fe,!0)),be.attr("transform",function(){var Ze=this,ke=Ze.parentNode,Ye=ke.getBoundingClientRect(),lt=P.select(Ze.parentNode).select("."+x.cn.cellRect).node().getBoundingClientRect(),yt=Ze.transform.baseVal.consolidate(),He=lt.top-Ye.top+(yt?yt.matrix.f:x.cellPad);return t(K(pe,P.select(Ze.parentNode).select("."+x.cn.cellTextHolder).node().getBoundingClientRect().width),He)}),pe.settledY=!0}}}function K(X,oe){switch(X.align){case"left":return x.cellPad;case"right":return X.column.columnWidth-(oe||0)-x.cellPad;case"center":return(X.column.columnWidth-(oe||0))/2;default:return x.cellPad}}function j(X){X.attr("transform",function(oe){var te=oe.rowBlocks[0].auxiliaryBlocks.reduce(function(be,Pe){return be+W(Pe,1/0)},0),fe=ee(oe),pe=W(fe,oe.key),Ae=pe+te;return t(0,Ae)}).selectAll("."+x.cn.cellRect).attr("height",function(oe){return $(ee(oe),oe.key).rowHeight})}function ie(X,oe){for(var te=0,fe=oe-1;fe>=0;fe--)te+=Q(X[fe]);return te}function W(X,oe){for(var te=0,fe=0;fe<X.rows.length&&X.rows[fe].rowIndex<oe;fe++)te+=X.rows[fe].rowHeight;return te}function Q(X){var oe=X.allRowsHeight;if(oe!==void 0)return oe;for(var te=0,fe=0;fe<X.rows.length;fe++)te+=X.rows[fe].rowHeight;return X.allRowsHeight=te,te}function ee(X){return X.rowBlocks[X.page]}function $(X,oe){return X.rows[oe-X.firstRowIndex]}},40516:function(V,U,e){"use strict";var x=e(21776).Ks,P=e(21776).Gw,i=e(49084),L=e(86968).u,C=e(74996),c=e(424),y=e(32984),r=e(92880).extendFlat,t=e(98192).c;V.exports={labels:c.labels,parents:c.parents,values:c.values,branchvalues:c.branchvalues,count:c.count,level:c.level,maxdepth:c.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:c.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:c.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},C.textfont,{}),editType:"calc"},text:C.text,textinfo:c.textinfo,texttemplate:P({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:C.hovertext,hoverinfo:c.hoverinfo,hovertemplate:x({},{keys:y.eventDataKeys}),textfont:C.textfont,insidetextfont:C.insidetextfont,outsidetextfont:r({},C.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:C.sort,root:c.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},79516:function(V,U,e){"use strict";var x=e(7316);U.name="treemap",U.plot=function(P,i,L,C){x.plotBasePlot(U.name,P,i,L,C)},U.clean=function(P,i,L,C){x.cleanBasePlot(U.name,P,i,L,C)}},97840:function(V,U,e){"use strict";var x=e(3776);U.r=function(P,i){return x.calc(P,i)},U.q=function(P){return x._runCrossTraceCalc("treemap",P)}},32984:function(V){"use strict";V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(V,U,e){"use strict";var x=e(3400),P=e(40516),i=e(76308),L=e(86968).Q,C=e(31508).handleText,c=e(78048).TEXTPAD,y=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,s=r.handleDefaults;V.exports=function(u,l,f,g){function h(a,E){return x.coerce(u,l,P,a,E)}var w=h("labels"),d=h("parents");if(!w||!w.length||!d||!d.length){l.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var v=h("tiling.packing");v==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var A=h("text");h("texttemplate"),l.texttemplate||h("textinfo",x.isArrayOrTypedArray(A)?"text+label":"label"),h("hovertext"),h("hovertemplate");var b=h("pathbar.visible"),M="auto";C(u,l,g,h,M,{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var m=l.textposition.indexOf("bottom")!==-1;y(u,l,g,h);var S=l._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;S?s(u,l,g,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(l.marker.colors||[]).length);var T=l.textfont.size*2;h("marker.pad.t",m?T/4:T),h("marker.pad.l",T/4),h("marker.pad.r",T/4),h("marker.pad.b",m?T:T/4),h("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:i.contrast(g.paper_bgcolor)}}},b&&(h("pathbar.thickness",l.pathbar.textfont.size+2*c),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(l,g,h),l._length=null}},95808:function(V,U,e){"use strict";var x=e(33428),P=e(78176),i=e(82744),L=i.clearMinTextSize,C=e(60100).resizeText,c=e(52960);V.exports=function(r,t,s,n,u){var l=u.type,f=u.drawDescendants,g=r._fullLayout,h=g["_"+l+"layer"],w,d,o=!s;if(L(l,g),w=h.selectAll("g.trace."+l).data(t,function(A){return A[0].trace.uid}),w.enter().append("g").classed("trace",!0).classed(l,!0),w.order(),!g.uniformtext.mode&&P.hasTransition(s)){n&&(d=n());var v=x.transition().duration(s.duration).ease(s.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()});v.each(function(){h.selectAll("g.trace").each(function(A){c(r,A,this,s,f)})})}else w.each(function(A){c(r,A,this,s,f)}),g.uniformtext.mode&&C(r,h.selectAll(".trace"),l);o&&w.exit().remove()}},27336:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(72736),C=e(13832),c=e(66192).styleOne,y=e(32984),r=e(78176),t=e(45716),s=!0;V.exports=function(u,l,f,g,h){var w=h.barDifY,d=h.width,o=h.height,v=h.viewX,A=h.viewY,b=h.pathSlice,M=h.toMoveInsideSlice,m=h.strTransform,S=h.hasTransition,T=h.handleSlicesExit,a=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,p={},k=u._context.staticPlot,R=u._fullLayout,B=l[0],F=B.trace,_=B.hierarchy,O=d/F._entryDepth,z=r.listPath(f.data,"id"),N=C(_.copy(),[d,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();N=N.filter(function(J){var ae=z.indexOf(J.data.id);return ae===-1?!1:(J.x0=O*ae,J.x1=O*(ae+1),J.y0=w,J.y1=w+o,J.onPathbar=!0,!0)}),N.reverse(),g=g.data(N,r.getPtId),g.enter().append("g").classed("pathbar",!0),T(g,s,p,[d,o],b),g.order();var Y=g;S&&(Y=Y.transition().each("end",function(){var J=x.select(this);r.setSliceCursor(J,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(J){J._x0=v(J.x0),J._x1=v(J.x1),J._y0=A(J.y0),J._y1=A(J.y1),J._hoverX=v(J.x1-Math.min(d,o)/2),J._hoverY=A(J.y1-o/2);var ae=x.select(this),se=P.ensureSingle(ae,"path","surface",function(ie){ie.style("pointer-events",k?"none":"all")});S?se.transition().attrTween("d",function(ie){var W=a(ie,s,p,[d,o]);return function(Q){return b(W(Q))}}):se.attr("d",b),ae.call(t,f,u,l,{styleOne:c,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),se.call(c,J,F,u,{hovered:!1}),J._text=(r.getPtLabel(J)||"").split("<br>").join(" ")||"";var ue=P.ensureSingle(ae,"g","slicetext"),K=P.ensureSingle(ue,"text","",function(ie){ie.attr("data-notex",1)}),j=P.ensureUniformFontSize(u,r.determineTextFont(F,J,R.font,{onPathbar:!0}));K.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,j).call(L.convertToTspans,u),J.textBB=i.bBox(K.node()),J.transform=M(J,{fontSize:j.size,onPathbar:!0}),J.transform.fontSize=j.size,S?K.transition().attrTween("transform",function(ie){var W=E(ie,s,p,[d,o]);return function(Q){return m(W(Q))}}):K.attr("transform",m(J))})}},76477:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(72736),C=e(13832),c=e(66192).styleOne,y=e(32984),r=e(78176),t=e(45716),s=e(96488).formatSliceLabel,n=!1;V.exports=function(l,f,g,h,w){var d=w.width,o=w.height,v=w.viewX,A=w.viewY,b=w.pathSlice,M=w.toMoveInsideSlice,m=w.strTransform,S=w.hasTransition,T=w.handleSlicesExit,a=w.makeUpdateSliceInterpolator,E=w.makeUpdateTextInterpolator,p=w.prevEntry,k={},R=l._context.staticPlot,B=l._fullLayout,F=f[0],_=F.trace,O=_.textposition.indexOf("left")!==-1,z=_.textposition.indexOf("right")!==-1,N=_.textposition.indexOf("bottom")!==-1,Y=!N&&!_.marker.pad.t||N&&!_.marker.pad.b,J=C(g,[d,o],{packing:_.tiling.packing,squarifyratio:_.tiling.squarifyratio,flipX:_.tiling.flip.indexOf("x")>-1,flipY:_.tiling.flip.indexOf("y")>-1,pad:{inner:_.tiling.pad,top:_.marker.pad.t,left:_.marker.pad.l,right:_.marker.pad.r,bottom:_.marker.pad.b}}),ae=J.descendants(),se=1/0,ue=-1/0;ae.forEach(function(Q){var ee=Q.depth;ee>=_._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(se=Math.min(se,ee),ue=Math.max(ue,ee))}),h=h.data(ae,r.getPtId),_._maxVisibleLayers=isFinite(ue)?ue-se+1:0,h.enter().append("g").classed("slice",!0),T(h,n,k,[d,o],b),h.order();var K=null;if(S&&p){var j=r.getPtId(p);h.each(function(Q){K===null&&r.getPtId(Q)===j&&(K={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var ie=function(){return K||{x0:0,x1:d,y0:0,y1:o}},W=h;return S&&(W=W.transition().each("end",function(){var Q=x.select(this);r.setSliceCursor(Q,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(Q){var ee=r.isHeader(Q,_);Q._x0=v(Q.x0),Q._x1=v(Q.x1),Q._y0=A(Q.y0),Q._y1=A(Q.y1),Q._hoverX=v(Q.x1-_.marker.pad.r),Q._hoverY=A(N?Q.y1-_.marker.pad.b/2:Q.y0+_.marker.pad.t/2);var $=x.select(this),X=P.ensureSingle($,"path","surface",function(be){be.style("pointer-events",R?"none":"all")});S?X.transition().attrTween("d",function(be){var Pe=a(be,n,ie(),[d,o]);return function(me){return b(Pe(me))}}):X.attr("d",b),$.call(t,g,l,f,{styleOne:c,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,l,{isTransitioning:l._transitioning}),X.call(c,Q,_,l,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":ee?Q._text=Y?"":r.getPtLabel(Q)||"":Q._text=s(Q,g,_,f,B)||"";var oe=P.ensureSingle($,"g","slicetext"),te=P.ensureSingle(oe,"text","",function(be){be.attr("data-notex",1)}),fe=P.ensureUniformFontSize(l,r.determineTextFont(_,Q,B.font)),pe=Q._text||" ",Ae=ee&&pe.indexOf("<br>")===-1;te.text(pe).classed("slicetext",!0).attr("text-anchor",z?"end":O||Ae?"start":"middle").call(i.font,fe).call(L.convertToTspans,l),Q.textBB=i.bBox(te.node()),Q.transform=M(Q,{fontSize:fe.size,isHeader:ee}),Q.transform.fontSize=fe.size,S?te.transition().attrTween("transform",function(be){var Pe=E(be,n,ie(),[d,o]);return function(me){return m(Pe(me))}}):te.attr("transform",m(Q))}),K}},83024:function(V){"use strict";V.exports=function U(e,x,P){var i;P.swapXY&&(i=e.x0,e.x0=e.y0,e.y0=i,i=e.x1,e.x1=e.y1,e.y1=i),P.flipX&&(i=e.x0,e.x0=x[0]-e.x1,e.x1=x[0]-i),P.flipY&&(i=e.y0,e.y0=x[1]-e.y1,e.y1=x[1]-i);var L=e.children;if(L)for(var C=0;C<L.length;C++)U(L[C],x,P)}},31991:function(V,U,e){"use strict";V.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(V){"use strict";V.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(V,U,e){"use strict";var x=e(3400),P=e(45392);V.exports=function(L,C){function c(y,r){return x.coerce(L,C,P,y,r)}c("treemapcolorway",C.colorway),c("extendtreemapcolors")}},13832:function(V,U,e){"use strict";var x=e(74148),P=e(83024);V.exports=function(C,c,y){var r=y.flipX,t=y.flipY,s=y.packing==="dice-slice",n=y.pad[t?"bottom":"top"],u=y.pad[r?"right":"left"],l=y.pad[r?"left":"right"],f=y.pad[t?"top":"bottom"],g;s&&(g=u,u=n,n=g,g=l,l=f,f=g);var h=x.treemap().tile(i(y.packing,y.squarifyratio)).paddingInner(y.pad.inner).paddingLeft(u).paddingRight(l).paddingTop(n).paddingBottom(f).size(s?[c[1],c[0]]:c)(C);return(s||r||t)&&P(h,c,{swapXY:s,flipX:r,flipY:t}),h};function i(L,C){switch(L){case"squarify":return x.treemapSquarify.ratio(C);case"binary":return x.treemapBinary;case"dice":return x.treemapDice;case"slice":return x.treemapSlice;default:return x.treemapSliceDice}}},53264:function(V,U,e){"use strict";var x=e(95808),P=e(76477);V.exports=function(L,C,c,y){return x(L,C,c,y,{type:"treemap",drawDescendants:P})}},52960:function(V,U,e){"use strict";var x=e(33428),P=e(67756).qy,i=e(78176),L=e(3400),C=e(78048).TEXTPAD,c=e(98184),y=c.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,s=e(32984),n=e(27336);function u(l){return i.isHierarchyRoot(l)?"":i.getPtId(l)}V.exports=function(f,g,h,w,d){var o=f._fullLayout,v=g[0],A=v.trace,b=A.type,M=b==="icicle",m=v.hierarchy,S=i.findEntryWithLevel(m,A.level),T=x.select(h),a=T.selectAll("g.pathbar"),E=T.selectAll("g.slice");if(!S){a.remove(),E.remove();return}var p=i.isHierarchyRoot(S),k=!o.uniformtext.mode&&i.hasTransition(w),R=i.getMaxDepth(A),B=function(Re){return Re.data.depth-S.data.depth<R},F=o._size,_=A.domain,O=F.w*(_.x[1]-_.x[0]),z=F.h*(_.y[1]-_.y[0]),N=O,Y=A.pathbar.thickness,J=A.marker.line.width+s.gapWithPathbar,ae=A.pathbar.visible?A.pathbar.side.indexOf("bottom")>-1?z+J:-(Y+J):0,se={x0:N,x1:N,y0:ae,y1:ae+Y},ue=function(Re,Ge,Je){var Xe=A.tiling.pad,Oe=function(Le){return Le-Xe<=Ge.x0},Ne=function(Le){return Le+Xe>=Ge.x1},ze=function(Le){return Le-Xe<=Ge.y0},et=function(Le){return Le+Xe>=Ge.y1};return Re.x0===Ge.x0&&Re.x1===Ge.x1&&Re.y0===Ge.y0&&Re.y1===Ge.y1?{x0:Re.x0,x1:Re.x1,y0:Re.y0,y1:Re.y1}:{x0:Oe(Re.x0-Xe)?0:Ne(Re.x0-Xe)?Je[0]:Re.x0,x1:Oe(Re.x1+Xe)?0:Ne(Re.x1+Xe)?Je[0]:Re.x1,y0:ze(Re.y0-Xe)?0:et(Re.y0-Xe)?Je[1]:Re.y0,y1:ze(Re.y1+Xe)?0:et(Re.y1+Xe)?Je[1]:Re.y1}},K=null,j={},ie={},W=null,Q=function(Re,Ge){return Ge?j[u(Re)]:ie[u(Re)]},ee=function(Re,Ge,Je,Xe){if(Ge)return j[u(m)]||se;var Oe=ie[A.level]||Je;return B(Re)?ue(Re,Oe,Xe):{}};v.hasMultipleRoots&&p&&R++,A._maxDepth=R,A._backgroundColor=o.paper_bgcolor,A._entryDepth=S.data.depth,A._atRootLevel=p;var $=-O/2+F.l+F.w*(_.x[1]+_.x[0])/2,X=-z/2+F.t+F.h*(1-(_.y[1]+_.y[0])/2),oe=function(Re){return $+Re},te=function(Re){return X+Re},fe=te(0),pe=oe(0),Ae=function(Re){return pe+Re},be=function(Re){return fe+Re};function Pe(Re,Ge){return Re+","+Ge}var me=Ae(0),Ee=function(Re){Re.x=Math.max(me,Re.x)},xe=A.pathbar.edgeshape,De=function(Re){var Ge=Ae(Math.max(Math.min(Re.x0,Re.x0),0)),Je=Ae(Math.min(Math.max(Re.x1,Re.x1),N)),Xe=be(Re.y0),Oe=be(Re.y1),Ne=Y/2,ze={},et={};ze.x=Ge,et.x=Je,ze.y=et.y=(Xe+Oe)/2;var Le={x:Ge,y:Xe},Te={x:Je,y:Xe},ye={x:Je,y:Oe},Se={x:Ge,y:Oe};return xe===">"?(Le.x-=Ne,Te.x-=Ne,ye.x-=Ne,Se.x-=Ne):xe==="/"?(ye.x-=Ne,Se.x-=Ne,ze.x-=Ne/2,et.x-=Ne/2):xe==="\\"?(Le.x-=Ne,Te.x-=Ne,ze.x-=Ne/2,et.x-=Ne/2):xe==="<"&&(ze.x-=Ne,et.x-=Ne),Ee(Le),Ee(Se),Ee(ze),Ee(Te),Ee(ye),Ee(et),"M"+Pe(Le.x,Le.y)+"L"+Pe(Te.x,Te.y)+"L"+Pe(et.x,et.y)+"L"+Pe(ye.x,ye.y)+"L"+Pe(Se.x,Se.y)+"L"+Pe(ze.x,ze.y)+"Z"},Ve=A[M?"tiling":"marker"].pad,Ze=function(Re){return A.textposition.indexOf(Re)!==-1},ke=Ze("top"),Ye=Ze("left"),lt=Ze("right"),yt=Ze("bottom"),He=function(Re){var Ge=oe(Re.x0),Je=oe(Re.x1),Xe=te(Re.y0),Oe=te(Re.y1),Ne=Je-Ge,ze=Oe-Xe;if(!Ne||!ze)return"";var et=A.marker.cornerradius||0,Le=Math.min(et,Ne/2,ze/2);Le&&Re.data&&Re.data.data&&Re.data.data.label&&(ke&&(Le=Math.min(Le,Ve.t)),Ye&&(Le=Math.min(Le,Ve.l)),lt&&(Le=Math.min(Le,Ve.r)),yt&&(Le=Math.min(Le,Ve.b)));var Te=function(ye,Se){return Le?"a"+Pe(Le,Le)+" 0 0 1 "+Pe(ye,Se):""};return"M"+Pe(Ge,Xe+Le)+Te(Le,-Le)+"L"+Pe(Je-Le,Xe)+Te(Le,Le)+"L"+Pe(Je,Oe-Le)+Te(-Le,Le)+"L"+Pe(Ge+Le,Oe)+Te(-Le,-Le)+"Z"},Fe=function(Re,Ge){var Je=Re.x0,Xe=Re.x1,Oe=Re.y0,Ne=Re.y1,ze=Re.textBB,et=ke||Ge.isHeader&&!yt,Le=et?"start":yt?"end":"middle",Te=Ze("right"),ye=Ze("left")||Ge.onPathbar,Se=ye?-1:Te?1:0;if(Ge.isHeader){if(Je+=(M?Ve:Ve.l)-C,Xe-=(M?Ve:Ve.r)-C,Je>=Xe){var Ke=(Je+Xe)/2;Je=Ke,Xe=Ke}var rt;yt?(rt=Ne-(M?Ve:Ve.b),Oe<rt&&rt<Ne&&(Oe=rt)):(rt=Oe+(M?Ve:Ve.t),Oe<rt&&rt<Ne&&(Ne=rt))}var Lt=y(Je,Xe,Oe,Ne,ze,{isHorizontal:!1,constrained:!0,angle:0,anchor:Le,leftToRight:Se});return Lt.fontSize=Ge.fontSize,Lt.targetX=oe(Lt.targetX),Lt.targetY=te(Lt.targetY),isNaN(Lt.targetX)||isNaN(Lt.targetY)?{}:(Je!==Xe&&Oe!==Ne&&t(A.type,Lt,o),{scale:Lt.scale,rotate:Lt.rotate,textX:Lt.textX,textY:Lt.textY,anchorX:Lt.anchorX,anchorY:Lt.anchorY,targetX:Lt.targetX,targetY:Lt.targetY})},nt=function(Re,Ge){for(var Je,Xe=0,Oe=Re;!Je&&Xe<R;)Xe++,Oe=Oe.parent,Oe?Je=Q(Oe,Ge):Xe=R;return Je||{}},ot=function(Re,Ge,Je,Xe){var Oe=Q(Re,Ge),Ne;if(Ge)Ne=se;else{var ze=Q(S,Ge);ze?Ne=ue(Re,ze,Xe):Ne={}}return P(Oe,Ne)},ct=function(Re,Ge,Je,Xe,Oe){var Ne=Q(Re,Ge),ze;if(Ne)ze=Ne;else if(Ge)ze=se;else if(K)if(Re.parent){var et=W||Je;et&&!Ge?ze=ue(Re,et,Xe):(ze={},L.extendFlat(ze,nt(Re,Ge)))}else ze=L.extendFlat({},Re),M&&(Oe.orientation==="h"?Oe.flipX?ze.x0=Re.x1:ze.x1=0:Oe.flipY?ze.y0=Re.y1:ze.y1=0);else ze={};return P(ze,{x0:Re.x0,x1:Re.x1,y0:Re.y0,y1:Re.y1})},ht=function(Re,Ge,Je,Xe){var Oe=Q(Re,Ge),Ne={},ze=ee(Re,Ge,Je,Xe);L.extendFlat(Ne,{transform:Fe({x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1,textBB:Re.textBB,_text:Re._text},{isHeader:i.isHeader(Re,A)})}),Oe?Ne=Oe:Re.parent&&L.extendFlat(Ne,nt(Re,Ge));var et=Re.transform;return Re.x0!==Re.x1&&Re.y0!==Re.y1&&t(A.type,et,o),P(Ne,{transform:{scale:et.scale,rotate:et.rotate,textX:et.textX,textY:et.textY,anchorX:et.anchorX,anchorY:et.anchorY,targetX:et.targetX,targetY:et.targetY}})},mt=function(Re,Ge,Je,Xe,Oe){var Ne=Xe[0],ze=Xe[1];k?Re.exit().transition().each(function(){var et=x.select(this),Le=et.select("path.surface");Le.transition().attrTween("d",function(ye){var Se=ot(ye,Ge,Je,[Ne,ze]);return function(Ke){return Oe(Se(Ke))}});var Te=et.select("g.slicetext");Te.attr("opacity",0)}).remove():Re.exit().remove()},tt=function(Re){var Ge=Re.transform;return Re.x0!==Re.x1&&Re.y0!==Re.y1&&t(A.type,Ge,o),L.getTextTransform({textX:Ge.textX,textY:Ge.textY,anchorX:Ge.anchorX,anchorY:Ge.anchorY,targetX:Ge.targetX,targetY:Ge.targetY,scale:Ge.scale,rotate:Ge.rotate})};k&&(a.each(function(Re){j[u(Re)]={x0:Re.x0,x1:Re.x1,y0:Re.y0,y1:Re.y1},Re.transform&&(j[u(Re)].transform={textX:Re.transform.textX,textY:Re.transform.textY,anchorX:Re.transform.anchorX,anchorY:Re.transform.anchorY,targetX:Re.transform.targetX,targetY:Re.transform.targetY,scale:Re.transform.scale,rotate:Re.transform.rotate})}),E.each(function(Re){ie[u(Re)]={x0:Re.x0,x1:Re.x1,y0:Re.y0,y1:Re.y1},Re.transform&&(ie[u(Re)].transform={textX:Re.transform.textX,textY:Re.transform.textY,anchorX:Re.transform.anchorX,anchorY:Re.transform.anchorY,targetX:Re.transform.targetX,targetY:Re.transform.targetY,scale:Re.transform.scale,rotate:Re.transform.rotate}),!K&&i.isEntry(Re)&&(K=Re)})),W=d(f,g,S,E,{width:O,height:z,viewX:oe,viewY:te,pathSlice:He,toMoveInsideSlice:Fe,prevEntry:K,makeUpdateSliceInterpolator:ct,makeUpdateTextInterpolator:ht,handleSlicesExit:mt,hasTransition:k,strTransform:tt}),A.pathbar.visible?n(f,g,S,a,{barDifY:ae,width:N,height:Y,viewX:Ae,viewY:be,pathSlice:De,toMoveInsideSlice:Fe,makeUpdateSliceInterpolator:ct,makeUpdateTextInterpolator:ht,handleSlicesExit:mt,hasTransition:k,strTransform:tt}):a.remove()}},66192:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(3400),L=e(78176),C=e(82744).resizeText,c=e(60404);function y(t){var s=t._fullLayout._treemaplayer.selectAll(".trace");C(t,s,"treemap"),s.each(function(n){var u=x.select(this),l=n[0],f=l.trace;u.style("opacity",f.opacity),u.selectAll("path.surface").each(function(g){x.select(this).call(r,g,f,t,{hovered:!1})})})}function r(t,s,n,u,l){var f=(l||{}).hovered,g=s.data.data,h=g.i,w,d,o=g.color,v=L.isHierarchyRoot(s),A=1;if(f)w=n._hovered.marker.line.color,d=n._hovered.marker.line.width;else if(v&&o===n.root.color)A=100,w="rgba(0,0,0,0)",d=0;else if(w=i.castOption(n,h,"marker.line.color")||P.defaultLine,d=i.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!s.onPathbar){var b=n.marker.depthfade;if(b){var M=P.combine(P.addOpacity(n._backgroundColor,.75),o),m;if(b===!0){var S=L.getMaxDepth(n);isFinite(S)?L.isLeaf(s)?m=0:m=n._maxVisibleLayers-(s.data.depth-n._entryDepth):m=s.data.height+1}else m=s.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var T=0;T<m;T++){var a=.5*T/m;o=P.combine(P.addOpacity(M,a),o)}}}t.call(c,s,n,u,o).style("stroke-width",d).call(P.stroke,w).style("opacity",A)}V.exports={style:y,styleOne:r}},13988:function(V,U,e){"use strict";var x=e(63188),P=e(92880).extendFlat,i=e(29736).axisHoverFormat;V.exports={y:x.y,x:x.x,x0:x.x0,y0:x.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:P({},x.name,{}),orientation:P({},x.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:x.fillcolor,points:P({},x.boxpoints,{}),jitter:P({},x.jitter,{}),pointpos:P({},x.pointpos,{}),width:P({},x.width,{}),marker:x.marker,text:x.text,hovertext:x.hovertext,hovertemplate:x.hovertemplate,quartilemethod:x.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,selected:x.selected,unselected:x.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:x.zorder}},67064:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(62555),L=e(63800),C=e(39032).BADNUM;V.exports=function(s,n){var u=i(s,n);if(u[0].t.empty)return u;for(var l=s._fullLayout,f=P.getFromId(s,n[n.orientation==="h"?"xaxis":"yaxis"]),g=1/0,h=-1/0,w=0,d=0,o=0;o<u.length;o++){var v=u[o],A=v.pts.map(L.extractVal),b=v.bandwidth=y(n,v,A),M=v.span=r(n,v,f,b);if(v.min===v.max&&b===0)M=v.span=[v.min,v.max],v.density=[{v:1,t:M[0]}],v.bandwidth=b,w=Math.max(w,1);else{var m=M[1]-M[0],S=Math.ceil(m/(b/3)),T=m/S;if(!isFinite(T)||!isFinite(S))return x.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var a=L.makeKDE(v,n,A);v.density=new Array(S);for(var E=0,p=M[0];p<M[1]+T/2;E++,p+=T){var k=a(p);v.density[E]={v:k,t:p},w=Math.max(w,k)}}d=Math.max(d,A.length),g=Math.min(g,M[0]),h=Math.max(h,M[1])}var R=P.findExtremes(f,[g,h],{padded:!0});if(n._extremes[f._id]=R,n.width)u[0].t.maxKDE=w;else{var B=l._violinScaleGroupStats,F=n.scalegroup,_=B[F];_?(_.maxKDE=Math.max(_.maxKDE,w),_.maxCount=Math.max(_.maxCount,d)):B[F]={maxKDE:w,maxCount:d}}return u[0].t.labels.kde=x._(s,"kde:"),u};function c(t,s,n){var u=Math.min(s,n/1.349);return 1.059*u*Math.pow(t,-.2)}function y(t,s,n){var u=s.max-s.min;if(!u)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,u/1e4);var l=n.length,f=x.stdev(n,l-1,s.mean);return Math.max(c(l,f,s.q3-s.q1),u/100)}function r(t,s,n,u){var l=t.spanmode,f=t.span||[],g=[s.min,s.max],h=[s.min-2*u,s.max+2*u],w;function d(v){var A=f[v],b=n.type==="multicategory"?n.r2c(A):n.d2c(A,0,t[s.valLetter+"calendar"]);return b===C?h[v]:b}l==="soft"?w=h:l==="hard"?w=g:w=[d(0),d(1)];var o={type:"linear",range:w};return P.setConvert(o),o.cleanRange(),w}},14348:function(V,U,e){"use strict";var x=e(96404).setPositionOffset,P=["v","h"];V.exports=function(L,C){for(var c=L.calcdata,y=C.xaxis,r=C.yaxis,t=0;t<P.length;t++){for(var s=P[t],n=s==="h"?r:y,u=[],l=0;l<c.length;l++){var f=c[l],g=f[0].t,h=f[0].trace;h.visible===!0&&h.type==="violin"&&!g.empty&&h.orientation===s&&h.xaxis===y._id&&h.yaxis===r._id&&u.push(l)}x("violin",L,u,n)}}},36240:function(V,U,e){"use strict";var x=e(3400),P=e(76308),i=e(90624),L=e(13988);V.exports=function(c,y,r,t){function s(T,a){return x.coerce(c,y,L,T,a)}function n(T,a){return x.coerce2(c,y,L,T,a)}if(i.handleSampleDefaults(c,y,s,t),y.visible!==!1){s("bandwidth"),s("side");var u=s("width");u||(s("scalegroup",y.name),s("scalemode"));var l=s("span"),f;Array.isArray(l)&&(f="manual"),s("spanmode",f);var g=s("line.color",(c.marker||{}).color||r),h=s("line.width"),w=s("fillcolor",P.addOpacity(y.line.color,.5));i.handlePointsDefaults(c,y,s,{prefix:""});var d=n("box.width"),o=n("box.fillcolor",w),v=n("box.line.color",g),A=n("box.line.width",h),b=s("box.visible",!!(d||o||v||A));b||(y.box={visible:!1});var M=n("meanline.color",g),m=n("meanline.width",h),S=s("meanline.visible",!!(M||m));S||(y.meanline={visible:!1}),s("quartilemethod"),s("zorder")}}},63800:function(V,U,e){"use strict";var x=e(3400),P={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};U.makeKDE=function(i,L,C){var c=C.length,y=P.gaussian,r=i.bandwidth,t=1/(c*r);return function(s){for(var n=0,u=0;u<c;u++)n+=y((s-C[u])/r);return t*n}},U.getPositionOnKdePath=function(i,L,C){var c,y;L.orientation==="h"?(c="y",y="x"):(c="x",y="y");var r=x.findPointOnPath(i.path,C,y,{pathLength:i.pathLength}),t=i.posCenterPx,s=r[c],n=L.side==="both"?2*t-s:t;return[s,n]},U.getKdeValue=function(i,L,C){var c=i.pts.map(U.extractVal),y=U.makeKDE(i,L,c);return y(C)/i.posDensityScale},U.extractVal=function(i){return i.v}},78e3:function(V,U,e){"use strict";var x=e(76308),P=e(3400),i=e(54460),L=e(27576),C=e(63800);V.exports=function(y,r,t,s,n){n||(n={});var u=n.hoverLayer,l=y.cd,f=l[0].trace,g=f.hoveron,h=g.indexOf("violins")!==-1,w=g.indexOf("kde")!==-1,d=[],o,v;if(h||w){var A=L.hoverOnBoxes(y,r,t,s);if(w&&A.length>0){var b=y.xa,M=y.ya,m,S,T,a,E;f.orientation==="h"?(E=r,m="y",T=M,S="x",a=b):(E=t,m="x",T=b,S="y",a=M);var p=l[y.index];if(E>=p.span[0]&&E<=p.span[1]){var k=P.extendFlat({},y),R=a.c2p(E,!0),B=C.getKdeValue(p,f,E),F=C.getPositionOnKdePath(p,f,R),_=T._offset,O=T._length;k[m+"0"]=F[0],k[m+"1"]=F[1],k[S+"0"]=k[S+"1"]=R,k[S+"Label"]=S+": "+i.hoverLabelText(a,E,f[S+"hoverformat"])+", "+l[0].t.labels.kde+" "+B.toFixed(3);for(var z=0,N=0;N<A.length;N++)if(A[N].attr==="med"){z=N;break}k.spikeDistance=A[z].spikeDistance;var Y=m+"Spike";k[Y]=A[z][Y],A[z].spikeDistance=void 0,A[z][Y]=void 0,k.hovertemplate=!1,d.push(k),v={},v[m+"1"]=P.constrain(_+F[0],_,_+O),v[m+"2"]=P.constrain(_+F[1],_,_+O),v[S+"1"]=v[S+"2"]=a._offset+R}}h&&(d=d.concat(A))}g.indexOf("points")!==-1&&(o=L.hoverOnPoints(y,r,t));var J=u.selectAll(".violinline-"+f.uid).data(v?[0]:[]);return J.enter().append("line").classed("violinline-"+f.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(v).call(x.stroke,y.color),s==="closest"?o?[o]:d:(o&&d.push(o),d)}},22869:function(V,U,e){"use strict";V.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(V,U,e){"use strict";var x=e(16560),P=e(3400).extendFlat;V.exports={violinmode:P({},x.boxmode,{}),violingap:P({},x.boxgap,{}),violingroupgap:P({},x.boxgroupgap,{})}},8939:function(V,U,e){"use strict";var x=e(3400),P=e(98228),i=e(68832);V.exports=function(C,c,y){function r(t,s){return x.coerce(C,c,P,t,s)}i._supply(C,c,y,r,"violin")}},5140:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(18728),C=e(52340),c=e(63800);V.exports=function(r,t,s,n){var u=r._context.staticPlot,l=r._fullLayout,f=t.xaxis,g=t.yaxis;function h(w,d){var o=C(w,{xaxis:f,yaxis:g,trace:d,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}P.makeTraceGroups(n,s,"trace violins").each(function(w){var d=x.select(this),o=w[0],v=o.t,A=o.trace;if(A.visible!==!0||v.empty){d.remove();return}var b=v.bPos,M=v.bdPos,m=t[v.valLetter+"axis"],S=t[v.posLetter+"axis"],T=A.side==="both",a=T||A.side==="positive",E=T||A.side==="negative",p=d.selectAll("path.violin").data(P.identity);p.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),p.exit().remove(),p.each(function(N){var Y=x.select(this),J=N.density,ae=J.length,se=S.c2l(N.pos+b,!0),ue=S.l2p(se),K;if(A.width)K=v.maxKDE/M;else{var j=l._violinScaleGroupStats[A.scalegroup];K=A.scalemode==="count"?j.maxKDE/M*(j.maxCount/N.pts.length):j.maxKDE/M}var ie,W,Q,ee,$,X,oe;if(a){for(X=new Array(ae),ee=0;ee<ae;ee++)oe=X[ee]={},oe[v.posLetter]=se+J[ee].v/K,oe[v.valLetter]=m.c2l(J[ee].t,!0);ie=h(X,A)}if(E){for(X=new Array(ae),$=0,ee=ae-1;$<ae;$++,ee--)oe=X[$]={},oe[v.posLetter]=se-J[ee].v/K,oe[v.valLetter]=m.c2l(J[ee].t,!0);W=h(X,A)}if(T)Q=ie+"L"+W.substr(1)+"Z";else{var te=[ue,m.c2p(J[0].t)],fe=[ue,m.c2p(J[ae-1].t)];A.orientation==="h"&&(te.reverse(),fe.reverse()),a?Q="M"+te+"L"+ie.substr(1)+"L"+fe:Q="M"+fe+"L"+W.substr(1)+"L"+te}Y.attr("d",Q),N.posCenterPx=ue,N.posDensityScale=K*M,N.path=Y.node(),N.pathLength=N.path.getTotalLength()/(T?2:1)});var k=A.box,R=k.width,B=(k.line||{}).width,F,_;T?(F=M*R,_=0):a?(F=[0,M*R/2],_=B*{x:1,y:-1}[v.posLetter]):(F=[M*R/2,0],_=B*{x:-1,y:1}[v.posLetter]),L.plotBoxAndWhiskers(d,{pos:S,val:m},A,{bPos:b,bdPos:F,bPosPxOffset:_}),L.plotBoxMean(d,{pos:S,val:m},A,{bPos:b,bdPos:F,bPosPxOffset:_});var O;!A.box.visible&&A.meanline.visible&&(O=P.identity);var z=d.selectAll("path.meanline").data(O||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(N){var Y=m.c2p(N.mean,!0),J=c.getPositionOnKdePath(N,A,Y);x.select(this).attr("d",A.orientation==="h"?"M"+Y+","+J[0]+"V"+J[1]:"M"+J[0]+","+Y+"H"+J[1])}),L.plotPoints(d,{x:f,y:g},A,v)})}},95908:function(V,U,e){"use strict";var x=e(33428),P=e(76308),i=e(49224).stylePoints;V.exports=function(C){var c=x.select(C).selectAll("g.trace.violins");c.style("opacity",function(y){return y[0].trace.opacity}),c.each(function(y){var r=y[0].trace,t=x.select(this),s=r.box||{},n=s.line||{},u=r.meanline||{},l=u.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,s.fillcolor);var f={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};t.selectAll("path.mean").style(f).call(P.stroke,u.color),t.selectAll("path.meanline").style(f).call(P.stroke,u.color),i(t,r,C)})}},58168:function(V,U,e){"use strict";var x=e(49084),P=e(50048),i=e(16716),L=e(45464),C=e(92880).extendFlat,c=e(67824).overrideAll,y=V.exports=c(C({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},x("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:i.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:C({},L.hoverinfo),showlegend:C({},L.showlegend,{dflt:!1})}),"calc","nested");y.x.editType=y.y.editType=y.z.editType=y.value.editType="calc+clearAxisTypes",y.transforms=void 0},91976:function(V,U,e){"use strict";var x=e(67792).gl_mesh3d,P=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,L=e(43080),C=e(8932).extractOpts,c=e(52094),y=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(u,l,f){this.scene=u,this.uid=f,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var s=t.prototype;s.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,f=this.data._meshX[l],g=this.data._meshY[l],h=this.data._meshZ[l],w=this.data._Ys.length,d=this.data._Zs.length,o=y(f,this.data._Xs).id,v=y(g,this.data._Ys).id,A=y(h,this.data._Zs).id,b=u.index=A+d*v+d*w*o;u.traceCoordinate=[this.data._meshX[b],this.data._meshY[b],this.data._meshZ[b],this.data._value[b]];var M=this.data.hovertext||this.data.text;return i(M)&&M[b]!==void 0?u.textLabel=M[b]:M&&(u.textLabel=M),!0}},s.update=function(u){var l=this.scene,f=l.fullSceneLayout;this.data=r(u);function g(v,A,b,M){return A.map(function(m){return v.d2l(m,0,M)*b})}var h=c(g(f.xaxis,u._meshX,l.dataScale[0],u.xcalendar),g(f.yaxis,u._meshY,l.dataScale[1],u.ycalendar),g(f.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),w=c(u._meshI,u._meshJ,u._meshK),d={positions:h,cells:w,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,opacityscale:u.opacityscale,contourEnable:u.contour.show,contourColor:L(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},o=C(u);d.vertexIntensity=u._meshIntensity,d.vertexIntensityBounds=[o.min,o.max],d.colormap=P(u),this.mesh.update(d)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(u,l){var f=u.glplot.gl,g=x({gl:f}),h=new t(u,g,l.uid);return g._trace=h,h.update(l),u.glplot.add(g),h}V.exports=n},12448:function(V,U,e){"use strict";var x=e(3400),P=e(58168),i=e(70548).supplyIsoDefaults,L=e(60192).opacityscaleDefaults;V.exports=function(c,y,r,t){function s(n,u){return x.coerce(c,y,P,n,u)}i(c,y,r,t,s),L(c,y,t,s)}},67776:function(V,U,e){"use strict";V.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(V,U,e){"use strict";var x=e(20832),P=e(52904).line,i=e(45464),L=e(29736).axisHoverFormat,C=e(21776).Ks,c=e(21776).Gw,y=e(10213),r=e(92880).extendFlat,t=e(76308);function s(n){return{marker:{color:r({},x.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},x.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},x.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}V.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:x.hovertext,hovertemplate:C({},{keys:y.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:c({editType:"plot"},{keys:y.eventDataKeys.concat(["label"])}),text:x.text,textposition:x.textposition,insidetextanchor:x.insidetextanchor,textangle:x.textangle,textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:x.outsidetextfont,constraintext:x.constraintext,cliponaxis:x.cliponaxis,orientation:x.orientation,offset:x.offset,width:x.width,increasing:s("increasing"),decreasing:s("decreasing"),totals:s("intermediate sums and total"),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,zorder:x.zorder}},73540:function(V,U,e){"use strict";var x=e(54460),P=e(1220),i=e(3400).mergeArray,L=e(4500),C=e(39032).BADNUM;function c(r){return r==="a"||r==="absolute"}function y(r){return r==="t"||r==="total"}V.exports=function(t,s){var n=x.getFromId(t,s.xaxis||"x"),u=x.getFromId(t,s.yaxis||"y"),l,f,g,h,w,d;s.orientation==="h"?(l=n.makeCalcdata(s,"x"),g=u.makeCalcdata(s,"y"),h=P(s,u,"y",g),w=!!s.yperiodalignment,d="y"):(l=u.makeCalcdata(s,"y"),g=n.makeCalcdata(s,"x"),h=P(s,n,"x",g),w=!!s.xperiodalignment,d="x"),f=h.vals;for(var o=Math.min(f.length,l.length),v=new Array(o),A=0,b,M=!1,m=0;m<o;m++){var S=l[m]||0,T=!1;(l[m]!==C||y(s.measure[m])||c(s.measure[m]))&&m+1<o&&(l[m+1]!==C||y(s.measure[m+1])||c(s.measure[m+1]))&&(T=!0);var a=v[m]={i:m,p:f[m],s:S,rawS:S,cNext:T};c(s.measure[m])?(A=a.s,a.isSum=!0,a.dir="totals",a.s=A):y(s.measure[m])?(a.isSum=!0,a.dir="totals",a.s=A):(a.isSum=!1,a.dir=a.rawS<0?"decreasing":"increasing",b=a.s,a.s=A+b,A+=b),a.dir==="totals"&&(M=!0),w&&(v[m].orig_p=g[m],v[m][d+"End"]=h.ends[m],v[m][d+"Start"]=h.starts[m]),s.ids&&(a.id=String(s.ids[m])),a.v=(s.base||0)+A}return v.length&&(v[0].hasTotals=M),i(s.text,v,"tx"),i(s.hovertext,v,"htx"),L(v,s),v}},10213:function(V){"use strict";V.exports={eventDataKeys:["initial","delta","final"]}},50152:function(V,U,e){"use strict";var x=e(96376).setGroupPositions;V.exports=function(i,L){var C=i._fullLayout,c=i._fullData,y=i.calcdata,r=L.xaxis,t=L.yaxis,s=[],n=[],u=[],l,f;for(f=0;f<c.length;f++){var g=c[f];g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="waterfall"&&(l=y[f],g.orientation==="h"?u.push(l):n.push(l),s.push(l))}var h={mode:C.waterfallmode,norm:C.waterfallnorm,gap:C.waterfallgap,groupgap:C.waterfallgroupgap};for(x(i,r,t,n,h),x(i,t,r,u,h),f=0;f<s.length;f++){l=s[f];for(var w=0;w<l.length;w++){var d=l[w];d.isSum===!1&&(d.s0+=w===0?0:l[w-1].s),w+1<l.length&&(l[w].nextP0=l[w+1].p0,l[w].nextS0=l[w+1].s0)}}}},24224:function(V,U,e){"use strict";var x=e(3400),P=e(20011),i=e(31508).handleText,L=e(43980),C=e(31147),c=e(65776),y=e(76308),r=e(48164),t=r.INCREASING.COLOR,s=r.DECREASING.COLOR,n="#4499FF";function u(g,h,w){g(h+".marker.color",w),g(h+".marker.line.color",y.defaultLine),g(h+".marker.line.width")}function l(g,h,w,d){function o(m,S){return x.coerce(g,h,c,m,S)}var v=L(g,h,d,o);if(!v){h.visible=!1;return}C(g,h,d,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var A=o("textposition");i(g,h,d,o,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),u(o,"increasing",t),u(o,"decreasing",s),u(o,"totals",n);var b=o("connector.visible");if(b){o("connector.mode");var M=o("connector.line.width");M&&(o("connector.line.color"),o("connector.line.dash"))}o("zorder")}function f(g,h){var w,d;function o(A){return x.coerce(d._input,d,c,A)}if(h.waterfallmode==="group")for(var v=0;v<g.length;v++)d=g[v],w=d._input,P(w,d,h,o)}V.exports={supplyDefaults:l,crossTraceDefaults:f}},53256:function(V){"use strict";V.exports=function(e,x){return e.x="xVal"in x?x.xVal:x.x,e.y="yVal"in x?x.yVal:x.y,"initial"in x&&(e.initial=x.initial),"delta"in x&&(e.delta=x.delta),"final"in x&&(e.final=x.final),x.xa&&(e.xaxis=x.xa),x.ya&&(e.yaxis=x.ya),e}},94196:function(V,U,e){"use strict";var x=e(54460).hoverLabelText,P=e(76308).opacity,i=e(63400).hoverOnBars,L=e(48164),C={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};V.exports=function(r,t,s,n,u){var l=i(r,t,s,n,u);if(!l)return;var f=l.cd,g=f[0].trace,h=g.orientation==="h",w=h?"x":"y",d=h?r.xa:r.ya;function o(p){return x(d,p,g[w+"hoverformat"])}var v=l.index,A=f[v],b=A.isSum?A.b+A.s:A.rawS;l.initial=A.b+A.s-b,l.delta=b,l.final=l.initial+l.delta;var M=o(Math.abs(l.delta));l.deltaLabel=b<0?"("+M+")":M,l.finalLabel=o(l.final),l.initialLabel=o(l.initial);var m=A.hi||g.hoverinfo,S=[];if(m&&m!=="none"&&m!=="skip"){var T=m==="all",a=m.split("+"),E=function(p){return T||a.indexOf(p)!==-1};A.isSum||(E("final")&&(h?!E("x"):!E("y"))&&S.push(l.finalLabel),E("delta")&&(b<0?S.push(l.deltaLabel+" "+C.decreasing):S.push(l.deltaLabel+" "+C.increasing)),E("initial")&&S.push("Initial: "+l.initialLabel))}return S.length&&(l.extraText=S.join("<br>")),l.color=c(g,A),[l]};function c(y,r){var t=y[r.dir].marker,s=t.color,n=t.line.color,u=t.line.width;if(P(s))return s;if(P(n)&&u)return n}},95952:function(V,U,e){"use strict";V.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(V){"use strict";V.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(V,U,e){"use strict";var x=e(3400),P=e(91352);V.exports=function(i,L,C){var c=!1;function y(s,n){return x.coerce(i,L,P,s,n)}for(var r=0;r<C.length;r++){var t=C[r];if(t.visible&&t.type==="waterfall"){c=!0;break}}c&&(y("waterfallmode"),y("waterfallgap",.2),y("waterfallgroupgap"))}},64488:function(V,U,e){"use strict";var x=e(33428),P=e(3400),i=e(43616),L=e(39032).BADNUM,C=e(98184),c=e(82744).clearMinTextSize;V.exports=function(s,n,u,l){var f=s._fullLayout;c("waterfall",f),C.plot(s,n,u,l,{mode:f.waterfallmode,norm:f.waterfallmode,gap:f.waterfallgap,groupgap:f.waterfallgroupgap}),y(s,n,u,l)};function y(t,s,n,u){var l=s.xaxis,f=s.yaxis;P.makeTraceGroups(u,n,"trace bars").each(function(g){var h=x.select(this),w=g[0].trace,d=P.ensureSingle(h,"g","lines");if(!w.connector||!w.connector.visible){d.remove();return}var o=w.orientation==="h",v=w.connector.mode,A=d.selectAll("g.line").data(P.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var b=A.size();A.each(function(M,m){if(!(m!==b-1&&!M.cNext)){var S=r(M,l,f,o),T=S[0],a=S[1],E="";T[0]!==L&&a[0]!==L&&T[1]!==L&&a[1]!==L&&(v==="spanning"&&!M.isSum&&m>0&&(o?E+="M"+T[0]+","+a[1]+"V"+a[0]:E+="M"+T[1]+","+a[0]+"H"+T[0]),v!=="between"&&(M.isSum||m<b-1)&&(o?E+="M"+T[1]+","+a[0]+"V"+a[1]:E+="M"+T[0]+","+a[1]+"H"+T[1]),T[2]!==L&&a[2]!==L&&(o?E+="M"+T[1]+","+a[1]+"V"+a[2]:E+="M"+T[1]+","+a[1]+"H"+T[2])),E===""&&(E="M0,0Z"),P.ensureSingle(x.select(this),"path").attr("d",E).call(i.setClipUrl,s.layerClipId,t)}})})}function r(t,s,n,u){var l=[],f=[],g=u?s:n,h=u?n:s;return l[0]=g.c2p(t.s0,!0),f[0]=h.c2p(t.p0,!0),l[1]=g.c2p(t.s1,!0),f[1]=h.c2p(t.p1,!0),l[2]=g.c2p(t.nextS0,!0),f[2]=h.c2p(t.nextP0,!0),u?[l,f]:[f,l]}},12252:function(V,U,e){"use strict";var x=e(33428),P=e(43616),i=e(76308),L=e(13448).DESELECTDIM,C=e(60100),c=e(82744).resizeText,y=C.styleTextPoints;function r(t,s,n){var u=n||x.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");c(t,u,"waterfall"),u.style("opacity",function(l){return l[0].trace.opacity}),u.each(function(l){var f=x.select(this),g=l[0].trace;f.selectAll(".point > path").each(function(h){if(!h.isBlank){var w=g[h.dir].marker;x.select(this).call(i.fill,w.color).call(i.stroke,w.line.color).call(P.dashLine,w.line.dash,w.line.width).style("opacity",g.selectedpoints&&!h.selected?L:1)}}),y(f,g,t),f.selectAll(".lines").each(function(){var h=g.connector.line;P.lineGroupStyle(x.select(this).selectAll("path"),h.width,h.color,h.dash)})})}V.exports={style:r}},84224:function(V,U,e){"use strict";var x=e(54460),P=e(3400),i=e(73060),L=e(60468).W,C=e(39032).BADNUM;U.moduleType="transform",U.name="aggregate";var c=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},y=c.aggregations;U.supplyDefaults=function(l,f){var g={},h;function w(p,k){return P.coerce(l,g,c,p,k)}var d=w("enabled");if(!d)return g;var o=i.findArrayAttributes(f),v={};for(h=0;h<o.length;h++)v[o[h]]=1;var A=w("groups");if(!Array.isArray(A)){if(!v[A])return g.enabled=!1,g;v[A]=0}var b=l.aggregations||[],M=g.aggregations=new Array(b.length),m;function S(p,k){return P.coerce(b[h],m,y,p,k)}for(h=0;h<b.length;h++){m={_index:h};var T=S("target"),a=S("func"),E=S("enabled");E&&T&&(v[T]||a==="count"&&v[T]===void 0)?(a==="stddev"&&S("funcmode"),v[T]=0,M[h]=m):M[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)v[o[h]]&&M.push({target:o[h],func:y.func.dflt,enabled:!0,_index:-1});return g},U.calcTransform=function(l,f,g){if(g.enabled){var h=g.groups,w=P.getTargetArray(f,{target:h});if(w){var d,o,v,A,b={},M={},m=[],S=L(f.transforms,g),T=w.length;for(f._length&&(T=Math.min(T,f._length)),d=0;d<T;d++)o=w[d],v=b[o],v===void 0?(b[o]=m.length,A=[d],m.push(A),M[b[o]]=S(d)):(m[v].push(d),M[b[o]]=(M[b[o]]||[]).concat(S(d)));g._indexToPoints=M;var a=g.aggregations;for(d=0;d<a.length;d++)r(l,f,m,a[d]);typeof h=="string"&&r(l,f,m,{target:h,func:"first",enabled:!0}),f._length=m.length}}};function r(l,f,g,h){if(h.enabled){for(var w=h.target,d=P.nestedProperty(f,w),o=d.get(),v=x.getDataConversions(l,f,w,o),A=t(h,v),b=new Array(g.length),M=0;M<g.length;M++)b[M]=A(o,g[M]);d.set(b),h.func==="count"&&P.pushUnique(f._arrayAttrs,w)}}function t(l,f){var g=l.func,h=f.d2c,w=f.c2d;switch(g){case"count":return s;case"first":return n;case"last":return u;case"sum":return function(d,o){for(var v=0,A=0;A<o.length;A++){var b=h(d[o[A]]);b!==C&&(v+=b)}return w(v)};case"avg":return function(d,o){for(var v=0,A=0,b=0;b<o.length;b++){var M=h(d[o[b]]);M!==C&&(v+=M,A++)}return A?w(v/A):C};case"min":return function(d,o){for(var v=1/0,A=0;A<o.length;A++){var b=h(d[o[A]]);b!==C&&(v=Math.min(v,b))}return v===1/0?C:w(v)};case"max":return function(d,o){for(var v=-1/0,A=0;A<o.length;A++){var b=h(d[o[A]]);b!==C&&(v=Math.max(v,b))}return v===-1/0?C:w(v)};case"range":return function(d,o){for(var v=1/0,A=-1/0,b=0;b<o.length;b++){var M=h(d[o[b]]);M!==C&&(v=Math.min(v,M),A=Math.max(A,M))}return A===-1/0||v===1/0?C:w(A-v)};case"change":return function(d,o){var v=h(d[o[0]]),A=h(d[o[o.length-1]]);return v===C||A===C?C:w(A-v)};case"median":return function(d,o){for(var v=[],A=0;A<o.length;A++){var b=h(d[o[A]]);b!==C&&v.push(b)}if(!v.length)return C;v.sort(P.sorterAsc);var M=(v.length-1)/2;return w((v[Math.floor(M)]+v[Math.ceil(M)])/2)};case"mode":return function(d,o){for(var v={},A=0,b=C,M=0;M<o.length;M++){var m=h(d[o[M]]);if(m!==C){var S=v[m]=(v[m]||0)+1;S>A&&(A=S,b=m)}}return A?w(b):C};case"rms":return function(d,o){for(var v=0,A=0,b=0;b<o.length;b++){var M=h(d[o[b]]);M!==C&&(v+=M*M,A++)}return A?w(Math.sqrt(v/A)):C};case"stddev":return function(d,o){var v=0,A=0,b=1,M=C,m;for(m=0;m<o.length&&M===C;m++)M=h(d[o[m]]);if(M===C)return C;for(;m<o.length;m++){var S=h(d[o[m]]);if(S!==C){var T=S-M;v+=T,A+=T*T,b++}}var a=l.funcmode==="sample"?b-1:b;return a?Math.sqrt((A-v*v/b)/a):0}}}function s(l,f){return f.length}function n(l,f){return l[f[0]]}function u(l,f){return l[f[f.length-1]]}},76744:function(V,U,e){"use strict";var x=e(3400),P=e(24040),i=e(54460),L=e(60468).W,C=e(69104),c=C.COMPARISON_OPS,y=C.INTERVAL_OPS,r=C.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(c).concat(y).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(s){var n={};function u(h,w){return x.coerce(s,n,U.attributes,h,w)}var l=u("enabled");if(l){var f=u("target");if(x.isArrayOrTypedArray(f)&&f.length===0)return n.enabled=!1,n;u("preservegaps"),u("operation"),u("value");var g=P.getComponentMethod("calendars","handleDefaults");g(s,n,"valuecalendar",null),g(s,n,"targetcalendar",null)}return n},U.calcTransform=function(s,n,u){if(!u.enabled)return;var l=x.getTargetArray(n,u);if(!l)return;var f=u.target,g=l.length;n._length&&(g=Math.min(g,n._length));var h=u.targetcalendar,w=n._arrayAttrs,d=u.preservegaps;if(typeof f=="string"){var o=x.nestedProperty(n,f+"calendar").get();o&&(h=o)}var v=i.getDataToCoordFunc(s,n,f,l),A=t(u,v,h),b={},M={},m=0;function S(R,B){for(var F=0;F<w.length;F++){var _=x.nestedProperty(n,w[F]);R(_,B)}}var T,a;d?(T=function(R){b[R.astr]=x.extendDeep([],R.get()),R.set(new Array(g))},a=function(R,B){var F=b[R.astr][B];R.get()[B]=F}):(T=function(R){b[R.astr]=x.extendDeep([],R.get()),R.set([])},a=function(R,B){var F=b[R.astr][B];R.get().push(F)}),S(T);for(var E=L(n.transforms,u),p=0;p<g;p++){var k=A(l[p]);k?(S(a,p),M[m++]=E(p)):d&&m++}u._indexToPoints=M,n._length=m};function t(s,n,u){var l=s.operation,f=s.value,g=x.isArrayOrTypedArray(f);function h(v){return v.indexOf(l)!==-1}var w=function(v){return n(v,0,s.valuecalendar)},d=function(v){return n(v,0,u)},o;switch(h(c)?o=w(g?f[0]:f):h(y)?o=g?[w(f[0]),w(f[1])]:[w(f),w(f)]:h(r)&&(o=g?f.map(w):[w(f)]),l){case"=":return function(v){return d(v)===o};case"!=":return function(v){return d(v)!==o};case"<":return function(v){return d(v)<o};case"<=":return function(v){return d(v)<=o};case">":return function(v){return d(v)>o};case">=":return function(v){return d(v)>=o};case"[]":return function(v){var A=d(v);return A>=o[0]&&A<=o[1]};case"()":return function(v){var A=d(v);return A>o[0]&&A<o[1]};case"[)":return function(v){var A=d(v);return A>=o[0]&&A<o[1]};case"(]":return function(v){var A=d(v);return A>o[0]&&A<=o[1]};case"][":return function(v){var A=d(v);return A<=o[0]||A>=o[1]};case")(":return function(v){var A=d(v);return A<o[0]||A>o[1]};case"](":return function(v){var A=d(v);return A<=o[0]||A>o[1]};case")[":return function(v){var A=d(v);return A<o[0]||A>=o[1]};case"{}":return function(v){return o.indexOf(d(v))!==-1};case"}{":return function(v){return o.indexOf(d(v))===-1}}}},32028:function(V,U,e){"use strict";var x=e(3400),P=e(73060),i=e(7316),L=e(60468).W;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(c,y,r){var t,s={};function n(w,d){return x.coerce(c,s,U.attributes,w,d)}var u=n("enabled");if(!u)return s;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var l=c.styles,f=s.styles=[];if(l)for(t=0;t<l.length;t++){var g=f[t]={};x.coerce(l[t],f[t],U.attributes.styles,"target");var h=x.coerce(l[t],f[t],U.attributes.styles,"value");x.isPlainObject(h)?g.value=x.extendDeep({},h):h&&delete g.value}return s},U.transform=function(c,y){var r,t,s,n=[];for(t=0;t<c.length;t++)for(r=C(c[t],y),s=0;s<r.length;s++)n.push(r[s]);return n};function C(c,y){var r,t,s,n,u,l,f,g,h,w,d=y.transform,o=y.transformIndex,v=c.transforms[o].groups,A=L(c.transforms,d);if(!x.isArrayOrTypedArray(v)||v.length===0)return[c];var b=x.filterUnique(v),M=new Array(b.length),m=v.length,S=P.findArrayAttributes(c),T=d.styles||[],a={};for(r=0;r<T.length;r++)a[T[r].target]=T[r].value;d.styles&&(w=x.keyedContainer(d,"styles","target","value.name"));var E={},p={};for(r=0;r<b.length;r++){l=b[r],E[l]=r,p[l]=0,f=M[r]=x.extendDeepNoArrays({},c),f._group=l,f.transforms[o]._indexToPoints={};var k=null;for(w&&(k=w.get(l)),k||k===""?f.name=k:f.name=x.templateString(d.nameformat,{trace:c.name,group:l}),g=f.transforms,f.transforms=[],t=0;t<g.length;t++)f.transforms[t]=x.extendDeepNoArrays({},g[t]);for(t=0;t<S.length;t++)x.nestedProperty(f,S[t]).set([])}for(s=0;s<S.length;s++){for(n=S[s],t=0,h=[];t<b.length;t++)h[t]=x.nestedProperty(M[t],n).get();for(u=x.nestedProperty(c,n).get(),t=0;t<m;t++)h[E[v[t]]].push(u[t])}for(t=0;t<m;t++){f=M[E[v[t]]];var R=f.transforms[o]._indexToPoints;R[p[v[t]]]=A(t),p[v[t]]++}for(r=0;r<b.length;r++)l=b[r],f=M[r],i.clearExpandedTraceDefaultColors(f),f=x.extendDeepNoArrays(f,a[l]||{});return M}},60468:function(V,U){"use strict";U.W=function(e,x){for(var P,i,L=0;L<e.length&&(P=e[L],P!==x);L++)!P._indexToPoints||P.enabled===!1||(i=P._indexToPoints);var C=i?function(c){return i[c]}:function(c){return[c]};return C}},76272:function(V,U,e){"use strict";var x=e(3400),P=e(54460),i=e(60468).W,L=e(39032).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(y){var r={};function t(n,u){return x.coerce(y,r,U.attributes,n,u)}var s=t("enabled");return s&&(t("target"),t("order")),r},U.calcTransform=function(y,r,t){if(t.enabled){var s=x.getTargetArray(r,t);if(s){var n=t.target,u=s.length;r._length&&(u=Math.min(u,r._length));var l=r._arrayAttrs,f=P.getDataToCoordFunc(y,r,n,s),g=C(t,s,f,u),h=i(r.transforms,t),w={},d,o;for(d=0;d<l.length;d++){var v=x.nestedProperty(r,l[d]),A=v.get(),b=new Array(u);for(o=0;o<u;o++)b[o]=A[g[o]];v.set(b)}for(o=0;o<u;o++)w[o]=h(g[o]);t._indexToPoints=w,r._length=u}}};function C(y,r,t,s){var n=new Array(s),u=new Array(s),l;for(l=0;l<s;l++)n[l]={v:r[l],i:l};for(n.sort(c(y,t)),l=0;l<s;l++)u[l]=n[l].i;return u}function c(y,r){switch(y.order){case"ascending":return function(t,s){var n=r(t.v),u=r(s.v);return n===L?1:u===L?-1:n-u};case"descending":return function(t,s){var n=r(t.v),u=r(s.v);return n===L?1:u===L?-1:u-n}}}},25788:function(V,U){"use strict";U.version="2.31.0"},67792:function(V,U,e){var x=e(4168);(function(){var P={1964:function(c,y,r){c.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(c,y,r){"use strict";var t;function s(Te,ye){if(!(Te instanceof ye))throw new TypeError("Cannot call a class as a function")}function n(Te,ye){for(var Se=0;Se<ye.length;Se++){var Ke=ye[Se];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(Te,l(Ke.key),Ke)}}function u(Te,ye,Se){return ye&&n(Te.prototype,ye),Se&&n(Te,Se),Object.defineProperty(Te,"prototype",{writable:!1}),Te}function l(Te){var ye=f(Te,"string");return b(ye)=="symbol"?ye:ye+""}function f(Te,ye){if(b(Te)!="object"||!Te)return Te;var Se=Te[Symbol.toPrimitive];if(Se!==void 0){var Ke=Se.call(Te,ye||"default");if(b(Ke)!="object")return Ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ye==="string"?String:Number)(Te)}function g(Te,ye,Se){return ye=o(ye),h(Te,d()?Reflect.construct(ye,Se||[],o(Te).constructor):ye.apply(Te,Se))}function h(Te,ye){if(ye&&(b(ye)==="object"||typeof ye=="function"))return ye;if(ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(Te)}function w(Te){if(Te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Te}function d(){try{var Te=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(ye){}return(d=function(){return!!Te})()}function o(Te){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},o(Te)}function v(Te,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(ye&&ye.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),ye&&A(Te,ye)}function A(Te,ye){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ke,rt){return Ke.__proto__=rt,Ke},A(Te,ye)}function b(Te){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},b(Te)}var M=r(7507),m=r(3778),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;y.hp=p,t=ae,y.IS=50;var T=2147483647;t=T,p.TYPED_ARRAY_SUPPORT=a(),!p.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var Te=new Uint8Array(1),ye={foo:function(){return 42}};return Object.setPrototypeOf(ye,Uint8Array.prototype),Object.setPrototypeOf(Te,ye),Te.foo()===42}catch(Se){return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function E(Te){if(Te>T)throw new RangeError('The value "'+Te+'" is invalid for option "size"');var ye=new Uint8Array(Te);return Object.setPrototypeOf(ye,p.prototype),ye}function p(Te,ye,Se){if(typeof Te=="number"){if(typeof ye=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return F(Te)}return k(Te,ye,Se)}p.poolSize=8192;function k(Te,ye,Se){if(typeof Te=="string")return _(Te,ye);if(ArrayBuffer.isView(Te))return z(Te);if(Te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(Te));if(Oe(Te,ArrayBuffer)||Te&&Oe(Te.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Oe(Te,SharedArrayBuffer)||Te&&Oe(Te.buffer,SharedArrayBuffer)))return N(Te,ye,Se);if(typeof Te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ke=Te.valueOf&&Te.valueOf();if(Ke!=null&&Ke!==Te)return p.from(Ke,ye,Se);var rt=Y(Te);if(rt)return rt;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof Te[Symbol.toPrimitive]=="function")return p.from(Te[Symbol.toPrimitive]("string"),ye,Se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(Te))}p.from=function(Te,ye,Se){return k(Te,ye,Se)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function R(Te){if(typeof Te!="number")throw new TypeError('"size" argument must be of type number');if(Te<0)throw new RangeError('The value "'+Te+'" is invalid for option "size"')}function B(Te,ye,Se){return R(Te),Te<=0?E(Te):ye!==void 0?typeof Se=="string"?E(Te).fill(ye,Se):E(Te).fill(ye):E(Te)}p.alloc=function(Te,ye,Se){return B(Te,ye,Se)};function F(Te){return R(Te),E(Te<0?0:J(Te)|0)}p.allocUnsafe=function(Te){return F(Te)},p.allocUnsafeSlow=function(Te){return F(Te)};function _(Te,ye){if((typeof ye!="string"||ye==="")&&(ye="utf8"),!p.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);var Se=se(Te,ye)|0,Ke=E(Se),rt=Ke.write(Te,ye);return rt!==Se&&(Ke=Ke.slice(0,rt)),Ke}function O(Te){for(var ye=Te.length<0?0:J(Te.length)|0,Se=E(ye),Ke=0;Ke<ye;Ke+=1)Se[Ke]=Te[Ke]&255;return Se}function z(Te){if(Oe(Te,Uint8Array)){var ye=new Uint8Array(Te);return N(ye.buffer,ye.byteOffset,ye.byteLength)}return O(Te)}function N(Te,ye,Se){if(ye<0||Te.byteLength<ye)throw new RangeError('"offset" is outside of buffer bounds');if(Te.byteLength<ye+(Se||0))throw new RangeError('"length" is outside of buffer bounds');var Ke;return ye===void 0&&Se===void 0?Ke=new Uint8Array(Te):Se===void 0?Ke=new Uint8Array(Te,ye):Ke=new Uint8Array(Te,ye,Se),Object.setPrototypeOf(Ke,p.prototype),Ke}function Y(Te){if(p.isBuffer(Te)){var ye=J(Te.length)|0,Se=E(ye);return Se.length===0||Te.copy(Se,0,0,ye),Se}if(Te.length!==void 0)return typeof Te.length!="number"||Ne(Te.length)?E(0):O(Te);if(Te.type==="Buffer"&&Array.isArray(Te.data))return O(Te.data)}function J(Te){if(Te>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return Te|0}function ae(Te){return+Te!=Te&&(Te=0),p.alloc(+Te)}p.isBuffer=function(ye){return ye!=null&&ye._isBuffer===!0&&ye!==p.prototype},p.compare=function(ye,Se){if(Oe(ye,Uint8Array)&&(ye=p.from(ye,ye.offset,ye.byteLength)),Oe(Se,Uint8Array)&&(Se=p.from(Se,Se.offset,Se.byteLength)),!p.isBuffer(ye)||!p.isBuffer(Se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ye===Se)return 0;for(var Ke=ye.length,rt=Se.length,Lt=0,It=Math.min(Ke,rt);Lt<It;++Lt)if(ye[Lt]!==Se[Lt]){Ke=ye[Lt],rt=Se[Lt];break}return Ke<rt?-1:rt<Ke?1:0},p.isEncoding=function(ye){switch(String(ye).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ye,Se){if(!Array.isArray(ye))throw new TypeError('"list" argument must be an Array of Buffers');if(ye.length===0)return p.alloc(0);var Ke;if(Se===void 0)for(Se=0,Ke=0;Ke<ye.length;++Ke)Se+=ye[Ke].length;var rt=p.allocUnsafe(Se),Lt=0;for(Ke=0;Ke<ye.length;++Ke){var It=ye[Ke];if(Oe(It,Uint8Array))Lt+It.length>rt.length?(p.isBuffer(It)||(It=p.from(It)),It.copy(rt,Lt)):Uint8Array.prototype.set.call(rt,It,Lt);else if(p.isBuffer(It))It.copy(rt,Lt);else throw new TypeError('"list" argument must be an Array of Buffers');Lt+=It.length}return rt};function se(Te,ye){if(p.isBuffer(Te))return Te.length;if(ArrayBuffer.isView(Te)||Oe(Te,ArrayBuffer))return Te.byteLength;if(typeof Te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(Te));var Se=Te.length,Ke=arguments.length>2&&arguments[2]===!0;if(!Ke&&Se===0)return 0;for(var rt=!1;;)switch(ye){case"ascii":case"latin1":case"binary":return Se;case"utf8":case"utf-8":return tt(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se*2;case"hex":return Se>>>1;case"base64":return Je(Te).length;default:if(rt)return Ke?-1:tt(Te).length;ye=(""+ye).toLowerCase(),rt=!0}}p.byteLength=se;function ue(Te,ye,Se){var Ke=!1;if((ye===void 0||ye<0)&&(ye=0),ye>this.length||((Se===void 0||Se>this.length)&&(Se=this.length),Se<=0)||(Se>>>=0,ye>>>=0,Se<=ye))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return Pe(this,ye,Se);case"utf8":case"utf-8":return te(this,ye,Se);case"ascii":return Ae(this,ye,Se);case"latin1":case"binary":return be(this,ye,Se);case"base64":return oe(this,ye,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,ye,Se);default:if(Ke)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),Ke=!0}}p.prototype._isBuffer=!0;function K(Te,ye,Se){var Ke=Te[ye];Te[ye]=Te[Se],Te[Se]=Ke}p.prototype.swap16=function(){var ye=this.length;if(ye%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Se=0;Se<ye;Se+=2)K(this,Se,Se+1);return this},p.prototype.swap32=function(){var ye=this.length;if(ye%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Se=0;Se<ye;Se+=4)K(this,Se,Se+3),K(this,Se+1,Se+2);return this},p.prototype.swap64=function(){var ye=this.length;if(ye%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Se=0;Se<ye;Se+=8)K(this,Se,Se+7),K(this,Se+1,Se+6),K(this,Se+2,Se+5),K(this,Se+3,Se+4);return this},p.prototype.toString=function(){var ye=this.length;return ye===0?"":arguments.length===0?te(this,0,ye):ue.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(ye){if(!p.isBuffer(ye))throw new TypeError("Argument must be a Buffer");return this===ye?!0:p.compare(this,ye)===0},p.prototype.inspect=function(){var ye="",Se=y.IS;return ye=this.toString("hex",0,Se).replace(/(.{2})/g,"$1 ").trim(),this.length>Se&&(ye+=" ... "),"<Buffer "+ye+">"},S&&(p.prototype[S]=p.prototype.inspect),p.prototype.compare=function(ye,Se,Ke,rt,Lt){if(Oe(ye,Uint8Array)&&(ye=p.from(ye,ye.offset,ye.byteLength)),!p.isBuffer(ye))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(ye));if(Se===void 0&&(Se=0),Ke===void 0&&(Ke=ye?ye.length:0),rt===void 0&&(rt=0),Lt===void 0&&(Lt=this.length),Se<0||Ke>ye.length||rt<0||Lt>this.length)throw new RangeError("out of range index");if(rt>=Lt&&Se>=Ke)return 0;if(rt>=Lt)return-1;if(Se>=Ke)return 1;if(Se>>>=0,Ke>>>=0,rt>>>=0,Lt>>>=0,this===ye)return 0;for(var It=Lt-rt,wt=Ke-Se,Et=Math.min(It,wt),Wt=this.slice(rt,Lt),vr=ye.slice(Se,Ke),dt=0;dt<Et;++dt)if(Wt[dt]!==vr[dt]){It=Wt[dt],wt=vr[dt];break}return It<wt?-1:wt<It?1:0};function j(Te,ye,Se,Ke,rt){if(Te.length===0)return-1;if(typeof Se=="string"?(Ke=Se,Se=0):Se>2147483647?Se=2147483647:Se<-2147483648&&(Se=-2147483648),Se=+Se,Ne(Se)&&(Se=rt?0:Te.length-1),Se<0&&(Se=Te.length+Se),Se>=Te.length){if(rt)return-1;Se=Te.length-1}else if(Se<0)if(rt)Se=0;else return-1;if(typeof ye=="string"&&(ye=p.from(ye,Ke)),p.isBuffer(ye))return ye.length===0?-1:ie(Te,ye,Se,Ke,rt);if(typeof ye=="number")return ye=ye&255,typeof Uint8Array.prototype.indexOf=="function"?rt?Uint8Array.prototype.indexOf.call(Te,ye,Se):Uint8Array.prototype.lastIndexOf.call(Te,ye,Se):ie(Te,[ye],Se,Ke,rt);throw new TypeError("val must be string, number or Buffer")}function ie(Te,ye,Se,Ke,rt){var Lt=1,It=Te.length,wt=ye.length;if(Ke!==void 0&&(Ke=String(Ke).toLowerCase(),Ke==="ucs2"||Ke==="ucs-2"||Ke==="utf16le"||Ke==="utf-16le")){if(Te.length<2||ye.length<2)return-1;Lt=2,It/=2,wt/=2,Se/=2}function Et(jt,gr){return Lt===1?jt[gr]:jt.readUInt16BE(gr*Lt)}var Wt;if(rt){var vr=-1;for(Wt=Se;Wt<It;Wt++)if(Et(Te,Wt)===Et(ye,vr===-1?0:Wt-vr)){if(vr===-1&&(vr=Wt),Wt-vr+1===wt)return vr*Lt}else vr!==-1&&(Wt-=Wt-vr),vr=-1}else for(Se+wt>It&&(Se=It-wt),Wt=Se;Wt>=0;Wt--){for(var dt=!0,Yt=0;Yt<wt;Yt++)if(Et(Te,Wt+Yt)!==Et(ye,Yt)){dt=!1;break}if(dt)return Wt}return-1}p.prototype.includes=function(ye,Se,Ke){return this.indexOf(ye,Se,Ke)!==-1},p.prototype.indexOf=function(ye,Se,Ke){return j(this,ye,Se,Ke,!0)},p.prototype.lastIndexOf=function(ye,Se,Ke){return j(this,ye,Se,Ke,!1)};function W(Te,ye,Se,Ke){Se=Number(Se)||0;var rt=Te.length-Se;Ke?(Ke=Number(Ke),Ke>rt&&(Ke=rt)):Ke=rt;var Lt=ye.length;Ke>Lt/2&&(Ke=Lt/2);var It;for(It=0;It<Ke;++It){var wt=parseInt(ye.substr(It*2,2),16);if(Ne(wt))return It;Te[Se+It]=wt}return It}function Q(Te,ye,Se,Ke){return Xe(tt(ye,Te.length-Se),Te,Se,Ke)}function ee(Te,ye,Se,Ke){return Xe(Re(ye),Te,Se,Ke)}function $(Te,ye,Se,Ke){return Xe(Je(ye),Te,Se,Ke)}function X(Te,ye,Se,Ke){return Xe(Ge(ye,Te.length-Se),Te,Se,Ke)}p.prototype.write=function(ye,Se,Ke,rt){if(Se===void 0)rt="utf8",Ke=this.length,Se=0;else if(Ke===void 0&&typeof Se=="string")rt=Se,Ke=this.length,Se=0;else if(isFinite(Se))Se=Se>>>0,isFinite(Ke)?(Ke=Ke>>>0,rt===void 0&&(rt="utf8")):(rt=Ke,Ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Lt=this.length-Se;if((Ke===void 0||Ke>Lt)&&(Ke=Lt),ye.length>0&&(Ke<0||Se<0)||Se>this.length)throw new RangeError("Attempt to write outside buffer bounds");rt||(rt="utf8");for(var It=!1;;)switch(rt){case"hex":return W(this,ye,Se,Ke);case"utf8":case"utf-8":return Q(this,ye,Se,Ke);case"ascii":case"latin1":case"binary":return ee(this,ye,Se,Ke);case"base64":return $(this,ye,Se,Ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,ye,Se,Ke);default:if(It)throw new TypeError("Unknown encoding: "+rt);rt=(""+rt).toLowerCase(),It=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(Te,ye,Se){return ye===0&&Se===Te.length?M.fromByteArray(Te):M.fromByteArray(Te.slice(ye,Se))}function te(Te,ye,Se){Se=Math.min(Te.length,Se);for(var Ke=[],rt=ye;rt<Se;){var Lt=Te[rt],It=null,wt=Lt>239?4:Lt>223?3:Lt>191?2:1;if(rt+wt<=Se){var Et=void 0,Wt=void 0,vr=void 0,dt=void 0;switch(wt){case 1:Lt<128&&(It=Lt);break;case 2:Et=Te[rt+1],(Et&192)===128&&(dt=(Lt&31)<<6|Et&63,dt>127&&(It=dt));break;case 3:Et=Te[rt+1],Wt=Te[rt+2],(Et&192)===128&&(Wt&192)===128&&(dt=(Lt&15)<<12|(Et&63)<<6|Wt&63,dt>2047&&(dt<55296||dt>57343)&&(It=dt));break;case 4:Et=Te[rt+1],Wt=Te[rt+2],vr=Te[rt+3],(Et&192)===128&&(Wt&192)===128&&(vr&192)===128&&(dt=(Lt&15)<<18|(Et&63)<<12|(Wt&63)<<6|vr&63,dt>65535&&dt<1114112&&(It=dt))}}It===null?(It=65533,wt=1):It>65535&&(It-=65536,Ke.push(It>>>10&1023|55296),It=56320|It&1023),Ke.push(It),rt+=wt}return pe(Ke)}var fe=4096;function pe(Te){var ye=Te.length;if(ye<=fe)return String.fromCharCode.apply(String,Te);for(var Se="",Ke=0;Ke<ye;)Se+=String.fromCharCode.apply(String,Te.slice(Ke,Ke+=fe));return Se}function Ae(Te,ye,Se){var Ke="";Se=Math.min(Te.length,Se);for(var rt=ye;rt<Se;++rt)Ke+=String.fromCharCode(Te[rt]&127);return Ke}function be(Te,ye,Se){var Ke="";Se=Math.min(Te.length,Se);for(var rt=ye;rt<Se;++rt)Ke+=String.fromCharCode(Te[rt]);return Ke}function Pe(Te,ye,Se){var Ke=Te.length;(!ye||ye<0)&&(ye=0),(!Se||Se<0||Se>Ke)&&(Se=Ke);for(var rt="",Lt=ye;Lt<Se;++Lt)rt+=ze[Te[Lt]];return rt}function me(Te,ye,Se){for(var Ke=Te.slice(ye,Se),rt="",Lt=0;Lt<Ke.length-1;Lt+=2)rt+=String.fromCharCode(Ke[Lt]+Ke[Lt+1]*256);return rt}p.prototype.slice=function(ye,Se){var Ke=this.length;ye=~~ye,Se=Se===void 0?Ke:~~Se,ye<0?(ye+=Ke,ye<0&&(ye=0)):ye>Ke&&(ye=Ke),Se<0?(Se+=Ke,Se<0&&(Se=0)):Se>Ke&&(Se=Ke),Se<ye&&(Se=ye);var rt=this.subarray(ye,Se);return Object.setPrototypeOf(rt,p.prototype),rt};function Ee(Te,ye,Se){if(Te%1!==0||Te<0)throw new RangeError("offset is not uint");if(Te+ye>Se)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(ye,Se,Ke){ye=ye>>>0,Se=Se>>>0,Ke||Ee(ye,Se,this.length);for(var rt=this[ye],Lt=1,It=0;++It<Se&&(Lt*=256);)rt+=this[ye+It]*Lt;return rt},p.prototype.readUintBE=p.prototype.readUIntBE=function(ye,Se,Ke){ye=ye>>>0,Se=Se>>>0,Ke||Ee(ye,Se,this.length);for(var rt=this[ye+--Se],Lt=1;Se>0&&(Lt*=256);)rt+=this[ye+--Se]*Lt;return rt},p.prototype.readUint8=p.prototype.readUInt8=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,1,this.length),this[ye]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,2,this.length),this[ye]|this[ye+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,2,this.length),this[ye]<<8|this[ye+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,4,this.length),(this[ye]|this[ye+1]<<8|this[ye+2]<<16)+this[ye+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,4,this.length),this[ye]*16777216+(this[ye+1]<<16|this[ye+2]<<8|this[ye+3])},p.prototype.readBigUInt64LE=et(function(ye){ye=ye>>>0,ot(ye,"offset");var Se=this[ye],Ke=this[ye+7];(Se===void 0||Ke===void 0)&&ct(ye,this.length-8);var rt=Se+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24),Lt=this[++ye]+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+Ke*Math.pow(2,24);return BigInt(rt)+(BigInt(Lt)<<BigInt(32))}),p.prototype.readBigUInt64BE=et(function(ye){ye=ye>>>0,ot(ye,"offset");var Se=this[ye],Ke=this[ye+7];(Se===void 0||Ke===void 0)&&ct(ye,this.length-8);var rt=Se*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye],Lt=this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Ke;return(BigInt(rt)<<BigInt(32))+BigInt(Lt)}),p.prototype.readIntLE=function(ye,Se,Ke){ye=ye>>>0,Se=Se>>>0,Ke||Ee(ye,Se,this.length);for(var rt=this[ye],Lt=1,It=0;++It<Se&&(Lt*=256);)rt+=this[ye+It]*Lt;return Lt*=128,rt>=Lt&&(rt-=Math.pow(2,8*Se)),rt},p.prototype.readIntBE=function(ye,Se,Ke){ye=ye>>>0,Se=Se>>>0,Ke||Ee(ye,Se,this.length);for(var rt=Se,Lt=1,It=this[ye+--rt];rt>0&&(Lt*=256);)It+=this[ye+--rt]*Lt;return Lt*=128,It>=Lt&&(It-=Math.pow(2,8*Se)),It},p.prototype.readInt8=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,1,this.length),this[ye]&128?(255-this[ye]+1)*-1:this[ye]},p.prototype.readInt16LE=function(ye,Se){ye=ye>>>0,Se||Ee(ye,2,this.length);var Ke=this[ye]|this[ye+1]<<8;return Ke&32768?Ke|4294901760:Ke},p.prototype.readInt16BE=function(ye,Se){ye=ye>>>0,Se||Ee(ye,2,this.length);var Ke=this[ye+1]|this[ye]<<8;return Ke&32768?Ke|4294901760:Ke},p.prototype.readInt32LE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,4,this.length),this[ye]|this[ye+1]<<8|this[ye+2]<<16|this[ye+3]<<24},p.prototype.readInt32BE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,4,this.length),this[ye]<<24|this[ye+1]<<16|this[ye+2]<<8|this[ye+3]},p.prototype.readBigInt64LE=et(function(ye){ye=ye>>>0,ot(ye,"offset");var Se=this[ye],Ke=this[ye+7];(Se===void 0||Ke===void 0)&&ct(ye,this.length-8);var rt=this[ye+4]+this[ye+5]*Math.pow(2,8)+this[ye+6]*Math.pow(2,16)+(Ke<<24);return(BigInt(rt)<<BigInt(32))+BigInt(Se+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24))}),p.prototype.readBigInt64BE=et(function(ye){ye=ye>>>0,ot(ye,"offset");var Se=this[ye],Ke=this[ye+7];(Se===void 0||Ke===void 0)&&ct(ye,this.length-8);var rt=(Se<<24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye];return(BigInt(rt)<<BigInt(32))+BigInt(this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Ke)}),p.prototype.readFloatLE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,4,this.length),m.read(this,ye,!0,23,4)},p.prototype.readFloatBE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,4,this.length),m.read(this,ye,!1,23,4)},p.prototype.readDoubleLE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,8,this.length),m.read(this,ye,!0,52,8)},p.prototype.readDoubleBE=function(ye,Se){return ye=ye>>>0,Se||Ee(ye,8,this.length),m.read(this,ye,!1,52,8)};function xe(Te,ye,Se,Ke,rt,Lt){if(!p.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(ye>rt||ye<Lt)throw new RangeError('"value" argument is out of bounds');if(Se+Ke>Te.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(ye,Se,Ke,rt){if(ye=+ye,Se=Se>>>0,Ke=Ke>>>0,!rt){var Lt=Math.pow(2,8*Ke)-1;xe(this,ye,Se,Ke,Lt,0)}var It=1,wt=0;for(this[Se]=ye&255;++wt<Ke&&(It*=256);)this[Se+wt]=ye/It&255;return Se+Ke},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(ye,Se,Ke,rt){if(ye=+ye,Se=Se>>>0,Ke=Ke>>>0,!rt){var Lt=Math.pow(2,8*Ke)-1;xe(this,ye,Se,Ke,Lt,0)}var It=Ke-1,wt=1;for(this[Se+It]=ye&255;--It>=0&&(wt*=256);)this[Se+It]=ye/wt&255;return Se+Ke},p.prototype.writeUint8=p.prototype.writeUInt8=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,1,255,0),this[Se]=ye&255,Se+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,2,65535,0),this[Se]=ye&255,this[Se+1]=ye>>>8,Se+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,2,65535,0),this[Se]=ye>>>8,this[Se+1]=ye&255,Se+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,4,4294967295,0),this[Se+3]=ye>>>24,this[Se+2]=ye>>>16,this[Se+1]=ye>>>8,this[Se]=ye&255,Se+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,4,4294967295,0),this[Se]=ye>>>24,this[Se+1]=ye>>>16,this[Se+2]=ye>>>8,this[Se+3]=ye&255,Se+4};function De(Te,ye,Se,Ke,rt){nt(ye,Ke,rt,Te,Se,7);var Lt=Number(ye&BigInt(4294967295));Te[Se++]=Lt,Lt=Lt>>8,Te[Se++]=Lt,Lt=Lt>>8,Te[Se++]=Lt,Lt=Lt>>8,Te[Se++]=Lt;var It=Number(ye>>BigInt(32)&BigInt(4294967295));return Te[Se++]=It,It=It>>8,Te[Se++]=It,It=It>>8,Te[Se++]=It,It=It>>8,Te[Se++]=It,Se}function Ve(Te,ye,Se,Ke,rt){nt(ye,Ke,rt,Te,Se,7);var Lt=Number(ye&BigInt(4294967295));Te[Se+7]=Lt,Lt=Lt>>8,Te[Se+6]=Lt,Lt=Lt>>8,Te[Se+5]=Lt,Lt=Lt>>8,Te[Se+4]=Lt;var It=Number(ye>>BigInt(32)&BigInt(4294967295));return Te[Se+3]=It,It=It>>8,Te[Se+2]=It,It=It>>8,Te[Se+1]=It,It=It>>8,Te[Se]=It,Se+8}p.prototype.writeBigUInt64LE=et(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return De(this,ye,Se,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=et(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ve(this,ye,Se,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(ye,Se,Ke,rt){if(ye=+ye,Se=Se>>>0,!rt){var Lt=Math.pow(2,8*Ke-1);xe(this,ye,Se,Ke,Lt-1,-Lt)}var It=0,wt=1,Et=0;for(this[Se]=ye&255;++It<Ke&&(wt*=256);)ye<0&&Et===0&&this[Se+It-1]!==0&&(Et=1),this[Se+It]=(ye/wt>>0)-Et&255;return Se+Ke},p.prototype.writeIntBE=function(ye,Se,Ke,rt){if(ye=+ye,Se=Se>>>0,!rt){var Lt=Math.pow(2,8*Ke-1);xe(this,ye,Se,Ke,Lt-1,-Lt)}var It=Ke-1,wt=1,Et=0;for(this[Se+It]=ye&255;--It>=0&&(wt*=256);)ye<0&&Et===0&&this[Se+It+1]!==0&&(Et=1),this[Se+It]=(ye/wt>>0)-Et&255;return Se+Ke},p.prototype.writeInt8=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,1,127,-128),ye<0&&(ye=255+ye+1),this[Se]=ye&255,Se+1},p.prototype.writeInt16LE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,2,32767,-32768),this[Se]=ye&255,this[Se+1]=ye>>>8,Se+2},p.prototype.writeInt16BE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,2,32767,-32768),this[Se]=ye>>>8,this[Se+1]=ye&255,Se+2},p.prototype.writeInt32LE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,4,2147483647,-2147483648),this[Se]=ye&255,this[Se+1]=ye>>>8,this[Se+2]=ye>>>16,this[Se+3]=ye>>>24,Se+4},p.prototype.writeInt32BE=function(ye,Se,Ke){return ye=+ye,Se=Se>>>0,Ke||xe(this,ye,Se,4,2147483647,-2147483648),ye<0&&(ye=4294967295+ye+1),this[Se]=ye>>>24,this[Se+1]=ye>>>16,this[Se+2]=ye>>>8,this[Se+3]=ye&255,Se+4},p.prototype.writeBigInt64LE=et(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return De(this,ye,Se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=et(function(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ve(this,ye,Se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ze(Te,ye,Se,Ke,rt,Lt){if(Se+Ke>Te.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("Index out of range")}function ke(Te,ye,Se,Ke,rt){return ye=+ye,Se=Se>>>0,rt||Ze(Te,ye,Se,4,34028234663852886e22,-34028234663852886e22),m.write(Te,ye,Se,Ke,23,4),Se+4}p.prototype.writeFloatLE=function(ye,Se,Ke){return ke(this,ye,Se,!0,Ke)},p.prototype.writeFloatBE=function(ye,Se,Ke){return ke(this,ye,Se,!1,Ke)};function Ye(Te,ye,Se,Ke,rt){return ye=+ye,Se=Se>>>0,rt||Ze(Te,ye,Se,8,17976931348623157e292,-17976931348623157e292),m.write(Te,ye,Se,Ke,52,8),Se+8}p.prototype.writeDoubleLE=function(ye,Se,Ke){return Ye(this,ye,Se,!0,Ke)},p.prototype.writeDoubleBE=function(ye,Se,Ke){return Ye(this,ye,Se,!1,Ke)},p.prototype.copy=function(ye,Se,Ke,rt){if(!p.isBuffer(ye))throw new TypeError("argument should be a Buffer");if(Ke||(Ke=0),!rt&&rt!==0&&(rt=this.length),Se>=ye.length&&(Se=ye.length),Se||(Se=0),rt>0&&rt<Ke&&(rt=Ke),rt===Ke||ye.length===0||this.length===0)return 0;if(Se<0)throw new RangeError("targetStart out of bounds");if(Ke<0||Ke>=this.length)throw new RangeError("Index out of range");if(rt<0)throw new RangeError("sourceEnd out of bounds");rt>this.length&&(rt=this.length),ye.length-Se<rt-Ke&&(rt=ye.length-Se+Ke);var Lt=rt-Ke;return this===ye&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Se,Ke,rt):Uint8Array.prototype.set.call(ye,this.subarray(Ke,rt),Se),Lt},p.prototype.fill=function(ye,Se,Ke,rt){if(typeof ye=="string"){if(typeof Se=="string"?(rt=Se,Se=0,Ke=this.length):typeof Ke=="string"&&(rt=Ke,Ke=this.length),rt!==void 0&&typeof rt!="string")throw new TypeError("encoding must be a string");if(typeof rt=="string"&&!p.isEncoding(rt))throw new TypeError("Unknown encoding: "+rt);if(ye.length===1){var Lt=ye.charCodeAt(0);(rt==="utf8"&&Lt<128||rt==="latin1")&&(ye=Lt)}}else typeof ye=="number"?ye=ye&255:typeof ye=="boolean"&&(ye=Number(ye));if(Se<0||this.length<Se||this.length<Ke)throw new RangeError("Out of range index");if(Ke<=Se)return this;Se=Se>>>0,Ke=Ke===void 0?this.length:Ke>>>0,ye||(ye=0);var It;if(typeof ye=="number")for(It=Se;It<Ke;++It)this[It]=ye;else{var wt=p.isBuffer(ye)?ye:p.from(ye,rt),Et=wt.length;if(Et===0)throw new TypeError('The value "'+ye+'" is invalid for argument "value"');for(It=0;It<Ke-Se;++It)this[It+Se]=wt[It%Et]}return this};var lt={};function yt(Te,ye,Se){lt[Te]=function(Ke){function rt(){var Lt;return s(this,rt),Lt=g(this,rt),Object.defineProperty(Lt,"message",{value:ye.apply(Lt,arguments),writable:!0,configurable:!0}),Lt.name="".concat(Lt.name," [").concat(Te,"]"),Lt.stack,delete Lt.name,Lt}return v(rt,Ke),u(rt,[{key:"code",get:function(){return Te},set:function(It){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:It,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Te,"]: ").concat(this.message)}}])}(Se)}yt("ERR_BUFFER_OUT_OF_BOUNDS",function(Te){return Te?"".concat(Te," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),yt("ERR_INVALID_ARG_TYPE",function(Te,ye){return'The "'.concat(Te,'" argument must be of type number. Received type ').concat(b(ye))},TypeError),yt("ERR_OUT_OF_RANGE",function(Te,ye,Se){var Ke='The value of "'.concat(Te,'" is out of range.'),rt=Se;return Number.isInteger(Se)&&Math.abs(Se)>Math.pow(2,32)?rt=He(String(Se)):typeof Se=="bigint"&&(rt=String(Se),(Se>Math.pow(BigInt(2),BigInt(32))||Se<-Math.pow(BigInt(2),BigInt(32)))&&(rt=He(rt)),rt+="n"),Ke+=" It must be ".concat(ye,". Received ").concat(rt),Ke},RangeError);function He(Te){for(var ye="",Se=Te.length,Ke=Te[0]==="-"?1:0;Se>=Ke+4;Se-=3)ye="_".concat(Te.slice(Se-3,Se)).concat(ye);return"".concat(Te.slice(0,Se)).concat(ye)}function Fe(Te,ye,Se){ot(ye,"offset"),(Te[ye]===void 0||Te[ye+Se]===void 0)&&ct(ye,Te.length-(Se+1))}function nt(Te,ye,Se,Ke,rt,Lt){if(Te>Se||Te<ye){var It=typeof ye=="bigint"?"n":"",wt;throw Lt>3?ye===0||ye===BigInt(0)?wt=">= 0".concat(It," and < 2").concat(It," ** ").concat((Lt+1)*8).concat(It):wt=">= -(2".concat(It," ** ").concat((Lt+1)*8-1).concat(It,") and < 2 ** ")+"".concat((Lt+1)*8-1).concat(It):wt=">= ".concat(ye).concat(It," and <= ").concat(Se).concat(It),new lt.ERR_OUT_OF_RANGE("value",wt,Te)}Fe(Ke,rt,Lt)}function ot(Te,ye){if(typeof Te!="number")throw new lt.ERR_INVALID_ARG_TYPE(ye,"number",Te)}function ct(Te,ye,Se){throw Math.floor(Te)!==Te?(ot(Te,Se),new lt.ERR_OUT_OF_RANGE(Se||"offset","an integer",Te)):ye<0?new lt.ERR_BUFFER_OUT_OF_BOUNDS:new lt.ERR_OUT_OF_RANGE(Se||"offset",">= ".concat(Se?1:0," and <= ").concat(ye),Te)}var ht=/[^+/0-9A-Za-z-_]/g;function mt(Te){if(Te=Te.split("=")[0],Te=Te.trim().replace(ht,""),Te.length<2)return"";for(;Te.length%4!==0;)Te=Te+"=";return Te}function tt(Te,ye){ye=ye||1/0;for(var Se,Ke=Te.length,rt=null,Lt=[],It=0;It<Ke;++It){if(Se=Te.charCodeAt(It),Se>55295&&Se<57344){if(!rt){if(Se>56319){(ye-=3)>-1&&Lt.push(239,191,189);continue}else if(It+1===Ke){(ye-=3)>-1&&Lt.push(239,191,189);continue}rt=Se;continue}if(Se<56320){(ye-=3)>-1&&Lt.push(239,191,189),rt=Se;continue}Se=(rt-55296<<10|Se-56320)+65536}else rt&&(ye-=3)>-1&&Lt.push(239,191,189);if(rt=null,Se<128){if((ye-=1)<0)break;Lt.push(Se)}else if(Se<2048){if((ye-=2)<0)break;Lt.push(Se>>6|192,Se&63|128)}else if(Se<65536){if((ye-=3)<0)break;Lt.push(Se>>12|224,Se>>6&63|128,Se&63|128)}else if(Se<1114112){if((ye-=4)<0)break;Lt.push(Se>>18|240,Se>>12&63|128,Se>>6&63|128,Se&63|128)}else throw new Error("Invalid code point")}return Lt}function Re(Te){for(var ye=[],Se=0;Se<Te.length;++Se)ye.push(Te.charCodeAt(Se)&255);return ye}function Ge(Te,ye){for(var Se,Ke,rt,Lt=[],It=0;It<Te.length&&!((ye-=2)<0);++It)Se=Te.charCodeAt(It),Ke=Se>>8,rt=Se%256,Lt.push(rt),Lt.push(Ke);return Lt}function Je(Te){return M.toByteArray(mt(Te))}function Xe(Te,ye,Se,Ke){var rt;for(rt=0;rt<Ke&&!(rt+Se>=ye.length||rt>=Te.length);++rt)ye[rt+Se]=Te[rt];return rt}function Oe(Te,ye){return Te instanceof ye||Te!=null&&Te.constructor!=null&&Te.constructor.name!=null&&Te.constructor.name===ye.name}function Ne(Te){return Te!==Te}var ze=function(){for(var Te="0123456789abcdef",ye=new Array(256),Se=0;Se<16;++Se)for(var Ke=Se*16,rt=0;rt<16;++rt)ye[Ke+rt]=Te[Se]+Te[rt];return ye}();function et(Te){return typeof BigInt=="undefined"?Le:Te}function Le(){throw new Error("BigInt not supported")}},9216:function(c){"use strict";c.exports=s,c.exports.isMobile=s,c.exports.default=s;var y=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function s(n){n||(n={});var u=n.ua;if(!u&&typeof navigator!="undefined"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var l=y.test(u)&&!r.test(u)||!!n.tablet&&t.test(u);return!l&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(l=!0),l}},6296:function(c,y,r){"use strict";c.exports=f;var t=r(7261),s=r(9977),n=r(4192);function u(g,h){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(w){return g[w]}),this._mode=h,this._active=g[h],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=u.prototype;l.flush=function(g){for(var h=this._controllerList,w=0;w<h.length;++w)h[w].flush(g)},l.idle=function(g){for(var h=this._controllerList,w=0;w<h.length;++w)h[w].idle(g)},l.lookAt=function(g,h,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].lookAt(g,h,w,d)},l.rotate=function(g,h,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].rotate(g,h,w,d)},l.pan=function(g,h,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].pan(g,h,w,d)},l.translate=function(g,h,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].translate(g,h,w,d)},l.setMatrix=function(g,h){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setMatrix(g,h)},l.setDistanceLimits=function(g,h){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setDistanceLimits(g,h)},l.setDistance=function(g,h){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setDistance(g,h)},l.recalcMatrix=function(g){this._active.recalcMatrix(g)},l.getDistance=function(g){return this._active.getDistance(g)},l.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},l.lastT=function(){return this._active.lastT()},l.setMode=function(g){if(g!==this._mode){var h=this._controllerNames.indexOf(g);if(!(h<0)){var w=this._active,d=this._controllerList[h],o=Math.max(w.lastT(),d.lastT());w.recalcMatrix(o),d.setMatrix(o,w.computedMatrix),this._active=d,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode};function f(g){g=g||{};var h=g.eye||[0,0,1],w=g.center||[0,0,0],d=g.up||[0,1,0],o=g.distanceLimits||[0,1/0],v=g.mode||"turntable",A=t(),b=s(),M=n();return A.setDistanceLimits(o[0],o[1]),A.lookAt(0,h,w,d),b.setDistanceLimits(o[0],o[1]),b.lookAt(0,h,w,d),M.setDistanceLimits(o[0],o[1]),M.lookAt(0,h,w,d),new u({turntable:A,orbit:b,matrix:M},v)}},7169:function(c,y,r){"use strict";var t=typeof WeakMap=="undefined"?r(1538):WeakMap,s=r(2762),n=r(8116),u=new t;function l(f){var g=u.get(f),h=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!h||!f.isBuffer(h)){var w=s(f,new Float32Array([-1,-1,-1,4,4,-1]));g=n(f,[{buffer:w,type:f.FLOAT,size:2}]),g._triangleBuffer=w,u.set(f,g)}g.bind(),f.drawArrays(f.TRIANGLES,0,3),g.unbind()}c.exports=l},1085:function(c,y,r){var t=r(1371);c.exports=s;function s(n,u,l){u=typeof u=="number"?u:1,l=l||": ";var f=n.split(/\r?\n/),g=String(f.length+u-1).length;return f.map(function(h,w){var d=w+u,o=String(d).length,v=t(d,g-o);return v+l+h}).join(`
`)}},3952:function(c,y,r){"use strict";c.exports=n;var t=r(3250);function s(u,l){for(var f=new Array(l+1),g=0;g<u.length;++g)f[g]=u[g];for(var g=0;g<=u.length;++g){for(var h=u.length;h<=l;++h){for(var w=new Array(l),d=0;d<l;++d)w[d]=Math.pow(h+1-g,d);f[h]=w}var o=t.apply(void 0,f);if(o)return!0}return!1}function n(u){var l=u.length;if(l===0)return[];if(l===1)return[0];for(var f=u[0].length,g=[u[0]],h=[0],w=1;w<l;++w){if(g.push(u[w]),!s(g,f)){g.pop();continue}if(h.push(w),h.length===f+1)return h}return h}},5995:function(c,y,r){"use strict";c.exports=n;var t=r(7642),s=r(6037);function n(u,l){return t(l).filter(function(f){for(var g=new Array(f.length),h=0;h<f.length;++h)g[h]=l[f[h]];return s(g)*u<1})}},3502:function(c,y,r){c.exports=n;var t=r(5995),s=r(9127);function n(u,l){return s(t(u,l))}},6468:function(c){c.exports=function(r){return atob(r)}},2642:function(c,y,r){"use strict";c.exports=n;var t=r(727);function s(u){for(var l=0,f=0;f<u.length;++f)l+=u[f];return l}function n(u,l){for(var f=l.length,g=new Array(f+1),h=0;h<f;++h){for(var w=new Array(f+1),d=0;d<=f;++d)w[d]=u[d][h];g[h]=w}g[f]=new Array(f+1);for(var h=0;h<=f;++h)g[f][h]=1;for(var o=new Array(f+1),h=0;h<f;++h)o[h]=l[h];o[f]=1;var v=t(g,o),A=s(v[f+1]);A===0&&(A=1);for(var b=new Array(f+1),h=0;h<=f;++h)b[h]=s(v[h])/A;return b}},7507:function(c,y){"use strict";y.byteLength=g,y.toByteArray=w,y.fromByteArray=v;for(var r=[],t=[],s=typeof Uint8Array!="undefined"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=n.length;u<l;++u)r[u]=n[u],t[n.charCodeAt(u)]=u;t[45]=62,t[95]=63;function f(A){var b=A.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=A.indexOf("=");M===-1&&(M=b);var m=M===b?0:4-M%4;return[M,m]}function g(A){var b=f(A),M=b[0],m=b[1];return(M+m)*3/4-m}function h(A,b,M){return(b+M)*3/4-M}function w(A){var b,M=f(A),m=M[0],S=M[1],T=new s(h(A,m,S)),a=0,E=S>0?m-4:m,p;for(p=0;p<E;p+=4)b=t[A.charCodeAt(p)]<<18|t[A.charCodeAt(p+1)]<<12|t[A.charCodeAt(p+2)]<<6|t[A.charCodeAt(p+3)],T[a++]=b>>16&255,T[a++]=b>>8&255,T[a++]=b&255;return S===2&&(b=t[A.charCodeAt(p)]<<2|t[A.charCodeAt(p+1)]>>4,T[a++]=b&255),S===1&&(b=t[A.charCodeAt(p)]<<10|t[A.charCodeAt(p+1)]<<4|t[A.charCodeAt(p+2)]>>2,T[a++]=b>>8&255,T[a++]=b&255),T}function d(A){return r[A>>18&63]+r[A>>12&63]+r[A>>6&63]+r[A&63]}function o(A,b,M){for(var m,S=[],T=b;T<M;T+=3)m=(A[T]<<16&16711680)+(A[T+1]<<8&65280)+(A[T+2]&255),S.push(d(m));return S.join("")}function v(A){for(var b,M=A.length,m=M%3,S=[],T=16383,a=0,E=M-m;a<E;a+=T)S.push(o(A,a,a+T>E?E:a+T));return m===1?(b=A[M-1],S.push(r[b>>2]+r[b<<4&63]+"==")):m===2&&(b=(A[M-2]<<8)+A[M-1],S.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),S.join("")}},3865:function(c,y,r){"use strict";var t=r(869);c.exports=s;function s(n,u){return t(n[0].mul(u[1]).add(u[0].mul(n[1])),n[1].mul(u[1]))}},1318:function(c){"use strict";c.exports=y;function y(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(c,y,r){"use strict";var t=r(869);c.exports=s;function s(n,u){return t(n[0].mul(u[1]),n[1].mul(u[0]))}},7842:function(c,y,r){"use strict";var t=r(6330),s=r(1533),n=r(2651),u=r(4387),l=r(869),f=r(8697);c.exports=g;function g(h,w){if(t(h))return w?f(h,g(w)):[h[0].clone(),h[1].clone()];var d=0,o,v;if(s(h))o=h.clone();else if(typeof h=="string")o=u(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))o=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),d-=256;o=n(h)}}if(t(w))o.mul(w[1]),v=w[0].clone();else if(s(w))v=w.clone();else if(typeof w=="string")v=u(w);else if(!w)v=n(1);else if(w===Math.floor(w))v=n(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),d+=256;v=n(w)}return d>0?o=o.ushln(d):d<0&&(v=v.ushln(-d)),l(o,v)}},6330:function(c,y,r){"use strict";var t=r(1533);c.exports=s;function s(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(c,y,r){"use strict";var t=r(6859);c.exports=s;function s(n){return n.cmp(new t(0))}},1369:function(c,y,r){"use strict";var t=r(5716);c.exports=s;function s(n){var u=n.length,l=n.words,f=0;if(u===1)f=l[0];else if(u===2)f=l[0]+l[1]*67108864;else for(var g=0;g<u;g++){var h=l[g];f+=h*Math.pow(67108864,g)}return t(n)*f}},4025:function(c,y,r){"use strict";var t=r(2361),s=r(8828).countTrailingZeros;c.exports=n;function n(u){var l=s(t.lo(u));if(l<32)return l;var f=s(t.hi(u));return f>20?52:f+32}},1533:function(c,y,r){"use strict";var t=r(6859);c.exports=s;function s(n){return n&&typeof n=="object"&&!!n.words}},2651:function(c,y,r){"use strict";var t=r(6859),s=r(2361);c.exports=n;function n(u){var l=s.exponent(u);return l<52?new t(u):new t(u*Math.pow(2,52-l)).ushln(l-52)}},869:function(c,y,r){"use strict";var t=r(2651),s=r(5716);c.exports=n;function n(u,l){var f=s(u),g=s(l);if(f===0)return[t(0),t(1)];if(g===0)return[t(0),t(0)];g<0&&(u=u.neg(),l=l.neg());var h=u.gcd(l);return h.cmpn(1)?[u.div(h),l.div(h)]:[u,l]}},4387:function(c,y,r){"use strict";var t=r(6859);c.exports=s;function s(n){return new t(n)}},6504:function(c,y,r){"use strict";var t=r(869);c.exports=s;function s(n,u){return t(n[0].mul(u[0]),n[1].mul(u[1]))}},7721:function(c,y,r){"use strict";var t=r(5716);c.exports=s;function s(n){return t(n[0])*t(n[1])}},5572:function(c,y,r){"use strict";var t=r(869);c.exports=s;function s(n,u){return t(n[0].mul(u[1]).sub(n[1].mul(u[0])),n[1].mul(u[1]))}},946:function(c,y,r){"use strict";var t=r(1369),s=r(4025);c.exports=n;function n(u){var l=u[0],f=u[1];if(l.cmpn(0)===0)return 0;var g=l.abs().divmod(f.abs()),h=g.div,w=t(h),d=g.mod,o=l.negative!==f.negative?-1:1;if(d.cmpn(0)===0)return o*w;if(w){var v=s(w)+4,A=t(d.ushln(v).divRound(f));return o*(w+A*Math.pow(2,-v))}else{var b=f.bitLength()-d.bitLength()+53,A=t(d.ushln(b).divRound(f));return b<1023?o*A*Math.pow(2,-b):(A*=Math.pow(2,-1023),o*A*Math.pow(2,1023-b))}}},2478:function(c){"use strict";function y(l,f,g,h,w){for(var d=w+1;h<=w;){var o=h+w>>>1,v=l[o],A=g!==void 0?g(v,f):v-f;A>=0?(d=o,w=o-1):h=o+1}return d}function r(l,f,g,h,w){for(var d=w+1;h<=w;){var o=h+w>>>1,v=l[o],A=g!==void 0?g(v,f):v-f;A>0?(d=o,w=o-1):h=o+1}return d}function t(l,f,g,h,w){for(var d=h-1;h<=w;){var o=h+w>>>1,v=l[o],A=g!==void 0?g(v,f):v-f;A<0?(d=o,h=o+1):w=o-1}return d}function s(l,f,g,h,w){for(var d=h-1;h<=w;){var o=h+w>>>1,v=l[o],A=g!==void 0?g(v,f):v-f;A<=0?(d=o,h=o+1):w=o-1}return d}function n(l,f,g,h,w){for(;h<=w;){var d=h+w>>>1,o=l[d],v=g!==void 0?g(o,f):o-f;if(v===0)return d;v<=0?h=d+1:w=d-1}return-1}function u(l,f,g,h,w,d){return typeof g=="function"?d(l,f,g,h===void 0?0:h|0,w===void 0?l.length-1:w|0):d(l,f,void 0,g===void 0?0:g|0,h===void 0?l.length-1:h|0)}c.exports={ge:function(l,f,g,h,w){return u(l,f,g,h,w,y)},gt:function(l,f,g,h,w){return u(l,f,g,h,w,r)},lt:function(l,f,g,h,w){return u(l,f,g,h,w,t)},le:function(l,f,g,h,w){return u(l,f,g,h,w,s)},eq:function(l,f,g,h,w){return u(l,f,g,h,w,n)}}},8828:function(c,y){"use strict";"use restrict";var r=32;y.INT_BITS=r,y.INT_MAX=2147483647,y.INT_MIN=-1<<r-1,y.sign=function(n){return(n>0)-(n<0)},y.abs=function(n){var u=n>>r-1;return(n^u)-u},y.min=function(n,u){return u^(n^u)&-(n<u)},y.max=function(n,u){return n^(n^u)&-(n<u)},y.isPow2=function(n){return!(n&n-1)&&!!n},y.log2=function(n){var u,l;return u=(n>65535)<<4,n>>>=u,l=(n>255)<<3,n>>>=l,u|=l,l=(n>15)<<2,n>>>=l,u|=l,l=(n>3)<<1,n>>>=l,u|=l,u|n>>1},y.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},y.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}y.countTrailingZeros=t,y.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},y.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},y.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var u=0;u<256;++u){var l=u,f=u,g=7;for(l>>>=1;l;l>>>=1)f<<=1,f|=l&1,--g;n[u]=f<<g&255}})(s),y.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},y.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},y.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},y.interleave3=function(n,u,l){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|l<<2},y.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},y.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},6859:function(c,y,r){c=r.nmd(c),function(t,s){"use strict";function n(O,z){if(!O)throw new Error(z||"Assertion failed")}function u(O,z){O.super_=z;var N=function(){};N.prototype=z.prototype,O.prototype=new N,O.prototype.constructor=O}function l(O,z,N){if(l.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((z==="le"||z==="be")&&(N=z,z=10),this._init(O||0,z||10,N||"be"))}typeof t=="object"?t.exports=l:s.BN=l,l.BN=l,l.wordSize=26;var f;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?f=window.Buffer:f=r(7790).Buffer}catch(O){}l.isBN=function(z){return z instanceof l?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===l.wordSize&&Array.isArray(z.words)},l.max=function(z,N){return z.cmp(N)>0?z:N},l.min=function(z,N){return z.cmp(N)<0?z:N},l.prototype._init=function(z,N,Y){if(typeof z=="number")return this._initNumber(z,N,Y);if(typeof z=="object")return this._initArray(z,N,Y);N==="hex"&&(N=16),n(N===(N|0)&&N>=2&&N<=36),z=z.toString().replace(/\s+/g,"");var J=0;z[0]==="-"&&(J++,this.negative=1),J<z.length&&(N===16?this._parseHex(z,J,Y):(this._parseBase(z,N,J),Y==="le"&&this._initArray(this.toArray(),N,Y)))},l.prototype._initNumber=function(z,N,Y){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),Y==="le"&&this._initArray(this.toArray(),N,Y)},l.prototype._initArray=function(z,N,Y){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var ae,se,ue=0;if(Y==="be")for(J=z.length-1,ae=0;J>=0;J-=3)se=z[J]|z[J-1]<<8|z[J-2]<<16,this.words[ae]|=se<<ue&67108863,this.words[ae+1]=se>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,ae++);else if(Y==="le")for(J=0,ae=0;J<z.length;J+=3)se=z[J]|z[J+1]<<8|z[J+2]<<16,this.words[ae]|=se<<ue&67108863,this.words[ae+1]=se>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,ae++);return this.strip()};function g(O,z){var N=O.charCodeAt(z);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function h(O,z,N){var Y=g(O,N);return N-1>=z&&(Y|=g(O,N-1)<<4),Y}l.prototype._parseHex=function(z,N,Y){this.length=Math.ceil((z.length-N)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var ae=0,se=0,ue;if(Y==="be")for(J=z.length-1;J>=N;J-=2)ue=h(z,N,J)<<ae,this.words[se]|=ue&67108863,ae>=18?(ae-=18,se+=1,this.words[se]|=ue>>>26):ae+=8;else{var K=z.length-N;for(J=K%2===0?N+1:N;J<z.length;J+=2)ue=h(z,N,J)<<ae,this.words[se]|=ue&67108863,ae>=18?(ae-=18,se+=1,this.words[se]|=ue>>>26):ae+=8}this.strip()};function w(O,z,N,Y){for(var J=0,ae=Math.min(O.length,N),se=z;se<ae;se++){var ue=O.charCodeAt(se)-48;J*=Y,ue>=49?J+=ue-49+10:ue>=17?J+=ue-17+10:J+=ue}return J}l.prototype._parseBase=function(z,N,Y){this.words=[0],this.length=1;for(var J=0,ae=1;ae<=67108863;ae*=N)J++;J--,ae=ae/N|0;for(var se=z.length-Y,ue=se%J,K=Math.min(se,se-ue)+Y,j=0,ie=Y;ie<K;ie+=J)j=w(z,ie,ie+J,N),this.imuln(ae),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(ue!==0){var W=1;for(j=w(z,ie,z.length,N),ie=0;ie<ue;ie++)W*=N;this.imuln(W),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},l.prototype.copy=function(z){z.words=new Array(this.length);for(var N=0;N<this.length;N++)z.words[N]=this.words[N];z.length=this.length,z.negative=this.negative,z.red=this.red},l.prototype.clone=function(){var z=new l(null);return this.copy(z),z},l.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(z,N){z=z||10,N=N|0||1;var Y;if(z===16||z==="hex"){Y="";for(var J=0,ae=0,se=0;se<this.length;se++){var ue=this.words[se],K=((ue<<J|ae)&16777215).toString(16);ae=ue>>>24-J&16777215,ae!==0||se!==this.length-1?Y=d[6-K.length]+K+Y:Y=K+Y,J+=2,J>=26&&(J-=26,se--)}for(ae!==0&&(Y=ae.toString(16)+Y);Y.length%N!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}if(z===(z|0)&&z>=2&&z<=36){var j=o[z],ie=v[z];Y="";var W=this.clone();for(W.negative=0;!W.isZero();){var Q=W.modn(ie).toString(z);W=W.idivn(ie),W.isZero()?Y=Q+Y:Y=d[j-Q.length]+Q+Y}for(this.isZero()&&(Y="0"+Y);Y.length%N!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}n(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(z,N){return n(typeof f!="undefined"),this.toArrayLike(f,z,N)},l.prototype.toArray=function(z,N){return this.toArrayLike(Array,z,N)},l.prototype.toArrayLike=function(z,N,Y){var J=this.byteLength(),ae=Y||Math.max(1,J);n(J<=ae,"byte array longer than desired length"),n(ae>0,"Requested array length <= 0"),this.strip();var se=N==="le",ue=new z(ae),K,j,ie=this.clone();if(se){for(j=0;!ie.isZero();j++)K=ie.andln(255),ie.iushrn(8),ue[j]=K;for(;j<ae;j++)ue[j]=0}else{for(j=0;j<ae-J;j++)ue[j]=0;for(j=0;!ie.isZero();j++)K=ie.andln(255),ie.iushrn(8),ue[ae-j-1]=K}return ue},Math.clz32?l.prototype._countBits=function(z){return 32-Math.clz32(z)}:l.prototype._countBits=function(z){var N=z,Y=0;return N>=4096&&(Y+=13,N>>>=13),N>=64&&(Y+=7,N>>>=7),N>=8&&(Y+=4,N>>>=4),N>=2&&(Y+=2,N>>>=2),Y+N},l.prototype._zeroBits=function(z){if(z===0)return 26;var N=z,Y=0;return N&8191||(Y+=13,N>>>=13),N&127||(Y+=7,N>>>=7),N&15||(Y+=4,N>>>=4),N&3||(Y+=2,N>>>=2),N&1||Y++,Y},l.prototype.bitLength=function(){var z=this.words[this.length-1],N=this._countBits(z);return(this.length-1)*26+N};function A(O){for(var z=new Array(O.bitLength()),N=0;N<z.length;N++){var Y=N/26|0,J=N%26;z[N]=(O.words[Y]&1<<J)>>>J}return z}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,N=0;N<this.length;N++){var Y=this._zeroBits(this.words[N]);if(z+=Y,Y!==26)break}return z},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},l.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var N=0;N<z.length;N++)this.words[N]=this.words[N]|z.words[N];return this.strip()},l.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},l.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},l.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},l.prototype.iuand=function(z){var N;this.length>z.length?N=z:N=this;for(var Y=0;Y<N.length;Y++)this.words[Y]=this.words[Y]&z.words[Y];return this.length=N.length,this.strip()},l.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},l.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},l.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},l.prototype.iuxor=function(z){var N,Y;this.length>z.length?(N=this,Y=z):(N=z,Y=this);for(var J=0;J<Y.length;J++)this.words[J]=N.words[J]^Y.words[J];if(this!==N)for(;J<N.length;J++)this.words[J]=N.words[J];return this.length=N.length,this.strip()},l.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},l.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},l.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},l.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var N=Math.ceil(z/26)|0,Y=z%26;this._expand(N),Y>0&&N--;for(var J=0;J<N;J++)this.words[J]=~this.words[J]&67108863;return Y>0&&(this.words[J]=~this.words[J]&67108863>>26-Y),this.strip()},l.prototype.notn=function(z){return this.clone().inotn(z)},l.prototype.setn=function(z,N){n(typeof z=="number"&&z>=0);var Y=z/26|0,J=z%26;return this._expand(Y+1),N?this.words[Y]=this.words[Y]|1<<J:this.words[Y]=this.words[Y]&~(1<<J),this.strip()},l.prototype.iadd=function(z){var N;if(this.negative!==0&&z.negative===0)return this.negative=0,N=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,N=this.isub(z),z.negative=1,N._normSign();var Y,J;this.length>z.length?(Y=this,J=z):(Y=z,J=this);for(var ae=0,se=0;se<J.length;se++)N=(Y.words[se]|0)+(J.words[se]|0)+ae,this.words[se]=N&67108863,ae=N>>>26;for(;ae!==0&&se<Y.length;se++)N=(Y.words[se]|0)+ae,this.words[se]=N&67108863,ae=N>>>26;if(this.length=Y.length,ae!==0)this.words[this.length]=ae,this.length++;else if(Y!==this)for(;se<Y.length;se++)this.words[se]=Y.words[se];return this},l.prototype.add=function(z){var N;return z.negative!==0&&this.negative===0?(z.negative=0,N=this.sub(z),z.negative^=1,N):z.negative===0&&this.negative!==0?(this.negative=0,N=z.sub(this),this.negative=1,N):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},l.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var N=this.iadd(z);return z.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var Y=this.cmp(z);if(Y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var J,ae;Y>0?(J=this,ae=z):(J=z,ae=this);for(var se=0,ue=0;ue<ae.length;ue++)N=(J.words[ue]|0)-(ae.words[ue]|0)+se,se=N>>26,this.words[ue]=N&67108863;for(;se!==0&&ue<J.length;ue++)N=(J.words[ue]|0)+se,se=N>>26,this.words[ue]=N&67108863;if(se===0&&ue<J.length&&J!==this)for(;ue<J.length;ue++)this.words[ue]=J.words[ue];return this.length=Math.max(this.length,ue),J!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(z){return this.clone().isub(z)};function b(O,z,N){N.negative=z.negative^O.negative;var Y=O.length+z.length|0;N.length=Y,Y=Y-1|0;var J=O.words[0]|0,ae=z.words[0]|0,se=J*ae,ue=se&67108863,K=se/67108864|0;N.words[0]=ue;for(var j=1;j<Y;j++){for(var ie=K>>>26,W=K&67108863,Q=Math.min(j,z.length-1),ee=Math.max(0,j-O.length+1);ee<=Q;ee++){var $=j-ee|0;J=O.words[$]|0,ae=z.words[ee]|0,se=J*ae+W,ie+=se/67108864|0,W=se&67108863}N.words[j]=W|0,K=ie|0}return K!==0?N.words[j]=K|0:N.length--,N.strip()}var M=function(z,N,Y){var J=z.words,ae=N.words,se=Y.words,ue=0,K,j,ie,W=J[0]|0,Q=W&8191,ee=W>>>13,$=J[1]|0,X=$&8191,oe=$>>>13,te=J[2]|0,fe=te&8191,pe=te>>>13,Ae=J[3]|0,be=Ae&8191,Pe=Ae>>>13,me=J[4]|0,Ee=me&8191,xe=me>>>13,De=J[5]|0,Ve=De&8191,Ze=De>>>13,ke=J[6]|0,Ye=ke&8191,lt=ke>>>13,yt=J[7]|0,He=yt&8191,Fe=yt>>>13,nt=J[8]|0,ot=nt&8191,ct=nt>>>13,ht=J[9]|0,mt=ht&8191,tt=ht>>>13,Re=ae[0]|0,Ge=Re&8191,Je=Re>>>13,Xe=ae[1]|0,Oe=Xe&8191,Ne=Xe>>>13,ze=ae[2]|0,et=ze&8191,Le=ze>>>13,Te=ae[3]|0,ye=Te&8191,Se=Te>>>13,Ke=ae[4]|0,rt=Ke&8191,Lt=Ke>>>13,It=ae[5]|0,wt=It&8191,Et=It>>>13,Wt=ae[6]|0,vr=Wt&8191,dt=Wt>>>13,Yt=ae[7]|0,jt=Yt&8191,gr=Yt>>>13,sr=ae[8]|0,gt=sr&8191,st=sr>>>13,xt=ae[9]|0,Mt=xt&8191,Rt=xt>>>13;Y.negative=z.negative^N.negative,Y.length=19,K=Math.imul(Q,Ge),j=Math.imul(Q,Je),j=j+Math.imul(ee,Ge)|0,ie=Math.imul(ee,Je);var Vt=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,K=Math.imul(X,Ge),j=Math.imul(X,Je),j=j+Math.imul(oe,Ge)|0,ie=Math.imul(oe,Je),K=K+Math.imul(Q,Oe)|0,j=j+Math.imul(Q,Ne)|0,j=j+Math.imul(ee,Oe)|0,ie=ie+Math.imul(ee,Ne)|0;var Ct=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,K=Math.imul(fe,Ge),j=Math.imul(fe,Je),j=j+Math.imul(pe,Ge)|0,ie=Math.imul(pe,Je),K=K+Math.imul(X,Oe)|0,j=j+Math.imul(X,Ne)|0,j=j+Math.imul(oe,Oe)|0,ie=ie+Math.imul(oe,Ne)|0,K=K+Math.imul(Q,et)|0,j=j+Math.imul(Q,Le)|0,j=j+Math.imul(ee,et)|0,ie=ie+Math.imul(ee,Le)|0;var Bt=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,K=Math.imul(be,Ge),j=Math.imul(be,Je),j=j+Math.imul(Pe,Ge)|0,ie=Math.imul(Pe,Je),K=K+Math.imul(fe,Oe)|0,j=j+Math.imul(fe,Ne)|0,j=j+Math.imul(pe,Oe)|0,ie=ie+Math.imul(pe,Ne)|0,K=K+Math.imul(X,et)|0,j=j+Math.imul(X,Le)|0,j=j+Math.imul(oe,et)|0,ie=ie+Math.imul(oe,Le)|0,K=K+Math.imul(Q,ye)|0,j=j+Math.imul(Q,Se)|0,j=j+Math.imul(ee,ye)|0,ie=ie+Math.imul(ee,Se)|0;var Xt=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,K=Math.imul(Ee,Ge),j=Math.imul(Ee,Je),j=j+Math.imul(xe,Ge)|0,ie=Math.imul(xe,Je),K=K+Math.imul(be,Oe)|0,j=j+Math.imul(be,Ne)|0,j=j+Math.imul(Pe,Oe)|0,ie=ie+Math.imul(Pe,Ne)|0,K=K+Math.imul(fe,et)|0,j=j+Math.imul(fe,Le)|0,j=j+Math.imul(pe,et)|0,ie=ie+Math.imul(pe,Le)|0,K=K+Math.imul(X,ye)|0,j=j+Math.imul(X,Se)|0,j=j+Math.imul(oe,ye)|0,ie=ie+Math.imul(oe,Se)|0,K=K+Math.imul(Q,rt)|0,j=j+Math.imul(Q,Lt)|0,j=j+Math.imul(ee,rt)|0,ie=ie+Math.imul(ee,Lt)|0;var ir=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(ir>>>26)|0,ir&=67108863,K=Math.imul(Ve,Ge),j=Math.imul(Ve,Je),j=j+Math.imul(Ze,Ge)|0,ie=Math.imul(Ze,Je),K=K+Math.imul(Ee,Oe)|0,j=j+Math.imul(Ee,Ne)|0,j=j+Math.imul(xe,Oe)|0,ie=ie+Math.imul(xe,Ne)|0,K=K+Math.imul(be,et)|0,j=j+Math.imul(be,Le)|0,j=j+Math.imul(Pe,et)|0,ie=ie+Math.imul(Pe,Le)|0,K=K+Math.imul(fe,ye)|0,j=j+Math.imul(fe,Se)|0,j=j+Math.imul(pe,ye)|0,ie=ie+Math.imul(pe,Se)|0,K=K+Math.imul(X,rt)|0,j=j+Math.imul(X,Lt)|0,j=j+Math.imul(oe,rt)|0,ie=ie+Math.imul(oe,Lt)|0,K=K+Math.imul(Q,wt)|0,j=j+Math.imul(Q,Et)|0,j=j+Math.imul(ee,wt)|0,ie=ie+Math.imul(ee,Et)|0;var or=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(or>>>26)|0,or&=67108863,K=Math.imul(Ye,Ge),j=Math.imul(Ye,Je),j=j+Math.imul(lt,Ge)|0,ie=Math.imul(lt,Je),K=K+Math.imul(Ve,Oe)|0,j=j+Math.imul(Ve,Ne)|0,j=j+Math.imul(Ze,Oe)|0,ie=ie+Math.imul(Ze,Ne)|0,K=K+Math.imul(Ee,et)|0,j=j+Math.imul(Ee,Le)|0,j=j+Math.imul(xe,et)|0,ie=ie+Math.imul(xe,Le)|0,K=K+Math.imul(be,ye)|0,j=j+Math.imul(be,Se)|0,j=j+Math.imul(Pe,ye)|0,ie=ie+Math.imul(Pe,Se)|0,K=K+Math.imul(fe,rt)|0,j=j+Math.imul(fe,Lt)|0,j=j+Math.imul(pe,rt)|0,ie=ie+Math.imul(pe,Lt)|0,K=K+Math.imul(X,wt)|0,j=j+Math.imul(X,Et)|0,j=j+Math.imul(oe,wt)|0,ie=ie+Math.imul(oe,Et)|0,K=K+Math.imul(Q,vr)|0,j=j+Math.imul(Q,dt)|0,j=j+Math.imul(ee,vr)|0,ie=ie+Math.imul(ee,dt)|0;var cr=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(cr>>>26)|0,cr&=67108863,K=Math.imul(He,Ge),j=Math.imul(He,Je),j=j+Math.imul(Fe,Ge)|0,ie=Math.imul(Fe,Je),K=K+Math.imul(Ye,Oe)|0,j=j+Math.imul(Ye,Ne)|0,j=j+Math.imul(lt,Oe)|0,ie=ie+Math.imul(lt,Ne)|0,K=K+Math.imul(Ve,et)|0,j=j+Math.imul(Ve,Le)|0,j=j+Math.imul(Ze,et)|0,ie=ie+Math.imul(Ze,Le)|0,K=K+Math.imul(Ee,ye)|0,j=j+Math.imul(Ee,Se)|0,j=j+Math.imul(xe,ye)|0,ie=ie+Math.imul(xe,Se)|0,K=K+Math.imul(be,rt)|0,j=j+Math.imul(be,Lt)|0,j=j+Math.imul(Pe,rt)|0,ie=ie+Math.imul(Pe,Lt)|0,K=K+Math.imul(fe,wt)|0,j=j+Math.imul(fe,Et)|0,j=j+Math.imul(pe,wt)|0,ie=ie+Math.imul(pe,Et)|0,K=K+Math.imul(X,vr)|0,j=j+Math.imul(X,dt)|0,j=j+Math.imul(oe,vr)|0,ie=ie+Math.imul(oe,dt)|0,K=K+Math.imul(Q,jt)|0,j=j+Math.imul(Q,gr)|0,j=j+Math.imul(ee,jt)|0,ie=ie+Math.imul(ee,gr)|0;var We=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(We>>>26)|0,We&=67108863,K=Math.imul(ot,Ge),j=Math.imul(ot,Je),j=j+Math.imul(ct,Ge)|0,ie=Math.imul(ct,Je),K=K+Math.imul(He,Oe)|0,j=j+Math.imul(He,Ne)|0,j=j+Math.imul(Fe,Oe)|0,ie=ie+Math.imul(Fe,Ne)|0,K=K+Math.imul(Ye,et)|0,j=j+Math.imul(Ye,Le)|0,j=j+Math.imul(lt,et)|0,ie=ie+Math.imul(lt,Le)|0,K=K+Math.imul(Ve,ye)|0,j=j+Math.imul(Ve,Se)|0,j=j+Math.imul(Ze,ye)|0,ie=ie+Math.imul(Ze,Se)|0,K=K+Math.imul(Ee,rt)|0,j=j+Math.imul(Ee,Lt)|0,j=j+Math.imul(xe,rt)|0,ie=ie+Math.imul(xe,Lt)|0,K=K+Math.imul(be,wt)|0,j=j+Math.imul(be,Et)|0,j=j+Math.imul(Pe,wt)|0,ie=ie+Math.imul(Pe,Et)|0,K=K+Math.imul(fe,vr)|0,j=j+Math.imul(fe,dt)|0,j=j+Math.imul(pe,vr)|0,ie=ie+Math.imul(pe,dt)|0,K=K+Math.imul(X,jt)|0,j=j+Math.imul(X,gr)|0,j=j+Math.imul(oe,jt)|0,ie=ie+Math.imul(oe,gr)|0,K=K+Math.imul(Q,gt)|0,j=j+Math.imul(Q,st)|0,j=j+Math.imul(ee,gt)|0,ie=ie+Math.imul(ee,st)|0;var Ue=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,K=Math.imul(mt,Ge),j=Math.imul(mt,Je),j=j+Math.imul(tt,Ge)|0,ie=Math.imul(tt,Je),K=K+Math.imul(ot,Oe)|0,j=j+Math.imul(ot,Ne)|0,j=j+Math.imul(ct,Oe)|0,ie=ie+Math.imul(ct,Ne)|0,K=K+Math.imul(He,et)|0,j=j+Math.imul(He,Le)|0,j=j+Math.imul(Fe,et)|0,ie=ie+Math.imul(Fe,Le)|0,K=K+Math.imul(Ye,ye)|0,j=j+Math.imul(Ye,Se)|0,j=j+Math.imul(lt,ye)|0,ie=ie+Math.imul(lt,Se)|0,K=K+Math.imul(Ve,rt)|0,j=j+Math.imul(Ve,Lt)|0,j=j+Math.imul(Ze,rt)|0,ie=ie+Math.imul(Ze,Lt)|0,K=K+Math.imul(Ee,wt)|0,j=j+Math.imul(Ee,Et)|0,j=j+Math.imul(xe,wt)|0,ie=ie+Math.imul(xe,Et)|0,K=K+Math.imul(be,vr)|0,j=j+Math.imul(be,dt)|0,j=j+Math.imul(Pe,vr)|0,ie=ie+Math.imul(Pe,dt)|0,K=K+Math.imul(fe,jt)|0,j=j+Math.imul(fe,gr)|0,j=j+Math.imul(pe,jt)|0,ie=ie+Math.imul(pe,gr)|0,K=K+Math.imul(X,gt)|0,j=j+Math.imul(X,st)|0,j=j+Math.imul(oe,gt)|0,ie=ie+Math.imul(oe,st)|0,K=K+Math.imul(Q,Mt)|0,j=j+Math.imul(Q,Rt)|0,j=j+Math.imul(ee,Mt)|0,ie=ie+Math.imul(ee,Rt)|0;var Ft=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,K=Math.imul(mt,Oe),j=Math.imul(mt,Ne),j=j+Math.imul(tt,Oe)|0,ie=Math.imul(tt,Ne),K=K+Math.imul(ot,et)|0,j=j+Math.imul(ot,Le)|0,j=j+Math.imul(ct,et)|0,ie=ie+Math.imul(ct,Le)|0,K=K+Math.imul(He,ye)|0,j=j+Math.imul(He,Se)|0,j=j+Math.imul(Fe,ye)|0,ie=ie+Math.imul(Fe,Se)|0,K=K+Math.imul(Ye,rt)|0,j=j+Math.imul(Ye,Lt)|0,j=j+Math.imul(lt,rt)|0,ie=ie+Math.imul(lt,Lt)|0,K=K+Math.imul(Ve,wt)|0,j=j+Math.imul(Ve,Et)|0,j=j+Math.imul(Ze,wt)|0,ie=ie+Math.imul(Ze,Et)|0,K=K+Math.imul(Ee,vr)|0,j=j+Math.imul(Ee,dt)|0,j=j+Math.imul(xe,vr)|0,ie=ie+Math.imul(xe,dt)|0,K=K+Math.imul(be,jt)|0,j=j+Math.imul(be,gr)|0,j=j+Math.imul(Pe,jt)|0,ie=ie+Math.imul(Pe,gr)|0,K=K+Math.imul(fe,gt)|0,j=j+Math.imul(fe,st)|0,j=j+Math.imul(pe,gt)|0,ie=ie+Math.imul(pe,st)|0,K=K+Math.imul(X,Mt)|0,j=j+Math.imul(X,Rt)|0,j=j+Math.imul(oe,Mt)|0,ie=ie+Math.imul(oe,Rt)|0;var kt=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(kt>>>26)|0,kt&=67108863,K=Math.imul(mt,et),j=Math.imul(mt,Le),j=j+Math.imul(tt,et)|0,ie=Math.imul(tt,Le),K=K+Math.imul(ot,ye)|0,j=j+Math.imul(ot,Se)|0,j=j+Math.imul(ct,ye)|0,ie=ie+Math.imul(ct,Se)|0,K=K+Math.imul(He,rt)|0,j=j+Math.imul(He,Lt)|0,j=j+Math.imul(Fe,rt)|0,ie=ie+Math.imul(Fe,Lt)|0,K=K+Math.imul(Ye,wt)|0,j=j+Math.imul(Ye,Et)|0,j=j+Math.imul(lt,wt)|0,ie=ie+Math.imul(lt,Et)|0,K=K+Math.imul(Ve,vr)|0,j=j+Math.imul(Ve,dt)|0,j=j+Math.imul(Ze,vr)|0,ie=ie+Math.imul(Ze,dt)|0,K=K+Math.imul(Ee,jt)|0,j=j+Math.imul(Ee,gr)|0,j=j+Math.imul(xe,jt)|0,ie=ie+Math.imul(xe,gr)|0,K=K+Math.imul(be,gt)|0,j=j+Math.imul(be,st)|0,j=j+Math.imul(Pe,gt)|0,ie=ie+Math.imul(Pe,st)|0,K=K+Math.imul(fe,Mt)|0,j=j+Math.imul(fe,Rt)|0,j=j+Math.imul(pe,Mt)|0,ie=ie+Math.imul(pe,Rt)|0;var Zt=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,K=Math.imul(mt,ye),j=Math.imul(mt,Se),j=j+Math.imul(tt,ye)|0,ie=Math.imul(tt,Se),K=K+Math.imul(ot,rt)|0,j=j+Math.imul(ot,Lt)|0,j=j+Math.imul(ct,rt)|0,ie=ie+Math.imul(ct,Lt)|0,K=K+Math.imul(He,wt)|0,j=j+Math.imul(He,Et)|0,j=j+Math.imul(Fe,wt)|0,ie=ie+Math.imul(Fe,Et)|0,K=K+Math.imul(Ye,vr)|0,j=j+Math.imul(Ye,dt)|0,j=j+Math.imul(lt,vr)|0,ie=ie+Math.imul(lt,dt)|0,K=K+Math.imul(Ve,jt)|0,j=j+Math.imul(Ve,gr)|0,j=j+Math.imul(Ze,jt)|0,ie=ie+Math.imul(Ze,gr)|0,K=K+Math.imul(Ee,gt)|0,j=j+Math.imul(Ee,st)|0,j=j+Math.imul(xe,gt)|0,ie=ie+Math.imul(xe,st)|0,K=K+Math.imul(be,Mt)|0,j=j+Math.imul(be,Rt)|0,j=j+Math.imul(Pe,Mt)|0,ie=ie+Math.imul(Pe,Rt)|0;var rr=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(rr>>>26)|0,rr&=67108863,K=Math.imul(mt,rt),j=Math.imul(mt,Lt),j=j+Math.imul(tt,rt)|0,ie=Math.imul(tt,Lt),K=K+Math.imul(ot,wt)|0,j=j+Math.imul(ot,Et)|0,j=j+Math.imul(ct,wt)|0,ie=ie+Math.imul(ct,Et)|0,K=K+Math.imul(He,vr)|0,j=j+Math.imul(He,dt)|0,j=j+Math.imul(Fe,vr)|0,ie=ie+Math.imul(Fe,dt)|0,K=K+Math.imul(Ye,jt)|0,j=j+Math.imul(Ye,gr)|0,j=j+Math.imul(lt,jt)|0,ie=ie+Math.imul(lt,gr)|0,K=K+Math.imul(Ve,gt)|0,j=j+Math.imul(Ve,st)|0,j=j+Math.imul(Ze,gt)|0,ie=ie+Math.imul(Ze,st)|0,K=K+Math.imul(Ee,Mt)|0,j=j+Math.imul(Ee,Rt)|0,j=j+Math.imul(xe,Mt)|0,ie=ie+Math.imul(xe,Rt)|0;var lr=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(lr>>>26)|0,lr&=67108863,K=Math.imul(mt,wt),j=Math.imul(mt,Et),j=j+Math.imul(tt,wt)|0,ie=Math.imul(tt,Et),K=K+Math.imul(ot,vr)|0,j=j+Math.imul(ot,dt)|0,j=j+Math.imul(ct,vr)|0,ie=ie+Math.imul(ct,dt)|0,K=K+Math.imul(He,jt)|0,j=j+Math.imul(He,gr)|0,j=j+Math.imul(Fe,jt)|0,ie=ie+Math.imul(Fe,gr)|0,K=K+Math.imul(Ye,gt)|0,j=j+Math.imul(Ye,st)|0,j=j+Math.imul(lt,gt)|0,ie=ie+Math.imul(lt,st)|0,K=K+Math.imul(Ve,Mt)|0,j=j+Math.imul(Ve,Rt)|0,j=j+Math.imul(Ze,Mt)|0,ie=ie+Math.imul(Ze,Rt)|0;var qt=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(qt>>>26)|0,qt&=67108863,K=Math.imul(mt,vr),j=Math.imul(mt,dt),j=j+Math.imul(tt,vr)|0,ie=Math.imul(tt,dt),K=K+Math.imul(ot,jt)|0,j=j+Math.imul(ot,gr)|0,j=j+Math.imul(ct,jt)|0,ie=ie+Math.imul(ct,gr)|0,K=K+Math.imul(He,gt)|0,j=j+Math.imul(He,st)|0,j=j+Math.imul(Fe,gt)|0,ie=ie+Math.imul(Fe,st)|0,K=K+Math.imul(Ye,Mt)|0,j=j+Math.imul(Ye,Rt)|0,j=j+Math.imul(lt,Mt)|0,ie=ie+Math.imul(lt,Rt)|0;var Ot=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,K=Math.imul(mt,jt),j=Math.imul(mt,gr),j=j+Math.imul(tt,jt)|0,ie=Math.imul(tt,gr),K=K+Math.imul(ot,gt)|0,j=j+Math.imul(ot,st)|0,j=j+Math.imul(ct,gt)|0,ie=ie+Math.imul(ct,st)|0,K=K+Math.imul(He,Mt)|0,j=j+Math.imul(He,Rt)|0,j=j+Math.imul(Fe,Mt)|0,ie=ie+Math.imul(Fe,Rt)|0;var tr=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(tr>>>26)|0,tr&=67108863,K=Math.imul(mt,gt),j=Math.imul(mt,st),j=j+Math.imul(tt,gt)|0,ie=Math.imul(tt,st),K=K+Math.imul(ot,Mt)|0,j=j+Math.imul(ot,Rt)|0,j=j+Math.imul(ct,Mt)|0,ie=ie+Math.imul(ct,Rt)|0;var dr=(ue+K|0)+((j&8191)<<13)|0;ue=(ie+(j>>>13)|0)+(dr>>>26)|0,dr&=67108863,K=Math.imul(mt,Mt),j=Math.imul(mt,Rt),j=j+Math.imul(tt,Mt)|0,ie=Math.imul(tt,Rt);var mr=(ue+K|0)+((j&8191)<<13)|0;return ue=(ie+(j>>>13)|0)+(mr>>>26)|0,mr&=67108863,se[0]=Vt,se[1]=Ct,se[2]=Bt,se[3]=Xt,se[4]=ir,se[5]=or,se[6]=cr,se[7]=We,se[8]=Ue,se[9]=Ft,se[10]=kt,se[11]=Zt,se[12]=rr,se[13]=lr,se[14]=qt,se[15]=Ot,se[16]=tr,se[17]=dr,se[18]=mr,ue!==0&&(se[19]=ue,Y.length++),Y};Math.imul||(M=b);function m(O,z,N){N.negative=z.negative^O.negative,N.length=O.length+z.length;for(var Y=0,J=0,ae=0;ae<N.length-1;ae++){var se=J;J=0;for(var ue=Y&67108863,K=Math.min(ae,z.length-1),j=Math.max(0,ae-O.length+1);j<=K;j++){var ie=ae-j,W=O.words[ie]|0,Q=z.words[j]|0,ee=W*Q,$=ee&67108863;se=se+(ee/67108864|0)|0,$=$+ue|0,ue=$&67108863,se=se+($>>>26)|0,J+=se>>>26,se&=67108863}N.words[ae]=ue,Y=se,se=J}return Y!==0?N.words[ae]=Y:N.length--,N.strip()}function S(O,z,N){var Y=new T;return Y.mulp(O,z,N)}l.prototype.mulTo=function(z,N){var Y,J=this.length+z.length;return this.length===10&&z.length===10?Y=M(this,z,N):J<63?Y=b(this,z,N):J<1024?Y=m(this,z,N):Y=S(this,z,N),Y};function T(O,z){this.x=O,this.y=z}T.prototype.makeRBT=function(z){for(var N=new Array(z),Y=l.prototype._countBits(z)-1,J=0;J<z;J++)N[J]=this.revBin(J,Y,z);return N},T.prototype.revBin=function(z,N,Y){if(z===0||z===Y-1)return z;for(var J=0,ae=0;ae<N;ae++)J|=(z&1)<<N-ae-1,z>>=1;return J},T.prototype.permute=function(z,N,Y,J,ae,se){for(var ue=0;ue<se;ue++)J[ue]=N[z[ue]],ae[ue]=Y[z[ue]]},T.prototype.transform=function(z,N,Y,J,ae,se){this.permute(se,z,N,Y,J,ae);for(var ue=1;ue<ae;ue<<=1)for(var K=ue<<1,j=Math.cos(2*Math.PI/K),ie=Math.sin(2*Math.PI/K),W=0;W<ae;W+=K)for(var Q=j,ee=ie,$=0;$<ue;$++){var X=Y[W+$],oe=J[W+$],te=Y[W+$+ue],fe=J[W+$+ue],pe=Q*te-ee*fe;fe=Q*fe+ee*te,te=pe,Y[W+$]=X+te,J[W+$]=oe+fe,Y[W+$+ue]=X-te,J[W+$+ue]=oe-fe,$!==K&&(pe=j*Q-ie*ee,ee=j*ee+ie*Q,Q=pe)}},T.prototype.guessLen13b=function(z,N){var Y=Math.max(N,z)|1,J=Y&1,ae=0;for(Y=Y/2|0;Y;Y=Y>>>1)ae++;return 1<<ae+1+J},T.prototype.conjugate=function(z,N,Y){if(!(Y<=1))for(var J=0;J<Y/2;J++){var ae=z[J];z[J]=z[Y-J-1],z[Y-J-1]=ae,ae=N[J],N[J]=-N[Y-J-1],N[Y-J-1]=-ae}},T.prototype.normalize13b=function(z,N){for(var Y=0,J=0;J<N/2;J++){var ae=Math.round(z[2*J+1]/N)*8192+Math.round(z[2*J]/N)+Y;z[J]=ae&67108863,ae<67108864?Y=0:Y=ae/67108864|0}return z},T.prototype.convert13b=function(z,N,Y,J){for(var ae=0,se=0;se<N;se++)ae=ae+(z[se]|0),Y[2*se]=ae&8191,ae=ae>>>13,Y[2*se+1]=ae&8191,ae=ae>>>13;for(se=2*N;se<J;++se)Y[se]=0;n(ae===0),n((ae&-8192)===0)},T.prototype.stub=function(z){for(var N=new Array(z),Y=0;Y<z;Y++)N[Y]=0;return N},T.prototype.mulp=function(z,N,Y){var J=2*this.guessLen13b(z.length,N.length),ae=this.makeRBT(J),se=this.stub(J),ue=new Array(J),K=new Array(J),j=new Array(J),ie=new Array(J),W=new Array(J),Q=new Array(J),ee=Y.words;ee.length=J,this.convert13b(z.words,z.length,ue,J),this.convert13b(N.words,N.length,ie,J),this.transform(ue,se,K,j,J,ae),this.transform(ie,se,W,Q,J,ae);for(var $=0;$<J;$++){var X=K[$]*W[$]-j[$]*Q[$];j[$]=K[$]*Q[$]+j[$]*W[$],K[$]=X}return this.conjugate(K,j,J),this.transform(K,j,ee,se,J,ae),this.conjugate(ee,se,J),this.normalize13b(ee,J),Y.negative=z.negative^N.negative,Y.length=z.length+N.length,Y.strip()},l.prototype.mul=function(z){var N=new l(null);return N.words=new Array(this.length+z.length),this.mulTo(z,N)},l.prototype.mulf=function(z){var N=new l(null);return N.words=new Array(this.length+z.length),S(this,z,N)},l.prototype.imul=function(z){return this.clone().mulTo(z,this)},l.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var N=0,Y=0;Y<this.length;Y++){var J=(this.words[Y]|0)*z,ae=(J&67108863)+(N&67108863);N>>=26,N+=J/67108864|0,N+=ae>>>26,this.words[Y]=ae&67108863}return N!==0&&(this.words[Y]=N,this.length++),this},l.prototype.muln=function(z){return this.clone().imuln(z)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(z){var N=A(z);if(N.length===0)return new l(1);for(var Y=this,J=0;J<N.length&&N[J]===0;J++,Y=Y.sqr());if(++J<N.length)for(var ae=Y.sqr();J<N.length;J++,ae=ae.sqr())N[J]!==0&&(Y=Y.mul(ae));return Y},l.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var N=z%26,Y=(z-N)/26,J=67108863>>>26-N<<26-N,ae;if(N!==0){var se=0;for(ae=0;ae<this.length;ae++){var ue=this.words[ae]&J,K=(this.words[ae]|0)-ue<<N;this.words[ae]=K|se,se=ue>>>26-N}se&&(this.words[ae]=se,this.length++)}if(Y!==0){for(ae=this.length-1;ae>=0;ae--)this.words[ae+Y]=this.words[ae];for(ae=0;ae<Y;ae++)this.words[ae]=0;this.length+=Y}return this.strip()},l.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},l.prototype.iushrn=function(z,N,Y){n(typeof z=="number"&&z>=0);var J;N?J=(N-N%26)/26:J=0;var ae=z%26,se=Math.min((z-ae)/26,this.length),ue=67108863^67108863>>>ae<<ae,K=Y;if(J-=se,J=Math.max(0,J),K){for(var j=0;j<se;j++)K.words[j]=this.words[j];K.length=se}if(se!==0)if(this.length>se)for(this.length-=se,j=0;j<this.length;j++)this.words[j]=this.words[j+se];else this.words[0]=0,this.length=1;var ie=0;for(j=this.length-1;j>=0&&(ie!==0||j>=J);j--){var W=this.words[j]|0;this.words[j]=ie<<26-ae|W>>>ae,ie=W&ue}return K&&ie!==0&&(K.words[K.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(z,N,Y){return n(this.negative===0),this.iushrn(z,N,Y)},l.prototype.shln=function(z){return this.clone().ishln(z)},l.prototype.ushln=function(z){return this.clone().iushln(z)},l.prototype.shrn=function(z){return this.clone().ishrn(z)},l.prototype.ushrn=function(z){return this.clone().iushrn(z)},l.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var N=z%26,Y=(z-N)/26,J=1<<N;if(this.length<=Y)return!1;var ae=this.words[Y];return!!(ae&J)},l.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var N=z%26,Y=(z-N)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Y)return this;if(N!==0&&Y++,this.length=Math.min(Y,this.length),N!==0){var J=67108863^67108863>>>N<<N;this.words[this.length-1]&=J}return this.strip()},l.prototype.maskn=function(z){return this.clone().imaskn(z)},l.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},l.prototype._iaddn=function(z){this.words[0]+=z;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},l.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},l.prototype.addn=function(z){return this.clone().iaddn(z)},l.prototype.subn=function(z){return this.clone().isubn(z)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(z,N,Y){var J=z.length+Y,ae;this._expand(J);var se,ue=0;for(ae=0;ae<z.length;ae++){se=(this.words[ae+Y]|0)+ue;var K=(z.words[ae]|0)*N;se-=K&67108863,ue=(se>>26)-(K/67108864|0),this.words[ae+Y]=se&67108863}for(;ae<this.length-Y;ae++)se=(this.words[ae+Y]|0)+ue,ue=se>>26,this.words[ae+Y]=se&67108863;if(ue===0)return this.strip();for(n(ue===-1),ue=0,ae=0;ae<this.length;ae++)se=-(this.words[ae]|0)+ue,ue=se>>26,this.words[ae]=se&67108863;return this.negative=1,this.strip()},l.prototype._wordDiv=function(z,N){var Y=this.length-z.length,J=this.clone(),ae=z,se=ae.words[ae.length-1]|0,ue=this._countBits(se);Y=26-ue,Y!==0&&(ae=ae.ushln(Y),J.iushln(Y),se=ae.words[ae.length-1]|0);var K=J.length-ae.length,j;if(N!=="mod"){j=new l(null),j.length=K+1,j.words=new Array(j.length);for(var ie=0;ie<j.length;ie++)j.words[ie]=0}var W=J.clone()._ishlnsubmul(ae,1,K);W.negative===0&&(J=W,j&&(j.words[K]=1));for(var Q=K-1;Q>=0;Q--){var ee=(J.words[ae.length+Q]|0)*67108864+(J.words[ae.length+Q-1]|0);for(ee=Math.min(ee/se|0,67108863),J._ishlnsubmul(ae,ee,Q);J.negative!==0;)ee--,J.negative=0,J._ishlnsubmul(ae,1,Q),J.isZero()||(J.negative^=1);j&&(j.words[Q]=ee)}return j&&j.strip(),J.strip(),N!=="div"&&Y!==0&&J.iushrn(Y),{div:j||null,mod:J}},l.prototype.divmod=function(z,N,Y){if(n(!z.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var J,ae,se;return this.negative!==0&&z.negative===0?(se=this.neg().divmod(z,N),N!=="mod"&&(J=se.div.neg()),N!=="div"&&(ae=se.mod.neg(),Y&&ae.negative!==0&&ae.iadd(z)),{div:J,mod:ae}):this.negative===0&&z.negative!==0?(se=this.divmod(z.neg(),N),N!=="mod"&&(J=se.div.neg()),{div:J,mod:se.mod}):this.negative&z.negative?(se=this.neg().divmod(z.neg(),N),N!=="div"&&(ae=se.mod.neg(),Y&&ae.negative!==0&&ae.isub(z)),{div:se.div,mod:ae}):z.length>this.length||this.cmp(z)<0?{div:new l(0),mod:this}:z.length===1?N==="div"?{div:this.divn(z.words[0]),mod:null}:N==="mod"?{div:null,mod:new l(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new l(this.modn(z.words[0]))}:this._wordDiv(z,N)},l.prototype.div=function(z){return this.divmod(z,"div",!1).div},l.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},l.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},l.prototype.divRound=function(z){var N=this.divmod(z);if(N.mod.isZero())return N.div;var Y=N.div.negative!==0?N.mod.isub(z):N.mod,J=z.ushrn(1),ae=z.andln(1),se=Y.cmp(J);return se<0||ae===1&&se===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},l.prototype.modn=function(z){n(z<=67108863);for(var N=(1<<26)%z,Y=0,J=this.length-1;J>=0;J--)Y=(N*Y+(this.words[J]|0))%z;return Y},l.prototype.idivn=function(z){n(z<=67108863);for(var N=0,Y=this.length-1;Y>=0;Y--){var J=(this.words[Y]|0)+N*67108864;this.words[Y]=J/z|0,N=J%z}return this.strip()},l.prototype.divn=function(z){return this.clone().idivn(z)},l.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var N=this,Y=z.clone();N.negative!==0?N=N.umod(z):N=N.clone();for(var J=new l(1),ae=new l(0),se=new l(0),ue=new l(1),K=0;N.isEven()&&Y.isEven();)N.iushrn(1),Y.iushrn(1),++K;for(var j=Y.clone(),ie=N.clone();!N.isZero();){for(var W=0,Q=1;!(N.words[0]&Q)&&W<26;++W,Q<<=1);if(W>0)for(N.iushrn(W);W-- >0;)(J.isOdd()||ae.isOdd())&&(J.iadd(j),ae.isub(ie)),J.iushrn(1),ae.iushrn(1);for(var ee=0,$=1;!(Y.words[0]&$)&&ee<26;++ee,$<<=1);if(ee>0)for(Y.iushrn(ee);ee-- >0;)(se.isOdd()||ue.isOdd())&&(se.iadd(j),ue.isub(ie)),se.iushrn(1),ue.iushrn(1);N.cmp(Y)>=0?(N.isub(Y),J.isub(se),ae.isub(ue)):(Y.isub(N),se.isub(J),ue.isub(ae))}return{a:se,b:ue,gcd:Y.iushln(K)}},l.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var N=this,Y=z.clone();N.negative!==0?N=N.umod(z):N=N.clone();for(var J=new l(1),ae=new l(0),se=Y.clone();N.cmpn(1)>0&&Y.cmpn(1)>0;){for(var ue=0,K=1;!(N.words[0]&K)&&ue<26;++ue,K<<=1);if(ue>0)for(N.iushrn(ue);ue-- >0;)J.isOdd()&&J.iadd(se),J.iushrn(1);for(var j=0,ie=1;!(Y.words[0]&ie)&&j<26;++j,ie<<=1);if(j>0)for(Y.iushrn(j);j-- >0;)ae.isOdd()&&ae.iadd(se),ae.iushrn(1);N.cmp(Y)>=0?(N.isub(Y),J.isub(ae)):(Y.isub(N),ae.isub(J))}var W;return N.cmpn(1)===0?W=J:W=ae,W.cmpn(0)<0&&W.iadd(z),W},l.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var N=this.clone(),Y=z.clone();N.negative=0,Y.negative=0;for(var J=0;N.isEven()&&Y.isEven();J++)N.iushrn(1),Y.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var ae=N.cmp(Y);if(ae<0){var se=N;N=Y,Y=se}else if(ae===0||Y.cmpn(1)===0)break;N.isub(Y)}while(!0);return Y.iushln(J)},l.prototype.invm=function(z){return this.egcd(z).a.umod(z)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(z){return this.words[0]&z},l.prototype.bincn=function(z){n(typeof z=="number");var N=z%26,Y=(z-N)/26,J=1<<N;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=J,this;for(var ae=J,se=Y;ae!==0&&se<this.length;se++){var ue=this.words[se]|0;ue+=ae,ae=ue>>>26,ue&=67108863,this.words[se]=ue}return ae!==0&&(this.words[se]=ae,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(z){var N=z<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this.strip();var Y;if(this.length>1)Y=1;else{N&&(z=-z),n(z<=67108863,"Number is too big");var J=this.words[0]|0;Y=J===z?0:J<z?-1:1}return this.negative!==0?-Y|0:Y},l.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var N=this.ucmp(z);return this.negative!==0?-N|0:N},l.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var N=0,Y=this.length-1;Y>=0;Y--){var J=this.words[Y]|0,ae=z.words[Y]|0;if(J!==ae){J<ae?N=-1:J>ae&&(N=1);break}}return N},l.prototype.gtn=function(z){return this.cmpn(z)===1},l.prototype.gt=function(z){return this.cmp(z)===1},l.prototype.gten=function(z){return this.cmpn(z)>=0},l.prototype.gte=function(z){return this.cmp(z)>=0},l.prototype.ltn=function(z){return this.cmpn(z)===-1},l.prototype.lt=function(z){return this.cmp(z)===-1},l.prototype.lten=function(z){return this.cmpn(z)<=0},l.prototype.lte=function(z){return this.cmp(z)<=0},l.prototype.eqn=function(z){return this.cmpn(z)===0},l.prototype.eq=function(z){return this.cmp(z)===0},l.red=function(z){return new F(z)},l.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},l.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(z){return this.red=z,this},l.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},l.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},l.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},l.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},l.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},l.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},l.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},l.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},l.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var a={k256:null,p224:null,p192:null,p25519:null};function E(O,z){this.name=O,this.p=new l(z,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var z=new l(null);return z.words=new Array(Math.ceil(this.n/13)),z},E.prototype.ireduce=function(z){var N=z,Y;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),Y=N.bitLength();while(Y>this.n);var J=Y<this.n?-1:N.ucmp(this.p);return J===0?(N.words[0]=0,N.length=1):J>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},E.prototype.split=function(z,N){z.iushrn(this.n,0,N)},E.prototype.imulK=function(z){return z.imul(this.k)};function p(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(p,E),p.prototype.split=function(z,N){for(var Y=4194303,J=Math.min(z.length,9),ae=0;ae<J;ae++)N.words[ae]=z.words[ae];if(N.length=J,z.length<=9){z.words[0]=0,z.length=1;return}var se=z.words[9];for(N.words[N.length++]=se&Y,ae=10;ae<z.length;ae++){var ue=z.words[ae]|0;z.words[ae-10]=(ue&Y)<<4|se>>>22,se=ue}se>>>=22,z.words[ae-10]=se,se===0&&z.length>10?z.length-=10:z.length-=9},p.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var N=0,Y=0;Y<z.length;Y++){var J=z.words[Y]|0;N+=J*977,z.words[Y]=N&67108863,N=J*64+(N/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function k(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(k,E);function R(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(R,E);function B(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(B,E),B.prototype.imulK=function(z){for(var N=0,Y=0;Y<z.length;Y++){var J=(z.words[Y]|0)*19+N,ae=J&67108863;J>>>=26,z.words[Y]=ae,N=J}return N!==0&&(z.words[z.length++]=N),z},l._prime=function(z){if(a[z])return a[z];var N;if(z==="k256")N=new p;else if(z==="p224")N=new k;else if(z==="p192")N=new R;else if(z==="p25519")N=new B;else throw new Error("Unknown prime "+z);return a[z]=N,N};function F(O){if(typeof O=="string"){var z=l._prime(O);this.m=z.p,this.prime=z}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}F.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},F.prototype._verify2=function(z,N){n((z.negative|N.negative)===0,"red works only with positives"),n(z.red&&z.red===N.red,"red works only with red numbers")},F.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},F.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},F.prototype.add=function(z,N){this._verify2(z,N);var Y=z.add(N);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},F.prototype.iadd=function(z,N){this._verify2(z,N);var Y=z.iadd(N);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},F.prototype.sub=function(z,N){this._verify2(z,N);var Y=z.sub(N);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},F.prototype.isub=function(z,N){this._verify2(z,N);var Y=z.isub(N);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},F.prototype.shl=function(z,N){return this._verify1(z),this.imod(z.ushln(N))},F.prototype.imul=function(z,N){return this._verify2(z,N),this.imod(z.imul(N))},F.prototype.mul=function(z,N){return this._verify2(z,N),this.imod(z.mul(N))},F.prototype.isqr=function(z){return this.imul(z,z.clone())},F.prototype.sqr=function(z){return this.mul(z,z)},F.prototype.sqrt=function(z){if(z.isZero())return z.clone();var N=this.m.andln(3);if(n(N%2===1),N===3){var Y=this.m.add(new l(1)).iushrn(2);return this.pow(z,Y)}for(var J=this.m.subn(1),ae=0;!J.isZero()&&J.andln(1)===0;)ae++,J.iushrn(1);n(!J.isZero());var se=new l(1).toRed(this),ue=se.redNeg(),K=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new l(2*j*j).toRed(this);this.pow(j,K).cmp(ue)!==0;)j.redIAdd(ue);for(var ie=this.pow(j,J),W=this.pow(z,J.addn(1).iushrn(1)),Q=this.pow(z,J),ee=ae;Q.cmp(se)!==0;){for(var $=Q,X=0;$.cmp(se)!==0;X++)$=$.redSqr();n(X<ee);var oe=this.pow(ie,new l(1).iushln(ee-X-1));W=W.redMul(oe),ie=oe.redSqr(),Q=Q.redMul(ie),ee=X}return W},F.prototype.invm=function(z){var N=z._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},F.prototype.pow=function(z,N){if(N.isZero())return new l(1).toRed(this);if(N.cmpn(1)===0)return z.clone();var Y=4,J=new Array(1<<Y);J[0]=new l(1).toRed(this),J[1]=z;for(var ae=2;ae<J.length;ae++)J[ae]=this.mul(J[ae-1],z);var se=J[0],ue=0,K=0,j=N.bitLength()%26;for(j===0&&(j=26),ae=N.length-1;ae>=0;ae--){for(var ie=N.words[ae],W=j-1;W>=0;W--){var Q=ie>>W&1;if(se!==J[0]&&(se=this.sqr(se)),Q===0&&ue===0){K=0;continue}ue<<=1,ue|=Q,K++,!(K!==Y&&(ae!==0||W!==0))&&(se=this.mul(se,J[ue]),K=0,ue=0)}j=26}return se},F.prototype.convertTo=function(z){var N=z.umod(this.m);return N===z?N.clone():N},F.prototype.convertFrom=function(z){var N=z.clone();return N.red=null,N},l.mont=function(z){return new _(z)};function _(O){F.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(_,F),_.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},_.prototype.convertFrom=function(z){var N=this.imod(z.mul(this.rinv));return N.red=null,N},_.prototype.imul=function(z,N){if(z.isZero()||N.isZero())return z.words[0]=0,z.length=1,z;var Y=z.imul(N),J=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=Y.isub(J).iushrn(this.shift),se=ae;return ae.cmp(this.m)>=0?se=ae.isub(this.m):ae.cmpn(0)<0&&(se=ae.iadd(this.m)),se._forceRed(this)},_.prototype.mul=function(z,N){if(z.isZero()||N.isZero())return new l(0)._forceRed(this);var Y=z.mul(N),J=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=Y.isub(J).iushrn(this.shift),se=ae;return ae.cmp(this.m)>=0?se=ae.isub(this.m):ae.cmpn(0)<0&&(se=ae.iadd(this.m)),se._forceRed(this)},_.prototype.invm=function(z){var N=this.imod(z._invmp(this.m).mul(this.r2));return N._forceRed(this)}}(c,this)},6204:function(c){"use strict";c.exports=y;function y(r){var t,s,n,u=r.length,l=0;for(t=0;t<u;++t)l+=r[t].length;var f=new Array(l),g=0;for(t=0;t<u;++t){var h=r[t],w=h.length;for(s=0;s<w;++s){var d=f[g++]=new Array(w-1),o=0;for(n=0;n<w;++n)n!==s&&(d[o++]=h[n]);if(s&1){var v=d[1];d[1]=d[0],d[0]=v}}}return f}},6867:function(c,y,r){"use strict";c.exports=o;var t=r(1888),s=r(855),n=r(7150);function u(v,A){for(var b=0;b<v;++b)if(!(A[b]<=A[b+v]))return!0;return!1}function l(v,A,b,M){for(var m=0,S=0,T=0,a=v.length;T<a;++T){var E=v[T];if(!u(A,E)){for(var p=0;p<2*A;++p)b[m++]=E[p];M[S++]=T}}return S}function f(v,A,b,M){var m=v.length,S=A.length;if(!(m<=0||S<=0)){var T=v[0].length>>>1;if(!(T<=0)){var a,E=t.mallocDouble(2*T*m),p=t.mallocInt32(m);if(m=l(v,T,E,p),m>0){if(T===1&&M)s.init(m),a=s.sweepComplete(T,b,0,m,E,p,0,m,E,p);else{var k=t.mallocDouble(2*T*S),R=t.mallocInt32(S);S=l(A,T,k,R),S>0&&(s.init(m+S),T===1?a=s.sweepBipartite(T,b,0,m,E,p,0,S,k,R):a=n(T,b,M,m,E,p,S,k,R),t.free(k),t.free(R))}t.free(E),t.free(p)}return a}}}var g;function h(v,A){g.push([v,A])}function w(v){return g=[],f(v,v,h,!0),g}function d(v,A){return g=[],f(v,A,h,!1),g}function o(v,A,b){switch(arguments.length){case 1:return w(v);case 2:return typeof A=="function"?f(v,v,A,!0):d(v,A);case 3:return f(v,A,b,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(c,y){"use strict";function r(){function n(f,g,h,w,d,o,v,A,b,M,m){for(var S=2*f,T=w,a=S*w;T<d;++T,a+=S){var E=o[g+a],p=o[g+a+f],k=v[T];e:for(var R=A,B=S*A;R<b;++R,B+=S){var F=M[g+B],_=M[g+B+f],O=m[R];if(!(_<E||p<F)){for(var z=g+1;z<f;++z){var N=o[z+a],Y=o[z+f+a],J=M[z+B],ae=M[z+f+B];if(Y<J||ae<N)continue e}var se=h(k,O);if(se!==void 0)return se}}}}function u(f,g,h,w,d,o,v,A,b,M,m){for(var S=2*f,T=A,a=S*A;T<b;++T,a+=S){var E=M[g+a],p=M[g+a+f],k=m[T];e:for(var R=w,B=S*w;R<d;++R,B+=S){var F=o[g+B],_=o[g+B+f],O=v[R];if(!(p<F||_<E)){for(var z=g+1;z<f;++z){var N=o[z+B],Y=o[z+f+B],J=M[z+a],ae=M[z+f+a];if(Y<J||ae<N)continue e}var se=h(O,k);if(se!==void 0)return se}}}}function l(f,g,h,w,d,o,v,A,b,M,m){return d-w>b-A?n(f,g,h,w,d,o,v,A,b,M,m):u(f,g,h,w,d,o,v,A,b,M,m)}return l}function t(){function n(h,w,d,o,v,A,b,M,m,S,T){for(var a=2*h,E=o,p=a*o;E<v;++E,p+=a){var k=A[w+p],R=A[w+p+h],B=b[E];e:for(var F=M,_=a*M;F<m;++F,_+=a){var O=S[w+_],z=T[F];if(!(O<=k||R<O)){for(var N=w+1;N<h;++N){var Y=A[N+p],J=A[N+h+p],ae=S[N+_],se=S[N+h+_];if(J<ae||se<Y)continue e}var ue=d(z,B);if(ue!==void 0)return ue}}}}function u(h,w,d,o,v,A,b,M,m,S,T){for(var a=2*h,E=o,p=a*o;E<v;++E,p+=a){var k=A[w+p],R=A[w+p+h],B=b[E];e:for(var F=M,_=a*M;F<m;++F,_+=a){var O=S[w+_],z=T[F];if(!(O<k||R<O)){for(var N=w+1;N<h;++N){var Y=A[N+p],J=A[N+h+p],ae=S[N+_],se=S[N+h+_];if(J<ae||se<Y)continue e}var ue=d(B,z);if(ue!==void 0)return ue}}}}function l(h,w,d,o,v,A,b,M,m,S,T){for(var a=2*h,E=M,p=a*M;E<m;++E,p+=a){var k=S[w+p],R=T[E];e:for(var B=o,F=a*o;B<v;++B,F+=a){var _=A[w+F],O=A[w+F+h],z=b[B];if(!(k<=_||O<k)){for(var N=w+1;N<h;++N){var Y=A[N+F],J=A[N+h+F],ae=S[N+p],se=S[N+h+p];if(J<ae||se<Y)continue e}var ue=d(R,z);if(ue!==void 0)return ue}}}}function f(h,w,d,o,v,A,b,M,m,S,T){for(var a=2*h,E=M,p=a*M;E<m;++E,p+=a){var k=S[w+p],R=T[E];e:for(var B=o,F=a*o;B<v;++B,F+=a){var _=A[w+F],O=A[w+F+h],z=b[B];if(!(k<_||O<k)){for(var N=w+1;N<h;++N){var Y=A[N+F],J=A[N+h+F],ae=S[N+p],se=S[N+h+p];if(J<ae||se<Y)continue e}var ue=d(z,R);if(ue!==void 0)return ue}}}}function g(h,w,d,o,v,A,b,M,m,S,T,a){return A-v>S-m?o?n(h,w,d,v,A,b,M,m,S,T,a):u(h,w,d,v,A,b,M,m,S,T,a):o?l(h,w,d,v,A,b,M,m,S,T,a):f(h,w,d,v,A,b,M,m,S,T,a)}return g}function s(n){return n?r():t()}y.partial=s(!1),y.full=s(!0)},7150:function(c,y,r){"use strict";c.exports=O;var t=r(1888),s=r(8828),n=r(2455),u=n.partial,l=n.full,f=r(855),g=r(3545),h=r(8105),w=128,d=1<<22,o=1<<22,v=h("!(lo>=p0)&&!(p1>=hi)"),A=h("lo===p0"),b=h("lo<p0"),M=h("hi<=p0"),m=h("lo<=p0&&p0<=hi"),S=h("lo<p0&&p0<=hi"),T=6,a=2,E=1024,p=t.mallocInt32(E),k=t.mallocDouble(E);function R(z,N){var Y=8*s.log2(N+1)*(z+1)|0,J=s.nextPow2(T*Y);p.length<J&&(t.free(p),p=t.mallocInt32(J));var ae=s.nextPow2(a*Y);k.length<ae&&(t.free(k),k=t.mallocDouble(ae))}function B(z,N,Y,J,ae,se,ue,K,j){var ie=T*z;p[ie]=N,p[ie+1]=Y,p[ie+2]=J,p[ie+3]=ae,p[ie+4]=se,p[ie+5]=ue;var W=a*z;k[W]=K,k[W+1]=j}function F(z,N,Y,J,ae,se,ue,K,j,ie,W){var Q=2*z,ee=j*Q,$=ie[ee+N];e:for(var X=ae,oe=ae*Q;X<se;++X,oe+=Q){var te=ue[oe+N],fe=ue[oe+N+z];if(!($<te||fe<$)&&!(J&&$===te)){for(var pe=K[X],Ae=N+1;Ae<z;++Ae){var te=ue[oe+Ae],fe=ue[oe+Ae+z],be=ie[ee+Ae],Pe=ie[ee+Ae+z];if(fe<be||Pe<te)continue e}var me;if(J?me=Y(W,pe):me=Y(pe,W),me!==void 0)return me}}}function _(z,N,Y,J,ae,se,ue,K,j,ie){var W=2*z,Q=K*W,ee=j[Q+N];e:for(var $=J,X=J*W;$<ae;++$,X+=W){var oe=ue[$];if(oe!==ie){var te=se[X+N],fe=se[X+N+z];if(!(ee<te||fe<ee)){for(var pe=N+1;pe<z;++pe){var te=se[X+pe],fe=se[X+pe+z],Ae=j[Q+pe],be=j[Q+pe+z];if(fe<Ae||be<te)continue e}var Pe=Y(oe,ie);if(Pe!==void 0)return Pe}}}}function O(z,N,Y,J,ae,se,ue,K,j){R(z,J+ue);var ie=0,W=2*z,Q;for(B(ie++,0,0,J,0,ue,Y?16:0,-1/0,1/0),Y||B(ie++,0,0,ue,0,J,1,-1/0,1/0);ie>0;){ie-=1;var ee=ie*T,$=p[ee],X=p[ee+1],oe=p[ee+2],te=p[ee+3],fe=p[ee+4],pe=p[ee+5],Ae=ie*a,be=k[Ae],Pe=k[Ae+1],me=pe&1,Ee=!!(pe&16),xe=ae,De=se,Ve=K,Ze=j;if(me&&(xe=K,De=j,Ve=ae,Ze=se),!(pe&2&&(oe=b(z,$,X,oe,xe,De,Pe),X>=oe))&&!(pe&4&&(X=M(z,$,X,oe,xe,De,be),X>=oe))){var ke=oe-X,Ye=fe-te;if(Ee){if(z*ke*(ke+Ye)<o){if(Q=f.scanComplete(z,$,N,X,oe,xe,De,te,fe,Ve,Ze),Q!==void 0)return Q;continue}}else if(z*Math.min(ke,Ye)<w){if(Q=u(z,$,N,me,X,oe,xe,De,te,fe,Ve,Ze),Q!==void 0)return Q;continue}else if(z*ke*Ye<d){if(Q=f.scanBipartite(z,$,N,me,X,oe,xe,De,te,fe,Ve,Ze),Q!==void 0)return Q;continue}var lt=v(z,$,X,oe,xe,De,be,Pe);if(X<lt)if(z*(lt-X)<w){if(Q=l(z,$+1,N,X,lt,xe,De,te,fe,Ve,Ze),Q!==void 0)return Q}else if($===z-2){if(me?Q=f.sweepBipartite(z,N,te,fe,Ve,Ze,X,lt,xe,De):Q=f.sweepBipartite(z,N,X,lt,xe,De,te,fe,Ve,Ze),Q!==void 0)return Q}else B(ie++,$+1,X,lt,te,fe,me,-1/0,1/0),B(ie++,$+1,te,fe,X,lt,me^1,-1/0,1/0);if(lt<oe){var yt=g(z,$,te,fe,Ve,Ze),He=Ve[W*yt+$],Fe=A(z,$,yt,fe,Ve,Ze,He);if(Fe<fe&&B(ie++,$,lt,oe,Fe,fe,(me|4)+(Ee?16:0),He,Pe),te<yt&&B(ie++,$,lt,oe,te,yt,(me|2)+(Ee?16:0),be,He),yt+1===Fe){if(Ee?Q=_(z,$,N,lt,oe,xe,De,yt,Ve,Ze[yt]):Q=F(z,$,N,me,lt,oe,xe,De,yt,Ve,Ze[yt]),Q!==void 0)return Q}else if(yt<Fe){var nt;if(Ee){if(nt=m(z,$,lt,oe,xe,De,He),lt<nt){var ot=A(z,$,lt,nt,xe,De,He);if($===z-2){if(lt<ot&&(Q=f.sweepComplete(z,N,lt,ot,xe,De,yt,Fe,Ve,Ze),Q!==void 0)||ot<nt&&(Q=f.sweepBipartite(z,N,ot,nt,xe,De,yt,Fe,Ve,Ze),Q!==void 0))return Q}else lt<ot&&B(ie++,$+1,lt,ot,yt,Fe,16,-1/0,1/0),ot<nt&&(B(ie++,$+1,ot,nt,yt,Fe,0,-1/0,1/0),B(ie++,$+1,yt,Fe,ot,nt,1,-1/0,1/0))}}else me?nt=S(z,$,lt,oe,xe,De,He):nt=m(z,$,lt,oe,xe,De,He),lt<nt&&($===z-2?me?Q=f.sweepBipartite(z,N,yt,Fe,Ve,Ze,lt,nt,xe,De):Q=f.sweepBipartite(z,N,lt,nt,xe,De,yt,Fe,Ve,Ze):(B(ie++,$+1,lt,nt,yt,Fe,me,-1/0,1/0),B(ie++,$+1,yt,Fe,lt,nt,me^1,-1/0,1/0)))}}}}}},3545:function(c,y,r){"use strict";c.exports=l;var t=r(8105),s=t("lo<p0"),n=8;function u(f,g,h,w,d,o){for(var v=2*f,A=v*(h+1)+g,b=h+1;b<w;++b,A+=v)for(var M=d[A],m=b,S=v*(b-1);m>h&&d[S+g]>M;--m,S-=v){for(var T=S,a=S+v,E=0;E<v;++E,++T,++a){var p=d[T];d[T]=d[a],d[a]=p}var k=o[m];o[m]=o[m-1],o[m-1]=k}}function l(f,g,h,w,d,o){if(w<=h+1)return h;for(var v=h,A=w,b=w+h>>>1,M=2*f,m=b,S=d[M*b+g];v<A;){if(A-v<n){u(f,g,v,A,d,o),S=d[M*b+g];break}var T=A-v,a=Math.random()*T+v|0,E=d[M*a+g],p=Math.random()*T+v|0,k=d[M*p+g],R=Math.random()*T+v|0,B=d[M*R+g];E<=k?B>=k?(m=p,S=k):E>=B?(m=a,S=E):(m=R,S=B):k>=B?(m=p,S=k):B>=E?(m=a,S=E):(m=R,S=B);for(var O=M*(A-1),z=M*m,F=0;F<M;++F,++O,++z){var _=d[O];d[O]=d[z],d[z]=_}var N=o[A-1];o[A-1]=o[m],o[m]=N,m=s(f,g,v,A-1,d,o,S);for(var O=M*(A-1),z=M*m,F=0;F<M;++F,++O,++z){var _=d[O];d[O]=d[z],d[z]=_}var N=o[A-1];if(o[A-1]=o[m],o[m]=N,b<m){for(A=m-1;v<A&&d[M*(A-1)+g]===S;)A-=1;A+=1}else if(m<b)for(v=m+1;v<A&&d[M*v+g]===S;)v+=1;else break}return s(f,g,h,b,d,o,d[M*b+g])}},8105:function(c){"use strict";c.exports=r;var y={"lo===p0":t,"lo<p0":s,"lo<=p0":n,"hi<=p0":u,"lo<p0&&p0<=hi":f,"lo<=p0&&p0<=hi":l,"!(lo>=p0)&&!(p1>=hi)":g};function r(h){return y[h]}function t(h,w,d,o,v,A,b){for(var M=2*h,m=M*d,S=m,T=d,a=w,E=h+w,p=d;o>p;++p,m+=M){var k=v[m+a];if(k===b)if(T===p)T+=1,S+=M;else{for(var R=0;M>R;++R){var B=v[m+R];v[m+R]=v[S],v[S++]=B}var F=A[p];A[p]=A[T],A[T++]=F}}return T}function s(h,w,d,o,v,A,b){for(var M=2*h,m=M*d,S=m,T=d,a=w,E=h+w,p=d;o>p;++p,m+=M){var k=v[m+a];if(k<b)if(T===p)T+=1,S+=M;else{for(var R=0;M>R;++R){var B=v[m+R];v[m+R]=v[S],v[S++]=B}var F=A[p];A[p]=A[T],A[T++]=F}}return T}function n(h,w,d,o,v,A,b){for(var M=2*h,m=M*d,S=m,T=d,a=w,E=h+w,p=d;o>p;++p,m+=M){var k=v[m+E];if(k<=b)if(T===p)T+=1,S+=M;else{for(var R=0;M>R;++R){var B=v[m+R];v[m+R]=v[S],v[S++]=B}var F=A[p];A[p]=A[T],A[T++]=F}}return T}function u(h,w,d,o,v,A,b){for(var M=2*h,m=M*d,S=m,T=d,a=w,E=h+w,p=d;o>p;++p,m+=M){var k=v[m+E];if(k<=b)if(T===p)T+=1,S+=M;else{for(var R=0;M>R;++R){var B=v[m+R];v[m+R]=v[S],v[S++]=B}var F=A[p];A[p]=A[T],A[T++]=F}}return T}function l(h,w,d,o,v,A,b){for(var M=2*h,m=M*d,S=m,T=d,a=w,E=h+w,p=d;o>p;++p,m+=M){var k=v[m+a],R=v[m+E];if(k<=b&&b<=R)if(T===p)T+=1,S+=M;else{for(var B=0;M>B;++B){var F=v[m+B];v[m+B]=v[S],v[S++]=F}var _=A[p];A[p]=A[T],A[T++]=_}}return T}function f(h,w,d,o,v,A,b){for(var M=2*h,m=M*d,S=m,T=d,a=w,E=h+w,p=d;o>p;++p,m+=M){var k=v[m+a],R=v[m+E];if(k<b&&b<=R)if(T===p)T+=1,S+=M;else{for(var B=0;M>B;++B){var F=v[m+B];v[m+B]=v[S],v[S++]=F}var _=A[p];A[p]=A[T],A[T++]=_}}return T}function g(h,w,d,o,v,A,b,M){for(var m=2*h,S=m*d,T=S,a=d,E=w,p=h+w,k=d;o>k;++k,S+=m){var R=v[S+E],B=v[S+p];if(!(R>=b)&&!(M>=B))if(a===k)a+=1,T+=m;else{for(var F=0;m>F;++F){var _=v[S+F];v[S+F]=v[T],v[T++]=_}var O=A[k];A[k]=A[a],A[a++]=O}}return a}},1811:function(c){"use strict";c.exports=r;var y=32;function r(w,d){d<=4*y?t(0,d-1,w):h(0,d-1,w)}function t(w,d,o){for(var v=2*(w+1),A=w+1;A<=d;++A){for(var b=o[v++],M=o[v++],m=A,S=v-2;m-- >w;){var T=o[S-2],a=o[S-1];if(T<b)break;if(T===b&&a<M)break;o[S]=T,o[S+1]=a,S-=2}o[S]=b,o[S+1]=M}}function s(w,d,o){w*=2,d*=2;var v=o[w],A=o[w+1];o[w]=o[d],o[w+1]=o[d+1],o[d]=v,o[d+1]=A}function n(w,d,o){w*=2,d*=2,o[w]=o[d],o[w+1]=o[d+1]}function u(w,d,o,v){w*=2,d*=2,o*=2;var A=v[w],b=v[w+1];v[w]=v[d],v[w+1]=v[d+1],v[d]=v[o],v[d+1]=v[o+1],v[o]=A,v[o+1]=b}function l(w,d,o,v,A){w*=2,d*=2,A[w]=A[d],A[d]=o,A[w+1]=A[d+1],A[d+1]=v}function f(w,d,o){w*=2,d*=2;var v=o[w],A=o[d];return v<A?!1:v===A?o[w+1]>o[d+1]:!0}function g(w,d,o,v){w*=2;var A=v[w];return A<d?!0:A===d?v[w+1]<o:!1}function h(w,d,o){var v=(d-w+1)/6|0,A=w+v,b=d-v,M=w+d>>1,m=M-v,S=M+v,T=A,a=m,E=M,p=S,k=b,R=w+1,B=d-1,F=0;f(T,a,o)&&(F=T,T=a,a=F),f(p,k,o)&&(F=p,p=k,k=F),f(T,E,o)&&(F=T,T=E,E=F),f(a,E,o)&&(F=a,a=E,E=F),f(T,p,o)&&(F=T,T=p,p=F),f(E,p,o)&&(F=E,E=p,p=F),f(a,k,o)&&(F=a,a=k,k=F),f(a,E,o)&&(F=a,a=E,E=F),f(p,k,o)&&(F=p,p=k,k=F);for(var _=o[2*a],O=o[2*a+1],z=o[2*p],N=o[2*p+1],Y=2*T,J=2*E,ae=2*k,se=2*A,ue=2*M,K=2*b,j=0;j<2;++j){var ie=o[Y+j],W=o[J+j],Q=o[ae+j];o[se+j]=ie,o[ue+j]=W,o[K+j]=Q}n(m,w,o),n(S,d,o);for(var ee=R;ee<=B;++ee)if(g(ee,_,O,o))ee!==R&&s(ee,R,o),++R;else if(!g(ee,z,N,o))for(;;)if(g(B,z,N,o)){g(B,_,O,o)?(u(ee,R,B,o),++R,--B):(s(ee,B,o),--B);break}else{if(--B<ee)break;continue}l(w,R-1,_,O,o),l(d,B+1,z,N,o),R-2-w<=y?t(w,R-2,o):h(w,R-2,o),d-(B+2)<=y?t(B+2,d,o):h(B+2,d,o),B-R<=y?t(R,B,o):h(R,B,o)}},855:function(c,y,r){"use strict";c.exports={init:A,sweepBipartite:m,sweepComplete:S,scanBipartite:T,scanComplete:a};var t=r(1888),s=r(8828),n=r(1811),u=1<<28,l=1024,f=t.mallocInt32(l),g=t.mallocInt32(l),h=t.mallocInt32(l),w=t.mallocInt32(l),d=t.mallocInt32(l),o=t.mallocInt32(l),v=t.mallocDouble(l*8);function A(E){var p=s.nextPow2(E);f.length<p&&(t.free(f),f=t.mallocInt32(p)),g.length<p&&(t.free(g),g=t.mallocInt32(p)),h.length<p&&(t.free(h),h=t.mallocInt32(p)),w.length<p&&(t.free(w),w=t.mallocInt32(p)),d.length<p&&(t.free(d),d=t.mallocInt32(p)),o.length<p&&(t.free(o),o=t.mallocInt32(p));var k=8*p;v.length<k&&(t.free(v),v=t.mallocDouble(k))}function b(E,p,k,R){var B=p[R],F=E[k-1];E[B]=F,p[F]=B}function M(E,p,k,R){E[k]=R,p[R]=k}function m(E,p,k,R,B,F,_,O,z,N){for(var Y=0,J=2*E,ae=E-1,se=J-1,ue=k;ue<R;++ue){var K=F[ue],j=J*ue;v[Y++]=B[j+ae],v[Y++]=-(K+1),v[Y++]=B[j+se],v[Y++]=K}for(var ue=_;ue<O;++ue){var K=N[ue]+u,ie=J*ue;v[Y++]=z[ie+ae],v[Y++]=-K,v[Y++]=z[ie+se],v[Y++]=K}var W=Y>>>1;n(v,W);for(var Q=0,ee=0,ue=0;ue<W;++ue){var $=v[2*ue+1]|0;if($>=u)$=$-u|0,b(h,w,ee--,$);else if($>=0)b(f,g,Q--,$);else if($<=-u){$=-$-u|0;for(var X=0;X<Q;++X){var oe=p(f[X],$);if(oe!==void 0)return oe}M(h,w,ee++,$)}else{$=-$-1|0;for(var X=0;X<ee;++X){var oe=p($,h[X]);if(oe!==void 0)return oe}M(f,g,Q++,$)}}}function S(E,p,k,R,B,F,_,O,z,N){for(var Y=0,J=2*E,ae=E-1,se=J-1,ue=k;ue<R;++ue){var K=F[ue]+1<<1,j=J*ue;v[Y++]=B[j+ae],v[Y++]=-K,v[Y++]=B[j+se],v[Y++]=K}for(var ue=_;ue<O;++ue){var K=N[ue]+1<<1,ie=J*ue;v[Y++]=z[ie+ae],v[Y++]=-K|1,v[Y++]=z[ie+se],v[Y++]=K|1}var W=Y>>>1;n(v,W);for(var Q=0,ee=0,$=0,ue=0;ue<W;++ue){var X=v[2*ue+1]|0,oe=X&1;if(ue<W-1&&X>>1===v[2*ue+3]>>1&&(oe=2,ue+=1),X<0){for(var te=-(X>>1)-1,fe=0;fe<$;++fe){var pe=p(d[fe],te);if(pe!==void 0)return pe}if(oe!==0)for(var fe=0;fe<Q;++fe){var pe=p(f[fe],te);if(pe!==void 0)return pe}if(oe!==1)for(var fe=0;fe<ee;++fe){var pe=p(h[fe],te);if(pe!==void 0)return pe}oe===0?M(f,g,Q++,te):oe===1?M(h,w,ee++,te):oe===2&&M(d,o,$++,te)}else{var te=(X>>1)-1;oe===0?b(f,g,Q--,te):oe===1?b(h,w,ee--,te):oe===2&&b(d,o,$--,te)}}}function T(E,p,k,R,B,F,_,O,z,N,Y,J){var ae=0,se=2*E,ue=p,K=p+E,j=1,ie=1;R?ie=u:j=u;for(var W=B;W<F;++W){var Q=W+j,ee=se*W;v[ae++]=_[ee+ue],v[ae++]=-Q,v[ae++]=_[ee+K],v[ae++]=Q}for(var W=z;W<N;++W){var Q=W+ie,$=se*W;v[ae++]=Y[$+ue],v[ae++]=-Q}var X=ae>>>1;n(v,X);for(var oe=0,W=0;W<X;++W){var te=v[2*W+1]|0;if(te<0){var Q=-te,fe=!1;if(Q>=u?(fe=!R,Q-=u):(fe=!!R,Q-=1),fe)M(f,g,oe++,Q);else{var pe=J[Q],Ae=se*Q,be=Y[Ae+p+1],Pe=Y[Ae+p+1+E];e:for(var me=0;me<oe;++me){var Ee=f[me],xe=se*Ee;if(!(Pe<_[xe+p+1]||_[xe+p+1+E]<be)){for(var De=p+2;De<E;++De)if(Y[Ae+De+E]<_[xe+De]||_[xe+De+E]<Y[Ae+De])continue e;var Ve=O[Ee],Ze;if(R?Ze=k(pe,Ve):Ze=k(Ve,pe),Ze!==void 0)return Ze}}}}else b(f,g,oe--,te-j)}}function a(E,p,k,R,B,F,_,O,z,N,Y){for(var J=0,ae=2*E,se=p,ue=p+E,K=R;K<B;++K){var j=K+u,ie=ae*K;v[J++]=F[ie+se],v[J++]=-j,v[J++]=F[ie+ue],v[J++]=j}for(var K=O;K<z;++K){var j=K+1,W=ae*K;v[J++]=N[W+se],v[J++]=-j}var Q=J>>>1;n(v,Q);for(var ee=0,K=0;K<Q;++K){var $=v[2*K+1]|0;if($<0){var j=-$;if(j>=u)f[ee++]=j-u;else{j-=1;var X=Y[j],oe=ae*j,te=N[oe+p+1],fe=N[oe+p+1+E];e:for(var pe=0;pe<ee;++pe){var Ae=f[pe],be=_[Ae];if(be===X)break;var Pe=ae*Ae;if(!(fe<F[Pe+p+1]||F[Pe+p+1+E]<te)){for(var me=p+2;me<E;++me)if(N[oe+me+E]<F[Pe+me]||F[Pe+me+E]<N[oe+me])continue e;var Ee=k(be,X);if(Ee!==void 0)return Ee}}}}else{for(var j=$-u,pe=ee-1;pe>=0;--pe)if(f[pe]===j){for(var me=pe+1;me<ee;++me)f[me-1]=f[me];break}--ee}}}},2538:function(c,y,r){"use strict";var t=r(8902),s=r(5542),n=r(2272),u=r(5023);c.exports=w;function l(d){return[Math.min(d[0],d[1]),Math.max(d[0],d[1])]}function f(d,o){return d[0]-o[0]||d[1]-o[1]}function g(d){return d.map(l).sort(f)}function h(d,o,v){return o in d?d[o]:v}function w(d,o,v){Array.isArray(o)?(v=v||{},o=o||[]):(v=o||{},o=[]);var A=!!h(v,"delaunay",!0),b=!!h(v,"interior",!0),M=!!h(v,"exterior",!0),m=!!h(v,"infinity",!1);if(!b&&!M||d.length===0)return[];var S=t(d,o);if(A||b!==M||m){for(var T=s(d.length,g(o)),a=0;a<S.length;++a){var E=S[a];T.addTriangle(E[0],E[1],E[2])}return A&&n(d,T),M?b?m?u(T,0,m):T.cells():u(T,1,m):u(T,-1)}else return S}},2272:function(c,y,r){"use strict";var t=r(2646)[4],s=r(2478);c.exports=u;function n(l,f,g,h,w,d){var o=f.opposite(h,w);if(!(o<0)){if(w<h){var v=h;h=w,w=v,v=d,d=o,o=v}f.isConstraint(h,w)||t(l[h],l[w],l[d],l[o])<0&&g.push(h,w)}}function u(l,f){for(var g=[],h=l.length,w=f.stars,d=0;d<h;++d)for(var o=w[d],v=1;v<o.length;v+=2){var A=o[v];if(!(A<d)&&!f.isConstraint(d,A)){for(var b=o[v-1],M=-1,m=1;m<o.length;m+=2)if(o[m-1]===A){M=o[m];break}M<0||t(l[d],l[A],l[b],l[M])<0&&g.push(d,A)}}for(;g.length>0;){for(var A=g.pop(),d=g.pop(),b=-1,M=-1,o=w[d],S=1;S<o.length;S+=2){var T=o[S-1],a=o[S];T===A?M=a:a===A&&(b=T)}b<0||M<0||t(l[d],l[A],l[b],l[M])>=0||(f.flip(d,A),n(l,f,g,b,d,M),n(l,f,g,d,M,b),n(l,f,g,M,A,b),n(l,f,g,A,b,M))}}},5023:function(c,y,r){"use strict";var t=r(2478);c.exports=g;function s(h,w,d,o,v,A,b){this.cells=h,this.neighbor=w,this.flags=o,this.constraint=d,this.active=v,this.next=A,this.boundary=b}var n=s.prototype;function u(h,w){return h[0]-w[0]||h[1]-w[1]||h[2]-w[2]}n.locate=function(){var h=[0,0,0];return function(w,d,o){var v=w,A=d,b=o;return d<o?d<w&&(v=d,A=o,b=w):o<w&&(v=o,A=w,b=d),v<0?-1:(h[0]=v,h[1]=A,h[2]=b,t.eq(this.cells,h,u))}}();function l(h,w){for(var d=h.cells(),o=d.length,v=0;v<o;++v){var A=d[v],b=A[0],M=A[1],m=A[2];M<m?M<b&&(A[0]=M,A[1]=m,A[2]=b):m<b&&(A[0]=m,A[1]=b,A[2]=M)}d.sort(u);for(var S=new Array(o),v=0;v<S.length;++v)S[v]=0;var T=[],a=[],E=new Array(3*o),p=new Array(3*o),k=null;w&&(k=[]);for(var R=new s(d,E,p,S,T,a,k),v=0;v<o;++v)for(var A=d[v],B=0;B<3;++B){var b=A[B],M=A[(B+1)%3],F=E[3*v+B]=R.locate(M,b,h.opposite(M,b)),_=p[3*v+B]=h.isConstraint(b,M);F<0&&(_?a.push(v):(T.push(v),S[v]=1),w&&k.push([M,b,-1]))}return R}function f(h,w,d){for(var o=0,v=0;v<h.length;++v)w[v]===d&&(h[o++]=h[v]);return h.length=o,h}function g(h,w,d){var o=l(h,d);if(w===0)return d?o.cells.concat(o.boundary):o.cells;for(var v=1,A=o.active,b=o.next,M=o.flags,m=o.cells,S=o.constraint,T=o.neighbor;A.length>0||b.length>0;){for(;A.length>0;){var a=A.pop();if(M[a]!==-v){M[a]=v;for(var E=m[a],p=0;p<3;++p){var k=T[3*a+p];k>=0&&M[k]===0&&(S[3*a+p]?b.push(k):(A.push(k),M[k]=v))}}}var R=b;b=A,A=R,b.length=0,v=-v}var B=f(m,M,w);return d?B.concat(o.boundary):B}},8902:function(c,y,r){"use strict";var t=r(2478),s=r(3250)[3],n=0,u=1,l=2;c.exports=b;function f(M,m,S,T,a){this.a=M,this.b=m,this.idx=S,this.lowerIds=T,this.upperIds=a}function g(M,m,S,T){this.a=M,this.b=m,this.type=S,this.idx=T}function h(M,m){var S=M.a[0]-m.a[0]||M.a[1]-m.a[1]||M.type-m.type;return S||M.type!==n&&(S=s(M.a,M.b,m.b),S)?S:M.idx-m.idx}function w(M,m){return s(M.a,M.b,m)}function d(M,m,S,T,a){for(var E=t.lt(m,T,w),p=t.gt(m,T,w),k=E;k<p;++k){for(var R=m[k],B=R.lowerIds,_=B.length;_>1&&s(S[B[_-2]],S[B[_-1]],T)>0;)M.push([B[_-1],B[_-2],a]),_-=1;B.length=_,B.push(a);for(var F=R.upperIds,_=F.length;_>1&&s(S[F[_-2]],S[F[_-1]],T)<0;)M.push([F[_-2],F[_-1],a]),_-=1;F.length=_,F.push(a)}}function o(M,m){var S;return M.a[0]<m.a[0]?S=s(M.a,M.b,m.a):S=s(m.b,m.a,M.a),S||(m.b[0]<M.b[0]?S=s(M.a,M.b,m.b):S=s(m.b,m.a,M.b),S||M.idx-m.idx)}function v(M,m,S){var T=t.le(M,S,o),a=M[T],E=a.upperIds,p=E[E.length-1];a.upperIds=[p],M.splice(T+1,0,new f(S.a,S.b,S.idx,[p],E))}function A(M,m,S){var T=S.a;S.a=S.b,S.b=T;var a=t.eq(M,S,o),E=M[a],p=M[a-1];p.upperIds=E.upperIds,M.splice(a,1)}function b(M,m){for(var S=M.length,T=m.length,a=[],E=0;E<S;++E)a.push(new g(M[E],null,n,E));for(var E=0;E<T;++E){var p=m[E],k=M[p[0]],R=M[p[1]];k[0]<R[0]?a.push(new g(k,R,l,E),new g(R,k,u,E)):k[0]>R[0]&&a.push(new g(R,k,l,E),new g(k,R,u,E))}a.sort(h);for(var B=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),F=[new f([B,1],[B,0],-1,[],[],[],[])],_=[],E=0,O=a.length;E<O;++E){var z=a[E],N=z.type;N===n?d(_,F,M,z.a,z.idx):N===l?v(F,M,z):A(F,M,z)}return _}},5542:function(c,y,r){"use strict";var t=r(2478);c.exports=l;function s(f,g){this.stars=f,this.edges=g}var n=s.prototype;function u(f,g,h){for(var w=1,d=f.length;w<d;w+=2)if(f[w-1]===g&&f[w]===h){f[w-1]=f[d-2],f[w]=f[d-1],f.length=d-2;return}}n.isConstraint=function(){var f=[0,0];function g(h,w){return h[0]-w[0]||h[1]-w[1]}return function(h,w){return f[0]=Math.min(h,w),f[1]=Math.max(h,w),t.eq(this.edges,f,g)>=0}}(),n.removeTriangle=function(f,g,h){var w=this.stars;u(w[f],g,h),u(w[g],h,f),u(w[h],f,g)},n.addTriangle=function(f,g,h){var w=this.stars;w[f].push(g,h),w[g].push(h,f),w[h].push(f,g)},n.opposite=function(f,g){for(var h=this.stars[g],w=1,d=h.length;w<d;w+=2)if(h[w]===f)return h[w-1];return-1},n.flip=function(f,g){var h=this.opposite(f,g),w=this.opposite(g,f);this.removeTriangle(f,g,h),this.removeTriangle(g,f,w),this.addTriangle(f,w,h),this.addTriangle(g,h,w)},n.edges=function(){for(var f=this.stars,g=[],h=0,w=f.length;h<w;++h)for(var d=f[h],o=0,v=d.length;o<v;o+=2)g.push([d[o],d[o+1]]);return g},n.cells=function(){for(var f=this.stars,g=[],h=0,w=f.length;h<w;++h)for(var d=f[h],o=0,v=d.length;o<v;o+=2){var A=d[o],b=d[o+1];h<Math.min(A,b)&&g.push([h,A,b])}return g};function l(f,g){for(var h=new Array(f),w=0;w<f;++w)h[w]=[];return new s(h,g)}},2419:function(c){"use strict";c.exports=y;function y(r){for(var t=1,s=1;s<r.length;++s)for(var n=0;n<s;++n)if(r[s]<r[n])t=-t;else if(r[n]===r[s])return 0;return t}},3628:function(c,y,r){"use strict";var t=r(1338),s=r(727);function n(f,g){for(var h=0,w=f.length,d=0;d<w;++d)h+=f[d]*g[d];return h}function u(f){var g=f.length;if(g===0)return[];var h=f[0].length,w=t([f.length+1,f.length+1],1),d=t([f.length+1],1);w[g][g]=0;for(var o=0;o<g;++o){for(var v=0;v<=o;++v)w[v][o]=w[o][v]=2*n(f[o],f[v]);d[o]=n(f[o],f[o])}for(var A=s(w,d),b=0,M=A[g+1],o=0;o<M.length;++o)b+=M[o];for(var m=new Array(g),o=0;o<g;++o){for(var M=A[o],S=0,v=0;v<M.length;++v)S+=M[v];m[o]=S/b}return m}function l(f){if(f.length===0)return[];for(var g=f[0].length,h=t([g]),w=u(f),d=0;d<f.length;++d)for(var o=0;o<g;++o)h[o]+=f[d][o]*w[d];return h}l.barycenetric=u,c.exports=l},6037:function(c,y,r){c.exports=s;var t=r(3628);function s(n){for(var u=t(n),l=0,f=0;f<n.length;++f)for(var g=n[f],h=0;h<u.length;++h)l+=Math.pow(g[h]-u[h],2);return Math.sqrt(l/n.length)}},332:function(c,y,r){"use strict";c.exports=k;var t=r(1755),s=r(6867),n=r(1125),u=r(7842),l=r(1318),f=r(946),g=r(5838),h=r(1278),w=r(3637);function d(R){var B=f(R);return[h(B,-1/0),h(B,1/0)]}function o(R,B){for(var F=new Array(B.length),_=0;_<B.length;++_){var O=B[_],z=R[O[0]],N=R[O[1]];F[_]=[h(Math.min(z[0],N[0]),-1/0),h(Math.min(z[1],N[1]),-1/0),h(Math.max(z[0],N[0]),1/0),h(Math.max(z[1],N[1]),1/0)]}return F}function v(R){for(var B=new Array(R.length),F=0;F<R.length;++F){var _=R[F];B[F]=[h(_[0],-1/0),h(_[1],-1/0),h(_[0],1/0),h(_[1],1/0)]}return B}function A(R,B,F){var _=[];return s(F,function(O,z){var N=B[O],Y=B[z];if(!(N[0]===Y[0]||N[0]===Y[1]||N[1]===Y[0]||N[1]===Y[1])){var J=R[N[0]],ae=R[N[1]],se=R[Y[0]],ue=R[Y[1]];n(J,ae,se,ue)&&_.push([O,z])}}),_}function b(R,B,F,_){var O=[];return s(F,_,function(z,N){var Y=B[z];if(!(Y[0]===N||Y[1]===N)){var J=R[N],ae=R[Y[0]],se=R[Y[1]];n(ae,se,J,J)&&O.push([z,N])}}),O}function M(R,B,F,_,O){var z,N,Y=R.map(function(Ae){return[u(Ae[0]),u(Ae[1])]});for(z=0;z<F.length;++z){var J=F[z];N=J[0];var ae=J[1],se=B[N],ue=B[ae],K=w(g(R[se[0]]),g(R[se[1]]),g(R[ue[0]]),g(R[ue[1]]));if(K){var j=R.length;R.push([f(K[0]),f(K[1])]),Y.push(K),_.push([N,j],[ae,j])}}for(_.sort(function(Ae,be){if(Ae[0]!==be[0])return Ae[0]-be[0];var Pe=Y[Ae[1]],me=Y[be[1]];return l(Pe[0],me[0])||l(Pe[1],me[1])}),z=_.length-1;z>=0;--z){var ie=_[z];N=ie[0];var W=B[N],Q=W[0],ee=W[1],$=R[Q],X=R[ee];if(($[0]-X[0]||$[1]-X[1])<0){var oe=Q;Q=ee,ee=oe}W[0]=Q;var te=W[1]=ie[1],fe;for(O&&(fe=W[2]);z>0&&_[z-1][0]===N;){var ie=_[--z],pe=ie[1];O?B.push([te,pe,fe]):B.push([te,pe]),te=pe}O?B.push([te,ee,fe]):B.push([te,ee])}return Y}function m(R,B,F){for(var _=B.length,O=new t(_),z=[],N=0;N<B.length;++N){var Y=B[N],J=d(Y[0]),ae=d(Y[1]);z.push([h(J[0],-1/0),h(ae[0],-1/0),h(J[1],1/0),h(ae[1],1/0)])}s(z,function(ie,W){O.link(ie,W)});for(var se=!0,ue=new Array(_),N=0;N<_;++N){var K=O.find(N);K!==N&&(se=!1,R[K]=[Math.min(R[N][0],R[K][0]),Math.min(R[N][1],R[K][1])])}if(se)return null;for(var j=0,N=0;N<_;++N){var K=O.find(N);K===N?(ue[N]=j,R[j++]=R[N]):ue[N]=-1}R.length=j;for(var N=0;N<_;++N)ue[N]<0&&(ue[N]=ue[O.find(N)]);return ue}function S(R,B){return R[0]-B[0]||R[1]-B[1]}function T(R,B){var F=R[0]-B[0]||R[1]-B[1];return F||(R[2]<B[2]?-1:R[2]>B[2]?1:0)}function a(R,B,F){if(R.length!==0){if(B)for(var _=0;_<R.length;++_){var O=R[_],z=B[O[0]],N=B[O[1]];O[0]=Math.min(z,N),O[1]=Math.max(z,N)}else for(var _=0;_<R.length;++_){var O=R[_],z=O[0],N=O[1];O[0]=Math.min(z,N),O[1]=Math.max(z,N)}F?R.sort(T):R.sort(S);for(var Y=1,_=1;_<R.length;++_){var J=R[_-1],ae=R[_];ae[0]===J[0]&&ae[1]===J[1]&&(!F||ae[2]===J[2])||(R[Y++]=ae)}R.length=Y}}function E(R,B,F){var _=m(R,[],v(R));return a(B,_,F),!!_}function p(R,B,F){var _=o(R,B),O=A(R,B,_),z=v(R),N=b(R,B,_,z),Y=M(R,B,O,N,F),J=m(R,Y,z);return a(B,J,F),J?!0:O.length>0||N.length>0}function k(R,B,F){var _;if(F){_=B;for(var O=new Array(B.length),z=0;z<B.length;++z){var N=B[z];O[z]=[N[0],N[1],F[z]]}B=O}for(var Y=E(R,B,!!F);p(R,B,!!F);)Y=!0;if(F&&Y){_.length=0,F.length=0;for(var z=0;z<B.length;++z){var N=B[z];_.push([N[0],N[1]]),F.push(N[2])}}return Y}},3637:function(c,y,r){"use strict";c.exports=w;var t=r(6504),s=r(8697),n=r(5572),u=r(7721),l=r(544),f=r(2653),g=r(8987);function h(d,o){return n(t(d[0],o[1]),t(d[1],o[0]))}function w(d,o,v,A){var b=l(o,d),M=l(A,v),m=h(b,M);if(u(m)===0)return null;var S=l(d,v),T=h(M,S),a=s(T,m),E=g(b,a),p=f(d,E);return p}},3642:function(c){c.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(c,y,r){"use strict";var t=r(3642),s=r(395);c.exports=n;function n(g){var h,w,d,o,v,A,b,M,a,m,S;if(g||(g={}),M=(g.nshades||72)-1,b=g.format||"hex",A=g.colormap,A||(A="jet"),typeof A=="string"){if(A=A.toLowerCase(),!t[A])throw Error(A+" not a supported colorscale");v=t[A]}else if(Array.isArray(A))v=A.slice();else throw Error("unsupported colormap option",A);if(v.length>M+1)throw new Error(A+" map requires nshades to be at least size "+v.length);Array.isArray(g.alpha)?g.alpha.length!==2?m=[1,1]:m=g.alpha.slice():typeof g.alpha=="number"?m=[g.alpha,g.alpha]:m=[1,1],h=v.map(function(k){return Math.round(k.index*M)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var T=v.map(function(k,R){var B=v[R].index,F=v[R].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=m[0]+(m[1]-m[0])*B),F}),a=[];for(S=0;S<h.length-1;++S){o=h[S+1]-h[S],w=T[S],d=T[S+1];for(var E=0;E<o;E++){var p=E/o;a.push([Math.round(s(w[0],d[0],p)),Math.round(s(w[1],d[1],p)),Math.round(s(w[2],d[2],p)),s(w[3],d[3],p)])}}return a.push(v[v.length-1].rgb.concat(m[1])),b==="hex"?a=a.map(l):b==="rgbaString"?a=a.map(f):b==="float"&&(a=a.map(u)),a}function u(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function l(g){for(var h,w="#",d=0;d<3;++d)h=g[d],h=h.toString(16),w+=("00"+h).substr(h.length);return w}function f(g){return"rgba("+g.join(",")+")"}},3140:function(c,y,r){"use strict";c.exports=g;var t=r(3250),s=r(8572),n=r(9362),u=r(5382),l=r(8210);function f(h,w,d){var o=n(h[0],-w[0]),v=n(h[1],-w[1]),A=n(d[0],-w[0]),b=n(d[1],-w[1]),M=l(u(o,A),u(v,b));return M[M.length-1]>=0}function g(h,w,d,o){var v=t(w,d,o);if(v===0){var A=s(t(h,w,d)),b=s(t(h,w,o));if(A===b){if(A===0){var M=f(h,w,d),m=f(h,w,o);return M===m?0:M?1:-1}return 0}else{if(b===0)return A>0||f(h,w,o)?-1:1;if(A===0)return b>0||f(h,w,d)?1:-1}return s(b-A)}var S=t(h,w,d);if(S>0)return v>0&&t(h,w,o)>0?1:-1;if(S<0)return v>0||t(h,w,o)>0?1:-1;var T=t(h,w,o);return T>0||f(h,w,d)?1:-1}},8572:function(c){"use strict";c.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(c){c.exports=t;var y=Math.min;function r(s,n){return s-n}function t(s,n){var u=s.length,l=s.length-n.length;if(l)return l;switch(u){case 0:return 0;case 1:return s[0]-n[0];case 2:return s[0]+s[1]-n[0]-n[1]||y(s[0],s[1])-y(n[0],n[1]);case 3:var f=s[0]+s[1],g=n[0]+n[1];if(l=f+s[2]-(g+n[2]),l)return l;var h=y(s[0],s[1]),w=y(n[0],n[1]);return y(h,s[2])-y(w,n[2])||y(h+s[2],f)-y(w+n[2],g);case 4:var d=s[0],o=s[1],v=s[2],A=s[3],b=n[0],M=n[1],m=n[2],S=n[3];return d+o+v+A-(b+M+m+S)||y(d,o,v,A)-y(b,M,m,S,b)||y(d+o,d+v,d+A,o+v,o+A,v+A)-y(b+M,b+m,b+S,M+m,M+S,m+S)||y(d+o+v,d+o+A,d+v+A,o+v+A)-y(b+M+m,b+M+S,b+m+S,M+m+S);default:for(var T=s.slice().sort(r),a=n.slice().sort(r),E=0;E<u;++E)if(l=T[E]-a[E],l)return l;return 0}}},3788:function(c,y,r){"use strict";var t=r(8507),s=r(2419);c.exports=n;function n(u,l){return t(u,l)||s(u)-s(l)}},7352:function(c,y,r){"use strict";var t=r(5721),s=r(4750),n=r(2690);c.exports=u;function u(l){var f=l.length;if(f===0)return[];if(f===1)return[[0]];var g=l[0].length;return g===0?[]:g===1?t(l):g===2?s(l):n(l,g)}},5721:function(c){"use strict";c.exports=y;function y(r){for(var t=0,s=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[s][0]&&(s=n);return t<s?[[t],[s]]:t>s?[[s],[t]]:[[t]]}},4750:function(c,y,r){"use strict";c.exports=s;var t=r(3090);function s(n){var u=t(n),l=u.length;if(l<=2)return[];for(var f=new Array(l),g=u[l-1],h=0;h<l;++h){var w=u[h];f[h]=[g,w],g=w}return f}},2690:function(c,y,r){"use strict";c.exports=l;var t=r(8954),s=r(3952);function n(f,g){for(var h=f.length,w=new Array(h),d=0;d<g.length;++d)w[d]=f[g[d]];for(var o=g.length,d=0;d<h;++d)g.indexOf(d)<0&&(w[o++]=f[d]);return w}function u(f,g){for(var h=f.length,w=g.length,d=0;d<h;++d)for(var o=f[d],v=0;v<o.length;++v){var A=o[v];if(A<w)o[v]=g[A];else{A=A-w;for(var b=0;b<w;++b)A>=g[b]&&(A+=1);o[v]=A}}return f}function l(f,g){try{return t(f,!0)}catch(o){var h=s(f);if(h.length<=g)return[];var w=n(f,h),d=t(w,!0);return u(d,h)}}},4769:function(c){"use strict";function y(t,s,n,u,l,f){var g=6*l*l-6*l,h=3*l*l-4*l+1,w=-6*l*l+6*l,d=3*l*l-2*l;if(t.length){f||(f=new Array(t.length));for(var o=t.length-1;o>=0;--o)f[o]=g*t[o]+h*s[o]+w*n[o]+d*u[o];return f}return g*t+h*s+w*n[o]+d*u}function r(t,s,n,u,l,f){var g=l-1,h=l*l,w=g*g,d=(1+2*l)*w,o=l*w,v=h*(3-2*l),A=h*g;if(t.length){f||(f=new Array(t.length));for(var b=t.length-1;b>=0;--b)f[b]=d*t[b]+o*s[b]+v*n[b]+A*u[b];return f}return d*t+o*s+v*n+A*u}c.exports=r,c.exports.derivative=y},7642:function(c,y,r){"use strict";var t=r(8954),s=r(1682);c.exports=f;function n(g,h){this.point=g,this.index=h}function u(g,h){for(var w=g.point,d=h.point,o=w.length,v=0;v<o;++v){var A=d[v]-w[v];if(A)return A}return 0}function l(g,h,w){if(g===1)return w?[[-1,0]]:[];var d=h.map(function(M,m){return[M[0],m]});d.sort(function(M,m){return M[0]-m[0]});for(var o=new Array(g-1),v=1;v<g;++v){var A=d[v-1],b=d[v];o[v-1]=[A[1],b[1]]}return w&&o.push([-1,o[0][1]],[o[g-1][1],-1]),o}function f(g,h){var w=g.length;if(w===0)return[];var d=g[0].length;if(d<1)return[];if(d===1)return l(w,g,h);for(var o=new Array(w),v=1,A=0;A<w;++A){for(var b=g[A],M=new Array(d+1),m=0,S=0;S<d;++S){var T=b[S];M[S]=T,m+=T*T}M[d]=m,o[A]=new n(M,A),v=Math.max(m,v)}s(o,u),w=o.length;for(var a=new Array(w+d+1),E=new Array(w+d+1),p=(d+1)*(d+1)*v,k=new Array(d+1),A=0;A<=d;++A)k[A]=0;k[d]=p,a[0]=k.slice(),E[0]=-1;for(var A=0;A<=d;++A){var M=k.slice();M[A]=1,a[A+1]=M,E[A+1]=-1}for(var A=0;A<w;++A){var R=o[A];a[A+d+1]=R.point,E[A+d+1]=R.index}var B=t(a,!1);if(h?B=B.filter(function(F){for(var _=0,O=0;O<=d;++O){var z=E[F[O]];if(z<0&&++_>=2)return!1;F[O]=z}return!0}):B=B.filter(function(F){for(var _=0;_<=d;++_){var O=E[F[_]];if(O<0)return!1;F[_]=O}return!0}),d&1)for(var A=0;A<B.length;++A){var R=B[A],M=R[0];R[0]=R[1],R[1]=M}return B}},2361:function(c){var y=!1;if(typeof Float64Array!="undefined"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,y=!0,t[1]===1072693248){let v=function(M,m){return t[0]=M,t[1]=m,r[0]},A=function(M){return r[0]=M,t[0]},b=function(M){return r[0]=M,t[1]};var n=v,u=A,l=b;c.exports=function(m){return r[0]=m,[t[0],t[1]]},c.exports.pack=v,c.exports.lo=A,c.exports.hi=b}else if(t[0]===1072693248){let v=function(M,m){return t[1]=M,t[0]=m,r[0]},A=function(M){return r[0]=M,t[1]},b=function(M){return r[0]=M,t[0]};var f=v,g=A,h=b;c.exports=function(m){return r[0]=m,[t[1],t[0]]},c.exports.pack=v,c.exports.lo=A,c.exports.hi=b}else y=!1}if(!y){let v=function(M,m){return s.writeUInt32LE(M,0,!0),s.writeUInt32LE(m,4,!0),s.readDoubleLE(0,!0)},A=function(M){return s.writeDoubleLE(M,0,!0),s.readUInt32LE(0,!0)},b=function(M){return s.writeDoubleLE(M,0,!0),s.readUInt32LE(4,!0)};var w=v,d=A,o=b,s=new Buffer(8);c.exports=function(m){return s.writeDoubleLE(m,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},c.exports.pack=v,c.exports.lo=A,c.exports.hi=b}c.exports.sign=function(v){return c.exports.hi(v)>>>31},c.exports.exponent=function(v){var A=c.exports.hi(v);return(A<<1>>>21)-1023},c.exports.fraction=function(v){var A=c.exports.lo(v),b=c.exports.hi(v),M=b&(1<<20)-1;return b&2146435072&&(M+=1048576),[A,M]},c.exports.denormalized=function(v){var A=c.exports.hi(v);return!(A&2146435072)}},1338:function(c){"use strict";function y(s,n,u){var l=s[u]|0;if(l<=0)return[];var f=new Array(l),g;if(u===s.length-1)for(g=0;g<l;++g)f[g]=n;else for(g=0;g<l;++g)f[g]=y(s,n,u+1);return f}function r(s,n){var u,l;for(u=new Array(s),l=0;l<s;++l)u[l]=n;return u}function t(s,n){switch(typeof n=="undefined"&&(n=0),typeof s){case"number":if(s>0)return r(s|0,n);break;case"object":if(typeof s.length=="number")return y(s,n,0);break}return[]}c.exports=t},3134:function(c,y,r){"use strict";c.exports=s;var t=r(1682);function s(n,u){var l=n.length;if(typeof u!="number"){u=0;for(var f=0;f<l;++f){var g=n[f];u=Math.max(u,g[0],g[1])}u=(u|0)+1}u=u|0;for(var h=new Array(u),f=0;f<u;++f)h[f]=[];for(var f=0;f<l;++f){var g=n[f];h[g[0]].push(g[1]),h[g[1]].push(g[0])}for(var w=0;w<u;++w)t(h[w],function(d,o){return d-o});return h}},5033:function(c){"use strict";c.exports=y;function y(r,t,s){var n=t||0,u=s||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[u*r[12]-r[8],u*r[13]-r[9],u*r[14]-r[10],u*r[15]-r[11]]]}},9215:function(c,y,r){"use strict";c.exports=g;var t=r(4769),s=r(2478);function n(h,w,d){return Math.min(w,Math.max(h,d))}function u(h,w,d){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[d],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var l=u.prototype;l.flush=function(h){var w=s.gt(this._time,h)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},l.curve=function(h){var w=this._time,d=w.length,o=s.le(w,h),v=this._scratch[0],A=this._state,b=this._velocity,M=this.dimension,m=this.bounds;if(o<0)for(var S=M-1,T=0;T<M;++T,--S)v[T]=A[S];else if(o>=d-1)for(var S=A.length-1,a=h-w[d-1],T=0;T<M;++T,--S)v[T]=A[S]+a*b[S];else{for(var S=M*(o+1)-1,E=w[o],p=w[o+1],k=p-E||1,R=this._scratch[1],B=this._scratch[2],F=this._scratch[3],_=this._scratch[4],O=!0,T=0;T<M;++T,--S)R[T]=A[S],F[T]=b[S]*k,B[T]=A[S+M],_[T]=b[S+M]*k,O=O&&R[T]===B[T]&&F[T]===_[T]&&F[T]===0;if(O)for(var T=0;T<M;++T)v[T]=R[T];else t(R,F,B,_,(h-E)/k,v)}for(var z=m[0],N=m[1],T=0;T<M;++T)v[T]=n(z[T],N[T],v[T]);return v},l.dcurve=function(h){var w=this._time,d=w.length,o=s.le(w,h),v=this._scratch[0],A=this._state,b=this._velocity,M=this.dimension;if(o>=d-1)for(var m=A.length-1,S=h-w[d-1],T=0;T<M;++T,--m)v[T]=b[m];else{for(var m=M*(o+1)-1,a=w[o],E=w[o+1],p=E-a||1,k=this._scratch[1],R=this._scratch[2],B=this._scratch[3],F=this._scratch[4],_=!0,T=0;T<M;++T,--m)k[T]=A[m],B[T]=b[m]*p,R[T]=A[m+M],F[T]=b[m+M]*p,_=_&&k[T]===R[T]&&B[T]===F[T]&&B[T]===0;if(_)for(var T=0;T<M;++T)v[T]=0;else{t.derivative(k,B,R,F,(h-a)/p,v);for(var T=0;T<M;++T)v[T]/=p}}return v},l.lastT=function(){var h=this._time;return h[h.length-1]},l.stable=function(){for(var h=this._velocity,w=h.length,d=this.dimension-1;d>=0;--d)if(h[--w])return!1;return!0},l.jump=function(h){var w=this.lastT(),d=this.dimension;if(!(h<w||arguments.length!==d+1)){var o=this._state,v=this._velocity,A=o.length-this.dimension,b=this.bounds,M=b[0],m=b[1];this._time.push(w,h);for(var S=0;S<2;++S)for(var T=0;T<d;++T)o.push(o[A++]),v.push(0);this._time.push(h);for(var T=d;T>0;--T)o.push(n(M[T-1],m[T-1],arguments[T])),v.push(0)}},l.push=function(h){var w=this.lastT(),d=this.dimension;if(!(h<w||arguments.length!==d+1)){var o=this._state,v=this._velocity,A=o.length-this.dimension,b=h-w,M=this.bounds,m=M[0],S=M[1],T=b>1e-6?1/b:0;this._time.push(h);for(var a=d;a>0;--a){var E=n(m[a-1],S[a-1],arguments[a]);o.push(E),v.push((E-o[A++])*T)}}},l.set=function(h){var w=this.dimension;if(!(h<this.lastT()||arguments.length!==w+1)){var d=this._state,o=this._velocity,v=this.bounds,A=v[0],b=v[1];this._time.push(h);for(var M=w;M>0;--M)d.push(n(A[M-1],b[M-1],arguments[M])),o.push(0)}},l.move=function(h){var w=this.lastT(),d=this.dimension;if(!(h<=w||arguments.length!==d+1)){var o=this._state,v=this._velocity,A=o.length-this.dimension,b=this.bounds,M=b[0],m=b[1],S=h-w,T=S>1e-6?1/S:0;this._time.push(h);for(var a=d;a>0;--a){var E=arguments[a];o.push(n(M[a-1],m[a-1],o[A++]+E)),v.push(E*T)}}},l.idle=function(h){var w=this.lastT();if(!(h<w)){var d=this.dimension,o=this._state,v=this._velocity,A=o.length-d,b=this.bounds,M=b[0],m=b[1],S=h-w;this._time.push(h);for(var T=d-1;T>=0;--T)o.push(n(M[T],m[T],o[A]+S*v[A])),v.push(0),A+=1}};function f(h){for(var w=new Array(h),d=0;d<h;++d)w[d]=0;return w}function g(h,w,d){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof h=="number"){var o=f(h);return new u(o,o,0)}else return new u(h,f(h.length),0);case 2:if(typeof w=="number"){var o=f(h.length);return new u(h,o,+w)}else d=0;case 3:if(h.length!==w.length)throw new Error("state and velocity lengths must match");return new u(h,w,d)}}},3840:function(c){"use strict";c.exports=M;var y=0,r=1;function t(m,S,T,a,E,p){this._color=m,this.key=S,this.value=T,this.left=a,this.right=E,this._count=p}function s(m){return new t(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,S){return new t(m,S.key,S.value,S.left,S.right,S._count)}function u(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function l(m,S){this._compare=m,this.root=S}var f=l.prototype;Object.defineProperty(f,"keys",{get:function(){var m=[];return this.forEach(function(S,T){m.push(S)}),m}}),Object.defineProperty(f,"values",{get:function(){var m=[];return this.forEach(function(S,T){m.push(T)}),m}}),Object.defineProperty(f,"length",{get:function(){return this.root?this.root._count:0}}),f.insert=function(m,S){for(var T=this._compare,a=this.root,E=[],p=[];a;){var k=T(m,a.key);E.push(a),p.push(k),k<=0?a=a.left:a=a.right}E.push(new t(y,m,S,null,null,1));for(var R=E.length-2;R>=0;--R){var a=E[R];p[R]<=0?E[R]=new t(a._color,a.key,a.value,E[R+1],a.right,a._count+1):E[R]=new t(a._color,a.key,a.value,a.left,E[R+1],a._count+1)}for(var R=E.length-1;R>1;--R){var B=E[R-1],a=E[R];if(B._color===r||a._color===r)break;var F=E[R-2];if(F.left===B)if(B.left===a){var _=F.right;if(_&&_._color===y)B._color=r,F.right=n(r,_),F._color=y,R-=1;else{if(F._color=y,F.left=B.right,B._color=r,B.right=F,E[R-2]=B,E[R-1]=a,u(F),u(B),R>=3){var O=E[R-3];O.left===F?O.left=B:O.right=B}break}}else{var _=F.right;if(_&&_._color===y)B._color=r,F.right=n(r,_),F._color=y,R-=1;else{if(B.right=a.left,F._color=y,F.left=a.right,a._color=r,a.left=B,a.right=F,E[R-2]=a,E[R-1]=B,u(F),u(B),u(a),R>=3){var O=E[R-3];O.left===F?O.left=a:O.right=a}break}}else if(B.right===a){var _=F.left;if(_&&_._color===y)B._color=r,F.left=n(r,_),F._color=y,R-=1;else{if(F._color=y,F.right=B.left,B._color=r,B.left=F,E[R-2]=B,E[R-1]=a,u(F),u(B),R>=3){var O=E[R-3];O.right===F?O.right=B:O.left=B}break}}else{var _=F.left;if(_&&_._color===y)B._color=r,F.left=n(r,_),F._color=y,R-=1;else{if(B.left=a.right,F._color=y,F.right=a.left,a._color=r,a.right=B,a.left=F,E[R-2]=a,E[R-1]=B,u(F),u(B),u(a),R>=3){var O=E[R-3];O.right===F?O.right=a:O.left=a}break}}}return E[0]._color=r,new l(T,E[0])};function g(m,S){if(S.left){var T=g(m,S.left);if(T)return T}var T=m(S.key,S.value);if(T)return T;if(S.right)return g(m,S.right)}function h(m,S,T,a){var E=S(m,a.key);if(E<=0){if(a.left){var p=h(m,S,T,a.left);if(p)return p}var p=T(a.key,a.value);if(p)return p}if(a.right)return h(m,S,T,a.right)}function w(m,S,T,a,E){var p=T(m,E.key),k=T(S,E.key),R;if(p<=0&&(E.left&&(R=w(m,S,T,a,E.left),R)||k>0&&(R=a(E.key,E.value),R)))return R;if(k>0&&E.right)return w(m,S,T,a,E.right)}f.forEach=function(S,T,a){if(this.root)switch(arguments.length){case 1:return g(S,this.root);case 2:return h(T,this._compare,S,this.root);case 3:return this._compare(T,a)>=0?void 0:w(T,a,this._compare,S,this.root)}},Object.defineProperty(f,"begin",{get:function(){for(var m=[],S=this.root;S;)m.push(S),S=S.left;return new d(this,m)}}),Object.defineProperty(f,"end",{get:function(){for(var m=[],S=this.root;S;)m.push(S),S=S.right;return new d(this,m)}}),f.at=function(m){if(m<0)return new d(this,[]);for(var S=this.root,T=[];;){if(T.push(S),S.left){if(m<S.left._count){S=S.left;continue}m-=S.left._count}if(!m)return new d(this,T);if(m-=1,S.right){if(m>=S.right._count)break;S=S.right}else break}return new d(this,[])},f.ge=function(m){for(var S=this._compare,T=this.root,a=[],E=0;T;){var p=S(m,T.key);a.push(T),p<=0&&(E=a.length),p<=0?T=T.left:T=T.right}return a.length=E,new d(this,a)},f.gt=function(m){for(var S=this._compare,T=this.root,a=[],E=0;T;){var p=S(m,T.key);a.push(T),p<0&&(E=a.length),p<0?T=T.left:T=T.right}return a.length=E,new d(this,a)},f.lt=function(m){for(var S=this._compare,T=this.root,a=[],E=0;T;){var p=S(m,T.key);a.push(T),p>0&&(E=a.length),p<=0?T=T.left:T=T.right}return a.length=E,new d(this,a)},f.le=function(m){for(var S=this._compare,T=this.root,a=[],E=0;T;){var p=S(m,T.key);a.push(T),p>=0&&(E=a.length),p<0?T=T.left:T=T.right}return a.length=E,new d(this,a)},f.find=function(m){for(var S=this._compare,T=this.root,a=[];T;){var E=S(m,T.key);if(a.push(T),E===0)return new d(this,a);E<=0?T=T.left:T=T.right}return new d(this,[])},f.remove=function(m){var S=this.find(m);return S?S.remove():this},f.get=function(m){for(var S=this._compare,T=this.root;T;){var a=S(m,T.key);if(a===0)return T.value;a<=0?T=T.left:T=T.right}};function d(m,S){this.tree=m,this._stack=S}var o=d.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new d(this.tree,this._stack.slice())};function v(m,S){m.key=S.key,m.value=S.value,m.left=S.left,m.right=S.right,m._color=S._color,m._count=S._count}function A(m){for(var S,T,a,E,p=m.length-1;p>=0;--p){if(S=m[p],p===0){S._color=r;return}if(T=m[p-1],T.left===S){if(a=T.right,a.right&&a.right._color===y){if(a=T.right=s(a),E=a.right=s(a.right),T.right=a.left,a.left=T,a.right=E,a._color=T._color,S._color=r,T._color=r,E._color=r,u(T),u(a),p>1){var k=m[p-2];k.left===T?k.left=a:k.right=a}m[p-1]=a;return}else if(a.left&&a.left._color===y){if(a=T.right=s(a),E=a.left=s(a.left),T.right=E.left,a.left=E.right,E.left=T,E.right=a,E._color=T._color,T._color=r,a._color=r,S._color=r,u(T),u(a),u(E),p>1){var k=m[p-2];k.left===T?k.left=E:k.right=E}m[p-1]=E;return}if(a._color===r)if(T._color===y){T._color=r,T.right=n(y,a);return}else{T.right=n(y,a);continue}else{if(a=s(a),T.right=a.left,a.left=T,a._color=T._color,T._color=y,u(T),u(a),p>1){var k=m[p-2];k.left===T?k.left=a:k.right=a}m[p-1]=a,m[p]=T,p+1<m.length?m[p+1]=S:m.push(S),p=p+2}}else{if(a=T.left,a.left&&a.left._color===y){if(a=T.left=s(a),E=a.left=s(a.left),T.left=a.right,a.right=T,a.left=E,a._color=T._color,S._color=r,T._color=r,E._color=r,u(T),u(a),p>1){var k=m[p-2];k.right===T?k.right=a:k.left=a}m[p-1]=a;return}else if(a.right&&a.right._color===y){if(a=T.left=s(a),E=a.right=s(a.right),T.left=E.right,a.right=E.left,E.right=T,E.left=a,E._color=T._color,T._color=r,a._color=r,S._color=r,u(T),u(a),u(E),p>1){var k=m[p-2];k.right===T?k.right=E:k.left=E}m[p-1]=E;return}if(a._color===r)if(T._color===y){T._color=r,T.left=n(y,a);return}else{T.left=n(y,a);continue}else{if(a=s(a),T.left=a.right,a.right=T,a._color=T._color,T._color=y,u(T),u(a),p>1){var k=m[p-2];k.right===T?k.right=a:k.left=a}m[p-1]=a,m[p]=T,p+1<m.length?m[p+1]=S:m.push(S),p=p+2}}}}o.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var S=new Array(m.length),T=m[m.length-1];S[S.length-1]=new t(T._color,T.key,T.value,T.left,T.right,T._count);for(var a=m.length-2;a>=0;--a){var T=m[a];T.left===m[a+1]?S[a]=new t(T._color,T.key,T.value,S[a+1],T.right,T._count):S[a]=new t(T._color,T.key,T.value,T.left,S[a+1],T._count)}if(T=S[S.length-1],T.left&&T.right){var E=S.length;for(T=T.left;T.right;)S.push(T),T=T.right;var p=S[E-1];S.push(new t(T._color,p.key,p.value,T.left,T.right,T._count)),S[E-1].key=T.key,S[E-1].value=T.value;for(var a=S.length-2;a>=E;--a)T=S[a],S[a]=new t(T._color,T.key,T.value,T.left,S[a+1],T._count);S[E-1].left=S[E]}if(T=S[S.length-1],T._color===y){var k=S[S.length-2];k.left===T?k.left=null:k.right===T&&(k.right=null),S.pop();for(var a=0;a<S.length;++a)S[a]._count--;return new l(this.tree._compare,S[0])}else if(T.left||T.right){T.left?v(T,T.left):T.right&&v(T,T.right),T._color=r;for(var a=0;a<S.length-1;++a)S[a]._count--;return new l(this.tree._compare,S[0])}else{if(S.length===1)return new l(this.tree._compare,null);for(var a=0;a<S.length;++a)S[a]._count--;var R=S[S.length-2];A(S),R.left===T?R.left=null:R.right=null}return new l(this.tree._compare,S[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var m=0,S=this._stack;if(S.length===0){var T=this.tree.root;return T?T._count:0}else S[S.length-1].left&&(m=S[S.length-1].left._count);for(var a=S.length-2;a>=0;--a)S[a+1]===S[a].right&&(++m,S[a].left&&(m+=S[a].left._count));return m},enumerable:!0}),o.next=function(){var m=this._stack;if(m.length!==0){var S=m[m.length-1];if(S.right)for(S=S.right;S;)m.push(S),S=S.left;else for(m.pop();m.length>0&&m[m.length-1].right===S;)S=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var S=m.length-1;S>0;--S)if(m[S-1].left===m[S])return!0;return!1}}),o.update=function(m){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var T=new Array(S.length),a=S[S.length-1];T[T.length-1]=new t(a._color,a.key,m,a.left,a.right,a._count);for(var E=S.length-2;E>=0;--E)a=S[E],a.left===S[E+1]?T[E]=new t(a._color,a.key,a.value,T[E+1],a.right,a._count):T[E]=new t(a._color,a.key,a.value,a.left,T[E+1],a._count);return new l(this.tree._compare,T[0])},o.prev=function(){var m=this._stack;if(m.length!==0){var S=m[m.length-1];if(S.left)for(S=S.left;S;)m.push(S),S=S.right;else for(m.pop();m.length>0&&m[m.length-1].left===S;)S=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var S=m.length-1;S>0;--S)if(m[S-1].right===m[S])return!0;return!1}});function b(m,S){return m<S?-1:m>S?1:0}function M(m){return new l(m||b,null)}},3837:function(c,y,r){"use strict";c.exports=a;var t=r(4935),s=r(501),n=r(5304),u=r(6429),l=r(6444),f=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function g(E,p){return E[0]=p[0],E[1]=p[1],E[2]=p[2],E}function h(E){this.gl=E,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(E)}var w=h.prototype;w.update=function(E){E=E||{};function p(se,ue,K){if(K in E){var j=E[K],ie=this[K],W;(se?Array.isArray(j)&&Array.isArray(j[0]):Array.isArray(j))?this[K]=W=[ue(j[0]),ue(j[1]),ue(j[2])]:this[K]=W=[ue(j),ue(j),ue(j)];for(var Q=0;Q<3;++Q)if(W[Q]!==ie[Q])return!0}return!1}var k=p.bind(this,!1,Number),R=p.bind(this,!1,Boolean),B=p.bind(this,!1,String),F=p.bind(this,!0,function(se){if(Array.isArray(se)){if(se.length===3)return[+se[0],+se[1],+se[2],1];if(se.length===4)return[+se[0],+se[1],+se[2],+se[3]]}return[0,0,0,1]}),_,O=!1,z=!1;if("bounds"in E)for(var N=E.bounds,Y=0;Y<2;++Y)for(var J=0;J<3;++J)N[Y][J]!==this.bounds[Y][J]&&(z=!0),this.bounds[Y][J]=N[Y][J];if("ticks"in E){_=E.ticks,O=!0,this.autoTicks=!1;for(var Y=0;Y<3;++Y)this.tickSpacing[Y]=0}else k("tickSpacing")&&(this.autoTicks=!0,z=!0);if(this._firstInit&&("ticks"in E||"tickSpacing"in E||(this.autoTicks=!0),z=!0,O=!0,this._firstInit=!1),z&&this.autoTicks&&(_=l.create(this.bounds,this.tickSpacing),O=!0),O){for(var Y=0;Y<3;++Y)_[Y].sort(function(ue,K){return ue.x-K.x});l.equal(_,this.ticks)?O=!1:this.ticks=_}R("tickEnable"),B("tickFont")&&(O=!0),k("tickSize"),k("tickAngle"),k("tickPad"),F("tickColor");var ae=B("labels");B("labelFont")&&(ae=!0),R("labelEnable"),k("labelSize"),k("labelPad"),F("labelColor"),R("lineEnable"),R("lineMirror"),k("lineWidth"),F("lineColor"),R("lineTickEnable"),R("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),F("lineTickColor"),R("gridEnable"),k("gridWidth"),F("gridColor"),R("zeroEnable"),F("zeroLineColor"),k("zeroLineWidth"),R("backgroundEnable"),F("backgroundColor"),this._text?this._text&&(ae||O)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&O&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function d(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new d,new d,new d];function v(E,p,k,R,B){for(var F=E.primalOffset,_=E.primalMinor,O=E.mirrorOffset,z=E.mirrorMinor,N=R[p],Y=0;Y<3;++Y)if(p!==Y){var J=F,ae=O,se=_,ue=z;N&1<<Y&&(J=O,ae=F,se=z,ue=_),J[Y]=k[0][Y],ae[Y]=k[1][Y],B[Y]>0?(se[Y]=-1,ue[Y]=0):(se[Y]=0,ue[Y]=1)}}var A=[0,0,0],b={model:f,view:f,projection:f,_ortho:!1};w.isOpaque=function(){return!0},w.isTransparent=function(){return!1},w.drawTransparent=function(E){};var M=0,m=[0,0,0],S=[0,0,0],T=[0,0,0];w.draw=function(E){E=E||b;for(var ie=this.gl,p=E.model||f,k=E.view||f,R=E.projection||f,B=this.bounds,F=E._ortho||!1,_=u(p,k,R,B,F),O=_.cubeEdges,z=_.axis,N=k[12],Y=k[13],J=k[14],ae=k[15],se=F?2:1,ue=se*this.pixelRatio*(R[3]*N+R[7]*Y+R[11]*J+R[15]*ae)/ie.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=O[K],this.lastCubeProps.axis[K]=z[K];for(var j=o,K=0;K<3;++K)v(o[K],K,this.bounds,O,z);for(var ie=this.gl,W=A,K=0;K<3;++K)this.backgroundEnable[K]?W[K]=z[K]:W[K]=0;this._background.draw(p,k,R,B,W,this.backgroundColor),this._lines.bind(p,k,R,this);for(var K=0;K<3;++K){var Q=[0,0,0];z[K]>0?Q[K]=B[1][K]:Q[K]=B[0][K];for(var ee=0;ee<2;++ee){var $=(K+1+ee)%3,X=(K+1+(ee^1))%3;this.gridEnable[$]&&this._lines.drawGrid($,X,this.bounds,Q,this.gridColor[$],this.gridWidth[$]*this.pixelRatio)}for(var ee=0;ee<2;++ee){var $=(K+1+ee)%3,X=(K+1+(ee^1))%3;this.zeroEnable[X]&&Math.min(B[0][X],B[1][X])<=0&&Math.max(B[0][X],B[1][X])>=0&&this._lines.drawZero($,X,this.bounds,Q,this.zeroLineColor[X],this.zeroLineWidth[X]*this.pixelRatio)}}for(var K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,j[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,j[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);for(var oe=g(m,j[K].primalMinor),te=g(S,j[K].mirrorMinor),fe=this.lineTickLength,ee=0;ee<3;++ee){var pe=ue/p[5*ee];oe[ee]*=fe[ee]*pe,te[ee]*=fe[ee]*pe}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,j[K].primalOffset,oe,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,j[K].mirrorOffset,te,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}this._lines.unbind(),this._text.bind(p,k,R,this.pixelRatio);var Ae,be=.5,Pe,me;function Ee(Ye){me=[0,0,0],me[Ye]=1}function xe(Ye,lt,yt){var He=(Ye+1)%3,Fe=(Ye+2)%3,nt=lt[He],ot=lt[Fe],ct=yt[He],ht=yt[Fe];if(nt>0&&ht>0){Ee(He);return}else if(nt>0&&ht<0){Ee(He);return}else if(nt<0&&ht>0){Ee(He);return}else if(nt<0&&ht<0){Ee(He);return}else if(ot>0&&ct>0){Ee(Fe);return}else if(ot>0&&ct<0){Ee(Fe);return}else if(ot<0&&ct>0){Ee(Fe);return}else if(ot<0&&ct<0){Ee(Fe);return}}for(var K=0;K<3;++K){for(var De=j[K].primalMinor,Ve=j[K].mirrorMinor,Ze=g(T,j[K].primalOffset),ee=0;ee<3;++ee)this.lineTickEnable[K]&&(Ze[ee]+=ue*De[ee]*Math.max(this.lineTickLength[ee],0)/p[5*ee]);var ke=[0,0,0];if(ke[K]=1,this.tickEnable[K]){this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,Pe=1,Ae=[this.tickAlign[K],be,Pe],Ae[0]==="auto"?Ae[0]=M:Ae[0]=parseInt(""+Ae[0]),me=[0,0,0],xe(K,De,Ve);for(var ee=0;ee<3;++ee)Ze[ee]+=ue*De[ee]*this.tickPad[ee]/p[5*ee];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],Ze,this.tickColor[K],ke,me,Ae)}if(this.labelEnable[K]){Pe=0,me=[0,0,0],this.labels[K].length>4&&(Ee(K),Pe=1),Ae=[this.labelAlign[K],be,Pe],Ae[0]==="auto"?Ae[0]=M:Ae[0]=parseInt(""+Ae[0]);for(var ee=0;ee<3;++ee)Ze[ee]+=ue*De[ee]*this.labelPad[ee]/p[5*ee];Ze[K]+=.5*(B[0][K]+B[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],Ze,this.labelColor[K],[0,0,0],me,Ae)}}this._text.unbind()},w.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function a(E,p){var k=new h(E);return k.update(p),k}},5304:function(c,y,r){"use strict";c.exports=f;var t=r(2762),s=r(8116),n=r(1879).bg;function u(g,h,w,d){this.gl=g,this.buffer=h,this.vao=w,this.shader=d}var l=u.prototype;l.draw=function(g,h,w,d,o,v){for(var A=!1,b=0;b<3;++b)A=A||o[b];if(A){var M=this.gl;M.enable(M.POLYGON_OFFSET_FILL),M.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:h,projection:w,bounds:d,enable:o,colors:v},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),M.disable(M.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(g){for(var h=[],w=[],d=0,o=0;o<3;++o)for(var v=(o+1)%3,A=(o+2)%3,b=[0,0,0],M=[0,0,0],m=-1;m<=1;m+=2){w.push(d,d+2,d+1,d+1,d+2,d+3),b[o]=m,M[o]=m;for(var S=-1;S<=1;S+=2){b[v]=S;for(var T=-1;T<=1;T+=2)b[A]=T,h.push(b[0],b[1],b[2],M[0],M[1],M[2]),d+=1}var a=v;v=A,A=a}var E=t(g,new Float32Array(h)),p=t(g,new Uint16Array(w),g.ELEMENT_ARRAY_BUFFER),k=s(g,[{buffer:E,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:g.FLOAT,size:3,offset:12,stride:24}],p),R=n(g);return R.attributes.position.location=0,R.attributes.normal.location=1,new u(g,E,k,R)}},6429:function(c,y,r){"use strict";c.exports=m;var t=r(8828),s=r(6760),n=r(5202),u=r(3250),l=new Array(16),f=new Array(8),g=new Array(8),h=new Array(3),w=[0,0,0];(function(){for(var S=0;S<8;++S)f[S]=[1,1,1,1],g[S]=[1,1,1]})();function d(S,T,a){for(var E=0;E<4;++E){S[E]=a[12+E];for(var p=0;p<3;++p)S[E]+=T[p]*a[4*p+E]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function v(S){for(var T=0;T<o.length;++T)if(S=n.positive(S,o[T]),S.length<3)return 0;for(var a=S[0],E=a[0]/a[3],p=a[1]/a[3],k=0,T=1;T+1<S.length;++T){var R=S[T],B=S[T+1],F=R[0]/R[3],_=R[1]/R[3],O=B[0]/B[3],z=B[1]/B[3],N=F-E,Y=_-p,J=O-E,ae=z-p;k+=Math.abs(N*ae-Y*J)}return k}var A=[1,1,1],b=[0,0,0],M={cubeEdges:A,axis:b};function m(S,T,a,E,p){s(l,T,S),s(l,a,l);for(var k=0,R=0;R<2;++R){h[2]=E[R][2];for(var B=0;B<2;++B){h[1]=E[B][1];for(var F=0;F<2;++F)h[0]=E[F][0],d(f[k],h,l),k+=1}}for(var _=-1,R=0;R<8;++R){for(var O=f[R][3],z=0;z<3;++z)g[R][z]=f[R][z]/O;p&&(g[R][2]*=-1),O<0&&(_<0||g[R][2]<g[_][2])&&(_=R)}if(_<0){_=0;for(var N=0;N<3;++N){for(var Y=(N+2)%3,J=(N+1)%3,ae=-1,se=-1,ue=0;ue<2;++ue){var K=ue<<N,j=K+(ue<<Y)+(1-ue<<J),ie=K+(1-ue<<Y)+(ue<<J);u(g[K],g[j],g[ie],w)<0||(ue?ae=1:se=1)}if(ae<0||se<0){se>ae&&(_|=1<<N);continue}for(var ue=0;ue<2;++ue){var K=ue<<N,j=K+(ue<<Y)+(1-ue<<J),ie=K+(1-ue<<Y)+(ue<<J),W=v([f[K],f[j],f[ie],f[K+(1<<Y)+(1<<J)]]);ue?ae=W:se=W}if(se>ae){_|=1<<N;continue}}}for(var Q=7^_,ee=-1,R=0;R<8;++R)R===_||R===Q||(ee<0||g[ee][1]>g[R][1])&&(ee=R);for(var $=-1,R=0;R<3;++R){var X=ee^1<<R;if(!(X===_||X===Q)){$<0&&($=X);var J=g[X];J[0]<g[$][0]&&($=X)}}for(var oe=-1,R=0;R<3;++R){var X=ee^1<<R;if(!(X===_||X===Q||X===$)){oe<0&&(oe=X);var J=g[X];J[0]>g[oe][0]&&(oe=X)}}var te=A;te[0]=te[1]=te[2]=0,te[t.log2($^ee)]=ee&$,te[t.log2(ee^oe)]=ee&oe;var fe=oe^7;fe===_||fe===Q?(fe=$^7,te[t.log2(oe^fe)]=fe&oe):te[t.log2($^fe)]=fe&$;for(var pe=b,Ae=_,N=0;N<3;++N)Ae&1<<N?pe[N]=-1:pe[N]=1;return M}},501:function(c,y,r){"use strict";c.exports=A;var t=r(2762),s=r(8116),n=r(1879).n,u=[0,0,0],l=[0,0,0],f=[0,0,0],g=[0,0,0],h=[1,1];function w(b){return b[0]=b[1]=b[2]=0,b}function d(b,M){return b[0]=M[0],b[1]=M[1],b[2]=M[2],b}function o(b,M,m,S,T,a,E,p){this.gl=b,this.vertBuffer=M,this.vao=m,this.shader=S,this.tickCount=T,this.tickOffset=a,this.gridCount=E,this.gridOffset=p}var v=o.prototype;v.bind=function(b,M,m){this.shader.bind(),this.shader.uniforms.model=b,this.shader.uniforms.view=M,this.shader.uniforms.projection=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},v.unbind=function(){this.vao.unbind()},v.drawAxisLine=function(b,M,m,S,T){var a=w(l);this.shader.uniforms.majorAxis=l,a[b]=M[1][b]-M[0][b],this.shader.uniforms.minorAxis=a;var E=d(g,m);E[b]+=M[0][b],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S;var p=w(f);p[(b+2)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6);var p=w(f);p[(b+1)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6)},v.drawAxisTicks=function(b,M,m,S,T){if(this.tickCount[b]){var a=w(u);a[b]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=M,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=T;var E=w(f);E[b]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b])}},v.drawGrid=function(b,M,m,S,T,a){if(this.gridCount[b]){var E=w(l);E[M]=m[1][M]-m[0][M],this.shader.uniforms.minorAxis=E;var p=d(g,S);p[M]+=m[0][M],this.shader.uniforms.offset=p;var k=w(u);k[b]=1,this.shader.uniforms.majorAxis=k;var R=w(f);R[b]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,this.gridCount[b],this.gridOffset[b])}},v.drawZero=function(b,M,m,S,T,a){var E=w(l);this.shader.uniforms.majorAxis=E,E[b]=m[1][b]-m[0][b],this.shader.uniforms.minorAxis=E;var p=d(g,S);p[b]+=m[0][b],this.shader.uniforms.offset=p;var k=w(f);k[M]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,6)},v.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function A(b,M,m){var S=[],T=[0,0,0],a=[0,0,0],E=[0,0,0],p=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var F=S.length/3|0,R=0;R<m[k].length;++R){var B=+m[k][R].x;S.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var O=S.length/3|0;T[k]=F,a[k]=O-F;for(var F=S.length/3|0,_=0;_<m[k].length;++_){var B=+m[k][_].x;S.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var O=S.length/3|0;E[k]=F,p[k]=O-F}var z=t(b,new Float32Array(S)),N=s(b,[{buffer:z,type:b.FLOAT,size:3,stride:0,offset:0}]),Y=n(b);return Y.attributes.position.location=0,new o(b,z,N,Y,a,T,p,E)}},1879:function(c,y,r){"use strict";var t=r(3236),s=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.n=function(w){return s(w,n,u,null,[{name:"position",type:"vec3"}])};var l=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.Q=function(w){return s(w,l,f,null,[{name:"position",type:"vec3"}])};var g=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);y.bg=function(w){return s(w,g,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(c,y,r){"use strict";c.exports=v;var t=r(2762),s=r(8116),n=r(4359),u=r(1879).Q,l=window||x.global||{},f=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};var g=3;function h(A,b,M,m){this.gl=A,this.shader=b,this.buffer=M,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=h.prototype,d=[0,0];w.bind=function(A,b,M,m){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=A,S.view=b,S.projection=M,S.pixelScale=m,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},w.unbind=function(){this.vao.unbind()},w.update=function(A,b,M,m,S){var T=[];function a(z,N,Y,J,ae,se){var ue=f[Y];ue||(ue=f[Y]={});var K=ue[N];K||(K=ue[N]=o(N,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:ae,styletags:se}));for(var j=(J||12)/12,ie=K.positions,W=K.cells,Q=0,ee=W.length;Q<ee;++Q)for(var $=W[Q],X=2;X>=0;--X){var oe=ie[$[X]];T.push(j*oe[0],-j*oe[1],z)}}for(var E=[0,0,0],p=[0,0,0],k=[0,0,0],R=[0,0,0],B=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},_=0;_<3;++_){k[_]=T.length/g|0,a(.5*(A[0][_]+A[1][_]),b[_],M[_],12,B,F),R[_]=(T.length/g|0)-k[_],E[_]=T.length/g|0;for(var O=0;O<m[_].length;++O)m[_][O].text&&a(m[_][O].x,m[_][O].text,m[_][O].font||S,m[_][O].fontSize||12,B,F);p[_]=(T.length/g|0)-E[_]}this.buffer.update(T),this.tickOffset=E,this.tickCount=p,this.labelOffset=k,this.labelCount=R},w.drawTicks=function(A,b,M,m,S,T,a,E){this.tickCount[A]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=S,this.shader.uniforms.angle=M,this.shader.uniforms.scale=b,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A]))},w.drawLabel=function(A,b,M,m,S,T,a,E){this.labelCount[A]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=S,this.shader.uniforms.angle=M,this.shader.uniforms.scale=b,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[A],this.labelOffset[A]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(A,b){try{return n(A,b)}catch(M){return console.warn('error vectorizing text:"'+A+'" error:',M),{cells:[],positions:[]}}}function v(A,b,M,m,S,T){var a=t(A),E=s(A,[{buffer:a,size:3}]),p=u(A);p.attributes.position.location=0;var k=new h(A,p,a,E);return k.update(b,M,m,S,T),k}},6444:function(c,y){"use strict";y.create=t,y.equal=s;function r(n,u){var l=n+"",f=l.indexOf("."),g=0;f>=0&&(g=l.length-f-1);var h=Math.pow(10,g),w=Math.round(n*u*h),d=w+"";if(d.indexOf("e")>=0)return d;var o=w/h,v=w%h;w<0?(o=-Math.ceil(o)|0,v=-v|0):(o=Math.floor(o)|0,v=v|0);var A=""+o;if(w<0&&(A="-"+A),g){for(var b=""+v;b.length<g;)b="0"+b;return A+"."+b}else return A}function t(n,u){for(var l=[],f=0;f<3;++f){for(var g=[],h=.5*(n[0][f]+n[1][f]),w=0;w*u[f]<=n[1][f];++w)g.push({x:w*u[f],text:r(u[f],w)});for(var w=-1;w*u[f]>=n[0][f];--w)g.push({x:w*u[f],text:r(u[f],w)});l.push(g)}return l}function s(n,u){for(var l=0;l<3;++l){if(n[l].length!==u[l].length)return!1;for(var f=0;f<n[l].length;++f){var g=n[l][f],h=u[l][f];if(g.x!==h.x||g.text!==h.text||g.font!==h.font||g.fontColor!==h.fontColor||g.fontSize!==h.fontSize||g.dx!==h.dx||g.dy!==h.dy)return!1}}return!0}},5445:function(c,y,r){"use strict";c.exports=M;var t=r(5033),s=r(5202),n=r(6429),u=r(6760),l=r(5665),f=r(5352),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function w(m,S,T){this.lo=m,this.hi=S,this.pixelsPerDataUnit=T}var d=[0,0,0,1],o=[0,0,0,1];function v(m,S,T,a,E){for(var p=0;p<3;++p){for(var k=d,R=o,B=0;B<3;++B)R[B]=k[B]=T[B];R[3]=k[3]=1,R[p]+=1,f(R,R,S),R[3]<0&&(m[p]=1/0),k[p]-=1,f(k,k,S),k[3]<0&&(m[p]=1/0);var F=(k[0]/k[3]-R[0]/R[3])*a,_=(k[1]/k[3]-R[1]/R[3])*E;m[p]=.25*Math.sqrt(F*F+_*_)}return m}var A=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],b=[0,0,0];function M(m,S,T,a,_){var p=S.model||g,k=S.view||g,R=S.projection||g,B=S._ortho||!1,F=m.bounds,_=_||n(p,k,R,F,B),O=_.axis;u(h,k,p),u(h,R,h);for(var z=A,N=0;N<3;++N)z[N].lo=1/0,z[N].hi=-1/0,z[N].pixelsPerDataUnit=1/0;var Y=t(l(h,h));l(h,h);for(var J=0;J<3;++J){var ae=(J+1)%3,se=(J+2)%3,ue=b;e:for(var N=0;N<2;++N){var K=[];if(O[J]<0!=!!N){ue[J]=F[N][J];for(var j=0;j<2;++j){ue[ae]=F[j^N][ae];for(var ie=0;ie<2;++ie)ue[se]=F[ie^j^N][se],K.push(ue.slice())}for(var W=B?5:4,j=W;j===W;++j){if(K.length===0)continue e;K=s.positive(K,Y[j])}for(var j=0;j<K.length;++j)for(var se=K[j],Q=v(b,h,se,T,a),ie=0;ie<3;++ie)z[ie].lo=Math.min(z[ie].lo,se[ie]),z[ie].hi=Math.max(z[ie].hi,se[ie]),ie!==J&&(z[ie].pixelsPerDataUnit=Math.min(z[ie].pixelsPerDataUnit,Math.abs(Q[ie])))}}}return z}},2762:function(c,y,r){"use strict";var t=r(1888),s=r(5298),n=r(9618),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(o,v,A,b,M){this.gl=o,this.type=v,this.handle=A,this.length=b,this.usage=M}var f=l.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)};function g(o,v,A,b,M,m){var S=M.length*M.BYTES_PER_ELEMENT;if(m<0)return o.bufferData(v,M,b),S;if(S+m>A)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(v,m,M),A}function h(o,v){for(var A=t.malloc(o.length,v),b=o.length,M=0;M<b;++M)A[M]=o[M];return A}function w(o,v){for(var A=1,b=v.length-1;b>=0;--b){if(v[b]!==A)return!1;A*=o[b]}return!0}f.update=function(o,v){if(typeof v!="number"&&(v=-1),this.bind(),typeof o=="object"&&typeof o.shape!="undefined"){var A=o.dtype;if(u.indexOf(A)<0&&(A="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var b=gl.getExtension("OES_element_index_uint");b&&A!=="uint16"?A="uint32":A="uint16"}if(A===o.dtype&&w(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=g(this.gl,this.type,this.length,this.usage,o.data,v):this.length=g(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),v);else{var M=t.malloc(o.size,A),m=n(M,o.shape);s.assign(m,o),v<0?this.length=g(this.gl,this.type,this.length,this.usage,M,v):this.length=g(this.gl,this.type,this.length,this.usage,M.subarray(0,o.size),v),t.free(M)}}else if(Array.isArray(o)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=h(o,"uint16"):S=h(o,"float32"),v<0?this.length=g(this.gl,this.type,this.length,this.usage,S,v):this.length=g(this.gl,this.type,this.length,this.usage,S.subarray(0,o.length),v),t.free(S)}else if(typeof o=="object"&&typeof o.length=="number")this.length=g(this.gl,this.type,this.length,this.usage,o,v);else if(typeof o=="number"||o===void 0){if(v>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function d(o,v,A,b){if(A=A||o.ARRAY_BUFFER,b=b||o.DYNAMIC_DRAW,A!==o.ARRAY_BUFFER&&A!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(b!==o.DYNAMIC_DRAW&&b!==o.STATIC_DRAW&&b!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var M=o.createBuffer(),m=new l(o,A,M,0,b);return m.update(v),m}c.exports=d},6405:function(c,y,r){"use strict";var t=r(2931);c.exports=function(n,u){var l=n.positions,f=n.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),g;for(var h=0,w=1/0,d=-1/0,o=1/0,v=-1/0,A=1/0,b=-1/0,M=null,m=null,S=[],T=1/0,a=!1,E=n.coneSizemode==="raw",p=0;p<l.length;p++){var k=l[p];w=Math.min(k[0],w),d=Math.max(k[0],d),o=Math.min(k[1],o),v=Math.max(k[1],v),A=Math.min(k[2],A),b=Math.max(k[2],b);var R=f[p];if(t.length(R)>h&&(h=t.length(R)),p&&!E){var B=2*t.distance(M,k)/(t.length(m)+t.length(R));B?(T=Math.min(T,B),a=!1):a=!0}a||(M=k,m=R),S.push(R)}var F=[w,o,A],_=[d,v,b];u&&(u[0]=F,u[1]=_),h===0&&(h=1);var O=1/h;isFinite(T)||(T=1),g.vectorScale=T;var z=n.coneSize||(E?1:.5);n.absoluteConeSize&&(z=n.absoluteConeSize*O),g.coneScale=z;for(var p=0,N=0;p<l.length;p++)for(var k=l[p],Y=k[0],J=k[1],ae=k[2],se=S[p],ue=t.length(se)*O,K=0,j=8;K<j;K++){g.positions.push([Y,J,ae,N++]),g.positions.push([Y,J,ae,N++]),g.positions.push([Y,J,ae,N++]),g.positions.push([Y,J,ae,N++]),g.positions.push([Y,J,ae,N++]),g.positions.push([Y,J,ae,N++]),g.vectors.push(se),g.vectors.push(se),g.vectors.push(se),g.vectors.push(se),g.vectors.push(se),g.vectors.push(se),g.vertexIntensity.push(ue,ue,ue),g.vertexIntensity.push(ue,ue,ue);var ie=g.positions.length;g.cells.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}return g};var s=r(614);c.exports.createMesh=r(9060),c.exports.createConeMesh=function(n,u){return c.exports.createMesh(n,u,{shaders:s,traceType:"cone"})}},9060:function(c,y,r){"use strict";var t=r(9405),s=r(2762),n=r(8116),u=r(7766),l=r(6760),f=r(7608),g=r(9618),h=r(6729),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(S,T,a,E,p,k,R,B,F,_,O){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=T,this.dirty=!0,this.triShader=a,this.pickShader=E,this.trianglePositions=p,this.triangleVectors=k,this.triangleColors=B,this.triangleUVs=F,this.triangleIds=R,this.triangleVAO=_,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var o=d.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(S){this.pickId=S};function v(S){for(var T=h({colormap:S,nshades:256,format:"rgba"}),a=new Uint8Array(256*4),E=0;E<256;++E){for(var p=T[E],k=0;k<3;++k)a[4*E+k]=p[k];a[4*E+3]=p[3]*255}return g(a,[256,256,4],[4,0,1])}function A(S){for(var T=S.length,a=new Array(T),E=0;E<T;++E)a[E]=S[E][2];return a}o.update=function(S){S=S||{};var T=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=T.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=T.LINEAR,this.texture.setPixels(v(S.colormap)),this.texture.generateMipmap());var a=S.cells,E=S.positions,p=S.vectors;if(!(!E||!a||!p)){var k=[],R=[],B=[],F=[],_=[];this.cells=a,this.positions=E,this.vectors=p;var O=S.meshColor||[1,1,1,1],z=S.vertexIntensity,N=1/0,Y=-1/0;if(z)if(S.vertexIntensityBounds)N=+S.vertexIntensityBounds[0],Y=+S.vertexIntensityBounds[1];else for(var J=0;J<z.length;++J){var ae=z[J];N=Math.min(N,ae),Y=Math.max(Y,ae)}else for(var J=0;J<E.length;++J){var ae=E[J][2];N=Math.min(N,ae),Y=Math.max(Y,ae)}z?this.intensity=z:this.intensity=A(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var J=0;J<E.length;++J)for(var se=E[J],ue=0;ue<3;++ue)isNaN(se[ue])||!isFinite(se[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],se[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],se[ue]));var K=0;e:for(var J=0;J<a.length;++J){var j=a[J];switch(j.length){case 3:for(var ue=0;ue<3;++ue)for(var ie=j[ue],se=E[ie],W=0;W<3;++W)if(isNaN(se[W])||!isFinite(se[W]))continue e;for(var ue=0;ue<3;++ue){var ie=j[2-ue],se=E[ie];k.push(se[0],se[1],se[2],se[3]);var Q=p[ie];R.push(Q[0],Q[1],Q[2],Q[3]||0);var ee=O;ee.length===3?B.push(ee[0],ee[1],ee[2],1):B.push(ee[0],ee[1],ee[2],ee[3]);var $;z?$=[(z[ie]-N)/(Y-N),0]:$=[(se[2]-N)/(Y-N),0],F.push($[0],$[1]),_.push(J)}K+=1;break;default:break}}this.triangleCount=K,this.trianglePositions.update(k),this.triangleVectors.update(R),this.triangleColors.update(B),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(_))}},o.drawTransparent=o.draw=function(S){S=S||{};for(var T=this.gl,a=S.model||w,E=S.view||w,p=S.projection||w,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],R=0;R<3;++R)k[0][R]=Math.max(k[0][R],this.clipBounds[0][R]),k[1][R]=Math.min(k[1][R],this.clipBounds[1][R]);var B={model:a,view:E,projection:p,inverseModel:w.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};B.inverseModel=f(B.inverseModel,B.model),T.disable(T.CULL_FACE),this.texture.bind(0);var F=new Array(16);l(F,B.view,B.model),l(F,B.projection,F),f(F,F);for(var R=0;R<3;++R)B.eyePosition[R]=F[12+R]/F[15];for(var _=F[15],R=0;R<3;++R)_+=this.lightPosition[R]*F[4*R+3];for(var R=0;R<3;++R){for(var O=F[12+R],z=0;z<3;++z)O+=F[4*z+R]*this.lightPosition[z];B.lightPosition[R]=O/_}if(this.triangleCount>0){var N=this.triShader;N.bind(),N.uniforms=B,this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(S){S=S||{};for(var T=this.gl,a=S.model||w,E=S.view||w,p=S.projection||w,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],R=0;R<3;++R)k[0][R]=Math.max(k[0][R],this.clipBounds[0][R]),k[1][R]=Math.min(k[1][R],this.clipBounds[1][R]);this._model=[].slice.call(a),this._view=[].slice.call(E),this._projection=[].slice.call(p),this._resolution=[T.drawingBufferWidth,T.drawingBufferHeight];var B={model:a,view:E,projection:p,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=B,this.triangleCount>0&&(this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(S){if(!S||S.id!==this.pickId)return null;var T=S.value[0]+256*S.value[1]+65536*S.value[2],a=this.cells[T],E=this.positions[a[1]].slice(0,3),p={position:E,dataCoordinate:E,index:Math.floor(a[1]/48)};return this.traceType==="cone"?p.index=Math.floor(a[1]/48):this.traceType==="streamtube"&&(p.intensity=this.intensity[a[1]],p.velocity=this.vectors[a[1]].slice(0,3),p.divergence=this.vectors[a[1]][3],p.index=T),p},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function b(S,T){var a=t(S,T.meshShader.vertex,T.meshShader.fragment,null,T.meshShader.attributes);return a.attributes.position.location=0,a.attributes.color.location=2,a.attributes.uv.location=3,a.attributes.vector.location=4,a}function M(S,T){var a=t(S,T.pickShader.vertex,T.pickShader.fragment,null,T.pickShader.attributes);return a.attributes.position.location=0,a.attributes.id.location=1,a.attributes.vector.location=4,a}function m(S,T,a){var E=a.shaders;arguments.length===1&&(T=S,S=T.gl);var p=b(S,E),k=M(S,E),R=u(S,g(new Uint8Array([255,255,255,255]),[1,1,4]));R.generateMipmap(),R.minFilter=S.LINEAR_MIPMAP_LINEAR,R.magFilter=S.LINEAR;var B=s(S),F=s(S),_=s(S),O=s(S),z=s(S),N=n(S,[{buffer:B,type:S.FLOAT,size:4},{buffer:z,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_,type:S.FLOAT,size:4},{buffer:O,type:S.FLOAT,size:2},{buffer:F,type:S.FLOAT,size:4}]),Y=new d(S,R,p,k,B,F,z,_,O,N,a.traceType||"cone");return Y.update(T),Y}c.exports=m},614:function(c,y,r){var t=r(3236),s=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},y.pickShader={vertex:u,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(c){c.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(c,y,r){var t=r(737);c.exports=function(n){return t[n]}},9165:function(c,y,r){"use strict";c.exports=d;var t=r(2762),s=r(8116),n=r(3436),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(o,v,A,b){this.gl=o,this.shader=b,this.buffer=v,this.vao=A,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var f=l.prototype;f.isOpaque=function(){return!this.hasAlpha},f.isTransparent=function(){return this.hasAlpha},f.drawTransparent=f.draw=function(o){var v=this.gl,A=this.shader.uniforms;this.shader.bind();var b=A.view=o.view||u,M=A.projection=o.projection||u;A.model=o.model||u,A.clipBounds=this.clipBounds,A.opacity=this.opacity;var m=b[12],S=b[13],T=b[14],a=b[15],E=o._ortho||!1,p=E?2:1,k=p*this.pixelRatio*(M[3]*m+M[7]*S+M[11]*T+M[15]*a)/v.drawingBufferHeight;this.vao.bind();for(var R=0;R<3;++R)v.lineWidth(this.lineWidth[R]*this.pixelRatio),A.capSize=this.capSize[R]*k,this.lineCount[R]&&v.drawArrays(v.LINES,this.lineOffset[R],this.lineCount[R]);this.vao.unbind()};function g(o,v){for(var A=0;A<3;++A)o[0][A]=Math.min(o[0][A],v[A]),o[1][A]=Math.max(o[1][A],v[A])}var h=function(){for(var o=new Array(3),v=0;v<3;++v){for(var A=[],b=1;b<=2;++b)for(var M=-1;M<=1;M+=2){var m=(b+v)%3,S=[0,0,0];S[m]=M,A.push(S)}o[v]=A}return o}();function w(o,v,A,b){for(var M=h[b],m=0;m<M.length;++m){var S=M[m];o.push(v[0],v[1],v[2],A[0],A[1],A[2],A[3],S[0],S[1],S[2])}return M.length}f.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var v=o.color||[[0,0,0],[0,0,0],[0,0,0]],A=o.position,b=o.error;if(Array.isArray(v[0])||(v=[v,v,v]),A&&b){var M=[],m=A.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var T=0;T<3;++T){this.lineOffset[T]=S;e:for(var a=0;a<m;++a){for(var E=A[a],p=0;p<3;++p)if(isNaN(E[p])||!isFinite(E[p]))continue e;var k=b[a],R=v[T];if(Array.isArray(R[0])&&(R=v[a]),R.length===3?R=[R[0],R[1],R[2],1]:R.length===4&&(R=[R[0],R[1],R[2],R[3]],!this.hasAlpha&&R[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][T])||isNaN(k[1][T]))){if(k[0][T]<0){var B=E.slice();B[T]+=k[0][T],M.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,B[0],B[1],B[2],R[0],R[1],R[2],R[3],0,0,0),g(this.bounds,B),S+=2+w(M,B,R,T)}if(k[1][T]>0){var B=E.slice();B[T]+=k[1][T],M.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,B[0],B[1],B[2],R[0],R[1],R[2],R[3],0,0,0),g(this.bounds,B),S+=2+w(M,B,R,T)}}}this.lineCount[T]=S-this.lineOffset[T]}this.buffer.update(M)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function d(o){var v=o.gl,A=t(v),b=s(v,[{buffer:A,type:v.FLOAT,size:3,offset:0,stride:40},{buffer:A,type:v.FLOAT,size:4,offset:12,stride:40},{buffer:A,type:v.FLOAT,size:3,offset:28,stride:40}]),M=n(v);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.offset.location=2;var m=new l(v,A,b,M);return m.update(o),m}},3436:function(c,y,r){"use strict";var t=r(3236),s=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);c.exports=function(l){return s(l,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(c,y,r){"use strict";var t=r(7766);c.exports=S;var s=null,n,u,l,f;function g(T){var a=T.getParameter(T.FRAMEBUFFER_BINDING),E=T.getParameter(T.RENDERBUFFER_BINDING),p=T.getParameter(T.TEXTURE_BINDING_2D);return[a,E,p]}function h(T,a){T.bindFramebuffer(T.FRAMEBUFFER,a[0]),T.bindRenderbuffer(T.RENDERBUFFER,a[1]),T.bindTexture(T.TEXTURE_2D,a[2])}function w(T,a){var E=T.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(E+1);for(var p=0;p<=E;++p){for(var k=new Array(E),R=0;R<p;++R)k[R]=T.COLOR_ATTACHMENT0+R;for(var R=p;R<E;++R)k[R]=T.NONE;s[p]=k}}function d(T){switch(T){case n:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case f:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(T,a,E,p,k,R){if(!p)return null;var B=t(T,a,E,k,p);return B.magFilter=T.NEAREST,B.minFilter=T.NEAREST,B.mipSamples=1,B.bind(),T.framebufferTexture2D(T.FRAMEBUFFER,R,T.TEXTURE_2D,B.handle,0),B}function v(T,a,E,p,k){var R=T.createRenderbuffer();return T.bindRenderbuffer(T.RENDERBUFFER,R),T.renderbufferStorage(T.RENDERBUFFER,p,a,E),T.framebufferRenderbuffer(T.FRAMEBUFFER,k,T.RENDERBUFFER,R),R}function A(T){var a=g(T.gl),E=T.gl,p=T.handle=E.createFramebuffer(),k=T._shape[0],R=T._shape[1],B=T.color.length,F=T._ext,_=T._useStencil,O=T._useDepth,z=T._colorType;E.bindFramebuffer(E.FRAMEBUFFER,p);for(var N=0;N<B;++N)T.color[N]=o(E,k,R,z,E.RGBA,E.COLOR_ATTACHMENT0+N);B===0?(T._color_rb=v(E,k,R,E.RGBA4,E.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(s[0])):B>1&&F.drawBuffersWEBGL(s[B]);var Y=E.getExtension("WEBGL_depth_texture");Y?_?T.depth=o(E,k,R,Y.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):O&&(T.depth=o(E,k,R,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):O&&_?T._depth_rb=v(E,k,R,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):O?T._depth_rb=v(E,k,R,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):_&&(T._depth_rb=v(E,k,R,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var J=E.checkFramebufferStatus(E.FRAMEBUFFER);if(J!==E.FRAMEBUFFER_COMPLETE){T._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(T.handle),T.handle=null,T.depth&&(T.depth.dispose(),T.depth=null),T._depth_rb&&(E.deleteRenderbuffer(T._depth_rb),T._depth_rb=null);for(var N=0;N<T.color.length;++N)T.color[N].dispose(),T.color[N]=null;T._color_rb&&(E.deleteRenderbuffer(T._color_rb),T._color_rb=null),h(E,a),d(J)}h(E,a)}function b(T,a,E,p,k,R,B,F){this.gl=T,this._shape=[a|0,E|0],this._destroyed=!1,this._ext=F,this.color=new Array(k);for(var _=0;_<k;++_)this.color[_]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=p,this._useDepth=R,this._useStencil=B;var O=this,z=[a|0,E|0];Object.defineProperties(z,{0:{get:function(){return O._shape[0]},set:function(N){return O.width=N}},1:{get:function(){return O._shape[1]},set:function(N){return O.height=N}}}),this._shapeVector=z,A(this)}var M=b.prototype;function m(T,a,E){if(T._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(T._shape[0]===a&&T._shape[1]===E)){var p=T.gl,k=p.getParameter(p.MAX_RENDERBUFFER_SIZE);if(a<0||a>k||E<0||E>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");T._shape[0]=a,T._shape[1]=E;for(var R=g(p),B=0;B<T.color.length;++B)T.color[B].shape=T._shape;T._color_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,T._color_rb),p.renderbufferStorage(p.RENDERBUFFER,p.RGBA4,T._shape[0],T._shape[1])),T.depth&&(T.depth.shape=T._shape),T._depth_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,T._depth_rb),T._useDepth&&T._useStencil?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,T._shape[0],T._shape[1]):T._useDepth?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_COMPONENT16,T._shape[0],T._shape[1]):T._useStencil&&p.renderbufferStorage(p.RENDERBUFFER,p.STENCIL_INDEX,T._shape[0],T._shape[1])),p.bindFramebuffer(p.FRAMEBUFFER,T.handle);var F=p.checkFramebufferStatus(p.FRAMEBUFFER);F!==p.FRAMEBUFFER_COMPLETE&&(T.dispose(),h(p,R),d(F)),h(p,R)}}Object.defineProperties(M,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(T){if(Array.isArray(T)||(T=[T|0,T|0]),T.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var a=T[0]|0,E=T[1]|0;return m(this,a,E),[a,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(T){return T=T|0,m(this,T,this._shape[1]),T},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(T){return T=T|0,m(this,this._shape[0],T),T},enumerable:!1}}),M.bind=function(){if(!this._destroyed){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this.handle),T.viewport(0,0,this._shape[0],this._shape[1])}},M.dispose=function(){if(!this._destroyed){this._destroyed=!0;var T=this.gl;T.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(T.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var a=0;a<this.color.length;++a)this.color[a].dispose(),this.color[a]=null;this._color_rb&&(T.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(T,a,E,p){n||(n=T.FRAMEBUFFER_UNSUPPORTED,u=T.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=T.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,f=T.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=T.getExtension("WEBGL_draw_buffers");if(!s&&k&&w(T,k),Array.isArray(a)&&(p=E,E=a[1]|0,a=a[0]|0),typeof a!="number")throw new Error("gl-fbo: Missing shape parameter");var R=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(a<0||a>R||E<0||E>R)throw new Error("gl-fbo: Parameters are too large for FBO");p=p||{};var B=1;if("color"in p){if(B=Math.max(p.color|0,0),B<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(B>1)if(k){if(B>T.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+B+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=T.UNSIGNED_BYTE,_=T.getExtension("OES_texture_float");if(p.float&&B>0){if(!_)throw new Error("gl-fbo: Context does not support floating point textures");F=T.FLOAT}else p.preferFloat&&B>0&&_&&(F=T.FLOAT);var O=!0;"depth"in p&&(O=!!p.depth);var z=!1;return"stencil"in p&&(z=!!p.stencil),new b(T,a,E,F,B,O,z,k)}},2992:function(c,y,r){var t=r(3387).sprintf,s=r(5171),n=r(1848),u=r(1085);c.exports=l;function l(f,g,h){"use strict";var w=n(g)||"of unknown name (see npm glsl-shader-name)",d="unknown type";h!==void 0&&(d=h===s.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,d,w),v=t("%s%s",o,f),A=f.split(`
`),b={},M=0;M<A.length;M++){var m=A[M];if(!(m===""||m==="\0")){var S=parseInt(m.split(":")[2]);if(isNaN(S))throw new Error(t("Could not parse error: %s",m));b[S]=m}}for(var T=u(g).split(`
`),M=0;M<T.length;M++)if(!(!b[M+3]&&!b[M+2]&&!b[M+1])){var a=T[M];if(o+=a+`
`,b[M+1]){var E=b[M+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,E)}}return{long:o.trim(),short:v.trim()}}},2510:function(c,y,r){"use strict";c.exports=d;var t=r(2478),s=r(7762),n=r(1888),u=r(9405),l=r(2762),f=r(6768);function g(o,v,A,b,M,m,S){this.plot=o,this.shader=v,this.pickShader=A,this.positionBuffer=b,this.weightBuffer=M,this.colorBuffer=m,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=g.prototype,w=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var v=this.plot,A=this.shader,b=this.bounds,M=this.numVertices;if(!(M<=0)){var m=v.gl,S=v.dataBox,T=b[2]-b[0],a=b[3]-b[1],E=S[2]-S[0],p=S[3]-S[1];o[0]=2*T/E,o[4]=2*a/p,o[6]=2*(b[0]-S[0])/E-1,o[7]=2*(b[1]-S[1])/p-1,A.bind();var k=A.uniforms;k.viewTransform=o,k.shape=this.shape;var R=A.attributes;this.positionBuffer.bind(),R.position.pointer(),this.weightBuffer.bind(),R.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),R.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,M)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(A){var b=this.plot,M=this.pickShader,m=this.bounds,S=this.numVertices;if(!(S<=0)){var T=b.gl,a=b.dataBox,E=m[2]-m[0],p=m[3]-m[1],k=a[2]-a[0],R=a[3]-a[1];o[0]=2*E/k,o[4]=2*p/R,o[6]=2*(m[0]-a[0])/k-1,o[7]=2*(m[1]-a[1])/R-1;for(var B=0;B<4;++B)v[B]=A>>B*8&255;this.pickOffset=A,M.bind();var F=M.uniforms;F.viewTransform=o,F.pickOffset=v,F.shape=this.shape;var _=M.attributes;return this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),_.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,S),A+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,v,A){var b=this.pickOffset,M=this.shape[0]*this.shape[1];if(A<b||A>=b+M)return null;var m=A-b,S=this.xData,T=this.yData;return{object:this,pointId:m,dataCoord:[S[m%this.shape[0]],T[m/this.shape[0]|0]]}},h.update=function(o){o=o||{};var v=o.shape||[0,0],A=o.x||s(v[0]),b=o.y||s(v[1]),M=o.z||new Float32Array(v[0]*v[1]),m=o.zsmooth!==!1;this.xData=A,this.yData=b;var S=o.colorLevels||[0],T=o.colorValues||[0,0,0,1],a=S.length,E=this.bounds,p,k,R,B;m?(p=E[0]=A[0],k=E[1]=b[0],R=E[2]=A[A.length-1],B=E[3]=b[b.length-1]):(p=E[0]=A[0]+(A[1]-A[0])/2,k=E[1]=b[0]+(b[1]-b[0])/2,R=E[2]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2,B=E[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var F=1/(R-p),_=1/(B-k),O=v[0],z=v[1];this.shape=[O,z];var N=(m?(O-1)*(z-1):O*z)*(w.length>>>1);this.numVertices=N;for(var Y=n.mallocUint8(N*4),J=n.mallocFloat32(N*2),ae=n.mallocUint8(N*2),se=n.mallocUint32(N),ue=0,K=m?O-1:O,j=m?z-1:z,ie=0;ie<j;++ie){var W,Q;m?(W=_*(b[ie]-k),Q=_*(b[ie+1]-k)):(W=ie<z-1?_*(b[ie]-(b[ie+1]-b[ie])/2-k):_*(b[ie]-(b[ie]-b[ie-1])/2-k),Q=ie<z-1?_*(b[ie]+(b[ie+1]-b[ie])/2-k):_*(b[ie]+(b[ie]-b[ie-1])/2-k));for(var ee=0;ee<K;++ee){var $,X;m?($=F*(A[ee]-p),X=F*(A[ee+1]-p)):($=ee<O-1?F*(A[ee]-(A[ee+1]-A[ee])/2-p):F*(A[ee]-(A[ee]-A[ee-1])/2-p),X=ee<O-1?F*(A[ee]+(A[ee+1]-A[ee])/2-p):F*(A[ee]+(A[ee]-A[ee-1])/2-p));for(var oe=0;oe<w.length;oe+=2){var te=w[oe],fe=w[oe+1],pe=m?(ie+fe)*O+(ee+te):ie*O+ee,Ae=M[pe],be=t.le(S,Ae),Pe,me,Ee,xe;if(be<0)Pe=T[0],me=T[1],Ee=T[2],xe=T[3];else if(be===a-1)Pe=T[4*a-4],me=T[4*a-3],Ee=T[4*a-2],xe=T[4*a-1];else{var De=(Ae-S[be])/(S[be+1]-S[be]),Ve=1-De,Ze=4*be,ke=4*(be+1);Pe=Ve*T[Ze]+De*T[ke],me=Ve*T[Ze+1]+De*T[ke+1],Ee=Ve*T[Ze+2]+De*T[ke+2],xe=Ve*T[Ze+3]+De*T[ke+3]}Y[4*ue]=255*Pe,Y[4*ue+1]=255*me,Y[4*ue+2]=255*Ee,Y[4*ue+3]=255*xe,J[2*ue]=$*.5+X*.5,J[2*ue+1]=W*.5+Q*.5,ae[2*ue]=te,ae[2*ue+1]=fe,se[ue]=ie*O+ee,ue+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(ae),this.colorBuffer.update(Y),this.idBuffer.update(se),n.free(J),n.free(Y),n.free(ae),n.free(se)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function d(o,v){var A=o.gl,b=u(A,f.vertex,f.fragment),M=u(A,f.pickVertex,f.pickFragment),m=l(A),S=l(A),T=l(A),a=l(A),E=new g(o,b,M,m,S,T,a);return E.update(v),o.addObject(E),E}},6768:function(c,y,r){"use strict";var t=r(3236);c.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(c,y,r){var t=r(3236),s=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),f=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];y.createShader=function(g){return s(g,n,u,null,f)},y.createPickShader=function(g){return s(g,n,l,null,f)}},5714:function(c,y,r){"use strict";c.exports=T;var t=r(2762),s=r(8116),n=r(7766),u=new Uint8Array(4),l=new Float32Array(u.buffer);function f(a,E,p,k){return u[0]=k,u[1]=p,u[2]=E,u[3]=a,l[0]}var g=r(2478),h=r(9618),w=r(7319),d=w.createShader,o=w.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function A(a,E){for(var p=0,k=0;k<3;++k){var R=a[k]-E[k];p+=R*R}return Math.sqrt(p)}function b(a){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],p=0;p<3;++p)E[0][p]=Math.max(a[0][p],E[0][p]),E[1][p]=Math.min(a[1][p],E[1][p]);return E}function M(a,E,p,k){this.arcLength=a,this.position=E,this.index=p,this.dataCoordinate=k}function m(a,E,p,k,R,B){this.gl=a,this.shader=E,this.pickShader=p,this.buffer=k,this.vao=R,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=B,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=m.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(a){this.pickId=a},S.drawTransparent=S.draw=function(a){if(this.vertexCount){var E=this.gl,p=this.shader,k=this.vao;p.bind(),p.uniforms={model:a.model||v,view:a.view||v,projection:a.projection||v,clipBounds:b(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.drawPick=function(a){if(this.vertexCount){var E=this.gl,p=this.pickShader,k=this.vao;p.bind(),p.uniforms={model:a.model||v,view:a.view||v,projection:a.projection||v,pickId:this.pickId,clipBounds:b(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.update=function(a){var E,p;this.dirty=!0;var k=!!a.connectGaps;"dashScale"in a&&(this.dashScale=a.dashScale),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var R=[],B=[],F=[],_=0,O=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=a.position||a.positions;if(N){var Y=a.color||a.colors||[0,0,0,1],J=a.lineWidth||1,ae=!1;e:for(E=1;E<N.length;++E){var se=N[E-1],ue=N[E];for(B.push(_),F.push(se.slice()),p=0;p<3;++p){if(isNaN(se[p])||isNaN(ue[p])||!isFinite(se[p])||!isFinite(ue[p])){if(!k&&R.length>0){for(var K=0;K<24;++K)R.push(R[R.length-12]);O+=2,ae=!0}continue e}z[0][p]=Math.min(z[0][p],se[p],ue[p]),z[1][p]=Math.max(z[1][p],se[p],ue[p])}var j,ie;Array.isArray(Y[0])?(j=Y.length>E-1?Y[E-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],ie=Y.length>E?Y[E]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):j=ie=Y,j.length===3&&(j=[j[0],j[1],j[2],1]),ie.length===3&&(ie=[ie[0],ie[1],ie[2],1]),!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0);var W;Array.isArray(J)?W=J.length>E-1?J[E-1]:J.length>0?J[J.length-1]:[0,0,0,1]:W=J;var Q=_;if(_+=A(se,ue),ae){for(p=0;p<2;++p)R.push(se[0],se[1],se[2],ue[0],ue[1],ue[2],Q,W,j[0],j[1],j[2],j[3]);O+=2,ae=!1}R.push(se[0],se[1],se[2],ue[0],ue[1],ue[2],Q,W,j[0],j[1],j[2],j[3],se[0],se[1],se[2],ue[0],ue[1],ue[2],Q,-W,j[0],j[1],j[2],j[3],ue[0],ue[1],ue[2],se[0],se[1],se[2],_,-W,ie[0],ie[1],ie[2],ie[3],ue[0],ue[1],ue[2],se[0],se[1],se[2],_,W,ie[0],ie[1],ie[2],ie[3]),O+=4}}if(this.buffer.update(R),B.push(_),F.push(N[N.length-1].slice()),this.bounds=z,this.vertexCount=O,this.points=F,this.arcLength=B,"dashes"in a){var ee=a.dashes,$=ee.slice();for($.unshift(0),E=1;E<$.length;++E)$[E]=$[E-1]+$[E];var X=h(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(p=0;p<4;++p)X.set(E,0,p,0);g.le($,$[$.length-1]*E/255)&1?X.set(E,0,0,0):X.set(E,0,0,255)}this.texture.setPixels(X)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(a){if(!a||a.id!==this.pickId)return null;var E=f(a.value[0],a.value[1],a.value[2],0),p=g.le(this.arcLength,E);if(p<0)return null;if(p===this.arcLength.length-1)return new M(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),p);for(var k=this.points[p],R=this.points[Math.min(p+1,this.points.length-1)],B=(E-this.arcLength[p])/(this.arcLength[p+1]-this.arcLength[p]),F=1-B,_=[0,0,0],O=0;O<3;++O)_[O]=F*k[O]+B*R[O];var z=Math.min(B<.5?p:p+1,this.points.length-1);return new M(E,_,z,this.points[z])};function T(a){var E=a.gl||a.scene&&a.scene.gl,p=d(E);p.attributes.position.location=0,p.attributes.nextPosition.location=1,p.attributes.arcLength.location=2,p.attributes.lineWidth.location=3,p.attributes.color.location=4;var k=o(E);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var R=t(E),B=s(E,[{buffer:R,size:3,offset:0,stride:48},{buffer:R,size:3,offset:12,stride:48},{buffer:R,size:1,offset:24,stride:48},{buffer:R,size:1,offset:28,stride:48},{buffer:R,size:4,offset:32,stride:48}]),F=h(new Array(256*4),[256,1,4]),_=0;_<1024;++_)F.data[_]=255;var O=n(E,F);O.wrap=E.REPEAT;var z=new m(E,p,k,R,B,O);return z.update(a),z}},1903:function(c){c.exports=y;function y(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(c){c.exports=y;function y(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(c){c.exports=y;function y(r){var t=r[0],s=r[1],n=r[2],u=r[3],l=r[4],f=r[5],g=r[6],h=r[7],w=r[8],d=r[9],o=r[10],v=r[11],A=r[12],b=r[13],M=r[14],m=r[15],S=t*f-s*l,T=t*g-n*l,a=t*h-u*l,E=s*g-n*f,p=s*h-u*f,k=n*h-u*g,R=w*b-d*A,B=w*M-o*A,F=w*m-v*A,_=d*M-o*b,O=d*m-v*b,z=o*m-v*M;return S*z-T*O+a*_+E*F-p*B+k*R}},7399:function(c){c.exports=y;function y(r,t){var s=t[0],n=t[1],u=t[2],l=t[3],f=s+s,g=n+n,h=u+u,w=s*f,d=n*f,o=n*g,v=u*f,A=u*g,b=u*h,M=l*f,m=l*g,S=l*h;return r[0]=1-o-b,r[1]=d+S,r[2]=v-m,r[3]=0,r[4]=d-S,r[5]=1-w-b,r[6]=A+M,r[7]=0,r[8]=v+m,r[9]=A-M,r[10]=1-w-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2],f=t[3],g=n+n,h=u+u,w=l+l,d=n*g,o=n*h,v=n*w,A=u*h,b=u*w,M=l*w,m=f*g,S=f*h,T=f*w;return r[0]=1-(A+M),r[1]=o+T,r[2]=v-S,r[3]=0,r[4]=o-T,r[5]=1-(d+M),r[6]=b+m,r[7]=0,r[8]=v+S,r[9]=b-m,r[10]=1-(d+A),r[11]=0,r[12]=s[0],r[13]=s[1],r[14]=s[2],r[15]=1,r}},7894:function(c){c.exports=y;function y(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(c){c.exports=y;function y(r,t){var s=t[0],n=t[1],u=t[2],l=t[3],f=t[4],g=t[5],h=t[6],w=t[7],d=t[8],o=t[9],v=t[10],A=t[11],b=t[12],M=t[13],m=t[14],S=t[15],T=s*g-n*f,a=s*h-u*f,E=s*w-l*f,p=n*h-u*g,k=n*w-l*g,R=u*w-l*h,B=d*M-o*b,F=d*m-v*b,_=d*S-A*b,O=o*m-v*M,z=o*S-A*M,N=v*S-A*m,Y=T*N-a*z+E*O+p*_-k*F+R*B;return Y?(Y=1/Y,r[0]=(g*N-h*z+w*O)*Y,r[1]=(u*z-n*N-l*O)*Y,r[2]=(M*R-m*k+S*p)*Y,r[3]=(v*k-o*R-A*p)*Y,r[4]=(h*_-f*N-w*F)*Y,r[5]=(s*N-u*_+l*F)*Y,r[6]=(m*E-b*R-S*a)*Y,r[7]=(d*R-v*E+A*a)*Y,r[8]=(f*z-g*_+w*B)*Y,r[9]=(n*_-s*z-l*B)*Y,r[10]=(b*k-M*E+S*T)*Y,r[11]=(o*E-d*k-A*T)*Y,r[12]=(g*F-f*O-h*B)*Y,r[13]=(s*O-n*F+u*B)*Y,r[14]=(M*a-b*p-m*T)*Y,r[15]=(d*p-o*a+v*T)*Y,r):null}},6582:function(c,y,r){var t=r(7894);c.exports=s;function s(n,u,l,f){var g,h,w,d,o,v,A,b,M,m,S=u[0],T=u[1],a=u[2],E=f[0],p=f[1],k=f[2],R=l[0],B=l[1],F=l[2];return Math.abs(S-R)<1e-6&&Math.abs(T-B)<1e-6&&Math.abs(a-F)<1e-6?t(n):(A=S-R,b=T-B,M=a-F,m=1/Math.sqrt(A*A+b*b+M*M),A*=m,b*=m,M*=m,g=p*M-k*b,h=k*A-E*M,w=E*b-p*A,m=Math.sqrt(g*g+h*h+w*w),m?(m=1/m,g*=m,h*=m,w*=m):(g=0,h=0,w=0),d=b*w-M*h,o=M*g-A*w,v=A*h-b*g,m=Math.sqrt(d*d+o*o+v*v),m?(m=1/m,d*=m,o*=m,v*=m):(d=0,o=0,v=0),n[0]=g,n[1]=d,n[2]=A,n[3]=0,n[4]=h,n[5]=o,n[6]=b,n[7]=0,n[8]=w,n[9]=v,n[10]=M,n[11]=0,n[12]=-(g*S+h*T+w*a),n[13]=-(d*S+o*T+v*a),n[14]=-(A*S+b*T+M*a),n[15]=1,n)}},6760:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2],f=t[3],g=t[4],h=t[5],w=t[6],d=t[7],o=t[8],v=t[9],A=t[10],b=t[11],M=t[12],m=t[13],S=t[14],T=t[15],a=s[0],E=s[1],p=s[2],k=s[3];return r[0]=a*n+E*g+p*o+k*M,r[1]=a*u+E*h+p*v+k*m,r[2]=a*l+E*w+p*A+k*S,r[3]=a*f+E*d+p*b+k*T,a=s[4],E=s[5],p=s[6],k=s[7],r[4]=a*n+E*g+p*o+k*M,r[5]=a*u+E*h+p*v+k*m,r[6]=a*l+E*w+p*A+k*S,r[7]=a*f+E*d+p*b+k*T,a=s[8],E=s[9],p=s[10],k=s[11],r[8]=a*n+E*g+p*o+k*M,r[9]=a*u+E*h+p*v+k*m,r[10]=a*l+E*w+p*A+k*S,r[11]=a*f+E*d+p*b+k*T,a=s[12],E=s[13],p=s[14],k=s[15],r[12]=a*n+E*g+p*o+k*M,r[13]=a*u+E*h+p*v+k*m,r[14]=a*l+E*w+p*A+k*S,r[15]=a*f+E*d+p*b+k*T,r}},4040:function(c){c.exports=y;function y(r,t,s,n,u,l,f){var g=1/(t-s),h=1/(n-u),w=1/(l-f);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*w,r[11]=0,r[12]=(t+s)*g,r[13]=(u+n)*h,r[14]=(f+l)*w,r[15]=1,r}},4772:function(c){c.exports=y;function y(r,t,s,n,u){var l=1/Math.tan(t/2),f=1/(n-u);return r[0]=l/s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(u+n)*f,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*u*n*f,r[15]=0,r}},6079:function(c){c.exports=y;function y(r,t,s,n){var u=n[0],l=n[1],f=n[2],g=Math.sqrt(u*u+l*l+f*f),h,w,d,o,v,A,b,M,m,S,T,a,E,p,k,R,B,F,_,O,z,N,Y,J;return Math.abs(g)<1e-6?null:(g=1/g,u*=g,l*=g,f*=g,h=Math.sin(s),w=Math.cos(s),d=1-w,o=t[0],v=t[1],A=t[2],b=t[3],M=t[4],m=t[5],S=t[6],T=t[7],a=t[8],E=t[9],p=t[10],k=t[11],R=u*u*d+w,B=l*u*d+f*h,F=f*u*d-l*h,_=u*l*d-f*h,O=l*l*d+w,z=f*l*d+u*h,N=u*f*d+l*h,Y=l*f*d-u*h,J=f*f*d+w,r[0]=o*R+M*B+a*F,r[1]=v*R+m*B+E*F,r[2]=A*R+S*B+p*F,r[3]=b*R+T*B+k*F,r[4]=o*_+M*O+a*z,r[5]=v*_+m*O+E*z,r[6]=A*_+S*O+p*z,r[7]=b*_+T*O+k*z,r[8]=o*N+M*Y+a*J,r[9]=v*N+m*Y+E*J,r[10]=A*N+S*Y+p*J,r[11]=b*N+T*Y+k*J,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(c){c.exports=y;function y(r,t,s){var n=Math.sin(s),u=Math.cos(s),l=t[4],f=t[5],g=t[6],h=t[7],w=t[8],d=t[9],o=t[10],v=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=l*u+w*n,r[5]=f*u+d*n,r[6]=g*u+o*n,r[7]=h*u+v*n,r[8]=w*u-l*n,r[9]=d*u-f*n,r[10]=o*u-g*n,r[11]=v*u-h*n,r}},2408:function(c){c.exports=y;function y(r,t,s){var n=Math.sin(s),u=Math.cos(s),l=t[0],f=t[1],g=t[2],h=t[3],w=t[8],d=t[9],o=t[10],v=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=l*u-w*n,r[1]=f*u-d*n,r[2]=g*u-o*n,r[3]=h*u-v*n,r[8]=l*n+w*u,r[9]=f*n+d*u,r[10]=g*n+o*u,r[11]=h*n+v*u,r}},7089:function(c){c.exports=y;function y(r,t,s){var n=Math.sin(s),u=Math.cos(s),l=t[0],f=t[1],g=t[2],h=t[3],w=t[4],d=t[5],o=t[6],v=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=l*u+w*n,r[1]=f*u+d*n,r[2]=g*u+o*n,r[3]=h*u+v*n,r[4]=w*u-l*n,r[5]=d*u-f*n,r[6]=o*u-g*n,r[7]=v*u-h*n,r}},2504:function(c){c.exports=y;function y(r,t,s){var n=s[0],u=s[1],l=s[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*u,r[5]=t[5]*u,r[6]=t[6]*u,r[7]=t[7]*u,r[8]=t[8]*l,r[9]=t[9]*l,r[10]=t[10]*l,r[11]=t[11]*l,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(c){c.exports=y;function y(r,t,s){var n=s[0],u=s[1],l=s[2],f,g,h,w,d,o,v,A,b,M,m,S;return t===r?(r[12]=t[0]*n+t[4]*u+t[8]*l+t[12],r[13]=t[1]*n+t[5]*u+t[9]*l+t[13],r[14]=t[2]*n+t[6]*u+t[10]*l+t[14],r[15]=t[3]*n+t[7]*u+t[11]*l+t[15]):(f=t[0],g=t[1],h=t[2],w=t[3],d=t[4],o=t[5],v=t[6],A=t[7],b=t[8],M=t[9],m=t[10],S=t[11],r[0]=f,r[1]=g,r[2]=h,r[3]=w,r[4]=d,r[5]=o,r[6]=v,r[7]=A,r[8]=b,r[9]=M,r[10]=m,r[11]=S,r[12]=f*n+d*u+b*l+t[12],r[13]=g*n+o*u+M*l+t[13],r[14]=h*n+v*u+m*l+t[14],r[15]=w*n+A*u+S*l+t[15]),r}},5665:function(c){c.exports=y;function y(r,t){if(r===t){var s=t[1],n=t[2],u=t[3],l=t[6],f=t[7],g=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=s,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=l,r[11]=t[14],r[12]=u,r[13]=f,r[14]=g}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(c,y,r){"use strict";var t=r(2642),s=r(9346);c.exports=g;function n(h,w){for(var d=[0,0,0,0],o=0;o<4;++o)for(var v=0;v<4;++v)d[v]+=h[4*o+v]*w[o];return d}function u(h,w,d,o,v){for(var A=n(o,n(d,n(w,[h[0],h[1],h[2],1]))),b=0;b<3;++b)A[b]/=A[3];return[.5*v[0]*(1+A[0]),.5*v[1]*(1-A[1])]}function l(h,w){if(h.length===2){for(var d=0,o=0,v=0;v<2;++v)d+=Math.pow(w[v]-h[0][v],2),o+=Math.pow(w[v]-h[1][v],2);return d=Math.sqrt(d),o=Math.sqrt(o),d+o<1e-6?[1,0]:[o/(d+o),d/(o+d)]}else if(h.length===3){var A=[0,0];return s(h[0],h[1],h[2],w,A),t(h,A)}return[]}function f(h,w){for(var d=[0,0,0],o=0;o<h.length;++o)for(var v=h[o],A=w[o],b=0;b<3;++b)d[b]+=A*v[b];return d}function g(h,w,d,o,v,A){if(h.length===1)return[0,h[0].slice()];for(var b=new Array(h.length),M=0;M<h.length;++M)b[M]=u(h[M],d,o,v,A);for(var m=0,S=1/0,M=0;M<b.length;++M){for(var T=0,a=0;a<2;++a)T+=Math.pow(b[M][a]-w[a],2);T<S&&(S=T,m=M)}for(var E=l(b,w),p=0,M=0;M<3;++M){if(E[M]<-.001||E[M]>1.0001)return null;p+=E[M]}return Math.abs(p-1)>.001?null:[m,f(h,E),E]}},840:function(c,y,r){var t=r(3236),s=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),w=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),v=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);y.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.wireShader={vertex:u,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.pointShader={vertex:f,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},y.pickShader={vertex:h,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},y.pointPickShader={vertex:d,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},y.contourShader={vertex:o,fragment:v,attributes:[{name:"position",type:"vec3"}]}},7201:function(c,y,r){"use strict";var t=1e-6,s=1e-6,n=r(9405),u=r(2762),l=r(8116),f=r(7766),g=r(8406),h=r(6760),w=r(7608),d=r(9618),o=r(6729),v=r(7765),A=r(1888),b=r(840),M=r(7626),m=b.meshShader,S=b.wireShader,T=b.pointShader,a=b.pickShader,E=b.pointPickShader,p=b.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function R(K,j,ie,W,Q,ee,$,X,oe,te,fe,pe,Ae,be,Pe,me,Ee,xe,De,Ve,Ze,ke,Ye,lt,yt,He,Fe){this.gl=K,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=ie,this.lineShader=W,this.pointShader=Q,this.pickShader=ee,this.pointPickShader=$,this.contourShader=X,this.trianglePositions=oe,this.triangleColors=fe,this.triangleNormals=Ae,this.triangleUVs=pe,this.triangleIds=te,this.triangleVAO=be,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Pe,this.edgeColors=Ee,this.edgeUVs=xe,this.edgeIds=me,this.edgeVAO=De,this.edgeCount=0,this.pointPositions=Ve,this.pointColors=ke,this.pointUVs=Ye,this.pointSizes=lt,this.pointIds=Ze,this.pointVAO=yt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=He,this.contourVAO=Fe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var B=R.prototype;B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(K){this.pickId=K};function F(K,j){if(!j||!j.length)return 1;for(var ie=0;ie<j.length;++ie){if(j.length<2)return 1;if(j[ie][0]===K)return j[ie][1];if(j[ie][0]>K&&ie>0){var W=(j[ie][0]-K)/(j[ie][0]-j[ie-1][0]);return j[ie][1]*(1-W)+W*j[ie-1][1]}}return 1}function _(K,j){for(var ie=o({colormap:K,nshades:256,format:"rgba"}),W=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var ee=ie[Q],$=0;$<3;++$)W[4*Q+$]=ee[$];j?W[4*Q+3]=255*F(Q/255,j):W[4*Q+3]=255*ee[3]}return d(W,[256,256,4],[4,0,1])}function O(K){for(var j=K.length,ie=new Array(j),W=0;W<j;++W)ie[W]=K[W][2];return ie}B.highlight=function(K){if(!K||!this.contourEnable){this.contourCount=0;return}for(var j=v(this.cells,this.intensity,K.intensity),ie=j.cells,W=j.vertexIds,Q=j.vertexWeights,ee=ie.length,$=A.mallocFloat32(2*3*ee),X=0,oe=0;oe<ee;++oe)for(var te=ie[oe],fe=0;fe<2;++fe){var pe=te[0];te.length===2&&(pe=te[fe]);for(var Ae=W[pe][0],be=W[pe][1],Pe=Q[pe],me=1-Pe,Ee=this.positions[Ae],xe=this.positions[be],De=0;De<3;++De)$[X++]=Pe*Ee[De]+me*xe[De]}this.contourCount=X/3|0,this.contourPositions.update($.subarray(0,X)),A.free($)},B.update=function(K){K=K||{};var j=this.gl;this.dirty=!0,"contourEnable"in K&&(this.contourEnable=K.contourEnable),"contourColor"in K&&(this.contourColor=K.contourColor),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"lightPosition"in K&&(this.lightPosition=K.lightPosition),this.hasAlpha=!1,"opacity"in K&&(this.opacity=K.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in K&&(this.opacityscale=K.opacityscale,this.hasAlpha=!0),"ambient"in K&&(this.ambientLight=K.ambient),"diffuse"in K&&(this.diffuseLight=K.diffuse),"specular"in K&&(this.specularLight=K.specular),"roughness"in K&&(this.roughness=K.roughness),"fresnel"in K&&(this.fresnel=K.fresnel),K.texture?(this.texture.dispose(),this.texture=f(j,K.texture)):K.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(_(K.colormap,this.opacityscale)),this.texture.generateMipmap());var ie=K.cells,W=K.positions;if(!(!W||!ie)){var Q=[],ee=[],$=[],X=[],oe=[],te=[],fe=[],pe=[],Ae=[],be=[],Pe=[],me=[],Ee=[],xe=[];this.cells=ie,this.positions=W;var De=K.vertexNormals,Ve=K.cellNormals,Ze=K.vertexNormalsEpsilon===void 0?t:K.vertexNormalsEpsilon,ke=K.faceNormalsEpsilon===void 0?s:K.faceNormalsEpsilon;K.useFacetNormals&&!Ve&&(Ve=g.faceNormals(ie,W,ke)),!Ve&&!De&&(De=g.vertexNormals(ie,W,Ze));var Ye=K.vertexColors,lt=K.cellColors,yt=K.meshColor||[1,1,1,1],He=K.vertexUVs,Fe=K.vertexIntensity,nt=K.cellUVs,ot=K.cellIntensity,ct=1/0,ht=-1/0;if(!He&&!nt)if(Fe)if(K.vertexIntensityBounds)ct=+K.vertexIntensityBounds[0],ht=+K.vertexIntensityBounds[1];else for(var mt=0;mt<Fe.length;++mt){var tt=Fe[mt];ct=Math.min(ct,tt),ht=Math.max(ht,tt)}else if(ot)if(K.cellIntensityBounds)ct=+K.cellIntensityBounds[0],ht=+K.cellIntensityBounds[1];else for(var mt=0;mt<ot.length;++mt){var tt=ot[mt];ct=Math.min(ct,tt),ht=Math.max(ht,tt)}else for(var mt=0;mt<W.length;++mt){var tt=W[mt][2];ct=Math.min(ct,tt),ht=Math.max(ht,tt)}Fe?this.intensity=Fe:ot?this.intensity=ot:this.intensity=O(W),this.pickVertex=!(ot||lt);var Re=K.pointSizes,Ge=K.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var mt=0;mt<W.length;++mt)for(var Je=W[mt],Xe=0;Xe<3;++Xe)isNaN(Je[Xe])||!isFinite(Je[Xe])||(this.bounds[0][Xe]=Math.min(this.bounds[0][Xe],Je[Xe]),this.bounds[1][Xe]=Math.max(this.bounds[1][Xe],Je[Xe]));var Oe=0,Ne=0,ze=0;e:for(var mt=0;mt<ie.length;++mt){var et=ie[mt];switch(et.length){case 1:for(var Le=et[0],Je=W[Le],Xe=0;Xe<3;++Xe)if(isNaN(Je[Xe])||!isFinite(Je[Xe]))continue e;be.push(Je[0],Je[1],Je[2]);var Te;Ye?Te=Ye[Le]:lt?Te=lt[mt]:Te=yt,this.opacityscale&&Fe?ee.push(Te[0],Te[1],Te[2],this.opacity*F((Fe[Le]-ct)/(ht-ct),this.opacityscale)):Te.length===3?Pe.push(Te[0],Te[1],Te[2],this.opacity):(Pe.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0));var ye;He?ye=He[Le]:Fe?ye=[(Fe[Le]-ct)/(ht-ct),0]:nt?ye=nt[mt]:ot?ye=[(ot[mt]-ct)/(ht-ct),0]:ye=[(Je[2]-ct)/(ht-ct),0],me.push(ye[0],ye[1]),Re?Ee.push(Re[Le]):Ee.push(Ge),xe.push(mt),ze+=1;break;case 2:for(var Xe=0;Xe<2;++Xe)for(var Le=et[Xe],Je=W[Le],Se=0;Se<3;++Se)if(isNaN(Je[Se])||!isFinite(Je[Se]))continue e;for(var Xe=0;Xe<2;++Xe){var Le=et[Xe],Je=W[Le];te.push(Je[0],Je[1],Je[2]);var Te;Ye?Te=Ye[Le]:lt?Te=lt[mt]:Te=yt,this.opacityscale&&Fe?ee.push(Te[0],Te[1],Te[2],this.opacity*F((Fe[Le]-ct)/(ht-ct),this.opacityscale)):Te.length===3?fe.push(Te[0],Te[1],Te[2],this.opacity):(fe.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0));var ye;He?ye=He[Le]:Fe?ye=[(Fe[Le]-ct)/(ht-ct),0]:nt?ye=nt[mt]:ot?ye=[(ot[mt]-ct)/(ht-ct),0]:ye=[(Je[2]-ct)/(ht-ct),0],pe.push(ye[0],ye[1]),Ae.push(mt)}Ne+=1;break;case 3:for(var Xe=0;Xe<3;++Xe)for(var Le=et[Xe],Je=W[Le],Se=0;Se<3;++Se)if(isNaN(Je[Se])||!isFinite(Je[Se]))continue e;for(var Xe=0;Xe<3;++Xe){var Le=et[2-Xe],Je=W[Le];Q.push(Je[0],Je[1],Je[2]);var Te;Ye?Te=Ye[Le]:lt?Te=lt[mt]:Te=yt,Te?this.opacityscale&&Fe?ee.push(Te[0],Te[1],Te[2],this.opacity*F((Fe[Le]-ct)/(ht-ct),this.opacityscale)):Te.length===3?ee.push(Te[0],Te[1],Te[2],this.opacity):(ee.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0)):ee.push(.5,.5,.5,1);var ye;He?ye=He[Le]:Fe?ye=[(Fe[Le]-ct)/(ht-ct),0]:nt?ye=nt[mt]:ot?ye=[(ot[mt]-ct)/(ht-ct),0]:ye=[(Je[2]-ct)/(ht-ct),0],X.push(ye[0],ye[1]);var Ke;De?Ke=De[Le]:Ke=Ve[mt],$.push(Ke[0],Ke[1],Ke[2]),oe.push(mt)}Oe+=1;break;default:break}}this.pointCount=ze,this.edgeCount=Ne,this.triangleCount=Oe,this.pointPositions.update(be),this.pointColors.update(Pe),this.pointUVs.update(me),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(te),this.edgeColors.update(fe),this.edgeUVs.update(pe),this.edgeIds.update(new Uint32Array(Ae)),this.trianglePositions.update(Q),this.triangleColors.update(ee),this.triangleUVs.update(X),this.triangleNormals.update($),this.triangleIds.update(new Uint32Array(oe))}},B.drawTransparent=B.draw=function(K){K=K||{};for(var j=this.gl,ie=K.model||k,W=K.view||k,Q=K.projection||k,ee=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)ee[0][$]=Math.max(ee[0][$],this.clipBounds[0][$]),ee[1][$]=Math.min(ee[1][$],this.clipBounds[1][$]);var X={model:ie,view:W,projection:Q,inverseModel:k.slice(),clipBounds:ee,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};X.inverseModel=w(X.inverseModel,X.model),j.disable(j.CULL_FACE),this.texture.bind(0);var oe=new Array(16);h(oe,X.view,X.model),h(oe,X.projection,oe),w(oe,oe);for(var $=0;$<3;++$)X.eyePosition[$]=oe[12+$]/oe[15];for(var te=oe[15],$=0;$<3;++$)te+=this.lightPosition[$]*oe[4*$+3];for(var $=0;$<3;++$){for(var fe=oe[12+$],pe=0;pe<3;++pe)fe+=oe[4*pe+$]*this.lightPosition[pe];X.lightPosition[$]=fe/te}if(this.triangleCount>0){var Ae=this.triShader;Ae.bind(),Ae.uniforms=X,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ae=this.lineShader;Ae.bind(),Ae.uniforms=X,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ae=this.pointShader;Ae.bind(),Ae.uniforms=X,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ae=this.contourShader;Ae.bind(),Ae.uniforms=X,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind()}},B.drawPick=function(K){K=K||{};for(var j=this.gl,ie=K.model||k,W=K.view||k,Q=K.projection||k,ee=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)ee[0][$]=Math.max(ee[0][$],this.clipBounds[0][$]),ee[1][$]=Math.min(ee[1][$],this.clipBounds[1][$]);this._model=[].slice.call(ie),this._view=[].slice.call(W),this._projection=[].slice.call(Q),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var X={model:ie,view:W,projection:Q,clipBounds:ee,pickId:this.pickId/255},oe=this.pickShader;if(oe.bind(),oe.uniforms=X,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var oe=this.pointPickShader;oe.bind(),oe.uniforms=X,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()}},B.pick=function(K){if(!K||K.id!==this.pickId)return null;for(var j=K.value[0]+256*K.value[1]+65536*K.value[2],ie=this.cells[j],W=this.positions,Q=new Array(ie.length),ee=0;ee<ie.length;++ee)Q[ee]=W[ie[ee]];var $=K.coord[0],X=K.coord[1];if(!this.pickVertex){var oe=this.positions[ie[0]],te=this.positions[ie[1]],fe=this.positions[ie[2]],pe=[(oe[0]+te[0]+fe[0])/3,(oe[1]+te[1]+fe[1])/3,(oe[2]+te[2]+fe[2])/3];return{_cellCenter:!0,position:[$,X],index:j,cell:ie,cellId:j,intensity:this.intensity[j],dataCoordinate:pe}}var Ae=M(Q,[$*this.pixelRatio,this._resolution[1]-X*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ae)return null;for(var be=Ae[2],Pe=0,ee=0;ee<ie.length;++ee)Pe+=be[ee]*this.intensity[ie[ee]];return{position:Ae[1],index:ie[Ae[0]],cell:ie,cellId:j,intensity:Pe,dataCoordinate:this.positions[ie[Ae[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(K){var j=n(K,m.vertex,m.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.normal.location=4,j}function N(K){var j=n(K,S.vertex,S.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j}function Y(K){var j=n(K,T.vertex,T.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}function J(K){var j=n(K,a.vertex,a.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}function ae(K){var j=n(K,E.vertex,E.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}function se(K){var j=n(K,p.vertex,p.fragment);return j.attributes.position.location=0,j}function ue(K,j){arguments.length===1&&(j=K,K=j.gl);var ie=K.getExtension("OES_standard_derivatives")||K.getExtension("MOZ_OES_standard_derivatives")||K.getExtension("WEBKIT_OES_standard_derivatives");if(!ie)throw new Error("derivatives not supported");var W=z(K),Q=N(K),ee=Y(K),$=J(K),X=ae(K),oe=se(K),te=f(K,d(new Uint8Array([255,255,255,255]),[1,1,4]));te.generateMipmap(),te.minFilter=K.LINEAR_MIPMAP_LINEAR,te.magFilter=K.LINEAR;var fe=u(K),pe=u(K),Ae=u(K),be=u(K),Pe=u(K),me=l(K,[{buffer:fe,type:K.FLOAT,size:3},{buffer:Pe,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:K.FLOAT,size:4},{buffer:Ae,type:K.FLOAT,size:2},{buffer:be,type:K.FLOAT,size:3}]),Ee=u(K),xe=u(K),De=u(K),Ve=u(K),Ze=l(K,[{buffer:Ee,type:K.FLOAT,size:3},{buffer:Ve,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:K.FLOAT,size:4},{buffer:De,type:K.FLOAT,size:2}]),ke=u(K),Ye=u(K),lt=u(K),yt=u(K),He=u(K),Fe=l(K,[{buffer:ke,type:K.FLOAT,size:3},{buffer:He,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ye,type:K.FLOAT,size:4},{buffer:lt,type:K.FLOAT,size:2},{buffer:yt,type:K.FLOAT,size:1}]),nt=u(K),ot=l(K,[{buffer:nt,type:K.FLOAT,size:3}]),ct=new R(K,te,W,Q,ee,$,X,oe,fe,Pe,pe,Ae,be,me,Ee,Ve,xe,De,Ze,ke,He,Ye,lt,yt,Fe,nt,ot);return ct.update(j),ct}c.exports=ue},8120:function(c,y,r){"use strict";c.exports=f;var t=r(2762),s=r(9405),n=r(3603);function u(g,h,w){this.plot=g,this.vbo=h,this.shader=w}var l=u.prototype;l.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},l.drawBox=function(){var g=[0,0],h=[0,0];return function(w,d,o,v,A){var b=this.plot,M=this.shader,m=b.gl;g[0]=w,g[1]=d,h[0]=o,h[1]=v,M.uniforms.lo=g,M.uniforms.hi=h,M.uniforms.color=A,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(g){var h=g.gl,w=t(h,[0,0,0,1,1,0,1,1]),d=s(h,n.boxVert,n.lineFrag);return new u(g,w,d)}},1913:function(c,y,r){"use strict";c.exports=h;var t=r(2762),s=r(9405),n=r(2478),u=r(3603);function l(w,d,o,v){this.plot=w,this.vbo=d,this.shader=o,this.tickShader=v,this.ticks=[[],[]]}function f(w,d){return w-d}var g=l.prototype;g.draw=function(){var w=[0,0],d=[0,0],o=[0,0];return function(){for(var v=this.plot,A=this.vbo,b=this.shader,M=this.ticks,m=v.gl,S=v._tickBounds,T=v.dataBox,a=v.viewBox,E=v.gridLineWidth,p=v.gridLineColor,k=v.gridLineEnable,R=v.pixelRatio,B=0;B<2;++B){var F=S[B],_=S[B+2],O=_-F,z=.5*(T[B+2]+T[B]),N=T[B+2]-T[B];d[B]=2*O/N,w[B]=2*(F-z)/N}b.bind(),A.bind(),b.attributes.dataCoord.pointer(),b.uniforms.dataShift=w,b.uniforms.dataScale=d;for(var Y=0,B=0;B<2;++B){o[0]=o[1]=0,o[B]=1,b.uniforms.dataAxis=o,b.uniforms.lineWidth=E[B]/(a[B+2]-a[B])*R,b.uniforms.color=p[B];var J=M[B].length*6;k[B]&&J&&m.drawArrays(m.TRIANGLES,Y,J),Y+=J}}}(),g.drawTickMarks=function(){var w=[0,0],d=[0,0],o=[1,0],v=[0,1],A=[0,0],b=[0,0];return function(){for(var M=this.plot,m=this.vbo,S=this.tickShader,T=this.ticks,a=M.gl,E=M._tickBounds,p=M.dataBox,k=M.viewBox,R=M.pixelRatio,B=M.screenBox,F=B[2]-B[0],_=B[3]-B[1],O=k[2]-k[0],z=k[3]-k[1],N=0;N<2;++N){var Y=E[N],J=E[N+2],ae=J-Y,se=.5*(p[N+2]+p[N]),ue=p[N+2]-p[N];d[N]=2*ae/ue,w[N]=2*(Y-se)/ue}d[0]*=O/F,w[0]*=O/F,d[1]*=z/_,w[1]*=z/_,S.bind(),m.bind(),S.attributes.dataCoord.pointer();var K=S.uniforms;K.dataShift=w,K.dataScale=d;var j=M.tickMarkLength,ie=M.tickMarkWidth,W=M.tickMarkColor,Q=0,ee=T[0].length*6,$=Math.min(n.ge(T[0],(p[0]-E[0])/(E[2]-E[0]),f),T[0].length),X=Math.min(n.gt(T[0],(p[2]-E[0])/(E[2]-E[0]),f),T[0].length),oe=Q+6*$,te=6*Math.max(0,X-$),fe=Math.min(n.ge(T[1],(p[1]-E[1])/(E[3]-E[1]),f),T[1].length),pe=Math.min(n.gt(T[1],(p[3]-E[1])/(E[3]-E[1]),f),T[1].length),Ae=ee+6*fe,be=6*Math.max(0,pe-fe);A[0]=2*(k[0]-j[1])/F-1,A[1]=(k[3]+k[1])/_-1,b[0]=j[1]*R/F,b[1]=ie[1]*R/_,be&&(K.color=W[1],K.tickScale=b,K.dataAxis=v,K.screenOffset=A,a.drawArrays(a.TRIANGLES,Ae,be)),A[0]=(k[2]+k[0])/F-1,A[1]=2*(k[1]-j[0])/_-1,b[0]=ie[0]*R/F,b[1]=j[0]*R/_,te&&(K.color=W[0],K.tickScale=b,K.dataAxis=o,K.screenOffset=A,a.drawArrays(a.TRIANGLES,oe,te)),A[0]=2*(k[2]+j[3])/F-1,A[1]=(k[3]+k[1])/_-1,b[0]=j[3]*R/F,b[1]=ie[3]*R/_,be&&(K.color=W[3],K.tickScale=b,K.dataAxis=v,K.screenOffset=A,a.drawArrays(a.TRIANGLES,Ae,be)),A[0]=(k[2]+k[0])/F-1,A[1]=2*(k[3]+j[2])/_-1,b[0]=ie[2]*R/F,b[1]=j[2]*R/_,te&&(K.color=W[2],K.tickScale=b,K.dataAxis=o,K.screenOffset=A,a.drawArrays(a.TRIANGLES,oe,te))}}(),g.update=function(){var w=[1,1,-1,-1,1,-1],d=[1,-1,1,1,-1,-1];return function(o){for(var v=o.ticks,A=o.bounds,b=new Float32Array(6*3*(v[0].length+v[1].length)),M=this.plot.zeroLineEnable,m=0,S=[[],[]],T=0;T<2;++T)for(var a=S[T],E=v[T],p=A[T],k=A[T+2],R=0;R<E.length;++R){var B=(E[R].x-p)/(k-p);a.push(B);for(var F=0;F<6;++F)b[m++]=B,b[m++]=w[F],b[m++]=d[F]}this.ticks=S,this.vbo.update(b)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(w){var d=w.gl,o=t(d),v=s(d,u.gridVert,u.gridFrag),A=s(d,u.tickVert,u.gridFrag),b=new l(w,o,v,A);return b}},4747:function(c,y,r){"use strict";c.exports=f;var t=r(2762),s=r(9405),n=r(3603);function u(g,h,w){this.plot=g,this.vbo=h,this.shader=w}var l=u.prototype;l.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},l.drawLine=function(){var g=[0,0],h=[0,0];return function(w,d,o,v,A,b){var M=this.plot,m=this.shader,S=M.gl;g[0]=w,g[1]=d,h[0]=o,h[1]=v,m.uniforms.start=g,m.uniforms.end=h,m.uniforms.width=A*M.pixelRatio,m.uniforms.color=b,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(g){var h=g.gl,w=t(h,[-1,-1,-1,1,1,-1,1,1]),d=s(h,n.lineVert,n.lineFrag),o=new u(g,w,d);return o}},3603:function(c,y,r){"use strict";var t=r(3236),s=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);c.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(c,y,r){"use strict";c.exports=h;var t=r(2762),s=r(9405),n=r(529),u=r(2478),l=r(3603);function f(w,d,o){this.plot=w,this.vbo=d,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g=f.prototype;g.drawTicks=function(){var w=[0,0],d=[0,0],o=[0,0];return function(v){var A=this.plot,b=this.shader,M=this.tickX[v],m=this.tickOffset[v],S=A.gl,T=A.viewBox,a=A.dataBox,E=A.screenBox,p=A.pixelRatio,k=A.tickEnable,R=A.tickPad,B=A.tickColor,F=A.tickAngle,_=A.labelEnable,O=A.labelPad,z=A.labelColor,N=A.labelAngle,Y=this.labelOffset[v],J=this.labelCount[v],ae=u.lt(M,a[v]),se=u.le(M,a[v+2]);w[0]=w[1]=0,w[v]=1,d[v]=(T[2+v]+T[v])/(E[2+v]-E[v])-1;var ue=2/E[2+(v^1)]-E[v^1];d[v^1]=ue*T[v^1]-1,k[v]&&(d[v^1]-=ue*p*R[v],ae<se&&m[se]>m[ae]&&(b.uniforms.dataAxis=w,b.uniforms.screenOffset=d,b.uniforms.color=B[v],b.uniforms.angle=F[v],S.drawArrays(S.TRIANGLES,m[ae],m[se]-m[ae]))),_[v]&&J&&(d[v^1]-=ue*p*O[v],b.uniforms.dataAxis=o,b.uniforms.screenOffset=d,b.uniforms.color=z[v],b.uniforms.angle=N[v],S.drawArrays(S.TRIANGLES,Y,J)),d[v^1]=ue*T[2+(v^1)]-1,k[v+2]&&(d[v^1]+=ue*p*R[v+2],ae<se&&m[se]>m[ae]&&(b.uniforms.dataAxis=w,b.uniforms.screenOffset=d,b.uniforms.color=B[v+2],b.uniforms.angle=F[v+2],S.drawArrays(S.TRIANGLES,m[ae],m[se]-m[ae]))),_[v+2]&&J&&(d[v^1]+=ue*p*O[v+2],b.uniforms.dataAxis=o,b.uniforms.screenOffset=d,b.uniforms.color=z[v+2],b.uniforms.angle=N[v+2],S.drawArrays(S.TRIANGLES,Y,J))}}(),g.drawTitle=function(){var w=[0,0],d=[0,0];return function(){var o=this.plot,v=this.shader,A=o.gl,b=o.screenBox,M=o.titleCenter,m=o.titleAngle,S=o.titleColor,T=o.pixelRatio;if(this.titleCount){for(var a=0;a<2;++a)d[a]=2*(M[a]*T-b[a])/(b[2+a]-b[a])-1;v.bind(),v.uniforms.dataAxis=w,v.uniforms.screenOffset=d,v.uniforms.angle=m,v.uniforms.color=S,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var w=[0,0],d=[0,0],o=[0,0];return function(){var v=this.plot,A=this.shader,b=v._tickBounds,M=v.dataBox,m=v.screenBox,S=v.viewBox;A.bind();for(var T=0;T<2;++T){var a=b[T],E=b[T+2],p=E-a,k=.5*(M[T+2]+M[T]),R=M[T+2]-M[T],B=S[T],F=S[T+2],_=F-B,O=m[T],z=m[T+2],N=z-O;d[T]=2*p/R*_/N,w[T]=2*(a-k)/R*_/N}o[1]=2*v.pixelRatio/(m[3]-m[1]),o[0]=o[1]*(m[3]-m[1])/(m[2]-m[0]),A.uniforms.dataScale=d,A.uniforms.dataShift=w,A.uniforms.textScale=o,this.vbo.bind(),A.attributes.textCoordinate.pointer()}}(),g.update=function(w){var d=[],o=w.ticks,v=w.bounds,A,b,M,m,S,T;for(T=0;T<2;++T){var a=[Math.floor(d.length/3)],E=[-1/0],p=o[T];for(A=0;A<p.length;++A){var k=p[A],R=k.x,B=k.text,F=k.font||"sans-serif";S=k.fontSize||12;for(var _=1/(v[T+2]-v[T]),O=v[T],z=B.split(`
`),N=0;N<z.length;N++)for(m=n(F,z[N]).data,b=0;b<m.length;b+=2)d.push(m[b]*S,-m[b+1]*S-N*S*1.2,(R-O)*_);a.push(Math.floor(d.length/3)),E.push(R)}this.tickOffset[T]=a,this.tickX[T]=E}for(T=0;T<2;++T){for(this.labelOffset[T]=Math.floor(d.length/3),m=n(w.labelFont[T],w.labels[T],{textAlign:"center"}).data,S=w.labelSize[T],A=0;A<m.length;A+=2)d.push(m[A]*S,-m[A+1]*S,0);this.labelCount[T]=Math.floor(d.length/3)-this.labelOffset[T]}for(this.titleOffset=Math.floor(d.length/3),m=n(w.titleFont,w.title).data,S=w.titleSize,A=0;A<m.length;A+=2)d.push(m[A]*S,-m[A+1]*S,0);this.titleCount=Math.floor(d.length/3)-this.titleOffset,this.vbo.update(d)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(w){var d=w.gl,o=t(d),v=s(d,l.textVert,l.textFrag),A=new f(w,o,v);return A}},1850:function(c,y,r){"use strict";c.exports=o;var t=r(3589),s=r(1913),n=r(2142),u=r(4747),l=r(8120);function f(v,A){this.gl=v,this.pickBuffer=A,this.screenBox=[0,0,v.drawingBufferWidth,v.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=f.prototype;g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536};function h(v,A,b){var M=.5*(b+1);return Math.floor((1-M)*v+M*A)|0}g.draw=function(){var v=[0,0,0,0];return function(){var A=this.gl,b=this.screenBox,M=this.viewBox,m=this.dataBox,S=this.pixelRatio,T=this.grid,a=this.line,E=this.text,p=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,A.bindFramebuffer(A.FRAMEBUFFER,null),A.enable(A.SCISSOR_TEST),A.disable(A.DEPTH_TEST),A.depthFunc(A.LESS),A.depthMask(!1),A.enable(A.BLEND),A.blendEquation(A.FUNC_ADD,A.FUNC_ADD),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),this.borderColor){A.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]);var k=this.borderColor;A.clearColor(k[0]*k[3],k[1]*k[3],k[2]*k[3],k[3]),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT)}A.scissor(M[0],M[1],M[2]-M[0],M[3]-M[1]),A.viewport(M[0],M[1],M[2]-M[0],M[3]-M[1]);var R=this.backgroundColor;A.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),A.clear(A.COLOR_BUFFER_BIT),T.draw();var B=this.zeroLineEnable,F=this.zeroLineColor,_=this.zeroLineWidth;if(B[0]||B[1]){a.bind();for(var O=0;O<2;++O)if(!(!B[O]||!(m[O]<=0&&m[O+2]>=0))){var z=b[O]-m[O]*(b[O+2]-b[O])/(m[O+2]-m[O]);O===0?a.drawLine(z,b[1],z,b[3],_[O],F[O]):a.drawLine(b[0],z,b[2],z,_[O],F[O])}}for(var O=0;O<p.length;++O)p[O].draw();A.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]),A.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.grid.drawTickMarks(),a.bind();var N=this.borderLineEnable,Y=this.borderLineWidth,J=this.borderLineColor;N[1]&&a.drawLine(M[0],M[1]-.5*Y[1]*S,M[0],M[3]+.5*Y[3]*S,Y[1],J[1]),N[0]&&a.drawLine(M[0]-.5*Y[0]*S,M[1],M[2]+.5*Y[2]*S,M[1],Y[0],J[0]),N[3]&&a.drawLine(M[2],M[1]-.5*Y[1]*S,M[2],M[3]+.5*Y[3]*S,Y[3],J[3]),N[2]&&a.drawLine(M[0]-.5*Y[0]*S,M[3],M[2]+.5*Y[2]*S,M[3],Y[2],J[2]),E.bind();for(var O=0;O<2;++O)E.drawTicks(O);this.titleEnable&&E.drawTitle();for(var ae=this.overlays,O=0;O<ae.length;++O)ae[O].draw();A.disable(A.SCISSOR_TEST),A.disable(A.BLEND),A.depthMask(!0)}}}(),g.drawPick=function(){return function(){if(!this.static){var v=this.pickBuffer,A=this.gl;this._pickTimeout=null,v.begin();for(var b=1,M=this.objects,m=0;m<M.length;++m)b=M[m].drawPick(b);v.end()}}}(),g.pick=function(){return function(v,A){if(!this.static){var b=this.pixelRatio,M=this.pickPixelRatio,m=this.viewBox,S=Math.round((v-m[0]/b)*M)|0,T=Math.round((A-m[1]/b)*M)|0,a=this.pickBuffer.query(S,T,this.pickRadius);if(!a)return null;for(var E=a.id+(a.value[0]<<8)+(a.value[1]<<16)+(a.value[2]<<24),p=this.objects,k=0;k<p.length;++k){var R=p[k].pick(S,T,E);if(R)return R}return null}}}();function w(v){for(var A=v.slice(),b=0;b<A.length;++b)A[b]=A[b].slice();return A}function d(v,A){return v.x-A.x}g.setScreenBox=function(v){var A=this.screenBox,b=this.pixelRatio;A[0]=Math.round(v[0]*b)|0,A[1]=Math.round(v[1]*b)|0,A[2]=Math.round(v[2]*b)|0,A[3]=Math.round(v[3]*b)|0,this.setDirty()},g.setDataBox=function(v){var A=this.dataBox,b=A[0]!==v[0]||A[1]!==v[1]||A[2]!==v[2]||A[3]!==v[3];b&&(A[0]=v[0],A[1]=v[1],A[2]=v[2],A[3]=v[3],this.setDirty())},g.setViewBox=function(v){var A=this.pixelRatio,b=this.viewBox;b[0]=Math.round(v[0]*A)|0,b[1]=Math.round(v[1]*A)|0,b[2]=Math.round(v[2]*A)|0,b[3]=Math.round(v[3]*A)|0;var M=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((v[2]-v[0])*M)|0,Math.round((v[3]-v[1])*M)|0],this.setDirty()},g.update=function(v){v=v||{};var A=this.gl;this.pixelRatio=v.pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(v.screenBox||[0,0,A.drawingBufferWidth/b,A.drawingBufferHeight/b]);var M=this.screenBox;this.setViewBox(v.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var m=this.viewBox,S=(m[2]-m[0])/(m[3]-m[1]);this.setDataBox(v.dataBox||[-10,-10/S,10,10/S]),this.borderColor=v.borderColor!==!1?(v.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(v.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(v.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(v.gridLineWidth||[1,1]).slice(),this.gridLineColor=w(v.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(v.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(v.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=w(v.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(v.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(v.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=w(v.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(v.titleCenter||[.5*(m[0]+m[2])/b,(m[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in v)||!!v.titleEnable,this.titleAngle=v.titleAngle||0,this.titleColor=(v.titleColor||[0,0,0,1]).slice(),this.labelPad=(v.labelPad||[15,15,15,15]).slice(),this.labelAngle=(v.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(v.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=w(v.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(v.tickPad||[15,15,15,15]).slice(),this.tickAngle=(v.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(v.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=w(v.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(v.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(v.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=w(v.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var T=v.ticks||[[],[]],a=this._tickBounds;a[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(var E=0;E<2;++E){var p=T[E].slice(0);p.length!==0&&(p.sort(d),a[E]=Math.min(a[E],p[0].x),a[E+2]=Math.max(a[E+2],p[p.length-1].x))}this.grid.update({bounds:a,ticks:T}),this.text.update({bounds:a,ticks:T,labels:v.labels||["x","y"],labelSize:v.labelSize||[12,12],labelFont:v.labelFont||["sans-serif","sans-serif"],title:v.title||"",titleSize:v.titleSize||18,titleFont:v.titleFont||"sans-serif"}),this.static=!!v.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var v=this.objects.length-1;v>=0;--v)this.objects[v].dispose();this.objects.length=0;for(var v=this.overlays.length-1;v>=0;--v)this.overlays[v].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(v){this.objects.indexOf(v)<0&&(this.objects.push(v),this.setDirty())},g.removeObject=function(v){for(var A=this.objects,b=0;b<A.length;++b)if(A[b]===v){A.splice(b,1),this.setDirty();break}},g.addOverlay=function(v){this.overlays.indexOf(v)<0&&(this.overlays.push(v),this.setOverlayDirty())},g.removeOverlay=function(v){for(var A=this.overlays,b=0;b<A.length;++b)if(A[b]===v){A.splice(b,1),this.setOverlayDirty();break}};function o(v){var A=v.gl,b=t(A,[A.drawingBufferWidth,A.drawingBufferHeight]),M=new f(A,b);return M.grid=s(M),M.text=n(M),M.line=u(M),M.box=l(M),M.update(v),M}},4437:function(c,y,r){"use strict";c.exports=g;var t=r(3025),s=r(6296),n=r(351),u=r(8512),l=r(24),f=r(7520);function g(h,w){h=h||document.body,w=w||{};var d=[.01,1/0];"distanceLimits"in w&&(d[0]=w.distanceLimits[0],d[1]=w.distanceLimits[1]),"zoomMin"in w&&(d[0]=w.zoomMin),"zoomMax"in w&&(d[1]=w.zoomMax);var o=s({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:d}),v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=0,b=h.clientWidth,M=h.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:o.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var S=t(),T=this.delay,a=S-2*T;o.idle(S-T),o.recalcMatrix(a),o.flush(S-(100+T*2));for(var E=!0,p=o.computedMatrix,k=0;k<16;++k)E=E&&v[k]===p[k],v[k]=p[k];var R=h.clientWidth===b&&h.clientHeight===M;return b=h.clientWidth,M=h.clientHeight,E?!R:(A=Math.exp(o.computedRadius[0]),!0)},lookAt:function(S,T,a){o.lookAt(o.lastT(),S,T,a)},rotate:function(S,T,a){o.rotate(o.lastT(),S,T,a)},pan:function(S,T,a){o.pan(o.lastT(),S,T,a)},translate:function(S,T,a){o.translate(o.lastT(),S,T,a)}};return Object.defineProperties(m,{matrix:{get:function(){return o.computedMatrix},set:function(S){return o.setMatrix(o.lastT(),S),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(S){var T=o.computedUp.slice(),a=o.computedEye.slice(),E=o.computedCenter.slice();if(o.setMode(S),S==="turntable"){var p=t();o._active.lookAt(p,a,E,T),o._active.lookAt(p+500,a,E,[0,0,1]),o._active.flush(p)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(S){return o.lookAt(o.lastT(),null,S),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(S){return o.lookAt(o.lastT(),S),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(S){return o.lookAt(o.lastT(),null,null,S),o.computedUp},enumerable:!0},distance:{get:function(){return A},set:function(S){return o.setDistance(o.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(d)},set:function(S){return o.setDistanceLimits(S),S},enumerable:!0}}),h.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(h,S),h.addEventListener("touchstart",function(T){var a=l(T.changedTouches[0],h);S(0,a[0],a[1],m._lastMods),S(1,a[0],a[1],m._lastMods)},f?{passive:!0}:!1),h.addEventListener("touchmove",function(T){var a=l(T.changedTouches[0],h);S(1,a[0],a[1],m._lastMods),T.preventDefault()},f?{passive:!1}:!1),h.addEventListener("touchend",function(T){S(0,m._lastX,m._lastY,m._lastMods)},f?{passive:!0}:!1);function S(T,a,E,p){var k=m.keyBindingMode;if(k!==!1){var R=k==="rotate",B=k==="pan",F=k==="zoom",_=!!p.control,O=!!p.alt,z=!!p.shift,N=!!(T&1),Y=!!(T&2),J=!!(T&4),ae=1/h.clientHeight,se=ae*(a-m._lastX),ue=ae*(E-m._lastY),K=m.flipX?1:-1,j=m.flipY?1:-1,ie=Math.PI*m.rotateSpeed,W=t();if(m._lastX!==-1&&m._lastY!==-1&&((R&&N&&!_&&!O&&!z||N&&!_&&!O&&z)&&o.rotate(W,K*ie*se,-j*ie*ue,0),(B&&N&&!_&&!O&&!z||Y||N&&_&&!O&&!z)&&o.pan(W,-m.translateSpeed*se*A,m.translateSpeed*ue*A,0),F&&N&&!_&&!O&&!z||J||N&&!_&&O&&!z)){var Q=-m.zoomSpeed*ue/window.innerHeight*(W-o.lastT())*100;o.pan(W,0,0,A*(Math.exp(Q)-1))}return m._lastX=a,m._lastY=E,m._lastMods=p,!0}}m.wheelListener=u(h,function(T,a){if(m.keyBindingMode!==!1&&m.enableWheel){var E=m.flipX?1:-1,p=m.flipY?1:-1,k=t();if(Math.abs(T)>Math.abs(a))o.rotate(k,0,0,-T*E*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var R=-m.zoomSpeed*p*a/window.innerHeight*(k-o.lastT())/20;o.pan(k,0,0,A*(Math.exp(R)-1))}}},!0)},m.enableMouseListeners(),m}},799:function(c,y,r){var t=r(3236),s=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);c.exports=function(l){return s(l,n,u,null,[{name:"position",type:"vec2"}])}},4100:function(c,y,r){"use strict";var t=r(4437),s=r(3837),n=r(5445),u=r(4449),l=r(3589),f=r(2260),g=r(7169),h=r(351),w=r(4772),d=r(4040),o=r(799),v=r(9216)({tablet:!0,featureDetect:!0});c.exports={createScene:S,createCamera:t};function A(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(a,E){var p=null;try{p=a.getContext("webgl",E),p||(p=a.getContext("experimental-webgl",E))}catch(k){return null}return p}function M(a){var E=Math.round(Math.log(Math.abs(a))/Math.log(10));if(E<0){var p=Math.round(Math.pow(10,-E));return Math.ceil(a*p)/p}else if(E>0){var p=Math.round(Math.pow(10,E));return Math.ceil(a/p)*p}return Math.ceil(a)}function m(a){return typeof a=="boolean"?a:!0}function S(a){a=a||{},a.camera=a.camera||{};var E=a.canvas;if(!E)if(E=document.createElement("canvas"),a.container){var p=a.container;p.appendChild(E)}else document.body.appendChild(E);var k=a.gl;if(k||(a.glOptions&&(v=!!a.glOptions.preserveDrawingBuffer),k=b(E,a.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:v})),!k)throw new Error("webgl not supported");var R=a.bounds||[[-10,-10,-10],[10,10,10]],B=new A,F=f(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!v}),_=o(k),O=a.cameraObject&&a.cameraObject._ortho===!0||a.camera.projection&&a.camera.projection.type==="orthographic"||!1,z={eye:a.camera.eye||[2,0,0],center:a.camera.center||[0,0,0],up:a.camera.up||[0,1,0],zoomMin:a.camera.zoomMax||.1,zoomMax:a.camera.zoomMin||100,mode:a.camera.mode||"turntable",_ortho:O},N=a.axes||{},Y=s(k,N);Y.enable=!N.disable;var J=a.spikes||{},ae=u(k,J),se=[],ue=[],K=[],j=[],ie=!0,$=!0,W=new Array(16),Q=new Array(16),ee={view:null,projection:W,model:Q,_ortho:!1},$=!0,X=[k.drawingBufferWidth,k.drawingBufferHeight],oe=a.cameraObject||t(E,z),te={gl:k,contextLost:!1,pixelRatio:a.pixelRatio||1,canvas:E,selection:B,camera:oe,axes:Y,axesPixels:null,spikes:ae,bounds:R,objects:se,shape:X,aspect:a.aspectRatio||[1,1,1],pickRadius:a.pickRadius||10,zNear:a.zNear||.01,zFar:a.zFar||1e3,fovy:a.fovy||Math.PI/4,clearColor:a.clearColor||[0,0,0,0],autoResize:m(a.autoResize),autoBounds:m(a.autoBounds),autoScale:!!a.autoScale,autoCenter:m(a.autoCenter),clipToBounds:m(a.clipToBounds),snapToData:!!a.snapToData,onselect:a.onselect||null,onrender:a.onrender||null,onclick:a.onclick||null,cameraParams:ee,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ve){this.aspect[0]=Ve.x,this.aspect[1]=Ve.y,this.aspect[2]=Ve.z,$=!0},setBounds:function(Ve,Ze){this.bounds[0][Ve]=Ze.min,this.bounds[1][Ve]=Ze.max},setClearColor:function(Ve){this.clearColor=Ve},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[k.drawingBufferWidth/te.pixelRatio|0,k.drawingBufferHeight/te.pixelRatio|0];function pe(){if(!te._stopped&&te.autoResize){var Ve=E.parentNode,Ze=1,ke=1;Ve&&Ve!==document.body?(Ze=Ve.clientWidth,ke=Ve.clientHeight):(Ze=window.innerWidth,ke=window.innerHeight);var Ye=Math.ceil(Ze*te.pixelRatio)|0,lt=Math.ceil(ke*te.pixelRatio)|0;if(Ye!==E.width||lt!==E.height){E.width=Ye,E.height=lt;var yt=E.style;yt.position=yt.position||"absolute",yt.left="0px",yt.top="0px",yt.width=Ze+"px",yt.height=ke+"px",ie=!0}}}te.autoResize&&pe(),window.addEventListener("resize",pe);function Ae(){for(var Ve=se.length,Ze=j.length,ke=0;ke<Ze;++ke)K[ke]=0;e:for(var ke=0;ke<Ve;++ke){var Ye=se[ke],lt=Ye.pickSlots;if(!lt){ue[ke]=-1;continue}for(var yt=0;yt<Ze;++yt)if(K[yt]+lt<255){ue[ke]=yt,Ye.setPickBase(K[yt]+1),K[yt]+=lt;continue e}var He=l(k,X);ue[ke]=Ze,j.push(He),K.push(lt),Ye.setPickBase(1),Ze+=1}for(;Ze>0&&K[Ze-1]===0;)K.pop(),j.pop().dispose()}te.update=function(Ve){te._stopped||(Ve=Ve||{},ie=!0,$=!0)},te.add=function(Ve){te._stopped||(Ve.axes=Y,se.push(Ve),ue.push(-1),ie=!0,$=!0,Ae())},te.remove=function(Ve){if(!te._stopped){var Ze=se.indexOf(Ve);Ze<0||(se.splice(Ze,1),ue.pop(),ie=!0,$=!0,Ae())}},te.dispose=function(){if(!te._stopped&&(te._stopped=!0,window.removeEventListener("resize",pe),E.removeEventListener("webglcontextlost",be),te.mouseListener.enabled=!1,!te.contextLost)){Y.dispose(),ae.dispose();for(var Ve=0;Ve<se.length;++Ve)se[Ve].dispose();F.dispose();for(var Ve=0;Ve<j.length;++Ve)j[Ve].dispose();_.dispose(),k=null,Y=null,ae=null,se=[]}},te._mouseRotating=!1,te._prevButtons=0,te.enableMouseListeners=function(){te.mouseListener=h(E,function(Ve,Ze,ke){if(!te._stopped){var Ye=j.length,lt=se.length,yt=B.object;B.distance=1/0,B.mouse[0]=Ze,B.mouse[1]=ke,B.object=null,B.screen=null,B.dataCoordinate=B.dataPosition=null;var He=!1;if(Ve&&te._prevButtons)te._mouseRotating=!0;else{te._mouseRotating&&($=!0),te._mouseRotating=!1;for(var Fe=0;Fe<Ye;++Fe){var nt=j[Fe].query(Ze,fe[1]-ke-1,te.pickRadius);if(nt){if(nt.distance>B.distance)continue;for(var ot=0;ot<lt;++ot){var ct=se[ot];if(ue[ot]===Fe){var ht=ct.pick(nt);ht&&(B.buttons=Ve,B.screen=nt.coord,B.distance=nt.distance,B.object=ct,B.index=ht.distance,B.dataPosition=ht.position,B.dataCoordinate=ht.dataCoordinate,B.data=ht,He=!0)}}}}}yt&&yt!==B.object&&(yt.highlight&&yt.highlight(null),ie=!0),B.object&&(B.object.highlight&&B.object.highlight(B.data),ie=!0),He=He||B.object!==yt,He&&te.onselect&&te.onselect(B),Ve&1&&!(te._prevButtons&1)&&te.onclick&&te.onclick(B),te._prevButtons=Ve}})};function be(){if(te.contextLost)return!0;k.isContextLost()&&(te.contextLost=!0,te.mouseListener.enabled=!1,te.selection.object=null,te.oncontextloss&&te.oncontextloss())}E.addEventListener("webglcontextlost",be);function Pe(){if(!be()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ve=se.length,Ze=j.length,ke=0;ke<Ze;++ke){var Ye=j[ke];Ye.shape=fe,Ye.begin();for(var lt=0;lt<Ve;++lt)if(ue[lt]===ke){var yt=se[lt];yt.drawPick&&(yt.pixelRatio=1,yt.drawPick(ee))}Ye.end()}}}var me=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[me[0].slice(),me[1].slice()];function xe(){if(!be()){pe();var Ve=te.camera.tick();ee.view=te.camera.matrix,ie=ie||Ve,$=$||Ve,Y.pixelRatio=te.pixelRatio,ae.pixelRatio=te.pixelRatio;var Ze=se.length,ke=me[0],Ye=me[1];ke[0]=ke[1]=ke[2]=1/0,Ye[0]=Ye[1]=Ye[2]=-1/0;for(var lt=0;lt<Ze;++lt){var yt=se[lt];yt.pixelRatio=te.pixelRatio,yt.axes=te.axes,ie=ie||!!yt.dirty,$=$||!!yt.dirty;var He=yt.bounds;if(He)for(var Fe=He[0],nt=He[1],ot=0;ot<3;++ot)ke[ot]=Math.min(ke[ot],Fe[ot]),Ye[ot]=Math.max(Ye[ot],nt[ot])}var ct=te.bounds;if(te.autoBounds)for(var ot=0;ot<3;++ot){if(Ye[ot]<ke[ot])ke[ot]=-1,Ye[ot]=1;else{ke[ot]===Ye[ot]&&(ke[ot]-=1,Ye[ot]+=1);var ht=.05*(Ye[ot]-ke[ot]);ke[ot]=ke[ot]-ht,Ye[ot]=Ye[ot]+ht}ct[0][ot]=ke[ot],ct[1][ot]=Ye[ot]}for(var mt=!1,ot=0;ot<3;++ot)mt=mt||Ee[0][ot]!==ct[0][ot]||Ee[1][ot]!==ct[1][ot],Ee[0][ot]=ct[0][ot],Ee[1][ot]=ct[1][ot];if($=$||mt,ie=ie||mt,!!ie){if(mt){for(var tt=[0,0,0],lt=0;lt<3;++lt)tt[lt]=M((ct[1][lt]-ct[0][lt])/10);Y.autoTicks?Y.update({bounds:ct,tickSpacing:tt}):Y.update({bounds:ct})}var Re=k.drawingBufferWidth,Ge=k.drawingBufferHeight;X[0]=Re,X[1]=Ge,fe[0]=Math.max(Re/te.pixelRatio,1)|0,fe[1]=Math.max(Ge/te.pixelRatio,1)|0,T(te,O);for(var lt=0;lt<Ze;++lt){var yt=se[lt];yt.axesBounds=ct,te.clipToBounds&&(yt.clipBounds=ct)}B.object&&(te.snapToData?ae.position=B.dataCoordinate:ae.position=B.dataPosition,ae.bounds=ct),$&&($=!1,Pe()),te.axesPixels=n(te.axes,ee,Re,Ge),te.onrender&&te.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Re,Ge),te.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Je=!1;Y.enable&&(Je=Je||Y.isTransparent(),Y.draw(ee)),ae.axes=Y,B.object&&ae.draw(ee),k.disable(k.CULL_FACE);for(var lt=0;lt<Ze;++lt){var yt=se[lt];yt.axes=Y,yt.pixelRatio=te.pixelRatio,yt.isOpaque&&yt.isOpaque()&&yt.draw(ee),yt.isTransparent&&yt.isTransparent()&&(Je=!0)}if(Je){F.shape=X,F.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(ee);for(var lt=0;lt<Ze;++lt){var yt=se[lt];yt.isOpaque&&yt.isOpaque()&&yt.draw(ee)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(ee);for(var lt=0;lt<Ze;++lt){var yt=se[lt];yt.isTransparent&&yt.isTransparent()&&yt.drawTransparent(ee)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),_.bind(),F.color[0].bind(0),_.uniforms.accumBuffer=0,g(k),k.disable(k.BLEND)}ie=!1;for(var lt=0;lt<Ze;++lt)se[lt].dirty=!1}}}function De(){te._stopped||te.contextLost||(xe(),requestAnimationFrame(De))}return te.enableMouseListeners(),De(),te.redraw=function(){te._stopped||(ie=!0,xe())},te}function T(a,E){var p=a.bounds,k=a.cameraParams,R=k.projection,B=k.model,F=a.gl.drawingBufferWidth,_=a.gl.drawingBufferHeight,O=a.zNear,z=a.zFar,N=a.fovy,Y=F/_;E?(d(R,-Y,Y,-1,1,O,z),k._ortho=!0):(w(R,N,Y,O,z),k._ortho=!1);for(var J=0;J<16;++J)B[J]=0;B[15]=1;for(var ae=0,J=0;J<3;++J)ae=Math.max(ae,p[1][J]-p[0][J]);for(var J=0;J<3;++J)a.autoScale?B[5*J]=a.aspect[J]/(p[1][J]-p[0][J]):B[5*J]=1/ae,a.autoCenter&&(B[12+J]=-B[5*J]*.5*(p[0][J]+p[1][J]))}},6640:function(c,y,r){var t=r(3236);y.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),y.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),y.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),y.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(c,y,r){"use strict";var t=r(9405),s=r(2762),n=r(1888),u=r(6640);c.exports=h;function l(w,d,o,v,A){this.plot=w,this.offsetBuffer=d,this.pickBuffer=o,this.shader=v,this.pickShader=A,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var f=l.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},f.update=function(w){var d;w=w||{};function o(T,a){return T in w?w[T]:a}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var v=w.positions.length>>>1,A=w.positions instanceof Float32Array,b=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=v,M=w.positions,m=A?M:n.mallocFloat32(M.length),S=b?w.idToIndex:n.mallocInt32(v);if(A||m.set(M),!b)for(m.set(M),d=0;d<v;d++)S[d]=d;this.points=M,this.offsetBuffer.update(m),this.pickBuffer.update(S),A||n.free(m),b||n.free(S),this.pointCount=v,this.pickOffset=0};function g(w,d){var o=0,v=w.length>>>1,A;for(A=0;A<v;A++){var b=w[A*2],M=w[A*2+1];b>=d[0]&&b<=d[2]&&M>=d[1]&&M<=d[3]&&o++}return o}f.unifiedDraw=function(){var w=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(o){var v=o!==void 0,A=v?this.pickShader:this.shader,b=this.plot.gl,M=this.plot.dataBox;if(this.pointCount===0)return o;var m=M[2]-M[0],S=M[3]-M[1],T=g(this.points,M),a=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(T,.33333)));w[0]=2/m,w[4]=2/S,w[6]=-2*M[0]/m-1,w[7]=-2*M[1]/S-1,this.offsetBuffer.bind(),A.bind(),A.attributes.position.pointer(),A.uniforms.matrix=w,A.uniforms.color=this.color,A.uniforms.borderColor=this.borderColor,A.uniforms.pointCloud=a<5,A.uniforms.pointSize=a,A.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),v&&(d[0]=o&255,d[1]=o>>8&255,d[2]=o>>16&255,d[3]=o>>24&255,this.pickBuffer.bind(),A.attributes.pickId.pointer(b.UNSIGNED_BYTE),A.uniforms.pickOffset=d,this.pickOffset=o);var E=b.getParameter(b.BLEND),p=b.getParameter(b.DITHER);return E&&!this.blend&&b.disable(b.BLEND),p&&b.disable(b.DITHER),b.drawArrays(b.POINTS,0,this.pointCount),E&&!this.blend&&b.enable(b.BLEND),p&&b.enable(b.DITHER),o+this.pointCount}}(),f.draw=f.unifiedDraw,f.drawPick=f.unifiedDraw,f.pick=function(w,d,o){var v=this.pickOffset,A=this.pointCount;if(o<v||o>=v+A)return null;var b=o-v,M=this.points;return{object:this,pointId:b,dataCoord:[M[2*b],M[2*b+1]]}};function h(w,d){var o=w.gl,v=s(o),A=s(o),b=t(o,u.pointVertex,u.pointFragment),M=t(o,u.pickVertex,u.pickFragment),m=new l(w,v,A,b,M);return m.update(d),w.addObject(m),m}},783:function(c){c.exports=y;function y(r,t,s,n){var u=t[0],l=t[1],f=t[2],g=t[3],h=s[0],w=s[1],d=s[2],o=s[3],v,A,b,M,m;return A=u*h+l*w+f*d+g*o,A<0&&(A=-A,h=-h,w=-w,d=-d,o=-o),1-A>1e-6?(v=Math.acos(A),b=Math.sin(v),M=Math.sin((1-n)*v)/b,m=Math.sin(n*v)/b):(M=1-n,m=n),r[0]=M*u+m*h,r[1]=M*l+m*w,r[2]=M*f+m*d,r[3]=M*g+m*o,r}},5964:function(c){"use strict";c.exports=function(y){return!y&&y!==0?"":y.toString()}},9366:function(c,y,r){"use strict";var t=r(4359);c.exports=n;var s={};function n(u,l,f){var g=s[l];if(g||(g=s[l]={}),u in g)return g[u];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var w=t(u,h);h.triangles=!1;var d=t(u,h),o,v;if(f&&f!==1){for(o=0;o<w.positions.length;++o)for(v=0;v<w.positions[o].length;++v)w.positions[o][v]/=f;for(o=0;o<d.positions.length;++o)for(v=0;v<d.positions[o].length;++v)d.positions[o][v]/=f}var A=[[1/0,1/0],[-1/0,-1/0]],b=d.positions.length;for(o=0;o<b;++o){var M=d.positions[o];for(v=0;v<2;++v)A[0][v]=Math.min(A[0][v],M[v]),A[1][v]=Math.max(A[1][v],M[v])}return g[u]=[w,d,A]}},1283:function(c,y,r){var t=r(9405),s=r(3236),n=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),g=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:n,fragment:f,attributes:h},d={vertex:u,fragment:f,attributes:h},o={vertex:l,fragment:f,attributes:h},v={vertex:n,fragment:g,attributes:h},A={vertex:u,fragment:g,attributes:h},b={vertex:l,fragment:g,attributes:h};function M(m,S){var T=t(m,S),a=T.attributes;return a.position.location=0,a.color.location=1,a.glyph.location=2,a.id.location=3,T}y.createPerspective=function(m){return M(m,w)},y.createOrtho=function(m){return M(m,d)},y.createProject=function(m){return M(m,o)},y.createPickPerspective=function(m){return M(m,v)},y.createPickOrtho=function(m){return M(m,A)},y.createPickProject=function(m){return M(m,b)}},8418:function(c,y,r){"use strict";var t=r(5219),s=r(2762),n=r(8116),u=r(1888),l=r(6760),f=r(1283),g=r(9366),h=r(5964),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];c.exports=ue;function d(K,j){var ie=K[0],W=K[1],Q=K[2],ee=K[3];return K[0]=j[0]*ie+j[4]*W+j[8]*Q+j[12]*ee,K[1]=j[1]*ie+j[5]*W+j[9]*Q+j[13]*ee,K[2]=j[2]*ie+j[6]*W+j[10]*Q+j[14]*ee,K[3]=j[3]*ie+j[7]*W+j[11]*Q+j[15]*ee,K}function o(K,j,ie,W){return d(W,W,ie),d(W,W,j),d(W,W,K)}function v(K,j){this.index=K,this.dataCoordinate=this.position=j}function A(K){return K===!0||K>1?1:K}function b(K,j,ie,W,Q,ee,$,X,oe,te,fe,pe){this.gl=K,this.pixelRatio=1,this.shader=j,this.orthoShader=ie,this.projectShader=W,this.pointBuffer=Q,this.colorBuffer=ee,this.glyphBuffer=$,this.idBuffer=X,this.vao=oe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=te,this.pickOrthoShader=fe,this.pickProjectShader=pe,this.points=[],this._selectResult=new v(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var M=b.prototype;M.pickSlots=1,M.setPickBase=function(K){this.pickId=K},M.isTransparent=function(){if(this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&this.projectHasAlpha)return!0;return!1},M.isOpaque=function(){if(!this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],S=[0,0,0],T=[0,0,0],a=[0,0,0,1],E=[0,0,0,1],p=w.slice(),k=[0,0,0],R=[[0,0,0],[0,0,0]];function B(K){return K[0]=K[1]=K[2]=0,K}function F(K,j){return K[0]=j[0],K[1]=j[1],K[2]=j[2],K[3]=1,K}function _(K,j,ie,W){return K[0]=j[0],K[1]=j[1],K[2]=j[2],K[ie]=W,K}function O(K){for(var j=R,ie=0;ie<2;++ie)for(var W=0;W<3;++W)j[ie][W]=Math.max(Math.min(K[ie][W],1e8),-1e8);return j}function z(K,j,ie,W){var Q=j.axesProject,ee=j.gl,$=K.uniforms,X=ie.model||w,oe=ie.view||w,te=ie.projection||w,fe=j.axesBounds,pe=O(j.clipBounds),Ae;j.axes&&j.axes.lastCubeProps?Ae=j.axes.lastCubeProps.axis:Ae=[1,1,1],m[0]=2/ee.drawingBufferWidth,m[1]=2/ee.drawingBufferHeight,K.bind(),$.view=oe,$.projection=te,$.screenSize=m,$.highlightId=j.highlightId,$.highlightScale=j.highlightScale,$.clipBounds=pe,$.pickGroup=j.pickId/255,$.pixelRatio=W;for(var be=0;be<3;++be)if(Q[be]){$.scale=j.projectScale[be],$.opacity=j.projectOpacity[be];for(var Pe=p,me=0;me<16;++me)Pe[me]=0;for(var me=0;me<4;++me)Pe[5*me]=1;Pe[5*be]=0,Ae[be]<0?Pe[12+be]=fe[0][be]:Pe[12+be]=fe[1][be],l(Pe,X,Pe),$.model=Pe;var Ee=(be+1)%3,xe=(be+2)%3,De=B(S),Ve=B(T);De[Ee]=1,Ve[xe]=1;var Ze=o(te,oe,X,F(a,De)),ke=o(te,oe,X,F(E,Ve));if(Math.abs(Ze[1])>Math.abs(ke[1])){var Ye=Ze;Ze=ke,ke=Ye,Ye=De,De=Ve,Ve=Ye;var lt=Ee;Ee=xe,xe=lt}Ze[0]<0&&(De[Ee]=-1),ke[1]>0&&(Ve[xe]=-1);for(var yt=0,He=0,me=0;me<4;++me)yt+=Math.pow(X[4*Ee+me],2),He+=Math.pow(X[4*xe+me],2);De[Ee]/=Math.sqrt(yt),Ve[xe]/=Math.sqrt(He),$.axes[0]=De,$.axes[1]=Ve,$.fragClipBounds[0]=_(k,pe[0],be,-1e8),$.fragClipBounds[1]=_(k,pe[1],be,1e8),j.vao.bind(),j.vao.draw(ee.TRIANGLES,j.vertexCount),j.lineWidth>0&&(ee.lineWidth(j.lineWidth*W),j.vao.draw(ee.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}var N=[-1e8,-1e8,-1e8],Y=[1e8,1e8,1e8],J=[N,Y];function ae(K,j,ie,W,Q,ee,$){var X=ie.gl;if((ee===ie.projectHasAlpha||$)&&z(j,ie,W,Q),ee===ie.hasAlpha||$){K.bind();var oe=K.uniforms;oe.model=W.model||w,oe.view=W.view||w,oe.projection=W.projection||w,m[0]=2/X.drawingBufferWidth,m[1]=2/X.drawingBufferHeight,oe.screenSize=m,oe.highlightId=ie.highlightId,oe.highlightScale=ie.highlightScale,oe.fragClipBounds=J,oe.clipBounds=ie.axes.bounds,oe.opacity=ie.opacity,oe.pickGroup=ie.pickId/255,oe.pixelRatio=Q,ie.vao.bind(),ie.vao.draw(X.TRIANGLES,ie.vertexCount),ie.lineWidth>0&&(X.lineWidth(ie.lineWidth*Q),ie.vao.draw(X.LINES,ie.lineVertexCount,ie.vertexCount)),ie.vao.unbind()}}M.draw=function(K){var j=this.useOrtho?this.orthoShader:this.shader;ae(j,this.projectShader,this,K,this.pixelRatio,!1,!1)},M.drawTransparent=function(K){var j=this.useOrtho?this.orthoShader:this.shader;ae(j,this.projectShader,this,K,this.pixelRatio,!0,!1)},M.drawPick=function(K){var j=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ae(j,this.pickProjectShader,this,K,1,!0,!0)},M.pick=function(K){if(!K||K.id!==this.pickId)return null;var j=K.value[2]+(K.value[1]<<8)+(K.value[0]<<16);if(j>=this.pointCount||j<0)return null;var ie=this.points[j],W=this._selectResult;W.index=j;for(var Q=0;Q<3;++Q)W.position[Q]=W.dataCoordinate[Q]=ie[Q];return W},M.highlight=function(K){if(!K)this.highlightId=[1,1,1,1];else{var j=K.index,ie=j&255,W=j>>8&255,Q=j>>16&255;this.highlightId=[ie/255,W/255,Q/255,0]}};function se(K,j,ie,W){var Q;Array.isArray(K)?j<K.length?Q=K[j]:Q=void 0:Q=K,Q=h(Q);var ee=!0;t(Q)&&(Q="\u25BC",ee=!1);var $=g(Q,ie,W);return{mesh:$[0],lines:$[1],bounds:$[2],visible:ee}}M.update=function(K){if(K=K||{},"perspective"in K&&(this.useOrtho=!K.perspective),"orthographic"in K&&(this.useOrtho=!!K.orthographic),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"project"in K)if(Array.isArray(K.project))this.axesProject=K.project;else{var j=!!K.project;this.axesProject=[j,j,j]}if("projectScale"in K)if(Array.isArray(K.projectScale))this.projectScale=K.projectScale.slice();else{var ie=+K.projectScale;this.projectScale=[ie,ie,ie]}if(this.projectHasAlpha=!1,"projectOpacity"in K){if(Array.isArray(K.projectOpacity))this.projectOpacity=K.projectOpacity.slice();else{var ie=+K.projectOpacity;this.projectOpacity=[ie,ie,ie]}for(var W=0;W<3;++W)this.projectOpacity[W]=A(this.projectOpacity[W]),this.projectOpacity[W]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in K&&(this.opacity=A(K.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Q=K.position,ee=K.font||"normal",$=K.alignment||[0,0],X,oe;if($.length===2)X=$[0],oe=$[1];else{X=[],oe=[];for(var W=0;W<$.length;++W)X[W]=$[W][0],oe[W]=$[W][1]}var te=[1/0,1/0,1/0],fe=[-1/0,-1/0,-1/0],pe=K.glyph,Ae=K.color,be=K.size,Pe=K.angle,me=K.lineColor,Ee=-1,xe=0,De=0,Ve=0;if(Q.length){Ve=Q.length;e:for(var W=0;W<Ve;++W){for(var Ze=Q[W],ke=0;ke<3;++ke)if(isNaN(Ze[ke])||!isFinite(Ze[ke]))continue e;var Ye=se(pe,W,ee,this.pixelRatio),lt=Ye.mesh,yt=Ye.lines,He=Ye.bounds;xe+=lt.cells.length*3,De+=yt.edges.length*2}}var Fe=xe+De,nt=u.mallocFloat(3*Fe),ot=u.mallocFloat(4*Fe),ct=u.mallocFloat(2*Fe),ht=u.mallocUint32(Fe);if(Fe>0){var mt=0,tt=xe,Re=[0,0,0,1],Ge=[0,0,0,1],Je=Array.isArray(Ae)&&Array.isArray(Ae[0]),Xe=Array.isArray(me)&&Array.isArray(me[0]);e:for(var W=0;W<Ve;++W){Ee+=1;for(var Ze=Q[W],ke=0;ke<3;++ke){if(isNaN(Ze[ke])||!isFinite(Ze[ke]))continue e;fe[ke]=Math.max(fe[ke],Ze[ke]),te[ke]=Math.min(te[ke],Ze[ke])}var Ye=se(pe,W,ee,this.pixelRatio),lt=Ye.mesh,yt=Ye.lines,He=Ye.bounds,Oe=Ye.visible;if(!Oe)Re=[1,1,1,0];else if(Array.isArray(Ae)){var Ne;if(Je?W<Ae.length?Ne=Ae[W]:Ne=[0,0,0,0]:Ne=Ae,Ne.length===3){for(var ke=0;ke<3;++ke)Re[ke]=Ne[ke];Re[3]=1}else if(Ne.length===4){for(var ke=0;ke<4;++ke)Re[ke]=Ne[ke];!this.hasAlpha&&Ne[3]<1&&(this.hasAlpha=!0)}}else Re[0]=Re[1]=Re[2]=0,Re[3]=1;if(!Oe)Ge=[1,1,1,0];else if(Array.isArray(me)){var Ne;if(Xe?W<me.length?Ne=me[W]:Ne=[0,0,0,0]:Ne=me,Ne.length===3){for(var ke=0;ke<3;++ke)Ge[ke]=Ne[ke];Ge[ke]=1}else if(Ne.length===4){for(var ke=0;ke<4;++ke)Ge[ke]=Ne[ke];!this.hasAlpha&&Ne[3]<1&&(this.hasAlpha=!0)}}else Ge[0]=Ge[1]=Ge[2]=0,Ge[3]=1;var ze=.5;Oe?Array.isArray(be)?W<be.length?ze=+be[W]:ze=12:be?ze=+be:this.useOrtho&&(ze=12):ze=0;var et=0;Array.isArray(Pe)?W<Pe.length?et=+Pe[W]:et=0:Pe&&(et=+Pe);for(var Le=Math.cos(et),Te=Math.sin(et),Ze=Q[W],ke=0;ke<3;++ke)fe[ke]=Math.max(fe[ke],Ze[ke]),te[ke]=Math.min(te[ke],Ze[ke]);var ye=X,Se=oe,ye=0;Array.isArray(X)?W<X.length?ye=X[W]:ye=0:X&&(ye=X);var Se=0;Array.isArray(oe)?W<oe.length?Se=oe[W]:Se=0:oe&&(Se=oe),ye*=ye>0?1-He[0][0]:ye<0?1+He[1][0]:1,Se*=Se>0?1-He[0][1]:Se<0?1+He[1][1]:1;for(var Ke=[ye,Se],Et=lt.cells||[],Wt=lt.positions||[],ke=0;ke<Et.length;++ke)for(var rt=Et[ke],Lt=0;Lt<3;++Lt){for(var It=0;It<3;++It)nt[3*mt+It]=Ze[It];for(var It=0;It<4;++It)ot[4*mt+It]=Re[It];ht[mt]=Ee;var wt=Wt[rt[Lt]];ct[2*mt]=ze*(Le*wt[0]-Te*wt[1]+Ke[0]),ct[2*mt+1]=ze*(Te*wt[0]+Le*wt[1]+Ke[1]),mt+=1}for(var Et=yt.edges,Wt=yt.positions,ke=0;ke<Et.length;++ke)for(var rt=Et[ke],Lt=0;Lt<2;++Lt){for(var It=0;It<3;++It)nt[3*tt+It]=Ze[It];for(var It=0;It<4;++It)ot[4*tt+It]=Ge[It];ht[tt]=Ee;var wt=Wt[rt[Lt]];ct[2*tt]=ze*(Le*wt[0]-Te*wt[1]+Ke[0]),ct[2*tt+1]=ze*(Te*wt[0]+Le*wt[1]+Ke[1]),tt+=1}}}this.bounds=[te,fe],this.points=Q,this.pointCount=Q.length,this.vertexCount=xe,this.lineVertexCount=De,this.pointBuffer.update(nt),this.colorBuffer.update(ot),this.glyphBuffer.update(ct),this.idBuffer.update(ht),u.free(nt),u.free(ot),u.free(ct),u.free(ht)},M.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ue(K){var j=K.gl,ie=f.createPerspective(j),W=f.createOrtho(j),Q=f.createProject(j),ee=f.createPickPerspective(j),$=f.createPickOrtho(j),X=f.createPickProject(j),oe=s(j),te=s(j),fe=s(j),pe=s(j),Ae=n(j,[{buffer:oe,size:3,type:j.FLOAT},{buffer:te,size:4,type:j.FLOAT},{buffer:fe,size:2,type:j.FLOAT},{buffer:pe,size:4,type:j.UNSIGNED_BYTE,normalized:!0}]),be=new b(j,ie,W,Q,oe,te,fe,pe,Ae,ee,$,X);return be.update(K),be}},4298:function(c,y,r){"use strict";var t=r(3236);y.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),y.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(c,y,r){"use strict";var t=r(9405),s=r(2762),n=r(4298);c.exports=f;function u(g,h,w){this.plot=g,this.boxBuffer=h,this.boxShader=w,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var l=u.prototype;l.draw=function(){if(this.enabled){var g=this.plot,h=this.selectBox,w=this.borderWidth,d=this.innerFill,o=this.innerColor,v=this.outerFill,A=this.outerColor,b=this.borderColor,M=g.box,m=g.screenBox,S=g.dataBox,T=g.viewBox,a=g.pixelRatio,E=(h[0]-S[0])*(T[2]-T[0])/(S[2]-S[0])+T[0],p=(h[1]-S[1])*(T[3]-T[1])/(S[3]-S[1])+T[1],k=(h[2]-S[0])*(T[2]-T[0])/(S[2]-S[0])+T[0],R=(h[3]-S[1])*(T[3]-T[1])/(S[3]-S[1])+T[1];if(E=Math.max(E,T[0]),p=Math.max(p,T[1]),k=Math.min(k,T[2]),R=Math.min(R,T[3]),!(k<E||R<p)){M.bind();var B=m[2]-m[0],F=m[3]-m[1];if(this.outerFill&&(M.drawBox(0,0,B,p,A),M.drawBox(0,p,E,R,A),M.drawBox(0,R,B,F,A),M.drawBox(k,p,B,R,A)),this.innerFill&&M.drawBox(E,p,k,R,o),w>0){var _=w*a;M.drawBox(E-_,p-_,k+_,p+_,b),M.drawBox(E-_,R-_,k+_,R+_,b),M.drawBox(E-_,p-_,E+_,R+_,b),M.drawBox(k-_,p-_,k+_,R+_,b)}}}},l.update=function(g){g=g||{},this.innerFill=!!g.innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function f(g,h){var w=g.gl,d=s(w,[0,0,0,1,1,0,1,1]),o=t(w,n.boxVertex,n.boxFragment),v=new u(g,d,o);return v.update(h),g.addOverlay(v),v}},3589:function(c,y,r){"use strict";c.exports=w;var t=r(2260),s=r(1888),n=r(9618),u=r(8828).nextPow2,l=function(d,o,v){for(var A=1e8,b=-1,M=-1,m=d.shape[0],S=d.shape[1],T=0;T<m;T++)for(var a=0;a<S;a++){var E=d.get(T,a,0),p=d.get(T,a,1),k=d.get(T,a,2),R=d.get(T,a,3);if(E<255||p<255||k<255||R<255){var B=o-T,F=v-a,_=B*B+F*F;_<A&&(A=_,b=T,M=a)}}return[b,M,A]};function f(d,o,v,A,b){this.coord=[d,o],this.id=v,this.value=A,this.distance=b}function g(d,o,v){this.gl=d,this.fbo=o,this.buffer=v,this._readTimeout=null;var A=this;this._readCallback=function(){A.gl&&(o.bind(),d.readPixels(0,0,o.shape[0],o.shape[1],d.RGBA,d.UNSIGNED_BYTE,A.buffer),A._readTimeout=null)}}var h=g.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(d){if(this.gl){this.fbo.shape=d;var o=this.fbo.shape[0],v=this.fbo.shape[1];if(v*o*4>this.buffer.length){s.free(this.buffer);for(var A=this.buffer=s.mallocUint8(u(v*o*4)),b=0;b<v*o*4;++b)A[b]=255}return d}}}),h.begin=function(){var d=this.gl,o=this.shape;d&&(this.fbo.bind(),d.clearColor(1,1,1,1),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT))},h.end=function(){var d=this.gl;d&&(d.bindFramebuffer(d.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(d,o,v){if(!this.gl)return null;var A=this.fbo.shape.slice();d=d|0,o=o|0,typeof v!="number"&&(v=1);var b=Math.min(Math.max(d-v,0),A[0])|0,M=Math.min(Math.max(d+v,0),A[0])|0,m=Math.min(Math.max(o-v,0),A[1])|0,S=Math.min(Math.max(o+v,0),A[1])|0;if(M<=b||S<=m)return null;var T=[M-b,S-m],a=n(this.buffer,[T[0],T[1],4],[4,A[0]*4,1],4*(b+A[0]*m)),E=l(a.hi(T[0],T[1],1),v,v),p=E[0],k=E[1];if(p<0||Math.pow(this.radius,2)<E[2])return null;var R=a.get(p,k,0),B=a.get(p,k,1),F=a.get(p,k,2),_=a.get(p,k,3);return new f(p+b|0,k+m|0,R,[B,F,_],Math.sqrt(E[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(d,o){var v=o[0],A=o[1],b={},M=t(d,v,A,b),m=s.mallocUint8(v*A*4);return new g(d,M,m)}},9405:function(c,y,r){"use strict";var t=r(3327),s=r(8731),n=r(216),u=r(5091),l=r(2145),f=r(8866);function g(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=g.prototype;h.bind=function(){this.program||this._relink();var o,v=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),A=this.gl.lastAttribCount;if(v>A)for(o=A;o<v;o++)this.gl.enableVertexAttribArray(o);else if(A>v)for(o=v;o<A;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=v,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,v=0;v<o;v++)this.gl.disableVertexAttribArray(v);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(o,v){return o.name<v.name?-1:1}h.update=function(o,v,A,b){if(!v||arguments.length===1){var M=o;o=M.vertex,v=M.fragment,A=M.uniforms,b=M.attributes}var m=this,S=m.gl,T=m._vref;m._vref=u.shader(S,S.VERTEX_SHADER,o),T&&T.dispose(),m.vertShader=m._vref.shader;var a=this._fref;if(m._fref=u.shader(S,S.FRAGMENT_SHADER,v),a&&a.dispose(),m.fragShader=m._fref.shader,!A||!b){var E=S.createProgram();if(S.attachShader(E,m.fragShader),S.attachShader(E,m.vertShader),S.linkProgram(E),!S.getProgramParameter(E,S.LINK_STATUS)){var p=S.getProgramInfoLog(E);throw new f(p,"Error linking program:"+p)}A=A||l.uniforms(S,E),b=b||l.attributes(S,E),S.deleteProgram(E)}b=b.slice(),b.sort(w);var k=[],R=[],B=[],F;for(F=0;F<b.length;++F){var _=b[F];if(_.type.indexOf("mat")>=0){for(var O=_.type.charAt(_.type.length-1)|0,z=new Array(O),N=0;N<O;++N)z[N]=B.length,R.push(_.name+"["+N+"]"),typeof _.location=="number"?B.push(_.location+N):Array.isArray(_.location)&&_.location.length===O&&typeof _.location[N]=="number"?B.push(_.location[N]|0):B.push(-1);k.push({name:_.name,type:_.type,locations:z})}else k.push({name:_.name,type:_.type,locations:[B.length]}),R.push(_.name),typeof _.location=="number"?B.push(_.location|0):B.push(-1)}var Y=0;for(F=0;F<B.length;++F)if(B[F]<0){for(;B.indexOf(Y)>=0;)Y+=1;B[F]=Y}var J=new Array(A.length);function ae(){m.program=u.program(S,m._vref,m._fref,R,B);for(var se=0;se<A.length;++se)J[se]=S.getUniformLocation(m.program,A[se].name)}ae(),m._relink=ae,m.types={uniforms:n(A),attributes:n(b)},m.attributes=s(S,m,k,B),Object.defineProperty(m,"uniforms",t(S,m,A,J))};function d(o,v,A,b,M){var m=new g(o);return m.update(v,A,b,M),m}c.exports=d},8866:function(c){function y(r,t,s){this.shortMessage=t||"",this.longMessage=s||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(s?`
`+s:""),this.stack=new Error().stack}y.prototype=new Error,y.prototype.name="GLError",y.prototype.constructor=y,c.exports=y},8731:function(c,y,r){"use strict";c.exports=g;var t=r(8866);function s(h,w,d,o,v,A){this._gl=h,this._wrapper=w,this._index=d,this._locations=o,this._dimension=v,this._constFunc=A}var n=s.prototype;n.pointer=function(w,d,o,v){var A=this,b=A._gl,M=A._locations[A._index];b.vertexAttribPointer(M,A._dimension,w||b.FLOAT,!!d,o||0,v||0),b.enableVertexAttribArray(M)},n.set=function(h,w,d,o){return this._constFunc(this._locations[this._index],h,w,d,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var u=[function(h,w,d){return d.length===void 0?h.vertexAttrib1f(w,d):h.vertexAttrib1fv(w,d)},function(h,w,d,o){return d.length===void 0?h.vertexAttrib2f(w,d,o):h.vertexAttrib2fv(w,d)},function(h,w,d,o,v){return d.length===void 0?h.vertexAttrib3f(w,d,o,v):h.vertexAttrib3fv(w,d)},function(h,w,d,o,v,A){return d.length===void 0?h.vertexAttrib4f(w,d,o,v,A):h.vertexAttrib4fv(w,d)}];function l(h,w,d,o,v,A,b){var M=u[v],m=new s(h,w,d,o,v,M);Object.defineProperty(A,b,{set:function(S){return h.disableVertexAttribArray(o[d]),M(h,o[d],S),S},get:function(){return m},enumerable:!0})}function f(h,w,d,o,v,A,b){for(var M=new Array(v),m=new Array(v),S=0;S<v;++S)l(h,w,d[S],o,v,M,S),m[S]=M[S];Object.defineProperty(M,"location",{set:function(E){if(Array.isArray(E))for(var p=0;p<v;++p)m[p].location=E[p];else for(var p=0;p<v;++p)m[p].location=E+p;return E},get:function(){for(var E=new Array(v),p=0;p<v;++p)E[p]=o[d[p]];return E},enumerable:!0}),M.pointer=function(E,p,k,R){E=E||h.FLOAT,p=!!p,k=k||v*v,R=R||0;for(var B=0;B<v;++B){var F=o[d[B]];h.vertexAttribPointer(F,v,E,p,k,R+B*v),h.enableVertexAttribArray(F)}};var T=new Array(v),a=h["vertexAttrib"+v+"fv"];Object.defineProperty(A,b,{set:function(E){for(var p=0;p<v;++p){var k=o[d[p]];if(h.disableVertexAttribArray(k),Array.isArray(E[0]))a.call(h,k,E[p]);else{for(var R=0;R<v;++R)T[R]=E[v*p+R];a.call(h,k,T)}}return E},get:function(){return M},enumerable:!0})}function g(h,w,d,o){for(var v={},A=0,b=d.length;A<b;++A){var M=d[A],m=M.name,S=M.type,T=M.locations;switch(S){case"bool":case"int":case"float":l(h,w,T[0],o,1,v,m);break;default:if(S.indexOf("vec")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new t("","Invalid data type for attribute "+m+": "+S);l(h,w,T[0],o,a,v,m)}else if(S.indexOf("mat")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new t("","Invalid data type for attribute "+m+": "+S);f(h,w,T,o,a,v,m)}else throw new t("","Unknown data type for attribute "+m+": "+S);break}}return v}},3327:function(c,y,r){"use strict";var t=r(216),s=r(8866);c.exports=l;function n(f){return function(){return f}}function u(f,g){for(var h=new Array(f),w=0;w<f;++w)h[w]=g;return h}function l(f,g,h,w){function d(S){return function(T,a,E){return T.getUniform(a.program,E[S])}}function o(S){return function(a){for(var E=v("",S),p=0;p<E.length;++p){var k=E[p],R=k[0],B=k[1];if(w[B]){var F=a;if(typeof R=="string"&&(R.indexOf(".")===0||R.indexOf("[")===0)){var _=R;if(R.indexOf(".")===0&&(_=R.slice(1)),_.indexOf("]")===_.length-1){var O=_.indexOf("["),z=_.slice(0,O),N=_.slice(O+1,_.length-1);F=z?a[z][N]:a[N]}else F=a[_]}var Y=h[B].type,J;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":f.uniform1i(w[B],F);break;case"float":f.uniform1f(w[B],F);break;default:var ae=Y.indexOf("vec");if(0<=ae&&ae<=1&&Y.length===4+ae){if(J=Y.charCodeAt(Y.length-1)-48,J<2||J>4)throw new s("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":f["uniform"+J+"iv"](w[B],F);break;case"v":f["uniform"+J+"fv"](w[B],F);break;default:throw new s("","Unrecognized data type for vector "+name+": "+Y)}}else if(Y.indexOf("mat")===0&&Y.length===4){if(J=Y.charCodeAt(Y.length-1)-48,J<2||J>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+Y);f["uniformMatrix"+J+"fv"](w[B],!1,F);break}else throw new s("","Unknown uniform data type for "+name+": "+Y)}}}}}function v(S,T){if(typeof T!="object")return[[S,T]];var a=[];for(var E in T){var p=T[E],k=S;parseInt(E)+""===E?k+="["+E+"]":k+="."+E,typeof p=="object"?a.push.apply(a,v(k,p)):a.push([k,p])}return a}function A(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var T=S.indexOf("vec");if(0<=T&&T<=1&&S.length===4+T){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new s("","Invalid data type");return S.charAt(0)==="b"?u(a,!1):u(a,0)}else if(S.indexOf("mat")===0&&S.length===4){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+S);return u(a*a,0)}else throw new s("","Unknown uniform data type for "+name+": "+S)}}function b(S,T,a){if(typeof a=="object"){var E=M(a);Object.defineProperty(S,T,{get:n(E),set:o(a),enumerable:!0,configurable:!1})}else w[a]?Object.defineProperty(S,T,{get:d(a),set:o(a),enumerable:!0,configurable:!1}):S[T]=A(h[a].type)}function M(S){var T;if(Array.isArray(S)){T=new Array(S.length);for(var a=0;a<S.length;++a)b(T,a,S[a])}else{T={};for(var E in S)b(T,E,S[E])}return T}var m=t(h,!0);return{get:n(M(m)),set:o(m),enumerable:!0,configurable:!0}}},216:function(c){"use strict";c.exports=y;function y(r,t){for(var s={},n=0;n<r.length;++n)for(var u=r[n].name,l=u.split("."),f=s,g=0;g<l.length;++g){var h=l[g].split("[");if(h.length>1){h[0]in f||(f[h[0]]=[]),f=f[h[0]];for(var w=1;w<h.length;++w){var d=parseInt(h[w]);w<h.length-1||g<l.length-1?(d in f||(w<h.length-1?f[d]=[]:f[d]={}),f=f[d]):t?f[d]=n:f[d]=r[n].type}}else g<l.length-1?(h[0]in f||(f[h[0]]={}),f=f[h[0]]):t?f[h[0]]=n:f[h[0]]=r[n].type}return s}},2145:function(c,y){"use strict";y.uniforms=n,y.attributes=u;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function s(l,f){if(!t){var g=Object.keys(r);t={};for(var h=0;h<g.length;++h){var w=g[h];t[l[w]]=r[w]}}return t[f]}function n(l,f){for(var g=l.getProgramParameter(f,l.ACTIVE_UNIFORMS),h=[],w=0;w<g;++w){var d=l.getActiveUniform(f,w);if(d){var o=s(l,d.type);if(d.size>1)for(var v=0;v<d.size;++v)h.push({name:d.name.replace("[0]","["+v+"]"),type:o});else h.push({name:d.name,type:o})}}return h}function u(l,f){for(var g=l.getProgramParameter(f,l.ACTIVE_ATTRIBUTES),h=[],w=0;w<g;++w){var d=l.getActiveAttrib(f,w);d&&h.push({name:d.name,type:s(l,d.type)})}return h}},5091:function(c,y,r){"use strict";y.shader=v,y.program=A;var t=r(8866),s=r(2992),n=typeof WeakMap=="undefined"?r(606):WeakMap,u=new n,l=0;function f(b,M,m,S,T,a,E){this.id=b,this.src=M,this.type=m,this.shader=S,this.count=a,this.programs=[],this.cache=E}f.prototype.dispose=function(){if(--this.count===0){for(var b=this.cache,M=b.gl,m=this.programs,S=0,T=m.length;S<T;++S){var a=b.programs[m[S]];a&&(delete b.programs[S],M.deleteProgram(a))}M.deleteShader(this.shader),delete b.shaders[this.type===M.FRAGMENT_SHADER|0][this.src]}};function g(b){this.gl=b,this.shaders=[{},{}],this.programs={}}var h=g.prototype;function w(b,M,m){var S=b.createShader(M);if(b.shaderSource(S,m),b.compileShader(S),!b.getShaderParameter(S,b.COMPILE_STATUS)){var T=b.getShaderInfoLog(S);try{var a=s(T,m,M)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(T,`Error compiling shader:
`+T)}throw new t(T,a.short,a.long)}return S}h.getShaderReference=function(b,M){var m=this.gl,S=this.shaders[b===m.FRAGMENT_SHADER|0],T=S[M];if(!T||!m.isShader(T.shader)){var a=w(m,b,M);T=S[M]=new f(l++,M,b,a,[],1,this)}else T.count+=1;return T};function d(b,M,m,S,T){var a=b.createProgram();b.attachShader(a,M),b.attachShader(a,m);for(var E=0;E<S.length;++E)b.bindAttribLocation(a,T[E],S[E]);if(b.linkProgram(a),!b.getProgramParameter(a,b.LINK_STATUS)){var p=b.getProgramInfoLog(a);throw new t(p,"Error linking program: "+p)}return a}h.getProgram=function(b,M,m,S){var T=[b.id,M.id,m.join(":"),S.join(":")].join("@"),a=this.programs[T];return(!a||!this.gl.isProgram(a))&&(this.programs[T]=a=d(this.gl,b.shader,M.shader,m,S),b.programs.push(T),M.programs.push(T)),a};function o(b){var M=u.get(b);return M||(M=new g(b),u.set(b,M)),M}function v(b,M,m){return o(b).getShaderReference(M,m)}function A(b,M,m,S,T){return o(b).getProgram(M,m,S,T)}},4098:function(c){"use strict";c.exports=t;function y(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=y.prototype;r.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var s=this.enable,n=this.width,u=this.color,l=this.center,f=this.plot,g=f.line,h=f.dataBox,w=f.viewBox;if(g.bind(),h[0]<=l[0]&&l[0]<=h[2]&&h[1]<=l[1]&&l[1]<=h[3]){var d=w[0]+(l[0]-h[0])/(h[2]-h[0])*(w[2]-w[0]),o=w[1]+(l[1]-h[1])/(h[3]-h[1])*(w[3]-w[1]);s[0]&&g.drawLine(d,o,w[0],o,n[0],u[0]),s[1]&&g.drawLine(d,o,d,w[1],n[1],u[1]),s[2]&&g.drawLine(d,o,w[2],o,n[2],u[2]),s[3]&&g.drawLine(d,o,d,w[3],n[3],u[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(s,n){var u=new y(s);return u.update(n),s.addOverlay(u),u}},1493:function(c,y,r){"use strict";var t=r(3236),s=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);c.exports=function(l){return s(l,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(c,y,r){"use strict";var t=r(2762),s=r(8116),n=r(1493);c.exports=d;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(o,v,A,b){this.gl=o,this.buffer=v,this.vao=A,this.shader=b,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var f=l.prototype,g=[0,0,0],h=[0,0,0],w=[0,0];f.isTransparent=function(){return!1},f.drawTransparent=function(o){},f.draw=function(o){var v=this.gl,A=this.vao,b=this.shader;A.bind(),b.bind();var M=o.model||u,m=o.view||u,S=o.projection||u,T;this.axes&&(T=this.axes.lastCubeProps.axis);for(var a=g,E=h,p=0;p<3;++p)T&&T[p]<0?(a[p]=this.bounds[0][p],E[p]=this.bounds[1][p]):(a[p]=this.bounds[1][p],E[p]=this.bounds[0][p]);w[0]=v.drawingBufferWidth,w[1]=v.drawingBufferHeight,b.uniforms.model=M,b.uniforms.view=m,b.uniforms.projection=S,b.uniforms.coordinates=[this.position,a,E],b.uniforms.colors=this.colors,b.uniforms.screenShape=w;for(var p=0;p<3;++p)b.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(A.draw(v.TRIANGLES,6,6*p),this.drawSides[p]&&A.draw(v.TRIANGLES,12,18+12*p));A.unbind()},f.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function d(o,v){var A=[];function b(a,E,p,k,R,B){var F=[a,E,p,0,0,0,1];F[k+3]=1,F[k]=R,A.push.apply(A,F),F[6]=-1,A.push.apply(A,F),F[k]=B,A.push.apply(A,F),A.push.apply(A,F),F[6]=1,A.push.apply(A,F),F[k]=R,A.push.apply(A,F)}b(0,0,0,0,0,1),b(0,0,0,1,0,1),b(0,0,0,2,0,1),b(1,0,0,1,-1,1),b(1,0,0,2,-1,1),b(0,1,0,0,-1,1),b(0,1,0,2,-1,1),b(0,0,1,0,-1,1),b(0,0,1,1,-1,1);var M=t(o,A),m=s(o,[{type:o.FLOAT,buffer:M,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:M,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:M,size:1,offset:24,stride:28}]),S=n(o);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var T=new l(o,M,m,S);return T.update(v),T}},6740:function(c,y,r){var t=r(3236),s=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},y.pickShader={vertex:u,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(c,y,r){"use strict";var t=r(2931),s=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(b,M,m,S){for(var T=b.points,a=b.velocities,E=b.divergences,p=[],k=[],R=[],B=[],F=[],_=[],O=0,z=0,N=s.create(),Y=s.create(),J=8,ae=0;ae<T.length;ae++){var se=T[ae],ue=a[ae],K=E[ae];M===0&&(K=m*.05),z=t.length(ue)/S,N=s.create(),t.copy(N,ue),N[3]=K;for(var j=0;j<J;j++)F[j]=[se[0],se[1],se[2],j];if(B.length>0)for(var j=0;j<J;j++){var ie=(j+1)%J;p.push(B[j],F[j],F[ie],F[ie],B[ie],B[j]),R.push(Y,N,N,N,Y,Y),_.push(O,z,z,z,O,O);var W=p.length;k.push([W-6,W-5,W-4],[W-3,W-2,W-1])}var Q=B;B=F,F=Q;var ee=Y;Y=N,N=ee;var $=O;O=z,z=$}return{positions:p,cells:k,vectors:R,vertexIntensity:_}},l=function(b,M,m,S){for(var T=0,a=0;a<b.length;a++)for(var E=b[a].velocities,p=0;p<E.length;p++)T=Math.max(T,t.length(E[p]));for(var k=b.map(function(ae){return u(ae,m,S,T)}),R=[],B=[],F=[],_=[],a=0;a<k.length;a++){var O=k[a],z=R.length;R=R.concat(O.positions),F=F.concat(O.vectors),_=_.concat(O.vertexIntensity);for(var p=0;p<O.cells.length;p++){var N=O.cells[p],Y=[];B.push(Y);for(var J=0;J<N.length;J++)Y.push(N[J]+z)}}return{positions:R,cells:B,vectors:F,vertexIntensity:_,colormap:M}},f=function(b,M){var m=b.length,S;for(S=0;S<m;S++){var T=b[S];if(T===M)return S;if(T>M)return S-1}return S},g=function(b,M,m){return b<M?M:b>m?m:b},h=function(b,M,m){var S=M.vectors,T=M.meshgrid,a=b[0],E=b[1],p=b[2],k=T[0].length,R=T[1].length,B=T[2].length,F=f(T[0],a),_=f(T[1],E),O=f(T[2],p),z=F+1,N=_+1,Y=O+1;if(F=g(F,0,k-1),z=g(z,0,k-1),_=g(_,0,R-1),N=g(N,0,R-1),O=g(O,0,B-1),Y=g(Y,0,B-1),F<0||_<0||O<0||z>k-1||N>R-1||Y>B-1)return t.create();var J=T[0][F],ae=T[0][z],se=T[1][_],ue=T[1][N],K=T[2][O],j=T[2][Y],ie=(a-J)/(ae-J),W=(E-se)/(ue-se),Q=(p-K)/(j-K);isFinite(ie)||(ie=.5),isFinite(W)||(W=.5),isFinite(Q)||(Q=.5);var ee,$,X,oe,te,fe;switch(m.reversedX&&(F=k-1-F,z=k-1-z),m.reversedY&&(_=R-1-_,N=R-1-N),m.reversedZ&&(O=B-1-O,Y=B-1-Y),m.filled){case 5:te=O,fe=Y,X=_*B,oe=N*B,ee=F*B*R,$=z*B*R;break;case 4:te=O,fe=Y,ee=F*B,$=z*B,X=_*B*k,oe=N*B*k;break;case 3:X=_,oe=N,te=O*R,fe=Y*R,ee=F*R*B,$=z*R*B;break;case 2:X=_,oe=N,ee=F*R,$=z*R,te=O*R*k,fe=Y*R*k;break;case 1:ee=F,$=z,te=O*k,fe=Y*k,X=_*k*B,oe=N*k*B;break;default:ee=F,$=z,X=_*k,oe=N*k,te=O*k*R,fe=Y*k*R;break}var pe=S[ee+X+te],Ae=S[ee+X+fe],be=S[ee+oe+te],Pe=S[ee+oe+fe],me=S[$+X+te],Ee=S[$+X+fe],xe=S[$+oe+te],De=S[$+oe+fe],Ve=t.create(),Ze=t.create(),ke=t.create(),Ye=t.create();t.lerp(Ve,pe,me,ie),t.lerp(Ze,Ae,Ee,ie),t.lerp(ke,be,xe,ie),t.lerp(Ye,Pe,De,ie);var lt=t.create(),yt=t.create();t.lerp(lt,Ve,ke,W),t.lerp(yt,Ze,Ye,W);var He=t.create();return t.lerp(He,lt,yt,Q),He},w=function(b,M){var m=M[0],S=M[1],T=M[2];return b[0]=m<0?-m:m,b[1]=S<0?-S:S,b[2]=T<0?-T:T,b},d=function(b){var M=1/0;b.sort(function(a,E){return a-E});for(var m=b.length,S=1;S<m;S++){var T=Math.abs(b[S]-b[S-1]);T<M&&(M=T)}return M},o=function(b){for(var M=[],m=[],S=[],T={},a={},E={},p=b.length,k=0;k<p;k++){var R=b[k],B=R[0],F=R[1],_=R[2];T[B]||(M.push(B),T[B]=!0),a[F]||(m.push(F),a[F]=!0),E[_]||(S.push(_),E[_]=!0)}var O=d(M),z=d(m),N=d(S),Y=Math.min(O,z,N);return isFinite(Y)?Y:1};c.exports=function(b,M){var m=b.startingPositions,S=b.maxLength||1e3,T=b.tubeSize||1,a=b.absoluteTubeSize,E=b.gridFill||"+x+y+z",p={};E.indexOf("-x")!==-1&&(p.reversedX=!0),E.indexOf("-y")!==-1&&(p.reversedY=!0),E.indexOf("-z")!==-1&&(p.reversedZ=!0),p.filled=n.indexOf(E.replace(/-/g,"").replace(/\+/g,""));var k=b.getVelocity||function(Ee){return h(Ee,b,p)},R=b.getDivergence||function(Ee,xe){var De=t.create(),Ve=1e-4;t.add(De,Ee,[Ve,0,0]);var Ze=k(De);t.subtract(Ze,Ze,xe),t.scale(Ze,Ze,1/Ve),t.add(De,Ee,[0,Ve,0]);var ke=k(De);t.subtract(ke,ke,xe),t.scale(ke,ke,1/Ve),t.add(De,Ee,[0,0,Ve]);var Ye=k(De);return t.subtract(Ye,Ye,xe),t.scale(Ye,Ye,1/Ve),t.add(De,Ze,ke),t.add(De,De,Ye),De},B=[],F=M[0][0],_=M[0][1],O=M[0][2],z=M[1][0],N=M[1][1],Y=M[1][2],J=function(Ee){var xe=Ee[0],De=Ee[1],Ve=Ee[2];return!(xe<F||xe>z||De<_||De>N||Ve<O||Ve>Y)},ae=t.distance(M[0],M[1]),se=10*ae/S,ue=se*se,K=1,j=0,ie=m.length;ie>1&&(K=o(m));for(var W=0;W<ie;W++){var Q=t.create();t.copy(Q,m[W]);var ee=[Q],$=[],X=k(Q),oe=Q;$.push(X);var te=[],fe=R(Q,X),pe=t.length(fe);isFinite(pe)&&pe>j&&(j=pe),te.push(pe),B.push({points:ee,velocities:$,divergences:te});for(var Ae=0;Ae<S*100&&ee.length<S&&J(Q);){Ae++;var be=t.clone(X),Pe=t.squaredLength(be);if(Pe===0)break;if(Pe>ue&&t.scale(be,be,se/Math.sqrt(Pe)),t.add(be,be,Q),X=k(be),t.squaredDistance(oe,be)-ue>-1e-4*ue){ee.push(be),oe=be,$.push(X);var fe=R(be,X),pe=t.length(fe);isFinite(pe)&&pe>j&&(j=pe),te.push(pe)}Q=be}}var me=l(B,b.colormap,j,K);return a?me.tubeScale=a:(j===0&&(j=1),me.tubeScale=T*.5*K/j),me};var v=r(6740),A=r(6405).createMesh;c.exports.createTubeMesh=function(b,M){return A(b,M,{shaders:v,traceType:"streamtube"})}},990:function(c,y,r){var t=r(9405),s=r(3236),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);y.createShader=function(g){var h=t(g,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},y.createPickShader=function(g){var h=t(g,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},y.createContourShader=function(g){var h=t(g,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},y.createPickContourShader=function(g){var h=t(g,l,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(c,y,r){"use strict";c.exports=ee;var t=r(8828),s=r(2762),n=r(8116),u=r(7766),l=r(1888),f=r(6729),g=r(5298),h=r(9994),w=r(9618),d=r(3711),o=r(6760),v=r(7608),A=r(2478),b=r(6199),M=r(990),m=M.createShader,S=M.createContourShader,T=M.createPickShader,a=M.createPickContourShader,E=4*10,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var $=0;$<3;++$){var X=R[$],oe=($+1)%3,te=($+2)%3;X[oe+0]=1,X[te+3]=1,X[$+6]=1}})();function B($,X,oe,te,fe){this.position=$,this.index=X,this.uv=oe,this.level=te,this.dataCoordinate=fe}var F=256;function _($,X,oe,te,fe,pe,Ae,be,Pe,me,Ee,xe,De,Ve,Ze){this.gl=$,this.shape=X,this.bounds=oe,this.objectOffset=Ze,this.intensityBounds=[],this._shader=te,this._pickShader=fe,this._coordinateBuffer=pe,this._vao=Ae,this._colorMap=be,this._contourShader=Pe,this._contourPickShader=me,this._contourBuffer=Ee,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=De,this._dynamicVAO=Ve,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(l.mallocFloat(1024),[0,0]),w(l.mallocFloat(1024),[0,0]),w(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=_.prototype;O.genColormap=function($,X){var oe=!1,te=h([f({colormap:$,nshades:F,format:"rgba"}).map(function(fe,pe){var Ae=X?z(pe/255,X):fe[3];return Ae<1&&(oe=!0),[fe[0],fe[1],fe[2],255*Ae]})]);return g.divseq(te,255),this.hasAlphaScale=oe,te},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function($){this.pickId=$};function z($,X){if(!X||!X.length)return 1;for(var oe=0;oe<X.length;++oe){if(X.length<2)return 1;if(X[oe][0]===$)return X[oe][1];if(X[oe][0]>$&&oe>0){var te=(X[oe][0]-$)/(X[oe][0]-X[oe-1][0]);return X[oe][1]*(1-te)+te*X[oe-1][1]}}return 1}var N=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[p.slice(),p.slice(),p.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J($,X){var oe,te,fe,pe=X.axes&&X.axes.lastCubeProps.axis||N,Ae=X.showSurface,be=X.showContour;for(oe=0;oe<3;++oe)for(Ae=Ae||X.surfaceProject[oe],te=0;te<3;++te)be=be||X.contourProject[oe][te];for(oe=0;oe<3;++oe){var Pe=Y.projections[oe];for(te=0;te<16;++te)Pe[te]=0;for(te=0;te<4;++te)Pe[5*te]=1;Pe[5*oe]=0,Pe[12+oe]=X.axesBounds[+(pe[oe]>0)][oe],o(Pe,$.model,Pe);var me=Y.clipBounds[oe];for(fe=0;fe<2;++fe)for(te=0;te<3;++te)me[fe][te]=$.clipBounds[fe][te];me[0][oe]=-1e8,me[1][oe]=1e8}return Y.showSurface=Ae,Y.showContour=be,Y}var ae={model:p,view:p,projection:p,inverseModel:p.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},se=p.slice(),ue=[1,0,0,0,1,0,0,0,1];function K($,X){$=$||{};var oe=this.gl;oe.disable(oe.CULL_FACE),this._colorMap.bind(0);var te=ae;te.model=$.model||p,te.view=$.view||p,te.projection=$.projection||p,te.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],te.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],te.objectOffset=this.objectOffset,te.contourColor=this.contourColor[0],te.inverseModel=v(te.inverseModel,te.model);for(var fe=0;fe<2;++fe)for(var pe=te.clipBounds[fe],Ae=0;Ae<3;++Ae)pe[Ae]=Math.min(Math.max(this.clipBounds[fe][Ae],-1e8),1e8);te.kambient=this.ambientLight,te.kdiffuse=this.diffuseLight,te.kspecular=this.specularLight,te.roughness=this.roughness,te.fresnel=this.fresnel,te.opacity=this.opacity,te.height=0,te.permutation=ue,te.vertexColor=this.vertexColor;var be=se;for(o(be,te.view,te.model),o(be,te.projection,be),v(be,be),fe=0;fe<3;++fe)te.eyePosition[fe]=be[12+fe]/be[15];var Pe=be[15];for(fe=0;fe<3;++fe)Pe+=this.lightPosition[fe]*be[4*fe+3];for(fe=0;fe<3;++fe){var me=be[12+fe];for(Ae=0;Ae<3;++Ae)me+=be[4*Ae+fe]*this.lightPosition[Ae];te.lightPosition[fe]=me/Pe}var Ee=J(te,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=te,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(oe.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[fe],this._shader.uniforms.clipBounds=Ee.clipBounds[fe],this._vao.draw(oe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var xe=this._contourShader;te.kambient=1,te.kdiffuse=0,te.kspecular=0,te.opacity=1,xe.bind(),xe.uniforms=te;var De=this._contourVAO;for(De.bind(),fe=0;fe<3;++fe)for(xe.uniforms.permutation=R[fe],oe.lineWidth(this.contourWidth[fe]*this.pixelRatio),Ae=0;Ae<this.contourLevels[fe].length;++Ae)Ae===this.highlightLevel[fe]?(xe.uniforms.contourColor=this.highlightColor[fe],xe.uniforms.contourTint=this.highlightTint[fe]):(Ae===0||Ae-1===this.highlightLevel[fe])&&(xe.uniforms.contourColor=this.contourColor[fe],xe.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][Ae]&&(xe.uniforms.height=this.contourLevels[fe][Ae],De.draw(oe.LINES,this._contourCounts[fe][Ae],this._contourOffsets[fe][Ae]));for(fe=0;fe<3;++fe)for(xe.uniforms.model=Ee.projections[fe],xe.uniforms.clipBounds=Ee.clipBounds[fe],Ae=0;Ae<3;++Ae)if(this.contourProject[fe][Ae]){xe.uniforms.permutation=R[Ae],oe.lineWidth(this.contourWidth[Ae]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[Ae].length;++Ve)Ve===this.highlightLevel[Ae]?(xe.uniforms.contourColor=this.highlightColor[Ae],xe.uniforms.contourTint=this.highlightTint[Ae]):(Ve===0||Ve-1===this.highlightLevel[Ae])&&(xe.uniforms.contourColor=this.contourColor[Ae],xe.uniforms.contourTint=this.contourTint[Ae]),this._contourCounts[Ae][Ve]&&(xe.uniforms.height=this.contourLevels[Ae][Ve],De.draw(oe.LINES,this._contourCounts[Ae][Ve],this._contourOffsets[Ae][Ve]))}for(De.unbind(),De=this._dynamicVAO,De.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(xe.uniforms.model=te.model,xe.uniforms.clipBounds=te.clipBounds,xe.uniforms.permutation=R[fe],oe.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[fe],xe.uniforms.contourTint=this.dynamicTint[fe],xe.uniforms.height=this.dynamicLevel[fe],De.draw(oe.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),Ae=0;Ae<3;++Ae)this.contourProject[Ae][fe]&&(xe.uniforms.model=Ee.projections[Ae],xe.uniforms.clipBounds=Ee.clipBounds[Ae],De.draw(oe.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));De.unbind()}}O.draw=function($){return K.call(this,$,!1)},O.drawTransparent=function($){return K.call(this,$,!0)};var j={model:p,view:p,projection:p,inverseModel:p,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};O.drawPick=function($){$=$||{};var X=this.gl;X.disable(X.CULL_FACE);var oe=j;oe.model=$.model||p,oe.view=$.view||p,oe.projection=$.projection||p,oe.shape=this._field[2].shape,oe.pickId=this.pickId/255,oe.lowerBound=this.bounds[0],oe.upperBound=this.bounds[1],oe.objectOffset=this.objectOffset,oe.permutation=ue;for(var te=0;te<2;++te)for(var fe=oe.clipBounds[te],pe=0;pe<3;++pe)fe[pe]=Math.min(Math.max(this.clipBounds[te][pe],-1e8),1e8);var Ae=J(oe,this);if(Ae.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=oe,this._vao.bind(),this._vao.draw(X.TRIANGLES,this._vertexCount),te=0;te<3;++te)this.surfaceProject[te]&&(this._pickShader.uniforms.model=Ae.projections[te],this._pickShader.uniforms.clipBounds=Ae.clipBounds[te],this._vao.draw(X.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ae.showContour){var be=this._contourPickShader;be.bind(),be.uniforms=oe;var Pe=this._contourVAO;for(Pe.bind(),pe=0;pe<3;++pe)for(X.lineWidth(this.contourWidth[pe]*this.pixelRatio),be.uniforms.permutation=R[pe],te=0;te<this.contourLevels[pe].length;++te)this._contourCounts[pe][te]&&(be.uniforms.height=this.contourLevels[pe][te],Pe.draw(X.LINES,this._contourCounts[pe][te],this._contourOffsets[pe][te]));for(te=0;te<3;++te)for(be.uniforms.model=Ae.projections[te],be.uniforms.clipBounds=Ae.clipBounds[te],pe=0;pe<3;++pe)if(this.contourProject[te][pe]){be.uniforms.permutation=R[pe],X.lineWidth(this.contourWidth[pe]*this.pixelRatio);for(var me=0;me<this.contourLevels[pe].length;++me)this._contourCounts[pe][me]&&(be.uniforms.height=this.contourLevels[pe][me],Pe.draw(X.LINES,this._contourCounts[pe][me],this._contourOffsets[pe][me]))}Pe.unbind()}},O.pick=function($){if(!$||$.id!==this.pickId)return null;var X=this._field[2].shape,oe=this._pickResult,te=X[0]*($.value[0]+($.value[2]>>4)/16)/255,fe=Math.floor(te),pe=te-fe,Ae=X[1]*($.value[1]+($.value[2]&15)/16)/255,be=Math.floor(Ae),Pe=Ae-be;fe+=1,be+=1;var me=oe.position;me[0]=me[1]=me[2]=0;for(var Ee=0;Ee<2;++Ee)for(var xe=Ee?pe:1-pe,De=0;De<2;++De)for(var Ve=De?Pe:1-Pe,Ze=fe+Ee,ke=be+De,Ye=xe*Ve,lt=0;lt<3;++lt)me[lt]+=this._field[lt].get(Ze,ke)*Ye;for(var yt=this._pickResult.level,He=0;He<3;++He)if(yt[He]=A.le(this.contourLevels[He],me[He]),yt[He]<0)this.contourLevels[He].length>0&&(yt[He]=0);else if(yt[He]<this.contourLevels[He].length-1){var Fe=this.contourLevels[He][yt[He]],nt=this.contourLevels[He][yt[He]+1];Math.abs(Fe-me[He])>Math.abs(nt-me[He])&&(yt[He]+=1)}for(oe.index[0]=pe<.5?fe:fe+1,oe.index[1]=Pe<.5?be:be+1,oe.uv[0]=te/X[0],oe.uv[1]=Ae/X[1],lt=0;lt<3;++lt)oe.dataCoordinate[lt]=this._field[lt].get(oe.index[0],oe.index[1]);return oe},O.padField=function($,X){var oe=X.shape.slice(),te=$.shape.slice();g.assign($.lo(1,1).hi(oe[0],oe[1]),X),g.assign($.lo(1).hi(oe[0],1),X.hi(oe[0],1)),g.assign($.lo(1,te[1]-1).hi(oe[0],1),X.lo(0,oe[1]-1).hi(oe[0],1)),g.assign($.lo(0,1).hi(1,oe[1]),X.hi(1)),g.assign($.lo(te[0]-1,1).hi(1,oe[1]),X.lo(oe[0]-1)),$.set(0,0,X.get(0,0)),$.set(0,te[1]-1,X.get(0,oe[1]-1)),$.set(te[0]-1,0,X.get(oe[0]-1,0)),$.set(te[0]-1,te[1]-1,X.get(oe[0]-1,oe[1]-1))};function ie($,X){return Array.isArray($)?[X($[0]),X($[1]),X($[2])]:[X($),X($),X($)]}function W($){return Array.isArray($)?$.length===3?[$[0],$[1],$[2],1]:[$[0],$[1],$[2],$[3]]:[0,0,0,1]}function Q($){if(Array.isArray($)){if(Array.isArray($))return[W($[0]),W($[1]),W($[2])];var X=W($);return[X.slice(),X.slice(),X.slice()]}}O.update=function($){$=$||{},this.objectOffset=$.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in $&&(this.contourWidth=ie($.contourWidth,Number)),"showContour"in $&&(this.showContour=ie($.showContour,Boolean)),"showSurface"in $&&(this.showSurface=!!$.showSurface),"contourTint"in $&&(this.contourTint=ie($.contourTint,Boolean)),"contourColor"in $&&(this.contourColor=Q($.contourColor)),"contourProject"in $&&(this.contourProject=ie($.contourProject,function(kt){return ie(kt,Boolean)})),"surfaceProject"in $&&(this.surfaceProject=$.surfaceProject),"dynamicColor"in $&&(this.dynamicColor=Q($.dynamicColor)),"dynamicTint"in $&&(this.dynamicTint=ie($.dynamicTint,Number)),"dynamicWidth"in $&&(this.dynamicWidth=ie($.dynamicWidth,Number)),"opacity"in $&&(this.opacity=$.opacity),"opacityscale"in $&&(this.opacityscale=$.opacityscale),"colorBounds"in $&&(this.colorBounds=$.colorBounds),"vertexColor"in $&&(this.vertexColor=$.vertexColor?1:0),"colormap"in $&&this._colorMap.setPixels(this.genColormap($.colormap,this.opacityscale));var X=$.field||$.coords&&$.coords[2]||null,oe=!1;if(X||(this._field[2].shape[0]||this._field[2].shape[2]?X=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):X=this._field[2].hi(0,0)),"field"in $||"coords"in $){var te=(X.shape[0]+2)*(X.shape[1]+2);te>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(t.nextPow2(te))),this._field[2]=w(this._field[2].data,[X.shape[0]+2,X.shape[1]+2]),this.padField(this._field[2],X),this.shape=X.shape.slice();for(var fe=this.shape,pe=0;pe<2;++pe)this._field[2].size>this._field[pe].data.length&&(l.freeFloat(this._field[pe].data),this._field[pe].data=l.mallocFloat(this._field[2].size)),this._field[pe]=w(this._field[pe].data,[fe[0]+2,fe[1]+2]);if($.coords){var Ae=$.coords;if(!Array.isArray(Ae)||Ae.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(pe=0;pe<2;++pe){var be=Ae[pe];for(De=0;De<2;++De)if(be.shape[De]!==fe[De])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[pe],be)}}else if($.ticks){var Pe=$.ticks;if(!Array.isArray(Pe)||Pe.length!==2)throw new Error("gl-surface: invalid ticks");for(pe=0;pe<2;++pe){var me=Pe[pe];if((Array.isArray(me)||me.length)&&(me=w(me)),me.shape[0]!==fe[pe])throw new Error("gl-surface: invalid tick length");var Ee=w(me.data,fe);Ee.stride[pe]=me.stride[0],Ee.stride[pe^1]=0,this.padField(this._field[pe],Ee)}}else{for(pe=0;pe<2;++pe){var xe=[0,0];xe[pe]=1,this._field[pe]=w(this._field[pe].data,[fe[0]+2,fe[1]+2],xe,0)}this._field[0].set(0,0,0);for(var De=0;De<fe[0];++De)this._field[0].set(De+1,0,De);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),De=0;De<fe[1];++De)this._field[1].set(0,De+1,De);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Ve=this._field,Ze=w(l.mallocFloat(Ve[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(pe=0;pe<3;++pe)b(Ze.pick(pe),Ve[pe],"mirror");var ke=w(l.mallocFloat(Ve[2].size*3),[fe[0]+2,fe[1]+2,3]);for(pe=0;pe<fe[0]+2;++pe)for(De=0;De<fe[1]+2;++De){var Ye=Ze.get(0,pe,De,0),lt=Ze.get(0,pe,De,1),yt=Ze.get(1,pe,De,0),He=Ze.get(1,pe,De,1),Fe=Ze.get(2,pe,De,0),nt=Ze.get(2,pe,De,1),ot=yt*nt-He*Fe,ct=Fe*lt-nt*Ye,ht=Ye*He-lt*yt,mt=Math.sqrt(ot*ot+ct*ct+ht*ht);mt<1e-8?(mt=Math.max(Math.abs(ot),Math.abs(ct),Math.abs(ht)),mt<1e-8?(ht=1,ct=ot=0,mt=1):mt=1/mt):mt=1/Math.sqrt(mt),ke.set(pe,De,0,ot*mt),ke.set(pe,De,1,ct*mt),ke.set(pe,De,2,ht*mt)}l.free(Ze.data);var tt=[1/0,1/0,1/0],Re=[-1/0,-1/0,-1/0],Ge=1/0,Je=-1/0,Xe=(fe[0]-1)*(fe[1]-1)*6,Oe=l.mallocFloat(t.nextPow2(10*Xe)),Ne=0,ze=0;for(pe=0;pe<fe[0]-1;++pe)e:for(De=0;De<fe[1]-1;++De){for(var et=0;et<2;++et)for(var Le=0;Le<2;++Le)for(var Te=0;Te<3;++Te){var ye=this._field[Te].get(1+pe+et,1+De+Le);if(isNaN(ye)||!isFinite(ye))continue e}for(Te=0;Te<6;++Te){var Se=pe+k[Te][0],Ke=De+k[Te][1],rt=this._field[0].get(Se+1,Ke+1),Lt=this._field[1].get(Se+1,Ke+1);ye=this._field[2].get(Se+1,Ke+1),ot=ke.get(Se+1,Ke+1,0),ct=ke.get(Se+1,Ke+1,1),ht=ke.get(Se+1,Ke+1,2),$.intensity&&(It=$.intensity.get(Se,Ke));var It=$.intensity?$.intensity.get(Se,Ke):ye+this.objectOffset[2];Oe[Ne++]=Se,Oe[Ne++]=Ke,Oe[Ne++]=rt,Oe[Ne++]=Lt,Oe[Ne++]=ye,Oe[Ne++]=0,Oe[Ne++]=It,Oe[Ne++]=ot,Oe[Ne++]=ct,Oe[Ne++]=ht,tt[0]=Math.min(tt[0],rt+this.objectOffset[0]),tt[1]=Math.min(tt[1],Lt+this.objectOffset[1]),tt[2]=Math.min(tt[2],ye+this.objectOffset[2]),Ge=Math.min(Ge,It),Re[0]=Math.max(Re[0],rt+this.objectOffset[0]),Re[1]=Math.max(Re[1],Lt+this.objectOffset[1]),Re[2]=Math.max(Re[2],ye+this.objectOffset[2]),Je=Math.max(Je,It),ze+=1}}for($.intensityBounds&&(Ge=+$.intensityBounds[0],Je=+$.intensityBounds[1]),pe=6;pe<Ne;pe+=10)Oe[pe]=(Oe[pe]-Ge)/(Je-Ge);this._vertexCount=ze,this._coordinateBuffer.update(Oe.subarray(0,Ne)),l.freeFloat(Oe),l.free(ke.data),this.bounds=[tt,Re],this.intensity=$.intensity||this._field[2],(this.intensityBounds[0]!==Ge||this.intensityBounds[1]!==Je)&&(oe=!0),this.intensityBounds=[Ge,Je]}if("levels"in $){var wt=$.levels;for(Array.isArray(wt[0])?wt=wt.slice():wt=[[],[],wt],pe=0;pe<3;++pe)wt[pe]=wt[pe].slice(),wt[pe].sort(function(kt,Zt){return kt-Zt});for(pe=0;pe<3;++pe)for(De=0;De<wt[pe].length;++De)wt[pe][De]-=this.objectOffset[pe];e:for(pe=0;pe<3;++pe){if(wt[pe].length!==this.contourLevels[pe].length){oe=!0;break}for(De=0;De<wt[pe].length;++De)if(wt[pe][De]!==this.contourLevels[pe][De]){oe=!0;break e}}this.contourLevels=wt}if(oe){Ve=this._field,fe=this.shape;for(var Et=[],Wt=0;Wt<3;++Wt){var vr=this.contourLevels[Wt],dt=[],Yt=[],jt=[0,0,0];for(pe=0;pe<vr.length;++pe){var gr=d(this._field[Wt],vr[pe]);dt.push(Et.length/5|0),ze=0;e:for(De=0;De<gr.cells.length;++De){var sr=gr.cells[De];for(Te=0;Te<2;++Te){var gt=gr.positions[sr[Te]],st=gt[0],xt=Math.floor(st)|0,Mt=st-xt,Rt=gt[1],Vt=Math.floor(Rt)|0,Ct=Rt-Vt,Bt=!1;t:for(var Xt=0;Xt<3;++Xt){jt[Xt]=0;var ir=(Wt+Xt+1)%3;for(et=0;et<2;++et){var or=et?Mt:1-Mt;for(Se=Math.min(Math.max(xt+et,0),fe[0])|0,Le=0;Le<2;++Le){var cr=Le?Ct:1-Ct;if(Ke=Math.min(Math.max(Vt+Le,0),fe[1])|0,Xt<2?ye=this._field[ir].get(Se,Ke):ye=(this.intensity.get(Se,Ke)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(ye)||isNaN(ye)){Bt=!0;break t}var We=or*cr;jt[Xt]+=We*ye}}}if(!Bt)Et.push(jt[0],jt[1],gt[0],gt[1],jt[2]),ze+=1;else{if(Te>0){for(var Ue=0;Ue<5;++Ue)Et.pop();ze-=1}continue e}}}Yt.push(ze)}this._contourOffsets[Wt]=dt,this._contourCounts[Wt]=Yt}var Ft=l.mallocFloat(Et.length);for(pe=0;pe<Et.length;++pe)Ft[pe]=Et[pe];this._contourBuffer.update(Ft),l.freeFloat(Ft)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var $=0;$<3;++$)l.freeFloat(this._field[$].data)},O.highlight=function($){var X;if(!$){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(X=0;X<3;++X)this.enableHighlight[X]?this.highlightLevel[X]=$.level[X]:this.highlightLevel[X]=-1;var oe;for(this.snapToData?oe=$.dataCoordinate:oe=$.position,X=0;X<3;++X)oe[X]-=this.objectOffset[X];if(!((!this.enableDynamic[0]||oe[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||oe[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||oe[2]===this.dynamicLevel[2]))){for(var te=0,fe=this.shape,pe=l.mallocFloat(12*fe[0]*fe[1]),Ae=0;Ae<3;++Ae){if(!this.enableDynamic[Ae]){this.dynamicLevel[Ae]=NaN,this._dynamicCounts[Ae]=0;continue}this.dynamicLevel[Ae]=oe[Ae];var be=(Ae+1)%3,Pe=(Ae+2)%3,me=this._field[Ae],Ee=this._field[be],xe=this._field[Pe],De=d(me,oe[Ae]),Ve=De.cells,Ze=De.positions;for(this._dynamicOffsets[Ae]=te,X=0;X<Ve.length;++X)for(var ke=Ve[X],Ye=0;Ye<2;++Ye){var lt=Ze[ke[Ye]],yt=+lt[0],He=yt|0,Fe=Math.min(He+1,fe[0])|0,nt=yt-He,ot=1-nt,ct=+lt[1],ht=ct|0,mt=Math.min(ht+1,fe[1])|0,tt=ct-ht,Re=1-tt,Ge=ot*Re,Je=ot*tt,Xe=nt*Re,Oe=nt*tt,Ne=Ge*Ee.get(He,ht)+Je*Ee.get(He,mt)+Xe*Ee.get(Fe,ht)+Oe*Ee.get(Fe,mt),ze=Ge*xe.get(He,ht)+Je*xe.get(He,mt)+Xe*xe.get(Fe,ht)+Oe*xe.get(Fe,mt);if(isNaN(Ne)||isNaN(ze)){Ye&&(te-=1);break}pe[2*te+0]=Ne,pe[2*te+1]=ze,te+=1}this._dynamicCounts[Ae]=te-this._dynamicOffsets[Ae]}this._dynamicBuffer.update(pe.subarray(0,2*te)),l.freeFloat(pe)}};function ee($){var X=$.gl,oe=m(X),te=T(X),fe=S(X),pe=a(X),Ae=s(X),be=n(X,[{buffer:Ae,size:4,stride:E,offset:0},{buffer:Ae,size:3,stride:E,offset:16},{buffer:Ae,size:3,stride:E,offset:28}]),Pe=s(X),me=n(X,[{buffer:Pe,size:4,stride:20,offset:0},{buffer:Pe,size:1,stride:20,offset:16}]),Ee=s(X),xe=n(X,[{buffer:Ee,size:2,type:X.FLOAT}]),De=u(X,1,F,X.RGBA,X.UNSIGNED_BYTE);De.minFilter=X.LINEAR,De.magFilter=X.LINEAR;var Ve=new _(X,[0,0],[[0,0,0],[0,0,0]],oe,te,Ae,be,De,fe,pe,Pe,me,Ee,xe,[0,0,0]),Ze={levels:[[],[],[]]};for(var ke in $)Ze[ke]=$[ke];return Ze.colormap=Ze.colormap||"jet",Ve.update(Ze),Ve}},7766:function(c,y,r){"use strict";var t=r(9618),s=r(5298),n=r(1888);c.exports=a;var u=null,l=null,f=null;function g(E){u=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],l=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],f=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function h(E){return typeof HTMLCanvasElement!="undefined"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&E instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&E instanceof HTMLVideoElement||typeof ImageData!="undefined"&&E instanceof ImageData}var w=function(E,p){s.muls(E,p,255)};function d(E,p,k){var R=E.gl,B=R.getParameter(R.MAX_TEXTURE_SIZE);if(p<0||p>B||k<0||k>B)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[p,k],E.bind(),R.texImage2D(R.TEXTURE_2D,0,E.format,p,k,0,E.format,E.type,null),E._mipLevels=[0],E}function o(E,p,k,R,B,F){this.gl=E,this.handle=p,this.format=B,this.type=F,this._shape=[k,R],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var _=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return _._wrapS},set:function(N){return _.wrapS=N}},{get:function(){return _._wrapT},set:function(N){return _.wrapT=N}}]),this._wrapVector=O;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return _._shape[0]},set:function(N){return _.width=N}},{get:function(){return _._shape[1]},set:function(N){return _.height=N}}]),this._shapeVector=z}var v=o.prototype;Object.defineProperties(v,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var p=this.gl;if(this.type===p.FLOAT&&u.indexOf(E)>=0&&(p.getExtension("OES_texture_float_linear")||(E=p.NEAREST)),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var p=this.gl;if(this.type===p.FLOAT&&u.indexOf(E)>=0&&(p.getExtension("OES_texture_float_linear")||(E=p.NEAREST)),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var p=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,p!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),f.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),f.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(f.indexOf(E[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return d(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,d(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,d(this,this._shape[0],E),E}}}),v.bind=function(E){var p=this.gl;return E!==void 0&&p.activeTexture(p.TEXTURE0+(E|0)),p.bindTexture(p.TEXTURE_2D,this.handle),E!==void 0?E|0:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},v.dispose=function(){this.gl.deleteTexture(this.handle)},v.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),p=0;E>0;++p,E>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},v.setPixels=function(E,p,k,R){var B=this.gl;this.bind(),Array.isArray(p)?(R=k,k=p[1]|0,p=p[0]|0):(p=p||0,k=k||0),R=R||0;var F=h(E)?E:E.raw;if(F){var _=this._mipLevels.indexOf(R)<0;_?(B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(R)):B.texSubImage2D(B.TEXTURE_2D,R,p,k,this.format,this.type,F)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||p+E.shape[1]>this._shape[1]>>>R||k+E.shape[0]>this._shape[0]>>>R||p<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");b(B,p,k,R,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function A(E,p){return E.length===3?p[2]===1&&p[1]===E[0]*E[2]&&p[0]===E[2]:p[0]===1&&p[1]===E[0]}function b(E,p,k,R,B,F,_,O){var z=O.dtype,N=O.shape.slice();if(N.length<2||N.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,J=0,ae=A(N,O.stride.slice());z==="float32"?Y=E.FLOAT:z==="float64"?(Y=E.FLOAT,ae=!1,z="float32"):z==="uint8"?Y=E.UNSIGNED_BYTE:(Y=E.UNSIGNED_BYTE,ae=!1,z="uint8");var se=1;if(N.length===2)J=E.LUMINANCE,N=[N[0],N[1],1],O=t(O.data,N,[O.stride[0],O.stride[1],1],O.offset);else if(N.length===3){if(N[2]===1)J=E.ALPHA;else if(N[2]===2)J=E.LUMINANCE_ALPHA;else if(N[2]===3)J=E.RGB;else if(N[2]===4)J=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");se=N[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((J===E.LUMINANCE||J===E.ALPHA)&&(B===E.LUMINANCE||B===E.ALPHA)&&(J=B),J!==B)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ue=O.size,K=_.indexOf(R)<0;if(K&&_.push(R),Y===F&&ae)O.offset===0&&O.data.length===ue?K?E.texImage2D(E.TEXTURE_2D,R,B,N[0],N[1],0,B,F,O.data):E.texSubImage2D(E.TEXTURE_2D,R,p,k,N[0],N[1],B,F,O.data):K?E.texImage2D(E.TEXTURE_2D,R,B,N[0],N[1],0,B,F,O.data.subarray(O.offset,O.offset+ue)):E.texSubImage2D(E.TEXTURE_2D,R,p,k,N[0],N[1],B,F,O.data.subarray(O.offset,O.offset+ue));else{var j;F===E.FLOAT?j=n.mallocFloat32(ue):j=n.mallocUint8(ue);var ie=t(j,N,[N[2],N[2]*N[0],1]);Y===E.FLOAT&&F===E.UNSIGNED_BYTE?w(ie,O):s.assign(ie,O),K?E.texImage2D(E.TEXTURE_2D,R,B,N[0],N[1],0,B,F,j.subarray(0,ue)):E.texSubImage2D(E.TEXTURE_2D,R,p,k,N[0],N[1],B,F,j.subarray(0,ue)),F===E.FLOAT?n.freeFloat32(j):n.freeUint8(j)}}function M(E){var p=E.createTexture();return E.bindTexture(E.TEXTURE_2D,p),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),p}function m(E,p,k,R,B){var F=E.getParameter(E.MAX_TEXTURE_SIZE);if(p<0||p>F||k<0||k>F)throw new Error("gl-texture2d: Invalid texture shape");if(B===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var _=M(E);return E.texImage2D(E.TEXTURE_2D,0,R,p,k,0,R,B,null),new o(E,_,p,k,R,B)}function S(E,p,k,R,B,F){var _=M(E);return E.texImage2D(E.TEXTURE_2D,0,B,B,F,p),new o(E,_,k,R,B,F)}function T(E,p){var k=p.dtype,R=p.shape.slice(),B=E.getParameter(E.MAX_TEXTURE_SIZE);if(R[0]<0||R[0]>B||R[1]<0||R[1]>B)throw new Error("gl-texture2d: Invalid texture size");var F=A(R,p.stride.slice()),_=0;k==="float32"?_=E.FLOAT:k==="float64"?(_=E.FLOAT,F=!1,k="float32"):k==="uint8"?_=E.UNSIGNED_BYTE:(_=E.UNSIGNED_BYTE,F=!1,k="uint8");var O=0;if(R.length===2)O=E.LUMINANCE,R=[R[0],R[1],1],p=t(p.data,R,[p.stride[0],p.stride[1],1],p.offset);else if(R.length===3)if(R[2]===1)O=E.ALPHA;else if(R[2]===2)O=E.LUMINANCE_ALPHA;else if(R[2]===3)O=E.RGB;else if(R[2]===4)O=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");_===E.FLOAT&&!E.getExtension("OES_texture_float")&&(_=E.UNSIGNED_BYTE,F=!1);var z,N,Y=p.size;if(F)p.offset===0&&p.data.length===Y?z=p.data:z=p.data.subarray(p.offset,p.offset+Y);else{var J=[R[2],R[2]*R[0],1];N=n.malloc(Y,k);var ae=t(N,R,J,0);(k==="float32"||k==="float64")&&_===E.UNSIGNED_BYTE?w(ae,p):s.assign(ae,p),z=N.subarray(0,Y)}var se=M(E);return E.texImage2D(E.TEXTURE_2D,0,O,R[0],R[1],0,O,_,z),F||n.free(N),new o(E,se,R[0],R[1],O,_)}function a(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||g(E),typeof arguments[1]=="number")return m(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var p=arguments[1],k=h(p)?p:p.raw;if(k)return S(E,k,p.width|0,p.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return T(E,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(c){"use strict";function y(r,t,s){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<s.length;++u){var l=s[u];if(l.buffer){var f=l.buffer,g=l.size||4,h=l.type||r.FLOAT,w=!!l.normalized,d=l.stride||0,o=l.offset||0;f.bind(),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,g,h,w,d,o)}else{if(typeof l=="number")r.vertexAttrib1f(u,l);else if(l.length===1)r.vertexAttrib1f(u,l[0]);else if(l.length===2)r.vertexAttrib2f(u,l[0],l[1]);else if(l.length===3)r.vertexAttrib3f(u,l[0],l[1],l[2]);else if(l.length===4)r.vertexAttrib4f(u,l[0],l[1],l[2],l[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(u)}}for(;u<n;++u)r.disableVertexAttribArray(u)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var u=0;u<n;++u)r.disableVertexAttribArray(u)}}c.exports=y},870:function(c,y,r){"use strict";var t=r(1433);function s(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}s.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},s.prototype.update=function(u,l,f){this._elements=l,this._attributes=u,this._elementsType=f||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(u,l,f){f=f||0;var g=this.gl;this._elements?g.drawElements(u,l,this._elementsType,f):g.drawArrays(u,f,l)};function n(u){return new s(u)}c.exports=n},7518:function(c,y,r){"use strict";var t=r(1433);function s(l,f,g,h,w,d){this.location=l,this.dimension=f,this.a=g,this.b=h,this.c=w,this.d=d}s.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(l,f,g){this.gl=l,this._ext=f,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(l,f,g){if(this.bind(),t(this.gl,f,l),this.unbind(),this._attribs.length=0,l)for(var h=0;h<l.length;++h){var w=l[h];typeof w=="number"?this._attribs.push(new s(h,1,w)):Array.isArray(w)&&this._attribs.push(new s(h,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!f,this._elementsType=g||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(l,f,g){g=g||0;var h=this.gl;this._useElements?h.drawElements(l,f,this._elementsType,g):h.drawArrays(l,g,f)};function u(l,f){return new n(l,f,f.createVertexArrayOES())}c.exports=u},8116:function(c,y,r){"use strict";var t=r(7518),s=r(870);function n(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}function u(l,f,g,h){var w=l.createVertexArray?new n(l):l.getExtension("OES_vertex_array_object"),d;return w?d=t(l,w):d=s(l),d.update(f,g,h),d}c.exports=u},5632:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]+s[0],r[1]=t[1]+s[1],r[2]=t[2]+s[2],r}},8192:function(c,y,r){c.exports=u;var t=r(2825),s=r(3536),n=r(244);function u(l,f){var g=t(l[0],l[1],l[2]),h=t(f[0],f[1],f[2]);s(g,g),s(h,h);var w=n(g,h);return w>1?0:Math.acos(w)}},9226:function(c){c.exports=y;function y(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(c){c.exports=y;function y(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(c){c.exports=y;function y(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(c){c.exports=y;function y(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2],f=s[0],g=s[1],h=s[2];return r[0]=u*h-l*g,r[1]=l*f-n*h,r[2]=n*g-u*f,r}},5455:function(c,y,r){c.exports=r(7056)},7056:function(c){c.exports=y;function y(r,t){var s=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return Math.sqrt(s*s+n*n+u*u)}},4008:function(c,y,r){c.exports=r(6690)},6690:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]/s[0],r[1]=t[1]/s[1],r[2]=t[2]/s[2],r}},244:function(c){c.exports=y;function y(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(c){c.exports=1e-6},9922:function(c,y,r){c.exports=s;var t=r(2613);function s(n,u){var l=n[0],f=n[1],g=n[2],h=u[0],w=u[1],d=u[2];return Math.abs(l-h)<=t*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(f-w)<=t*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(g-d)<=t*Math.max(1,Math.abs(g),Math.abs(d))}},9265:function(c){c.exports=y;function y(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(c){c.exports=y;function y(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(c,y,r){c.exports=s;var t=r(1091)();function s(n,u,l,f,g,h){var w,d;for(u||(u=3),l||(l=0),f?d=Math.min(f*u+l,n.length):d=n.length,w=l;w<d;w+=u)t[0]=n[w],t[1]=n[w+1],t[2]=n[w+2],g(t,t,h),n[w]=t[0],n[w+1]=t[1],n[w+2]=t[2];return n}},2825:function(c){c.exports=y;function y(r,t,s){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=s,n}},2931:function(c,y,r){c.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(c){c.exports=y;function y(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(c,y,r){c.exports=r(1387)},1387:function(c){c.exports=y;function y(r){var t=r[0],s=r[1],n=r[2];return Math.sqrt(t*t+s*s+n*n)}},6658:function(c){c.exports=y;function y(r,t,s,n){var u=t[0],l=t[1],f=t[2];return r[0]=u+n*(s[0]-u),r[1]=l+n*(s[1]-l),r[2]=f+n*(s[2]-f),r}},7417:function(c){c.exports=y;function y(r,t,s){return r[0]=Math.max(t[0],s[0]),r[1]=Math.max(t[1],s[1]),r[2]=Math.max(t[2],s[2]),r}},8107:function(c){c.exports=y;function y(r,t,s){return r[0]=Math.min(t[0],s[0]),r[1]=Math.min(t[1],s[1]),r[2]=Math.min(t[2],s[2]),r}},4505:function(c,y,r){c.exports=r(5847)},5847:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]*s[0],r[1]=t[1]*s[1],r[2]=t[2]*s[2],r}},5093:function(c){c.exports=y;function y(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(c){c.exports=y;function y(r,t){var s=t[0],n=t[1],u=t[2],l=s*s+n*n+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=t[0]*l,r[1]=t[1]*l,r[2]=t[2]*l),r}},7636:function(c){c.exports=y;function y(r,t){t=t||1;var s=Math.random()*2*Math.PI,n=Math.random()*2-1,u=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(s)*u,r[1]=Math.sin(s)*u,r[2]=n*t,r}},6894:function(c){c.exports=y;function y(r,t,s,n){var u=s[1],l=s[2],f=t[1]-u,g=t[2]-l,h=Math.sin(n),w=Math.cos(n);return r[0]=t[0],r[1]=u+f*w-g*h,r[2]=l+f*h+g*w,r}},109:function(c){c.exports=y;function y(r,t,s,n){var u=s[0],l=s[2],f=t[0]-u,g=t[2]-l,h=Math.sin(n),w=Math.cos(n);return r[0]=u+g*h+f*w,r[1]=t[1],r[2]=l+g*w-f*h,r}},8692:function(c){c.exports=y;function y(r,t,s,n){var u=s[0],l=s[1],f=t[0]-u,g=t[1]-l,h=Math.sin(n),w=Math.cos(n);return r[0]=u+f*w-g*h,r[1]=l+f*h+g*w,r[2]=t[2],r}},2447:function(c){c.exports=y;function y(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s,r}},8489:function(c){c.exports=y;function y(r,t,s,n){return r[0]=t[0]+s[0]*n,r[1]=t[1]+s[1]*n,r[2]=t[2]+s[2]*n,r}},1463:function(c){c.exports=y;function y(r,t,s,n){return r[0]=t,r[1]=s,r[2]=n,r}},6141:function(c,y,r){c.exports=r(2953)},5486:function(c,y,r){c.exports=r(3066)},2953:function(c){c.exports=y;function y(r,t){var s=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return s*s+n*n+u*u}},3066:function(c){c.exports=y;function y(r){var t=r[0],s=r[1],n=r[2];return t*t+s*s+n*n}},2229:function(c,y,r){c.exports=r(6843)},6843:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]-s[0],r[1]=t[1]-s[1],r[2]=t[2]-s[2],r}},492:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2];return r[0]=n*s[0]+u*s[3]+l*s[6],r[1]=n*s[1]+u*s[4]+l*s[7],r[2]=n*s[2]+u*s[5]+l*s[8],r}},5673:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2],f=s[3]*n+s[7]*u+s[11]*l+s[15];return f=f||1,r[0]=(s[0]*n+s[4]*u+s[8]*l+s[12])/f,r[1]=(s[1]*n+s[5]*u+s[9]*l+s[13])/f,r[2]=(s[2]*n+s[6]*u+s[10]*l+s[14])/f,r}},264:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2],f=s[0],g=s[1],h=s[2],w=s[3],d=w*n+g*l-h*u,o=w*u+h*n-f*l,v=w*l+f*u-g*n,A=-f*n-g*u-h*l;return r[0]=d*w+A*-f+o*-h-v*-g,r[1]=o*w+A*-g+v*-f-d*-h,r[2]=v*w+A*-h+d*-g-o*-f,r}},4361:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]+s[0],r[1]=t[1]+s[1],r[2]=t[2]+s[2],r[3]=t[3]+s[3],r}},2335:function(c){c.exports=y;function y(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(c){c.exports=y;function y(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(c){c.exports=y;function y(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(c){c.exports=y;function y(r,t){var s=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],l=t[3]-r[3];return Math.sqrt(s*s+n*n+u*u+l*l)}},1373:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]/s[0],r[1]=t[1]/s[1],r[2]=t[2]/s[2],r[3]=t[3]/s[3],r}},3750:function(c){c.exports=y;function y(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(c){c.exports=y;function y(r,t,s,n){var u=new Float32Array(4);return u[0]=r,u[1]=t,u[2]=s,u[3]=n,u}},9970:function(c,y,r){c.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(c){c.exports=y;function y(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(c){c.exports=y;function y(r){var t=r[0],s=r[1],n=r[2],u=r[3];return Math.sqrt(t*t+s*s+n*n+u*u)}},2573:function(c){c.exports=y;function y(r,t,s,n){var u=t[0],l=t[1],f=t[2],g=t[3];return r[0]=u+n*(s[0]-u),r[1]=l+n*(s[1]-l),r[2]=f+n*(s[2]-f),r[3]=g+n*(s[3]-g),r}},160:function(c){c.exports=y;function y(r,t,s){return r[0]=Math.max(t[0],s[0]),r[1]=Math.max(t[1],s[1]),r[2]=Math.max(t[2],s[2]),r[3]=Math.max(t[3],s[3]),r}},2334:function(c){c.exports=y;function y(r,t,s){return r[0]=Math.min(t[0],s[0]),r[1]=Math.min(t[1],s[1]),r[2]=Math.min(t[2],s[2]),r[3]=Math.min(t[3],s[3]),r}},3576:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]*s[0],r[1]=t[1]*s[1],r[2]=t[2]*s[2],r[3]=t[3]*s[3],r}},1498:function(c){c.exports=y;function y(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(c){c.exports=y;function y(r,t){var s=t[0],n=t[1],u=t[2],l=t[3],f=s*s+n*n+u*u+l*l;return f>0&&(f=1/Math.sqrt(f),r[0]=s*f,r[1]=n*f,r[2]=u*f,r[3]=l*f),r}},9131:function(c,y,r){var t=r(5177),s=r(9288);c.exports=n;function n(u,l){return l=l||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),t(u,u),s(u,u,l),u}},9288:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s,r[3]=t[3]*s,r}},4844:function(c){c.exports=y;function y(r,t,s,n){return r[0]=t[0]+s[0]*n,r[1]=t[1]+s[1]*n,r[2]=t[2]+s[2]*n,r[3]=t[3]+s[3]*n,r}},4578:function(c){c.exports=y;function y(r,t,s,n,u){return r[0]=t,r[1]=s,r[2]=n,r[3]=u,r}},7960:function(c){c.exports=y;function y(r,t){var s=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],l=t[3]-r[3];return s*s+n*n+u*u+l*l}},483:function(c){c.exports=y;function y(r){var t=r[0],s=r[1],n=r[2],u=r[3];return t*t+s*s+n*n+u*u}},6860:function(c){c.exports=y;function y(r,t,s){return r[0]=t[0]-s[0],r[1]=t[1]-s[1],r[2]=t[2]-s[2],r[3]=t[3]-s[3],r}},5352:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2],f=t[3];return r[0]=s[0]*n+s[4]*u+s[8]*l+s[12]*f,r[1]=s[1]*n+s[5]*u+s[9]*l+s[13]*f,r[2]=s[2]*n+s[6]*u+s[10]*l+s[14]*f,r[3]=s[3]*n+s[7]*u+s[11]*l+s[15]*f,r}},4041:function(c){c.exports=y;function y(r,t,s){var n=t[0],u=t[1],l=t[2],f=s[0],g=s[1],h=s[2],w=s[3],d=w*n+g*l-h*u,o=w*u+h*n-f*l,v=w*l+f*u-g*n,A=-f*n-g*u-h*l;return r[0]=d*w+A*-f+o*-h-v*-g,r[1]=o*w+A*-g+v*-f-d*-h,r[2]=v*w+A*-h+d*-g-o*-f,r[3]=t[3],r}},1848:function(c,y,r){var t=r(4905),s=r(6468);c.exports=n;function n(u){for(var l=Array.isArray(u)?u:t(u),f=0;f<l.length;f++){var g=l[f];if(g.type==="preprocessor"){var h=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var w=h[1],d=h[2];return(w?s(d):d).trim()}}}}},5874:function(c,y,r){c.exports=p;var t=r(620),s=r(7827),n=r(6852),u=r(7932),l=r(3508),f=999,g=9999,h=0,w=1,d=2,o=3,v=4,A=5,b=6,M=7,m=8,S=9,T=10,a=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function p(k){var R=0,B=0,F=f,_,O,z=[],N=[],Y=0,J=0,ae=1,se=0,ue=0,K=!1,j=!1,ie="",W;k=k||{};var Q=n,ee=t;k.version==="300 es"&&(Q=l,ee=u);for(var $={},X={},R=0;R<Q.length;R++)$[Q[R]]=!0;for(var R=0;R<ee.length;R++)X[ee[R]]=!0;return function(Ye){return N=[],Ye!==null?te(Ye):fe()};function oe(Ye){Ye.length&&N.push({type:E[F],data:Ye,position:ue,line:ae,column:se})}function te(Ye){R=0,Ye.toString&&(Ye=Ye.toString()),ie+=Ye.replace(/\r\n/g,`
`),W=ie.length;for(var lt;_=ie[R],R<W;){switch(lt=R,F){case h:R=me();break;case w:R=Pe();break;case d:R=be();break;case o:R=Ee();break;case v:R=Ve();break;case a:R=De();break;case A:R=Ze();break;case g:R=ke();break;case S:R=Ae();break;case f:R=pe();break}if(lt!==R)switch(ie[lt]){case`
`:se=0,++ae;break;default:++se;break}}return B+=R,ie=ie.slice(R),N}function fe(Ye){return z.length&&oe(z.join("")),F=T,oe("(eof)"),N}function pe(){return z=z.length?[]:z,O==="/"&&_==="*"?(ue=B+R-1,F=h,O=_,R+1):O==="/"&&_==="/"?(ue=B+R-1,F=w,O=_,R+1):_==="#"?(F=d,ue=B+R,R):/\s/.test(_)?(F=S,ue=B+R,R):(K=/\d/.test(_),j=/[^\w_]/.test(_),ue=B+R,F=K?v:j?o:g,R)}function Ae(){return/[^\s]/g.test(_)?(oe(z.join("")),F=f,R):(z.push(_),O=_,R+1)}function be(){return(_==="\r"||_===`
`)&&O!=="\\"?(oe(z.join("")),F=f,R):(z.push(_),O=_,R+1)}function Pe(){return be()}function me(){return _==="/"&&O==="*"?(z.push(_),oe(z.join("")),F=f,R+1):(z.push(_),O=_,R+1)}function Ee(){if(O==="."&&/\d/.test(_))return F=A,R;if(O==="/"&&_==="*")return F=h,R;if(O==="/"&&_==="/")return F=w,R;if(_==="."&&z.length){for(;xe(z););return F=A,R}if(_===";"||_===")"||_==="("){if(z.length)for(;xe(z););return oe(_),F=f,R+1}var Ye=z.length===2&&_!=="=";if(/[\w_\d\s]/.test(_)||Ye){for(;xe(z););return F=f,R}return z.push(_),O=_,R+1}function xe(Ye){var lt=0,yt,He;do{if(yt=s.indexOf(Ye.slice(0,Ye.length+lt).join("")),He=s[yt],yt===-1){if(lt--+Ye.length>0)continue;He=Ye.slice(0,1).join("")}return oe(He),ue+=He.length,z=z.slice(He.length),z.length}while(!0)}function De(){return/[^a-fA-F0-9]/.test(_)?(oe(z.join("")),F=f,R):(z.push(_),O=_,R+1)}function Ve(){return _==="."||/[eE]/.test(_)?(z.push(_),F=A,O=_,R+1):_==="x"&&z.length===1&&z[0]==="0"?(F=a,z.push(_),O=_,R+1):/[^\d]/.test(_)?(oe(z.join("")),F=f,R):(z.push(_),O=_,R+1)}function Ze(){return _==="f"&&(z.push(_),O=_,R+=1),/[eE]/.test(_)||(_==="-"||_==="+")&&/[eE]/.test(O)?(z.push(_),O=_,R+1):/[^\d]/.test(_)?(oe(z.join("")),F=f,R):(z.push(_),O=_,R+1)}function ke(){if(/[^\d\w_]/.test(_)){var Ye=z.join("");return X[Ye]?F=m:$[Ye]?F=M:F=b,oe(z.join("")),F=f,R}return z.push(_),O=_,R+1}}},3508:function(c,y,r){var t=r(6852);t=t.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),c.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(c){c.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(c,y,r){var t=r(620);c.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(c){c.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(c){c.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(c,y,r){var t=r(5874);c.exports=s;function s(n,u){var l=t(u),f=[];return f=f.concat(l(n)),f=f.concat(l(null)),f}},3236:function(c){c.exports=function(y){typeof y=="string"&&(y=[y]);for(var r=[].slice.call(arguments,1),t=[],s=0;s<y.length-1;s++)t.push(y[s],r[s]||"");return t.push(y[s]),t.join("")}},7520:function(c,y,r){"use strict";var t=r(9507);function s(){var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch(l){n=!1}return n}c.exports=t&&s()},3778:function(c,y){y.read=function(r,t,s,n,u){var l,f,g=u*8-n-1,h=(1<<g)-1,w=h>>1,d=-7,o=s?u-1:0,v=s?-1:1,A=r[t+o];for(o+=v,l=A&(1<<-d)-1,A>>=-d,d+=g;d>0;l=l*256+r[t+o],o+=v,d-=8);for(f=l&(1<<-d)-1,l>>=-d,d+=n;d>0;f=f*256+r[t+o],o+=v,d-=8);if(l===0)l=1-w;else{if(l===h)return f?NaN:(A?-1:1)*(1/0);f=f+Math.pow(2,n),l=l-w}return(A?-1:1)*f*Math.pow(2,l-n)},y.write=function(r,t,s,n,u,l){var f,g,h,w=l*8-u-1,d=(1<<w)-1,o=d>>1,v=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:l-1,b=n?1:-1,M=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,f=d):(f=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-f))<1&&(f--,h*=2),f+o>=1?t+=v/h:t+=v*Math.pow(2,1-o),t*h>=2&&(f++,h/=2),f+o>=d?(g=0,f=d):f+o>=1?(g=(t*h-1)*Math.pow(2,u),f=f+o):(g=t*Math.pow(2,o-1)*Math.pow(2,u),f=0));u>=8;r[s+A]=g&255,A+=b,g/=256,u-=8);for(f=f<<u|g,w+=u;w>0;r[s+A]=f&255,A+=b,f/=256,w-=8);r[s+A-b]|=M*128}},8954:function(c,y,r){"use strict";c.exports=o;var t=r(3250),s=r(6803).Fw;function n(v,A,b){this.vertices=v,this.adjacent=A,this.boundary=b,this.lastVisited=-1}n.prototype.flip=function(){var v=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=v;var A=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=A};function u(v,A,b){this.vertices=v,this.cell=A,this.index=b}function l(v,A){return s(v.vertices,A.vertices)}function f(v){return function(){var A=this.tuple;return v.apply(this,A)}}function g(v){var A=t[v+1];return A||(A=t),f(A)}var h=[];function w(v,A,b){this.dimension=v,this.vertices=A,this.simplices=b,this.interior=b.filter(function(S){return!S.boundary}),this.tuple=new Array(v+1);for(var M=0;M<=v;++M)this.tuple[M]=this.vertices[M];var m=h[v];m||(m=h[v]=g(v)),this.orient=m}var d=w.prototype;d.handleBoundaryDegeneracy=function(v,A){var b=this.dimension,M=this.vertices.length-1,m=this.tuple,S=this.vertices,T=[v];for(v.lastVisited=-M;T.length>0;){v=T.pop();for(var a=v.adjacent,E=0;E<=b;++E){var p=a[E];if(!(!p.boundary||p.lastVisited<=-M)){for(var k=p.vertices,R=0;R<=b;++R){var B=k[R];B<0?m[R]=A:m[R]=S[B]}var F=this.orient();if(F>0)return p;p.lastVisited=-M,F===0&&T.push(p)}}}return null},d.walk=function(v,A){var b=this.vertices.length-1,M=this.dimension,m=this.vertices,S=this.tuple,T=A?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[T];e:for(;!a.boundary;){for(var E=a.vertices,p=a.adjacent,k=0;k<=M;++k)S[k]=m[E[k]];a.lastVisited=b;for(var k=0;k<=M;++k){var R=p[k];if(!(R.lastVisited>=b)){var B=S[k];S[k]=v;var F=this.orient();if(S[k]=B,F<0){a=R;continue e}else R.boundary?R.lastVisited=-b:R.lastVisited=b}}return}return a},d.addPeaks=function(v,A){var b=this.vertices.length-1,M=this.dimension,m=this.vertices,S=this.tuple,T=this.interior,a=this.simplices,E=[A];A.lastVisited=b,A.vertices[A.vertices.indexOf(-1)]=b,A.boundary=!1,T.push(A);for(var p=[];E.length>0;){var A=E.pop(),k=A.vertices,R=A.adjacent,B=k.indexOf(b);if(!(B<0)){for(var F=0;F<=M;++F)if(F!==B){var _=R[F];if(!(!_.boundary||_.lastVisited>=b)){var O=_.vertices;if(_.lastVisited!==-b){for(var z=0,N=0;N<=M;++N)O[N]<0?(z=N,S[N]=v):S[N]=m[O[N]];var Y=this.orient();if(Y>0){O[z]=b,_.boundary=!1,T.push(_),E.push(_),_.lastVisited=b;continue}else _.lastVisited=-b}var J=_.adjacent,ae=k.slice(),se=R.slice(),ue=new n(ae,se,!0);a.push(ue);var K=J.indexOf(A);if(!(K<0)){J[K]=ue,se[B]=_,ae[F]=-1,se[F]=A,R[F]=ue,ue.flip();for(var N=0;N<=M;++N){var j=ae[N];if(!(j<0||j===b)){for(var ie=new Array(M-1),W=0,Q=0;Q<=M;++Q){var ee=ae[Q];ee<0||Q===N||(ie[W++]=ee)}p.push(new u(ie,ue,N))}}}}}}}p.sort(l);for(var F=0;F+1<p.length;F+=2){var $=p[F],X=p[F+1],oe=$.index,te=X.index;oe<0||te<0||($.cell.adjacent[$.index]=X.cell,X.cell.adjacent[X.index]=$.cell)}},d.insert=function(v,A){var b=this.vertices;b.push(v);var M=this.walk(v,A);if(M){for(var m=this.dimension,S=this.tuple,T=0;T<=m;++T){var a=M.vertices[T];a<0?S[T]=v:S[T]=b[a]}var E=this.orient(S);E<0||E===0&&(M=this.handleBoundaryDegeneracy(M,v),!M)||this.addPeaks(v,M)}},d.boundary=function(){for(var v=this.dimension,A=[],b=this.simplices,M=b.length,m=0;m<M;++m){var S=b[m];if(S.boundary){for(var T=new Array(v),a=S.vertices,E=0,p=0,k=0;k<=v;++k)a[k]>=0?T[E++]=a[k]:p=k&1;if(p===(v&1)){var R=T[0];T[0]=T[1],T[1]=R}A.push(T)}}return A};function o(v,A){var b=v.length;if(b===0)throw new Error("Must have at least d+1 points");var M=v[0].length;if(b<=M)throw new Error("Must input at least d+1 points");var m=v.slice(0,M+1),S=t.apply(void 0,m);if(S===0)throw new Error("Input not in general position");for(var T=new Array(M+1),a=0;a<=M;++a)T[a]=a;S<0&&(T[0]=1,T[1]=0);for(var E=new n(T,new Array(M+1),!1),p=E.adjacent,k=new Array(M+2),a=0;a<=M;++a){for(var R=T.slice(),B=0;B<=M;++B)B===a&&(R[B]=-1);var F=R[0];R[0]=R[1],R[1]=F;var _=new n(R,new Array(M+1),!0);p[a]=_,k[a]=_}k[M+1]=E;for(var a=0;a<=M;++a)for(var R=p[a].vertices,O=p[a].adjacent,B=0;B<=M;++B){var z=R[B];if(z<0){O[B]=E;continue}for(var N=0;N<=M;++N)p[N].vertices.indexOf(z)<0&&(O[B]=p[N])}for(var Y=new w(M,m,k),J=!!A,a=M+1;a<b;++a)Y.insert(v[a],J);return Y.boundary()}},3352:function(c,y,r){"use strict";var t=r(2478),s=0,n=1,u=2;c.exports=E;function l(p,k,R,B,F){this.mid=p,this.left=k,this.right=R,this.leftPoints=B,this.rightPoints=F,this.count=(k?k.count:0)+(R?R.count:0)+B.length}var f=l.prototype;function g(p,k){p.mid=k.mid,p.left=k.left,p.right=k.right,p.leftPoints=k.leftPoints,p.rightPoints=k.rightPoints,p.count=k.count}function h(p,k){var R=S(k);p.mid=R.mid,p.left=R.left,p.right=R.right,p.leftPoints=R.leftPoints,p.rightPoints=R.rightPoints,p.count=R.count}function w(p,k){var R=p.intervals([]);R.push(k),h(p,R)}function d(p,k){var R=p.intervals([]),B=R.indexOf(k);return B<0?s:(R.splice(B,1),h(p,R),n)}f.intervals=function(p){return p.push.apply(p,this.leftPoints),this.left&&this.left.intervals(p),this.right&&this.right.intervals(p),p},f.insert=function(p){var k=this.count-this.leftPoints.length;if(this.count+=1,p[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?w(this,p):this.left.insert(p):this.left=S([p]);else if(p[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?w(this,p):this.right.insert(p):this.right=S([p]);else{var R=t.ge(this.leftPoints,p,M),B=t.ge(this.rightPoints,p,m);this.leftPoints.splice(R,0,p),this.rightPoints.splice(B,0,p)}},f.remove=function(p){var k=this.count-this.leftPoints;if(p[1]<this.mid){if(!this.left)return s;var R=this.right?this.right.count:0;if(4*R>3*(k-1))return d(this,p);var B=this.left.remove(p);return B===u?(this.left=null,this.count-=1,n):(B===n&&(this.count-=1),B)}else if(p[0]>this.mid){if(!this.right)return s;var F=this.left?this.left.count:0;if(4*F>3*(k-1))return d(this,p);var B=this.right.remove(p);return B===u?(this.right=null,this.count-=1,n):(B===n&&(this.count-=1),B)}else{if(this.count===1)return this.leftPoints[0]===p?u:s;if(this.leftPoints.length===1&&this.leftPoints[0]===p){if(this.left&&this.right){for(var _=this,O=this.left;O.right;)_=O,O=O.right;if(_===this)O.right=this.right;else{var z=this.left,B=this.right;_.count-=O.count,_.right=O.left,O.left=z,O.right=B}g(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return n}for(var z=t.ge(this.leftPoints,p,M);z<this.leftPoints.length&&this.leftPoints[z][0]===p[0];++z)if(this.leftPoints[z]===p){this.count-=1,this.leftPoints.splice(z,1);for(var B=t.ge(this.rightPoints,p,m);B<this.rightPoints.length&&this.rightPoints[B][1]===p[1];++B)if(this.rightPoints[B]===p)return this.rightPoints.splice(B,1),n}return s}};function o(p,k,R){for(var B=0;B<p.length&&p[B][0]<=k;++B){var F=R(p[B]);if(F)return F}}function v(p,k,R){for(var B=p.length-1;B>=0&&p[B][1]>=k;--B){var F=R(p[B]);if(F)return F}}function A(p,k){for(var R=0;R<p.length;++R){var B=k(p[R]);if(B)return B}}f.queryPoint=function(p,k){if(p<this.mid){if(this.left){var R=this.left.queryPoint(p,k);if(R)return R}return o(this.leftPoints,p,k)}else if(p>this.mid){if(this.right){var R=this.right.queryPoint(p,k);if(R)return R}return v(this.rightPoints,p,k)}else return A(this.leftPoints,k)},f.queryInterval=function(p,k,R){if(p<this.mid&&this.left){var B=this.left.queryInterval(p,k,R);if(B)return B}if(k>this.mid&&this.right){var B=this.right.queryInterval(p,k,R);if(B)return B}return k<this.mid?o(this.leftPoints,k,R):p>this.mid?v(this.rightPoints,p,R):A(this.leftPoints,R)};function b(p,k){return p-k}function M(p,k){var R=p[0]-k[0];return R||p[1]-k[1]}function m(p,k){var R=p[1]-k[1];return R||p[0]-k[0]}function S(p){if(p.length===0)return null;for(var k=[],R=0;R<p.length;++R)k.push(p[R][0],p[R][1]);k.sort(b);for(var B=k[k.length>>1],F=[],_=[],O=[],R=0;R<p.length;++R){var z=p[R];z[1]<B?F.push(z):B<z[0]?_.push(z):O.push(z)}var N=O,Y=O.slice();return N.sort(M),Y.sort(m),new l(B,S(F),S(_),N,Y)}function T(p){this.root=p}var a=T.prototype;a.insert=function(p){this.root?this.root.insert(p):this.root=new l(p[0],null,null,[p],[p])},a.remove=function(p){if(this.root){var k=this.root.remove(p);return k===u&&(this.root=null),k!==s}return!1},a.queryPoint=function(p,k){if(this.root)return this.root.queryPoint(p,k)},a.queryInterval=function(p,k,R){if(p<=k&&this.root)return this.root.queryInterval(p,k,R)},Object.defineProperty(a,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(a,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(p){return!p||p.length===0?new T(null):new T(S(p))}},7762:function(c){"use strict";function y(r){for(var t=new Array(r),s=0;s<r;++s)t[s]=s;return t}c.exports=y},9507:function(c){c.exports=!0},7163:function(c){c.exports=function(t){return t!=null&&(y(t)||r(t)||!!t._isBuffer)};function y(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&y(t.slice(0,0))}},5219:function(c){"use strict";c.exports=function(y){for(var r=y.length,t,s=0;s<r;s++)if(t=y.charCodeAt(s),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(c){function y(r,t,s){return r*(1-s)+t*s}c.exports=y},2652:function(c,y,r){var t=r(4335),s=r(6864),n=r(1903),u=r(9921),l=r(7608),f=r(5665),g={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=s(),w=s(),d=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];c.exports=function(S,T,a,E,p,k){if(T||(T=[0,0,0]),a||(a=[0,0,0]),E||(E=[0,0,0]),p||(p=[0,0,0,1]),k||(k=[0,0,0,1]),!t(h,S)||(n(w,h),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(u(w)<1e-8)))return!1;var R=h[3],B=h[7],F=h[11],_=h[12],O=h[13],z=h[14],N=h[15];if(R!==0||B!==0||F!==0){d[0]=R,d[1]=B,d[2]=F,d[3]=N;var Y=l(w,w);if(!Y)return!1;f(w,w),A(p,d,w)}else p[0]=p[1]=p[2]=0,p[3]=1;if(T[0]=_,T[1]=O,T[2]=z,b(o,h),a[0]=g.length(o[0]),g.normalize(o[0],o[0]),E[0]=g.dot(o[0],o[1]),M(o[1],o[1],o[0],1,-E[0]),a[1]=g.length(o[1]),g.normalize(o[1],o[1]),E[0]/=a[1],E[1]=g.dot(o[0],o[2]),M(o[2],o[2],o[0],1,-E[1]),E[2]=g.dot(o[1],o[2]),M(o[2],o[2],o[1],1,-E[2]),a[2]=g.length(o[2]),g.normalize(o[2],o[2]),E[1]/=a[2],E[2]/=a[2],g.cross(v,o[1],o[2]),g.dot(o[0],v)<0)for(var J=0;J<3;J++)a[J]*=-1,o[J][0]*=-1,o[J][1]*=-1,o[J][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(k[0]=-k[0]),o[0][2]>o[2][0]&&(k[1]=-k[1]),o[1][0]>o[0][1]&&(k[2]=-k[2]),!0};function A(m,S,T){var a=S[0],E=S[1],p=S[2],k=S[3];return m[0]=T[0]*a+T[4]*E+T[8]*p+T[12]*k,m[1]=T[1]*a+T[5]*E+T[9]*p+T[13]*k,m[2]=T[2]*a+T[6]*E+T[10]*p+T[14]*k,m[3]=T[3]*a+T[7]*E+T[11]*p+T[15]*k,m}function b(m,S){m[0][0]=S[0],m[0][1]=S[1],m[0][2]=S[2],m[1][0]=S[4],m[1][1]=S[5],m[1][2]=S[6],m[2][0]=S[8],m[2][1]=S[9],m[2][2]=S[10]}function M(m,S,T,a,E){m[0]=S[0]*a+T[0]*E,m[1]=S[1]*a+T[1]*E,m[2]=S[2]*a+T[2]*E}},4335:function(c){c.exports=function(r,t){var s=t[15];if(s===0)return!1;for(var n=1/s,u=0;u<16;u++)r[u]=t[u]*n;return!0}},7442:function(c,y,r){var t=r(6658),s=r(7182),n=r(2652),u=r(9921),l=r(8648),f=d(),g=d(),h=d();c.exports=w;function w(A,b,M,m){if(u(b)===0||u(M)===0)return!1;var S=n(b,f.translate,f.scale,f.skew,f.perspective,f.quaternion),T=n(M,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!S||!T?!1:(t(h.translate,f.translate,g.translate,m),t(h.skew,f.skew,g.skew,m),t(h.scale,f.scale,g.scale,m),t(h.perspective,f.perspective,g.perspective,m),l(h.quaternion,f.quaternion,g.quaternion,m),s(A,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function d(){return{translate:o(),scale:o(1),skew:o(),perspective:v(),quaternion:v()}}function o(A){return[A||0,A||0,A||0]}function v(){return[0,0,0,1]}},7182:function(c,y,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)},s=t.create(),n=t.create();c.exports=function(l,f,g,h,w,d){return t.identity(l),t.fromRotationTranslation(l,d,f),l[3]=w[0],l[7]=w[1],l[11]=w[2],l[15]=w[3],t.identity(n),h[2]!==0&&(n[9]=h[2],t.multiply(l,l,n)),h[1]!==0&&(n[9]=0,n[8]=h[1],t.multiply(l,l,n)),h[0]!==0&&(n[8]=0,n[4]=h[0],t.multiply(l,l,n)),t.scale(l,l,g),l}},4192:function(c,y,r){"use strict";var t=r(2478),s=r(7442),n=r(7608),u=r(5567),l=r(2408),f=r(7089),g=r(6582),h=r(7656),w=r(2504),d=r(3536),o=[0,0,0];c.exports=M;function v(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var A=v.prototype;A.recalcMatrix=function(m){var S=this._time,T=t.le(S,m),a=this.computedMatrix;if(!(T<0)){var E=this._components;if(T===S.length-1)for(var p=16*T,k=0;k<16;++k)a[k]=E[p++];else{for(var R=S[T+1]-S[T],p=16*T,B=this.prevMatrix,F=!0,k=0;k<16;++k)B[k]=E[p++];for(var _=this.nextMatrix,k=0;k<16;++k)_[k]=E[p++],F=F&&B[k]===_[k];if(R<1e-6||F)for(var k=0;k<16;++k)a[k]=B[k];else s(a,B,_,(m-S[T])/R)}var O=this.computedUp;O[0]=a[1],O[1]=a[5],O[2]=a[9],d(O,O);var z=this.computedInverse;n(z,a);var N=this.computedEye,Y=z[15];N[0]=z[12]/Y,N[1]=z[13]/Y,N[2]=z[14]/Y;for(var J=this.computedCenter,ae=Math.exp(this.computedRadius[0]),k=0;k<3;++k)J[k]=N[k]-a[2+4*k]*ae}},A.idle=function(m){if(!(m<this.lastT())){for(var S=this._components,T=S.length-16,a=0;a<16;++a)S.push(S[T++]);this._time.push(m)}},A.flush=function(m){var S=t.gt(this._time,m)-2;S<0||(this._time.splice(0,S),this._components.splice(0,16*S))},A.lastT=function(){return this._time[this._time.length-1]},A.lookAt=function(m,S,T,a){this.recalcMatrix(m),S=S||this.computedEye,T=T||o,a=a||this.computedUp,this.setMatrix(m,g(this.computedMatrix,S,T,a));for(var E=0,p=0;p<3;++p)E+=Math.pow(T[p]-S[p],2);E=Math.log(Math.sqrt(E)),this.computedRadius[0]=E},A.rotate=function(m,S,T,a){this.recalcMatrix(m);var E=this.computedInverse;S&&l(E,E,S),T&&u(E,E,T),a&&f(E,E,a),this.setMatrix(m,n(this.computedMatrix,E))};var b=[0,0,0];A.pan=function(m,S,T,a){b[0]=-(S||0),b[1]=-(T||0),b[2]=-(a||0),this.recalcMatrix(m);var E=this.computedInverse;h(E,E,b),this.setMatrix(m,n(E,E))},A.translate=function(m,S,T,a){b[0]=S||0,b[1]=T||0,b[2]=a||0,this.recalcMatrix(m);var E=this.computedMatrix;h(E,E,b),this.setMatrix(m,E)},A.setMatrix=function(m,S){if(!(m<this.lastT())){this._time.push(m);for(var T=0;T<16;++T)this._components.push(S[T])}},A.setDistance=function(m,S){this.computedRadius[0]=S},A.setDistanceLimits=function(m,S){var T=this._limits;T[0]=m,T[1]=S},A.getDistanceLimits=function(m){var S=this._limits;return m?(m[0]=S[0],m[1]=S[1],m):S};function M(m){m=m||{};var S=m.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new v(S)}},3090:function(c,y,r){"use strict";c.exports=s;var t=r(3250)[3];function s(n){var u=n.length;if(u<3){for(var v=new Array(u),l=0;l<u;++l)v[l]=l;return u===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:v}for(var f=new Array(u),l=0;l<u;++l)f[l]=l;f.sort(function(m,S){var T=n[m][0]-n[S][0];return T||n[m][1]-n[S][1]});for(var g=[f[0],f[1]],h=[f[0],f[1]],l=2;l<u;++l){for(var w=f[l],d=n[w],o=g.length;o>1&&t(n[g[o-2]],n[g[o-1]],d)<=0;)o-=1,g.pop();for(g.push(w),o=h.length;o>1&&t(n[h[o-2]],n[h[o-1]],d)>=0;)o-=1,h.pop();h.push(w)}for(var v=new Array(h.length+g.length-2),A=0,l=0,b=g.length;l<b;++l)v[A++]=g[l];for(var M=h.length-2;M>0;--M)v[A++]=h[M];return v}},351:function(c,y,r){"use strict";c.exports=s;var t=r(4687);function s(n,u){u||(u=n,n=window);var l=0,f=0,g=0,h={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function d(p){var k=!1;return"altKey"in p&&(k=k||p.altKey!==h.alt,h.alt=!!p.altKey),"shiftKey"in p&&(k=k||p.shiftKey!==h.shift,h.shift=!!p.shiftKey),"ctrlKey"in p&&(k=k||p.ctrlKey!==h.control,h.control=!!p.ctrlKey),"metaKey"in p&&(k=k||p.metaKey!==h.meta,h.meta=!!p.metaKey),k}function o(p,k){var R=t.x(k),B=t.y(k);"buttons"in k&&(p=k.buttons|0),(p!==l||R!==f||B!==g||d(k))&&(l=p|0,f=R||0,g=B||0,u&&u(l,f,g,h))}function v(p){o(0,p)}function A(){(l||f||g||h.shift||h.alt||h.meta||h.control)&&(f=g=0,l=0,h.shift=h.alt=h.control=h.meta=!1,u&&u(0,0,0,h))}function b(p){d(p)&&u&&u(l,f,g,h)}function M(p){t.buttons(p)===0?o(0,p):o(l,p)}function m(p){o(l|t.buttons(p),p)}function S(p){o(l&~t.buttons(p),p)}function T(){w||(w=!0,n.addEventListener("mousemove",M),n.addEventListener("mousedown",m),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",v),n.addEventListener("mouseenter",v),n.addEventListener("mouseout",v),n.addEventListener("mouseover",v),n.addEventListener("blur",A),n.addEventListener("keyup",b),n.addEventListener("keydown",b),n.addEventListener("keypress",b),n!==window&&(window.addEventListener("blur",A),window.addEventListener("keyup",b),window.addEventListener("keydown",b),window.addEventListener("keypress",b)))}function a(){w&&(w=!1,n.removeEventListener("mousemove",M),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",v),n.removeEventListener("mouseenter",v),n.removeEventListener("mouseout",v),n.removeEventListener("mouseover",v),n.removeEventListener("blur",A),n.removeEventListener("keyup",b),n.removeEventListener("keydown",b),n.removeEventListener("keypress",b),n!==window&&(window.removeEventListener("blur",A),window.removeEventListener("keyup",b),window.removeEventListener("keydown",b),window.removeEventListener("keypress",b)))}T();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return w},set:function(p){p?T():a()},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return f},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),E}},24:function(c){var y={left:0,top:0};c.exports=r;function r(s,n,u){n=n||s.currentTarget||s.srcElement,Array.isArray(u)||(u=[0,0]);var l=s.clientX||0,f=s.clientY||0,g=t(n);return u[0]=l-g.left,u[1]=f-g.top,u}function t(s){return s===window||s===document||s===document.body?y:s.getBoundingClientRect()}},4687:function(c,y){"use strict";function r(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var l=u.which;if(l===2)return 4;if(l===3)return 2;if(l>0)return 1<<l-1}else if("button"in u){var l=u.button;if(l===1)return 4;if(l===2)return 2;if(l>=0)return 1<<l}}return 0}y.buttons=r;function t(u){return u.target||u.srcElement||window}y.element=t;function s(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var l=t(u),f=l.getBoundingClientRect();return u.clientX-f.left}return 0}y.x=s;function n(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var l=t(u),f=l.getBoundingClientRect();return u.clientY-f.top}return 0}y.y=n},8512:function(c,y,r){"use strict";var t=r(665);c.exports=s;function s(n,u,l){typeof n=="function"&&(l=!!u,u=n,n=window);var f=t("ex",n),g=function(h){l&&h.preventDefault();var w=h.deltaX||0,d=h.deltaY||0,o=h.deltaZ||0,v=h.deltaMode,A=1;switch(v){case 1:A=f;break;case 2:A=window.innerHeight;break}if(w*=A,d*=A,o*=A,w||d||o)return u(w,d,o,h)};return n.addEventListener("wheel",g),g}},2640:function(c,y,r){"use strict";var t=r(1888);c.exports=u;var s={"false,0,1":function(f,g,h,w,d){return function(v,A,b,M){var m=v.shape[0]|0,S=v.shape[1]|0,T=v.data,a=v.offset|0,E=v.stride[0]|0,p=v.stride[1]|0,k=a,R,B=-E|0,F=0,_=-p|0,O=0,z=-E-p|0,N=0,Y=E|0,J=p-E*m|0,ae=0,se=0,ue=0,K=2*m|0,j=w(K),ie=w(K),W=0,Q=0,ee=-1,$=-1,X=0,oe=-m|0,te=m|0,fe=0,pe=-m-1|0,Ae=m-1|0,be=0,Pe=0,me=0;for(ae=0;ae<m;++ae)j[W++]=h(T[k],A,b,M),k+=Y;if(k+=J,S>0){if(se=1,j[W++]=h(T[k],A,b,M),k+=Y,m>0)for(ae=1,R=T[k],Q=j[W]=h(R,A,b,M),X=j[W+ee],fe=j[W+oe],be=j[W+pe],(Q!==X||Q!==fe||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,X,fe,be,A,b,M),Pe=ie[W]=ue++),W+=1,k+=Y,ae=2;ae<m;++ae)R=T[k],Q=j[W]=h(R,A,b,M),X=j[W+ee],fe=j[W+oe],be=j[W+pe],(Q!==X||Q!==fe||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,X,fe,be,A,b,M),Pe=ie[W]=ue++,be!==X&&g(ie[W+ee],Pe,N,F,be,X,A,b,M)),W+=1,k+=Y;for(k+=J,W=0,me=ee,ee=$,$=me,me=oe,oe=te,te=me,me=pe,pe=Ae,Ae=me,se=2;se<S;++se){if(j[W++]=h(T[k],A,b,M),k+=Y,m>0)for(ae=1,R=T[k],Q=j[W]=h(R,A,b,M),X=j[W+ee],fe=j[W+oe],be=j[W+pe],(Q!==X||Q!==fe||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,X,fe,be,A,b,M),Pe=ie[W]=ue++,be!==fe&&g(ie[W+oe],Pe,O,N,fe,be,A,b,M)),W+=1,k+=Y,ae=2;ae<m;++ae)R=T[k],Q=j[W]=h(R,A,b,M),X=j[W+ee],fe=j[W+oe],be=j[W+pe],(Q!==X||Q!==fe||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,X,fe,be,A,b,M),Pe=ie[W]=ue++,be!==fe&&g(ie[W+oe],Pe,O,N,fe,be,A,b,M),be!==X&&g(ie[W+ee],Pe,N,F,be,X,A,b,M)),W+=1,k+=Y;se&1&&(W=0),me=ee,ee=$,$=me,me=oe,oe=te,te=me,me=pe,pe=Ae,Ae=me,k+=J}}d(ie),d(j)}},"false,1,0":function(f,g,h,w,d){return function(v,A,b,M){var m=v.shape[0]|0,S=v.shape[1]|0,T=v.data,a=v.offset|0,E=v.stride[0]|0,p=v.stride[1]|0,k=a,R,B=-E|0,F=0,_=-p|0,O=0,z=-E-p|0,N=0,Y=p|0,J=E-p*S|0,ae=0,se=0,ue=0,K=2*S|0,j=w(K),ie=w(K),W=0,Q=0,ee=-1,$=-1,X=0,oe=-S|0,te=S|0,fe=0,pe=-S-1|0,Ae=S-1|0,be=0,Pe=0,me=0;for(se=0;se<S;++se)j[W++]=h(T[k],A,b,M),k+=Y;if(k+=J,m>0){if(ae=1,j[W++]=h(T[k],A,b,M),k+=Y,S>0)for(se=1,R=T[k],Q=j[W]=h(R,A,b,M),fe=j[W+oe],X=j[W+ee],be=j[W+pe],(Q!==fe||Q!==X||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,fe,X,be,A,b,M),Pe=ie[W]=ue++),W+=1,k+=Y,se=2;se<S;++se)R=T[k],Q=j[W]=h(R,A,b,M),fe=j[W+oe],X=j[W+ee],be=j[W+pe],(Q!==fe||Q!==X||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,fe,X,be,A,b,M),Pe=ie[W]=ue++,be!==X&&g(ie[W+ee],Pe,O,N,X,be,A,b,M)),W+=1,k+=Y;for(k+=J,W=0,me=oe,oe=te,te=me,me=ee,ee=$,$=me,me=pe,pe=Ae,Ae=me,ae=2;ae<m;++ae){if(j[W++]=h(T[k],A,b,M),k+=Y,S>0)for(se=1,R=T[k],Q=j[W]=h(R,A,b,M),fe=j[W+oe],X=j[W+ee],be=j[W+pe],(Q!==fe||Q!==X||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,fe,X,be,A,b,M),Pe=ie[W]=ue++,be!==fe&&g(ie[W+oe],Pe,N,F,be,fe,A,b,M)),W+=1,k+=Y,se=2;se<S;++se)R=T[k],Q=j[W]=h(R,A,b,M),fe=j[W+oe],X=j[W+ee],be=j[W+pe],(Q!==fe||Q!==X||Q!==be)&&(F=T[k+B],O=T[k+_],N=T[k+z],f(ae,se,R,F,O,N,Q,fe,X,be,A,b,M),Pe=ie[W]=ue++,be!==X&&g(ie[W+ee],Pe,O,N,X,be,A,b,M),be!==fe&&g(ie[W+oe],Pe,N,F,be,fe,A,b,M)),W+=1,k+=Y;ae&1&&(W=0),me=oe,oe=te,te=me,me=ee,ee=$,$=me,me=pe,pe=Ae,Ae=me,k+=J}}d(ie),d(j)}}};function n(l,f,g,h,w,d){var o=[d,w].join(","),v=s[o];return v(l,f,g,t.mallocUint32,t.freeUint32)}function u(l){function f(A){throw new Error("ndarray-extract-contour: "+A)}typeof l!="object"&&f("Must specify arguments");var g=l.order;Array.isArray(g)||f("Must specify order");var h=l.arrayArguments||1;h<1&&f("Must have at least one array argument");var w=l.scalarArguments||0;w<0&&f("Scalar arg count must be > 0"),typeof l.vertex!="function"&&f("Must specify vertex creation function"),typeof l.cell!="function"&&f("Must specify cell creation function"),typeof l.phase!="function"&&f("Must specify phase function");for(var d=l.getters||[],o=new Array(h),v=0;v<h;++v)d.indexOf(v)>=0?o[v]=!0:o[v]=!1;return n(l.vertex,l.cell,l.phase,w,g,o)}},6199:function(c,y,r){"use strict";var t=r(1338),s={zero:function(M,m,S,T){var a=M[0],E=S[0];T|=0;var p=0,k=E;for(p=0;p<a;++p)m[T]=0,T+=k},fdTemplate1:function(M,m,S,T,a,E,p){var k=M[0],R=S[0],B=E[0],F=-1*R,_=R;T|=0,p|=0;var O=0,z=R,N=B;for(O=0;O<k;++O)a[p]=.5*(m[T+F]-m[T+_]),T+=z,p+=N},fdTemplate2:function(M,m,S,T,a,E,p,k,R,B){var F=M[0],_=M[1],O=S[0],z=S[1],N=E[0],Y=E[1],J=R[0],ae=R[1],se=-1*O,ue=O,K=-1*z,j=z;T|=0,p|=0,B|=0;var ie=0,W=0,Q=z,ee=O-_*z,$=Y,X=N-_*Y,oe=ae,te=J-_*ae;for(W=0;W<F;++W){for(ie=0;ie<_;++ie)a[p]=.5*(m[T+se]-m[T+ue]),k[B]=.5*(m[T+K]-m[T+j]),T+=Q,p+=$,B+=oe;T+=ee,p+=X,B+=te}}},n={cdiff:function(M){var m={};return function(T,a,E){var p=T.dtype,k=T.order,R=a.dtype,B=a.order,F=E.dtype,_=E.order,O=[p,k.join(),R,B.join(),F,_.join()].join(),z=m[O];return z||(m[O]=z=M([p,k,R,B,F,_])),z(T.shape.slice(0),T.data,T.stride,T.offset|0,a.data,a.stride,a.offset|0,E.data,E.stride,E.offset|0)}},zero:function(M){var m={};return function(T){var a=T.dtype,E=T.order,p=[a,E.join()].join(),k=m[p];return k||(m[p]=k=M([a,E])),k(T.shape.slice(0),T.data,T.stride,T.offset|0)}},fdTemplate1:function(M){var m={};return function(T,a){var E=T.dtype,p=T.order,k=a.dtype,R=a.order,B=[E,p.join(),k,R.join()].join(),F=m[B];return F||(m[B]=F=M([E,p,k,R])),F(T.shape.slice(0),T.data,T.stride,T.offset|0,a.data,a.stride,a.offset|0)}},fdTemplate2:function(M){var m={};return function(T,a,E){var p=T.dtype,k=T.order,R=a.dtype,B=a.order,F=E.dtype,_=E.order,O=[p,k.join(),R,B.join(),F,_.join()].join(),z=m[O];return z||(m[O]=z=M([p,k,R,B,F,_])),z(T.shape.slice(0),T.data,T.stride,T.offset|0,a.data,a.stride,a.offset|0,E.data,E.stride,E.offset|0)}}};function u(M){var m=n[M.funcName];return m(l.bind(void 0,M))}function l(M){return s[M.funcName]}function f(M){return u({funcName:M.funcName})}var g={},h={},w={body:"",args:[],thisVars:[],localVars:[]},d=f({funcName:"cdiff"}),o=f({funcName:"zero"});function v(M){return M in g?g[M]:g[M]=f({funcName:"fdTemplate"+M})}function A(M,m,S,T){return function(a,E){var p=E.shape.slice();return p[0]>2&&p[1]>2&&T(E.pick(-1,-1).lo(1,1).hi(p[0]-2,p[1]-2),a.pick(-1,-1,0).lo(1,1).hi(p[0]-2,p[1]-2),a.pick(-1,-1,1).lo(1,1).hi(p[0]-2,p[1]-2)),p[1]>2&&(S(E.pick(0,-1).lo(1).hi(p[1]-2),a.pick(0,-1,1).lo(1).hi(p[1]-2)),m(a.pick(0,-1,0).lo(1).hi(p[1]-2))),p[1]>2&&(S(E.pick(p[0]-1,-1).lo(1).hi(p[1]-2),a.pick(p[0]-1,-1,1).lo(1).hi(p[1]-2)),m(a.pick(p[0]-1,-1,0).lo(1).hi(p[1]-2))),p[0]>2&&(S(E.pick(-1,0).lo(1).hi(p[0]-2),a.pick(-1,0,0).lo(1).hi(p[0]-2)),m(a.pick(-1,0,1).lo(1).hi(p[0]-2))),p[0]>2&&(S(E.pick(-1,p[1]-1).lo(1).hi(p[0]-2),a.pick(-1,p[1]-1,0).lo(1).hi(p[0]-2)),m(a.pick(-1,p[1]-1,1).lo(1).hi(p[0]-2))),a.set(0,0,0,0),a.set(0,0,1,0),a.set(p[0]-1,0,0,0),a.set(p[0]-1,0,1,0),a.set(0,p[1]-1,0,0),a.set(0,p[1]-1,1,0),a.set(p[0]-1,p[1]-1,0,0),a.set(p[0]-1,p[1]-1,1,0),a}}function b(M){var m=M.join(),p=h[m];if(p)return p;for(var S=M.length,T=[d,o],a=1;a<=S;++a)T.push(v(a));var E=A,p=E.apply(void 0,T);return h[m]=p,p}c.exports=function(m,S,T){if(Array.isArray(T)||(typeof T=="string"?T=t(S.dimension,T):T=t(S.dimension,"clamp")),S.size===0)return m;if(S.dimension===0)return m.set(0),m;var a=b(T);return a(m,S)}},4317:function(c){"use strict";function y(u,l){var f=Math.floor(l),g=l-f,h=0<=f&&f<u.shape[0],w=0<=f+1&&f+1<u.shape[0],d=h?+u.get(f):0,o=w?+u.get(f+1):0;return(1-g)*d+g*o}function r(u,l,f){var g=Math.floor(l),h=l-g,w=0<=g&&g<u.shape[0],d=0<=g+1&&g+1<u.shape[0],o=Math.floor(f),v=f-o,A=0<=o&&o<u.shape[1],b=0<=o+1&&o+1<u.shape[1],M=w&&A?u.get(g,o):0,m=w&&b?u.get(g,o+1):0,S=d&&A?u.get(g+1,o):0,T=d&&b?u.get(g+1,o+1):0;return(1-v)*((1-h)*M+h*S)+v*((1-h)*m+h*T)}function t(u,l,f,g){var h=Math.floor(l),w=l-h,d=0<=h&&h<u.shape[0],o=0<=h+1&&h+1<u.shape[0],v=Math.floor(f),A=f-v,b=0<=v&&v<u.shape[1],M=0<=v+1&&v+1<u.shape[1],m=Math.floor(g),S=g-m,T=0<=m&&m<u.shape[2],a=0<=m+1&&m+1<u.shape[2],E=d&&b&&T?u.get(h,v,m):0,p=d&&M&&T?u.get(h,v+1,m):0,k=o&&b&&T?u.get(h+1,v,m):0,R=o&&M&&T?u.get(h+1,v+1,m):0,B=d&&b&&a?u.get(h,v,m+1):0,F=d&&M&&a?u.get(h,v+1,m+1):0,_=o&&b&&a?u.get(h+1,v,m+1):0,O=o&&M&&a?u.get(h+1,v+1,m+1):0;return(1-S)*((1-A)*((1-w)*E+w*k)+A*((1-w)*p+w*R))+S*((1-A)*((1-w)*B+w*_)+A*((1-w)*F+w*O))}function s(u){var l=u.shape.length|0,f=new Array(l),g=new Array(l),h=new Array(l),w=new Array(l),d,o;for(d=0;d<l;++d)o=+arguments[d+1],f[d]=Math.floor(o),g[d]=o-f[d],h[d]=0<=f[d]&&f[d]<u.shape[d],w[d]=0<=f[d]+1&&f[d]+1<u.shape[d];var v=0,A,b,M;e:for(d=0;d<1<<l;++d){for(b=1,M=u.offset,A=0;A<l;++A)if(d&1<<A){if(!w[A])continue e;b*=g[A],M+=u.stride[A]*(f[A]+1)}else{if(!h[A])continue e;b*=1-g[A],M+=u.stride[A]*f[A]}v+=b*u.data[M]}return v}function n(u,l,f,g){switch(u.shape.length){case 0:return 0;case 1:return y(u,l);case 2:return r(u,l,f);case 3:return t(u,l,f,g);default:return s.apply(void 0,arguments)}}c.exports=n,c.exports.d1=y,c.exports.d2=r,c.exports.d3=t},5298:function(c,y){"use strict";var r={"float64,2,1,0":function(){return function(h,w,d,o,v){var A=h[0],b=h[1],M=h[2],m=d[0],S=d[1],T=d[2];o|=0;var a=0,E=0,p=0,k=T,R=S-M*T,B=m-b*S;for(p=0;p<A;++p){for(E=0;E<b;++E){for(a=0;a<M;++a)w[o]/=v,o+=k;o+=R}o+=B}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,w,d,o,v,A,b,M){var m=h[0],S=h[1],T=h[2],a=d[0],E=d[1],p=d[2],k=A[0],R=A[1],B=A[2];o|=0,b|=0;for(var F=o,_=b,O=h[0]|0;O>0;){O<64?(m=O,O=0):(m=64,O-=64);for(var z=h[1]|0;z>0;){z<64?(S=z,z=0):(S=64,z-=64),o=F+O*a+z*E,b=_+O*k+z*R;var N=0,Y=0,J=0,ae=p,se=a-T*p,ue=E-m*a,K=B,j=k-T*B,ie=R-m*k;for(J=0;J<S;++J){for(Y=0;Y<m;++Y){for(N=0;N<T;++N)w[o]=v[b]*M,o+=ae,b+=K;o+=se,b+=j}o+=ue,b+=ie}}}}},"float32,1,0,float32,1,0":function(){return function(h,w,d,o,v,A,b){var M=h[0],m=h[1],S=d[0],T=d[1],a=A[0],E=A[1];o|=0,b|=0;var p=0,k=0,R=T,B=S-m*T,F=E,_=a-m*E;for(k=0;k<M;++k){for(p=0;p<m;++p)w[o]=v[b],o+=R,b+=F;o+=B,b+=_}}},"float32,1,0,float32,0,1":function(){return function(h,w,d,o,v,A,b){var M=h[0],m=h[1],S=d[0],T=d[1],a=A[0],E=A[1];o|=0,b|=0;for(var p=o,k=b,R=h[1]|0;R>0;){R<64?(m=R,R=0):(m=64,R-=64);for(var B=h[0]|0;B>0;){B<64?(M=B,B=0):(M=64,B-=64),o=p+R*T+B*S,b=k+R*E+B*a;var F=0,_=0,O=T,z=S-m*T,N=E,Y=a-m*E;for(_=0;_<M;++_){for(F=0;F<m;++F)w[o]=v[b],o+=O,b+=N;o+=z,b+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,w,d,o,v,A,b){var M=h[0],m=h[1],S=h[2],T=d[0],a=d[1],E=d[2],p=A[0],k=A[1],R=A[2];o|=0,b|=0;for(var B=o,F=b,_=h[2]|0;_>0;){_<64?(S=_,_=0):(S=64,_-=64);for(var O=h[0]|0;O>0;){O<64?(M=O,O=0):(M=64,O-=64);for(var z=h[1]|0;z>0;){z<64?(m=z,z=0):(m=64,z-=64),o=B+_*E+O*T+z*a,b=F+_*R+O*p+z*k;var N=0,Y=0,J=0,ae=E,se=T-S*E,ue=a-M*T,K=R,j=p-S*R,ie=k-M*p;for(J=0;J<m;++J){for(Y=0;Y<M;++Y){for(N=0;N<S;++N)w[o]=v[b],o+=ae,b+=K;o+=se,b+=j}o+=ue,b+=ie}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,w,d,o,v,A,b){var M=h[0],m=h[1],S=h[2],T=d[0],a=d[1],E=d[2],p=A[0],k=A[1],R=A[2];o|=0,b|=0;var B=0,F=0,_=0,O=E,z=T-S*E,N=a-M*T,Y=R,J=p-S*R,ae=k-M*p;for(_=0;_<m;++_){for(F=0;F<M;++F){for(B=0;B<S;++B)w[o]=v[b],o+=O,b+=Y;o+=z,b+=J}o+=N,b+=ae}}}};function t(g,h){var w=h.join(","),d=r[w];return d()}var s=t,n={mul:function(g){var h={};return function(d,o,v){var A=d.dtype,b=d.order,M=o.dtype,m=o.order,S=v.dtype,T=v.order,a=[A,b.join(),M,m.join(),S,T.join()].join(),E=h[a];return E||(h[a]=E=g([A,b,M,m,S,T])),E(d.shape.slice(0),d.data,d.stride,d.offset|0,o.data,o.stride,o.offset|0,v.data,v.stride,v.offset|0)}},muls:function(g){var h={};return function(d,o,v){var A=d.dtype,b=d.order,M=o.dtype,m=o.order,S=[A,b.join(),M,m.join()].join(),T=h[S];return T||(h[S]=T=g([A,b,M,m])),T(d.shape.slice(0),d.data,d.stride,d.offset|0,o.data,o.stride,o.offset|0,v)}},mulseq:function(g){var h={};return function(d,o){var v=d.dtype,A=d.order,b=[v,A.join()].join(),M=h[b];return M||(h[b]=M=g([v,A])),M(d.shape.slice(0),d.data,d.stride,d.offset|0,o)}},div:function(g){var h={};return function(d,o,v){var A=d.dtype,b=d.order,M=o.dtype,m=o.order,S=v.dtype,T=v.order,a=[A,b.join(),M,m.join(),S,T.join()].join(),E=h[a];return E||(h[a]=E=g([A,b,M,m,S,T])),E(d.shape.slice(0),d.data,d.stride,d.offset|0,o.data,o.stride,o.offset|0,v.data,v.stride,v.offset|0)}},divs:function(g){var h={};return function(d,o,v){var A=d.dtype,b=d.order,M=o.dtype,m=o.order,S=[A,b.join(),M,m.join()].join(),T=h[S];return T||(h[S]=T=g([A,b,M,m])),T(d.shape.slice(0),d.data,d.stride,d.offset|0,o.data,o.stride,o.offset|0,v)}},divseq:function(g){var h={};return function(d,o){var v=d.dtype,A=d.order,b=[v,A.join()].join(),M=h[b];return M||(h[b]=M=g([v,A])),M(d.shape.slice(0),d.data,d.stride,d.offset|0,o)}},assign:function(g){var h={};return function(d,o){var v=d.dtype,A=d.order,b=o.dtype,M=o.order,m=[v,A.join(),b,M.join()].join(),S=h[m];return S||(h[m]=S=g([v,A,b,M])),S(d.shape.slice(0),d.data,d.stride,d.offset|0,o.data,o.stride,o.offset|0)}}};function u(g){var h=n[g.funcName];return h(s.bind(void 0,g))}function l(g){return u({funcName:g.funcName})}var f={mul:"*",div:"/"};(function(){for(var g in f)y[g]=l({funcName:g}),y[g+"s"]=l({funcName:g+"s"}),y[g+"seq"]=l({funcName:g+"seq"})})(),y.assign=l({funcName:"assign"})},9994:function(c,y,r){"use strict";var t=r(9618),s=r(8277);c.exports=function(u,l){for(var f=[],g=u,h=1;Array.isArray(g);)f.push(g.length),h*=g.length,g=g[0];return f.length===0?t():(l||(l=t(new Float64Array(h),f)),s(l,u),l)}},8277:function(c){"use strict";function y(){return function(l,f,g,h,w){var d=l[0],o=l[1],v=l[2],A=g[0],b=g[1],M=g[2],m=[0,0,0];h|=0;var S=0,T=0,a=0,E=M,p=b-v*M,k=A-o*b;for(a=0;a<d;++a){for(T=0;T<o;++T){for(S=0;S<v;++S){{var R=w,B;for(B=0;B<m.length-1;++B)R=R[m[B]];f[h]=R[m[m.length-1]]}h+=E,++m[2]}h+=p,m[2]-=v,++m[1]}h+=k,m[1]-=o,++m[0]}}}function r(){return y()}var t=r;function s(l){var f={};return function(h,w){var d=h.dtype,o=h.order,v=[d,o.join()].join(),A=f[v];return A||(f[v]=A=l([d,o])),A(h.shape.slice(0),h.data,h.stride,h.offset|0,w)}}function n(l){return s(t.bind(void 0,l))}function u(l){return n({funcName:l.funcName})}c.exports=u({funcName:"convert"})},7640:function(c,y,r){"use strict";var t=r(1888);function s(w){switch(w){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(w,d){return function(v,A,b,M,m,S,T,a,E,p,k){var R,B,F,_=v*m+M,O,z=w(a),N,Y,J,ae;for(R=v+1;R<=A;++R){for(B=R,_+=m,F=_,N=0,Y=_,O=0;O<a;++O)z[N++]=b[Y],Y+=E;e:for(;B-- >v;){N=0,Y=F-m;t:for(O=0;O<a;++O){if(J=b[Y],ae=z[N],J<ae)break e;if(J>ae)break t;Y+=p,N+=k}for(N=F,Y=F-m,O=0;O<a;++O)b[N]=b[Y],N+=E,Y+=E;F-=m}for(N=F,Y=0,O=0;O<a;++O)b[N]=z[Y++],N+=E}d(z)}}};function u(w,d){var o=s(d),v=[d,w].join(","),A=n[v];return o?A(o[0],o[1]):A()}var l={"uint32,1,0":function(w,d,o){return function v(A,b,M,m,S,T,a,E,p,k,R){var B=(b-A+1)/6|0,F=A+B,_=b-B,O=A+b>>1,z=O-B,N=O+B,Y=F,J=z,ae=O,se=N,ue=_,K=A+1,j=b-1,ie=!0,W,Q,ee,$,X,oe,te,fe,pe,Ae=0,be=0,Pe=0,me,Ee,xe,De,Ve,Ze,ke,Ye,lt,yt,He,Fe,nt,ot,ct,ht,mt=E,tt=d(mt),Re=d(mt);Ee=S*Y,xe=S*J,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=Y,Y=J,J=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*se,xe=S*ue,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=se,se=ue,ue=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*Y,xe=S*ae,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=Y,Y=ae,ae=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*J,xe=S*ae,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=J,J=ae,ae=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*Y,xe=S*se,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=Y,Y=se,se=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*ae,xe=S*se,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=ae,ae=se,se=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*J,xe=S*ue,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=J,J=ue,ue=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*J,xe=S*ae,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=J,J=ae,ae=Q;break e}if(Pe<0)break e;ht+=k}Ee=S*se,xe=S*ue,ht=m;e:for(me=0;me<E;++me){if(te=Ee+ht,fe=xe+ht,Pe=M[te]-M[fe],Pe>0){Q=se,se=ue,ue=Q;break e}if(Pe<0)break e;ht+=k}for(Ee=S*Y,xe=S*J,De=S*ae,Ve=S*se,Ze=S*ue,ke=S*F,Ye=S*O,lt=S*_,ct=0,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,pe=De+ht,yt=Ve+ht,He=Ze+ht,Fe=ke+ht,nt=Ye+ht,ot=lt+ht,tt[ct]=M[fe],Re[ct]=M[yt],ie=ie&&tt[ct]===Re[ct],ee=M[te],$=M[pe],X=M[He],M[Fe]=ee,M[nt]=$,M[ot]=X,++ct,ht+=p;for(Ee=S*z,xe=S*A,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,M[te]=M[fe],ht+=p;for(Ee=S*N,xe=S*b,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,M[te]=M[fe],ht+=p;if(ie)for(oe=K;oe<=j;++oe){te=m+oe*S,ct=0;e:for(me=0;me<E;++me){if(Pe=M[te]-tt[ct],Pe!==0)break e;ct+=R,te+=k}if(Pe!==0)if(Pe<0){if(oe!==K)for(Ee=S*oe,xe=S*K,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,W=M[te],M[te]=M[fe],M[fe]=W,ht+=p;++K}else for(;;){te=m+j*S,ct=0;e:for(me=0;me<E;++me){if(Pe=M[te]-tt[ct],Pe!==0)break e;ct+=R,te+=k}if(Pe>0)j--;else if(Pe<0){for(Ee=S*oe,xe=S*K,De=S*j,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,pe=De+ht,W=M[te],M[te]=M[fe],M[fe]=M[pe],M[pe]=W,ht+=p;++K,--j;break}else{for(Ee=S*oe,xe=S*j,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,W=M[te],M[te]=M[fe],M[fe]=W,ht+=p;--j;break}}}else for(oe=K;oe<=j;++oe){te=m+oe*S,ct=0;e:for(me=0;me<E;++me){if(Ae=M[te]-tt[ct],Ae!==0)break e;ct+=R,te+=k}if(Ae<0){if(oe!==K)for(Ee=S*oe,xe=S*K,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,W=M[te],M[te]=M[fe],M[fe]=W,ht+=p;++K}else{te=m+oe*S,ct=0;e:for(me=0;me<E;++me){if(be=M[te]-Re[ct],be!==0)break e;ct+=R,te+=k}if(be>0)for(;;){te=m+j*S,ct=0;e:for(me=0;me<E;++me){if(Pe=M[te]-Re[ct],Pe!==0)break e;ct+=R,te+=k}if(Pe>0){if(--j<oe)break;continue}else{te=m+j*S,ct=0;e:for(me=0;me<E;++me){if(Pe=M[te]-tt[ct],Pe!==0)break e;ct+=R,te+=k}if(Pe<0){for(Ee=S*oe,xe=S*K,De=S*j,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,pe=De+ht,W=M[te],M[te]=M[fe],M[fe]=M[pe],M[pe]=W,ht+=p;++K,--j}else{for(Ee=S*oe,xe=S*j,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,W=M[te],M[te]=M[fe],M[fe]=W,ht+=p;--j}break}}}}for(Ee=S*A,xe=S*(K-1),ct=0,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,M[te]=M[fe],M[fe]=tt[ct],++ct,ht+=p;for(Ee=S*b,xe=S*(j+1),ct=0,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,M[te]=M[fe],M[fe]=Re[ct],++ct,ht+=p;if(K-2-A<=32?w(A,K-2,M,m,S,T,a,E,p,k,R):v(A,K-2,M,m,S,T,a,E,p,k,R),b-(j+2)<=32?w(j+2,b,M,m,S,T,a,E,p,k,R):v(j+2,b,M,m,S,T,a,E,p,k,R),ie){o(tt),o(Re);return}if(K<F&&j>_){e:for(;;){for(te=m+K*S,ct=0,ht=m,me=0;me<E;++me){if(M[te]!==tt[ct])break e;++ct,te+=p}++K}e:for(;;){for(te=m+j*S,ct=0,ht=m,me=0;me<E;++me){if(M[te]!==Re[ct])break e;++ct,te+=p}--j}for(oe=K;oe<=j;++oe){te=m+oe*S,ct=0;e:for(me=0;me<E;++me){if(Ae=M[te]-tt[ct],Ae!==0)break e;ct+=R,te+=k}if(Ae===0){if(oe!==K)for(Ee=S*oe,xe=S*K,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,W=M[te],M[te]=M[fe],M[fe]=W,ht+=p;++K}else{te=m+oe*S,ct=0;e:for(me=0;me<E;++me){if(be=M[te]-Re[ct],be!==0)break e;ct+=R,te+=k}if(be===0)for(;;){te=m+j*S,ct=0;e:for(me=0;me<E;++me){if(Pe=M[te]-Re[ct],Pe!==0)break e;ct+=R,te+=k}if(Pe===0){if(--j<oe)break;continue}else{te=m+j*S,ct=0;e:for(me=0;me<E;++me){if(Pe=M[te]-tt[ct],Pe!==0)break e;ct+=R,te+=k}if(Pe<0){for(Ee=S*oe,xe=S*K,De=S*j,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,pe=De+ht,W=M[te],M[te]=M[fe],M[fe]=M[pe],M[pe]=W,ht+=p;++K,--j}else{for(Ee=S*oe,xe=S*j,ht=m,me=0;me<E;++me)te=Ee+ht,fe=xe+ht,W=M[te],M[te]=M[fe],M[fe]=W,ht+=p;--j}break}}}}}o(tt),o(Re),j-K<=32?w(K,j,M,m,S,T,a,E,p,k,R):v(K,j,M,m,S,T,a,E,p,k,R)}}};function f(w,d,o){var v=s(d),A=[d,w].join(","),b=l[A];return w.length>1&&v?b(o,v[0],v[1]):b(o)}var g={"uint32,1,0":function(w,d){return function(o){var v=o.data,A=o.offset|0,b=o.shape,M=o.stride,m=M[0]|0,S=b[0]|0,T=M[1]|0,a=b[1]|0,E=T,p=T,k=1;S<=32?w(0,S-1,v,A,m,T,S,a,E,p,k):d(0,S-1,v,A,m,T,S,a,E,p,k)}}};function h(w,d){var o=[d,w].join(","),v=g[o],A=u(w,d),b=f(w,d,A);return v(A,b)}c.exports=h},446:function(c,y,r){"use strict";var t=r(7640),s={};function n(u){var l=u.order,f=u.dtype,g=[l,f],h=g.join(":"),w=s[h];return w||(s[h]=w=t(l,f)),w(u),u}c.exports=n},9618:function(c,y,r){var t=r(7163),s=typeof Float64Array!="undefined";function n(d,o){return d[0]-o[0]}function u(){var d=this.stride,o=new Array(d.length),v;for(v=0;v<o.length;++v)o[v]=[Math.abs(d[v]),v];o.sort(n);var A=new Array(o.length);for(v=0;v<A.length;++v)A[v]=o[v][1];return A}var l={T:function(d){function o(A){this.data=A}var v=o.prototype;return v.dtype=d,v.index=function(){return-1},v.size=0,v.dimension=-1,v.shape=v.stride=v.order=[],v.lo=v.hi=v.transpose=v.step=function(){return new o(this.data)},v.get=v.set=function(){},v.pick=function(){return null},function(b){return new o(b)}},0:function(d,o){function v(b,M){this.data=b,this.offset=M}var A=v.prototype;return A.dtype=d,A.index=function(){return this.offset},A.dimension=0,A.size=1,A.shape=A.stride=A.order=[],A.lo=A.hi=A.transpose=A.step=function(){return new v(this.data,this.offset)},A.pick=function(){return o(this.data)},A.valueOf=A.get=function(){return d==="generic"?this.data.get(this.offset):this.data[this.offset]},A.set=function(M){return d==="generic"?this.data.set(this.offset,M):this.data[this.offset]=M},function(M,m,S,T){return new v(M,T)}},1:function(d,o,v){function A(M,m,S,T){this.data=M,this.shape=[m],this.stride=[S],this.offset=T|0}var b=A.prototype;return b.dtype=d,b.dimension=1,Object.defineProperty(b,"size",{get:function(){return this.shape[0]}}),b.order=[0],b.set=function(m,S){return d==="generic"?this.data.set(this.offset+this.stride[0]*m,S):this.data[this.offset+this.stride[0]*m]=S},b.get=function(m){return d==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},b.index=function(m){return this.offset+this.stride[0]*m},b.hi=function(m){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},b.lo=function(m){var S=this.offset,T=0,a=this.shape[0],E=this.stride[0];return typeof m=="number"&&m>=0&&(T=m|0,S+=E*T,a-=T),new A(this.data,a,E,S)},b.step=function(m){var S=this.shape[0],T=this.stride[0],a=this.offset,E=0,p=Math.ceil;return typeof m=="number"&&(E=m|0,E<0?(a+=T*(S-1),S=p(-S/E)):S=p(S/E),T*=E),new A(this.data,S,T,a)},b.transpose=function(m){m=m===void 0?0:m|0;var S=this.shape,T=this.stride;return new A(this.data,S[m],T[m],this.offset)},b.pick=function(m){var S=[],T=[],a=this.offset;typeof m=="number"&&m>=0?a=a+this.stride[0]*m|0:(S.push(this.shape[0]),T.push(this.stride[0]));var E=o[S.length+1];return E(this.data,S,T,a)},function(m,S,T,a){return new A(m,S[0],T[0],a)}},2:function(d,o,v){function A(M,m,S,T,a,E){this.data=M,this.shape=[m,S],this.stride=[T,a],this.offset=E|0}var b=A.prototype;return b.dtype=d,b.dimension=2,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(b,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),b.set=function(m,S,T){return d==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S,T):this.data[this.offset+this.stride[0]*m+this.stride[1]*S]=T},b.get=function(m,S){return d==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S):this.data[this.offset+this.stride[0]*m+this.stride[1]*S]},b.index=function(m,S){return this.offset+this.stride[0]*m+this.stride[1]*S},b.hi=function(m,S){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},b.lo=function(m,S){var T=this.offset,a=0,E=this.shape[0],p=this.shape[1],k=this.stride[0],R=this.stride[1];return typeof m=="number"&&m>=0&&(a=m|0,T+=k*a,E-=a),typeof S=="number"&&S>=0&&(a=S|0,T+=R*a,p-=a),new A(this.data,E,p,k,R,T)},b.step=function(m,S){var T=this.shape[0],a=this.shape[1],E=this.stride[0],p=this.stride[1],k=this.offset,R=0,B=Math.ceil;return typeof m=="number"&&(R=m|0,R<0?(k+=E*(T-1),T=B(-T/R)):T=B(T/R),E*=R),typeof S=="number"&&(R=S|0,R<0?(k+=p*(a-1),a=B(-a/R)):a=B(a/R),p*=R),new A(this.data,T,a,E,p,k)},b.transpose=function(m,S){m=m===void 0?0:m|0,S=S===void 0?1:S|0;var T=this.shape,a=this.stride;return new A(this.data,T[m],T[S],a[m],a[S],this.offset)},b.pick=function(m,S){var T=[],a=[],E=this.offset;typeof m=="number"&&m>=0?E=E+this.stride[0]*m|0:(T.push(this.shape[0]),a.push(this.stride[0])),typeof S=="number"&&S>=0?E=E+this.stride[1]*S|0:(T.push(this.shape[1]),a.push(this.stride[1]));var p=o[T.length+1];return p(this.data,T,a,E)},function(m,S,T,a){return new A(m,S[0],S[1],T[0],T[1],a)}},3:function(d,o,v){function A(M,m,S,T,a,E,p,k){this.data=M,this.shape=[m,S,T],this.stride=[a,E,p],this.offset=k|0}var b=A.prototype;return b.dtype=d,b.dimension=3,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(b,"order",{get:function(){var m=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),T=Math.abs(this.stride[2]);return m>S?S>T?[2,1,0]:m>T?[1,2,0]:[1,0,2]:m>T?[2,0,1]:T>S?[0,1,2]:[0,2,1]}}),b.set=function(m,S,T,a){return d==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T,a):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T]=a},b.get=function(m,S,T){return d==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T]},b.index=function(m,S,T){return this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T},b.hi=function(m,S,T){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof T!="number"||T<0?this.shape[2]:T|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},b.lo=function(m,S,T){var a=this.offset,E=0,p=this.shape[0],k=this.shape[1],R=this.shape[2],B=this.stride[0],F=this.stride[1],_=this.stride[2];return typeof m=="number"&&m>=0&&(E=m|0,a+=B*E,p-=E),typeof S=="number"&&S>=0&&(E=S|0,a+=F*E,k-=E),typeof T=="number"&&T>=0&&(E=T|0,a+=_*E,R-=E),new A(this.data,p,k,R,B,F,_,a)},b.step=function(m,S,T){var a=this.shape[0],E=this.shape[1],p=this.shape[2],k=this.stride[0],R=this.stride[1],B=this.stride[2],F=this.offset,_=0,O=Math.ceil;return typeof m=="number"&&(_=m|0,_<0?(F+=k*(a-1),a=O(-a/_)):a=O(a/_),k*=_),typeof S=="number"&&(_=S|0,_<0?(F+=R*(E-1),E=O(-E/_)):E=O(E/_),R*=_),typeof T=="number"&&(_=T|0,_<0?(F+=B*(p-1),p=O(-p/_)):p=O(p/_),B*=_),new A(this.data,a,E,p,k,R,B,F)},b.transpose=function(m,S,T){m=m===void 0?0:m|0,S=S===void 0?1:S|0,T=T===void 0?2:T|0;var a=this.shape,E=this.stride;return new A(this.data,a[m],a[S],a[T],E[m],E[S],E[T],this.offset)},b.pick=function(m,S,T){var a=[],E=[],p=this.offset;typeof m=="number"&&m>=0?p=p+this.stride[0]*m|0:(a.push(this.shape[0]),E.push(this.stride[0])),typeof S=="number"&&S>=0?p=p+this.stride[1]*S|0:(a.push(this.shape[1]),E.push(this.stride[1])),typeof T=="number"&&T>=0?p=p+this.stride[2]*T|0:(a.push(this.shape[2]),E.push(this.stride[2]));var k=o[a.length+1];return k(this.data,a,E,p)},function(m,S,T,a){return new A(m,S[0],S[1],S[2],T[0],T[1],T[2],a)}},4:function(d,o,v){function A(M,m,S,T,a,E,p,k,R,B){this.data=M,this.shape=[m,S,T,a],this.stride=[E,p,k,R],this.offset=B|0}var b=A.prototype;return b.dtype=d,b.dimension=4,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(b,"order",{get:v}),b.set=function(m,S,T,a,E){return d==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T+this.stride[3]*a,E):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T+this.stride[3]*a]=E},b.get=function(m,S,T,a){return d==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T+this.stride[3]*a):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T+this.stride[3]*a]},b.index=function(m,S,T,a){return this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*T+this.stride[3]*a},b.hi=function(m,S,T,a){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof T!="number"||T<0?this.shape[2]:T|0,typeof a!="number"||a<0?this.shape[3]:a|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},b.lo=function(m,S,T,a){var E=this.offset,p=0,k=this.shape[0],R=this.shape[1],B=this.shape[2],F=this.shape[3],_=this.stride[0],O=this.stride[1],z=this.stride[2],N=this.stride[3];return typeof m=="number"&&m>=0&&(p=m|0,E+=_*p,k-=p),typeof S=="number"&&S>=0&&(p=S|0,E+=O*p,R-=p),typeof T=="number"&&T>=0&&(p=T|0,E+=z*p,B-=p),typeof a=="number"&&a>=0&&(p=a|0,E+=N*p,F-=p),new A(this.data,k,R,B,F,_,O,z,N,E)},b.step=function(m,S,T,a){var E=this.shape[0],p=this.shape[1],k=this.shape[2],R=this.shape[3],B=this.stride[0],F=this.stride[1],_=this.stride[2],O=this.stride[3],z=this.offset,N=0,Y=Math.ceil;return typeof m=="number"&&(N=m|0,N<0?(z+=B*(E-1),E=Y(-E/N)):E=Y(E/N),B*=N),typeof S=="number"&&(N=S|0,N<0?(z+=F*(p-1),p=Y(-p/N)):p=Y(p/N),F*=N),typeof T=="number"&&(N=T|0,N<0?(z+=_*(k-1),k=Y(-k/N)):k=Y(k/N),_*=N),typeof a=="number"&&(N=a|0,N<0?(z+=O*(R-1),R=Y(-R/N)):R=Y(R/N),O*=N),new A(this.data,E,p,k,R,B,F,_,O,z)},b.transpose=function(m,S,T,a){m=m===void 0?0:m|0,S=S===void 0?1:S|0,T=T===void 0?2:T|0,a=a===void 0?3:a|0;var E=this.shape,p=this.stride;return new A(this.data,E[m],E[S],E[T],E[a],p[m],p[S],p[T],p[a],this.offset)},b.pick=function(m,S,T,a){var E=[],p=[],k=this.offset;typeof m=="number"&&m>=0?k=k+this.stride[0]*m|0:(E.push(this.shape[0]),p.push(this.stride[0])),typeof S=="number"&&S>=0?k=k+this.stride[1]*S|0:(E.push(this.shape[1]),p.push(this.stride[1])),typeof T=="number"&&T>=0?k=k+this.stride[2]*T|0:(E.push(this.shape[2]),p.push(this.stride[2])),typeof a=="number"&&a>=0?k=k+this.stride[3]*a|0:(E.push(this.shape[3]),p.push(this.stride[3]));var R=o[E.length+1];return R(this.data,E,p,k)},function(m,S,T,a){return new A(m,S[0],S[1],S[2],S[3],T[0],T[1],T[2],T[3],a)}},5:function(o,v,A){function b(m,S,T,a,E,p,k,R,B,F,_,O){this.data=m,this.shape=[S,T,a,E,p],this.stride=[k,R,B,F,_],this.offset=O|0}var M=b.prototype;return M.dtype=o,M.dimension=5,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(M,"order",{get:A}),M.set=function(S,T,a,E,p,k){return o==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*a+this.stride[3]*E+this.stride[4]*p,k):this.data[this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*a+this.stride[3]*E+this.stride[4]*p]=k},M.get=function(S,T,a,E,p){return o==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*a+this.stride[3]*E+this.stride[4]*p):this.data[this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*a+this.stride[3]*E+this.stride[4]*p]},M.index=function(S,T,a,E,p){return this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*a+this.stride[3]*E+this.stride[4]*p},M.hi=function(S,T,a,E,p){return new b(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof a!="number"||a<0?this.shape[2]:a|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof p!="number"||p<0?this.shape[4]:p|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},M.lo=function(S,T,a,E,p){var k=this.offset,R=0,B=this.shape[0],F=this.shape[1],_=this.shape[2],O=this.shape[3],z=this.shape[4],N=this.stride[0],Y=this.stride[1],J=this.stride[2],ae=this.stride[3],se=this.stride[4];return typeof S=="number"&&S>=0&&(R=S|0,k+=N*R,B-=R),typeof T=="number"&&T>=0&&(R=T|0,k+=Y*R,F-=R),typeof a=="number"&&a>=0&&(R=a|0,k+=J*R,_-=R),typeof E=="number"&&E>=0&&(R=E|0,k+=ae*R,O-=R),typeof p=="number"&&p>=0&&(R=p|0,k+=se*R,z-=R),new b(this.data,B,F,_,O,z,N,Y,J,ae,se,k)},M.step=function(S,T,a,E,p){var k=this.shape[0],R=this.shape[1],B=this.shape[2],F=this.shape[3],_=this.shape[4],O=this.stride[0],z=this.stride[1],N=this.stride[2],Y=this.stride[3],J=this.stride[4],ae=this.offset,se=0,ue=Math.ceil;return typeof S=="number"&&(se=S|0,se<0?(ae+=O*(k-1),k=ue(-k/se)):k=ue(k/se),O*=se),typeof T=="number"&&(se=T|0,se<0?(ae+=z*(R-1),R=ue(-R/se)):R=ue(R/se),z*=se),typeof a=="number"&&(se=a|0,se<0?(ae+=N*(B-1),B=ue(-B/se)):B=ue(B/se),N*=se),typeof E=="number"&&(se=E|0,se<0?(ae+=Y*(F-1),F=ue(-F/se)):F=ue(F/se),Y*=se),typeof p=="number"&&(se=p|0,se<0?(ae+=J*(_-1),_=ue(-_/se)):_=ue(_/se),J*=se),new b(this.data,k,R,B,F,_,O,z,N,Y,J,ae)},M.transpose=function(S,T,a,E,p){S=S===void 0?0:S|0,T=T===void 0?1:T|0,a=a===void 0?2:a|0,E=E===void 0?3:E|0,p=p===void 0?4:p|0;var k=this.shape,R=this.stride;return new b(this.data,k[S],k[T],k[a],k[E],k[p],R[S],R[T],R[a],R[E],R[p],this.offset)},M.pick=function(S,T,a,E,p){var k=[],R=[],B=this.offset;typeof S=="number"&&S>=0?B=B+this.stride[0]*S|0:(k.push(this.shape[0]),R.push(this.stride[0])),typeof T=="number"&&T>=0?B=B+this.stride[1]*T|0:(k.push(this.shape[1]),R.push(this.stride[1])),typeof a=="number"&&a>=0?B=B+this.stride[2]*a|0:(k.push(this.shape[2]),R.push(this.stride[2])),typeof E=="number"&&E>=0?B=B+this.stride[3]*E|0:(k.push(this.shape[3]),R.push(this.stride[3])),typeof p=="number"&&p>=0?B=B+this.stride[4]*p|0:(k.push(this.shape[4]),R.push(this.stride[4]));var F=v[k.length+1];return F(this.data,k,R,B)},function(S,T,a,E){return new b(S,T[0],T[1],T[2],T[3],T[4],a[0],a[1],a[2],a[3],a[4],E)}}};function f(d,o){var v=o===-1?"T":String(o),A=l[v];return o===-1?A(d):o===0?A(d,h[d][0]):A(d,h[d],u)}function g(d){if(t(d))return"buffer";if(s)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(d,o,v,A){if(d===void 0){var a=h.array[0];return a([])}else typeof d=="number"&&(d=[d]);o===void 0&&(o=[d.length]);var b=o.length;if(v===void 0){v=new Array(b);for(var M=b-1,m=1;M>=0;--M)v[M]=m,m*=o[M]}if(A===void 0){A=0;for(var M=0;M<b;++M)v[M]<0&&(A-=(o[M]-1)*v[M])}for(var S=g(d),T=h[S];T.length<=b+1;)T.push(f(S,T.length-1));var a=T[b+1];return a(d,o,v,A)}c.exports=w},1278:function(c,y,r){"use strict";var t=r(2361),s=Math.pow(2,-1074),n=-1>>>0;c.exports=u;function u(l,f){if(isNaN(l)||isNaN(f))return NaN;if(l===f)return l;if(l===0)return f<0?-s:s;var g=t.hi(l),h=t.lo(l);return f>l==l>0?h===n?(g+=1,h=0):h+=1:h===0?(h=n,g-=1):h-=1,t.pack(h,g)}},8406:function(c,y){var r=1e-6,t=1e-6;y.vertexNormals=function(s,n,u){for(var l=n.length,f=new Array(l),g=u===void 0?r:u,h=0;h<l;++h)f[h]=[0,0,0];for(var h=0;h<s.length;++h)for(var w=s[h],d=0,o=w[w.length-1],v=w[0],A=0;A<w.length;++A){d=o,o=v,v=w[(A+1)%w.length];for(var b=n[d],M=n[o],m=n[v],S=new Array(3),T=0,a=new Array(3),E=0,p=0;p<3;++p)S[p]=b[p]-M[p],T+=S[p]*S[p],a[p]=m[p]-M[p],E+=a[p]*a[p];if(T*E>g)for(var k=f[o],R=1/Math.sqrt(T*E),p=0;p<3;++p){var B=(p+1)%3,F=(p+2)%3;k[p]+=R*(a[B]*S[F]-a[F]*S[B])}}for(var h=0;h<l;++h){for(var k=f[h],_=0,p=0;p<3;++p)_+=k[p]*k[p];if(_>g)for(var R=1/Math.sqrt(_),p=0;p<3;++p)k[p]*=R;else for(var p=0;p<3;++p)k[p]=0}return f},y.faceNormals=function(s,n,u){for(var l=s.length,f=new Array(l),g=u===void 0?t:u,h=0;h<l;++h){for(var w=s[h],d=new Array(3),o=0;o<3;++o)d[o]=n[w[o]];for(var v=new Array(3),A=new Array(3),o=0;o<3;++o)v[o]=d[1][o]-d[0][o],A[o]=d[2][o]-d[0][o];for(var b=new Array(3),M=0,o=0;o<3;++o){var m=(o+1)%3,S=(o+2)%3;b[o]=v[m]*A[S]-v[S]*A[m],M+=b[o]*b[o]}M>g?M=1/Math.sqrt(M):M=0;for(var o=0;o<3;++o)b[o]*=M;f[h]=b}return f}},4081:function(c){"use strict";c.exports=y;function y(r,t,s,n,u,l,f,g,h,w){var d=t+l+w;if(o>0){var o=Math.sqrt(d+1);r[0]=.5*(f-h)/o,r[1]=.5*(g-n)/o,r[2]=.5*(s-l)/o,r[3]=.5*o}else{var v=Math.max(t,l,w),o=Math.sqrt(2*v-d+1);t>=v?(r[0]=.5*o,r[1]=.5*(u+s)/o,r[2]=.5*(g+n)/o,r[3]=.5*(f-h)/o):l>=v?(r[0]=.5*(s+u)/o,r[1]=.5*o,r[2]=.5*(h+f)/o,r[3]=.5*(g-n)/o):(r[0]=.5*(n+g)/o,r[1]=.5*(f+h)/o,r[2]=.5*o,r[3]=.5*(s-u)/o)}return r}},9977:function(c,y,r){"use strict";c.exports=o;var t=r(9215),s=r(6582),n=r(7399),u=r(7608),l=r(4081);function f(v,A,b){return Math.sqrt(Math.pow(v,2)+Math.pow(A,2)+Math.pow(b,2))}function g(v,A,b,M){return Math.sqrt(Math.pow(v,2)+Math.pow(A,2)+Math.pow(b,2)+Math.pow(M,2))}function h(v,A){var b=A[0],M=A[1],m=A[2],S=A[3],T=g(b,M,m,S);T>1e-6?(v[0]=b/T,v[1]=M/T,v[2]=m/T,v[3]=S/T):(v[0]=v[1]=v[2]=0,v[3]=1)}function w(v,A,b){this.radius=t([b]),this.center=t(A),this.rotation=t(v),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=w.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(v){this.radius.curve(v),this.center.curve(v),this.rotation.curve(v);var A=this.computedRotation;h(A,A);var b=this.computedMatrix;n(b,A);var M=this.computedCenter,m=this.computedEye,S=this.computedUp,T=Math.exp(this.computedRadius[0]);m[0]=M[0]+T*b[2],m[1]=M[1]+T*b[6],m[2]=M[2]+T*b[10],S[0]=b[1],S[1]=b[5],S[2]=b[9];for(var a=0;a<3;++a){for(var E=0,p=0;p<3;++p)E+=b[a+4*p]*m[p];b[12+a]=-E}},d.getMatrix=function(v,A){this.recalcMatrix(v);var b=this.computedMatrix;if(A){for(var M=0;M<16;++M)A[M]=b[M];return A}return b},d.idle=function(v){this.center.idle(v),this.radius.idle(v),this.rotation.idle(v)},d.flush=function(v){this.center.flush(v),this.radius.flush(v),this.rotation.flush(v)},d.pan=function(v,A,b,M){A=A||0,b=b||0,M=M||0,this.recalcMatrix(v);var m=this.computedMatrix,S=m[1],T=m[5],a=m[9],E=f(S,T,a);S/=E,T/=E,a/=E;var p=m[0],k=m[4],R=m[8],B=p*S+k*T+R*a;p-=S*B,k-=T*B,R-=a*B;var F=f(p,k,R);p/=F,k/=F,R/=F;var _=m[2],O=m[6],z=m[10],N=_*S+O*T+z*a,Y=_*p+O*k+z*R;_-=N*S+Y*p,O-=N*T+Y*k,z-=N*a+Y*R;var J=f(_,O,z);_/=J,O/=J,z/=J;var ae=p*A+S*b,se=k*A+T*b,ue=R*A+a*b;this.center.move(v,ae,se,ue);var K=Math.exp(this.computedRadius[0]);K=Math.max(1e-4,K+M),this.radius.set(v,Math.log(K))},d.rotate=function(v,A,b,M){this.recalcMatrix(v),A=A||0,b=b||0;var m=this.computedMatrix,S=m[0],T=m[4],a=m[8],E=m[1],p=m[5],k=m[9],R=m[2],B=m[6],F=m[10],_=A*S+b*E,O=A*T+b*p,z=A*a+b*k,N=-(B*z-F*O),Y=-(F*_-R*z),J=-(R*O-B*_),ae=Math.sqrt(Math.max(0,1-Math.pow(N,2)-Math.pow(Y,2)-Math.pow(J,2))),se=g(N,Y,J,ae);se>1e-6?(N/=se,Y/=se,J/=se,ae/=se):(N=Y=J=0,ae=1);var ue=this.computedRotation,K=ue[0],j=ue[1],ie=ue[2],W=ue[3],Q=K*ae+W*N+j*J-ie*Y,ee=j*ae+W*Y+ie*N-K*J,$=ie*ae+W*J+K*Y-j*N,X=W*ae-K*N-j*Y-ie*J;if(M){N=R,Y=B,J=F;var oe=Math.sin(M)/f(N,Y,J);N*=oe,Y*=oe,J*=oe,ae=Math.cos(A),Q=Q*ae+X*N+ee*J-$*Y,ee=ee*ae+X*Y+$*N-Q*J,$=$*ae+X*J+Q*Y-ee*N,X=X*ae-Q*N-ee*Y-$*J}var te=g(Q,ee,$,X);te>1e-6?(Q/=te,ee/=te,$/=te,X/=te):(Q=ee=$=0,X=1),this.rotation.set(v,Q,ee,$,X)},d.lookAt=function(v,A,b,M){this.recalcMatrix(v),b=b||this.computedCenter,A=A||this.computedEye,M=M||this.computedUp;var m=this.computedMatrix;s(m,A,b,M);var S=this.computedRotation;l(S,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),h(S,S),this.rotation.set(v,S[0],S[1],S[2],S[3]);for(var T=0,a=0;a<3;++a)T+=Math.pow(b[a]-A[a],2);this.radius.set(v,.5*Math.log(Math.max(T,1e-6))),this.center.set(v,b[0],b[1],b[2])},d.translate=function(v,A,b,M){this.center.move(v,A||0,b||0,M||0)},d.setMatrix=function(v,A){var b=this.computedRotation;l(b,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),h(b,b),this.rotation.set(v,b[0],b[1],b[2],b[3]);var M=this.computedMatrix;u(M,A);var m=M[15];if(Math.abs(m)>1e-6){var S=M[12]/m,T=M[13]/m,a=M[14]/m;this.recalcMatrix(v);var E=Math.exp(this.computedRadius[0]);this.center.set(v,S-M[2]*E,T-M[6]*E,a-M[10]*E),this.radius.idle(v)}else this.center.idle(v),this.radius.idle(v)},d.setDistance=function(v,A){A>0&&this.radius.set(v,Math.log(A))},d.setDistanceLimits=function(v,A){v>0?v=Math.log(v):v=-1/0,A>0?A=Math.log(A):A=1/0,A=Math.max(A,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=A},d.getDistanceLimits=function(v){var A=this.radius.bounds;return v?(v[0]=Math.exp(A[0][0]),v[1]=Math.exp(A[1][0]),v):[Math.exp(A[0][0]),Math.exp(A[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(v){var A=this.lastT(),b=v.center;b&&this.center.set(A,b[0],b[1],b[2]);var M=v.rotation;M&&this.rotation.set(A,M[0],M[1],M[2],M[3]);var m=v.distance;m&&m>0&&this.radius.set(A,Math.log(m)),this.setDistanceLimits(v.zoomMin,v.zoomMax)};function o(v){v=v||{};var A=v.center||[0,0,0],b=v.rotation||[0,0,0,1],M=v.radius||1;A=[].slice.call(A,0,3),b=[].slice.call(b,0,4),h(b,b);var m=new w(b,A,Math.log(M));return m.setDistanceLimits(v.zoomMin,v.zoomMax),("eye"in v||"up"in v)&&m.lookAt(0,v.eye,v.center,v.up),m}},1371:function(c,y,r){"use strict";var t=r(3233);c.exports=function(n,u,l){return l=typeof l!="undefined"?l+"":" ",t(l,u)+n}},3202:function(c){c.exports=function(r,t){t||(t=[0,""]),r=String(r);var s=parseFloat(r,10);return t[0]=s,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(c,y,r){"use strict";c.exports=s;var t=r(3140);function s(n,u){for(var l=u.length|0,f=n.length,g=[new Array(l),new Array(l)],h=0;h<l;++h)g[0][h]=[],g[1][h]=[];for(var h=0;h<f;++h){var w=n[h];g[0][w[0]].push(w),g[1][w[1]].push(w)}for(var d=[],h=0;h<l;++h)g[0][h].length+g[1][h].length===0&&d.push([h]);function o(a,E){var p=g[E][a[E]];p.splice(p.indexOf(a),1)}function v(a,E,p){for(var k,R,B,F=0;F<2;++F)if(g[F][E].length>0){k=g[F][E][0],B=F;break}R=k[B^1];for(var _=0;_<2;++_)for(var O=g[_][E],z=0;z<O.length;++z){var N=O[z],Y=N[_^1],J=t(u[a],u[E],u[R],u[Y]);J>0&&(k=N,R=Y,B=_)}return p||k&&o(k,B),R}function A(a,E){var p=g[E][a][0],k=[a];o(p,E);for(var R=p[E^1],B=E;;){for(;R!==a;)k.push(R),R=v(k[k.length-2],R,!1);if(g[0][a].length+g[1][a].length===0)break;var F=k[k.length-1],_=a,O=k[1],z=v(F,_,!0);if(t(u[F],u[_],u[O],u[z])<0)break;k.push(a),R=v(F,_)}return k}function b(a,E){return E[1]===E[E.length-1]}for(var h=0;h<l;++h)for(var M=0;M<2;++M){for(var m=[];g[M][h].length>0;){var S=g[0][h].length,T=A(h,M);b(m,T)?m.push.apply(m,T):(m.length>0&&d.push(m),m=T)}m.length>0&&d.push(m)}return d}},5609:function(c,y,r){"use strict";c.exports=s;var t=r(3134);function s(n,u){for(var l=t(n,u.length),f=new Array(u.length),g=new Array(u.length),h=[],w=0;w<u.length;++w){var d=l[w].length;g[w]=d,f[w]=!0,d<=1&&h.push(w)}for(;h.length>0;){var o=h.pop();f[o]=!1;for(var v=l[o],w=0;w<v.length;++w){var A=v[w];--g[A]===0&&h.push(A)}}for(var b=new Array(u.length),M=[],w=0;w<u.length;++w)if(f[w]){var o=M.length;b[w]=o,M.push(u[w])}else b[w]=-1;for(var m=[],w=0;w<n.length;++w){var S=n[w];f[S[0]]&&f[S[1]]&&m.push([b[S[0]],b[S[1]]])}return[m,M]}},2095:function(c,y,r){"use strict";c.exports=d;var t=r(3134),s=r(3088),n=r(5085),u=r(5250),l=r(8210),f=r(1682),g=r(5609);function h(o,v){for(var A=new Array(o),b=0;b<o;++b)A[b]=v;return A}function w(o){for(var v=new Array(o),A=0;A<o;++A)v[A]=[];return v}function d(o,v){var oe=g(o,v);o=oe[0],v=oe[1];for(var A=v.length,b=o.length,M=t(o,v.length),m=0;m<A;++m)if(M[m].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var S=s(o,v);function T(me){for(var Ee=me.length,xe=[0],De=0;De<Ee;++De){var Ve=v[me[De]],Ze=v[me[(De+1)%Ee]],ke=u(-Ve[0],Ve[1]),Ye=u(-Ve[0],Ze[1]),lt=u(Ze[0],Ve[1]),yt=u(Ze[0],Ze[1]);xe=l(xe,l(l(ke,Ye),l(lt,yt)))}return xe[xe.length-1]>0}S=S.filter(T);for(var a=S.length,E=new Array(a),p=new Array(a),m=0;m<a;++m){E[m]=m;var k=new Array(a),R=S[m].map(function(Ee){return v[Ee]}),B=n([R]),F=0;e:for(var _=0;_<a;++_)if(k[_]=0,m!==_){for(var O=S[_],z=O.length,N=0;N<z;++N){var Y=B(v[O[N]]);if(Y!==0){Y<0&&(k[_]=1,F+=1);continue e}}k[_]=1,F+=1}p[m]=[F,m,k]}p.sort(function(me,Ee){return Ee[0]-me[0]});for(var m=0;m<a;++m)for(var k=p[m],J=k[1],ae=k[2],_=0;_<a;++_)ae[_]&&(E[_]=J);for(var se=w(a),m=0;m<a;++m)se[m].push(E[m]),se[E[m]].push(m);for(var ue={},K=h(A,!1),m=0;m<a;++m)for(var O=S[m],z=O.length,_=0;_<z;++_){var j=O[_],ie=O[(_+1)%z],W=Math.min(j,ie)+":"+Math.max(j,ie);if(W in ue){var Q=ue[W];se[Q].push(m),se[m].push(Q),K[j]=K[ie]=!0}else ue[W]=m}function ee(me){for(var Ee=me.length,xe=0;xe<Ee;++xe)if(!K[me[xe]])return!1;return!0}for(var $=[],X=h(a,-1),m=0;m<a;++m)E[m]===m&&!ee(S[m])?($.push(m),X[m]=0):X[m]=-1;for(var oe=[];$.length>0;){var te=$.pop(),fe=se[te];f(fe,function(me,Ee){return me-Ee});var pe=fe.length,Ae=X[te],be;if(Ae===0){var O=S[te];be=[O]}for(var m=0;m<pe;++m){var Pe=fe[m];if(!(X[Pe]>=0)&&(X[Pe]=Ae^1,$.push(Pe),Ae===0)){var O=S[Pe];ee(O)||(O.reverse(),be.push(O))}}Ae===0&&oe.push(be)}return oe}},5085:function(c,y,r){c.exports=v;var t=r(3250)[3],s=r(4209),n=r(3352),u=r(2478);function l(){return!0}function f(A){return function(b,M){var m=A[b];return m?!!m.queryPoint(M,l):!1}}function g(A){for(var b={},M=0;M<A.length;++M){var m=A[M],S=m[0][0],T=m[0][1],a=m[1][1],E=[Math.min(T,a),Math.max(T,a)];S in b?b[S].push(E):b[S]=[E]}for(var p={},k=Object.keys(b),M=0;M<k.length;++M){var R=b[k[M]];p[k[M]]=n(R)}return f(p)}function h(A,b){return function(M){var m=u.le(b,M[0]);if(m<0)return 1;var S=A[m];if(!S)if(m>0&&b[m]===M[0])S=A[m-1];else return 1;for(var T=1;S;){var a=S.key,E=t(M,a[0],a[1]);if(a[0][0]<a[1][0])if(E<0)S=S.left;else if(E>0)T=-1,S=S.right;else return 0;else if(E>0)S=S.left;else if(E<0)T=1,S=S.right;else return 0}return T}}function w(A){return 1}function d(A){return function(M){return A(M[0],M[1])?0:1}}function o(A,b){return function(m){return A(m[0],m[1])?0:b(m)}}function v(A){for(var b=A.length,M=[],m=[],S=0,T=0;T<b;++T)for(var a=A[T],E=a.length,p=E-1,k=0;k<E;p=k++){var R=a[p],B=a[k];R[0]===B[0]?m.push([R,B]):M.push([R,B])}if(M.length===0)return m.length===0?w:d(g(m));var F=s(M),_=h(F.slabs,F.coordinates);return m.length===0?_:o(g(m),_)}},9346:function(c){"use strict";var y=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function s(n,u,l,f,g){y.length<f.length&&(y=new Float64Array(f.length),r=new Float64Array(f.length),t=new Float64Array(f.length));for(var h=0;h<f.length;++h)y[h]=n[h]-f[h],r[h]=u[h]-n[h],t[h]=l[h]-n[h];for(var w=0,d=0,o=0,v=0,A=0,b=0,h=0;h<f.length;++h){var M=r[h],m=t[h],S=y[h];w+=M*M,d+=M*m,o+=m*m,v+=S*M,A+=S*m,b+=S*S}var T=Math.abs(w*o-d*d),a=d*A-o*v,E=d*v-w*A,p;if(a+E<=T)if(a<0)E<0&&v<0?(E=0,-v>=w?(a=1,p=w+2*v+b):(a=-v/w,p=v*a+b)):(a=0,A>=0?(E=0,p=b):-A>=o?(E=1,p=o+2*A+b):(E=-A/o,p=A*E+b));else if(E<0)E=0,v>=0?(a=0,p=b):-v>=w?(a=1,p=w+2*v+b):(a=-v/w,p=v*a+b);else{var k=1/T;a*=k,E*=k,p=a*(w*a+d*E+2*v)+E*(d*a+o*E+2*A)+b}else{var R,B,F,_;a<0?(R=d+v,B=o+A,B>R?(F=B-R,_=w-2*d+o,F>=_?(a=1,E=0,p=w+2*v+b):(a=F/_,E=1-a,p=a*(w*a+d*E+2*v)+E*(d*a+o*E+2*A)+b)):(a=0,B<=0?(E=1,p=o+2*A+b):A>=0?(E=0,p=b):(E=-A/o,p=A*E+b))):E<0?(R=d+A,B=w+v,B>R?(F=B-R,_=w-2*d+o,F>=_?(E=1,a=0,p=o+2*A+b):(E=F/_,a=1-E,p=a*(w*a+d*E+2*v)+E*(d*a+o*E+2*A)+b)):(E=0,B<=0?(a=1,p=w+2*v+b):v>=0?(a=0,p=b):(a=-v/w,p=v*a+b))):(F=o+A-d-v,F<=0?(a=0,E=1,p=o+2*A+b):(_=w-2*d+o,F>=_?(a=1,E=0,p=w+2*v+b):(a=F/_,E=1-a,p=a*(w*a+d*E+2*v)+E*(d*a+o*E+2*A)+b)))}for(var O=1-a-E,h=0;h<f.length;++h)g[h]=O*n[h]+a*u[h]+E*l[h];return p<0?0:p}c.exports=s},8648:function(c,y,r){c.exports=r(783)},2653:function(c,y,r){"use strict";var t=r(3865);c.exports=s;function s(n,u){for(var l=n.length,f=new Array(l),g=0;g<l;++g)f[g]=t(n[g],u[g]);return f}},5838:function(c,y,r){"use strict";c.exports=s;var t=r(7842);function s(n){for(var u=new Array(n.length),l=0;l<n.length;++l)u[l]=t(n[l]);return u}},8987:function(c,y,r){"use strict";var t=r(7842),s=r(6504);c.exports=n;function n(u,l){for(var f=t(l),g=u.length,h=new Array(g),w=0;w<g;++w)h[w]=s(u[w],f);return h}},544:function(c,y,r){"use strict";var t=r(5572);c.exports=s;function s(n,u){for(var l=n.length,f=new Array(l),g=0;g<l;++g)f[g]=t(n[g],u[g]);return f}},5771:function(c,y,r){"use strict";var t=r(8507),s=r(3788),n=r(2419);c.exports=u;function u(l){l.sort(s);for(var f=l.length,g=0,h=0;h<f;++h){var w=l[h],d=n(w);if(d!==0){if(g>0){var o=l[g-1];if(t(w,o)===0&&n(o)!==d){g-=1;continue}}l[g++]=w}}return l.length=g,l}},3233:function(c){"use strict";var y="",r;c.exports=t;function t(s,n){if(typeof s!="string")throw new TypeError("expected a string");if(n===1)return s;if(n===2)return s+s;var u=s.length*n;if(r!==s||typeof r=="undefined")r=s,y="";else if(y.length>=u)return y.substr(0,u);for(;u>y.length&&n>1;)n&1&&(y+=s),n>>=1,s+=s;return y+=s,y=y.substr(0,u),y}},3025:function(c,y,r){c.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(c){"use strict";c.exports=y;function y(r){for(var t=r.length,s=r[r.length-1],n=t,u=t-2;u>=0;--u){var l=s,f=r[u];s=l+f;var g=s-l,h=f-g;h&&(r[--n]=s,s=h)}for(var w=0,u=n;u<t;++u){var l=r[u],f=s;s=l+f;var g=s-l,h=f-g;h&&(r[w++]=h)}return r[w++]=s,r.length=w,r}},2962:function(c,y,r){"use strict";var t=r(5250),s=r(8210),n=r(3012),u=r(7004),l=6;function f(b,M,m,S){return function(a){return S(b(m(a[0][0],a[1][1]),m(-a[0][1],a[1][0])))}}function g(b,M,m,S){return function(a){return S(b(M(b(m(a[1][1],a[2][2]),m(-a[1][2],a[2][1])),a[0][0]),b(M(b(m(a[1][0],a[2][2]),m(-a[1][2],a[2][0])),-a[0][1]),M(b(m(a[1][0],a[2][1]),m(-a[1][1],a[2][0])),a[0][2]))))}}function h(b,M,m,S){return function(a){return S(b(b(M(b(M(b(m(a[2][2],a[3][3]),m(-a[2][3],a[3][2])),a[1][1]),b(M(b(m(a[2][1],a[3][3]),m(-a[2][3],a[3][1])),-a[1][2]),M(b(m(a[2][1],a[3][2]),m(-a[2][2],a[3][1])),a[1][3]))),a[0][0]),M(b(M(b(m(a[2][2],a[3][3]),m(-a[2][3],a[3][2])),a[1][0]),b(M(b(m(a[2][0],a[3][3]),m(-a[2][3],a[3][0])),-a[1][2]),M(b(m(a[2][0],a[3][2]),m(-a[2][2],a[3][0])),a[1][3]))),-a[0][1])),b(M(b(M(b(m(a[2][1],a[3][3]),m(-a[2][3],a[3][1])),a[1][0]),b(M(b(m(a[2][0],a[3][3]),m(-a[2][3],a[3][0])),-a[1][1]),M(b(m(a[2][0],a[3][1]),m(-a[2][1],a[3][0])),a[1][3]))),a[0][2]),M(b(M(b(m(a[2][1],a[3][2]),m(-a[2][2],a[3][1])),a[1][0]),b(M(b(m(a[2][0],a[3][2]),m(-a[2][2],a[3][0])),-a[1][1]),M(b(m(a[2][0],a[3][1]),m(-a[2][1],a[3][0])),a[1][2]))),-a[0][3]))))}}function w(b,M,m,S){return function(a){return S(b(b(M(b(b(M(b(M(b(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][2]),b(M(b(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),-a[2][3]),M(b(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][4]))),a[1][1]),M(b(M(b(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][1]),b(M(b(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][3]),M(b(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][4]))),-a[1][2])),b(M(b(M(b(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][1]),b(M(b(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][2]),M(b(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][4]))),a[1][3]),M(b(M(b(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][1]),b(M(b(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),-a[2][2]),M(b(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][3]))),-a[1][4]))),a[0][0]),M(b(b(M(b(M(b(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][2]),b(M(b(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),-a[2][3]),M(b(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][4]))),a[1][0]),M(b(M(b(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][0]),b(M(b(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][3]),M(b(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),a[2][4]))),-a[1][2])),b(M(b(M(b(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][0]),b(M(b(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][2]),M(b(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][4]))),a[1][3]),M(b(M(b(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][0]),b(M(b(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][2]),M(b(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][3]))),-a[1][4]))),-a[0][1])),b(M(b(b(M(b(M(b(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][1]),b(M(b(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][3]),M(b(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][4]))),a[1][0]),M(b(M(b(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][0]),b(M(b(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][3]),M(b(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),a[2][4]))),-a[1][1])),b(M(b(M(b(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),a[2][0]),b(M(b(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][1]),M(b(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][4]))),a[1][3]),M(b(M(b(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][0]),b(M(b(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][1]),M(b(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][3]))),-a[1][4]))),a[0][2]),b(M(b(b(M(b(M(b(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][1]),b(M(b(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][2]),M(b(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][4]))),a[1][0]),M(b(M(b(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][0]),b(M(b(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][2]),M(b(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][4]))),-a[1][1])),b(M(b(M(b(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),a[2][0]),b(M(b(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][1]),M(b(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][4]))),a[1][2]),M(b(M(b(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][0]),b(M(b(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),-a[2][1]),M(b(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][2]))),-a[1][4]))),-a[0][3]),M(b(b(M(b(M(b(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][1]),b(M(b(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),-a[2][2]),M(b(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][3]))),a[1][0]),M(b(M(b(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][0]),b(M(b(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][2]),M(b(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][3]))),-a[1][1])),b(M(b(M(b(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][0]),b(M(b(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][1]),M(b(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][3]))),a[1][2]),M(b(M(b(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][0]),b(M(b(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),-a[2][1]),M(b(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][2]))),-a[1][3]))),a[0][4])))))}}function d(b){var M=b===2?f:b===3?g:b===4?h:b===5?w:void 0;return M(s,n,t,u)}var o=[function(){return[0]},function(M){return[M[0][0]]}];function v(b,M,m,S,T,a,E,p){return function(R){switch(R.length){case 0:return b(R);case 1:return M(R);case 2:return m(R);case 3:return S(R);case 4:return T(R);case 5:return a(R)}var B=E[R.length];return B||(B=E[R.length]=p(R.length)),B(R)}}function A(){for(;o.length<l;)o.push(d(o.length));c.exports=v.apply(void 0,o.concat([o,d]));for(var b=0;b<o.length;++b)c.exports[b]=o[b]}A()},1944:function(c,y,r){"use strict";var t=r(5250),s=r(8210);c.exports=n;function n(u,l){for(var f=t(u[0],l[0]),g=1;g<u.length;++g)f=s(f,t(u[g],l[g]));return f}},2646:function(c,y,r){"use strict";var t=r(5250),s=r(8210),n=r(8545),u=r(3012),l=6;function f(T){var a=T===3?d:T===4?o:T===5?v:A;return a(s,n,t,u)}function g(){return 0}function h(){return 0}function w(){return 0}function d(T,a,E,p){function k(R,B,F){var _=E(R[0],R[0]),O=p(_,B[0]),z=p(_,F[0]),N=E(B[0],B[0]),Y=p(N,R[0]),J=p(N,F[0]),ae=E(F[0],F[0]),se=p(ae,R[0]),ue=p(ae,B[0]),K=T(a(ue,J),a(Y,O)),j=a(se,z),ie=a(K,j);return ie[ie.length-1]}return k}function o(T,a,E,p){function k(R,B,F,_){var O=T(E(R[0],R[0]),E(R[1],R[1])),z=p(O,B[0]),N=p(O,F[0]),Y=p(O,_[0]),J=T(E(B[0],B[0]),E(B[1],B[1])),ae=p(J,R[0]),se=p(J,F[0]),ue=p(J,_[0]),K=T(E(F[0],F[0]),E(F[1],F[1])),j=p(K,R[0]),ie=p(K,B[0]),W=p(K,_[0]),Q=T(E(_[0],_[0]),E(_[1],_[1])),ee=p(Q,R[0]),$=p(Q,B[0]),X=p(Q,F[0]),oe=T(T(p(a(X,W),B[1]),T(p(a($,ue),-F[1]),p(a(ie,se),_[1]))),T(p(a($,ue),R[1]),T(p(a(ee,Y),-B[1]),p(a(ae,z),_[1])))),te=T(T(p(a(X,W),R[1]),T(p(a(ee,Y),-F[1]),p(a(j,N),_[1]))),T(p(a(ie,se),R[1]),T(p(a(j,N),-B[1]),p(a(ae,z),F[1])))),fe=a(oe,te);return fe[fe.length-1]}return k}function v(T,a,E,p){function k(R,B,F,_,O){var z=T(E(R[0],R[0]),T(E(R[1],R[1]),E(R[2],R[2]))),N=p(z,B[0]),Y=p(z,F[0]),J=p(z,_[0]),ae=p(z,O[0]),se=T(E(B[0],B[0]),T(E(B[1],B[1]),E(B[2],B[2]))),ue=p(se,R[0]),K=p(se,F[0]),j=p(se,_[0]),ie=p(se,O[0]),W=T(E(F[0],F[0]),T(E(F[1],F[1]),E(F[2],F[2]))),Q=p(W,R[0]),ee=p(W,B[0]),$=p(W,_[0]),X=p(W,O[0]),oe=T(E(_[0],_[0]),T(E(_[1],_[1]),E(_[2],_[2]))),te=p(oe,R[0]),fe=p(oe,B[0]),pe=p(oe,F[0]),Ae=p(oe,O[0]),be=T(E(O[0],O[0]),T(E(O[1],O[1]),E(O[2],O[2]))),Pe=p(be,R[0]),me=p(be,B[0]),Ee=p(be,F[0]),xe=p(be,_[0]),De=T(T(T(p(T(p(a(xe,Ae),F[1]),T(p(a(Ee,X),-_[1]),p(a(pe,$),O[1]))),B[2]),T(p(T(p(a(xe,Ae),B[1]),T(p(a(me,ie),-_[1]),p(a(fe,j),O[1]))),-F[2]),p(T(p(a(Ee,X),B[1]),T(p(a(me,ie),-F[1]),p(a(ee,K),O[1]))),_[2]))),T(p(T(p(a(pe,$),B[1]),T(p(a(fe,j),-F[1]),p(a(ee,K),_[1]))),-O[2]),T(p(T(p(a(xe,Ae),B[1]),T(p(a(me,ie),-_[1]),p(a(fe,j),O[1]))),R[2]),p(T(p(a(xe,Ae),R[1]),T(p(a(Pe,ae),-_[1]),p(a(te,J),O[1]))),-B[2])))),T(T(p(T(p(a(me,ie),R[1]),T(p(a(Pe,ae),-B[1]),p(a(ue,N),O[1]))),_[2]),T(p(T(p(a(fe,j),R[1]),T(p(a(te,J),-B[1]),p(a(ue,N),_[1]))),-O[2]),p(T(p(a(pe,$),B[1]),T(p(a(fe,j),-F[1]),p(a(ee,K),_[1]))),R[2]))),T(p(T(p(a(pe,$),R[1]),T(p(a(te,J),-F[1]),p(a(Q,Y),_[1]))),-B[2]),T(p(T(p(a(fe,j),R[1]),T(p(a(te,J),-B[1]),p(a(ue,N),_[1]))),F[2]),p(T(p(a(ee,K),R[1]),T(p(a(Q,Y),-B[1]),p(a(ue,N),F[1]))),-_[2]))))),Ve=T(T(T(p(T(p(a(xe,Ae),F[1]),T(p(a(Ee,X),-_[1]),p(a(pe,$),O[1]))),R[2]),p(T(p(a(xe,Ae),R[1]),T(p(a(Pe,ae),-_[1]),p(a(te,J),O[1]))),-F[2])),T(p(T(p(a(Ee,X),R[1]),T(p(a(Pe,ae),-F[1]),p(a(Q,Y),O[1]))),_[2]),p(T(p(a(pe,$),R[1]),T(p(a(te,J),-F[1]),p(a(Q,Y),_[1]))),-O[2]))),T(T(p(T(p(a(Ee,X),B[1]),T(p(a(me,ie),-F[1]),p(a(ee,K),O[1]))),R[2]),p(T(p(a(Ee,X),R[1]),T(p(a(Pe,ae),-F[1]),p(a(Q,Y),O[1]))),-B[2])),T(p(T(p(a(me,ie),R[1]),T(p(a(Pe,ae),-B[1]),p(a(ue,N),O[1]))),F[2]),p(T(p(a(ee,K),R[1]),T(p(a(Q,Y),-B[1]),p(a(ue,N),F[1]))),-O[2])))),Ze=a(De,Ve);return Ze[Ze.length-1]}return k}function A(T,a,E,p){function k(R,B,F,_,O,z){var N=T(T(E(R[0],R[0]),E(R[1],R[1])),T(E(R[2],R[2]),E(R[3],R[3]))),Y=p(N,B[0]),J=p(N,F[0]),ae=p(N,_[0]),se=p(N,O[0]),ue=p(N,z[0]),K=T(T(E(B[0],B[0]),E(B[1],B[1])),T(E(B[2],B[2]),E(B[3],B[3]))),j=p(K,R[0]),ie=p(K,F[0]),W=p(K,_[0]),Q=p(K,O[0]),ee=p(K,z[0]),$=T(T(E(F[0],F[0]),E(F[1],F[1])),T(E(F[2],F[2]),E(F[3],F[3]))),X=p($,R[0]),oe=p($,B[0]),te=p($,_[0]),fe=p($,O[0]),pe=p($,z[0]),Ae=T(T(E(_[0],_[0]),E(_[1],_[1])),T(E(_[2],_[2]),E(_[3],_[3]))),be=p(Ae,R[0]),Pe=p(Ae,B[0]),me=p(Ae,F[0]),Ee=p(Ae,O[0]),xe=p(Ae,z[0]),De=T(T(E(O[0],O[0]),E(O[1],O[1])),T(E(O[2],O[2]),E(O[3],O[3]))),Ve=p(De,R[0]),Ze=p(De,B[0]),ke=p(De,F[0]),Ye=p(De,_[0]),lt=p(De,z[0]),yt=T(T(E(z[0],z[0]),E(z[1],z[1])),T(E(z[2],z[2]),E(z[3],z[3]))),He=p(yt,R[0]),Fe=p(yt,B[0]),nt=p(yt,F[0]),ot=p(yt,_[0]),ct=p(yt,O[0]),ht=T(T(T(p(T(T(p(T(p(a(ct,lt),_[1]),T(p(a(ot,xe),-O[1]),p(a(Ye,Ee),z[1]))),F[2]),p(T(p(a(ct,lt),F[1]),T(p(a(nt,pe),-O[1]),p(a(ke,fe),z[1]))),-_[2])),T(p(T(p(a(ot,xe),F[1]),T(p(a(nt,pe),-_[1]),p(a(me,te),z[1]))),O[2]),p(T(p(a(Ye,Ee),F[1]),T(p(a(ke,fe),-_[1]),p(a(me,te),O[1]))),-z[2]))),B[3]),T(p(T(T(p(T(p(a(ct,lt),_[1]),T(p(a(ot,xe),-O[1]),p(a(Ye,Ee),z[1]))),B[2]),p(T(p(a(ct,lt),B[1]),T(p(a(Fe,ee),-O[1]),p(a(Ze,Q),z[1]))),-_[2])),T(p(T(p(a(ot,xe),B[1]),T(p(a(Fe,ee),-_[1]),p(a(Pe,W),z[1]))),O[2]),p(T(p(a(Ye,Ee),B[1]),T(p(a(Ze,Q),-_[1]),p(a(Pe,W),O[1]))),-z[2]))),-F[3]),p(T(T(p(T(p(a(ct,lt),F[1]),T(p(a(nt,pe),-O[1]),p(a(ke,fe),z[1]))),B[2]),p(T(p(a(ct,lt),B[1]),T(p(a(Fe,ee),-O[1]),p(a(Ze,Q),z[1]))),-F[2])),T(p(T(p(a(nt,pe),B[1]),T(p(a(Fe,ee),-F[1]),p(a(oe,ie),z[1]))),O[2]),p(T(p(a(ke,fe),B[1]),T(p(a(Ze,Q),-F[1]),p(a(oe,ie),O[1]))),-z[2]))),_[3]))),T(T(p(T(T(p(T(p(a(ot,xe),F[1]),T(p(a(nt,pe),-_[1]),p(a(me,te),z[1]))),B[2]),p(T(p(a(ot,xe),B[1]),T(p(a(Fe,ee),-_[1]),p(a(Pe,W),z[1]))),-F[2])),T(p(T(p(a(nt,pe),B[1]),T(p(a(Fe,ee),-F[1]),p(a(oe,ie),z[1]))),_[2]),p(T(p(a(me,te),B[1]),T(p(a(Pe,W),-F[1]),p(a(oe,ie),_[1]))),-z[2]))),-O[3]),p(T(T(p(T(p(a(Ye,Ee),F[1]),T(p(a(ke,fe),-_[1]),p(a(me,te),O[1]))),B[2]),p(T(p(a(Ye,Ee),B[1]),T(p(a(Ze,Q),-_[1]),p(a(Pe,W),O[1]))),-F[2])),T(p(T(p(a(ke,fe),B[1]),T(p(a(Ze,Q),-F[1]),p(a(oe,ie),O[1]))),_[2]),p(T(p(a(me,te),B[1]),T(p(a(Pe,W),-F[1]),p(a(oe,ie),_[1]))),-O[2]))),z[3])),T(p(T(T(p(T(p(a(ct,lt),_[1]),T(p(a(ot,xe),-O[1]),p(a(Ye,Ee),z[1]))),B[2]),p(T(p(a(ct,lt),B[1]),T(p(a(Fe,ee),-O[1]),p(a(Ze,Q),z[1]))),-_[2])),T(p(T(p(a(ot,xe),B[1]),T(p(a(Fe,ee),-_[1]),p(a(Pe,W),z[1]))),O[2]),p(T(p(a(Ye,Ee),B[1]),T(p(a(Ze,Q),-_[1]),p(a(Pe,W),O[1]))),-z[2]))),R[3]),p(T(T(p(T(p(a(ct,lt),_[1]),T(p(a(ot,xe),-O[1]),p(a(Ye,Ee),z[1]))),R[2]),p(T(p(a(ct,lt),R[1]),T(p(a(He,ue),-O[1]),p(a(Ve,se),z[1]))),-_[2])),T(p(T(p(a(ot,xe),R[1]),T(p(a(He,ue),-_[1]),p(a(be,ae),z[1]))),O[2]),p(T(p(a(Ye,Ee),R[1]),T(p(a(Ve,se),-_[1]),p(a(be,ae),O[1]))),-z[2]))),-B[3])))),T(T(T(p(T(T(p(T(p(a(ct,lt),B[1]),T(p(a(Fe,ee),-O[1]),p(a(Ze,Q),z[1]))),R[2]),p(T(p(a(ct,lt),R[1]),T(p(a(He,ue),-O[1]),p(a(Ve,se),z[1]))),-B[2])),T(p(T(p(a(Fe,ee),R[1]),T(p(a(He,ue),-B[1]),p(a(j,Y),z[1]))),O[2]),p(T(p(a(Ze,Q),R[1]),T(p(a(Ve,se),-B[1]),p(a(j,Y),O[1]))),-z[2]))),_[3]),p(T(T(p(T(p(a(ot,xe),B[1]),T(p(a(Fe,ee),-_[1]),p(a(Pe,W),z[1]))),R[2]),p(T(p(a(ot,xe),R[1]),T(p(a(He,ue),-_[1]),p(a(be,ae),z[1]))),-B[2])),T(p(T(p(a(Fe,ee),R[1]),T(p(a(He,ue),-B[1]),p(a(j,Y),z[1]))),_[2]),p(T(p(a(Pe,W),R[1]),T(p(a(be,ae),-B[1]),p(a(j,Y),_[1]))),-z[2]))),-O[3])),T(p(T(T(p(T(p(a(Ye,Ee),B[1]),T(p(a(Ze,Q),-_[1]),p(a(Pe,W),O[1]))),R[2]),p(T(p(a(Ye,Ee),R[1]),T(p(a(Ve,se),-_[1]),p(a(be,ae),O[1]))),-B[2])),T(p(T(p(a(Ze,Q),R[1]),T(p(a(Ve,se),-B[1]),p(a(j,Y),O[1]))),_[2]),p(T(p(a(Pe,W),R[1]),T(p(a(be,ae),-B[1]),p(a(j,Y),_[1]))),-O[2]))),z[3]),p(T(T(p(T(p(a(ot,xe),F[1]),T(p(a(nt,pe),-_[1]),p(a(me,te),z[1]))),B[2]),p(T(p(a(ot,xe),B[1]),T(p(a(Fe,ee),-_[1]),p(a(Pe,W),z[1]))),-F[2])),T(p(T(p(a(nt,pe),B[1]),T(p(a(Fe,ee),-F[1]),p(a(oe,ie),z[1]))),_[2]),p(T(p(a(me,te),B[1]),T(p(a(Pe,W),-F[1]),p(a(oe,ie),_[1]))),-z[2]))),R[3]))),T(T(p(T(T(p(T(p(a(ot,xe),F[1]),T(p(a(nt,pe),-_[1]),p(a(me,te),z[1]))),R[2]),p(T(p(a(ot,xe),R[1]),T(p(a(He,ue),-_[1]),p(a(be,ae),z[1]))),-F[2])),T(p(T(p(a(nt,pe),R[1]),T(p(a(He,ue),-F[1]),p(a(X,J),z[1]))),_[2]),p(T(p(a(me,te),R[1]),T(p(a(be,ae),-F[1]),p(a(X,J),_[1]))),-z[2]))),-B[3]),p(T(T(p(T(p(a(ot,xe),B[1]),T(p(a(Fe,ee),-_[1]),p(a(Pe,W),z[1]))),R[2]),p(T(p(a(ot,xe),R[1]),T(p(a(He,ue),-_[1]),p(a(be,ae),z[1]))),-B[2])),T(p(T(p(a(Fe,ee),R[1]),T(p(a(He,ue),-B[1]),p(a(j,Y),z[1]))),_[2]),p(T(p(a(Pe,W),R[1]),T(p(a(be,ae),-B[1]),p(a(j,Y),_[1]))),-z[2]))),F[3])),T(p(T(T(p(T(p(a(nt,pe),B[1]),T(p(a(Fe,ee),-F[1]),p(a(oe,ie),z[1]))),R[2]),p(T(p(a(nt,pe),R[1]),T(p(a(He,ue),-F[1]),p(a(X,J),z[1]))),-B[2])),T(p(T(p(a(Fe,ee),R[1]),T(p(a(He,ue),-B[1]),p(a(j,Y),z[1]))),F[2]),p(T(p(a(oe,ie),R[1]),T(p(a(X,J),-B[1]),p(a(j,Y),F[1]))),-z[2]))),-_[3]),p(T(T(p(T(p(a(me,te),B[1]),T(p(a(Pe,W),-F[1]),p(a(oe,ie),_[1]))),R[2]),p(T(p(a(me,te),R[1]),T(p(a(be,ae),-F[1]),p(a(X,J),_[1]))),-B[2])),T(p(T(p(a(Pe,W),R[1]),T(p(a(be,ae),-B[1]),p(a(j,Y),_[1]))),F[2]),p(T(p(a(oe,ie),R[1]),T(p(a(X,J),-B[1]),p(a(j,Y),F[1]))),-_[2]))),z[3]))))),mt=T(T(T(p(T(T(p(T(p(a(ct,lt),_[1]),T(p(a(ot,xe),-O[1]),p(a(Ye,Ee),z[1]))),F[2]),p(T(p(a(ct,lt),F[1]),T(p(a(nt,pe),-O[1]),p(a(ke,fe),z[1]))),-_[2])),T(p(T(p(a(ot,xe),F[1]),T(p(a(nt,pe),-_[1]),p(a(me,te),z[1]))),O[2]),p(T(p(a(Ye,Ee),F[1]),T(p(a(ke,fe),-_[1]),p(a(me,te),O[1]))),-z[2]))),R[3]),T(p(T(T(p(T(p(a(ct,lt),_[1]),T(p(a(ot,xe),-O[1]),p(a(Ye,Ee),z[1]))),R[2]),p(T(p(a(ct,lt),R[1]),T(p(a(He,ue),-O[1]),p(a(Ve,se),z[1]))),-_[2])),T(p(T(p(a(ot,xe),R[1]),T(p(a(He,ue),-_[1]),p(a(be,ae),z[1]))),O[2]),p(T(p(a(Ye,Ee),R[1]),T(p(a(Ve,se),-_[1]),p(a(be,ae),O[1]))),-z[2]))),-F[3]),p(T(T(p(T(p(a(ct,lt),F[1]),T(p(a(nt,pe),-O[1]),p(a(ke,fe),z[1]))),R[2]),p(T(p(a(ct,lt),R[1]),T(p(a(He,ue),-O[1]),p(a(Ve,se),z[1]))),-F[2])),T(p(T(p(a(nt,pe),R[1]),T(p(a(He,ue),-F[1]),p(a(X,J),z[1]))),O[2]),p(T(p(a(ke,fe),R[1]),T(p(a(Ve,se),-F[1]),p(a(X,J),O[1]))),-z[2]))),_[3]))),T(T(p(T(T(p(T(p(a(ot,xe),F[1]),T(p(a(nt,pe),-_[1]),p(a(me,te),z[1]))),R[2]),p(T(p(a(ot,xe),R[1]),T(p(a(He,ue),-_[1]),p(a(be,ae),z[1]))),-F[2])),T(p(T(p(a(nt,pe),R[1]),T(p(a(He,ue),-F[1]),p(a(X,J),z[1]))),_[2]),p(T(p(a(me,te),R[1]),T(p(a(be,ae),-F[1]),p(a(X,J),_[1]))),-z[2]))),-O[3]),p(T(T(p(T(p(a(Ye,Ee),F[1]),T(p(a(ke,fe),-_[1]),p(a(me,te),O[1]))),R[2]),p(T(p(a(Ye,Ee),R[1]),T(p(a(Ve,se),-_[1]),p(a(be,ae),O[1]))),-F[2])),T(p(T(p(a(ke,fe),R[1]),T(p(a(Ve,se),-F[1]),p(a(X,J),O[1]))),_[2]),p(T(p(a(me,te),R[1]),T(p(a(be,ae),-F[1]),p(a(X,J),_[1]))),-O[2]))),z[3])),T(p(T(T(p(T(p(a(ct,lt),F[1]),T(p(a(nt,pe),-O[1]),p(a(ke,fe),z[1]))),B[2]),p(T(p(a(ct,lt),B[1]),T(p(a(Fe,ee),-O[1]),p(a(Ze,Q),z[1]))),-F[2])),T(p(T(p(a(nt,pe),B[1]),T(p(a(Fe,ee),-F[1]),p(a(oe,ie),z[1]))),O[2]),p(T(p(a(ke,fe),B[1]),T(p(a(Ze,Q),-F[1]),p(a(oe,ie),O[1]))),-z[2]))),R[3]),p(T(T(p(T(p(a(ct,lt),F[1]),T(p(a(nt,pe),-O[1]),p(a(ke,fe),z[1]))),R[2]),p(T(p(a(ct,lt),R[1]),T(p(a(He,ue),-O[1]),p(a(Ve,se),z[1]))),-F[2])),T(p(T(p(a(nt,pe),R[1]),T(p(a(He,ue),-F[1]),p(a(X,J),z[1]))),O[2]),p(T(p(a(ke,fe),R[1]),T(p(a(Ve,se),-F[1]),p(a(X,J),O[1]))),-z[2]))),-B[3])))),T(T(T(p(T(T(p(T(p(a(ct,lt),B[1]),T(p(a(Fe,ee),-O[1]),p(a(Ze,Q),z[1]))),R[2]),p(T(p(a(ct,lt),R[1]),T(p(a(He,ue),-O[1]),p(a(Ve,se),z[1]))),-B[2])),T(p(T(p(a(Fe,ee),R[1]),T(p(a(He,ue),-B[1]),p(a(j,Y),z[1]))),O[2]),p(T(p(a(Ze,Q),R[1]),T(p(a(Ve,se),-B[1]),p(a(j,Y),O[1]))),-z[2]))),F[3]),p(T(T(p(T(p(a(nt,pe),B[1]),T(p(a(Fe,ee),-F[1]),p(a(oe,ie),z[1]))),R[2]),p(T(p(a(nt,pe),R[1]),T(p(a(He,ue),-F[1]),p(a(X,J),z[1]))),-B[2])),T(p(T(p(a(Fe,ee),R[1]),T(p(a(He,ue),-B[1]),p(a(j,Y),z[1]))),F[2]),p(T(p(a(oe,ie),R[1]),T(p(a(X,J),-B[1]),p(a(j,Y),F[1]))),-z[2]))),-O[3])),T(p(T(T(p(T(p(a(ke,fe),B[1]),T(p(a(Ze,Q),-F[1]),p(a(oe,ie),O[1]))),R[2]),p(T(p(a(ke,fe),R[1]),T(p(a(Ve,se),-F[1]),p(a(X,J),O[1]))),-B[2])),T(p(T(p(a(Ze,Q),R[1]),T(p(a(Ve,se),-B[1]),p(a(j,Y),O[1]))),F[2]),p(T(p(a(oe,ie),R[1]),T(p(a(X,J),-B[1]),p(a(j,Y),F[1]))),-O[2]))),z[3]),p(T(T(p(T(p(a(Ye,Ee),F[1]),T(p(a(ke,fe),-_[1]),p(a(me,te),O[1]))),B[2]),p(T(p(a(Ye,Ee),B[1]),T(p(a(Ze,Q),-_[1]),p(a(Pe,W),O[1]))),-F[2])),T(p(T(p(a(ke,fe),B[1]),T(p(a(Ze,Q),-F[1]),p(a(oe,ie),O[1]))),_[2]),p(T(p(a(me,te),B[1]),T(p(a(Pe,W),-F[1]),p(a(oe,ie),_[1]))),-O[2]))),R[3]))),T(T(p(T(T(p(T(p(a(Ye,Ee),F[1]),T(p(a(ke,fe),-_[1]),p(a(me,te),O[1]))),R[2]),p(T(p(a(Ye,Ee),R[1]),T(p(a(Ve,se),-_[1]),p(a(be,ae),O[1]))),-F[2])),T(p(T(p(a(ke,fe),R[1]),T(p(a(Ve,se),-F[1]),p(a(X,J),O[1]))),_[2]),p(T(p(a(me,te),R[1]),T(p(a(be,ae),-F[1]),p(a(X,J),_[1]))),-O[2]))),-B[3]),p(T(T(p(T(p(a(Ye,Ee),B[1]),T(p(a(Ze,Q),-_[1]),p(a(Pe,W),O[1]))),R[2]),p(T(p(a(Ye,Ee),R[1]),T(p(a(Ve,se),-_[1]),p(a(be,ae),O[1]))),-B[2])),T(p(T(p(a(Ze,Q),R[1]),T(p(a(Ve,se),-B[1]),p(a(j,Y),O[1]))),_[2]),p(T(p(a(Pe,W),R[1]),T(p(a(be,ae),-B[1]),p(a(j,Y),_[1]))),-O[2]))),F[3])),T(p(T(T(p(T(p(a(ke,fe),B[1]),T(p(a(Ze,Q),-F[1]),p(a(oe,ie),O[1]))),R[2]),p(T(p(a(ke,fe),R[1]),T(p(a(Ve,se),-F[1]),p(a(X,J),O[1]))),-B[2])),T(p(T(p(a(Ze,Q),R[1]),T(p(a(Ve,se),-B[1]),p(a(j,Y),O[1]))),F[2]),p(T(p(a(oe,ie),R[1]),T(p(a(X,J),-B[1]),p(a(j,Y),F[1]))),-O[2]))),-_[3]),p(T(T(p(T(p(a(me,te),B[1]),T(p(a(Pe,W),-F[1]),p(a(oe,ie),_[1]))),R[2]),p(T(p(a(me,te),R[1]),T(p(a(be,ae),-F[1]),p(a(X,J),_[1]))),-B[2])),T(p(T(p(a(Pe,W),R[1]),T(p(a(be,ae),-B[1]),p(a(j,Y),_[1]))),F[2]),p(T(p(a(oe,ie),R[1]),T(p(a(X,J),-B[1]),p(a(j,Y),F[1]))),-_[2]))),O[3]))))),tt=a(ht,mt);return tt[tt.length-1]}return k}var b=[g,h,w];function M(T){var a=b[T.length];return a||(a=b[T.length]=f(T.length)),a.apply(void 0,T)}function m(T,a,E,p,k,R,B,F){function _(O,z,N,Y,J,ae){switch(arguments.length){case 0:case 1:return 0;case 2:return p(O,z);case 3:return k(O,z,N);case 4:return R(O,z,N,Y);case 5:return B(O,z,N,Y,J);case 6:return F(O,z,N,Y,J,ae)}for(var se=new Array(arguments.length),ue=0;ue<arguments.length;++ue)se[ue]=arguments[ue];return T(se)}return _}function S(){for(;b.length<=l;)b.push(f(b.length));c.exports=m.apply(void 0,[M].concat(b));for(var T=0;T<=l;++T)c.exports[T]=b[T]}S()},727:function(c,y,r){"use strict";var t=r(2962),s=6;function n(b){var M=b===2?f:b===3?g:b===4?h:b===5?w:d;return b<6?M(t[b]):M(t)}function u(){return[[0]]}function l(b,M){return[[M[0]],[b[0][0]]]}function f(b){return function(m,S){return[b([[+S[0],+m[0][1]],[+S[1],+m[1][1]]]),b([[+m[0][0],+S[0]],[+m[1][0],+S[1]]]),b(m)]}}function g(b){return function(m,S){return[b([[+S[0],+m[0][1],+m[0][2]],[+S[1],+m[1][1],+m[1][2]],[+S[2],+m[2][1],+m[2][2]]]),b([[+m[0][0],+S[0],+m[0][2]],[+m[1][0],+S[1],+m[1][2]],[+m[2][0],+S[2],+m[2][2]]]),b([[+m[0][0],+m[0][1],+S[0]],[+m[1][0],+m[1][1],+S[1]],[+m[2][0],+m[2][1],+S[2]]]),b(m)]}}function h(b){return function(m,S){return[b([[+S[0],+m[0][1],+m[0][2],+m[0][3]],[+S[1],+m[1][1],+m[1][2],+m[1][3]],[+S[2],+m[2][1],+m[2][2],+m[2][3]],[+S[3],+m[3][1],+m[3][2],+m[3][3]]]),b([[+m[0][0],+S[0],+m[0][2],+m[0][3]],[+m[1][0],+S[1],+m[1][2],+m[1][3]],[+m[2][0],+S[2],+m[2][2],+m[2][3]],[+m[3][0],+S[3],+m[3][2],+m[3][3]]]),b([[+m[0][0],+m[0][1],+S[0],+m[0][3]],[+m[1][0],+m[1][1],+S[1],+m[1][3]],[+m[2][0],+m[2][1],+S[2],+m[2][3]],[+m[3][0],+m[3][1],+S[3],+m[3][3]]]),b([[+m[0][0],+m[0][1],+m[0][2],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+S[3]]]),b(m)]}}function w(b){return function(m,S){return[b([[+S[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+S[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+S[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+S[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+S[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),b([[+m[0][0],+S[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+S[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+S[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+S[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+S[4],+m[4][2],+m[4][3],+m[4][4]]]),b([[+m[0][0],+m[0][1],+S[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+S[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+S[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+S[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+S[4],+m[4][3],+m[4][4]]]),b([[+m[0][0],+m[0][1],+m[0][2],+S[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+S[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+S[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+S[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+S[4],+m[4][4]]]),b([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+S[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+S[4]]]),b(m)]}}function d(b){return function(m,S){return[b([[+S[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+S[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+S[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+S[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+S[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+S[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),b([[+m[0][0],+S[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+S[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+S[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+S[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+S[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+S[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),b([[+m[0][0],+m[0][1],+S[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+S[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+S[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+S[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+S[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+S[5],+m[5][3],+m[5][4],+m[5][5]]]),b([[+m[0][0],+m[0][1],+m[0][2],+S[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+S[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+S[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+S[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+S[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+S[5],+m[5][4],+m[5][5]]]),b([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+S[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+S[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+S[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+S[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+S[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+S[5],+m[5][5]]]),b([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+S[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+S[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+S[5]]]),b(m)]}}var o=[u,l];function v(b,M,m,S,T,a,E,p){return function(R,B){switch(R.length){case 0:return b(R,B);case 1:return M(R,B);case 2:return m(R,B);case 3:return S(R,B);case 4:return T(R,B);case 5:return a(R,B)}var F=E[R.length];return F||(F=E[R.length]=p(R.length)),F(R,B)}}function A(){for(;o.length<s;)o.push(n(o.length));c.exports=v.apply(void 0,o.concat([o,n]));for(var b=0;b<s;++b)c.exports[b]=o[b]}A()},3250:function(c,y,r){"use strict";var t=r(5250),s=r(8210),n=r(3012),u=r(8545),l=5,f=11102230246251565e-32,g=(3+16*f)*f,h=(7+56*f)*f;function w(a,E,p,k){return function(B,F,_){var O=a(a(E(F[1],_[0]),E(-_[1],F[0])),a(E(B[1],F[0]),E(-F[1],B[0]))),z=a(E(B[1],_[0]),E(-_[1],B[0])),N=k(O,z);return N[N.length-1]}}function d(a,E,p,k){return function(B,F,_,O){var z=a(a(p(a(E(_[1],O[0]),E(-O[1],_[0])),F[2]),a(p(a(E(F[1],O[0]),E(-O[1],F[0])),-_[2]),p(a(E(F[1],_[0]),E(-_[1],F[0])),O[2]))),a(p(a(E(F[1],O[0]),E(-O[1],F[0])),B[2]),a(p(a(E(B[1],O[0]),E(-O[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),O[2])))),N=a(a(p(a(E(_[1],O[0]),E(-O[1],_[0])),B[2]),a(p(a(E(B[1],O[0]),E(-O[1],B[0])),-_[2]),p(a(E(B[1],_[0]),E(-_[1],B[0])),O[2]))),a(p(a(E(F[1],_[0]),E(-_[1],F[0])),B[2]),a(p(a(E(B[1],_[0]),E(-_[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),_[2])))),Y=k(z,N);return Y[Y.length-1]}}function o(a,E,p,k){return function(B,F,_,O,z){var N=a(a(a(p(a(p(a(E(O[1],z[0]),E(-z[1],O[0])),_[2]),a(p(a(E(_[1],z[0]),E(-z[1],_[0])),-O[2]),p(a(E(_[1],O[0]),E(-O[1],_[0])),z[2]))),F[3]),a(p(a(p(a(E(O[1],z[0]),E(-z[1],O[0])),F[2]),a(p(a(E(F[1],z[0]),E(-z[1],F[0])),-O[2]),p(a(E(F[1],O[0]),E(-O[1],F[0])),z[2]))),-_[3]),p(a(p(a(E(_[1],z[0]),E(-z[1],_[0])),F[2]),a(p(a(E(F[1],z[0]),E(-z[1],F[0])),-_[2]),p(a(E(F[1],_[0]),E(-_[1],F[0])),z[2]))),O[3]))),a(p(a(p(a(E(_[1],O[0]),E(-O[1],_[0])),F[2]),a(p(a(E(F[1],O[0]),E(-O[1],F[0])),-_[2]),p(a(E(F[1],_[0]),E(-_[1],F[0])),O[2]))),-z[3]),a(p(a(p(a(E(O[1],z[0]),E(-z[1],O[0])),F[2]),a(p(a(E(F[1],z[0]),E(-z[1],F[0])),-O[2]),p(a(E(F[1],O[0]),E(-O[1],F[0])),z[2]))),B[3]),p(a(p(a(E(O[1],z[0]),E(-z[1],O[0])),B[2]),a(p(a(E(B[1],z[0]),E(-z[1],B[0])),-O[2]),p(a(E(B[1],O[0]),E(-O[1],B[0])),z[2]))),-F[3])))),a(a(p(a(p(a(E(F[1],z[0]),E(-z[1],F[0])),B[2]),a(p(a(E(B[1],z[0]),E(-z[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),z[2]))),O[3]),a(p(a(p(a(E(F[1],O[0]),E(-O[1],F[0])),B[2]),a(p(a(E(B[1],O[0]),E(-O[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),O[2]))),-z[3]),p(a(p(a(E(_[1],O[0]),E(-O[1],_[0])),F[2]),a(p(a(E(F[1],O[0]),E(-O[1],F[0])),-_[2]),p(a(E(F[1],_[0]),E(-_[1],F[0])),O[2]))),B[3]))),a(p(a(p(a(E(_[1],O[0]),E(-O[1],_[0])),B[2]),a(p(a(E(B[1],O[0]),E(-O[1],B[0])),-_[2]),p(a(E(B[1],_[0]),E(-_[1],B[0])),O[2]))),-F[3]),a(p(a(p(a(E(F[1],O[0]),E(-O[1],F[0])),B[2]),a(p(a(E(B[1],O[0]),E(-O[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),O[2]))),_[3]),p(a(p(a(E(F[1],_[0]),E(-_[1],F[0])),B[2]),a(p(a(E(B[1],_[0]),E(-_[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),_[2]))),-O[3]))))),Y=a(a(a(p(a(p(a(E(O[1],z[0]),E(-z[1],O[0])),_[2]),a(p(a(E(_[1],z[0]),E(-z[1],_[0])),-O[2]),p(a(E(_[1],O[0]),E(-O[1],_[0])),z[2]))),B[3]),p(a(p(a(E(O[1],z[0]),E(-z[1],O[0])),B[2]),a(p(a(E(B[1],z[0]),E(-z[1],B[0])),-O[2]),p(a(E(B[1],O[0]),E(-O[1],B[0])),z[2]))),-_[3])),a(p(a(p(a(E(_[1],z[0]),E(-z[1],_[0])),B[2]),a(p(a(E(B[1],z[0]),E(-z[1],B[0])),-_[2]),p(a(E(B[1],_[0]),E(-_[1],B[0])),z[2]))),O[3]),p(a(p(a(E(_[1],O[0]),E(-O[1],_[0])),B[2]),a(p(a(E(B[1],O[0]),E(-O[1],B[0])),-_[2]),p(a(E(B[1],_[0]),E(-_[1],B[0])),O[2]))),-z[3]))),a(a(p(a(p(a(E(_[1],z[0]),E(-z[1],_[0])),F[2]),a(p(a(E(F[1],z[0]),E(-z[1],F[0])),-_[2]),p(a(E(F[1],_[0]),E(-_[1],F[0])),z[2]))),B[3]),p(a(p(a(E(_[1],z[0]),E(-z[1],_[0])),B[2]),a(p(a(E(B[1],z[0]),E(-z[1],B[0])),-_[2]),p(a(E(B[1],_[0]),E(-_[1],B[0])),z[2]))),-F[3])),a(p(a(p(a(E(F[1],z[0]),E(-z[1],F[0])),B[2]),a(p(a(E(B[1],z[0]),E(-z[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),z[2]))),_[3]),p(a(p(a(E(F[1],_[0]),E(-_[1],F[0])),B[2]),a(p(a(E(B[1],_[0]),E(-_[1],B[0])),-F[2]),p(a(E(B[1],F[0]),E(-F[1],B[0])),_[2]))),-z[3])))),J=k(N,Y);return J[J.length-1]}}function v(a){var E=a===3?w:a===4?d:o;return E(s,t,n,u)}var A=v(3),b=v(4),M=[function(){return 0},function(){return 0},function(E,p){return p[0]-E[0]},function(E,p,k){var R=(E[1]-k[1])*(p[0]-k[0]),B=(E[0]-k[0])*(p[1]-k[1]),F=R-B,_;if(R>0){if(B<=0)return F;_=R+B}else if(R<0){if(B>=0)return F;_=-(R+B)}else return F;var O=g*_;return F>=O||F<=-O?F:A(E,p,k)},function(E,p,k,R){var B=E[0]-R[0],F=p[0]-R[0],_=k[0]-R[0],O=E[1]-R[1],z=p[1]-R[1],N=k[1]-R[1],Y=E[2]-R[2],J=p[2]-R[2],ae=k[2]-R[2],se=F*N,ue=_*z,K=_*O,j=B*N,ie=B*z,W=F*O,Q=Y*(se-ue)+J*(K-j)+ae*(ie-W),ee=(Math.abs(se)+Math.abs(ue))*Math.abs(Y)+(Math.abs(K)+Math.abs(j))*Math.abs(J)+(Math.abs(ie)+Math.abs(W))*Math.abs(ae),$=h*ee;return Q>$||-Q>$?Q:b(E,p,k,R)}];function m(a){var E=M[a.length];return E||(E=M[a.length]=v(a.length)),E.apply(void 0,a)}function S(a,E,p,k,R,B,F){return function(O,z,N,Y,J){switch(arguments.length){case 0:case 1:return 0;case 2:return k(O,z);case 3:return R(O,z,N);case 4:return B(O,z,N,Y);case 5:return F(O,z,N,Y,J)}for(var ae=new Array(arguments.length),se=0;se<arguments.length;++se)ae[se]=arguments[se];return a(ae)}}function T(){for(;M.length<=l;)M.push(v(M.length));c.exports=S.apply(void 0,[m].concat(M));for(var a=0;a<=l;++a)c.exports[a]=M[a]}T()},5382:function(c,y,r){"use strict";var t=r(8210),s=r(3012);c.exports=n;function n(u,l){if(u.length===1)return s(l,u[0]);if(l.length===1)return s(u,l[0]);if(u.length===0||l.length===0)return[0];var f=[0];if(u.length<l.length)for(var g=0;g<u.length;++g)f=t(f,s(l,u[g]));else for(var g=0;g<l.length;++g)f=t(f,s(u,l[g]));return f}},3012:function(c,y,r){"use strict";var t=r(5250),s=r(9362);c.exports=n;function n(u,l){var f=u.length;if(f===1){var g=t(u[0],l);return g[0]?g:[g[1]]}var h=new Array(2*f),w=[.1,.1],d=[.1,.1],o=0;t(u[0],l,w),w[0]&&(h[o++]=w[0]);for(var v=1;v<f;++v){t(u[v],l,d);var A=w[1];s(A,d[0],w),w[0]&&(h[o++]=w[0]);var b=d[1],M=w[1],m=b+M,S=m-b,T=M-S;w[1]=m,T&&(h[o++]=T)}return w[1]&&(h[o++]=w[1]),o===0&&(h[o++]=0),h.length=o,h}},1125:function(c,y,r){"use strict";c.exports=n;var t=r(3250)[3];function s(u,l,f,g){for(var h=0;h<2;++h){var w=u[h],d=l[h],o=Math.min(w,d),v=Math.max(w,d),A=f[h],b=g[h],M=Math.min(A,b),m=Math.max(A,b);if(m<o||v<M)return!1}return!0}function n(u,l,f,g){var h=t(u,f,g),w=t(l,f,g);if(h>0&&w>0||h<0&&w<0)return!1;var d=t(f,u,l),o=t(g,u,l);return d>0&&o>0||d<0&&o<0?!1:h===0&&w===0&&d===0&&o===0?s(u,l,f,g):!0}},8545:function(c){"use strict";c.exports=r;function y(t,s){var n=t+s,u=n-t,l=n-u,f=s-u,g=t-l,h=g+f;return h?[h,n]:[n]}function r(t,s){var n=t.length|0,u=s.length|0;if(n===1&&u===1)return y(t[0],-s[0]);var l=n+u,f=new Array(l),g=0,h=0,w=0,d=Math.abs,o=t[h],v=d(o),A=-s[w],b=d(A),M,m;v<b?(m=o,h+=1,h<n&&(o=t[h],v=d(o))):(m=A,w+=1,w<u&&(A=-s[w],b=d(A))),h<n&&v<b||w>=u?(M=o,h+=1,h<n&&(o=t[h],v=d(o))):(M=A,w+=1,w<u&&(A=-s[w],b=d(A)));for(var S=M+m,T=S-M,a=m-T,E=a,p=S,k,R,B,F,_;h<n&&w<u;)v<b?(M=o,h+=1,h<n&&(o=t[h],v=d(o))):(M=A,w+=1,w<u&&(A=-s[w],b=d(A))),m=E,S=M+m,T=S-M,a=m-T,a&&(f[g++]=a),k=p+S,R=k-p,B=k-R,F=S-R,_=p-B,E=_+F,p=k;for(;h<n;)M=o,m=E,S=M+m,T=S-M,a=m-T,a&&(f[g++]=a),k=p+S,R=k-p,B=k-R,F=S-R,_=p-B,E=_+F,p=k,h+=1,h<n&&(o=t[h]);for(;w<u;)M=A,m=E,S=M+m,T=S-M,a=m-T,a&&(f[g++]=a),k=p+S,R=k-p,B=k-R,F=S-R,_=p-B,E=_+F,p=k,w+=1,w<u&&(A=-s[w]);return E&&(f[g++]=E),p&&(f[g++]=p),g||(f[g++]=0),f.length=g,f}},8210:function(c){"use strict";c.exports=r;function y(t,s){var n=t+s,u=n-t,l=n-u,f=s-u,g=t-l,h=g+f;return h?[h,n]:[n]}function r(t,s){var n=t.length|0,u=s.length|0;if(n===1&&u===1)return y(t[0],s[0]);var l=n+u,f=new Array(l),g=0,h=0,w=0,d=Math.abs,o=t[h],v=d(o),A=s[w],b=d(A),M,m;v<b?(m=o,h+=1,h<n&&(o=t[h],v=d(o))):(m=A,w+=1,w<u&&(A=s[w],b=d(A))),h<n&&v<b||w>=u?(M=o,h+=1,h<n&&(o=t[h],v=d(o))):(M=A,w+=1,w<u&&(A=s[w],b=d(A)));for(var S=M+m,T=S-M,a=m-T,E=a,p=S,k,R,B,F,_;h<n&&w<u;)v<b?(M=o,h+=1,h<n&&(o=t[h],v=d(o))):(M=A,w+=1,w<u&&(A=s[w],b=d(A))),m=E,S=M+m,T=S-M,a=m-T,a&&(f[g++]=a),k=p+S,R=k-p,B=k-R,F=S-R,_=p-B,E=_+F,p=k;for(;h<n;)M=o,m=E,S=M+m,T=S-M,a=m-T,a&&(f[g++]=a),k=p+S,R=k-p,B=k-R,F=S-R,_=p-B,E=_+F,p=k,h+=1,h<n&&(o=t[h]);for(;w<u;)M=A,m=E,S=M+m,T=S-M,a=m-T,a&&(f[g++]=a),k=p+S,R=k-p,B=k-R,F=S-R,_=p-B,E=_+F,p=k,w+=1,w<u&&(A=s[w]);return E&&(f[g++]=E),p&&(f[g++]=p),g||(f[g++]=0),f.length=g,f}},9127:function(c,y,r){"use strict";c.exports=n;var t=r(6204),s=r(5771);function n(u){return s(t(u))}},7765:function(c,y,r){"use strict";c.exports=o;var t=r(9618),s=r(1888),n=r(446),u=r(1570);function l(v){for(var A=v.length,b=0,M=0;M<A;++M)b=Math.max(b,v[M].length)|0;return b-1}function f(v,A){for(var b=v.length,M=s.mallocUint8(b),m=0;m<b;++m)M[m]=v[m]<A|0;return M}function g(v,A){for(var b=v.length,M=A*(A+1)/2*b|0,m=s.mallocUint32(M*2),S=0,T=0;T<b;++T)for(var a=v[T],A=a.length,E=0;E<A;++E)for(var p=0;p<E;++p){var k=a[p],R=a[E];m[S++]=Math.min(k,R)|0,m[S++]=Math.max(k,R)|0}var B=S/2|0;n(t(m,[B,2]));for(var F=2,T=2;T<S;T+=2)m[T-2]===m[T]&&m[T-1]===m[T+1]||(m[F++]=m[T],m[F++]=m[T+1]);return t(m,[F/2|0,2])}function h(v,A,b,M){for(var m=v.data,S=v.shape[0],T=s.mallocDouble(S),a=0,E=0;E<S;++E){var p=m[2*E],k=m[2*E+1];if(b[p]!==b[k]){var R=A[p],B=A[k];m[2*a]=p,m[2*a+1]=k,T[a++]=(B-M)/(B-R)}}return v.shape[0]=a,t(T,[a])}function w(v,A){var b=s.mallocInt32(A*2),M=v.shape[0],m=v.data;b[0]=0;for(var S=0,T=0;T<M;++T){var a=m[2*T];if(a!==S){for(b[2*S+1]=T;++S<a;)b[2*S]=T,b[2*S+1]=T;b[2*S]=T}}for(b[2*S+1]=M;++S<A;)b[2*S]=b[2*S+1]=M;return b}function d(v){for(var A=v.shape[0]|0,b=v.data,M=new Array(A),m=0;m<A;++m)M[m]=[b[2*m],b[2*m+1]];return M}function o(v,A,b,M){b=b||0,typeof M=="undefined"&&(M=l(v));var m=v.length;if(m===0||M<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=f(A,+b),T=g(v,M),a=h(T,A,S,+b),E=w(T,A.length|0),p=u(M)(v,T.data,E,S),k=d(T),R=[].slice.call(a.data,0,a.shape[0]);return s.free(S),s.free(T.data),s.free(a.data),s.free(E),{cells:p,vertexIds:k,vertexWeights:R}}},1570:function(c){"use strict";c.exports=r;var y=[function(){function s(u,l,f,g){for(var h=Math.min(f,g)|0,w=Math.max(f,g)|0,d=u[2*h],o=u[2*h+1];d<o;){var v=d+o>>1,A=l[2*v+1];if(A===w)return v;w<A?o=v:d=v+1}return d}function n(u,l,f,g){for(var h=u.length,w=[],d=0;d<h;++d)var o=u[d],v=o.length;return w}return n},function(){function s(u,l,f,g){for(var h=Math.min(f,g)|0,w=Math.max(f,g)|0,d=u[2*h],o=u[2*h+1];d<o;){var v=d+o>>1,A=l[2*v+1];if(A===w)return v;w<A?o=v:d=v+1}return d}function n(u,l,f,g){for(var h=u.length,w=[],d=0;d<h;++d){var o=u[d],v=o.length;if(v===2){var A=(g[o[0]]<<0)+(g[o[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:w.push([s(f,l,o[0],o[1])]);break;case 2:w.push([s(f,l,o[1],o[0])]);break;case 3:break}}}return w}return n},function(){function s(u,l,f,g){for(var h=Math.min(f,g)|0,w=Math.max(f,g)|0,d=u[2*h],o=u[2*h+1];d<o;){var v=d+o>>1,A=l[2*v+1];if(A===w)return v;w<A?o=v:d=v+1}return d}function n(u,l,f,g){for(var h=u.length,w=[],d=0;d<h;++d){var o=u[d],v=o.length;if(v===3){var A=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:w.push([s(f,l,o[0],o[2]),s(f,l,o[0],o[1])]);break;case 2:w.push([s(f,l,o[1],o[0]),s(f,l,o[1],o[2])]);break;case 3:w.push([s(f,l,o[0],o[2]),s(f,l,o[1],o[2])]);break;case 4:w.push([s(f,l,o[2],o[1]),s(f,l,o[2],o[0])]);break;case 5:w.push([s(f,l,o[2],o[1]),s(f,l,o[0],o[1])]);break;case 6:w.push([s(f,l,o[1],o[0]),s(f,l,o[2],o[0])]);break;case 7:break}}else if(v===2){var A=(g[o[0]]<<0)+(g[o[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:w.push([s(f,l,o[0],o[1])]);break;case 2:w.push([s(f,l,o[1],o[0])]);break;case 3:break}}}return w}return n},function(){function s(u,l,f,g){for(var h=Math.min(f,g)|0,w=Math.max(f,g)|0,d=u[2*h],o=u[2*h+1];d<o;){var v=d+o>>1,A=l[2*v+1];if(A===w)return v;w<A?o=v:d=v+1}return d}function n(u,l,f,g){for(var h=u.length,w=[],d=0;d<h;++d){var o=u[d],v=o.length;if(v===4){var A=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2)+(g[o[3]]<<3);if(A===0||A===15)continue;switch(A){case 0:break;case 1:w.push([s(f,l,o[0],o[1]),s(f,l,o[0],o[2]),s(f,l,o[0],o[3])]);break;case 2:w.push([s(f,l,o[1],o[2]),s(f,l,o[1],o[0]),s(f,l,o[1],o[3])]);break;case 3:w.push([s(f,l,o[1],o[2]),s(f,l,o[0],o[2]),s(f,l,o[0],o[3])],[s(f,l,o[1],o[3]),s(f,l,o[1],o[2]),s(f,l,o[0],o[3])]);break;case 4:w.push([s(f,l,o[2],o[0]),s(f,l,o[2],o[1]),s(f,l,o[2],o[3])]);break;case 5:w.push([s(f,l,o[0],o[1]),s(f,l,o[2],o[1]),s(f,l,o[0],o[3])],[s(f,l,o[2],o[1]),s(f,l,o[2],o[3]),s(f,l,o[0],o[3])]);break;case 6:w.push([s(f,l,o[2],o[0]),s(f,l,o[1],o[0]),s(f,l,o[1],o[3])],[s(f,l,o[2],o[3]),s(f,l,o[2],o[0]),s(f,l,o[1],o[3])]);break;case 7:w.push([s(f,l,o[0],o[3]),s(f,l,o[1],o[3]),s(f,l,o[2],o[3])]);break;case 8:w.push([s(f,l,o[3],o[1]),s(f,l,o[3],o[0]),s(f,l,o[3],o[2])]);break;case 9:w.push([s(f,l,o[3],o[1]),s(f,l,o[0],o[1]),s(f,l,o[0],o[2])],[s(f,l,o[3],o[2]),s(f,l,o[3],o[1]),s(f,l,o[0],o[2])]);break;case 10:w.push([s(f,l,o[1],o[0]),s(f,l,o[3],o[0]),s(f,l,o[1],o[2])],[s(f,l,o[3],o[0]),s(f,l,o[3],o[2]),s(f,l,o[1],o[2])]);break;case 11:w.push([s(f,l,o[1],o[2]),s(f,l,o[0],o[2]),s(f,l,o[3],o[2])]);break;case 12:w.push([s(f,l,o[3],o[0]),s(f,l,o[2],o[0]),s(f,l,o[2],o[1])],[s(f,l,o[3],o[1]),s(f,l,o[3],o[0]),s(f,l,o[2],o[1])]);break;case 13:w.push([s(f,l,o[0],o[1]),s(f,l,o[2],o[1]),s(f,l,o[3],o[1])]);break;case 14:w.push([s(f,l,o[2],o[0]),s(f,l,o[1],o[0]),s(f,l,o[3],o[0])]);break;case 15:break}}else if(v===3){var A=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:w.push([s(f,l,o[0],o[2]),s(f,l,o[0],o[1])]);break;case 2:w.push([s(f,l,o[1],o[0]),s(f,l,o[1],o[2])]);break;case 3:w.push([s(f,l,o[0],o[2]),s(f,l,o[1],o[2])]);break;case 4:w.push([s(f,l,o[2],o[1]),s(f,l,o[2],o[0])]);break;case 5:w.push([s(f,l,o[2],o[1]),s(f,l,o[0],o[1])]);break;case 6:w.push([s(f,l,o[1],o[0]),s(f,l,o[2],o[0])]);break;case 7:break}}else if(v===2){var A=(g[o[0]]<<0)+(g[o[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:w.push([s(f,l,o[0],o[1])]);break;case 2:w.push([s(f,l,o[1],o[0])]);break;case 3:break}}}return w}return n}];function r(t){return y[t]()}},6803:function(c,y,r){"use strict";var t,s=r(8828),n=r(1755);function u(E){for(var p=0,k=Math.max,R=0,B=E.length;R<B;++R)p=k(p,E[R].length);return p-1}t=u;function l(E){for(var p=-1,k=Math.max,R=0,B=E.length;R<B;++R)for(var F=E[R],_=0,O=F.length;_<O;++_)p=k(p,F[_]);return p+1}t=l;function f(E){for(var p=new Array(E.length),k=0,R=E.length;k<R;++k)p[k]=E[k].slice(0);return p}t=f;function g(E,p){var k=E.length,R=E.length-p.length,B=Math.min;if(R)return R;switch(k){case 0:return 0;case 1:return E[0]-p[0];case 2:var N=E[0]+E[1]-p[0]-p[1];return N||B(E[0],E[1])-B(p[0],p[1]);case 3:var F=E[0]+E[1],_=p[0]+p[1];if(N=F+E[2]-(_+p[2]),N)return N;var O=B(E[0],E[1]),z=B(p[0],p[1]),N=B(O,E[2])-B(z,p[2]);return N||B(O+E[2],F)-B(z+p[2],_);default:var Y=E.slice(0);Y.sort();var J=p.slice(0);J.sort();for(var ae=0;ae<k;++ae)if(R=Y[ae]-J[ae],R)return R;return 0}}y.Fw=g;function h(E,p){return g(E[0],p[0])}function w(E,p){if(p){for(var k=E.length,R=new Array(k),B=0;B<k;++B)R[B]=[E[B],p[B]];R.sort(h);for(var B=0;B<k;++B)E[B]=R[B][0],p[B]=R[B][1];return E}else return E.sort(g),E}t=w;function d(E){if(E.length===0)return[];for(var p=1,k=E.length,R=1;R<k;++R){var B=E[R];if(g(B,E[R-1])){if(R===p){p++;continue}E[p++]=B}}return E.length=p,E}t=d;function o(E,p){for(var k=0,R=E.length-1,B=-1;k<=R;){var F=k+R>>1,_=g(E[F],p);_<=0?(_===0&&(B=F),k=F+1):_>0&&(R=F-1)}return B}t=o;function v(E,p){for(var k=new Array(E.length),R=0,B=k.length;R<B;++R)k[R]=[];for(var F=[],R=0,_=p.length;R<_;++R)for(var O=p[R],z=O.length,N=1,Y=1<<z;N<Y;++N){F.length=s.popCount(N);for(var J=0,ae=0;ae<z;++ae)N&1<<ae&&(F[J++]=O[ae]);var se=o(E,F);if(!(se<0))for(;k[se++].push(R),!(se>=E.length||g(E[se],F)!==0););}return k}t=v;function A(E,p){if(!p)return v(d(M(E,0)),E,0);for(var k=new Array(p),R=0;R<p;++R)k[R]=[];for(var R=0,B=E.length;R<B;++R)for(var F=E[R],_=0,O=F.length;_<O;++_)k[F[_]].push(R);return k}t=A;function b(E){for(var p=[],k=0,R=E.length;k<R;++k)for(var B=E[k],F=B.length|0,_=1,O=1<<F;_<O;++_){for(var z=[],N=0;N<F;++N)_>>>N&1&&z.push(B[N]);p.push(z)}return w(p)}t=b;function M(E,p){if(p<0)return[];for(var k=[],R=(1<<p+1)-1,B=0;B<E.length;++B)for(var F=E[B],_=R;_<1<<F.length;_=s.nextCombination(_)){for(var O=new Array(p+1),z=0,N=0;N<F.length;++N)_&1<<N&&(O[z++]=F[N]);k.push(O)}return w(k)}t=M;function m(E){for(var p=[],k=0,R=E.length;k<R;++k)for(var B=E[k],F=0,_=B.length;F<_;++F){for(var O=new Array(B.length-1),z=0,N=0;z<_;++z)z!==F&&(O[N++]=B[z]);p.push(O)}return w(p)}t=m;function S(E,p){for(var k=new n(p),R=0;R<E.length;++R)for(var B=E[R],F=0;F<B.length;++F)for(var _=F+1;_<B.length;++_)k.link(B[F],B[_]);for(var O=[],z=k.ranks,R=0;R<z.length;++R)z[R]=-1;for(var R=0;R<E.length;++R){var N=k.find(E[R][0]);z[N]<0?(z[N]=O.length,O.push([E[R].slice(0)])):O[z[N]].push(E[R].slice(0))}return O}function T(E){for(var p=d(w(M(E,0))),k=new n(p.length),R=0;R<E.length;++R)for(var B=E[R],F=0;F<B.length;++F)for(var _=o(p,[B[F]]),O=F+1;O<B.length;++O)k.link(_,o(p,[B[O]]));for(var z=[],N=k.ranks,R=0;R<N.length;++R)N[R]=-1;for(var R=0;R<E.length;++R){var Y=k.find(o(p,[E[R][0]]));N[Y]<0?(N[Y]=z.length,z.push([E[R].slice(0)])):z[N[Y]].push(E[R].slice(0))}return z}function a(E,p){return p?S(E,p):T(E)}t=a},3105:function(c,y){"use strict";"use restrict";var r=32;y.INT_BITS=r,y.INT_MAX=2147483647,y.INT_MIN=-1<<r-1,y.sign=function(n){return(n>0)-(n<0)},y.abs=function(n){var u=n>>r-1;return(n^u)-u},y.min=function(n,u){return u^(n^u)&-(n<u)},y.max=function(n,u){return n^(n^u)&-(n<u)},y.isPow2=function(n){return!(n&n-1)&&!!n},y.log2=function(n){var u,l;return u=(n>65535)<<4,n>>>=u,l=(n>255)<<3,n>>>=l,u|=l,l=(n>15)<<2,n>>>=l,u|=l,l=(n>3)<<1,n>>>=l,u|=l,u|n>>1},y.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},y.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}y.countTrailingZeros=t,y.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},y.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},y.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var u=0;u<256;++u){var l=u,f=u,g=7;for(l>>>=1;l;l>>>=1)f<<=1,f|=l&1,--g;n[u]=f<<g&255}})(s),y.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},y.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},y.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},y.interleave3=function(n,u,l){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,n|l<<2},y.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},y.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},2014:function(c,y,r){"use strict";"use restrict";var t=r(3105),s=r(4623);function n(a){for(var E=0,p=Math.max,k=0,R=a.length;k<R;++k)E=p(E,a[k].length);return E-1}y.dimension=n;function u(a){for(var E=-1,p=Math.max,k=0,R=a.length;k<R;++k)for(var B=a[k],F=0,_=B.length;F<_;++F)E=p(E,B[F]);return E+1}y.countVertices=u;function l(a){for(var E=new Array(a.length),p=0,k=a.length;p<k;++p)E[p]=a[p].slice(0);return E}y.cloneCells=l;function f(a,E){var p=a.length,k=a.length-E.length,R=Math.min;if(k)return k;switch(p){case 0:return 0;case 1:return a[0]-E[0];case 2:var z=a[0]+a[1]-E[0]-E[1];return z||R(a[0],a[1])-R(E[0],E[1]);case 3:var B=a[0]+a[1],F=E[0]+E[1];if(z=B+a[2]-(F+E[2]),z)return z;var _=R(a[0],a[1]),O=R(E[0],E[1]),z=R(_,a[2])-R(O,E[2]);return z||R(_+a[2],B)-R(O+E[2],F);default:var N=a.slice(0);N.sort();var Y=E.slice(0);Y.sort();for(var J=0;J<p;++J)if(k=N[J]-Y[J],k)return k;return 0}}y.compareCells=f;function g(a,E){return f(a[0],E[0])}function h(a,E){if(E){for(var p=a.length,k=new Array(p),R=0;R<p;++R)k[R]=[a[R],E[R]];k.sort(g);for(var R=0;R<p;++R)a[R]=k[R][0],E[R]=k[R][1];return a}else return a.sort(f),a}y.normalize=h;function w(a){if(a.length===0)return[];for(var E=1,p=a.length,k=1;k<p;++k){var R=a[k];if(f(R,a[k-1])){if(k===E){E++;continue}a[E++]=R}}return a.length=E,a}y.unique=w;function d(a,E){for(var p=0,k=a.length-1,R=-1;p<=k;){var B=p+k>>1,F=f(a[B],E);F<=0?(F===0&&(R=B),p=B+1):F>0&&(k=B-1)}return R}y.findCell=d;function o(a,E){for(var p=new Array(a.length),k=0,R=p.length;k<R;++k)p[k]=[];for(var B=[],k=0,F=E.length;k<F;++k)for(var _=E[k],O=_.length,z=1,N=1<<O;z<N;++z){B.length=t.popCount(z);for(var Y=0,J=0;J<O;++J)z&1<<J&&(B[Y++]=_[J]);var ae=d(a,B);if(!(ae<0))for(;p[ae++].push(k),!(ae>=a.length||f(a[ae],B)!==0););}return p}y.incidence=o;function v(a,E){if(!E)return o(w(b(a,0)),a,0);for(var p=new Array(E),k=0;k<E;++k)p[k]=[];for(var k=0,R=a.length;k<R;++k)for(var B=a[k],F=0,_=B.length;F<_;++F)p[B[F]].push(k);return p}y.dual=v;function A(a){for(var E=[],p=0,k=a.length;p<k;++p)for(var R=a[p],B=R.length|0,F=1,_=1<<B;F<_;++F){for(var O=[],z=0;z<B;++z)F>>>z&1&&O.push(R[z]);E.push(O)}return h(E)}y.explode=A;function b(a,E){if(E<0)return[];for(var p=[],k=(1<<E+1)-1,R=0;R<a.length;++R)for(var B=a[R],F=k;F<1<<B.length;F=t.nextCombination(F)){for(var _=new Array(E+1),O=0,z=0;z<B.length;++z)F&1<<z&&(_[O++]=B[z]);p.push(_)}return h(p)}y.skeleton=b;function M(a){for(var E=[],p=0,k=a.length;p<k;++p)for(var R=a[p],B=0,F=R.length;B<F;++B){for(var _=new Array(R.length-1),O=0,z=0;O<F;++O)O!==B&&(_[z++]=R[O]);E.push(_)}return h(E)}y.boundary=M;function m(a,E){for(var p=new s(E),k=0;k<a.length;++k)for(var R=a[k],B=0;B<R.length;++B)for(var F=B+1;F<R.length;++F)p.link(R[B],R[F]);for(var _=[],O=p.ranks,k=0;k<O.length;++k)O[k]=-1;for(var k=0;k<a.length;++k){var z=p.find(a[k][0]);O[z]<0?(O[z]=_.length,_.push([a[k].slice(0)])):_[O[z]].push(a[k].slice(0))}return _}function S(a){for(var E=w(h(b(a,0))),p=new s(E.length),k=0;k<a.length;++k)for(var R=a[k],B=0;B<R.length;++B)for(var F=d(E,[R[B]]),_=B+1;_<R.length;++_)p.link(F,d(E,[R[_]]));for(var O=[],z=p.ranks,k=0;k<z.length;++k)z[k]=-1;for(var k=0;k<a.length;++k){var N=p.find(d(E,[a[k][0]]));z[N]<0?(z[N]=O.length,O.push([a[k].slice(0)])):O[z[N]].push(a[k].slice(0))}return O}function T(a,E){return E?m(a,E):S(a)}y.connectedComponents=T},4623:function(c){"use strict";"use restrict";c.exports=y;function y(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}y.prototype.length=function(){return this.roots.length},y.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},y.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var s=t[r];t[r]=t[s],r=s}return r},y.prototype.link=function(r,t){var s=this.find(r),n=this.find(t);if(s!==n){var u=this.ranks,l=this.roots,f=u[s],g=u[n];f<g?l[s]=n:g<f?l[n]=s:(l[n]=s,++u[s])}}},5878:function(c,y,r){"use strict";c.exports=u;var t=r(3250),s=r(2014);function n(l,f,g){var h=Math.abs(t(l,f,g)),w=Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2));return h/w}function u(l,f,g){for(var h=f.length,w=l.length,d=new Array(h),o=new Array(h),v=new Array(h),A=new Array(h),b=0;b<h;++b)d[b]=o[b]=-1,v[b]=1/0,A[b]=!1;for(var b=0;b<w;++b){var M=l[b];if(M.length!==2)throw new Error("Input must be a graph");var m=M[1],S=M[0];o[S]!==-1?o[S]=-2:o[S]=m,d[m]!==-1?d[m]=-2:d[m]=S}function T(j){if(A[j])return 1/0;var ie=d[j],W=o[j];return ie<0||W<0?1/0:n(f[j],f[ie],f[W])}function a(j,ie){var W=O[j],Q=O[ie];O[j]=Q,O[ie]=W,z[W]=ie,z[Q]=j}function E(j){return v[O[j]]}function p(j){return j&1?j-1>>1:(j>>1)-1}function k(j){for(var ie=E(j);;){var W=ie,Q=2*j+1,ee=2*(j+1),$=j;if(Q<Y){var X=E(Q);X<W&&($=Q,W=X)}if(ee<Y){var oe=E(ee);oe<W&&($=ee)}if($===j)return j;a(j,$),j=$}}function R(j){for(var ie=E(j);j>0;){var W=p(j);if(W>=0){var Q=E(W);if(ie<Q){a(j,W),j=W;continue}}return j}}function B(){if(Y>0){var j=O[0];return a(0,Y-1),Y-=1,k(0),j}return-1}function F(j,ie){var W=O[j];return v[W]===ie?j:(v[W]=-1/0,R(j),B(),v[W]=ie,Y+=1,R(Y-1))}function _(j){if(!A[j]){A[j]=!0;var ie=d[j],W=o[j];d[W]>=0&&(d[W]=ie),o[ie]>=0&&(o[ie]=W),z[ie]>=0&&F(z[ie],T(ie)),z[W]>=0&&F(z[W],T(W))}}for(var O=[],z=new Array(h),b=0;b<h;++b){var N=v[b]=T(b);N<1/0?(z[b]=O.length,O.push(b)):z[b]=-1}for(var Y=O.length,b=Y>>1;b>=0;--b)k(b);for(;;){var J=B();if(J<0||v[J]>g)break;_(J)}for(var ae=[],b=0;b<h;++b)A[b]||(z[b]=ae.length,ae.push(f[b].slice()));var se=ae.length;function ue(j,ie){if(j[ie]<0)return ie;var W=ie,Q=ie;do{var ee=j[Q];if(!A[Q]||ee<0||ee===Q||(Q=ee,ee=j[Q],!A[Q]||ee<0||ee===Q))break;Q=ee,W=j[W]}while(W!==Q);for(var $=ie;$!==Q;$=j[$])j[$]=Q;return Q}var K=[];return l.forEach(function(j){var ie=ue(d,j[0]),W=ue(o,j[1]);if(ie>=0&&W>=0&&ie!==W){var Q=z[ie],ee=z[W];Q!==ee&&K.push([Q,ee])}}),s.unique(s.normalize(K)),{positions:ae,edges:K}}},1303:function(c,y,r){"use strict";c.exports=n;var t=r(3250);function s(u,l){var f,g;if(l[0][0]<l[1][0])f=l[0],g=l[1];else if(l[0][0]>l[1][0])f=l[1],g=l[0];else{var h=Math.min(u[0][1],u[1][1]),w=Math.max(u[0][1],u[1][1]),d=Math.min(l[0][1],l[1][1]),o=Math.max(l[0][1],l[1][1]);return w<d?w-d:h>o?h-o:w-o}var v,A;u[0][1]<u[1][1]?(v=u[0],A=u[1]):(v=u[1],A=u[0]);var b=t(g,f,v);return b||(b=t(g,f,A),b)?b:A-g}function n(u,l){var f,g;if(l[0][0]<l[1][0])f=l[0],g=l[1];else if(l[0][0]>l[1][0])f=l[1],g=l[0];else return s(l,u);var h,w;if(u[0][0]<u[1][0])h=u[0],w=u[1];else if(u[0][0]>u[1][0])h=u[1],w=u[0];else return-s(u,l);var d=t(f,g,w),o=t(f,g,h);if(d<0){if(o<=0)return d}else if(d>0){if(o>=0)return d}else if(o)return o;if(d=t(w,h,g),o=t(w,h,f),d<0){if(o<=0)return d}else if(d>0){if(o>=0)return d}else if(o)return o;return g[0]-w[0]}},4209:function(c,y,r){"use strict";c.exports=o;var t=r(2478),s=r(3840),n=r(3250),u=r(1303);function l(v,A,b){this.slabs=v,this.coordinates=A,this.horizontal=b}var f=l.prototype;function g(v,A){return v.y-A}function h(v,A){for(var b=null;v;){var M=v.key,m,S;M[0][0]<M[1][0]?(m=M[0],S=M[1]):(m=M[1],S=M[0]);var T=n(m,S,A);if(T<0)v=v.left;else if(T>0)if(A[0]!==M[1][0])b=v,v=v.right;else{var a=h(v.right,A);if(a)return a;v=v.left}else{if(A[0]!==M[1][0])return v;var a=h(v.right,A);if(a)return a;v=v.left}}return b}f.castUp=function(v){var A=t.le(this.coordinates,v[0]);if(A<0)return-1;var b=this.slabs[A],M=h(this.slabs[A],v),m=-1;if(M&&(m=M.value),this.coordinates[A]===v[0]){var S=null;if(M&&(S=M.key),A>0){var T=h(this.slabs[A-1],v);T&&(S?u(T.key,S)>0&&(S=T.key,m=T.value):(m=T.value,S=T.key))}var a=this.horizontal[A];if(a.length>0){var E=t.ge(a,v[1],g);if(E<a.length){var p=a[E];if(v[1]===p.y){if(p.closed)return p.index;for(;E<a.length-1&&a[E+1].y===v[1];)if(E=E+1,p=a[E],p.closed)return p.index;if(p.y===v[1]&&!p.start){if(E=E+1,E>=a.length)return m;p=a[E]}}if(p.start)if(S){var k=n(S[0],S[1],[v[0],p.y]);S[0][0]>S[1][0]&&(k=-k),k>0&&(m=p.index)}else m=p.index;else p.y!==v[1]&&(m=p.index)}}}return m};function w(v,A,b,M){this.y=v,this.index=A,this.start=b,this.closed=M}function d(v,A,b,M){this.x=v,this.segment=A,this.create=b,this.index=M}function o(v){for(var A=v.length,b=2*A,M=new Array(b),m=0;m<A;++m){var S=v[m],T=S[0][0]<S[1][0];M[2*m]=new d(S[0][0],S,T,m),M[2*m+1]=new d(S[1][0],S,!T,m)}M.sort(function(O,z){var N=O.x-z.x;return N||(N=O.create-z.create,N)?N:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});for(var a=s(u),E=[],p=[],k=[],R=-1/0,m=0;m<b;){for(var B=M[m].x,F=[];m<b;){var _=M[m];if(_.x!==B)break;m+=1,_.segment[0][0]===_.x&&_.segment[1][0]===_.x?_.create&&(_.segment[0][1]<_.segment[1][1]?(F.push(new w(_.segment[0][1],_.index,!0,!0)),F.push(new w(_.segment[1][1],_.index,!1,!1))):(F.push(new w(_.segment[1][1],_.index,!0,!1)),F.push(new w(_.segment[0][1],_.index,!1,!0)))):_.create?a=a.insert(_.segment,_.index):a=a.remove(_.segment)}E.push(a.root),p.push(B),k.push(F)}return new l(E,p,k)}},5202:function(c,y,r){"use strict";var t=r(1944),s=r(8210);c.exports=l,c.exports.positive=f,c.exports.negative=g;function n(h,w){var d=s(t(h,w),[w[w.length-1]]);return d[d.length-1]}function u(h,w,d,o){var v=o-w,A=-w/v;A<0?A=0:A>1&&(A=1);for(var b=1-A,M=h.length,m=new Array(M),S=0;S<M;++S)m[S]=A*h[S]+b*d[S];return m}function l(h,w){for(var d=[],o=[],v=n(h[h.length-1],w),A=h[h.length-1],b=h[0],M=0;M<h.length;++M,A=b){b=h[M];var m=n(b,w);if(v<0&&m>0||v>0&&m<0){var S=u(A,m,b,v);d.push(S),o.push(S.slice())}m<0?o.push(b.slice()):m>0?d.push(b.slice()):(d.push(b.slice()),o.push(b.slice())),v=m}return{positive:d,negative:o}}function f(h,w){for(var d=[],o=n(h[h.length-1],w),v=h[h.length-1],A=h[0],b=0;b<h.length;++b,v=A){A=h[b];var M=n(A,w);(o<0&&M>0||o>0&&M<0)&&d.push(u(v,M,A,o)),M>=0&&d.push(A.slice()),o=M}return d}function g(h,w){for(var d=[],o=n(h[h.length-1],w),v=h[h.length-1],A=h[0],b=0;b<h.length;++b,v=A){A=h[b];var M=n(A,w);(o<0&&M>0||o>0&&M<0)&&d.push(u(v,M,A,o)),M<=0&&d.push(A.slice()),o=M}return d}},3387:function(c,y,r){var t;(function(){"use strict";var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return l(g(h),arguments)}function u(h,w){return n.apply(null,[h].concat(w||[]))}function l(h,w){var d=1,o=h.length,v,A="",b,M,m,S,T,a,E,p;for(b=0;b<o;b++)if(typeof h[b]=="string")A+=h[b];else if(typeof h[b]=="object"){if(m=h[b],m.keys)for(v=w[d],M=0;M<m.keys.length;M++){if(v==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[M],m.keys[M-1]));v=v[m.keys[M]]}else m.param_no?v=w[m.param_no]:v=w[d++];if(s.not_type.test(m.type)&&s.not_primitive.test(m.type)&&v instanceof Function&&(v=v()),s.numeric_arg.test(m.type)&&typeof v!="number"&&isNaN(v))throw new TypeError(n("[sprintf] expecting number but found %T",v));switch(s.number.test(m.type)&&(E=v>=0),m.type){case"b":v=parseInt(v,10).toString(2);break;case"c":v=String.fromCharCode(parseInt(v,10));break;case"d":case"i":v=parseInt(v,10);break;case"j":v=JSON.stringify(v,null,m.width?parseInt(m.width):0);break;case"e":v=m.precision?parseFloat(v).toExponential(m.precision):parseFloat(v).toExponential();break;case"f":v=m.precision?parseFloat(v).toFixed(m.precision):parseFloat(v);break;case"g":v=m.precision?String(Number(v.toPrecision(m.precision))):parseFloat(v);break;case"o":v=(parseInt(v,10)>>>0).toString(8);break;case"s":v=String(v),v=m.precision?v.substring(0,m.precision):v;break;case"t":v=String(!!v),v=m.precision?v.substring(0,m.precision):v;break;case"T":v=Object.prototype.toString.call(v).slice(8,-1).toLowerCase(),v=m.precision?v.substring(0,m.precision):v;break;case"u":v=parseInt(v,10)>>>0;break;case"v":v=v.valueOf(),v=m.precision?v.substring(0,m.precision):v;break;case"x":v=(parseInt(v,10)>>>0).toString(16);break;case"X":v=(parseInt(v,10)>>>0).toString(16).toUpperCase();break}s.json.test(m.type)?A+=v:(s.number.test(m.type)&&(!E||m.sign)?(p=E?"+":"-",v=v.toString().replace(s.sign,"")):p="",T=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",a=m.width-(p+v).length,S=m.width&&a>0?T.repeat(a):"",A+=m.align?p+v+S:T==="0"?p+S+v:S+p+v)}return A}var f=Object.create(null);function g(h){if(f[h])return f[h];for(var w=h,d,o=[],v=0;w;){if((d=s.text.exec(w))!==null)o.push(d[0]);else if((d=s.modulo.exec(w))!==null)o.push("%");else if((d=s.placeholder.exec(w))!==null){if(d[2]){v|=1;var A=[],b=d[2],M=[];if((M=s.key.exec(b))!==null)for(A.push(M[1]);(b=b.substring(M[0].length))!=="";)if((M=s.key_access.exec(b))!==null)A.push(M[1]);else if((M=s.index_access.exec(b))!==null)A.push(M[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");d[2]=A}else v|=2;if(v===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(d[0].length)}return f[h]=o}y.sprintf=n,y.vsprintf=u,typeof window!="undefined"&&(window.sprintf=n,window.vsprintf=u,t=function(){return{sprintf:n,vsprintf:u}}.call(y,r,y,c),t!==void 0&&(c.exports=t))})()},3711:function(c,y,r){"use strict";c.exports=g;var t=r(2640),s=r(781),n={"2d":function(h,w,d){var o=h({order:w,scalarArguments:3,getters:d==="generic"?[0]:void 0,phase:function(A,b,M,m){return A>m|0},vertex:function(A,b,M,m,S,T,a,E,p,k,R,B,F){var _=(a<<0)+(E<<1)+(p<<2)+(k<<3)|0;if(!(_===0||_===15))switch(_){case 0:R.push([A-.5,b-.5]);break;case 1:R.push([A-.25-.25*(m+M-2*F)/(M-m),b-.25-.25*(S+M-2*F)/(M-S)]);break;case 2:R.push([A-.75-.25*(-m-M+2*F)/(m-M),b-.25-.25*(T+m-2*F)/(m-T)]);break;case 3:R.push([A-.5,b-.5-.5*(S+M+T+m-4*F)/(M-S+m-T)]);break;case 4:R.push([A-.25-.25*(T+S-2*F)/(S-T),b-.75-.25*(-S-M+2*F)/(S-M)]);break;case 5:R.push([A-.5-.5*(m+M+T+S-4*F)/(M-m+S-T),b-.5]);break;case 6:R.push([A-.5-.25*(-m-M+T+S)/(m-M+S-T),b-.5-.25*(-S-M+T+m)/(S-M+m-T)]);break;case 7:R.push([A-.75-.25*(T+S-2*F)/(S-T),b-.75-.25*(T+m-2*F)/(m-T)]);break;case 8:R.push([A-.75-.25*(-T-S+2*F)/(T-S),b-.75-.25*(-T-m+2*F)/(T-m)]);break;case 9:R.push([A-.5-.25*(m+M+-T-S)/(M-m+T-S),b-.5-.25*(S+M+-T-m)/(M-S+T-m)]);break;case 10:R.push([A-.5-.5*(-m-M+-T-S+4*F)/(m-M+T-S),b-.5]);break;case 11:R.push([A-.25-.25*(-T-S+2*F)/(T-S),b-.75-.25*(S+M-2*F)/(M-S)]);break;case 12:R.push([A-.5,b-.5-.5*(-S-M+-T-m+4*F)/(S-M+T-m)]);break;case 13:R.push([A-.75-.25*(m+M-2*F)/(M-m),b-.25-.25*(-T-m+2*F)/(T-m)]);break;case 14:R.push([A-.25-.25*(-m-M+2*F)/(m-M),b-.25-.25*(-S-M+2*F)/(S-M)]);break;case 15:R.push([A-.5,b-.5]);break}},cell:function(A,b,M,m,S,T,a,E,p){S?E.push([A,b]):E.push([b,A])}});return function(v,A){var b=[],M=[];return o(v,b,M,A),{positions:b,cells:M}}}};function u(h,w){var d=h.length+"d",o=n[d];if(o)return o(t,h,w)}function l(h,w){for(var d=s(h,w),o=d.length,v=new Array(o),A=new Array(o),b=0;b<o;++b)v[b]=[d[b]],A[b]=[b];return{positions:v,cells:A}}var f={};function g(h,v){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return l(h,v);var d=h.order.join()+"-"+h.dtype,o=f[d],v=+v||0;return o||(o=f[d]=u(h.order,h.dtype)),o(h,v)}},529:function(c,y,r){"use strict";c.exports=l;var t=r(4359),s=window||x.global||{},n=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function u(f){for(var g=f.cells,h=f.positions,w=new Float32Array(g.length*6),d=0,o=0,v=0;v<g.length;++v)for(var A=g[v],b=0;b<3;++b){var M=h[A[b]];w[d++]=M[0],w[d++]=M[1]+1.4,o=Math.max(M[0],o)}return{data:w,shape:o}}function l(f,g,w){var w=w||{},d=n[f];d||(d=n[f]={" ":{data:new Float32Array(0),shape:.2}});var o=d[g];if(!o)if(g.length<=1||!/\d/.test(g))o=d[g]=u(t(g,{triangles:!0,font:f,textAlign:w.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var v=g.split(/(\d|\s)/),A=new Array(v.length),b=0,M=0,m=0;m<v.length;++m)A[m]=l(f,v[m]),b+=A[m].data.length,M+=A[m].shape,m>0&&(M+=.02);for(var S=new Float32Array(b),T=0,a=-.5*M,m=0;m<A.length;++m){for(var E=A[m].data,p=0;p<E.length;p+=2)S[T++]=E[p]+a,S[T++]=E[p+1];a+=A[m].shape+.02}o=d[g]={data:S,shape:M}}return o}},665:function(c,y,r){"use strict";var t=r(3202);c.exports=l;var s=96;function n(f,g){var h=t(getComputedStyle(f).getPropertyValue(g));return h[0]*l(h[1],f)}function u(f,g){var h=document.createElement("div");h.style["font-size"]="128"+f,g.appendChild(h);var w=n(h,"font-size")/128;return g.removeChild(h),w}function l(f,g){switch(g=g||document.body,f=(f||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),f){case"%":return g.clientHeight/100;case"ch":case"ex":return u(f,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},7261:function(c,y,r){"use strict";c.exports=A;var t=r(9215),s=r(7608),n=r(6079),u=r(5911),l=r(3536),f=r(244);function g(b,M,m){return Math.sqrt(Math.pow(b,2)+Math.pow(M,2)+Math.pow(m,2))}function h(b){return Math.min(1,Math.max(-1,b))}function w(b){var M=Math.abs(b[0]),m=Math.abs(b[1]),S=Math.abs(b[2]),T=[0,0,0];M>Math.max(m,S)?T[2]=1:m>Math.max(M,S)?T[0]=1:T[1]=1;for(var a=0,E=0,p=0;p<3;++p)a+=b[p]*b[p],E+=T[p]*b[p];for(var p=0;p<3;++p)T[p]-=E/a*b[p];return l(T,T),T}function d(b,M,m,S,T,a,E,p){this.center=t(m),this.up=t(S),this.right=t(T),this.radius=t([a]),this.angle=t([E,p]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(b,M),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var o=d.prototype;o.setDistanceLimits=function(b,M){b>0?b=Math.log(b):b=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,b),this.radius.bounds[0][0]=b,this.radius.bounds[1][0]=M},o.getDistanceLimits=function(b){var M=this.radius.bounds[0];return b?(b[0]=Math.exp(M[0][0]),b[1]=Math.exp(M[1][0]),b):[Math.exp(M[0][0]),Math.exp(M[1][0])]},o.recalcMatrix=function(b){this.center.curve(b),this.up.curve(b),this.right.curve(b),this.radius.curve(b),this.angle.curve(b);for(var M=this.computedUp,m=this.computedRight,S=0,T=0,a=0;a<3;++a)T+=M[a]*m[a],S+=M[a]*M[a];for(var E=Math.sqrt(S),p=0,a=0;a<3;++a)m[a]-=M[a]*T/S,p+=m[a]*m[a],M[a]/=E;for(var k=Math.sqrt(p),a=0;a<3;++a)m[a]/=k;var R=this.computedToward;u(R,M,m),l(R,R);for(var B=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],_=this.computedAngle[1],O=Math.cos(F),z=Math.sin(F),N=Math.cos(_),Y=Math.sin(_),J=this.computedCenter,ae=O*N,se=z*N,ue=Y,K=-O*Y,j=-z*Y,ie=N,W=this.computedEye,Q=this.computedMatrix,a=0;a<3;++a){var ee=ae*m[a]+se*R[a]+ue*M[a];Q[4*a+1]=K*m[a]+j*R[a]+ie*M[a],Q[4*a+2]=ee,Q[4*a+3]=0}var $=Q[1],X=Q[5],oe=Q[9],te=Q[2],fe=Q[6],pe=Q[10],Ae=X*pe-oe*fe,be=oe*te-$*pe,Pe=$*fe-X*te,me=g(Ae,be,Pe);Ae/=me,be/=me,Pe/=me,Q[0]=Ae,Q[4]=be,Q[8]=Pe;for(var a=0;a<3;++a)W[a]=J[a]+Q[2+4*a]*B;for(var a=0;a<3;++a){for(var p=0,Ee=0;Ee<3;++Ee)p+=Q[a+4*Ee]*W[Ee];Q[12+a]=-p}Q[15]=1},o.getMatrix=function(b,M){this.recalcMatrix(b);var m=this.computedMatrix;if(M){for(var S=0;S<16;++S)M[S]=m[S];return M}return m};var v=[0,0,0];o.rotate=function(b,M,m,S){if(this.angle.move(b,M,m),S){this.recalcMatrix(b);var T=this.computedMatrix;v[0]=T[2],v[1]=T[6],v[2]=T[10];for(var a=this.computedUp,E=this.computedRight,p=this.computedToward,k=0;k<3;++k)T[4*k]=a[k],T[4*k+1]=E[k],T[4*k+2]=p[k];n(T,T,S,v);for(var k=0;k<3;++k)a[k]=T[4*k],E[k]=T[4*k+1];this.up.set(b,a[0],a[1],a[2]),this.right.set(b,E[0],E[1],E[2])}},o.pan=function(b,M,m,S){M=M||0,m=m||0,S=S||0,this.recalcMatrix(b);var T=this.computedMatrix,a=Math.exp(this.computedRadius[0]),E=T[1],p=T[5],k=T[9],R=g(E,p,k);E/=R,p/=R,k/=R;var B=T[0],F=T[4],_=T[8],O=B*E+F*p+_*k;B-=E*O,F-=p*O,_-=k*O;var z=g(B,F,_);B/=z,F/=z,_/=z;var N=B*M+E*m,Y=F*M+p*m,J=_*M+k*m;this.center.move(b,N,Y,J);var ae=Math.exp(this.computedRadius[0]);ae=Math.max(1e-4,ae+S),this.radius.set(b,Math.log(ae))},o.translate=function(b,M,m,S){this.center.move(b,M||0,m||0,S||0)},o.setMatrix=function(b,M,m,S){var T=1;typeof m=="number"&&(T=m|0),(T<0||T>3)&&(T=1);var a=(T+2)%3,E=(T+1)%3;M||(this.recalcMatrix(b),M=this.computedMatrix);var p=M[T],k=M[T+4],R=M[T+8];if(S){var F=Math.abs(p),_=Math.abs(k),O=Math.abs(R),z=Math.max(F,_,O);F===z?(p=p<0?-1:1,k=R=0):O===z?(R=R<0?-1:1,p=k=0):(k=k<0?-1:1,p=R=0)}else{var B=g(p,k,R);p/=B,k/=B,R/=B}var N=M[a],Y=M[a+4],J=M[a+8],ae=N*p+Y*k+J*R;N-=p*ae,Y-=k*ae,J-=R*ae;var se=g(N,Y,J);N/=se,Y/=se,J/=se;var ue=k*J-R*Y,K=R*N-p*J,j=p*Y-k*N,ie=g(ue,K,j);ue/=ie,K/=ie,j/=ie,this.center.jump(b,ke,Ye,lt),this.radius.idle(b),this.up.jump(b,p,k,R),this.right.jump(b,N,Y,J);var W,Q;if(T===2){var ee=M[1],$=M[5],X=M[9],oe=ee*N+$*Y+X*J,te=ee*ue+$*K+X*j;be<0?W=-Math.PI/2:W=Math.PI/2,Q=Math.atan2(te,oe)}else{var fe=M[2],pe=M[6],Ae=M[10],be=fe*p+pe*k+Ae*R,Pe=fe*N+pe*Y+Ae*J,me=fe*ue+pe*K+Ae*j;W=Math.asin(h(be)),Q=Math.atan2(me,Pe)}this.angle.jump(b,Q,W),this.recalcMatrix(b);var Ee=M[2],xe=M[6],De=M[10],Ve=this.computedMatrix;s(Ve,M);var Ze=Ve[15],ke=Ve[12]/Ze,Ye=Ve[13]/Ze,lt=Ve[14]/Ze,yt=Math.exp(this.computedRadius[0]);this.center.jump(b,ke-Ee*yt,Ye-xe*yt,lt-De*yt)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(b){this.center.idle(b),this.up.idle(b),this.right.idle(b),this.radius.idle(b),this.angle.idle(b)},o.flush=function(b){this.center.flush(b),this.up.flush(b),this.right.flush(b),this.radius.flush(b),this.angle.flush(b)},o.setDistance=function(b,M){M>0&&this.radius.set(b,Math.log(M))},o.lookAt=function(b,M,m,S){this.recalcMatrix(b),M=M||this.computedEye,m=m||this.computedCenter,S=S||this.computedUp;var T=S[0],a=S[1],E=S[2],p=g(T,a,E);if(!(p<1e-6)){T/=p,a/=p,E/=p;var k=M[0]-m[0],R=M[1]-m[1],B=M[2]-m[2],F=g(k,R,B);if(!(F<1e-6)){k/=F,R/=F,B/=F;var _=this.computedRight,O=_[0],z=_[1],N=_[2],Y=T*O+a*z+E*N;O-=Y*T,z-=Y*a,N-=Y*E;var J=g(O,z,N);if(!(J<.01&&(O=a*B-E*R,z=E*k-T*B,N=T*R-a*k,J=g(O,z,N),J<1e-6))){O/=J,z/=J,N/=J,this.up.set(b,T,a,E),this.right.set(b,O,z,N),this.center.set(b,m[0],m[1],m[2]),this.radius.set(b,Math.log(F));var ae=a*N-E*z,se=E*O-T*N,ue=T*z-a*O,K=g(ae,se,ue);ae/=K,se/=K,ue/=K;var j=T*k+a*R+E*B,ie=O*k+z*R+N*B,W=ae*k+se*R+ue*B,Q=Math.asin(h(j)),ee=Math.atan2(W,ie),$=this.angle._state,X=$[$.length-1],oe=$[$.length-2];X=X%(2*Math.PI);var te=Math.abs(X+2*Math.PI-ee),fe=Math.abs(X-ee),pe=Math.abs(X-2*Math.PI-ee);te<fe&&(X+=2*Math.PI),pe<fe&&(X-=2*Math.PI),this.angle.jump(this.angle.lastT(),X,oe),this.angle.set(b,ee,Q)}}}};function A(b){b=b||{};var M=b.center||[0,0,0],m=b.up||[0,1,0],S=b.right||w(m),T=b.radius||1,a=b.theta||0,E=b.phi||0;if(M=[].slice.call(M,0,3),m=[].slice.call(m,0,3),l(m,m),S=[].slice.call(S,0,3),l(S,S),"eye"in b){var p=b.eye,k=[p[0]-M[0],p[1]-M[1],p[2]-M[2]];u(S,k,m),g(S[0],S[1],S[2])<1e-6?S=w(m):l(S,S),T=g(k[0],k[1],k[2]);var R=f(m,k)/T,B=f(S,k)/T;E=Math.acos(R),a=Math.acos(B)}return T=Math.log(T),new d(b.zoomMin,b.zoomMax,M,m,S,T,a,E)}},5250:function(c){"use strict";c.exports=r;var y=+(Math.pow(2,27)+1);function r(t,s,n){var u=t*s,l=y*t,f=l-t,g=l-f,h=t-g,w=y*s,d=w-s,o=w-d,v=s-o,A=u-g*o,b=A-h*o,M=b-g*v,m=h*v-M;return n?(n[0]=m,n[1]=u,n):[m,u]}},9362:function(c){"use strict";c.exports=y;function y(r,t,s){var n=r+t,u=n-r,l=n-u,f=t-u,g=r-l;return s?(s[0]=g+f,s[1]=n,s):[g+f,n]}},1888:function(c,y,r){"use strict";var t=r(8828),s=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var u=typeof Uint8ClampedArray!="undefined",l=typeof BigUint64Array!="undefined",f=typeof BigInt64Array!="undefined",g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=s([32,0])),g.BIGUINT64||(g.BIGUINT64=s([32,0])),g.BIGINT64||(g.BIGINT64=s([32,0])),g.BUFFER||(g.BUFFER=s([32,0]));var h=g.DATA,w=g.BUFFER;y.free=function(O){if(n.isBuffer(O))w[t.log2(O.length)].push(O);else{if(Object.prototype.toString.call(O)!=="[object ArrayBuffer]"&&(O=O.buffer),!O)return;var z=O.length||O.byteLength,N=t.log2(z)|0;h[N].push(O)}};function d(_){if(_){var O=_.length||_.byteLength,z=t.log2(O);h[z].push(_)}}function o(_){d(_.buffer)}y.freeUint8=y.freeUint16=y.freeUint32=y.freeBigUint64=y.freeInt8=y.freeInt16=y.freeInt32=y.freeBigInt64=y.freeFloat32=y.freeFloat=y.freeFloat64=y.freeDouble=y.freeUint8Clamped=y.freeDataView=o,y.freeArrayBuffer=d,y.freeBuffer=function(O){w[t.log2(O.length)].push(O)},y.malloc=function(O,z){if(z===void 0||z==="arraybuffer")return v(O);switch(z){case"uint8":return A(O);case"uint16":return b(O);case"uint32":return M(O);case"int8":return m(O);case"int16":return S(O);case"int32":return T(O);case"float":case"float32":return a(O);case"double":case"float64":return E(O);case"uint8_clamped":return p(O);case"bigint64":return R(O);case"biguint64":return k(O);case"buffer":return F(O);case"data":case"dataview":return B(O);default:return null}return null};function v(O){var O=t.nextPow2(O),z=t.log2(O),N=h[z];return N.length>0?N.pop():new ArrayBuffer(O)}y.mallocArrayBuffer=v;function A(_){return new Uint8Array(v(_),0,_)}y.mallocUint8=A;function b(_){return new Uint16Array(v(2*_),0,_)}y.mallocUint16=b;function M(_){return new Uint32Array(v(4*_),0,_)}y.mallocUint32=M;function m(_){return new Int8Array(v(_),0,_)}y.mallocInt8=m;function S(_){return new Int16Array(v(2*_),0,_)}y.mallocInt16=S;function T(_){return new Int32Array(v(4*_),0,_)}y.mallocInt32=T;function a(_){return new Float32Array(v(4*_),0,_)}y.mallocFloat32=y.mallocFloat=a;function E(_){return new Float64Array(v(8*_),0,_)}y.mallocFloat64=y.mallocDouble=E;function p(_){return u?new Uint8ClampedArray(v(_),0,_):A(_)}y.mallocUint8Clamped=p;function k(_){return l?new BigUint64Array(v(8*_),0,_):null}y.mallocBigUint64=k;function R(_){return f?new BigInt64Array(v(8*_),0,_):null}y.mallocBigInt64=R;function B(_){return new DataView(v(_),0,_)}y.mallocDataView=B;function F(_){_=t.nextPow2(_);var O=t.log2(_),z=w[O];return z.length>0?z.pop():new n(_)}y.mallocBuffer=F,y.clearCache=function(){for(var O=0;O<32;++O)g.UINT8[O].length=0,g.UINT16[O].length=0,g.UINT32[O].length=0,g.INT8[O].length=0,g.INT16[O].length=0,g.INT32[O].length=0,g.FLOAT[O].length=0,g.DOUBLE[O].length=0,g.BIGUINT64[O].length=0,g.BIGINT64[O].length=0,g.UINT8C[O].length=0,h[O].length=0,w[O].length=0}},1755:function(c){"use strict";"use restrict";c.exports=y;function y(t){this.roots=new Array(t),this.ranks=new Array(t);for(var s=0;s<t;++s)this.roots[s]=s,this.ranks[s]=0}var r=y.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var s=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[s]!==t;){var u=n[s];n[s]=t,s=u}return t},r.link=function(t,s){var n=this.find(t),u=this.find(s);if(n!==u){var l=this.ranks,f=this.roots,g=l[n],h=l[u];g<h?f[n]=u:h<g?f[u]=n:(f[u]=n,++l[n])}}},1682:function(c){"use strict";function y(s,n){for(var u=1,l=s.length,f=s[0],g=s[0],h=1;h<l;++h)if(g=f,f=s[h],n(f,g)){if(h===u){u++;continue}s[u++]=f}return s.length=u,s}function r(s){for(var n=1,u=s.length,l=s[0],f=s[0],g=1;g<u;++g,f=l)if(f=l,l=s[g],l!==f){if(g===n){n++;continue}s[n++]=l}return s.length=n,s}function t(s,n,u){return s.length===0?s:n?(u||s.sort(n),y(s,n)):(u||s.sort(),r(s))}c.exports=t},4359:function(c,y,r){"use strict";c.exports=u;var t=r(7718),s=null,n=null;typeof document!="undefined"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,n=s.getContext("2d"));function u(l,f){return(typeof f!="object"||f===null)&&(f={}),t(l,f.canvas||s,f.context||n,f)}},7718:function(c,y,r){c.exports=R,c.exports.processPixels=k;var t=r(3711),s=r(9618),n=r(5878),u=r(332),l=r(2538),f=r(2095),g="b",h="b|",w="i",d="i|",o="sup",v="+",A="+1",b="sub",M="-",m="-1";function S(B,F,_,O){for(var z="<"+B+">",N="</"+B+">",Y=z.length,J=N.length,ae=F[0]===v||F[0]===M,se=0,ue=-J;se>-1&&(se=_.indexOf(z,se),!(se===-1||(ue=_.indexOf(N,se+Y),ue===-1)||ue<=se));){for(var K=se;K<ue+J;++K)if(K<se+Y||K>=ue)O[K]=null,_=_.substr(0,K)+" "+_.substr(K+1);else if(O[K]!==null){var j=O[K].indexOf(F[0]);j===-1?O[K]+=F:ae&&(O[K]=O[K].substr(0,j+1)+(1+parseInt(O[K][j+1]))+O[K].substr(j+2))}var ie=se+Y,W=_.substr(ie,ue-ie),Q=W.indexOf(z);Q!==-1?se=Q:se=ue+J}return O}function T(B,F,_){for(var O=F.textAlign||"start",z=F.textBaseline||"alphabetic",N=[1<<30,1<<30],Y=[0,0],J=B.length,ae=0;ae<J;++ae)for(var se=B[ae],ue=0;ue<2;++ue)N[ue]=Math.min(N[ue],se[ue])|0,Y[ue]=Math.max(Y[ue],se[ue])|0;var K=0;switch(O){case"center":K=-.5*(N[0]+Y[0]);break;case"right":case"end":K=-Y[0];break;case"left":case"start":K=-N[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+O+"'")}var j=0;switch(z){case"hanging":case"top":j=-N[1];break;case"middle":j=-.5*(N[1]+Y[1]);break;case"alphabetic":case"ideographic":j=-3*_;break;case"bottom":j=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var ie=1/_;return"lineHeight"in F?ie*=+F.lineHeight:"width"in F?ie=F.width/(Y[0]-N[0]):"height"in F&&(ie=F.height/(Y[1]-N[1])),B.map(function(W){return[ie*(W[0]+K),ie*(W[1]+j)]})}function a(B,F,_,O,z,N){_=_.replace(/\n/g,""),N.breaklines===!0?_=_.replace(/\<br\>/g,`
`):_=_.replace(/\<br\>/g," ");var Y="",J=[];for(X=0;X<_.length;++X)J[X]=Y;N.bolds===!0&&(J=S(g,h,_,J)),N.italics===!0&&(J=S(w,d,_,J)),N.superscripts===!0&&(J=S(o,A,_,J)),N.subscripts===!0&&(J=S(b,m,_,J));var ae=[],se="";for(X=0;X<_.length;++X)J[X]!==null&&(se+=_[X],ae.push(J[X]));var ue=se.split(`
`),K=ue.length,j=Math.round(z*O),ie=O,W=O*2,Q=0,ee=K*j+W;B.height<ee&&(B.height=ee),F.fillStyle="#000",F.fillRect(0,0,B.width,B.height),F.fillStyle="#fff";var $,X,oe,te,fe,pe=0,Ae="";function be(){if(Ae!==""){var Ye=F.measureText(Ae).width;F.fillText(Ae,ie+oe,W+te),oe+=Ye}}function Pe(){return""+Math.round(fe)+"px "}function me(Ye,lt){var yt=""+F.font;if(N.subscripts===!0){var He=Ye.indexOf(M),Fe=lt.indexOf(M),nt=He>-1?parseInt(Ye[1+He]):0,ot=Fe>-1?parseInt(lt[1+Fe]):0;nt!==ot&&(yt=yt.replace(Pe(),"?px "),fe*=Math.pow(.75,ot-nt),yt=yt.replace("?px ",Pe())),te+=.25*j*(ot-nt)}if(N.superscripts===!0){var ct=Ye.indexOf(v),ht=lt.indexOf(v),mt=ct>-1?parseInt(Ye[1+ct]):0,tt=ht>-1?parseInt(lt[1+ht]):0;mt!==tt&&(yt=yt.replace(Pe(),"?px "),fe*=Math.pow(.75,tt-mt),yt=yt.replace("?px ",Pe())),te-=.25*j*(tt-mt)}if(N.bolds===!0){var Re=Ye.indexOf(h)>-1,Ge=lt.indexOf(h)>-1;!Re&&Ge&&(Je?yt=yt.replace("italic ","italic bold "):yt="bold "+yt),Re&&!Ge&&(yt=yt.replace("bold ",""))}if(N.italics===!0){var Je=Ye.indexOf(d)>-1,Xe=lt.indexOf(d)>-1;!Je&&Xe&&(yt="italic "+yt),Je&&!Xe&&(yt=yt.replace("italic ",""))}F.font=yt}for($=0;$<K;++$){var Ee=ue[$]+`
`;for(oe=0,te=$*j,fe=O,Ae="",X=0;X<Ee.length;++X){var xe=X+pe<ae.length?ae[X+pe]:ae[ae.length-1];Y===xe?Ae+=Ee[X]:(be(),Ae=Ee[X],xe!==void 0&&(me(Y,xe),Y=xe))}be(),pe+=Ee.length;var De=Math.round(oe+2*ie)|0;Q<De&&(Q=De)}var Ve=Q,Ze=W+j*K,ke=s(F.getImageData(0,0,Ve,Ze).data,[Ze,Ve,4]);return ke.pick(-1,-1,0).transpose(1,0)}function E(B,F){var _=t(B,128);return F?n(_.cells,_.positions,.25):{edges:_.cells,positions:_.positions}}function p(B,F,_,O){var z=E(B,O),N=T(z.positions,F,_),Y=z.edges,J=F.orientation==="ccw";if(u(N,Y),F.polygons||F.polygon||F.polyline){for(var ae=f(Y,N),se=new Array(ae.length),ue=0;ue<ae.length;++ue){for(var K=ae[ue],j=new Array(K.length),ie=0;ie<K.length;++ie){for(var W=K[ie],Q=new Array(W.length),ee=0;ee<W.length;++ee)Q[ee]=N[W[ee]].slice();J&&Q.reverse(),j[ie]=Q}se[ue]=j}return se}else return F.triangles||F.triangulate||F.triangle?{cells:l(N,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:Y,positions:N}}function k(B,F,_){try{return p(B,F,_,!0)}catch(O){}try{return p(B,F,_,!1)}catch(O){}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function R(B,F,_,O){var z=64,N=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};O&&(O.size&&O.size>0&&(z=O.size),O.lineSpacing&&O.lineSpacing>0&&(N=O.lineSpacing),O.styletags&&O.styletags.breaklines&&(Y.breaklines=!!O.styletags.breaklines),O.styletags&&O.styletags.bolds&&(Y.bolds=!!O.styletags.bolds),O.styletags&&O.styletags.italics&&(Y.italics=!!O.styletags.italics),O.styletags&&O.styletags.subscripts&&(Y.subscripts=!!O.styletags.subscripts),O.styletags&&O.styletags.superscripts&&(Y.superscripts=!!O.styletags.superscripts)),_.font=[O.fontStyle,O.fontVariant,O.fontWeight,z+"px",O.font].filter(function(ae){return ae}).join(" "),_.textAlign="start",_.textBaseline="alphabetic",_.direction="ltr";var J=a(F,_,B,z,N,Y);return k(J,O,z)}},1538:function(c){(function(){"use strict";if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function r(p){p.permitHostObjects___&&p.permitHostObjects___(r)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var s=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var n=new s,u=Object.freeze({});if(n.set(u,1),n.get(u)!==1)t=!0;else{c.exports=WeakMap;return}}}var l=Object.prototype.hasOwnProperty,f=Object.getOwnPropertyNames,g=Object.defineProperty,h=Object.isExtensible,w="weakmap:",d=w+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var o=new ArrayBuffer(25),v=new Uint8Array(o);crypto.getRandomValues(v),d=w+"rand:"+Array.prototype.map.call(v,function(p){return(p%36).toString(36)}).join("")+"___"}function A(p){return!(p.substr(0,w.length)==w&&p.substr(p.length-3)==="___")}if(g(Object,"getOwnPropertyNames",{value:function(k){return f(k).filter(A)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;g(Object,"getPropertyNames",{value:function(k){return b(k).filter(A)}})}function M(p){if(p!==Object(p))throw new TypeError("Not an object: "+p);var k=p[d];if(k&&k.key===p)return k;if(h(p)){k={key:p};try{return g(p,d,{value:k,writable:!1,enumerable:!1,configurable:!1}),k}catch(R){return}}}(function(){var p=Object.freeze;g(Object,"freeze",{value:function(F){return M(F),p(F)}});var k=Object.seal;g(Object,"seal",{value:function(F){return M(F),k(F)}});var R=Object.preventExtensions;g(Object,"preventExtensions",{value:function(F){return M(F),R(F)}})})();function m(p){return p.prototype=null,Object.freeze(p)}var S=!1;function T(){!S&&typeof console!="undefined"&&(S=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var a=0,E=function(){this instanceof E||T();var p=[],k=[],R=a++;function B(z,N){var Y,J=M(z);return J?R in J?J[R]:N:(Y=p.indexOf(z),Y>=0?k[Y]:N)}function F(z){var N=M(z);return N?R in N:p.indexOf(z)>=0}function _(z,N){var Y,J=M(z);return J?J[R]=N:(Y=p.indexOf(z),Y>=0?k[Y]=N:(Y=p.length,k[Y]=N,p[Y]=z)),this}function O(z){var N=M(z),Y,J;return N?R in N&&delete N[R]:(Y=p.indexOf(z),Y<0?!1:(J=p.length-1,p[Y]=void 0,k[Y]=k[J],p[Y]=p[J],p.length=J,k.length=J,!0))}return Object.create(E.prototype,{get___:{value:m(B)},has___:{value:m(F)},set___:{value:m(_)},delete___:{value:m(O)}})};E.prototype=Object.create(Object.prototype,{get:{value:function(k,R){return this.get___(k,R)},writable:!0,configurable:!0},has:{value:function(k){return this.has___(k)},writable:!0,configurable:!0},set:{value:function(k,R){return this.set___(k,R)},writable:!0,configurable:!0},delete:{value:function(k){return this.delete___(k)},writable:!0,configurable:!0}}),typeof s=="function"?function(){t&&typeof Proxy!="undefined"&&(Proxy=void 0);function p(){this instanceof E||T();var k=new s,R=void 0,B=!1;function F(N,Y){return R?k.has(N)?k.get(N):R.get___(N,Y):k.get(N,Y)}function _(N){return k.has(N)||(R?R.has___(N):!1)}var O;t?O=function(N,Y){return k.set(N,Y),k.has(N)||(R||(R=new E),R.set(N,Y)),this}:O=function(N,Y){if(B)try{k.set(N,Y)}catch(J){R||(R=new E),R.set___(N,Y)}else k.set(N,Y);return this};function z(N){var Y=!!k.delete(N);return R&&R.delete___(N)||Y}return Object.create(E.prototype,{get___:{value:m(F)},has___:{value:m(_)},set___:{value:m(O)},delete___:{value:m(z)},permitHostObjects___:{value:m(function(N){if(N===r)B=!0;else throw new Error("bogus call to permitHostObjects___")})}})}p.prototype=E.prototype,c.exports=p,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),c.exports=E)})()},236:function(c,y,r){var t=r(8284);c.exports=s;function s(){var n={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var l=u.valueOf(n);return l&&l.identity===n?l:t(u,n)}}},8284:function(c){c.exports=y;function y(r,t){var s={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(u){return u!==t?n.apply(this,arguments):s},writable:!0}),s}},606:function(c,y,r){var t=r(236);c.exports=s;function s(){var n=t();return{get:function(u,l){var f=n(u);return f.hasOwnProperty("value")?f.value:l},set:function(u,l){return n(u).value=l,this},has:function(u){return"value"in n(u)},delete:function(u){return delete n(u).value}}}},3349:function(c){"use strict";function y(){return function(l,f,g,h,w,d){var o=l[0],v=g[0],A=[0],b=v;h|=0;var M=0,m=v;for(M=0;M<o;++M){{var S=f[h]-d,T=f[h+b]-d;S>=0!=T>=0&&w.push(A[0]+.5+.5*(S+T)/(S-T))}h+=m,++A[0]}}}function r(){return y()}var t=r;function s(l){var f={};return function(h,w,d){var o=h.dtype,v=h.order,A=[o,v.join()].join(),b=f[A];return b||(f[A]=b=l([o,v])),b(h.shape.slice(0),h.data,h.stride,h.offset|0,w,d)}}function n(l){return s(t.bind(void 0,l))}function u(l){return n({funcName:l.funcName})}c.exports=u({funcName:"zeroCrossings"})},781:function(c,y,r){"use strict";c.exports=s;var t=r(3349);function s(n,u){var l=[];return u=+u||0,t(n.hi(n.shape[0]-1),l,u),l}},7790:function(){}},i={};function L(c){var y=i[c];if(y!==void 0)return y.exports;var r=i[c]={id:c,loaded:!1,exports:{}};return P[c].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(c){if(typeof window=="object")return window}}()})(),function(){L.nmd=function(c){return c.paths=[],c.children||(c.children=[]),c}}();var C=L(1964);V.exports=C})()},33576:function(V,U,e){"use strict";function x(tt,Re){if(!(tt instanceof Re))throw new TypeError("Cannot call a class as a function")}function P(tt,Re){for(var Ge=0;Ge<Re.length;Ge++){var Je=Re[Ge];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(tt,L(Je.key),Je)}}function i(tt,Re,Ge){return Re&&P(tt.prototype,Re),Ge&&P(tt,Ge),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function L(tt){var Re=C(tt,"string");return u(Re)==="symbol"?Re:String(Re)}function C(tt,Re){if(u(tt)!=="object"||tt===null)return tt;var Ge=tt[Symbol.toPrimitive];if(Ge!==void 0){var Je=Ge.call(tt,Re||"default");if(u(Je)!=="object")return Je;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(tt)}function c(tt,Re,Ge){function Je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Xe){return!1}}return Re=r(Re),y(tt,Je()?Reflect.construct(Re,Ge||[],r(tt).constructor):Re.apply(tt,Ge))}function y(tt,Re){if(Re&&(u(Re)==="object"||typeof Re=="function"))return Re;if(Re!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(tt)}function r(tt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ge){return Ge.__proto__||Object.getPrototypeOf(Ge)},r(tt)}function t(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function s(tt,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(Re&&Re.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),Re&&n(tt,Re)}function n(tt,Re){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Je,Xe){return Je.__proto__=Xe,Je},n(tt,Re)}function u(tt){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},u(tt)}var l=e(59968),f=e(35984),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=o,U.SlowBuffer=k,U.INSPECT_MAX_BYTES=50;var h=2147483647;U.kMaxLength=h,o.TYPED_ARRAY_SUPPORT=w(),!o.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{var tt=new Uint8Array(1),Re={foo:function(){return 42}};return Object.setPrototypeOf(Re,Uint8Array.prototype),Object.setPrototypeOf(tt,Re),tt.foo()===42}catch(Ge){return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function d(tt){if(tt>h)throw new RangeError('The value "'+tt+'" is invalid for option "size"');var Re=new Uint8Array(tt);return Object.setPrototypeOf(Re,o.prototype),Re}function o(tt,Re,Ge){if(typeof tt=="number"){if(typeof Re=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(tt)}return v(tt,Re,Ge)}o.poolSize=8192;function v(tt,Re,Ge){if(typeof tt=="string")return m(tt,Re);if(ArrayBuffer.isView(tt))return T(tt);if(tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(tt));if(nt(tt,ArrayBuffer)||tt&&nt(tt.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(nt(tt,SharedArrayBuffer)||tt&&nt(tt.buffer,SharedArrayBuffer)))return a(tt,Re,Ge);if(typeof tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Je=tt.valueOf&&tt.valueOf();if(Je!=null&&Je!==tt)return o.from(Je,Re,Ge);var Xe=E(tt);if(Xe)return Xe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof tt[Symbol.toPrimitive]=="function")return o.from(tt[Symbol.toPrimitive]("string"),Re,Ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(tt))}o.from=function(tt,Re,Ge){return v(tt,Re,Ge)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function A(tt){if(typeof tt!="number")throw new TypeError('"size" argument must be of type number');if(tt<0)throw new RangeError('The value "'+tt+'" is invalid for option "size"')}function b(tt,Re,Ge){return A(tt),tt<=0?d(tt):Re!==void 0?typeof Ge=="string"?d(tt).fill(Re,Ge):d(tt).fill(Re):d(tt)}o.alloc=function(tt,Re,Ge){return b(tt,Re,Ge)};function M(tt){return A(tt),d(tt<0?0:p(tt)|0)}o.allocUnsafe=function(tt){return M(tt)},o.allocUnsafeSlow=function(tt){return M(tt)};function m(tt,Re){if((typeof Re!="string"||Re==="")&&(Re="utf8"),!o.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);var Ge=R(tt,Re)|0,Je=d(Ge),Xe=Je.write(tt,Re);return Xe!==Ge&&(Je=Je.slice(0,Xe)),Je}function S(tt){for(var Re=tt.length<0?0:p(tt.length)|0,Ge=d(Re),Je=0;Je<Re;Je+=1)Ge[Je]=tt[Je]&255;return Ge}function T(tt){if(nt(tt,Uint8Array)){var Re=new Uint8Array(tt);return a(Re.buffer,Re.byteOffset,Re.byteLength)}return S(tt)}function a(tt,Re,Ge){if(Re<0||tt.byteLength<Re)throw new RangeError('"offset" is outside of buffer bounds');if(tt.byteLength<Re+(Ge||0))throw new RangeError('"length" is outside of buffer bounds');var Je;return Re===void 0&&Ge===void 0?Je=new Uint8Array(tt):Ge===void 0?Je=new Uint8Array(tt,Re):Je=new Uint8Array(tt,Re,Ge),Object.setPrototypeOf(Je,o.prototype),Je}function E(tt){if(o.isBuffer(tt)){var Re=p(tt.length)|0,Ge=d(Re);return Ge.length===0||tt.copy(Ge,0,0,Re),Ge}if(tt.length!==void 0)return typeof tt.length!="number"||ot(tt.length)?d(0):S(tt);if(tt.type==="Buffer"&&Array.isArray(tt.data))return S(tt.data)}function p(tt){if(tt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return tt|0}function k(tt){return+tt!=tt&&(tt=0),o.alloc(+tt)}o.isBuffer=function(Re){return Re!=null&&Re._isBuffer===!0&&Re!==o.prototype},o.compare=function(Re,Ge){if(nt(Re,Uint8Array)&&(Re=o.from(Re,Re.offset,Re.byteLength)),nt(Ge,Uint8Array)&&(Ge=o.from(Ge,Ge.offset,Ge.byteLength)),!o.isBuffer(Re)||!o.isBuffer(Ge))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Re===Ge)return 0;for(var Je=Re.length,Xe=Ge.length,Oe=0,Ne=Math.min(Je,Xe);Oe<Ne;++Oe)if(Re[Oe]!==Ge[Oe]){Je=Re[Oe],Xe=Ge[Oe];break}return Je<Xe?-1:Xe<Je?1:0},o.isEncoding=function(Re){switch(String(Re).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(Re,Ge){if(!Array.isArray(Re))throw new TypeError('"list" argument must be an Array of Buffers');if(Re.length===0)return o.alloc(0);var Je;if(Ge===void 0)for(Ge=0,Je=0;Je<Re.length;++Je)Ge+=Re[Je].length;var Xe=o.allocUnsafe(Ge),Oe=0;for(Je=0;Je<Re.length;++Je){var Ne=Re[Je];if(nt(Ne,Uint8Array))Oe+Ne.length>Xe.length?(o.isBuffer(Ne)||(Ne=o.from(Ne)),Ne.copy(Xe,Oe)):Uint8Array.prototype.set.call(Xe,Ne,Oe);else if(o.isBuffer(Ne))Ne.copy(Xe,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=Ne.length}return Xe};function R(tt,Re){if(o.isBuffer(tt))return tt.length;if(ArrayBuffer.isView(tt)||nt(tt,ArrayBuffer))return tt.byteLength;if(typeof tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(tt));var Ge=tt.length,Je=arguments.length>2&&arguments[2]===!0;if(!Je&&Ge===0)return 0;for(var Xe=!1;;)switch(Re){case"ascii":case"latin1":case"binary":return Ge;case"utf8":case"utf-8":return Ye(tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge*2;case"hex":return Ge>>>1;case"base64":return He(tt).length;default:if(Xe)return Je?-1:Ye(tt).length;Re=(""+Re).toLowerCase(),Xe=!0}}o.byteLength=R;function B(tt,Re,Ge){var Je=!1;if((Re===void 0||Re<0)&&(Re=0),Re>this.length||((Ge===void 0||Ge>this.length)&&(Ge=this.length),Ge<=0)||(Ge>>>=0,Re>>>=0,Ge<=Re))return"";for(tt||(tt="utf8");;)switch(tt){case"hex":return Q(this,Re,Ge);case"utf8":case"utf-8":return ue(this,Re,Ge);case"ascii":return ie(this,Re,Ge);case"latin1":case"binary":return W(this,Re,Ge);case"base64":return se(this,Re,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,Re,Ge);default:if(Je)throw new TypeError("Unknown encoding: "+tt);tt=(tt+"").toLowerCase(),Je=!0}}o.prototype._isBuffer=!0;function F(tt,Re,Ge){var Je=tt[Re];tt[Re]=tt[Ge],tt[Ge]=Je}o.prototype.swap16=function(){var Re=this.length;if(Re%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ge=0;Ge<Re;Ge+=2)F(this,Ge,Ge+1);return this},o.prototype.swap32=function(){var Re=this.length;if(Re%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ge=0;Ge<Re;Ge+=4)F(this,Ge,Ge+3),F(this,Ge+1,Ge+2);return this},o.prototype.swap64=function(){var Re=this.length;if(Re%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ge=0;Ge<Re;Ge+=8)F(this,Ge,Ge+7),F(this,Ge+1,Ge+6),F(this,Ge+2,Ge+5),F(this,Ge+3,Ge+4);return this},o.prototype.toString=function(){var Re=this.length;return Re===0?"":arguments.length===0?ue(this,0,Re):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(Re){if(!o.isBuffer(Re))throw new TypeError("Argument must be a Buffer");return this===Re?!0:o.compare(this,Re)===0},o.prototype.inspect=function(){var Re="",Ge=U.INSPECT_MAX_BYTES;return Re=this.toString("hex",0,Ge).replace(/(.{2})/g,"$1 ").trim(),this.length>Ge&&(Re+=" ... "),"<Buffer "+Re+">"},g&&(o.prototype[g]=o.prototype.inspect),o.prototype.compare=function(Re,Ge,Je,Xe,Oe){if(nt(Re,Uint8Array)&&(Re=o.from(Re,Re.offset,Re.byteLength)),!o.isBuffer(Re))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(Re));if(Ge===void 0&&(Ge=0),Je===void 0&&(Je=Re?Re.length:0),Xe===void 0&&(Xe=0),Oe===void 0&&(Oe=this.length),Ge<0||Je>Re.length||Xe<0||Oe>this.length)throw new RangeError("out of range index");if(Xe>=Oe&&Ge>=Je)return 0;if(Xe>=Oe)return-1;if(Ge>=Je)return 1;if(Ge>>>=0,Je>>>=0,Xe>>>=0,Oe>>>=0,this===Re)return 0;for(var Ne=Oe-Xe,ze=Je-Ge,et=Math.min(Ne,ze),Le=this.slice(Xe,Oe),Te=Re.slice(Ge,Je),ye=0;ye<et;++ye)if(Le[ye]!==Te[ye]){Ne=Le[ye],ze=Te[ye];break}return Ne<ze?-1:ze<Ne?1:0};function _(tt,Re,Ge,Je,Xe){if(tt.length===0)return-1;if(typeof Ge=="string"?(Je=Ge,Ge=0):Ge>2147483647?Ge=2147483647:Ge<-2147483648&&(Ge=-2147483648),Ge=+Ge,ot(Ge)&&(Ge=Xe?0:tt.length-1),Ge<0&&(Ge=tt.length+Ge),Ge>=tt.length){if(Xe)return-1;Ge=tt.length-1}else if(Ge<0)if(Xe)Ge=0;else return-1;if(typeof Re=="string"&&(Re=o.from(Re,Je)),o.isBuffer(Re))return Re.length===0?-1:O(tt,Re,Ge,Je,Xe);if(typeof Re=="number")return Re=Re&255,typeof Uint8Array.prototype.indexOf=="function"?Xe?Uint8Array.prototype.indexOf.call(tt,Re,Ge):Uint8Array.prototype.lastIndexOf.call(tt,Re,Ge):O(tt,[Re],Ge,Je,Xe);throw new TypeError("val must be string, number or Buffer")}function O(tt,Re,Ge,Je,Xe){var Oe=1,Ne=tt.length,ze=Re.length;if(Je!==void 0&&(Je=String(Je).toLowerCase(),Je==="ucs2"||Je==="ucs-2"||Je==="utf16le"||Je==="utf-16le")){if(tt.length<2||Re.length<2)return-1;Oe=2,Ne/=2,ze/=2,Ge/=2}function et(Ke,rt){return Oe===1?Ke[rt]:Ke.readUInt16BE(rt*Oe)}var Le;if(Xe){var Te=-1;for(Le=Ge;Le<Ne;Le++)if(et(tt,Le)===et(Re,Te===-1?0:Le-Te)){if(Te===-1&&(Te=Le),Le-Te+1===ze)return Te*Oe}else Te!==-1&&(Le-=Le-Te),Te=-1}else for(Ge+ze>Ne&&(Ge=Ne-ze),Le=Ge;Le>=0;Le--){for(var ye=!0,Se=0;Se<ze;Se++)if(et(tt,Le+Se)!==et(Re,Se)){ye=!1;break}if(ye)return Le}return-1}o.prototype.includes=function(Re,Ge,Je){return this.indexOf(Re,Ge,Je)!==-1},o.prototype.indexOf=function(Re,Ge,Je){return _(this,Re,Ge,Je,!0)},o.prototype.lastIndexOf=function(Re,Ge,Je){return _(this,Re,Ge,Je,!1)};function z(tt,Re,Ge,Je){Ge=Number(Ge)||0;var Xe=tt.length-Ge;Je?(Je=Number(Je),Je>Xe&&(Je=Xe)):Je=Xe;var Oe=Re.length;Je>Oe/2&&(Je=Oe/2);var Ne;for(Ne=0;Ne<Je;++Ne){var ze=parseInt(Re.substr(Ne*2,2),16);if(ot(ze))return Ne;tt[Ge+Ne]=ze}return Ne}function N(tt,Re,Ge,Je){return Fe(Ye(Re,tt.length-Ge),tt,Ge,Je)}function Y(tt,Re,Ge,Je){return Fe(lt(Re),tt,Ge,Je)}function J(tt,Re,Ge,Je){return Fe(He(Re),tt,Ge,Je)}function ae(tt,Re,Ge,Je){return Fe(yt(Re,tt.length-Ge),tt,Ge,Je)}o.prototype.write=function(Re,Ge,Je,Xe){if(Ge===void 0)Xe="utf8",Je=this.length,Ge=0;else if(Je===void 0&&typeof Ge=="string")Xe=Ge,Je=this.length,Ge=0;else if(isFinite(Ge))Ge=Ge>>>0,isFinite(Je)?(Je=Je>>>0,Xe===void 0&&(Xe="utf8")):(Xe=Je,Je=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Oe=this.length-Ge;if((Je===void 0||Je>Oe)&&(Je=Oe),Re.length>0&&(Je<0||Ge<0)||Ge>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xe||(Xe="utf8");for(var Ne=!1;;)switch(Xe){case"hex":return z(this,Re,Ge,Je);case"utf8":case"utf-8":return N(this,Re,Ge,Je);case"ascii":case"latin1":case"binary":return Y(this,Re,Ge,Je);case"base64":return J(this,Re,Ge,Je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,Re,Ge,Je);default:if(Ne)throw new TypeError("Unknown encoding: "+Xe);Xe=(""+Xe).toLowerCase(),Ne=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function se(tt,Re,Ge){return Re===0&&Ge===tt.length?l.fromByteArray(tt):l.fromByteArray(tt.slice(Re,Ge))}function ue(tt,Re,Ge){Ge=Math.min(tt.length,Ge);for(var Je=[],Xe=Re;Xe<Ge;){var Oe=tt[Xe],Ne=null,ze=Oe>239?4:Oe>223?3:Oe>191?2:1;if(Xe+ze<=Ge){var et=void 0,Le=void 0,Te=void 0,ye=void 0;switch(ze){case 1:Oe<128&&(Ne=Oe);break;case 2:et=tt[Xe+1],(et&192)===128&&(ye=(Oe&31)<<6|et&63,ye>127&&(Ne=ye));break;case 3:et=tt[Xe+1],Le=tt[Xe+2],(et&192)===128&&(Le&192)===128&&(ye=(Oe&15)<<12|(et&63)<<6|Le&63,ye>2047&&(ye<55296||ye>57343)&&(Ne=ye));break;case 4:et=tt[Xe+1],Le=tt[Xe+2],Te=tt[Xe+3],(et&192)===128&&(Le&192)===128&&(Te&192)===128&&(ye=(Oe&15)<<18|(et&63)<<12|(Le&63)<<6|Te&63,ye>65535&&ye<1114112&&(Ne=ye))}}Ne===null?(Ne=65533,ze=1):Ne>65535&&(Ne-=65536,Je.push(Ne>>>10&1023|55296),Ne=56320|Ne&1023),Je.push(Ne),Xe+=ze}return j(Je)}var K=4096;function j(tt){var Re=tt.length;if(Re<=K)return String.fromCharCode.apply(String,tt);for(var Ge="",Je=0;Je<Re;)Ge+=String.fromCharCode.apply(String,tt.slice(Je,Je+=K));return Ge}function ie(tt,Re,Ge){var Je="";Ge=Math.min(tt.length,Ge);for(var Xe=Re;Xe<Ge;++Xe)Je+=String.fromCharCode(tt[Xe]&127);return Je}function W(tt,Re,Ge){var Je="";Ge=Math.min(tt.length,Ge);for(var Xe=Re;Xe<Ge;++Xe)Je+=String.fromCharCode(tt[Xe]);return Je}function Q(tt,Re,Ge){var Je=tt.length;(!Re||Re<0)&&(Re=0),(!Ge||Ge<0||Ge>Je)&&(Ge=Je);for(var Xe="",Oe=Re;Oe<Ge;++Oe)Xe+=ct[tt[Oe]];return Xe}function ee(tt,Re,Ge){for(var Je=tt.slice(Re,Ge),Xe="",Oe=0;Oe<Je.length-1;Oe+=2)Xe+=String.fromCharCode(Je[Oe]+Je[Oe+1]*256);return Xe}o.prototype.slice=function(Re,Ge){var Je=this.length;Re=~~Re,Ge=Ge===void 0?Je:~~Ge,Re<0?(Re+=Je,Re<0&&(Re=0)):Re>Je&&(Re=Je),Ge<0?(Ge+=Je,Ge<0&&(Ge=0)):Ge>Je&&(Ge=Je),Ge<Re&&(Ge=Re);var Xe=this.subarray(Re,Ge);return Object.setPrototypeOf(Xe,o.prototype),Xe};function $(tt,Re,Ge){if(tt%1!==0||tt<0)throw new RangeError("offset is not uint");if(tt+Re>Ge)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(Re,Ge,Je){Re=Re>>>0,Ge=Ge>>>0,Je||$(Re,Ge,this.length);for(var Xe=this[Re],Oe=1,Ne=0;++Ne<Ge&&(Oe*=256);)Xe+=this[Re+Ne]*Oe;return Xe},o.prototype.readUintBE=o.prototype.readUIntBE=function(Re,Ge,Je){Re=Re>>>0,Ge=Ge>>>0,Je||$(Re,Ge,this.length);for(var Xe=this[Re+--Ge],Oe=1;Ge>0&&(Oe*=256);)Xe+=this[Re+--Ge]*Oe;return Xe},o.prototype.readUint8=o.prototype.readUInt8=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,1,this.length),this[Re]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,2,this.length),this[Re]|this[Re+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,2,this.length),this[Re]<<8|this[Re+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,4,this.length),(this[Re]|this[Re+1]<<8|this[Re+2]<<16)+this[Re+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,4,this.length),this[Re]*16777216+(this[Re+1]<<16|this[Re+2]<<8|this[Re+3])},o.prototype.readBigUInt64LE=ht(function(Re){Re=Re>>>0,De(Re,"offset");var Ge=this[Re],Je=this[Re+7];(Ge===void 0||Je===void 0)&&Ve(Re,this.length-8);var Xe=Ge+this[++Re]*Math.pow(2,8)+this[++Re]*Math.pow(2,16)+this[++Re]*Math.pow(2,24),Oe=this[++Re]+this[++Re]*Math.pow(2,8)+this[++Re]*Math.pow(2,16)+Je*Math.pow(2,24);return BigInt(Xe)+(BigInt(Oe)<<BigInt(32))}),o.prototype.readBigUInt64BE=ht(function(Re){Re=Re>>>0,De(Re,"offset");var Ge=this[Re],Je=this[Re+7];(Ge===void 0||Je===void 0)&&Ve(Re,this.length-8);var Xe=Ge*Math.pow(2,24)+this[++Re]*Math.pow(2,16)+this[++Re]*Math.pow(2,8)+this[++Re],Oe=this[++Re]*Math.pow(2,24)+this[++Re]*Math.pow(2,16)+this[++Re]*Math.pow(2,8)+Je;return(BigInt(Xe)<<BigInt(32))+BigInt(Oe)}),o.prototype.readIntLE=function(Re,Ge,Je){Re=Re>>>0,Ge=Ge>>>0,Je||$(Re,Ge,this.length);for(var Xe=this[Re],Oe=1,Ne=0;++Ne<Ge&&(Oe*=256);)Xe+=this[Re+Ne]*Oe;return Oe*=128,Xe>=Oe&&(Xe-=Math.pow(2,8*Ge)),Xe},o.prototype.readIntBE=function(Re,Ge,Je){Re=Re>>>0,Ge=Ge>>>0,Je||$(Re,Ge,this.length);for(var Xe=Ge,Oe=1,Ne=this[Re+--Xe];Xe>0&&(Oe*=256);)Ne+=this[Re+--Xe]*Oe;return Oe*=128,Ne>=Oe&&(Ne-=Math.pow(2,8*Ge)),Ne},o.prototype.readInt8=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,1,this.length),this[Re]&128?(255-this[Re]+1)*-1:this[Re]},o.prototype.readInt16LE=function(Re,Ge){Re=Re>>>0,Ge||$(Re,2,this.length);var Je=this[Re]|this[Re+1]<<8;return Je&32768?Je|4294901760:Je},o.prototype.readInt16BE=function(Re,Ge){Re=Re>>>0,Ge||$(Re,2,this.length);var Je=this[Re+1]|this[Re]<<8;return Je&32768?Je|4294901760:Je},o.prototype.readInt32LE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,4,this.length),this[Re]|this[Re+1]<<8|this[Re+2]<<16|this[Re+3]<<24},o.prototype.readInt32BE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,4,this.length),this[Re]<<24|this[Re+1]<<16|this[Re+2]<<8|this[Re+3]},o.prototype.readBigInt64LE=ht(function(Re){Re=Re>>>0,De(Re,"offset");var Ge=this[Re],Je=this[Re+7];(Ge===void 0||Je===void 0)&&Ve(Re,this.length-8);var Xe=this[Re+4]+this[Re+5]*Math.pow(2,8)+this[Re+6]*Math.pow(2,16)+(Je<<24);return(BigInt(Xe)<<BigInt(32))+BigInt(Ge+this[++Re]*Math.pow(2,8)+this[++Re]*Math.pow(2,16)+this[++Re]*Math.pow(2,24))}),o.prototype.readBigInt64BE=ht(function(Re){Re=Re>>>0,De(Re,"offset");var Ge=this[Re],Je=this[Re+7];(Ge===void 0||Je===void 0)&&Ve(Re,this.length-8);var Xe=(Ge<<24)+this[++Re]*Math.pow(2,16)+this[++Re]*Math.pow(2,8)+this[++Re];return(BigInt(Xe)<<BigInt(32))+BigInt(this[++Re]*Math.pow(2,24)+this[++Re]*Math.pow(2,16)+this[++Re]*Math.pow(2,8)+Je)}),o.prototype.readFloatLE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,4,this.length),f.read(this,Re,!0,23,4)},o.prototype.readFloatBE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,4,this.length),f.read(this,Re,!1,23,4)},o.prototype.readDoubleLE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,8,this.length),f.read(this,Re,!0,52,8)},o.prototype.readDoubleBE=function(Re,Ge){return Re=Re>>>0,Ge||$(Re,8,this.length),f.read(this,Re,!1,52,8)};function X(tt,Re,Ge,Je,Xe,Oe){if(!o.isBuffer(tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Re>Xe||Re<Oe)throw new RangeError('"value" argument is out of bounds');if(Ge+Je>tt.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(Re,Ge,Je,Xe){if(Re=+Re,Ge=Ge>>>0,Je=Je>>>0,!Xe){var Oe=Math.pow(2,8*Je)-1;X(this,Re,Ge,Je,Oe,0)}var Ne=1,ze=0;for(this[Ge]=Re&255;++ze<Je&&(Ne*=256);)this[Ge+ze]=Re/Ne&255;return Ge+Je},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(Re,Ge,Je,Xe){if(Re=+Re,Ge=Ge>>>0,Je=Je>>>0,!Xe){var Oe=Math.pow(2,8*Je)-1;X(this,Re,Ge,Je,Oe,0)}var Ne=Je-1,ze=1;for(this[Ge+Ne]=Re&255;--Ne>=0&&(ze*=256);)this[Ge+Ne]=Re/ze&255;return Ge+Je},o.prototype.writeUint8=o.prototype.writeUInt8=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,1,255,0),this[Ge]=Re&255,Ge+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,2,65535,0),this[Ge]=Re&255,this[Ge+1]=Re>>>8,Ge+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,2,65535,0),this[Ge]=Re>>>8,this[Ge+1]=Re&255,Ge+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,4,4294967295,0),this[Ge+3]=Re>>>24,this[Ge+2]=Re>>>16,this[Ge+1]=Re>>>8,this[Ge]=Re&255,Ge+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,4,4294967295,0),this[Ge]=Re>>>24,this[Ge+1]=Re>>>16,this[Ge+2]=Re>>>8,this[Ge+3]=Re&255,Ge+4};function oe(tt,Re,Ge,Je,Xe){xe(Re,Je,Xe,tt,Ge,7);var Oe=Number(Re&BigInt(4294967295));tt[Ge++]=Oe,Oe=Oe>>8,tt[Ge++]=Oe,Oe=Oe>>8,tt[Ge++]=Oe,Oe=Oe>>8,tt[Ge++]=Oe;var Ne=Number(Re>>BigInt(32)&BigInt(4294967295));return tt[Ge++]=Ne,Ne=Ne>>8,tt[Ge++]=Ne,Ne=Ne>>8,tt[Ge++]=Ne,Ne=Ne>>8,tt[Ge++]=Ne,Ge}function te(tt,Re,Ge,Je,Xe){xe(Re,Je,Xe,tt,Ge,7);var Oe=Number(Re&BigInt(4294967295));tt[Ge+7]=Oe,Oe=Oe>>8,tt[Ge+6]=Oe,Oe=Oe>>8,tt[Ge+5]=Oe,Oe=Oe>>8,tt[Ge+4]=Oe;var Ne=Number(Re>>BigInt(32)&BigInt(4294967295));return tt[Ge+3]=Ne,Ne=Ne>>8,tt[Ge+2]=Ne,Ne=Ne>>8,tt[Ge+1]=Ne,Ne=Ne>>8,tt[Ge]=Ne,Ge+8}o.prototype.writeBigUInt64LE=ht(function(Re){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,Re,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ht(function(Re){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,Re,Ge,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(Re,Ge,Je,Xe){if(Re=+Re,Ge=Ge>>>0,!Xe){var Oe=Math.pow(2,8*Je-1);X(this,Re,Ge,Je,Oe-1,-Oe)}var Ne=0,ze=1,et=0;for(this[Ge]=Re&255;++Ne<Je&&(ze*=256);)Re<0&&et===0&&this[Ge+Ne-1]!==0&&(et=1),this[Ge+Ne]=(Re/ze>>0)-et&255;return Ge+Je},o.prototype.writeIntBE=function(Re,Ge,Je,Xe){if(Re=+Re,Ge=Ge>>>0,!Xe){var Oe=Math.pow(2,8*Je-1);X(this,Re,Ge,Je,Oe-1,-Oe)}var Ne=Je-1,ze=1,et=0;for(this[Ge+Ne]=Re&255;--Ne>=0&&(ze*=256);)Re<0&&et===0&&this[Ge+Ne+1]!==0&&(et=1),this[Ge+Ne]=(Re/ze>>0)-et&255;return Ge+Je},o.prototype.writeInt8=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,1,127,-128),Re<0&&(Re=255+Re+1),this[Ge]=Re&255,Ge+1},o.prototype.writeInt16LE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,2,32767,-32768),this[Ge]=Re&255,this[Ge+1]=Re>>>8,Ge+2},o.prototype.writeInt16BE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,2,32767,-32768),this[Ge]=Re>>>8,this[Ge+1]=Re&255,Ge+2},o.prototype.writeInt32LE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,4,2147483647,-2147483648),this[Ge]=Re&255,this[Ge+1]=Re>>>8,this[Ge+2]=Re>>>16,this[Ge+3]=Re>>>24,Ge+4},o.prototype.writeInt32BE=function(Re,Ge,Je){return Re=+Re,Ge=Ge>>>0,Je||X(this,Re,Ge,4,2147483647,-2147483648),Re<0&&(Re=4294967295+Re+1),this[Ge]=Re>>>24,this[Ge+1]=Re>>>16,this[Ge+2]=Re>>>8,this[Ge+3]=Re&255,Ge+4},o.prototype.writeBigInt64LE=ht(function(Re){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,Re,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ht(function(Re){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,Re,Ge,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(tt,Re,Ge,Je,Xe,Oe){if(Ge+Je>tt.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("Index out of range")}function pe(tt,Re,Ge,Je,Xe){return Re=+Re,Ge=Ge>>>0,Xe||fe(tt,Re,Ge,4,34028234663852886e22,-34028234663852886e22),f.write(tt,Re,Ge,Je,23,4),Ge+4}o.prototype.writeFloatLE=function(Re,Ge,Je){return pe(this,Re,Ge,!0,Je)},o.prototype.writeFloatBE=function(Re,Ge,Je){return pe(this,Re,Ge,!1,Je)};function Ae(tt,Re,Ge,Je,Xe){return Re=+Re,Ge=Ge>>>0,Xe||fe(tt,Re,Ge,8,17976931348623157e292,-17976931348623157e292),f.write(tt,Re,Ge,Je,52,8),Ge+8}o.prototype.writeDoubleLE=function(Re,Ge,Je){return Ae(this,Re,Ge,!0,Je)},o.prototype.writeDoubleBE=function(Re,Ge,Je){return Ae(this,Re,Ge,!1,Je)},o.prototype.copy=function(Re,Ge,Je,Xe){if(!o.isBuffer(Re))throw new TypeError("argument should be a Buffer");if(Je||(Je=0),!Xe&&Xe!==0&&(Xe=this.length),Ge>=Re.length&&(Ge=Re.length),Ge||(Ge=0),Xe>0&&Xe<Je&&(Xe=Je),Xe===Je||Re.length===0||this.length===0)return 0;if(Ge<0)throw new RangeError("targetStart out of bounds");if(Je<0||Je>=this.length)throw new RangeError("Index out of range");if(Xe<0)throw new RangeError("sourceEnd out of bounds");Xe>this.length&&(Xe=this.length),Re.length-Ge<Xe-Je&&(Xe=Re.length-Ge+Je);var Oe=Xe-Je;return this===Re&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ge,Je,Xe):Uint8Array.prototype.set.call(Re,this.subarray(Je,Xe),Ge),Oe},o.prototype.fill=function(Re,Ge,Je,Xe){if(typeof Re=="string"){if(typeof Ge=="string"?(Xe=Ge,Ge=0,Je=this.length):typeof Je=="string"&&(Xe=Je,Je=this.length),Xe!==void 0&&typeof Xe!="string")throw new TypeError("encoding must be a string");if(typeof Xe=="string"&&!o.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe);if(Re.length===1){var Oe=Re.charCodeAt(0);(Xe==="utf8"&&Oe<128||Xe==="latin1")&&(Re=Oe)}}else typeof Re=="number"?Re=Re&255:typeof Re=="boolean"&&(Re=Number(Re));if(Ge<0||this.length<Ge||this.length<Je)throw new RangeError("Out of range index");if(Je<=Ge)return this;Ge=Ge>>>0,Je=Je===void 0?this.length:Je>>>0,Re||(Re=0);var Ne;if(typeof Re=="number")for(Ne=Ge;Ne<Je;++Ne)this[Ne]=Re;else{var ze=o.isBuffer(Re)?Re:o.from(Re,Xe),et=ze.length;if(et===0)throw new TypeError('The value "'+Re+'" is invalid for argument "value"');for(Ne=0;Ne<Je-Ge;++Ne)this[Ne+Ge]=ze[Ne%et]}return this};var be={};function Pe(tt,Re,Ge){be[tt]=function(Je){s(Xe,Je);function Xe(){var Oe;return x(this,Xe),Oe=c(this,Xe),Object.defineProperty(t(Oe),"message",{value:Re.apply(t(Oe),arguments),writable:!0,configurable:!0}),Oe.name="".concat(Oe.name," [").concat(tt,"]"),Oe.stack,delete Oe.name,Oe}return i(Xe,[{key:"code",get:function(){return tt},set:function(Ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ne,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(tt,"]: ").concat(this.message)}}]),Xe}(Ge)}Pe("ERR_BUFFER_OUT_OF_BOUNDS",function(tt){return tt?"".concat(tt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Pe("ERR_INVALID_ARG_TYPE",function(tt,Re){return'The "'.concat(tt,'" argument must be of type number. Received type ').concat(u(Re))},TypeError),Pe("ERR_OUT_OF_RANGE",function(tt,Re,Ge){var Je='The value of "'.concat(tt,'" is out of range.'),Xe=Ge;return Number.isInteger(Ge)&&Math.abs(Ge)>Math.pow(2,32)?Xe=me(String(Ge)):typeof Ge=="bigint"&&(Xe=String(Ge),(Ge>Math.pow(BigInt(2),BigInt(32))||Ge<-Math.pow(BigInt(2),BigInt(32)))&&(Xe=me(Xe)),Xe+="n"),Je+=" It must be ".concat(Re,". Received ").concat(Xe),Je},RangeError);function me(tt){for(var Re="",Ge=tt.length,Je=tt[0]==="-"?1:0;Ge>=Je+4;Ge-=3)Re="_".concat(tt.slice(Ge-3,Ge)).concat(Re);return"".concat(tt.slice(0,Ge)).concat(Re)}function Ee(tt,Re,Ge){De(Re,"offset"),(tt[Re]===void 0||tt[Re+Ge]===void 0)&&Ve(Re,tt.length-(Ge+1))}function xe(tt,Re,Ge,Je,Xe,Oe){if(tt>Ge||tt<Re){var Ne=typeof Re=="bigint"?"n":"",ze;throw Oe>3?Re===0||Re===BigInt(0)?ze=">= 0".concat(Ne," and < 2").concat(Ne," ** ").concat((Oe+1)*8).concat(Ne):ze=">= -(2".concat(Ne," ** ").concat((Oe+1)*8-1).concat(Ne,") and < 2 ** ")+"".concat((Oe+1)*8-1).concat(Ne):ze=">= ".concat(Re).concat(Ne," and <= ").concat(Ge).concat(Ne),new be.ERR_OUT_OF_RANGE("value",ze,tt)}Ee(Je,Xe,Oe)}function De(tt,Re){if(typeof tt!="number")throw new be.ERR_INVALID_ARG_TYPE(Re,"number",tt)}function Ve(tt,Re,Ge){throw Math.floor(tt)!==tt?(De(tt,Ge),new be.ERR_OUT_OF_RANGE(Ge||"offset","an integer",tt)):Re<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(Ge||"offset",">= ".concat(Ge?1:0," and <= ").concat(Re),tt)}var Ze=/[^+/0-9A-Za-z-_]/g;function ke(tt){if(tt=tt.split("=")[0],tt=tt.trim().replace(Ze,""),tt.length<2)return"";for(;tt.length%4!==0;)tt=tt+"=";return tt}function Ye(tt,Re){Re=Re||1/0;for(var Ge,Je=tt.length,Xe=null,Oe=[],Ne=0;Ne<Je;++Ne){if(Ge=tt.charCodeAt(Ne),Ge>55295&&Ge<57344){if(!Xe){if(Ge>56319){(Re-=3)>-1&&Oe.push(239,191,189);continue}else if(Ne+1===Je){(Re-=3)>-1&&Oe.push(239,191,189);continue}Xe=Ge;continue}if(Ge<56320){(Re-=3)>-1&&Oe.push(239,191,189),Xe=Ge;continue}Ge=(Xe-55296<<10|Ge-56320)+65536}else Xe&&(Re-=3)>-1&&Oe.push(239,191,189);if(Xe=null,Ge<128){if((Re-=1)<0)break;Oe.push(Ge)}else if(Ge<2048){if((Re-=2)<0)break;Oe.push(Ge>>6|192,Ge&63|128)}else if(Ge<65536){if((Re-=3)<0)break;Oe.push(Ge>>12|224,Ge>>6&63|128,Ge&63|128)}else if(Ge<1114112){if((Re-=4)<0)break;Oe.push(Ge>>18|240,Ge>>12&63|128,Ge>>6&63|128,Ge&63|128)}else throw new Error("Invalid code point")}return Oe}function lt(tt){for(var Re=[],Ge=0;Ge<tt.length;++Ge)Re.push(tt.charCodeAt(Ge)&255);return Re}function yt(tt,Re){for(var Ge,Je,Xe,Oe=[],Ne=0;Ne<tt.length&&!((Re-=2)<0);++Ne)Ge=tt.charCodeAt(Ne),Je=Ge>>8,Xe=Ge%256,Oe.push(Xe),Oe.push(Je);return Oe}function He(tt){return l.toByteArray(ke(tt))}function Fe(tt,Re,Ge,Je){var Xe;for(Xe=0;Xe<Je&&!(Xe+Ge>=Re.length||Xe>=tt.length);++Xe)Re[Xe+Ge]=tt[Xe];return Xe}function nt(tt,Re){return tt instanceof Re||tt!=null&&tt.constructor!=null&&tt.constructor.name!=null&&tt.constructor.name===Re.name}function ot(tt){return tt!==tt}var ct=function(){for(var tt="0123456789abcdef",Re=new Array(256),Ge=0;Ge<16;++Ge)for(var Je=Ge*16,Xe=0;Xe<16;++Xe)Re[Je+Xe]=tt[Ge]+tt[Xe];return Re}();function ht(tt){return typeof BigInt=="undefined"?mt:tt}function mt(){throw new Error("BigInt not supported")}},25928:function(V){"use strict";V.exports=P,V.exports.isMobile=P,V.exports.default=P;var U=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,x=/android|ipad|playbook|silk/i;function P(i){i||(i={});var L=i.ua;if(!L&&typeof navigator!="undefined"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var C=U.test(L)&&!e.test(L)||!!i.tablet&&x.test(L);return!C&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(C=!0),C}},48932:function(V,U,e){"use strict";e.r(U),e.d(U,{sankeyCenter:function(){return s},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return y},sankeyRight:function(){return r}});var x=e(84706),P=e(34712),i=e(10132),L=e(6688),C=e.n(L);function c(be){return be.target.depth}function y(be){return be.depth}function r(be,Pe){return Pe-1-be.height}function t(be,Pe){return be.sourceLinks.length?be.depth:Pe-1}function s(be){return be.targetLinks.length?be.depth:be.sourceLinks.length?(0,x.SY)(be.sourceLinks,c)-1:0}function n(be){return function(){return be}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function l(be,Pe){return g(be.source,Pe.source)||be.index-Pe.index}function f(be,Pe){return g(be.target,Pe.target)||be.index-Pe.index}function g(be,Pe){return be.partOfCycle===Pe.partOfCycle?be.y0-Pe.y0:be.circularLinkType==="top"||Pe.circularLinkType==="bottom"?-1:1}function h(be){return be.value}function w(be){return(be.y0+be.y1)/2}function d(be){return w(be.source)}function o(be){return w(be.target)}function v(be){return be.index}function A(be){return be.nodes}function b(be){return be.links}function M(be,Pe){var me=be.get(Pe);if(!me)throw new Error("missing: "+Pe);return me}function m(be,Pe){return Pe(be)}var S=25,T=10,a=.3;function E(){var be=0,Pe=0,me=1,Ee=1,xe=24,De,Ve=v,Ze=t,ke=A,Ye=b,lt=32,yt=2,He,Fe=null;function nt(){var Je={nodes:ke.apply(null,arguments),links:Ye.apply(null,arguments)};ot(Je),p(Je,Ve,Fe),ct(Je),tt(Je),k(Je,Ve),Re(Je,lt,Ve),Ge(Je);for(var Xe=4,Oe=0;Oe<Xe;Oe++)X(Je,Ee,Ve),oe(Je,Ee,Ve),Q(Je,Pe,Ee,Ve),X(Je,Ee,Ve),oe(Je,Ee,Ve);return Ae(Je,Pe,Ee),z(Je,yt,Ee,Ve),Je}nt.nodeId=function(Je){return arguments.length?(Ve=typeof Je=="function"?Je:n(Je),nt):Ve},nt.nodeAlign=function(Je){return arguments.length?(Ze=typeof Je=="function"?Je:n(Je),nt):Ze},nt.nodeWidth=function(Je){return arguments.length?(xe=+Je,nt):xe},nt.nodePadding=function(Je){return arguments.length?(De=+Je,nt):De},nt.nodes=function(Je){return arguments.length?(ke=typeof Je=="function"?Je:n(Je),nt):ke},nt.links=function(Je){return arguments.length?(Ye=typeof Je=="function"?Je:n(Je),nt):Ye},nt.size=function(Je){return arguments.length?(be=Pe=0,me=+Je[0],Ee=+Je[1],nt):[me-be,Ee-Pe]},nt.extent=function(Je){return arguments.length?(be=+Je[0][0],me=+Je[1][0],Pe=+Je[0][1],Ee=+Je[1][1],nt):[[be,Pe],[me,Ee]]},nt.iterations=function(Je){return arguments.length?(lt=+Je,nt):lt},nt.circularLinkGap=function(Je){return arguments.length?(yt=+Je,nt):yt},nt.nodePaddingRatio=function(Je){return arguments.length?(He=+Je,nt):He},nt.sortNodes=function(Je){return arguments.length?(Fe=Je,nt):Fe},nt.update=function(Je){return k(Je,Ve),Ge(Je),Je.links.forEach(function(Xe){Xe.circular&&(Xe.circularLinkType=Xe.y0+Xe.y1<Ee?"top":"bottom",Xe.source.circularLinkType=Xe.circularLinkType,Xe.target.circularLinkType=Xe.circularLinkType)}),X(Je,Ee,Ve,!1),oe(Je,Ee,Ve),z(Je,yt,Ee,Ve),Je};function ot(Je){Je.nodes.forEach(function(Oe,Ne){Oe.index=Ne,Oe.sourceLinks=[],Oe.targetLinks=[]});var Xe=(0,P.kH)(Je.nodes,Ve);return Je.links.forEach(function(Oe,Ne){Oe.index=Ne;var ze=Oe.source,et=Oe.target;(typeof ze=="undefined"?"undefined":u(ze))!=="object"&&(ze=Oe.source=M(Xe,ze)),(typeof et=="undefined"?"undefined":u(et))!=="object"&&(et=Oe.target=M(Xe,et)),ze.sourceLinks.push(Oe),et.targetLinks.push(Oe)}),Je}function ct(Je){Je.nodes.forEach(function(Xe){Xe.partOfCycle=!1,Xe.value=Math.max((0,x.oh)(Xe.sourceLinks,h),(0,x.oh)(Xe.targetLinks,h)),Xe.sourceLinks.forEach(function(Oe){Oe.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Oe.circularLinkType)}),Xe.targetLinks.forEach(function(Oe){Oe.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Oe.circularLinkType)})})}function ht(Je){var Xe=0,Oe=0,Ne=0,ze=0,et=(0,x.kv)(Je.nodes,function(Le){return Le.column});return Je.links.forEach(function(Le){Le.circular&&(Le.circularLinkType=="top"?Xe=Xe+Le.width:Oe=Oe+Le.width,Le.target.column==0&&(ze=ze+Le.width),Le.source.column==et&&(Ne=Ne+Le.width))}),Xe=Xe>0?Xe+S+T:Xe,Oe=Oe>0?Oe+S+T:Oe,Ne=Ne>0?Ne+S+T:Ne,ze=ze>0?ze+S+T:ze,{top:Xe,bottom:Oe,left:ze,right:Ne}}function mt(Je,Xe){var Oe=(0,x.kv)(Je.nodes,function(Se){return Se.column}),Ne=me-be,ze=Ee-Pe,et=Ne+Xe.right+Xe.left,Le=ze+Xe.top+Xe.bottom,Te=Ne/et,ye=ze/Le;return be=be*Te+Xe.left,me=Xe.right==0?me:me*Te,Pe=Pe*ye+Xe.top,Ee=Ee*ye,Je.nodes.forEach(function(Se){Se.x0=be+Se.column*((me-be-xe)/Oe),Se.x1=Se.x0+xe}),ye}function tt(Je){var Xe,Oe,Ne;for(Xe=Je.nodes,Oe=[],Ne=0;Xe.length;++Ne,Xe=Oe,Oe=[])Xe.forEach(function(ze){ze.depth=Ne,ze.sourceLinks.forEach(function(et){Oe.indexOf(et.target)<0&&!et.circular&&Oe.push(et.target)})});for(Xe=Je.nodes,Oe=[],Ne=0;Xe.length;++Ne,Xe=Oe,Oe=[])Xe.forEach(function(ze){ze.height=Ne,ze.targetLinks.forEach(function(et){Oe.indexOf(et.source)<0&&!et.circular&&Oe.push(et.source)})});Je.nodes.forEach(function(ze){ze.column=Math.floor(Ze.call(null,ze,Ne))})}function Re(Je,Xe,Oe){var Ne=(0,P.UJ)().key(function(Se){return Se.column}).sortKeys(x.XE).entries(Je.nodes).map(function(Se){return Se.values});Le(Oe),ye();for(var ze=1,et=Xe;et>0;--et)Te(ze*=.99,Oe),ye();function Le(Se){if(He){var Ke=1/0;Ne.forEach(function(wt){var Et=Ee*He/(wt.length+1);Ke=Et<Ke?Et:Ke}),De=Ke}var rt=(0,x.SY)(Ne,function(wt){return(Ee-Pe-(wt.length-1)*De)/(0,x.oh)(wt,h)});rt=rt*a,Je.links.forEach(function(wt){wt.width=wt.value*rt});var Lt=ht(Je),It=mt(Je,Lt);rt=rt*It,Je.links.forEach(function(wt){wt.width=wt.value*rt}),Ne.forEach(function(wt){var Et=wt.length;wt.forEach(function(Wt,vr){Wt.depth==Ne.length-1&&Et==1||Wt.depth==0&&Et==1?(Wt.y0=Ee/2-Wt.value*rt,Wt.y1=Wt.y0+Wt.value*rt):Wt.partOfCycle?F(Wt,Se)==0?(Wt.y0=Ee/2+vr,Wt.y1=Wt.y0+Wt.value*rt):Wt.circularLinkType=="top"?(Wt.y0=Pe+vr,Wt.y1=Wt.y0+Wt.value*rt):(Wt.y0=Ee-Wt.value*rt-vr,Wt.y1=Wt.y0+Wt.value*rt):Lt.top==0||Lt.bottom==0?(Wt.y0=(Ee-Pe)/Et*vr,Wt.y1=Wt.y0+Wt.value*rt):(Wt.y0=(Ee-Pe)/2-Et/2+vr,Wt.y1=Wt.y0+Wt.value*rt)})})}function Te(Se,Ke){var rt=Ne.length;Ne.forEach(function(Lt){var It=Lt.length,wt=Lt[0].depth;Lt.forEach(function(Et){var Wt;if((Et.sourceLinks.length||Et.targetLinks.length)&&!(Et.partOfCycle&&F(Et,Ke)>0))if(wt==0&&It==1)Wt=Et.y1-Et.y0,Et.y0=Ee/2-Wt/2,Et.y1=Ee/2+Wt/2;else if(wt==rt-1&&It==1)Wt=Et.y1-Et.y0,Et.y0=Ee/2-Wt/2,Et.y1=Ee/2+Wt/2;else{var vr=0,dt=(0,x.mo)(Et.sourceLinks,o),Yt=(0,x.mo)(Et.targetLinks,d);dt&&Yt?vr=(dt+Yt)/2:vr=dt||Yt;var jt=(vr-w(Et))*Se;Et.y0+=jt,Et.y1+=jt}})})}function ye(){Ne.forEach(function(Se){var Ke,rt,Lt=Pe,It=Se.length,wt;for(Se.sort(g),wt=0;wt<It;++wt)Ke=Se[wt],rt=Lt-Ke.y0,rt>0&&(Ke.y0+=rt,Ke.y1+=rt),Lt=Ke.y1+De;if(rt=Lt-De-Ee,rt>0)for(Lt=Ke.y0-=rt,Ke.y1-=rt,wt=It-2;wt>=0;--wt)Ke=Se[wt],rt=Ke.y1+De-Lt,rt>0&&(Ke.y0-=rt,Ke.y1-=rt),Lt=Ke.y0})}}function Ge(Je){Je.nodes.forEach(function(Xe){Xe.sourceLinks.sort(f),Xe.targetLinks.sort(l)}),Je.nodes.forEach(function(Xe){var Oe=Xe.y0,Ne=Oe,ze=Xe.y1,et=ze;Xe.sourceLinks.forEach(function(Le){Le.circular?(Le.y0=ze-Le.width/2,ze=ze-Le.width):(Le.y0=Oe+Le.width/2,Oe+=Le.width)}),Xe.targetLinks.forEach(function(Le){Le.circular?(Le.y1=et-Le.width/2,et=et-Le.width):(Le.y1=Ne+Le.width/2,Ne+=Le.width)})})}return nt}function p(be,Pe,me){var Ee=0;if(me===null){for(var xe=[],De=0;De<be.links.length;De++){var Ve=be.links[De],Ze=Ve.source.index,ke=Ve.target.index;xe[Ze]||(xe[Ze]=[]),xe[ke]||(xe[ke]=[]),xe[Ze].indexOf(ke)===-1&&xe[Ze].push(ke)}var Ye=C()(xe);Ye.sort(function(Fe,nt){return Fe.length-nt.length});var lt={};for(De=0;De<Ye.length;De++){var yt=Ye[De],He=yt.slice(-2);lt[He[0]]||(lt[He[0]]={}),lt[He[0]][He[1]]=!0}be.links.forEach(function(Fe){var nt=Fe.target.index,ot=Fe.source.index;nt===ot||lt[ot]&&lt[ot][nt]?(Fe.circular=!0,Fe.circularLinkID=Ee,Ee=Ee+1):Fe.circular=!1})}else be.links.forEach(function(Fe){Fe.source[me]<Fe.target[me]?Fe.circular=!1:(Fe.circular=!0,Fe.circularLinkID=Ee,Ee=Ee+1)})}function k(be,Pe){var me=0,Ee=0;be.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType||xe.target.circularLinkType?xe.circularLinkType=xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:xe.circularLinkType=me<Ee?"top":"bottom",xe.circularLinkType=="top"?me=me+1:Ee=Ee+1,be.nodes.forEach(function(De){(m(De,Pe)==m(xe.source,Pe)||m(De,Pe)==m(xe.target,Pe))&&(De.circularLinkType=xe.circularLinkType)}))}),be.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),pe(xe,Pe)&&(xe.circularLinkType=xe.source.circularLinkType))})}function R(be){var Pe=Math.abs(be.y1-be.y0),me=Math.abs(be.target.x0-be.source.x1);return Math.atan(me/Pe)}function B(be,Pe){return be.source.column<Pe.target.column?!1:!(be.target.column>Pe.source.column)}function F(be,Pe){var me=0;be.sourceLinks.forEach(function(xe){me=xe.circular&&!pe(xe,Pe)?me+1:me});var Ee=0;return be.targetLinks.forEach(function(xe){Ee=xe.circular&&!pe(xe,Pe)?Ee+1:Ee}),me+Ee}function _(be){var Pe=be.source.sourceLinks,me=0;Pe.forEach(function(De){me=De.circular?me+1:me});var Ee=be.target.targetLinks,xe=0;return Ee.forEach(function(De){xe=De.circular?xe+1:xe}),!(me>1||xe>1)}function O(be,Pe,me){return be.sort(Y),be.forEach(function(Ee,xe){var De=0;if(pe(Ee,me)&&_(Ee))Ee.circularPathData.verticalBuffer=De+Ee.width/2;else{var Ve=0;for(Ve;Ve<xe;Ve++)if(B(be[xe],be[Ve])){var Ze=be[Ve].circularPathData.verticalBuffer+be[Ve].width/2+Pe;De=Ze>De?Ze:De}Ee.circularPathData.verticalBuffer=De+Ee.width/2}}),be}function z(be,Pe,me,Ee){var xe=5,De=(0,x.SY)(be.links,function(ke){return ke.source.y0});be.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})});var Ve=be.links.filter(function(ke){return ke.circularLinkType=="top"});O(Ve,Pe,Ee);var Ze=be.links.filter(function(ke){return ke.circularLinkType=="bottom"});O(Ze,Pe,Ee),be.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+T,ke.circularPathData.leftNodeBuffer=xe,ke.circularPathData.rightNodeBuffer=xe,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,pe(ke,Ee)&&_(ke))ke.circularPathData.leftSmallArcRadius=T+ke.width/2,ke.circularPathData.leftLargeArcRadius=T+ke.width/2,ke.circularPathData.rightSmallArcRadius=T+ke.width/2,ke.circularPathData.rightLargeArcRadius=T+ke.width/2,ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=ke.source.y1+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var Ye=ke.source.column,lt=ke.circularLinkType,yt=be.links.filter(function(nt){return nt.source.column==Ye&&nt.circularLinkType==lt});ke.circularLinkType=="bottom"?yt.sort(ae):yt.sort(J);var He=0;yt.forEach(function(nt,ot){nt.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=T+ke.width/2+He,ke.circularPathData.leftLargeArcRadius=T+ke.width/2+ot*Pe+He),He=He+nt.width}),Ye=ke.target.column,yt=be.links.filter(function(nt){return nt.target.column==Ye&&nt.circularLinkType==lt}),ke.circularLinkType=="bottom"?yt.sort(ue):yt.sort(se),He=0,yt.forEach(function(nt,ot){nt.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=T+ke.width/2+He,ke.circularPathData.rightLargeArcRadius=T+ke.width/2+ot*Pe+He),He=He+nt.width}),ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=Math.max(me,ke.source.y1,ke.target.y1)+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=De-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path=N(ke);else{var Fe=(0,i.ak)().source(function(nt){var ot=nt.source.x0+(nt.source.x1-nt.source.x0),ct=nt.y0;return[ot,ct]}).target(function(nt){var ot=nt.target.x0,ct=nt.y1;return[ot,ct]});ke.path=Fe(ke)}})}function N(be){var Pe="";return be.circularLinkType=="top"?Pe="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 0 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY-be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 0 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 0 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY-be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 0 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY:Pe="M"+be.circularPathData.sourceX+" "+be.circularPathData.sourceY+" L"+be.circularPathData.leftInnerExtent+" "+be.circularPathData.sourceY+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftSmallArcRadius+" 0 0 1 "+be.circularPathData.leftFullExtent+" "+(be.circularPathData.sourceY+be.circularPathData.leftSmallArcRadius)+" L"+be.circularPathData.leftFullExtent+" "+be.circularPathData.verticalLeftInnerExtent+" A"+be.circularPathData.leftLargeArcRadius+" "+be.circularPathData.leftLargeArcRadius+" 0 0 1 "+be.circularPathData.leftInnerExtent+" "+be.circularPathData.verticalFullExtent+" L"+be.circularPathData.rightInnerExtent+" "+be.circularPathData.verticalFullExtent+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightLargeArcRadius+" 0 0 1 "+be.circularPathData.rightFullExtent+" "+be.circularPathData.verticalRightInnerExtent+" L"+be.circularPathData.rightFullExtent+" "+(be.circularPathData.targetY+be.circularPathData.rightSmallArcRadius)+" A"+be.circularPathData.rightLargeArcRadius+" "+be.circularPathData.rightSmallArcRadius+" 0 0 1 "+be.circularPathData.rightInnerExtent+" "+be.circularPathData.targetY+" L"+be.circularPathData.targetX+" "+be.circularPathData.targetY,Pe}function Y(be,Pe){return K(be)==K(Pe)?be.circularLinkType=="bottom"?ae(be,Pe):J(be,Pe):K(Pe)-K(be)}function J(be,Pe){return be.y0-Pe.y0}function ae(be,Pe){return Pe.y0-be.y0}function se(be,Pe){return be.y1-Pe.y1}function ue(be,Pe){return Pe.y1-be.y1}function K(be){return be.target.column-be.source.column}function j(be){return be.target.x0-be.source.x1}function ie(be,Pe){var me=R(be),Ee=j(Pe)/Math.tan(me),xe=fe(be)=="up"?be.y1+Ee:be.y1-Ee;return xe}function W(be,Pe){var me=R(be),Ee=j(Pe)/Math.tan(me),xe=fe(be)=="up"?be.y1-Ee:be.y1+Ee;return xe}function Q(be,Pe,me,Ee){be.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var De=xe.source.column+1,Ve=xe.target.column-1,Ze=1,ke=Ve-De+1;for(Ze=1;De<=Ve;De++,Ze++)be.nodes.forEach(function(Ye){if(Ye.column==De){var lt=Ze/(ke+1),yt=Math.pow(1-lt,3),He=3*lt*Math.pow(1-lt,2),Fe=3*Math.pow(lt,2)*(1-lt),nt=Math.pow(lt,3),ot=yt*xe.y0+He*xe.y0+Fe*xe.y1+nt*xe.y1,ct=ot-xe.width/2,ht=ot+xe.width/2,mt;ct>Ye.y0&&ct<Ye.y1?(mt=Ye.y1-ct+10,mt=Ye.circularLinkType=="bottom"?mt:-mt,Ye=$(Ye,mt,Pe,me),be.nodes.forEach(function(tt){m(tt,Ee)==m(Ye,Ee)||tt.column!=Ye.column||ee(Ye,tt)&&$(tt,mt,Pe,me)})):ht>Ye.y0&&ht<Ye.y1?(mt=ht-Ye.y0+10,Ye=$(Ye,mt,Pe,me),be.nodes.forEach(function(tt){m(tt,Ee)==m(Ye,Ee)||tt.column!=Ye.column||tt.y0<Ye.y1&&tt.y1>Ye.y1&&$(tt,mt,Pe,me)})):ct<Ye.y0&&ht>Ye.y1&&(mt=ht-Ye.y0+10,Ye=$(Ye,mt,Pe,me),be.nodes.forEach(function(tt){m(tt,Ee)==m(Ye,Ee)||tt.column!=Ye.column||tt.y0<Ye.y1&&tt.y1>Ye.y1&&$(tt,mt,Pe,me)}))}})}})}function ee(be,Pe){return be.y0>Pe.y0&&be.y0<Pe.y1||be.y1>Pe.y0&&be.y1<Pe.y1?!0:be.y0<Pe.y0&&be.y1>Pe.y1}function $(be,Pe,me,Ee){return be.y0+Pe>=me&&be.y1+Pe<=Ee&&(be.y0=be.y0+Pe,be.y1=be.y1+Pe,be.targetLinks.forEach(function(xe){xe.y1=xe.y1+Pe}),be.sourceLinks.forEach(function(xe){xe.y0=xe.y0+Pe})),be}function X(be,Pe,me,Ee){be.nodes.forEach(function(xe){Ee&&xe.y+(xe.y1-xe.y0)>Pe&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-Pe));var De=be.links.filter(function(ke){return m(ke.source,me)==m(xe,me)}),Ve=De.length;Ve>1&&De.sort(function(ke,Ye){if(!ke.circular&&!Ye.circular){if(ke.target.column==Ye.target.column)return ke.y1-Ye.y1;if(te(ke,Ye)){if(ke.target.column>Ye.target.column){var lt=W(Ye,ke);return ke.y1-lt}if(Ye.target.column>ke.target.column){var yt=W(ke,Ye);return yt-Ye.y1}}else return ke.y1-Ye.y1}if(ke.circular&&!Ye.circular)return ke.circularLinkType=="top"?-1:1;if(Ye.circular&&!ke.circular)return Ye.circularLinkType=="top"?1:-1;if(ke.circular&&Ye.circular)return ke.circularLinkType===Ye.circularLinkType&&ke.circularLinkType=="top"?ke.target.column===Ye.target.column?ke.target.y1-Ye.target.y1:Ye.target.column-ke.target.column:ke.circularLinkType===Ye.circularLinkType&&ke.circularLinkType=="bottom"?ke.target.column===Ye.target.column?Ye.target.y1-ke.target.y1:ke.target.column-Ye.target.column:ke.circularLinkType=="top"?-1:1});var Ze=xe.y0;De.forEach(function(ke){ke.y0=Ze+ke.width/2,Ze=Ze+ke.width}),De.forEach(function(ke,Ye){if(ke.circularLinkType=="bottom"){var lt=Ye+1,yt=0;for(lt;lt<Ve;lt++)yt=yt+De[lt].width;ke.y0=xe.y1-yt-ke.width/2}})})}function oe(be,Pe,me){be.nodes.forEach(function(Ee){var xe=be.links.filter(function(Ze){return m(Ze.target,me)==m(Ee,me)}),De=xe.length;De>1&&xe.sort(function(Ze,ke){if(!Ze.circular&&!ke.circular){if(Ze.source.column==ke.source.column)return Ze.y0-ke.y0;if(te(Ze,ke)){if(ke.source.column<Ze.source.column){var Ye=ie(ke,Ze);return Ze.y0-Ye}if(Ze.source.column<ke.source.column){var lt=ie(Ze,ke);return lt-ke.y0}}else return Ze.y0-ke.y0}if(Ze.circular&&!ke.circular)return Ze.circularLinkType=="top"?-1:1;if(ke.circular&&!Ze.circular)return ke.circularLinkType=="top"?1:-1;if(Ze.circular&&ke.circular)return Ze.circularLinkType===ke.circularLinkType&&Ze.circularLinkType=="top"?Ze.source.column===ke.source.column?Ze.source.y1-ke.source.y1:Ze.source.column-ke.source.column:Ze.circularLinkType===ke.circularLinkType&&Ze.circularLinkType=="bottom"?Ze.source.column===ke.source.column?Ze.source.y1-ke.source.y1:ke.source.column-Ze.source.column:Ze.circularLinkType=="top"?-1:1});var Ve=Ee.y0;xe.forEach(function(Ze){Ze.y1=Ve+Ze.width/2,Ve=Ve+Ze.width}),xe.forEach(function(Ze,ke){if(Ze.circularLinkType=="bottom"){var Ye=ke+1,lt=0;for(Ye;Ye<De;Ye++)lt=lt+xe[Ye].width;Ze.y1=Ee.y1-lt-Ze.width/2}})})}function te(be,Pe){return fe(be)==fe(Pe)}function fe(be){return be.y0-be.y1>0?"up":"down"}function pe(be,Pe){return m(be.source,Pe)==m(be.target,Pe)}function Ae(be,Pe,me){var Ee=be.nodes,xe=be.links,De=!1,Ve=!1;if(xe.forEach(function(He){He.circularLinkType=="top"?De=!0:He.circularLinkType=="bottom"&&(Ve=!0)}),De==!1||Ve==!1){var Ze=(0,x.SY)(Ee,function(He){return He.y0}),ke=(0,x.kv)(Ee,function(He){return He.y1}),Ye=ke-Ze,lt=me-Pe,yt=lt/Ye;Ee.forEach(function(He){var Fe=(He.y1-He.y0)*yt;He.y0=(He.y0-Ze)*yt,He.y1=He.y0+Fe}),xe.forEach(function(He){He.y0=(He.y0-Ze)*yt,He.y1=(He.y1-Ze)*yt,He.width=He.width*yt})}}},26800:function(V,U,e){"use strict";e.r(U),e.d(U,{sankey:function(){return v},sankeyCenter:function(){return y},sankeyJustify:function(){return c},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return C}});var x=e(84706),P=e(34712);function i(S){return S.target.depth}function L(S){return S.depth}function C(S,T){return T-1-S.height}function c(S,T){return S.sourceLinks.length?S.depth:T-1}function y(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,x.SY)(S.sourceLinks,i)-1:0}function r(S){return function(){return S}}function t(S,T){return n(S.source,T.source)||S.index-T.index}function s(S,T){return n(S.target,T.target)||S.index-T.index}function n(S,T){return S.y0-T.y0}function u(S){return S.value}function l(S){return(S.y0+S.y1)/2}function f(S){return l(S.source)*S.value}function g(S){return l(S.target)*S.value}function h(S){return S.index}function w(S){return S.nodes}function d(S){return S.links}function o(S,T){var a=S.get(T);if(!a)throw new Error("missing: "+T);return a}function v(){var S=0,T=0,a=1,E=1,p=24,k=8,R=h,B=c,F=w,_=d,O=32,z=2/3;function N(){var K={nodes:F.apply(null,arguments),links:_.apply(null,arguments)};return Y(K),J(K),ae(K),se(K,O),ue(K),K}N.update=function(K){return ue(K),K},N.nodeId=function(K){return arguments.length?(R=typeof K=="function"?K:r(K),N):R},N.nodeAlign=function(K){return arguments.length?(B=typeof K=="function"?K:r(K),N):B},N.nodeWidth=function(K){return arguments.length?(p=+K,N):p},N.nodePadding=function(K){return arguments.length?(k=+K,N):k},N.nodes=function(K){return arguments.length?(F=typeof K=="function"?K:r(K),N):F},N.links=function(K){return arguments.length?(_=typeof K=="function"?K:r(K),N):_},N.size=function(K){return arguments.length?(S=T=0,a=+K[0],E=+K[1],N):[a-S,E-T]},N.extent=function(K){return arguments.length?(S=+K[0][0],a=+K[1][0],T=+K[0][1],E=+K[1][1],N):[[S,T],[a,E]]},N.iterations=function(K){return arguments.length?(O=+K,N):O};function Y(K){K.nodes.forEach(function(ie,W){ie.index=W,ie.sourceLinks=[],ie.targetLinks=[]});var j=(0,P.kH)(K.nodes,R);K.links.forEach(function(ie,W){ie.index=W;var Q=ie.source,ee=ie.target;typeof Q!="object"&&(Q=ie.source=o(j,Q)),typeof ee!="object"&&(ee=ie.target=o(j,ee)),Q.sourceLinks.push(ie),ee.targetLinks.push(ie)})}function J(K){K.nodes.forEach(function(j){j.value=Math.max((0,x.oh)(j.sourceLinks,u),(0,x.oh)(j.targetLinks,u))})}function ae(K){var j,ie,W;for(j=K.nodes,ie=[],W=0;j.length;++W,j=ie,ie=[])j.forEach(function(ee){ee.depth=W,ee.sourceLinks.forEach(function($){ie.indexOf($.target)<0&&ie.push($.target)})});for(j=K.nodes,ie=[],W=0;j.length;++W,j=ie,ie=[])j.forEach(function(ee){ee.height=W,ee.targetLinks.forEach(function($){ie.indexOf($.source)<0&&ie.push($.source)})});var Q=(a-S-p)/(W-1);K.nodes.forEach(function(ee){ee.x1=(ee.x0=S+Math.max(0,Math.min(W-1,Math.floor(B.call(null,ee,W))))*Q)+p})}function se(K){var j=(0,P.UJ)().key(function(oe){return oe.x0}).sortKeys(x.XE).entries(K.nodes).map(function(oe){return oe.values});Q(),X();for(var ie=1,W=O;W>0;--W)$(ie*=.99),X(),ee(ie),X();function Q(){var oe=(0,x.kv)(j,function(pe){return pe.length}),te=z*(E-T)/(oe-1);k>te&&(k=te);var fe=(0,x.SY)(j,function(pe){return(E-T-(pe.length-1)*k)/(0,x.oh)(pe,u)});j.forEach(function(pe){pe.forEach(function(Ae,be){Ae.y1=(Ae.y0=be)+Ae.value*fe})}),K.links.forEach(function(pe){pe.width=pe.value*fe})}function ee(oe){j.forEach(function(te){te.forEach(function(fe){if(fe.targetLinks.length){var pe=((0,x.oh)(fe.targetLinks,f)/(0,x.oh)(fe.targetLinks,u)-l(fe))*oe;fe.y0+=pe,fe.y1+=pe}})})}function $(oe){j.slice().reverse().forEach(function(te){te.forEach(function(fe){if(fe.sourceLinks.length){var pe=((0,x.oh)(fe.sourceLinks,g)/(0,x.oh)(fe.sourceLinks,u)-l(fe))*oe;fe.y0+=pe,fe.y1+=pe}})})}function X(){j.forEach(function(oe){var te,fe,pe=T,Ae=oe.length,be;for(oe.sort(n),be=0;be<Ae;++be)te=oe[be],fe=pe-te.y0,fe>0&&(te.y0+=fe,te.y1+=fe),pe=te.y1+k;if(fe=pe-k-E,fe>0)for(pe=te.y0-=fe,te.y1-=fe,be=Ae-2;be>=0;--be)te=oe[be],fe=te.y1+k-pe,fe>0&&(te.y0-=fe,te.y1-=fe),pe=te.y0})}}function ue(K){K.nodes.forEach(function(j){j.sourceLinks.sort(s),j.targetLinks.sort(t)}),K.nodes.forEach(function(j){var ie=j.y0,W=ie;j.sourceLinks.forEach(function(Q){Q.y0=ie+Q.width/2,ie+=Q.width}),j.targetLinks.forEach(function(Q){Q.y1=W+Q.width/2,W+=Q.width})})}return N}var A=e(10132);function b(S){return[S.source.x1,S.y0]}function M(S){return[S.target.x0,S.y1]}function m(){return(0,A.ak)().source(b).target(M)}},33428:function(V,U,e){var x,P;(function(){var i={version:"3.8.0"},L=[].slice,C=function(le){return L.call(le)},c=self.document;function y(le){return le&&(le.ownerDocument||le.document||le).documentElement}function r(le){return le&&(le.ownerDocument&&le.ownerDocument.defaultView||le.document&&le||le.defaultView)}if(c)try{C(c.documentElement.childNodes)[0].nodeType}catch(le){C=function(Me){for(var _e=Me.length,je=new Array(_e);_e--;)je[_e]=Me[_e];return je}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement("DIV").style.setProperty("opacity",0,"")}catch(le){var t=this.Element.prototype,s=t.setAttribute,n=t.setAttributeNS,u=this.CSSStyleDeclaration.prototype,l=u.setProperty;t.setAttribute=function(Me,_e){s.call(this,Me,_e+"")},t.setAttributeNS=function(Me,_e,je){n.call(this,Me,_e,je+"")},u.setProperty=function(Me,_e,je){l.call(this,Me,_e+"",je)}}i.ascending=f;function f(le,Me){return le<Me?-1:le>Me?1:le>=Me?0:NaN}i.descending=function(le,Me){return Me<le?-1:Me>le?1:Me>=le?0:NaN},i.min=function(le,Me){var _e=-1,je=le.length,at,ft;if(arguments.length===1){for(;++_e<je;)if((ft=le[_e])!=null&&ft>=ft){at=ft;break}for(;++_e<je;)(ft=le[_e])!=null&&at>ft&&(at=ft)}else{for(;++_e<je;)if((ft=Me.call(le,le[_e],_e))!=null&&ft>=ft){at=ft;break}for(;++_e<je;)(ft=Me.call(le,le[_e],_e))!=null&&at>ft&&(at=ft)}return at},i.max=function(le,Me){var _e=-1,je=le.length,at,ft;if(arguments.length===1){for(;++_e<je;)if((ft=le[_e])!=null&&ft>=ft){at=ft;break}for(;++_e<je;)(ft=le[_e])!=null&&ft>at&&(at=ft)}else{for(;++_e<je;)if((ft=Me.call(le,le[_e],_e))!=null&&ft>=ft){at=ft;break}for(;++_e<je;)(ft=Me.call(le,le[_e],_e))!=null&&ft>at&&(at=ft)}return at},i.extent=function(le,Me){var _e=-1,je=le.length,at,ft,_t;if(arguments.length===1){for(;++_e<je;)if((ft=le[_e])!=null&&ft>=ft){at=_t=ft;break}for(;++_e<je;)(ft=le[_e])!=null&&(at>ft&&(at=ft),_t<ft&&(_t=ft))}else{for(;++_e<je;)if((ft=Me.call(le,le[_e],_e))!=null&&ft>=ft){at=_t=ft;break}for(;++_e<je;)(ft=Me.call(le,le[_e],_e))!=null&&(at>ft&&(at=ft),_t<ft&&(_t=ft))}return[at,_t]};function g(le){return le===null?NaN:+le}function h(le){return!isNaN(le)}i.sum=function(le,Me){var _e=0,je=le.length,at,ft=-1;if(arguments.length===1)for(;++ft<je;)h(at=+le[ft])&&(_e+=at);else for(;++ft<je;)h(at=+Me.call(le,le[ft],ft))&&(_e+=at);return _e},i.mean=function(le,Me){var _e=0,je=le.length,at,ft=-1,_t=je;if(arguments.length===1)for(;++ft<je;)h(at=g(le[ft]))?_e+=at:--_t;else for(;++ft<je;)h(at=g(Me.call(le,le[ft],ft)))?_e+=at:--_t;if(_t)return _e/_t},i.quantile=function(le,Me){var _e=(le.length-1)*Me+1,je=Math.floor(_e),at=+le[je-1],ft=_e-je;return ft?at+ft*(le[je]-at):at},i.median=function(le,Me){var _e=[],je=le.length,at,ft=-1;if(arguments.length===1)for(;++ft<je;)h(at=g(le[ft]))&&_e.push(at);else for(;++ft<je;)h(at=g(Me.call(le,le[ft],ft)))&&_e.push(at);if(_e.length)return i.quantile(_e.sort(f),.5)},i.variance=function(le,Me){var _e=le.length,je=0,at,ft,_t=0,At=-1,Ht=0;if(arguments.length===1)for(;++At<_e;)h(at=g(le[At]))&&(ft=at-je,je+=ft/++Ht,_t+=ft*(at-je));else for(;++At<_e;)h(at=g(Me.call(le,le[At],At)))&&(ft=at-je,je+=ft/++Ht,_t+=ft*(at-je));if(Ht>1)return _t/(Ht-1)},i.deviation=function(){var le=i.variance.apply(this,arguments);return le&&Math.sqrt(le)};function w(le){return{left:function(Me,_e,je,at){for(arguments.length<3&&(je=0),arguments.length<4&&(at=Me.length);je<at;){var ft=je+at>>>1;le(Me[ft],_e)<0?je=ft+1:at=ft}return je},right:function(Me,_e,je,at){for(arguments.length<3&&(je=0),arguments.length<4&&(at=Me.length);je<at;){var ft=je+at>>>1;le(Me[ft],_e)>0?at=ft:je=ft+1}return je}}}var d=w(f);i.bisectLeft=d.left,i.bisect=i.bisectRight=d.right,i.bisector=function(le){return w(le.length===1?function(Me,_e){return f(le(Me),_e)}:le)},i.shuffle=function(le,Me,_e){(je=arguments.length)<3&&(_e=le.length,je<2&&(Me=0));for(var je=_e-Me,at,ft;je;)ft=Math.random()*je--|0,at=le[je+Me],le[je+Me]=le[ft+Me],le[ft+Me]=at;return le},i.permute=function(le,Me){for(var _e=Me.length,je=new Array(_e);_e--;)je[_e]=le[Me[_e]];return je},i.pairs=function(le){for(var Me=0,_e=le.length-1,je,at=le[0],ft=new Array(_e<0?0:_e);Me<_e;)ft[Me]=[je=at,at=le[++Me]];return ft},i.transpose=function(le){if(!(ft=le.length))return[];for(var Me=-1,_e=i.min(le,o),je=new Array(_e);++Me<_e;)for(var at=-1,ft,_t=je[Me]=new Array(ft);++at<ft;)_t[at]=le[at][Me];return je};function o(le){return le.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(le){var Me=[];for(var _e in le)Me.push(_e);return Me},i.values=function(le){var Me=[];for(var _e in le)Me.push(le[_e]);return Me},i.entries=function(le){var Me=[];for(var _e in le)Me.push({key:_e,value:le[_e]});return Me},i.merge=function(le){for(var Me=le.length,_e,je=-1,at=0,ft,_t;++je<Me;)at+=le[je].length;for(ft=new Array(at);--Me>=0;)for(_t=le[Me],_e=_t.length;--_e>=0;)ft[--at]=_t[_e];return ft};var v=Math.abs;i.range=function(le,Me,_e){if(arguments.length<3&&(_e=1,arguments.length<2&&(Me=le,le=0)),(Me-le)/_e===1/0)throw new Error("infinite range");var je=[],at=A(v(_e)),ft=-1,_t;if(le*=at,Me*=at,_e*=at,_e<0)for(;(_t=le+_e*++ft)>Me;)je.push(_t/at);else for(;(_t=le+_e*++ft)<Me;)je.push(_t/at);return je};function A(le){for(var Me=1;le*Me%1;)Me*=10;return Me}function b(le,Me){for(var _e in Me)Object.defineProperty(le.prototype,_e,{value:Me[_e],enumerable:!1})}i.map=function(le,Me){var _e=new M;if(le instanceof M)le.forEach(function(At,Ht){_e.set(At,Ht)});else if(Array.isArray(le)){var je=-1,at=le.length,ft;if(arguments.length===1)for(;++je<at;)_e.set(je,le[je]);else for(;++je<at;)_e.set(Me.call(le,ft=le[je],je),ft)}else for(var _t in le)_e.set(_t,le[_t]);return _e};function M(){this._=Object.create(null)}var m="__proto__",S="\0";b(M,{has:E,get:function(le){return this._[T(le)]},set:function(le,Me){return this._[T(le)]=Me},remove:p,keys:k,values:function(){var le=[];for(var Me in this._)le.push(this._[Me]);return le},entries:function(){var le=[];for(var Me in this._)le.push({key:a(Me),value:this._[Me]});return le},size:R,empty:B,forEach:function(le){for(var Me in this._)le.call(this,a(Me),this._[Me])}});function T(le){return(le+="")===m||le[0]===S?S+le:le}function a(le){return(le+="")[0]===S?le.slice(1):le}function E(le){return T(le)in this._}function p(le){return(le=T(le))in this._&&delete this._[le]}function k(){var le=[];for(var Me in this._)le.push(a(Me));return le}function R(){var le=0;for(var Me in this._)++le;return le}function B(){for(var le in this._)return!1;return!0}i.nest=function(){var le={},Me=[],_e=[],je,at;function ft(At,Ht,Qt){if(Qt>=Me.length)return at?at.call(le,Ht):je?Ht.sort(je):Ht;for(var $t=-1,Sr=Ht.length,Er=Me[Qt++],qr,fn,Pr,zr=new M,Kr;++$t<Sr;)(Kr=zr.get(qr=Er(fn=Ht[$t])))?Kr.push(fn):zr.set(qr,[fn]);return At?(fn=At(),Pr=function(an,nn){fn.set(an,ft(At,nn,Qt))}):(fn={},Pr=function(an,nn){fn[an]=ft(At,nn,Qt)}),zr.forEach(Pr),fn}function _t(At,Ht){if(Ht>=Me.length)return At;var Qt=[],$t=_e[Ht++];return At.forEach(function(Sr,Er){Qt.push({key:Sr,values:_t(Er,Ht)})}),$t?Qt.sort(function(Sr,Er){return $t(Sr.key,Er.key)}):Qt}return le.map=function(At,Ht){return ft(Ht,At,0)},le.entries=function(At){return _t(ft(i.map,At,0),0)},le.key=function(At){return Me.push(At),le},le.sortKeys=function(At){return _e[Me.length-1]=At,le},le.sortValues=function(At){return je=At,le},le.rollup=function(At){return at=At,le},le},i.set=function(le){var Me=new F;if(le)for(var _e=0,je=le.length;_e<je;++_e)Me.add(le[_e]);return Me};function F(){this._=Object.create(null)}b(F,{has:E,add:function(le){return this._[T(le+="")]=!0,le},remove:p,values:k,size:R,empty:B,forEach:function(le){for(var Me in this._)le.call(this,a(Me))}}),i.behavior={};function _(le){return le}i.rebind=function(le,Me){for(var _e=1,je=arguments.length,at;++_e<je;)le[at=arguments[_e]]=O(le,Me,Me[at]);return le};function O(le,Me,_e){return function(){var je=_e.apply(Me,arguments);return je===Me?le:je}}function z(le,Me){if(Me in le)return Me;Me=Me.charAt(0).toUpperCase()+Me.slice(1);for(var _e=0,je=N.length;_e<je;++_e){var at=N[_e]+Me;if(at in le)return at}}var N=["webkit","ms","moz","Moz","o","O"];function Y(){}i.dispatch=function(){for(var le=new J,Me=-1,_e=arguments.length;++Me<_e;)le[arguments[Me]]=ae(le);return le};function J(){}J.prototype.on=function(le,Me){var _e=le.indexOf("."),je="";if(_e>=0&&(je=le.slice(_e+1),le=le.slice(0,_e)),le)return arguments.length<2?this[le].on(je):this[le].on(je,Me);if(arguments.length===2){if(Me==null)for(le in this)this.hasOwnProperty(le)&&this[le].on(je,null);return this}};function ae(le){var Me=[],_e=new M;function je(){for(var at=Me,ft=-1,_t=at.length,At;++ft<_t;)(At=at[ft].on)&&At.apply(this,arguments);return le}return je.on=function(at,ft){var _t=_e.get(at),At;return arguments.length<2?_t&&_t.on:(_t&&(_t.on=null,Me=Me.slice(0,At=Me.indexOf(_t)).concat(Me.slice(At+1)),_e.remove(at)),ft&&Me.push(_e.set(at,{on:ft})),le)},je}i.event=null;function se(){i.event.preventDefault()}function ue(){for(var le=i.event,Me;Me=le.sourceEvent;)le=Me;return le}function K(le){for(var Me=new J,_e=0,je=arguments.length;++_e<je;)Me[arguments[_e]]=ae(Me);return Me.of=function(at,ft){return function(_t){try{var At=_t.sourceEvent=i.event;_t.target=le,i.event=_t,Me[_t.type].apply(at,ft)}finally{i.event=At}}},Me}i.requote=function(le){return le.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ie={}.__proto__?function(le,Me){le.__proto__=Me}:function(le,Me){for(var _e in Me)le[_e]=Me[_e]};function W(le){return ie(le,X),le}var Q=function(le,Me){return Me.querySelector(le)},ee=function(le,Me){return Me.querySelectorAll(le)},$=function(le,Me){var _e=le.matches||le[z(le,"matchesSelector")];return $=function(je,at){return _e.call(je,at)},$(le,Me)};typeof Sizzle=="function"&&(Q=function(le,Me){return Sizzle(le,Me)[0]||null},ee=Sizzle,$=Sizzle.matchesSelector),i.selection=function(){return i.select(c.documentElement)};var X=i.selection.prototype=[];X.select=function(le){var Me=[],_e,je,at,ft;le=oe(le);for(var _t=-1,At=this.length;++_t<At;){Me.push(_e=[]),_e.parentNode=(at=this[_t]).parentNode;for(var Ht=-1,Qt=at.length;++Ht<Qt;)(ft=at[Ht])?(_e.push(je=le.call(ft,ft.__data__,Ht,_t)),je&&"__data__"in ft&&(je.__data__=ft.__data__)):_e.push(null)}return W(Me)};function oe(le){return typeof le=="function"?le:function(){return Q(le,this)}}X.selectAll=function(le){var Me=[],_e,je;le=te(le);for(var at=-1,ft=this.length;++at<ft;)for(var _t=this[at],At=-1,Ht=_t.length;++At<Ht;)(je=_t[At])&&(Me.push(_e=C(le.call(je,je.__data__,At,at))),_e.parentNode=je);return W(Me)};function te(le){return typeof le=="function"?le:function(){return ee(le,this)}}var fe="http://www.w3.org/1999/xhtml",pe={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:pe,qualify:function(le){var Me=le.indexOf(":"),_e=le;return Me>=0&&(_e=le.slice(0,Me))!=="xmlns"&&(le=le.slice(Me+1)),pe.hasOwnProperty(_e)?{space:pe[_e],local:le}:le}},X.attr=function(le,Me){if(arguments.length<2){if(typeof le=="string"){var _e=this.node();return le=i.ns.qualify(le),le.local?_e.getAttributeNS(le.space,le.local):_e.getAttribute(le)}for(Me in le)this.each(Ae(Me,le[Me]));return this}return this.each(Ae(le,Me))};function Ae(le,Me){le=i.ns.qualify(le);function _e(){this.removeAttribute(le)}function je(){this.removeAttributeNS(le.space,le.local)}function at(){this.setAttribute(le,Me)}function ft(){this.setAttributeNS(le.space,le.local,Me)}function _t(){var Ht=Me.apply(this,arguments);Ht==null?this.removeAttribute(le):this.setAttribute(le,Ht)}function At(){var Ht=Me.apply(this,arguments);Ht==null?this.removeAttributeNS(le.space,le.local):this.setAttributeNS(le.space,le.local,Ht)}return Me==null?le.local?je:_e:typeof Me=="function"?le.local?At:_t:le.local?ft:at}function be(le){return le.trim().replace(/\s+/g," ")}X.classed=function(le,Me){if(arguments.length<2){if(typeof le=="string"){var _e=this.node(),je=(le=me(le)).length,at=-1;if(Me=_e.classList){for(;++at<je;)if(!Me.contains(le[at]))return!1}else for(Me=_e.getAttribute("class");++at<je;)if(!Pe(le[at]).test(Me))return!1;return!0}for(Me in le)this.each(Ee(Me,le[Me]));return this}return this.each(Ee(le,Me))};function Pe(le){return new RegExp("(?:^|\\s+)"+i.requote(le)+"(?:\\s+|$)","g")}function me(le){return(le+"").trim().split(/^|\s+/)}function Ee(le,Me){le=me(le).map(xe);var _e=le.length;function je(){for(var ft=-1;++ft<_e;)le[ft](this,Me)}function at(){for(var ft=-1,_t=Me.apply(this,arguments);++ft<_e;)le[ft](this,_t)}return typeof Me=="function"?at:je}function xe(le){var Me=Pe(le);return function(_e,je){if(at=_e.classList)return je?at.add(le):at.remove(le);var at=_e.getAttribute("class")||"";je?(Me.lastIndex=0,Me.test(at)||_e.setAttribute("class",be(at+" "+le))):_e.setAttribute("class",be(at.replace(Me," ")))}}X.style=function(le,Me,_e){var je=arguments.length;if(je<3){if(typeof le!="string"){je<2&&(Me="");for(_e in le)this.each(De(_e,le[_e],Me));return this}if(je<2){var at=this.node();return r(at).getComputedStyle(at,null).getPropertyValue(le)}_e=""}return this.each(De(le,Me,_e))};function De(le,Me,_e){function je(){this.style.removeProperty(le)}function at(){this.style.setProperty(le,Me,_e)}function ft(){var _t=Me.apply(this,arguments);_t==null?this.style.removeProperty(le):this.style.setProperty(le,_t,_e)}return Me==null?je:typeof Me=="function"?ft:at}X.property=function(le,Me){if(arguments.length<2){if(typeof le=="string")return this.node()[le];for(Me in le)this.each(Ve(Me,le[Me]));return this}return this.each(Ve(le,Me))};function Ve(le,Me){function _e(){delete this[le]}function je(){this[le]=Me}function at(){var ft=Me.apply(this,arguments);ft==null?delete this[le]:this[le]=ft}return Me==null?_e:typeof Me=="function"?at:je}X.text=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Me=le.apply(this,arguments);this.textContent=Me==null?"":Me}:le==null?function(){this.textContent=""}:function(){this.textContent=le}):this.node().textContent},X.html=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Me=le.apply(this,arguments);this.innerHTML=Me==null?"":Me}:le==null?function(){this.innerHTML=""}:function(){this.innerHTML=le}):this.node().innerHTML},X.append=function(le){return le=Ze(le),this.select(function(){return this.appendChild(le.apply(this,arguments))})};function Ze(le){function Me(){var je=this.ownerDocument,at=this.namespaceURI;return at===fe&&je.documentElement.namespaceURI===fe?je.createElement(le):je.createElementNS(at,le)}function _e(){return this.ownerDocument.createElementNS(le.space,le.local)}return typeof le=="function"?le:(le=i.ns.qualify(le)).local?_e:Me}X.insert=function(le,Me){return le=Ze(le),Me=oe(Me),this.select(function(){return this.insertBefore(le.apply(this,arguments),Me.apply(this,arguments)||null)})},X.remove=function(){return this.each(ke)};function ke(){var le=this.parentNode;le&&le.removeChild(this)}X.data=function(le,Me){var _e=-1,je=this.length,at,ft;if(!arguments.length){for(le=new Array(je=(at=this[0]).length);++_e<je;)(ft=at[_e])&&(le[_e]=ft.__data__);return le}function _t($t,Sr){var Er,qr=$t.length,fn=Sr.length,Pr=Math.min(qr,fn),zr=new Array(fn),Kr=new Array(fn),an=new Array(qr),nn,Zr;if(Me){var Nn=new M,$n=new Array(qr),ia;for(Er=-1;++Er<qr;)(nn=$t[Er])&&(Nn.has(ia=Me.call(nn,nn.__data__,Er))?an[Er]=nn:Nn.set(ia,nn),$n[Er]=ia);for(Er=-1;++Er<fn;)(nn=Nn.get(ia=Me.call(Sr,Zr=Sr[Er],Er)))?nn!==!0&&(zr[Er]=nn,nn.__data__=Zr):Kr[Er]=Ye(Zr),Nn.set(ia,!0);for(Er=-1;++Er<qr;)Er in $n&&Nn.get($n[Er])!==!0&&(an[Er]=$t[Er])}else{for(Er=-1;++Er<Pr;)nn=$t[Er],Zr=Sr[Er],nn?(nn.__data__=Zr,zr[Er]=nn):Kr[Er]=Ye(Zr);for(;Er<fn;++Er)Kr[Er]=Ye(Sr[Er]);for(;Er<qr;++Er)an[Er]=$t[Er]}Kr.update=zr,Kr.parentNode=zr.parentNode=an.parentNode=$t.parentNode,At.push(Kr),Ht.push(zr),Qt.push(an)}var At=Fe([]),Ht=W([]),Qt=W([]);if(typeof le=="function")for(;++_e<je;)_t(at=this[_e],le.call(at,at.parentNode.__data__,_e));else for(;++_e<je;)_t(at=this[_e],le);return Ht.enter=function(){return At},Ht.exit=function(){return Qt},Ht};function Ye(le){return{__data__:le}}X.datum=function(le){return arguments.length?this.property("__data__",le):this.property("__data__")},X.filter=function(le){var Me=[],_e,je,at;typeof le!="function"&&(le=lt(le));for(var ft=0,_t=this.length;ft<_t;ft++){Me.push(_e=[]),_e.parentNode=(je=this[ft]).parentNode;for(var At=0,Ht=je.length;At<Ht;At++)(at=je[At])&&le.call(at,at.__data__,At,ft)&&_e.push(at)}return W(Me)};function lt(le){return function(){return $(this,le)}}X.order=function(){for(var le=-1,Me=this.length;++le<Me;)for(var _e=this[le],je=_e.length-1,at=_e[je],ft;--je>=0;)(ft=_e[je])&&(at&&at!==ft.nextSibling&&at.parentNode.insertBefore(ft,at),at=ft);return this},X.sort=function(le){le=yt.apply(this,arguments);for(var Me=-1,_e=this.length;++Me<_e;)this[Me].sort(le);return this.order()};function yt(le){return arguments.length||(le=f),function(Me,_e){return Me&&_e?le(Me.__data__,_e.__data__):!Me-!_e}}X.each=function(le){return He(this,function(Me,_e,je){le.call(Me,Me.__data__,_e,je)})};function He(le,Me){for(var _e=0,je=le.length;_e<je;_e++)for(var at=le[_e],ft=0,_t=at.length,At;ft<_t;ft++)(At=at[ft])&&Me(At,ft,_e);return le}X.call=function(le){var Me=C(arguments);return le.apply(Me[0]=this,Me),this},X.empty=function(){return!this.node()},X.node=function(){for(var le=0,Me=this.length;le<Me;le++)for(var _e=this[le],je=0,at=_e.length;je<at;je++){var ft=_e[je];if(ft)return ft}return null},X.size=function(){var le=0;return He(this,function(){++le}),le};function Fe(le){return ie(le,nt),le}var nt=[];i.selection.enter=Fe,i.selection.enter.prototype=nt,nt.append=X.append,nt.empty=X.empty,nt.node=X.node,nt.call=X.call,nt.size=X.size,nt.select=function(le){for(var Me=[],_e,je,at,ft,_t,At=-1,Ht=this.length;++At<Ht;){at=(ft=this[At]).update,Me.push(_e=[]),_e.parentNode=ft.parentNode;for(var Qt=-1,$t=ft.length;++Qt<$t;)(_t=ft[Qt])?(_e.push(at[Qt]=je=le.call(ft.parentNode,_t.__data__,Qt,At)),je.__data__=_t.__data__):_e.push(null)}return W(Me)},nt.insert=function(le,Me){return arguments.length<2&&(Me=ot(this)),X.insert.call(this,le,Me)};function ot(le){var Me,_e;return function(je,at,ft){var _t=le[ft].update,At=_t.length,Ht;for(ft!=_e&&(_e=ft,Me=0),at>=Me&&(Me=at+1);!(Ht=_t[Me])&&++Me<At;);return Ht}}i.select=function(le){var Me;return typeof le=="string"?(Me=[Q(le,c)],Me.parentNode=c.documentElement):(Me=[le],Me.parentNode=y(le)),W([Me])},i.selectAll=function(le){var Me;return typeof le=="string"?(Me=C(ee(le,c)),Me.parentNode=c.documentElement):(Me=C(le),Me.parentNode=null),W([Me])},X.on=function(le,Me,_e){var je=arguments.length;if(je<3){if(typeof le!="string"){je<2&&(Me=!1);for(_e in le)this.each(ct(_e,le[_e],Me));return this}if(je<2)return(je=this.node()["__on"+le])&&je._;_e=!1}return this.each(ct(le,Me,_e))};function ct(le,Me,_e){var je="__on"+le,at=le.indexOf("."),ft=mt;at>0&&(le=le.slice(0,at));var _t=ht.get(le);_t&&(le=_t,ft=tt);function At(){var $t=this[je];$t&&(this.removeEventListener(le,$t,$t.$),delete this[je])}function Ht(){var $t=ft(Me,C(arguments));At.call(this),this.addEventListener(le,this[je]=$t,$t.$=_e),$t._=Me}function Qt(){var $t=new RegExp("^__on([^.]+)"+i.requote(le)+"$"),Sr;for(var Er in this)if(Sr=Er.match($t)){var qr=this[Er];this.removeEventListener(Sr[1],qr,qr.$),delete this[Er]}}return at?Me?Ht:At:Me?Y:Qt}var ht=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});c&&ht.forEach(function(le){"on"+le in c&&ht.remove(le)});function mt(le,Me){return function(_e){var je=i.event;i.event=_e,Me[0]=this.__data__;try{le.apply(this,Me)}finally{i.event=je}}}function tt(le,Me){var _e=mt(le,Me);return function(je){var at=this,ft=je.relatedTarget;(!ft||ft!==at&&!(ft.compareDocumentPosition(at)&8))&&_e.call(at,je)}}var Re,Ge=0;function Je(le){var Me=".dragsuppress-"+ ++Ge,_e="click"+Me,je=i.select(r(le)).on("touchmove"+Me,se).on("dragstart"+Me,se).on("selectstart"+Me,se);if(Re==null&&(Re="onselectstart"in le?!1:z(le.style,"userSelect")),Re){var at=y(le).style,ft=at[Re];at[Re]="none"}return function(_t){if(je.on(Me,null),Re&&(at[Re]=ft),_t){var At=function(){je.on(_e,null)};je.on(_e,function(){se(),At()},!0),setTimeout(At,0)}}}i.mouse=function(le){return Oe(le,ue())};var Xe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Oe(le,Me){Me.changedTouches&&(Me=Me.changedTouches[0]);var _e=le.ownerSVGElement||le;if(_e.createSVGPoint){var je=_e.createSVGPoint();if(Xe<0){var at=r(le);if(at.scrollX||at.scrollY){_e=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ft=_e[0][0].getScreenCTM();Xe=!(ft.f||ft.e),_e.remove()}}return Xe?(je.x=Me.pageX,je.y=Me.pageY):(je.x=Me.clientX,je.y=Me.clientY),je=je.matrixTransform(le.getScreenCTM().inverse()),[je.x,je.y]}var _t=le.getBoundingClientRect();return[Me.clientX-_t.left-le.clientLeft,Me.clientY-_t.top-le.clientTop]}i.touch=function(le,Me,_e){if(arguments.length<3&&(_e=Me,Me=ue().changedTouches),Me){for(var je=0,at=Me.length,ft;je<at;++je)if((ft=Me[je]).identifier===_e)return Oe(le,ft)}},i.behavior.drag=function(){var le=K(at,"drag","dragstart","dragend"),Me=null,_e=ft(Y,i.mouse,r,"mousemove","mouseup"),je=ft(Ne,i.touch,_,"touchmove","touchend");function at(){this.on("mousedown.drag",_e).on("touchstart.drag",je)}function ft(_t,At,Ht,Qt,$t){return function(){var Sr=this,Er=i.event.target.correspondingElement||i.event.target,qr=Sr.parentNode,fn=le.of(Sr,arguments),Pr=0,zr=_t(),Kr=".drag"+(zr==null?"":"-"+zr),an,nn=i.select(Ht(Er)).on(Qt+Kr,$n).on($t+Kr,ia),Zr=Je(Er),Nn=At(qr,zr);Me?(an=Me.apply(Sr,arguments),an=[an.x-Nn[0],an.y-Nn[1]]):an=[0,0],fn({type:"dragstart"});function $n(){var na=At(qr,zr),wa,ma;na&&(wa=na[0]-Nn[0],ma=na[1]-Nn[1],Pr|=wa|ma,Nn=na,fn({type:"drag",x:na[0]+an[0],y:na[1]+an[1],dx:wa,dy:ma}))}function ia(){At(qr,zr)&&(nn.on(Qt+Kr,null).on($t+Kr,null),Zr(Pr),fn({type:"dragend"}))}}}return at.origin=function(_t){return arguments.length?(Me=_t,at):Me},i.rebind(at,le,"on")};function Ne(){return i.event.changedTouches[0].identifier}i.touches=function(le,Me){return arguments.length<2&&(Me=ue().touches),Me?C(Me).map(function(_e){var je=Oe(le,_e);return je.identifier=_e.identifier,je}):[]};var ze=1e-6,et=ze*ze,Le=Math.PI,Te=2*Le,ye=Te-ze,Se=Le/2,Ke=Le/180,rt=180/Le;function Lt(le){return le>0?1:le<0?-1:0}function It(le,Me,_e){return(Me[0]-le[0])*(_e[1]-le[1])-(Me[1]-le[1])*(_e[0]-le[0])}function wt(le){return le>1?0:le<-1?Le:Math.acos(le)}function Et(le){return le>1?Se:le<-1?-Se:Math.asin(le)}function Wt(le){return((le=Math.exp(le))-1/le)/2}function vr(le){return((le=Math.exp(le))+1/le)/2}function dt(le){return((le=Math.exp(2*le))-1)/(le+1)}function Yt(le){return(le=Math.sin(le/2))*le}var jt=Math.SQRT2,gr=2,sr=4;i.interpolateZoom=function(le,Me){var _e=le[0],je=le[1],at=le[2],ft=Me[0],_t=Me[1],At=Me[2],Ht=ft-_e,Qt=_t-je,$t=Ht*Ht+Qt*Qt,Sr,Er;if($t<et)Er=Math.log(At/at)/jt,Sr=function(an){return[_e+an*Ht,je+an*Qt,at*Math.exp(jt*an*Er)]};else{var qr=Math.sqrt($t),fn=(At*At-at*at+sr*$t)/(2*at*gr*qr),Pr=(At*At-at*at-sr*$t)/(2*At*gr*qr),zr=Math.log(Math.sqrt(fn*fn+1)-fn),Kr=Math.log(Math.sqrt(Pr*Pr+1)-Pr);Er=(Kr-zr)/jt,Sr=function(an){var nn=an*Er,Zr=vr(zr),Nn=at/(gr*qr)*(Zr*dt(jt*nn+zr)-Wt(zr));return[_e+Nn*Ht,je+Nn*Qt,at*Zr/vr(jt*nn+zr)]}}return Sr.duration=Er*1e3,Sr},i.behavior.zoom=function(){var le={x:0,y:0,k:1},Me,_e,je,at=[960,500],ft=gt,_t=250,At=0,Ht="mousedown.zoom",Qt="mousemove.zoom",$t="mouseup.zoom",Sr,Er="touchstart.zoom",qr,fn=K(nn,"zoomstart","zoom","zoomend"),Pr,zr,Kr,an;xt||(xt="onwheel"in c?(st=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in c?(st=function(){return i.event.wheelDelta},"mousewheel"):(st=function(){return-i.event.detail},"MozMousePixelScroll"));function nn(Qn){Qn.on(Ht,pa).on(xt+".zoom",Mi).on("dblclick.zoom",Va).on(Er,ja)}nn.event=function(Qn){Qn.each(function(){var za=fn.of(this,arguments),Ua=le;Dn?i.select(this).transition().each("start.zoom",function(){le=this.__chart__||{x:0,y:0,k:1},ma(za)}).tween("zoom:zoom",function(){var Ha=at[0],gi=at[1],qn=_e?_e[0]:Ha/2,Ta=_e?_e[1]:gi/2,Di=i.interpolateZoom([(qn-le.x)/le.k,(Ta-le.y)/le.k,Ha/le.k],[(qn-Ua.x)/Ua.k,(Ta-Ua.y)/Ua.k,Ha/Ua.k]);return function(yi){var zi=Di(yi),ci=Ha/zi[2];this.__chart__=le={x:qn-zi[0]*ci,y:Ta-zi[1]*ci,k:ci},Pa(za)}}).each("interrupt.zoom",function(){Ma(za)}).each("end.zoom",function(){Ma(za)}):(this.__chart__=le,ma(za),Pa(za),Ma(za))})},nn.translate=function(Qn){return arguments.length?(le={x:+Qn[0],y:+Qn[1],k:le.k},wa(),nn):[le.x,le.y]},nn.scale=function(Qn){return arguments.length?(le={x:le.x,y:le.y,k:null},$n(+Qn),wa(),nn):le.k},nn.scaleExtent=function(Qn){return arguments.length?(ft=Qn==null?gt:[+Qn[0],+Qn[1]],nn):ft},nn.center=function(Qn){return arguments.length?(je=Qn&&[+Qn[0],+Qn[1]],nn):je},nn.size=function(Qn){return arguments.length?(at=Qn&&[+Qn[0],+Qn[1]],nn):at},nn.duration=function(Qn){return arguments.length?(_t=+Qn,nn):_t},nn.x=function(Qn){return arguments.length?(zr=Qn,Pr=Qn.copy(),le={x:0,y:0,k:1},nn):zr},nn.y=function(Qn){return arguments.length?(an=Qn,Kr=Qn.copy(),le={x:0,y:0,k:1},nn):an};function Zr(Qn){return[(Qn[0]-le.x)/le.k,(Qn[1]-le.y)/le.k]}function Nn(Qn){return[Qn[0]*le.k+le.x,Qn[1]*le.k+le.y]}function $n(Qn){le.k=Math.max(ft[0],Math.min(ft[1],Qn))}function ia(Qn,za){za=Nn(za),le.x+=Qn[0]-za[0],le.y+=Qn[1]-za[1]}function na(Qn,za,Ua,Ha){Qn.__chart__={x:le.x,y:le.y,k:le.k},$n(Math.pow(2,Ha)),ia(_e=za,Ua),Qn=i.select(Qn),_t>0&&(Qn=Qn.transition().duration(_t)),Qn.call(nn.event)}function wa(){zr&&zr.domain(Pr.range().map(function(Qn){return(Qn-le.x)/le.k}).map(Pr.invert)),an&&an.domain(Kr.range().map(function(Qn){return(Qn-le.y)/le.k}).map(Kr.invert))}function ma(Qn){At++||Qn({type:"zoomstart"})}function Pa(Qn){wa(),Qn({type:"zoom",scale:le.k,translate:[le.x,le.y]})}function Ma(Qn){--At||(Qn({type:"zoomend"}),_e=null)}function pa(){var Qn=this,za=fn.of(Qn,arguments),Ua=0,Ha=i.select(r(Qn)).on(Qt,Ta).on($t,Di),gi=Zr(i.mouse(Qn)),qn=Je(Qn);Lr.call(Qn),ma(za);function Ta(){Ua=1,ia(i.mouse(Qn),gi),Pa(za)}function Di(){Ha.on(Qt,null).on($t,null),qn(Ua),Ma(za)}}function ja(){var Qn=this,za=fn.of(Qn,arguments),Ua={},Ha=0,gi,qn=".zoom-"+i.event.changedTouches[0].identifier,Ta="touchmove"+qn,Di="touchend"+qn,yi=[],zi=i.select(Qn),ci=Je(Qn);Ri(),ma(za),zi.on(Ht,null).on(Er,Ri);function Pi(){var hi=i.touches(Qn);return gi=le.k,hi.forEach(function(so){so.identifier in Ua&&(Ua[so.identifier]=Zr(so))}),hi}function Ri(){var hi=i.event.target;i.select(hi).on(Ta,Au).on(Di,tf),yi.push(hi);for(var so=i.event.changedTouches,Ga=0,oi=so.length;Ga<oi;++Ga)Ua[so[Ga].identifier]=null;var wo=Pi(),Mu=Date.now();if(wo.length===1){if(Mu-qr<500){var Zo=wo[0];na(Qn,Zo,Ua[Zo.identifier],Math.floor(Math.log(le.k)/Math.LN2)+1),se()}qr=Mu}else if(wo.length>1){var Zo=wo[0],Qs=wo[1],Fs=Zo[0]-Qs[0],Su=Zo[1]-Qs[1];Ha=Fs*Fs+Su*Su}}function Au(){var hi=i.touches(Qn),so,Ga,oi,wo;Lr.call(Qn);for(var Mu=0,Zo=hi.length;Mu<Zo;++Mu,wo=null)if(oi=hi[Mu],wo=Ua[oi.identifier]){if(Ga)break;so=oi,Ga=wo}if(wo){var Qs=(Qs=oi[0]-so[0])*Qs+(Qs=oi[1]-so[1])*Qs,Fs=Ha&&Math.sqrt(Qs/Ha);so=[(so[0]+oi[0])/2,(so[1]+oi[1])/2],Ga=[(Ga[0]+wo[0])/2,(Ga[1]+wo[1])/2],$n(Fs*gi)}qr=null,ia(so,Ga),Pa(za)}function tf(){if(i.event.touches.length){for(var hi=i.event.changedTouches,so=0,Ga=hi.length;so<Ga;++so)delete Ua[hi[so].identifier];for(var oi in Ua)return void Pi()}i.selectAll(yi).on(qn,null),zi.on(Ht,pa).on(Er,ja),ci(),Ma(za)}}function Mi(){var Qn=fn.of(this,arguments);Sr?clearTimeout(Sr):(Lr.call(this),Me=Zr(_e=je||i.mouse(this)),ma(Qn)),Sr=setTimeout(function(){Sr=null,Ma(Qn)},50),se(),$n(Math.pow(2,st()*.002)*le.k),ia(_e,Me),Pa(Qn)}function Va(){var Qn=i.mouse(this),za=Math.log(le.k)/Math.LN2;na(this,Qn,Zr(Qn),i.event.shiftKey?Math.ceil(za)-1:Math.floor(za)+1)}return i.rebind(nn,fn,"on")};var gt=[0,1/0],st,xt;i.color=Mt;function Mt(){}Mt.prototype.toString=function(){return this.rgb()+""},i.hsl=Rt;function Rt(le,Me,_e){return this instanceof Rt?(this.h=+le,this.s=+Me,void(this.l=+_e)):arguments.length<2?le instanceof Rt?new Rt(le.h,le.s,le.l):yr(""+le,Gr,Rt):new Rt(le,Me,_e)}var Vt=Rt.prototype=new Mt;Vt.brighter=function(le){return le=Math.pow(.7,arguments.length?le:1),new Rt(this.h,this.s,this.l/le)},Vt.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new Rt(this.h,this.s,le*this.l)},Vt.rgb=function(){return Ct(this.h,this.s,this.l)};function Ct(le,Me,_e){var je,at;le=isNaN(le)?0:(le%=360)<0?le+360:le,Me=isNaN(Me)||Me<0?0:Me>1?1:Me,_e=_e<0?0:_e>1?1:_e,at=_e<=.5?_e*(1+Me):_e+Me-_e*Me,je=2*_e-at;function ft(At){return At>360?At-=360:At<0&&(At+=360),At<60?je+(at-je)*At/60:At<180?at:At<240?je+(at-je)*(240-At)/60:je}function _t(At){return Math.round(ft(At)*255)}return new tr(_t(le+120),_t(le),_t(le-120))}i.hcl=Bt;function Bt(le,Me,_e){return this instanceof Bt?(this.h=+le,this.c=+Me,void(this.l=+_e)):arguments.length<2?le instanceof Bt?new Bt(le.h,le.c,le.l):le instanceof or?rr(le.l,le.a,le.b):rr((le=rn((le=i.rgb(le)).r,le.g,le.b)).l,le.a,le.b):new Bt(le,Me,_e)}var Xt=Bt.prototype=new Mt;Xt.brighter=function(le){return new Bt(this.h,this.c,Math.min(100,this.l+cr*(arguments.length?le:1)))},Xt.darker=function(le){return new Bt(this.h,this.c,Math.max(0,this.l-cr*(arguments.length?le:1)))},Xt.rgb=function(){return ir(this.h,this.c,this.l).rgb()};function ir(le,Me,_e){return isNaN(le)&&(le=0),isNaN(Me)&&(Me=0),new or(_e,Math.cos(le*=Ke)*Me,Math.sin(le)*Me)}i.lab=or;function or(le,Me,_e){return this instanceof or?(this.l=+le,this.a=+Me,void(this.b=+_e)):arguments.length<2?le instanceof or?new or(le.l,le.a,le.b):le instanceof Bt?ir(le.h,le.c,le.l):rn((le=tr(le)).r,le.g,le.b):new or(le,Me,_e)}var cr=18,We=.95047,Ue=1,Ft=1.08883,kt=or.prototype=new Mt;kt.brighter=function(le){return new or(Math.min(100,this.l+cr*(arguments.length?le:1)),this.a,this.b)},kt.darker=function(le){return new or(Math.max(0,this.l-cr*(arguments.length?le:1)),this.a,this.b)},kt.rgb=function(){return Zt(this.l,this.a,this.b)};function Zt(le,Me,_e){var je=(le+16)/116,at=je+Me/500,ft=je-_e/200;return at=lr(at)*We,je=lr(je)*Ue,ft=lr(ft)*Ft,new tr(Ot(3.2404542*at-1.5371385*je-.4985314*ft),Ot(-.969266*at+1.8760108*je+.041556*ft),Ot(.0556434*at-.2040259*je+1.0572252*ft))}function rr(le,Me,_e){return le>0?new Bt(Math.atan2(_e,Me)*rt,Math.sqrt(Me*Me+_e*_e),le):new Bt(NaN,NaN,le)}function lr(le){return le>.206893034?le*le*le:(le-.13793103448275862)/7.787037}function qt(le){return le>.008856?Math.pow(le,.3333333333333333):7.787037*le+.13793103448275862}function Ot(le){return Math.round(255*(le<=.00304?12.92*le:1.055*Math.pow(le,.4166666666666667)-.055))}i.rgb=tr;function tr(le,Me,_e){return this instanceof tr?(this.r=~~le,this.g=~~Me,void(this.b=~~_e)):arguments.length<2?le instanceof tr?new tr(le.r,le.g,le.b):yr(""+le,tr,Ct):new tr(le,Me,_e)}function dr(le){return new tr(le>>16,le>>8&255,le&255)}function mr(le){return dr(le)+""}var Cr=tr.prototype=new Mt;Cr.brighter=function(le){le=Math.pow(.7,arguments.length?le:1);var Me=this.r,_e=this.g,je=this.b,at=30;return!Me&&!_e&&!je?new tr(at,at,at):(Me&&Me<at&&(Me=at),_e&&_e<at&&(_e=at),je&&je<at&&(je=at),new tr(Math.min(255,Me/le),Math.min(255,_e/le),Math.min(255,je/le)))},Cr.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new tr(le*this.r,le*this.g,le*this.b)},Cr.hsl=function(){return Gr(this.r,this.g,this.b)},Cr.toString=function(){return"#"+$r(this.r)+$r(this.g)+$r(this.b)};function $r(le){return le<16?"0"+Math.max(0,le).toString(16):Math.min(255,le).toString(16)}function yr(le,Me,_e){var je=0,at=0,ft=0,_t,At,Ht;if(_t=/([a-z]+)\((.*)\)/.exec(le=le.toLowerCase()),_t)switch(At=_t[2].split(","),_t[1]){case"hsl":return _e(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Me(bn(At[0]),bn(At[1]),bn(At[2]))}return(Ht=xn.get(le))?Me(Ht.r,Ht.g,Ht.b):(le!=null&&le.charAt(0)==="#"&&!isNaN(Ht=parseInt(le.slice(1),16))&&(le.length===4?(je=(Ht&3840)>>4,je=je>>4|je,at=Ht&240,at=at>>4|at,ft=Ht&15,ft=ft<<4|ft):le.length===7&&(je=(Ht&16711680)>>16,at=(Ht&65280)>>8,ft=Ht&255)),Me(je,at,ft))}function Gr(le,Me,_e){var je=Math.min(le/=255,Me/=255,_e/=255),at=Math.max(le,Me,_e),ft=at-je,_t,At,Ht=(at+je)/2;return ft?(At=Ht<.5?ft/(at+je):ft/(2-at-je),le==at?_t=(Me-_e)/ft+(Me<_e?6:0):Me==at?_t=(_e-le)/ft+2:_t=(le-Me)/ft+4,_t*=60):(_t=NaN,At=Ht>0&&Ht<1?0:_t),new Rt(_t,At,Ht)}function rn(le,Me,_e){le=_r(le),Me=_r(Me),_e=_r(_e);var je=qt((.4124564*le+.3575761*Me+.1804375*_e)/We),at=qt((.2126729*le+.7151522*Me+.072175*_e)/Ue),ft=qt((.0193339*le+.119192*Me+.9503041*_e)/Ft);return or(116*at-16,500*(je-at),200*(at-ft))}function _r(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function bn(le){var Me=parseFloat(le);return le.charAt(le.length-1)==="%"?Math.round(Me*2.55):Me}var xn=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});xn.forEach(function(le,Me){xn.set(le,dr(Me))});function fr(le){return typeof le=="function"?le:function(){return le}}i.functor=fr,i.xhr=Dr(_);function Dr(le){return function(Me,_e,je){return arguments.length===2&&typeof _e=="function"&&(je=_e,_e=null),Nr(Me,_e,le,je)}}function Nr(le,Me,_e,je){var at={},ft=i.dispatch("beforesend","progress","load","error"),_t={},At=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(le)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Qt:At.onreadystatechange=function(){At.readyState>3&&Qt()};function Qt(){var $t=At.status,Sr;if(!$t&&on(At)||$t>=200&&$t<300||$t===304){try{Sr=_e.call(at,At)}catch(Er){ft.error.call(at,Er);return}ft.load.call(at,Sr)}else ft.error.call(at,At)}return At.onprogress=function($t){var Sr=i.event;i.event=$t;try{ft.progress.call(at,At)}finally{i.event=Sr}},at.header=function($t,Sr){return $t=($t+"").toLowerCase(),arguments.length<2?_t[$t]:(Sr==null?delete _t[$t]:_t[$t]=Sr+"",at)},at.mimeType=function($t){return arguments.length?(Me=$t==null?null:$t+"",at):Me},at.responseType=function($t){return arguments.length?(Ht=$t,at):Ht},at.response=function($t){return _e=$t,at},["get","post"].forEach(function($t){at[$t]=function(){return at.send.apply(at,[$t].concat(C(arguments)))}}),at.send=function($t,Sr,Er){if(arguments.length===2&&typeof Sr=="function"&&(Er=Sr,Sr=null),At.open($t,le,!0),Me!=null&&!("accept"in _t)&&(_t.accept=Me+",*/*"),At.setRequestHeader)for(var qr in _t)At.setRequestHeader(qr,_t[qr]);return Me!=null&&At.overrideMimeType&&At.overrideMimeType(Me),Ht!=null&&(At.responseType=Ht),Er!=null&&at.on("error",Er).on("load",function(fn){Er(null,fn)}),ft.beforesend.call(at,At),At.send(Sr==null?null:Sr),at},at.abort=function(){return At.abort(),at},i.rebind(at,ft,"on"),je==null?at:at.get(Ur(je))}function Ur(le){return le.length===1?function(Me,_e){le(Me==null?_e:null)}:le}function on(le){var Me=le.responseType;return Me&&Me!=="text"?le.response:le.responseText}i.dsv=function(le,Me){var _e=new RegExp('["'+le+`
]`),je=le.charCodeAt(0);function at(Qt,$t,Sr){arguments.length<3&&(Sr=$t,$t=null);var Er=Nr(Qt,Me,$t==null?ft:_t($t),Sr);return Er.row=function(qr){return arguments.length?Er.response(($t=qr)==null?ft:_t(qr)):$t},Er}function ft(Qt){return at.parse(Qt.responseText)}function _t(Qt){return function($t){return at.parse($t.responseText,Qt)}}at.parse=function(Qt,$t){var Sr;return at.parseRows(Qt,function(Er,qr){if(Sr)return Sr(Er,qr-1);var fn=function(Pr){for(var zr={},Kr=Er.length,an=0;an<Kr;++an)zr[Er[an]]=Pr[an];return zr};Sr=$t?function(Pr,zr){return $t(fn(Pr),zr)}:fn})},at.parseRows=function(Qt,$t){var Sr={},Er={},qr=[],fn=Qt.length,Pr=0,zr=0,Kr,an;function nn(){if(Pr>=fn)return Er;if(an)return an=!1,Sr;var Nn=Pr;if(Qt.charCodeAt(Nn)===34){for(var $n=Nn;$n++<fn;)if(Qt.charCodeAt($n)===34){if(Qt.charCodeAt($n+1)!==34)break;++$n}Pr=$n+2;var ia=Qt.charCodeAt($n+1);return ia===13?(an=!0,Qt.charCodeAt($n+2)===10&&++Pr):ia===10&&(an=!0),Qt.slice(Nn+1,$n).replace(/""/g,'"')}for(;Pr<fn;){var ia=Qt.charCodeAt(Pr++),na=1;if(ia===10)an=!0;else if(ia===13)an=!0,Qt.charCodeAt(Pr)===10&&(++Pr,++na);else if(ia!==je)continue;return Qt.slice(Nn,Pr-na)}return Qt.slice(Nn)}for(;(Kr=nn())!==Er;){for(var Zr=[];Kr!==Sr&&Kr!==Er;)Zr.push(Kr),Kr=nn();$t&&(Zr=$t(Zr,zr++))==null||qr.push(Zr)}return qr},at.format=function(Qt){if(Array.isArray(Qt[0]))return at.formatRows(Qt);var $t=new F,Sr=[];return Qt.forEach(function(Er){for(var qr in Er)$t.has(qr)||Sr.push($t.add(qr))}),[Sr.map(Ht).join(le)].concat(Qt.map(function(Er){return Sr.map(function(qr){return Ht(Er[qr])}).join(le)})).join(`
`)},at.formatRows=function(Qt){return Qt.map(At).join(`
`)};function At(Qt){return Qt.map(Ht).join(le)}function Ht(Qt){return _e.test(Qt)?'"'+Qt.replace(/\"/g,'""')+'"':Qt}return at},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var gn,yn,Pn,zn,ta=this[z(this,"requestAnimationFrame")]||function(le){setTimeout(le,17)};i.timer=function(){Un.apply(this,arguments)};function Un(le,Me,_e){var je=arguments.length;je<2&&(Me=0),je<3&&(_e=Date.now());var at=_e+Me,ft={c:le,t:at,n:null};return yn?yn.n=ft:gn=ft,yn=ft,Pn||(zn=clearTimeout(zn),Pn=1,ta(ra)),ft}function ra(){var le=Jn(),Me=ea()-le;Me>24?(isFinite(Me)&&(clearTimeout(zn),zn=setTimeout(ra,Me)),Pn=0):(Pn=1,ta(ra))}i.timer.flush=function(){Jn(),ea()};function Jn(){for(var le=Date.now(),Me=gn;Me;)le>=Me.t&&Me.c(le-Me.t)&&(Me.c=null),Me=Me.n;return le}function ea(){for(var le,Me=gn,_e=1/0;Me;)Me.c?(Me.t<_e&&(_e=Me.t),Me=(le=Me).n):Me=le?le.n=Me.n:gn=Me.n;return yn=le,_e}i.round=function(le,Me){return Me?Math.round(le*(Me=Math.pow(10,Me)))/Me:Math.round(le)},i.geom={};function pr(le){return le[0]}function Jr(le){return le[1]}i.geom.hull=function(le){var Me=pr,_e=Jr;if(arguments.length)return je(le);function je(at){if(at.length<3)return[];var ft=fr(Me),_t=fr(_e),At,Ht=at.length,Qt=[],$t=[];for(At=0;At<Ht;At++)Qt.push([+ft.call(this,at[At],At),+_t.call(this,at[At],At),At]);for(Qt.sort(vn),At=0;At<Ht;At++)$t.push([Qt[At][0],-Qt[At][1]]);var Sr=Xr(Qt),Er=Xr($t),qr=Er[0]===Sr[0],fn=Er[Er.length-1]===Sr[Sr.length-1],Pr=[];for(At=Sr.length-1;At>=0;--At)Pr.push(at[Qt[Sr[At]][2]]);for(At=+qr;At<Er.length-fn;++At)Pr.push(at[Qt[Er[At]][2]]);return Pr}return je.x=function(at){return arguments.length?(Me=at,je):Me},je.y=function(at){return arguments.length?(_e=at,je):_e},je};function Xr(le){for(var Me=le.length,_e=[0,1],je=2,at=2;at<Me;at++){for(;je>1&&It(le[_e[je-2]],le[_e[je-1]],le[at])<=0;)--je;_e[je++]=at}return _e.slice(0,je)}function vn(le,Me){return le[0]-Me[0]||le[1]-Me[1]}i.geom.polygon=function(le){return ie(le,Bn),le};var Bn=i.geom.polygon.prototype=[];Bn.area=function(){for(var le=-1,Me=this.length,_e,je=this[Me-1],at=0;++le<Me;)_e=je,je=this[le],at+=_e[1]*je[0]-_e[0]*je[1];return at*.5},Bn.centroid=function(le){var Me=-1,_e=this.length,je=0,at=0,ft,_t=this[_e-1],At;for(arguments.length||(le=-1/(6*this.area()));++Me<_e;)ft=_t,_t=this[Me],At=ft[0]*_t[1]-_t[0]*ft[1],je+=(ft[0]+_t[0])*At,at+=(ft[1]+_t[1])*At;return[je*le,at*le]},Bn.clip=function(le){for(var Me,_e=On(le),je=-1,at=this.length-On(this),ft,_t,At=this[at-1],Ht,Qt,$t;++je<at;){for(Me=le.slice(),le.length=0,Ht=this[je],Qt=Me[(_t=Me.length-_e)-1],ft=-1;++ft<_t;)$t=Me[ft],Tn($t,At,Ht)?(Tn(Qt,At,Ht)||le.push(Mn(Qt,$t,At,Ht)),le.push($t)):Tn(Qt,At,Ht)&&le.push(Mn(Qt,$t,At,Ht)),Qt=$t;_e&&le.push(le[0]),At=Ht}return le};function Tn(le,Me,_e){return(_e[0]-Me[0])*(le[1]-Me[1])<(_e[1]-Me[1])*(le[0]-Me[0])}function Mn(le,Me,_e,je){var at=le[0],ft=_e[0],_t=Me[0]-at,At=je[0]-ft,Ht=le[1],Qt=_e[1],$t=Me[1]-Ht,Sr=je[1]-Qt,Er=(At*(Ht-Qt)-Sr*(at-ft))/(Sr*_t-At*$t);return[at+Er*_t,Ht+Er*$t]}function On(le){var Me=le[0],_e=le[le.length-1];return!(Me[0]-_e[0]||Me[1]-_e[1])}var Wn,oa,Ra,Ar=[],Ir,Tr,Fr=[];function dn(){co(this),this.edge=this.site=this.circle=null}function Ln(le){var Me=Ar.pop()||new dn;return Me.site=le,Me}function hn(le){kn(le),Ra.remove(le),Ar.push(le),co(le)}function ln(le){var Me=le.circle,_e=Me.x,je=Me.cy,at={x:_e,y:je},ft=le.P,_t=le.N,At=[le];hn(le);for(var Ht=ft;Ht.circle&&v(_e-Ht.circle.x)<ze&&v(je-Ht.circle.cy)<ze;)ft=Ht.P,At.unshift(Ht),hn(Ht),Ht=ft;At.unshift(Ht),kn(Ht);for(var Qt=_t;Qt.circle&&v(_e-Qt.circle.x)<ze&&v(je-Qt.circle.cy)<ze;)_t=Qt.N,At.push(Qt),hn(Qt),Qt=_t;At.push(Qt),kn(Qt);var $t=At.length,Sr;for(Sr=1;Sr<$t;++Sr)Qt=At[Sr],Ht=At[Sr-1],Lo(Qt.edge,Ht.site,Qt.site,at);Ht=At[0],Qt=At[$t-1],Qt.edge=si(Ht.site,Qt.site,null,at),Fn(Ht),Fn(Qt)}function Mr(le){for(var Me=le.x,_e=le.y,je,at,ft,_t,At=Ra._;At;)if(ft=Yr(At,_e)-Me,ft>ze)At=At.L;else if(_t=Me-Br(At,_e),_t>ze){if(!At.R){je=At;break}At=At.R}else{ft>-ze?(je=At.P,at=At):_t>-ze?(je=At,at=At.N):je=at=At;break}var Ht=Ln(le);if(Ra.insert(je,Ht),!(!je&&!at)){if(je===at){kn(je),at=Ln(je.site),Ra.insert(Ht,at),Ht.edge=at.edge=si(je.site,Ht.site),Fn(je),Fn(at);return}if(!at){Ht.edge=si(je.site,Ht.site);return}kn(je),kn(at);var Qt=je.site,$t=Qt.x,Sr=Qt.y,Er=le.x-$t,qr=le.y-Sr,fn=at.site,Pr=fn.x-$t,zr=fn.y-Sr,Kr=2*(Er*zr-qr*Pr),an=Er*Er+qr*qr,nn=Pr*Pr+zr*zr,Zr={x:(zr*an-qr*nn)/Kr+$t,y:(Er*nn-Pr*an)/Kr+Sr};Lo(at.edge,Qt,fn,Zr),Ht.edge=si(Qt,le,null,Zr),at.edge=si(le,fn,null,Zr),Fn(je),Fn(at)}}function Yr(le,Me){var _e=le.site,je=_e.x,at=_e.y,ft=at-Me;if(!ft)return je;var _t=le.P;if(!_t)return-1/0;_e=_t.site;var At=_e.x,Ht=_e.y,Qt=Ht-Me;if(!Qt)return At;var $t=At-je,Sr=1/ft-1/Qt,Er=$t/Qt;return Sr?(-Er+Math.sqrt(Er*Er-2*Sr*($t*$t/(-2*Qt)-Ht+Qt/2+at-ft/2)))/Sr+je:(je+At)/2}function Br(le,Me){var _e=le.N;if(_e)return Yr(_e,Me);var je=le.site;return je.y===Me?je.x:1/0}function Qr(le){this.site=le,this.edges=[]}Qr.prototype.prepare=function(){for(var le=this.edges,Me=le.length,_e;Me--;)_e=le[Me].edge,(!_e.b||!_e.a)&&le.splice(Me,1);return le.sort(En),le.length};function wn(le){for(var Me=le[0][0],_e=le[1][0],je=le[0][1],at=le[1][1],ft,_t,At,Ht,Qt=oa,$t=Qt.length,Sr,Er,qr,fn,Pr,zr;$t--;)if(Sr=Qt[$t],!(!Sr||!Sr.prepare()))for(qr=Sr.edges,fn=qr.length,Er=0;Er<fn;)zr=qr[Er].end(),At=zr.x,Ht=zr.y,Pr=qr[++Er%fn].start(),ft=Pr.x,_t=Pr.y,(v(At-ft)>ze||v(Ht-_t)>ze)&&(qr.splice(Er,0,new xo(ii(Sr.site,zr,v(At-Me)<ze&&at-Ht>ze?{x:Me,y:v(ft-Me)<ze?_t:at}:v(Ht-at)<ze&&_e-At>ze?{x:v(_t-at)<ze?ft:_e,y:at}:v(At-_e)<ze&&Ht-je>ze?{x:_e,y:v(ft-_e)<ze?_t:je}:v(Ht-je)<ze&&At-Me>ze?{x:v(_t-je)<ze?ft:Me,y:je}:null),Sr.site,null)),++fn)}function En(le,Me){return Me.angle-le.angle}function Cn(){co(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fn(le){var Me=le.P,_e=le.N;if(!(!Me||!_e)){var je=Me.site,at=le.site,ft=_e.site;if(je!==ft){var _t=at.x,At=at.y,Ht=je.x-_t,Qt=je.y-At,$t=ft.x-_t,zr=ft.y-At,Sr=2*(Ht*zr-Qt*$t);if(!(Sr>=-et)){var Er=Ht*Ht+Qt*Qt,qr=$t*$t+zr*zr,fn=(zr*Er-Qt*qr)/Sr,Pr=(Ht*qr-$t*Er)/Sr,zr=Pr+At,Kr=Fr.pop()||new Cn;Kr.arc=le,Kr.site=at,Kr.x=fn+_t,Kr.y=zr+Math.sqrt(fn*fn+Pr*Pr),Kr.cy=zr,le.circle=Kr;for(var an=null,nn=Tr._;nn;)if(Kr.y<nn.y||Kr.y===nn.y&&Kr.x<=nn.x)if(nn.L)nn=nn.L;else{an=nn.P;break}else if(nn.R)nn=nn.R;else{an=nn;break}Tr.insert(an,Kr),an||(Ir=Kr)}}}}function kn(le){var Me=le.circle;Me&&(Me.P||(Ir=Me.N),Tr.remove(Me),Fr.push(Me),co(Me),le.circle=null)}function ha(le,Me,_e,je){return function(at){var ft=at.a,_t=at.b,At=ft.x,Ht=ft.y,Qt=_t.x,$t=_t.y,Sr=0,Er=1,qr=Qt-At,fn=$t-Ht,Pr;if(Pr=le-At,!(!qr&&Pr>0)){if(Pr/=qr,qr<0){if(Pr<Sr)return;Pr<Er&&(Er=Pr)}else if(qr>0){if(Pr>Er)return;Pr>Sr&&(Sr=Pr)}if(Pr=_e-At,!(!qr&&Pr<0)){if(Pr/=qr,qr<0){if(Pr>Er)return;Pr>Sr&&(Sr=Pr)}else if(qr>0){if(Pr<Sr)return;Pr<Er&&(Er=Pr)}if(Pr=Me-Ht,!(!fn&&Pr>0)){if(Pr/=fn,fn<0){if(Pr<Sr)return;Pr<Er&&(Er=Pr)}else if(fn>0){if(Pr>Er)return;Pr>Sr&&(Sr=Pr)}if(Pr=je-Ht,!(!fn&&Pr<0)){if(Pr/=fn,fn<0){if(Pr>Er)return;Pr>Sr&&(Sr=Pr)}else if(fn>0){if(Pr<Sr)return;Pr<Er&&(Er=Pr)}return Sr>0&&(at.a={x:At+Sr*qr,y:Ht+Sr*fn}),Er<1&&(at.b={x:At+Er*qr,y:Ht+Er*fn}),at}}}}}}function ca(le){for(var Me=Wn,_e=ha(le[0][0],le[0][1],le[1][0],le[1][1]),je=Me.length,at;je--;)at=Me[je],(!sa(at,le)||!_e(at)||v(at.a.x-at.b.x)<ze&&v(at.a.y-at.b.y)<ze)&&(at.a=at.b=null,Me.splice(je,1))}function sa(le,Me){var _e=le.b;if(_e)return!0;var je=le.a,at=Me[0][0],ft=Me[1][0],_t=Me[0][1],At=Me[1][1],Ht=le.l,Qt=le.r,$t=Ht.x,Sr=Ht.y,Er=Qt.x,qr=Qt.y,fn=($t+Er)/2,Pr=(Sr+qr)/2,zr,Kr;if(qr===Sr){if(fn<at||fn>=ft)return;if($t>Er){if(!je)je={x:fn,y:_t};else if(je.y>=At)return;_e={x:fn,y:At}}else{if(!je)je={x:fn,y:At};else if(je.y<_t)return;_e={x:fn,y:_t}}}else if(zr=($t-Er)/(qr-Sr),Kr=Pr-zr*fn,zr<-1||zr>1)if($t>Er){if(!je)je={x:(_t-Kr)/zr,y:_t};else if(je.y>=At)return;_e={x:(At-Kr)/zr,y:At}}else{if(!je)je={x:(At-Kr)/zr,y:At};else if(je.y<_t)return;_e={x:(_t-Kr)/zr,y:_t}}else if(Sr<qr){if(!je)je={x:at,y:zr*at+Kr};else if(je.x>=ft)return;_e={x:ft,y:zr*ft+Kr}}else{if(!je)je={x:ft,y:zr*ft+Kr};else if(je.x<at)return;_e={x:at,y:zr*at+Kr}}return le.a=je,le.b=_e,!0}function Da(le,Me){this.l=le,this.r=Me,this.a=this.b=null}function si(le,Me,_e,je){var at=new Da(le,Me);return Wn.push(at),_e&&Lo(at,le,Me,_e),je&&Lo(at,Me,le,je),oa[le.i].edges.push(new xo(at,le,Me)),oa[Me.i].edges.push(new xo(at,Me,le)),at}function ii(le,Me,_e){var je=new Da(le,null);return je.a=Me,je.b=_e,Wn.push(je),je}function Lo(le,Me,_e,je){!le.a&&!le.b?(le.a=je,le.l=Me,le.r=_e):le.l===_e?le.b=je:le.a=je}function xo(le,Me,_e){var je=le.a,at=le.b;this.edge=le,this.site=Me,this.angle=_e?Math.atan2(_e.y-Me.y,_e.x-Me.x):le.l===Me?Math.atan2(at.x-je.x,je.y-at.y):Math.atan2(je.x-at.x,at.y-je.y)}xo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Gs(){this._=null}function co(le){le.U=le.C=le.L=le.R=le.P=le.N=null}Gs.prototype={insert:function(le,Me){var _e,je,at;if(le){if(Me.P=le,Me.N=le.N,le.N&&(le.N.P=Me),le.N=Me,le.R){for(le=le.R;le.L;)le=le.L;le.L=Me}else le.R=Me;_e=le}else this._?(le=ai(this._),Me.P=null,Me.N=le,le.P=le.L=Me,_e=le):(Me.P=Me.N=null,this._=Me,_e=null);for(Me.L=Me.R=null,Me.U=_e,Me.C=!0,le=Me;_e&&_e.C;)je=_e.U,_e===je.L?(at=je.R,at&&at.C?(_e.C=at.C=!1,je.C=!0,le=je):(le===_e.R&&(au(this,_e),le=_e,_e=le.U),_e.C=!1,je.C=!0,Ll(this,je))):(at=je.L,at&&at.C?(_e.C=at.C=!1,je.C=!0,le=je):(le===_e.L&&(Ll(this,_e),le=_e,_e=le.U),_e.C=!1,je.C=!0,au(this,je))),_e=le.U;this._.C=!1},remove:function(le){le.N&&(le.N.P=le.P),le.P&&(le.P.N=le.N),le.N=le.P=null;var Me=le.U,_e,je=le.L,at=le.R,ft,_t;if(je?at?ft=ai(at):ft=je:ft=at,Me?Me.L===le?Me.L=ft:Me.R=ft:this._=ft,je&&at?(_t=ft.C,ft.C=le.C,ft.L=je,je.U=ft,ft!==at?(Me=ft.U,ft.U=le.U,le=ft.R,Me.L=le,ft.R=at,at.U=ft):(ft.U=Me,Me=ft,le=ft.R)):(_t=le.C,le=ft),le&&(le.U=Me),!_t){if(le&&le.C){le.C=!1;return}do{if(le===this._)break;if(le===Me.L){if(_e=Me.R,_e.C&&(_e.C=!1,Me.C=!0,au(this,Me),_e=Me.R),_e.L&&_e.L.C||_e.R&&_e.R.C){(!_e.R||!_e.R.C)&&(_e.L.C=!1,_e.C=!0,Ll(this,_e),_e=Me.R),_e.C=Me.C,Me.C=_e.R.C=!1,au(this,Me),le=this._;break}}else if(_e=Me.L,_e.C&&(_e.C=!1,Me.C=!0,Ll(this,Me),_e=Me.L),_e.L&&_e.L.C||_e.R&&_e.R.C){(!_e.L||!_e.L.C)&&(_e.R.C=!1,_e.C=!0,au(this,_e),_e=Me.L),_e.C=Me.C,Me.C=_e.L.C=!1,Ll(this,Me),le=this._;break}_e.C=!0,le=Me,Me=Me.U}while(!le.C);le&&(le.C=!1)}}};function au(le,Me){var _e=Me,je=Me.R,at=_e.U;at?at.L===_e?at.L=je:at.R=je:le._=je,je.U=at,_e.U=je,_e.R=je.L,_e.R&&(_e.R.U=_e),je.L=_e}function Ll(le,Me){var _e=Me,je=Me.L,at=_e.U;at?at.L===_e?at.L=je:at.R=je:le._=je,je.U=at,_e.U=je,_e.L=je.R,_e.L&&(_e.L.U=_e),je.R=_e}function ai(le){for(;le.L;)le=le.L;return le}function sl(le,Me){var _e=le.sort(vf).pop(),je,at,ft;for(Wn=[],oa=new Array(le.length),Ra=new Gs,Tr=new Gs;;)if(ft=Ir,_e&&(!ft||_e.y<ft.y||_e.y===ft.y&&_e.x<ft.x))(_e.x!==je||_e.y!==at)&&(oa[_e.i]=new Qr(_e),Mr(_e),je=_e.x,at=_e.y),_e=le.pop();else if(ft)ln(ft.arc);else break;Me&&(ca(Me),wn(Me));var _t={cells:oa,edges:Wn};return Ra=Tr=Wn=oa=null,_t}function vf(le,Me){return Me.y-le.y||Me.x-le.x}i.geom.voronoi=function(le){var Me=pr,_e=Jr,je=Me,at=_e,ft=Oi;if(le)return _t(le);function _t(Ht){var Qt=new Array(Ht.length),$t=ft[0][0],Sr=ft[0][1],Er=ft[1][0],qr=ft[1][1];return sl(At(Ht),ft).cells.forEach(function(fn,Pr){var zr=fn.edges,Kr=fn.site,an=Qt[Pr]=zr.length?zr.map(function(nn){var Zr=nn.start();return[Zr.x,Zr.y]}):Kr.x>=$t&&Kr.x<=Er&&Kr.y>=Sr&&Kr.y<=qr?[[$t,qr],[Er,qr],[Er,Sr],[$t,Sr]]:[];an.point=Ht[Pr]}),Qt}function At(Ht){return Ht.map(function(Qt,$t){return{x:Math.round(je(Qt,$t)/ze)*ze,y:Math.round(at(Qt,$t)/ze)*ze,i:$t}})}return _t.links=function(Ht){return sl(At(Ht)).edges.filter(function(Qt){return Qt.l&&Qt.r}).map(function(Qt){return{source:Ht[Qt.l.i],target:Ht[Qt.r.i]}})},_t.triangles=function(Ht){var Qt=[];return sl(At(Ht)).cells.forEach(function($t,Sr){for(var Er=$t.site,qr=$t.edges.sort(En),fn=-1,Pr=qr.length,zr,Kr,an=qr[Pr-1].edge,nn=an.l===Er?an.r:an.l;++fn<Pr;)zr=an,Kr=nn,an=qr[fn].edge,nn=an.l===Er?an.r:an.l,Sr<Kr.i&&Sr<nn.i&&bo(Er,Kr,nn)<0&&Qt.push([Ht[Sr],Ht[Kr.i],Ht[nn.i]])}),Qt},_t.x=function(Ht){return arguments.length?(je=fr(Me=Ht),_t):Me},_t.y=function(Ht){return arguments.length?(at=fr(_e=Ht),_t):_e},_t.clipExtent=function(Ht){return arguments.length?(ft=Ht==null?Oi:Ht,_t):ft===Oi?null:ft},_t.size=function(Ht){return arguments.length?_t.clipExtent(Ht&&[[0,0],Ht]):ft===Oi?null:ft&&ft[1]},_t};var Oi=[[-1e6,-1e6],[1e6,1e6]];function bo(le,Me,_e){return(le.x-_e.x)*(Me.y-le.y)-(le.x-Me.x)*(_e.y-le.y)}i.geom.delaunay=function(le){return i.geom.voronoi().triangles(le)},i.geom.quadtree=function(le,Me,_e,je,at){var ft=pr,_t=Jr,At;if(At=arguments.length)return ft=Qf,_t=Uu,At===3&&(at=_e,je=Me,_e=Me=0),Ht(le);function Ht(Qt){var $t,Sr=fr(ft),Er=fr(_t),qr,fn,Pr,zr,Kr,an,nn,Zr;if(Me!=null)Kr=Me,an=_e,nn=je,Zr=at;else if(nn=Zr=-(Kr=an=1/0),qr=[],fn=[],zr=Qt.length,At)for(Pr=0;Pr<zr;++Pr)$t=Qt[Pr],$t.x<Kr&&(Kr=$t.x),$t.y<an&&(an=$t.y),$t.x>nn&&(nn=$t.x),$t.y>Zr&&(Zr=$t.y),qr.push($t.x),fn.push($t.y);else for(Pr=0;Pr<zr;++Pr){var Nn=+Sr($t=Qt[Pr],Pr),$n=+Er($t,Pr);Nn<Kr&&(Kr=Nn),$n<an&&(an=$n),Nn>nn&&(nn=Nn),$n>Zr&&(Zr=$n),qr.push(Nn),fn.push($n)}var ia=nn-Kr,na=Zr-an;ia>na?Zr=an+ia:nn=Kr+na;function wa(Ma,pa,ja,Mi,Va,Qn,za,Ua){if(!(isNaN(ja)||isNaN(Mi)))if(Ma.leaf){var Ha=Ma.x,gi=Ma.y;if(Ha!=null)if(v(Ha-ja)+v(gi-Mi)<.01)ma(Ma,pa,ja,Mi,Va,Qn,za,Ua);else{var qn=Ma.point;Ma.x=Ma.y=Ma.point=null,ma(Ma,qn,Ha,gi,Va,Qn,za,Ua),ma(Ma,pa,ja,Mi,Va,Qn,za,Ua)}else Ma.x=ja,Ma.y=Mi,Ma.point=pa}else ma(Ma,pa,ja,Mi,Va,Qn,za,Ua)}function ma(Ma,pa,ja,Mi,Va,Qn,za,Ua){var Ha=(Va+za)*.5,gi=(Qn+Ua)*.5,qn=ja>=Ha,Ta=Mi>=gi,Di=Ta<<1|qn;Ma.leaf=!1,Ma=Ma.nodes[Di]||(Ma.nodes[Di]=Bi()),qn?Va=Ha:za=Ha,Ta?Qn=gi:Ua=gi,wa(Ma,pa,ja,Mi,Va,Qn,za,Ua)}var Pa=Bi();if(Pa.add=function(Ma){wa(Pa,Ma,+Sr(Ma,++Pr),+Er(Ma,Pr),Kr,an,nn,Zr)},Pa.visit=function(Ma){As(Ma,Pa,Kr,an,nn,Zr)},Pa.find=function(Ma){return No(Pa,Ma[0],Ma[1],Kr,an,nn,Zr)},Pr=-1,Me==null){for(;++Pr<zr;)wa(Pa,Qt[Pr],qr[Pr],fn[Pr],Kr,an,nn,Zr);--Pr}else Qt.forEach(Pa.add);return qr=fn=Qt=$t=null,Pa}return Ht.x=function(Qt){return arguments.length?(ft=Qt,Ht):ft},Ht.y=function(Qt){return arguments.length?(_t=Qt,Ht):_t},Ht.extent=function(Qt){return arguments.length?(Qt==null?Me=_e=je=at=null:(Me=+Qt[0][0],_e=+Qt[0][1],je=+Qt[1][0],at=+Qt[1][1]),Ht):Me==null?null:[[Me,_e],[je,at]]},Ht.size=function(Qt){return arguments.length?(Qt==null?Me=_e=je=at=null:(Me=_e=0,je=+Qt[0],at=+Qt[1]),Ht):Me==null?null:[je-Me,at-_e]},Ht};function Qf(le){return le.x}function Uu(le){return le.y}function Bi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function As(le,Me,_e,je,at,ft){if(!le(Me,_e,je,at,ft)){var _t=(_e+at)*.5,At=(je+ft)*.5,Ht=Me.nodes;Ht[0]&&As(le,Ht[0],_e,je,_t,At),Ht[1]&&As(le,Ht[1],_t,je,at,At),Ht[2]&&As(le,Ht[2],_e,At,_t,ft),Ht[3]&&As(le,Ht[3],_t,At,at,ft)}}function No(le,Me,_e,je,at,ft,_t){var At=1/0,Ht;return function Qt($t,Sr,Er,qr,fn){if(!(Sr>ft||Er>_t||qr<je||fn<at)){if(Pr=$t.point){var Pr,zr=Me-$t.x,Kr=_e-$t.y,an=zr*zr+Kr*Kr;if(an<At){var nn=Math.sqrt(At=an);je=Me-nn,at=_e-nn,ft=Me+nn,_t=_e+nn,Ht=Pr}}for(var Zr=$t.nodes,Nn=(Sr+qr)*.5,$n=(Er+fn)*.5,ia=Me>=Nn,na=_e>=$n,wa=na<<1|ia,ma=wa+4;wa<ma;++wa)if($t=Zr[wa&3])switch(wa&3){case 0:Qt($t,Sr,Er,Nn,$n);break;case 1:Qt($t,Nn,Er,qr,$n);break;case 2:Qt($t,Sr,$n,Nn,fn);break;case 3:Qt($t,Nn,$n,qr,fn);break}}}(le,je,at,ft,_t),Ht}i.interpolateRgb=Fi;function Fi(le,Me){le=i.rgb(le),Me=i.rgb(Me);var _e=le.r,je=le.g,at=le.b,ft=Me.r-_e,_t=Me.g-je,At=Me.b-at;return function(Ht){return"#"+$r(Math.round(_e+ft*Ht))+$r(Math.round(je+_t*Ht))+$r(Math.round(at+At*Ht))}}i.interpolateObject=Vu;function Vu(le,Me){var _e={},je={},at;for(at in le)at in Me?_e[at]=Ki(le[at],Me[at]):je[at]=le[at];for(at in Me)at in le||(je[at]=Me[at]);return function(ft){for(at in _e)je[at]=_e[at](ft);return je}}i.interpolateNumber=Ci;function Ci(le,Me){return le=+le,Me=+Me,function(_e){return le*(1-_e)+Me*_e}}i.interpolateString=is;function is(le,Me){var _e=Po.lastIndex=iu.lastIndex=0,je,at,ft,_t=-1,At=[],Ht=[];for(le=le+"",Me=Me+"";(je=Po.exec(le))&&(at=iu.exec(Me));)(ft=at.index)>_e&&(ft=Me.slice(_e,ft),At[_t]?At[_t]+=ft:At[++_t]=ft),(je=je[0])===(at=at[0])?At[_t]?At[_t]+=at:At[++_t]=at:(At[++_t]=null,Ht.push({i:_t,x:Ci(je,at)})),_e=iu.lastIndex;return _e<Me.length&&(ft=Me.slice(_e),At[_t]?At[_t]+=ft:At[++_t]=ft),At.length<2?Ht[0]?(Me=Ht[0].x,function(Qt){return Me(Qt)+""}):function(){return Me}:(Me=Ht.length,function(Qt){for(var $t=0,Sr;$t<Me;++$t)At[(Sr=Ht[$t]).i]=Sr.x(Qt);return At.join("")})}var Po=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iu=new RegExp(Po.source,"g");i.interpolate=Ki;function Ki(le,Me){for(var _e=i.interpolators.length,je;--_e>=0&&!(je=i.interpolators[_e](le,Me)););return je}i.interpolators=[function(le,Me){var _e=typeof Me;return(_e==="string"?xn.has(Me.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Me)?Fi:is:Me instanceof Mt?Fi:Array.isArray(Me)?Pl:_e==="object"&&isNaN(Me)?Vu:Ci)(le,Me)}],i.interpolateArray=Pl;function Pl(le,Me){var _e=[],je=[],at=le.length,ft=Me.length,_t=Math.min(le.length,Me.length),At;for(At=0;At<_t;++At)_e.push(Ki(le[At],Me[At]));for(;At<at;++At)je[At]=le[At];for(;At<ft;++At)je[At]=Me[At];return function(Ht){for(At=0;At<_t;++At)je[At]=_e[At](Ht);return je}}var Ms=function(){return _},Wi=i.map({linear:Ms,poly:qc,quad:function(){return $c},cubic:function(){return $f},sin:function(){return eh},exp:function(){return th},circle:function(){return df},elastic:rh,back:nh,bounce:function(){return qf}}),Qc=i.map({in:_,out:Es,"in-out":Rl,"out-in":function(le){return Rl(Es(le))}});i.ease=function(le){var Me=le.indexOf("-"),_e=Me>=0?le.slice(0,Me):le,je=Me>=0?le.slice(Me+1):"in";return _e=Wi.get(_e)||Ms,je=Qc.get(je)||_,Ss(je(_e.apply(null,L.call(arguments,1))))};function Ss(le){return function(Me){return Me<=0?0:Me>=1?1:le(Me)}}function Es(le){return function(Me){return 1-le(1-Me)}}function Rl(le){return function(Me){return .5*(Me<.5?le(2*Me):2-le(2-2*Me))}}function $c(le){return le*le}function $f(le){return le*le*le}function Hu(le){if(le<=0)return 0;if(le>=1)return 1;var Me=le*le,_e=Me*le;return 4*(le<.5?_e:3*(le-Me)+_e-.75)}function qc(le){return function(Me){return Math.pow(Me,le)}}function eh(le){return 1-Math.cos(le*Se)}function th(le){return Math.pow(2,10*(le-1))}function df(le){return 1-Math.sqrt(1-le*le)}function rh(le,Me){var _e;return arguments.length<2&&(Me=.45),arguments.length?_e=Me/Te*Math.asin(1/le):(le=1,_e=Me/4),function(je){return 1+le*Math.pow(2,-10*je)*Math.sin((je-_e)*Te/Me)}}function nh(le){return le||(le=1.70158),function(Me){return Me*Me*((le+1)*Me-le)}}function qf(le){return le<.36363636363636365?7.5625*le*le:le<.7272727272727273?7.5625*(le-=.5454545454545454)*le+.75:le<.9090909090909091?7.5625*(le-=.8181818181818182)*le+.9375:7.5625*(le-=.9545454545454546)*le+.984375}i.interpolateHcl=ah;function ah(le,Me){le=i.hcl(le),Me=i.hcl(Me);var _e=le.h,je=le.c,at=le.l,ft=Me.h-_e,_t=Me.c-je,At=Me.l-at;return isNaN(_t)&&(_t=0,je=isNaN(je)?Me.c:je),isNaN(ft)?(ft=0,_e=isNaN(_e)?Me.h:_e):ft>180?ft-=360:ft<-180&&(ft+=360),function(Ht){return ir(_e+ft*Ht,je+_t*Ht,at+At*Ht)+""}}i.interpolateHsl=ih;function ih(le,Me){le=i.hsl(le),Me=i.hsl(Me);var _e=le.h,je=le.s,at=le.l,ft=Me.h-_e,_t=Me.s-je,At=Me.l-at;return isNaN(_t)&&(_t=0,je=isNaN(je)?Me.s:je),isNaN(ft)?(ft=0,_e=isNaN(_e)?Me.h:_e):ft>180?ft-=360:ft<-180&&(ft+=360),function(Ht){return Ct(_e+ft*Ht,je+_t*Ht,at+At*Ht)+""}}i.interpolateLab=ll;function ll(le,Me){le=i.lab(le),Me=i.lab(Me);var _e=le.l,je=le.a,at=le.b,ft=Me.l-_e,_t=Me.a-je,At=Me.b-at;return function(Ht){return Zt(_e+ft*Ht,je+_t*Ht,at+At*Ht)+""}}i.interpolateRound=ou;function ou(le,Me){return Me-=le,function(_e){return Math.round(le+Me*_e)}}i.transform=function(le){var Me=c.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(_e){if(_e!=null){Me.setAttribute("transform",_e);var je=Me.transform.baseVal.consolidate()}return new ul(je?je.matrix:ec)})(le)};function ul(le){var Me=[le.a,le.b],_e=[le.c,le.d],je=pf(Me),at=su(Me,_e),ft=pf(gf(_e,Me,-at))||0;Me[0]*_e[1]<_e[0]*Me[1]&&(Me[0]*=-1,Me[1]*=-1,je*=-1,at*=-1),this.rotate=(je?Math.atan2(Me[1],Me[0]):Math.atan2(-_e[0],_e[1]))*rt,this.translate=[le.e,le.f],this.scale=[je,ft],this.skew=ft?Math.atan2(at,ft)*rt:0}ul.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function su(le,Me){return le[0]*Me[0]+le[1]*Me[1]}function pf(le){var Me=Math.sqrt(su(le,le));return Me&&(le[0]/=Me,le[1]/=Me),Me}function gf(le,Me,_e){return le[0]+=_e*Me[0],le[1]+=_e*Me[1],le}var ec={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=os;function Cs(le){return le.length?le.pop()+",":""}function oh(le,Me,_e,je){if(le[0]!==Me[0]||le[1]!==Me[1]){var at=_e.push("translate(",null,",",null,")");je.push({i:at-4,x:Ci(le[0],Me[0])},{i:at-2,x:Ci(le[1],Me[1])})}else(Me[0]||Me[1])&&_e.push("translate("+Me+")")}function tc(le,Me,_e,je){le!==Me?(le-Me>180?Me+=360:Me-le>180&&(le+=360),je.push({i:_e.push(Cs(_e)+"rotate(",null,")")-2,x:Ci(le,Me)})):Me&&_e.push(Cs(_e)+"rotate("+Me+")")}function Mo(le,Me,_e,je){le!==Me?je.push({i:_e.push(Cs(_e)+"skewX(",null,")")-2,x:Ci(le,Me)}):Me&&_e.push(Cs(_e)+"skewX("+Me+")")}function Gu(le,Me,_e,je){if(le[0]!==Me[0]||le[1]!==Me[1]){var at=_e.push(Cs(_e)+"scale(",null,",",null,")");je.push({i:at-4,x:Ci(le[0],Me[0])},{i:at-2,x:Ci(le[1],Me[1])})}else(Me[0]!==1||Me[1]!==1)&&_e.push(Cs(_e)+"scale("+Me+")")}function os(le,Me){var _e=[],je=[];return le=i.transform(le),Me=i.transform(Me),oh(le.translate,Me.translate,_e,je),tc(le.rotate,Me.rotate,_e,je),Mo(le.skew,Me.skew,_e,je),Gu(le.scale,Me.scale,_e,je),le=Me=null,function(at){for(var ft=-1,_t=je.length,At;++ft<_t;)_e[(At=je[ft]).i]=At.x(at);return _e.join("")}}function Wu(le,Me){return Me=(Me-=le=+le)||1/Me,function(_e){return(_e-le)/Me}}function Ws(le,Me){return Me=(Me-=le=+le)||1/Me,function(_e){return Math.max(0,Math.min(1,(_e-le)/Me))}}i.layout={},i.layout.bundle=function(){return function(le){for(var Me=[],_e=-1,je=le.length;++_e<je;)Me.push(Ys(le[_e]));return Me}};function Ys(le){for(var Me=le.source,_e=le.target,je=Yu(Me,_e),at=[Me];Me!==je;)Me=Me.parent,at.push(Me);for(var ft=at.length;_e!==je;)at.splice(ft,0,_e),_e=_e.parent;return at}function Dl(le){for(var Me=[],_e=le.parent;_e!=null;)Me.push(le),le=_e,_e=_e.parent;return Me.push(le),Me}function Yu(le,Me){if(le===Me)return le;for(var _e=Dl(le),je=Dl(Me),at=_e.pop(),ft=je.pop(),_t=null;at===ft;)_t=at,at=_e.pop(),ft=je.pop();return _t}i.layout.chord=function(){var le={},Me,_e,je,at,ft=0,_t,At,Ht;function Qt(){var Sr={},Er=[],qr=i.range(at),fn=[],Pr,zr,Kr,an,nn;for(Me=[],_e=[],Pr=0,an=-1;++an<at;){for(zr=0,nn=-1;++nn<at;)zr+=je[an][nn];Er.push(zr),fn.push(i.range(at)),Pr+=zr}for(_t&&qr.sort(function(Pa,Ma){return _t(Er[Pa],Er[Ma])}),At&&fn.forEach(function(Pa,Ma){Pa.sort(function(pa,ja){return At(je[Ma][pa],je[Ma][ja])})}),Pr=(Te-ft*at)/Pr,zr=0,an=-1;++an<at;){for(Kr=zr,nn=-1;++nn<at;){var Zr=qr[an],Nn=fn[Zr][nn],$n=je[Zr][Nn],ia=zr,na=zr+=$n*Pr;Sr[Zr+"-"+Nn]={index:Zr,subindex:Nn,startAngle:ia,endAngle:na,value:$n}}_e[Zr]={index:Zr,startAngle:Kr,endAngle:zr,value:Er[Zr]},zr+=ft}for(an=-1;++an<at;)for(nn=an-1;++nn<at;){var wa=Sr[an+"-"+nn],ma=Sr[nn+"-"+an];(wa.value||ma.value)&&Me.push(wa.value<ma.value?{source:ma,target:wa}:{source:wa,target:ma})}Ht&&$t()}function $t(){Me.sort(function(Sr,Er){return Ht((Sr.source.value+Sr.target.value)/2,(Er.source.value+Er.target.value)/2)})}return le.matrix=function(Sr){return arguments.length?(at=(je=Sr)&&je.length,Me=_e=null,le):je},le.padding=function(Sr){return arguments.length?(ft=Sr,Me=_e=null,le):ft},le.sortGroups=function(Sr){return arguments.length?(_t=Sr,Me=_e=null,le):_t},le.sortSubgroups=function(Sr){return arguments.length?(At=Sr,Me=null,le):At},le.sortChords=function(Sr){return arguments.length?(Ht=Sr,Me&&$t(),le):Ht},le.chords=function(){return Me||Qt(),Me},le.groups=function(){return _e||Qt(),_e},le},i.layout.force=function(){var le={},Me=i.dispatch("start","tick","end"),_e,je=[1,1],at,ft,_t=.9,At=rc,Ht=nc,Qt=-30,$t=ac,Sr=.1,Er=.64,qr=[],fn=[],Pr,zr,Kr;function an(Zr){return function(Nn,$n,ia,na){if(Nn.point!==Zr){var wa=Nn.cx-Zr.x,ma=Nn.cy-Zr.y,Pa=na-$n,Ma=wa*wa+ma*ma;if(Pa*Pa/Er<Ma){if(Ma<$t){var pa=Nn.charge/Ma;Zr.px-=wa*pa,Zr.py-=ma*pa}return!0}if(Nn.point&&Ma&&Ma<$t){var pa=Nn.pointCharge/Ma;Zr.px-=wa*pa,Zr.py-=ma*pa}}return!Nn.charge}}le.tick=function(){if((ft*=.99)<.005)return _e=null,Me.end({type:"end",alpha:ft=0}),!0;var Zr=qr.length,Nn=fn.length,$n,ia,na,wa,ma,Pa,Ma,pa,ja;for(ia=0;ia<Nn;++ia)na=fn[ia],wa=na.source,ma=na.target,pa=ma.x-wa.x,ja=ma.y-wa.y,(Pa=pa*pa+ja*ja)&&(Pa=ft*zr[ia]*((Pa=Math.sqrt(Pa))-Pr[ia])/Pa,pa*=Pa,ja*=Pa,ma.x-=pa*(Ma=wa.weight+ma.weight?wa.weight/(wa.weight+ma.weight):.5),ma.y-=ja*Ma,wa.x+=pa*(Ma=1-Ma),wa.y+=ja*Ma);if((Ma=ft*Sr)&&(pa=je[0]/2,ja=je[1]/2,ia=-1,Ma))for(;++ia<Zr;)na=qr[ia],na.x+=(pa-na.x)*Ma,na.y+=(ja-na.y)*Ma;if(Qt)for(lu($n=i.geom.quadtree(qr),ft,Kr),ia=-1;++ia<Zr;)(na=qr[ia]).fixed||$n.visit(an(na));for(ia=-1;++ia<Zr;)na=qr[ia],na.fixed?(na.x=na.px,na.y=na.py):(na.x-=(na.px-(na.px=na.x))*_t,na.y-=(na.py-(na.py=na.y))*_t);Me.tick({type:"tick",alpha:ft})},le.nodes=function(Zr){return arguments.length?(qr=Zr,le):qr},le.links=function(Zr){return arguments.length?(fn=Zr,le):fn},le.size=function(Zr){return arguments.length?(je=Zr,le):je},le.linkDistance=function(Zr){return arguments.length?(At=typeof Zr=="function"?Zr:+Zr,le):At},le.distance=le.linkDistance,le.linkStrength=function(Zr){return arguments.length?(Ht=typeof Zr=="function"?Zr:+Zr,le):Ht},le.friction=function(Zr){return arguments.length?(_t=+Zr,le):_t},le.charge=function(Zr){return arguments.length?(Qt=typeof Zr=="function"?Zr:+Zr,le):Qt},le.chargeDistance=function(Zr){return arguments.length?($t=Zr*Zr,le):Math.sqrt($t)},le.gravity=function(Zr){return arguments.length?(Sr=+Zr,le):Sr},le.theta=function(Zr){return arguments.length?(Er=Zr*Zr,le):Math.sqrt(Er)},le.alpha=function(Zr){return arguments.length?(Zr=+Zr,ft?Zr>0?ft=Zr:(_e.c=null,_e.t=NaN,_e=null,Me.end({type:"end",alpha:ft=0})):Zr>0&&(Me.start({type:"start",alpha:ft=Zr}),_e=Un(le.tick)),le):ft},le.start=function(){var Zr,Nn=qr.length,$n=fn.length,ia=je[0],na=je[1],wa,ma;for(Zr=0;Zr<Nn;++Zr)(ma=qr[Zr]).index=Zr,ma.weight=0;for(Zr=0;Zr<$n;++Zr)ma=fn[Zr],typeof ma.source=="number"&&(ma.source=qr[ma.source]),typeof ma.target=="number"&&(ma.target=qr[ma.target]),++ma.source.weight,++ma.target.weight;for(Zr=0;Zr<Nn;++Zr)ma=qr[Zr],isNaN(ma.x)&&(ma.x=Pa("x",ia)),isNaN(ma.y)&&(ma.y=Pa("y",na)),isNaN(ma.px)&&(ma.px=ma.x),isNaN(ma.py)&&(ma.py=ma.y);if(Pr=[],typeof At=="function")for(Zr=0;Zr<$n;++Zr)Pr[Zr]=+At.call(this,fn[Zr],Zr);else for(Zr=0;Zr<$n;++Zr)Pr[Zr]=At;if(zr=[],typeof Ht=="function")for(Zr=0;Zr<$n;++Zr)zr[Zr]=+Ht.call(this,fn[Zr],Zr);else for(Zr=0;Zr<$n;++Zr)zr[Zr]=Ht;if(Kr=[],typeof Qt=="function")for(Zr=0;Zr<Nn;++Zr)Kr[Zr]=+Qt.call(this,qr[Zr],Zr);else for(Zr=0;Zr<Nn;++Zr)Kr[Zr]=Qt;function Pa(Ma,pa){if(!wa){for(wa=new Array(Nn),Va=0;Va<Nn;++Va)wa[Va]=[];for(Va=0;Va<$n;++Va){var ja=fn[Va];wa[ja.source.index].push(ja.target),wa[ja.target.index].push(ja.source)}}for(var Mi=wa[Zr],Va=-1,Qn=Mi.length,za;++Va<Qn;)if(!isNaN(za=Mi[Va][Ma]))return za;return Math.random()*pa}return le.resume()},le.resume=function(){return le.alpha(.1)},le.stop=function(){return le.alpha(0)},le.drag=function(){if(at||(at=i.behavior.drag().origin(_).on("dragstart.force",Uo).on("drag.force",nn).on("dragend.force",_i)),!arguments.length)return at;this.on("mouseover.force",yf).on("mouseout.force",mf).call(at)};function nn(Zr){Zr.px=i.event.x,Zr.py=i.event.y,le.resume()}return i.rebind(le,Me,"on")};function Uo(le){le.fixed|=2}function _i(le){le.fixed&=-7}function yf(le){le.fixed|=4,le.px=le.x,le.py=le.y}function mf(le){le.fixed&=-5}function lu(le,Me,_e){var je=0,at=0;if(le.charge=0,!le.leaf)for(var ft=le.nodes,_t=ft.length,At=-1,Ht;++At<_t;)Ht=ft[At],Ht!=null&&(lu(Ht,Me,_e),le.charge+=Ht.charge,je+=Ht.charge*Ht.cx,at+=Ht.charge*Ht.cy);if(le.point){le.leaf||(le.point.x+=Math.random()-.5,le.point.y+=Math.random()-.5);var Qt=Me*_e[le.point.index];le.charge+=le.pointCharge=Qt,je+=Qt*le.point.x,at+=Qt*le.point.y}le.cx=je/le.charge,le.cy=at/le.charge}var rc=20,nc=1,ac=1/0;i.layout.hierarchy=function(){var le=lh,Me=xf,_e=sh;function je(at){var ft=[at],_t=[],At;for(at.depth=0;(At=ft.pop())!=null;)if(_t.push(At),(Qt=Me.call(je,At,At.depth))&&(Ht=Qt.length)){for(var Ht,Qt,$t;--Ht>=0;)ft.push($t=Qt[Ht]),$t.parent=At,$t.depth=At.depth+1;_e&&(At.value=0),At.children=Qt}else _e&&(At.value=+_e.call(je,At,At.depth)||0),delete At.children;return Vo(at,function(Sr){var Er,qr;le&&(Er=Sr.children)&&Er.sort(le),_e&&(qr=Sr.parent)&&(qr.value+=Sr.value)}),_t}return je.sort=function(at){return arguments.length?(le=at,je):le},je.children=function(at){return arguments.length?(Me=at,je):Me},je.value=function(at){return arguments.length?(_e=at,je):_e},je.revalue=function(at){return _e&&(Ro(at,function(ft){ft.children&&(ft.value=0)}),Vo(at,function(ft){var _t;ft.children||(ft.value=+_e.call(je,ft,ft.depth)||0),(_t=ft.parent)&&(_t.value+=ft.value)})),at},je};function Ls(le,Me){return i.rebind(le,Me,"sort","children","value"),le.nodes=le,le.links=uu,le}function Ro(le,Me){for(var _e=[le];(le=_e.pop())!=null;)if(Me(le),(at=le.children)&&(je=at.length))for(var je,at;--je>=0;)_e.push(at[je])}function Vo(le,Me){for(var _e=[le],je=[];(le=_e.pop())!=null;)if(je.push(le),(_t=le.children)&&(ft=_t.length))for(var at=-1,ft,_t;++at<ft;)_e.push(_t[at]);for(;(le=je.pop())!=null;)Me(le)}function xf(le){return le.children}function sh(le){return le.value}function lh(le,Me){return Me.value-le.value}function uu(le){return i.merge(le.map(function(Me){return(Me.children||[]).map(function(_e){return{source:Me,target:_e}})}))}i.layout.partition=function(){var le=i.layout.hierarchy(),Me=[1,1];function _e(ft,_t,At,Ht){var Qt=ft.children;if(ft.x=_t,ft.y=ft.depth*Ht,ft.dx=At,ft.dy=Ht,Qt&&(Sr=Qt.length)){var $t=-1,Sr,Er,qr;for(At=ft.value?At/ft.value:0;++$t<Sr;)_e(Er=Qt[$t],_t,qr=Er.value*At,Ht),_t+=qr}}function je(ft){var _t=ft.children,At=0;if(_t&&(Qt=_t.length))for(var Ht=-1,Qt;++Ht<Qt;)At=Math.max(At,je(_t[Ht]));return 1+At}function at(ft,_t){var At=le.call(this,ft,_t);return _e(At[0],0,Me[0],Me[1]/je(At[0])),At}return at.size=function(ft){return arguments.length?(Me=ft,at):Me},Ls(at,le)},i.layout.pie=function(){var le=Number,Me=Xu,_e=0,je=Te,at=0;function ft(_t){var At=_t.length,Ht=_t.map(function(an,nn){return+le.call(ft,an,nn)}),Qt=+(typeof _e=="function"?_e.apply(this,arguments):_e),$t=(typeof je=="function"?je.apply(this,arguments):je)-Qt,Sr=Math.min(Math.abs($t)/At,+(typeof at=="function"?at.apply(this,arguments):at)),Er=Sr*($t<0?-1:1),qr=i.sum(Ht),fn=qr?($t-At*Er)/qr:0,Pr=i.range(At),zr=[],Kr;return Me!=null&&Pr.sort(Me===Xu?function(an,nn){return Ht[nn]-Ht[an]}:function(an,nn){return Me(_t[an],_t[nn])}),Pr.forEach(function(an){zr[an]={data:_t[an],value:Kr=Ht[an],startAngle:Qt,endAngle:Qt+=Kr*fn+Er,padAngle:Sr}}),zr}return ft.value=function(_t){return arguments.length?(le=_t,ft):le},ft.sort=function(_t){return arguments.length?(Me=_t,ft):Me},ft.startAngle=function(_t){return arguments.length?(_e=_t,ft):_e},ft.endAngle=function(_t){return arguments.length?(je=_t,ft):je},ft.padAngle=function(_t){return arguments.length?(at=_t,ft):at},ft};var Xu={};i.layout.stack=function(){var le=_,Me=kl,_e=fl,je=wf,at=bf,ft=Il;function _t(At,Ht){if(!(fn=At.length))return At;var Qt=At.map(function(an,nn){return le.call(_t,an,nn)}),$t=Qt.map(function(an){return an.map(function(nn,Zr){return[at.call(_t,nn,Zr),ft.call(_t,nn,Zr)]})}),Sr=Me.call(_t,$t,Ht);Qt=i.permute(Qt,Sr),$t=i.permute($t,Sr);var Er=_e.call(_t,$t,Ht),qr=Qt[0].length,fn,Pr,zr,Kr;for(zr=0;zr<qr;++zr)for(je.call(_t,Qt[0][zr],Kr=Er[zr],$t[0][zr][1]),Pr=1;Pr<fn;++Pr)je.call(_t,Qt[Pr][zr],Kr+=$t[Pr-1][zr][1],$t[Pr][zr][1]);return At}return _t.values=function(At){return arguments.length?(le=At,_t):le},_t.order=function(At){return arguments.length?(Me=typeof At=="function"?At:Tf.get(At)||kl,_t):Me},_t.offset=function(At){return arguments.length?(_e=typeof At=="function"?At:xi.get(At)||fl,_t):_e},_t.x=function(At){return arguments.length?(at=At,_t):at},_t.y=function(At){return arguments.length?(ft=At,_t):ft},_t.out=function(At){return arguments.length?(je=At,_t):je},_t};function bf(le){return le.x}function Il(le){return le.y}function wf(le,Me,_e){le.y0=Me,le.y=_e}var Tf=i.map({"inside-out":function(le){var Me=le.length,_e,je,at=le.map(Ps),ft=le.map(ic),_t=i.range(Me).sort(function(Sr,Er){return at[Sr]-at[Er]}),At=0,Ht=0,Qt=[],$t=[];for(_e=0;_e<Me;++_e)je=_t[_e],At<Ht?(At+=ft[je],Qt.push(je)):(Ht+=ft[je],$t.push(je));return $t.reverse().concat(Qt)},reverse:function(le){return i.range(le.length).reverse()},default:kl}),xi=i.map({silhouette:function(le){var Me=le.length,_e=le[0].length,je=[],at=0,ft,_t,At,Ht=[];for(_t=0;_t<_e;++_t){for(ft=0,At=0;ft<Me;ft++)At+=le[ft][_t][1];At>at&&(at=At),je.push(At)}for(_t=0;_t<_e;++_t)Ht[_t]=(at-je[_t])/2;return Ht},wiggle:function(le){var Me=le.length,_e=le[0],je=_e.length,at,ft,_t,At,Ht,Qt,$t,Sr,Er,qr=[];for(qr[0]=Sr=Er=0,ft=1;ft<je;++ft){for(at=0,At=0;at<Me;++at)At+=le[at][ft][1];for(at=0,Ht=0,$t=_e[ft][0]-_e[ft-1][0];at<Me;++at){for(_t=0,Qt=(le[at][ft][1]-le[at][ft-1][1])/(2*$t);_t<at;++_t)Qt+=(le[_t][ft][1]-le[_t][ft-1][1])/$t;Ht+=Qt*le[at][ft][1]}qr[ft]=Sr-=At?Ht/At*$t:0,Sr<Er&&(Er=Sr)}for(ft=0;ft<je;++ft)qr[ft]-=Er;return qr},expand:function(le){var Me=le.length,_e=le[0].length,je=1/Me,at,ft,_t,At=[];for(ft=0;ft<_e;++ft){for(at=0,_t=0;at<Me;at++)_t+=le[at][ft][1];if(_t)for(at=0;at<Me;at++)le[at][ft][1]/=_t;else for(at=0;at<Me;at++)le[at][ft][1]=je}for(ft=0;ft<_e;++ft)At[ft]=0;return At},zero:fl});function kl(le){return i.range(le.length)}function fl(le){for(var Me=-1,_e=le[0].length,je=[];++Me<_e;)je[Me]=0;return je}function Ps(le){for(var Me=1,_e=0,je=le[0][1],at,ft=le.length;Me<ft;++Me)(at=le[Me][1])>je&&(_e=Me,je=at);return _e}function ic(le){return le.reduce(Fl,0)}function Fl(le,Me){return le+Me[1]}i.layout.histogram=function(){var le=!0,Me=Number,_e=Ji,je=_l;function at(ft,Er){for(var At=[],Ht=ft.map(Me,this),Qt=_e.call(this,Ht,Er),$t=je.call(this,Qt,Ht,Er),Sr,Er=-1,qr=Ht.length,fn=$t.length-1,Pr=le?1:1/qr,zr;++Er<fn;)Sr=At[Er]=[],Sr.dx=$t[Er+1]-(Sr.x=$t[Er]),Sr.y=0;if(fn>0)for(Er=-1;++Er<qr;)zr=Ht[Er],zr>=Qt[0]&&zr<=Qt[1]&&(Sr=At[i.bisect($t,zr,1,fn)-1],Sr.y+=Pr,Sr.push(ft[Er]));return At}return at.value=function(ft){return arguments.length?(Me=ft,at):Me},at.range=function(ft){return arguments.length?(_e=fr(ft),at):_e},at.bins=function(ft){return arguments.length?(je=typeof ft=="number"?function(_t){return zl(_t,ft)}:fr(ft),at):je},at.frequency=function(ft){return arguments.length?(le=!!ft,at):le},at};function _l(le,Me){return zl(le,Math.ceil(Math.log(Me.length)/Math.LN2+1))}function zl(le,Me){for(var _e=-1,je=+le[0],at=(le[1]-je)/Me,ft=[];++_e<=Me;)ft[_e]=at*_e+je;return ft}function Ji(le){return[i.min(le),i.max(le)]}i.layout.pack=function(){var le=i.layout.hierarchy().sort(cl),Me=0,_e=[1,1],je;function at(ft,_t){var At=le.call(this,ft,_t),Ht=At[0],Qt=_e[0],$t=_e[1],Sr=je==null?Math.sqrt:typeof je=="function"?je:function(){return je};if(Ht.x=Ht.y=0,Vo(Ht,function(qr){qr.r=+Sr(qr.value)}),Vo(Ht,Xs),Me){var Er=Me*(je?1:Math.max(2*Ht.r/Qt,2*Ht.r/$t))/2;Vo(Ht,function(qr){qr.r+=Er}),Vo(Ht,Xs),Vo(Ht,function(qr){qr.r-=Er})}return Ds(Ht,Qt/2,$t/2,je?1:1/Math.max(2*Ht.r/Qt,2*Ht.r/$t)),At}return at.size=function(ft){return arguments.length?(_e=ft,at):_e},at.radius=function(ft){return arguments.length?(je=ft==null||typeof ft=="function"?ft:+ft,at):je},at.padding=function(ft){return arguments.length?(Me=+ft,at):Me},Ls(at,le)};function cl(le,Me){return le.value-Me.value}function Ho(le,Me){var _e=le._pack_next;le._pack_next=Me,Me._pack_prev=le,Me._pack_next=_e,_e._pack_prev=Me}function ss(le,Me){le._pack_next=Me,Me._pack_prev=le}function Rs(le,Me){var _e=Me.x-le.x,je=Me.y-le.y,at=le.r+Me.r;return .999*at*at>_e*_e+je*je}function Xs(le){if(!(Me=le.children)||!(Er=Me.length))return;var Me,_e=1/0,je=-1/0,at=1/0,ft=-1/0,_t,At,Ht,Qt,$t,Sr,Er;function qr(Zr){_e=Math.min(Zr.x-Zr.r,_e),je=Math.max(Zr.x+Zr.r,je),at=Math.min(Zr.y-Zr.r,at),ft=Math.max(Zr.y+Zr.r,ft)}if(Me.forEach(Zs),_t=Me[0],_t.x=-_t.r,_t.y=0,qr(_t),Er>1&&(At=Me[1],At.x=At.r,At.y=0,qr(At),Er>2))for(Ht=Me[2],us(_t,At,Ht),qr(Ht),Ho(_t,Ht),_t._pack_prev=Ht,Ho(Ht,At),At=_t._pack_next,Qt=3;Qt<Er;Qt++){us(_t,At,Ht=Me[Qt]);var fn=0,Pr=1,zr=1;for($t=At._pack_next;$t!==At;$t=$t._pack_next,Pr++)if(Rs($t,Ht)){fn=1;break}if(fn==1)for(Sr=_t._pack_prev;Sr!==$t._pack_prev&&!Rs(Sr,Ht);Sr=Sr._pack_prev,zr++);fn?(Pr<zr||Pr==zr&&At.r<_t.r?ss(_t,At=$t):ss(_t=Sr,At),Qt--):(Ho(_t,Ht),At=Ht,qr(Ht))}var Kr=(_e+je)/2,an=(at+ft)/2,nn=0;for(Qt=0;Qt<Er;Qt++)Ht=Me[Qt],Ht.x-=Kr,Ht.y-=an,nn=Math.max(nn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));le.r=nn,Me.forEach(ls)}function Zs(le){le._pack_next=le._pack_prev=le}function ls(le){delete le._pack_next,delete le._pack_prev}function Ds(le,Me,_e,je){var at=le.children;if(le.x=Me+=je*le.x,le.y=_e+=je*le.y,le.r*=je,at)for(var ft=-1,_t=at.length;++ft<_t;)Ds(at[ft],Me,_e,je)}function us(le,Me,_e){var je=le.r+_e.r,at=Me.x-le.x,ft=Me.y-le.y;if(je&&(at||ft)){var _t=Me.r+_e.r,At=at*at+ft*ft;_t*=_t,je*=je;var Ht=.5+(je-_t)/(2*At),Qt=Math.sqrt(Math.max(0,2*_t*(je+At)-(je-=At)*je-_t*_t))/(2*At);_e.x=le.x+Ht*at+Qt*ft,_e.y=le.y+Ht*ft-Qt*at}else _e.x=le.x+je,_e.y=le.y}i.layout.tree=function(){var le=i.layout.hierarchy().sort(null).value(null),Me=fu,_e=[1,1],je=null;function at($t,Sr){var Er=le.call(this,$t,Sr),qr=Er[0],fn=ft(qr);if(Vo(fn,_t),fn.parent.m=-fn.z,Ro(fn,At),je)Ro(qr,Qt);else{var Pr=qr,zr=qr,Kr=qr;Ro(qr,function(Nn){Nn.x<Pr.x&&(Pr=Nn),Nn.x>zr.x&&(zr=Nn),Nn.depth>Kr.depth&&(Kr=Nn)});var an=Me(Pr,zr)/2-Pr.x,nn=_e[0]/(zr.x+Me(zr,Pr)/2+an),Zr=_e[1]/(Kr.depth||1);Ro(qr,function(Nn){Nn.x=(Nn.x+an)*nn,Nn.y=Nn.depth*Zr})}return Er}function ft($t){for(var Sr={A:null,children:[$t]},Er=[Sr],qr;(qr=Er.pop())!=null;)for(var fn=qr.children,Pr,zr=0,Kr=fn.length;zr<Kr;++zr)Er.push((fn[zr]=Pr={_:fn[zr],parent:qr,children:(Pr=fn[zr].children)&&Pr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:zr}).a=Pr);return Sr.children[0]}function _t($t){var Sr=$t.children,Er=$t.parent.children,qr=$t.i?Er[$t.i-1]:null;if(Sr.length){fh($t);var fn=(Sr[0].z+Sr[Sr.length-1].z)/2;qr?($t.z=qr.z+Me($t._,qr._),$t.m=$t.z-fn):$t.z=fn}else qr&&($t.z=qr.z+Me($t._,qr._));$t.parent.A=Ht($t,qr,$t.parent.A||Er[0])}function At($t){$t._.x=$t.z+$t.parent.m,$t.m+=$t.parent.m}function Ht($t,Sr,Er){if(Sr){for(var qr=$t,fn=$t,Pr=Sr,zr=qr.parent.children[0],Kr=qr.m,an=fn.m,nn=Pr.m,Zr=zr.m,Nn;Pr=Af(Pr),qr=Ol(qr),Pr&&qr;)zr=Ol(zr),fn=Af(fn),fn.a=$t,Nn=Pr.z+nn-qr.z-Kr+Me(Pr._,qr._),Nn>0&&(uh(ch(Pr,$t,Er),$t,Nn),Kr+=Nn,an+=Nn),nn+=Pr.m,Kr+=qr.m,Zr+=zr.m,an+=fn.m;Pr&&!Af(fn)&&(fn.t=Pr,fn.m+=nn-an),qr&&!Ol(zr)&&(zr.t=qr,zr.m+=Kr-Zr,Er=$t)}return Er}function Qt($t){$t.x*=_e[0],$t.y=$t.depth*_e[1]}return at.separation=function($t){return arguments.length?(Me=$t,at):Me},at.size=function($t){return arguments.length?(je=(_e=$t)==null?Qt:null,at):je?null:_e},at.nodeSize=function($t){return arguments.length?(je=(_e=$t)==null?null:Qt,at):je?_e:null},Ls(at,le)};function fu(le,Me){return le.parent==Me.parent?1:2}function Ol(le){var Me=le.children;return Me.length?Me[0]:le.t}function Af(le){var Me=le.children,_e;return(_e=Me.length)?Me[_e-1]:le.t}function uh(le,Me,_e){var je=_e/(Me.i-le.i);Me.c-=je,Me.s+=_e,le.c+=je,Me.z+=_e,Me.m+=_e}function fh(le){for(var Me=0,_e=0,je=le.children,at=je.length,ft;--at>=0;)ft=je[at],ft.z+=Me,ft.m+=Me,Me+=ft.s+(_e+=ft.c)}function ch(le,Me,_e){return le.a.parent===Me.parent?le.a:_e}i.layout.cluster=function(){var le=i.layout.hierarchy().sort(null).value(null),Me=fu,_e=[1,1],je=!1;function at(ft,_t){var At=le.call(this,ft,_t),Ht=At[0],Qt,$t=0;Vo(Ht,function(Pr){var zr=Pr.children;zr&&zr.length?(Pr.x=sc(zr),Pr.y=oc(zr)):(Pr.x=Qt?$t+=Me(Pr,Qt):0,Pr.y=0,Qt=Pr)});var Sr=cu(Ht),Er=$i(Ht),qr=Sr.x-Me(Sr,Er)/2,fn=Er.x+Me(Er,Sr)/2;return Vo(Ht,je?function(Pr){Pr.x=(Pr.x-Ht.x)*_e[0],Pr.y=(Ht.y-Pr.y)*_e[1]}:function(Pr){Pr.x=(Pr.x-qr)/(fn-qr)*_e[0],Pr.y=(1-(Ht.y?Pr.y/Ht.y:1))*_e[1]}),At}return at.separation=function(ft){return arguments.length?(Me=ft,at):Me},at.size=function(ft){return arguments.length?(je=(_e=ft)==null,at):je?null:_e},at.nodeSize=function(ft){return arguments.length?(je=(_e=ft)!=null,at):je?_e:null},Ls(at,le)};function oc(le){return 1+i.max(le,function(Me){return Me.y})}function sc(le){return le.reduce(function(Me,_e){return Me+_e.x},0)/le.length}function cu(le){var Me=le.children;return Me&&Me.length?cu(Me[0]):le}function $i(le){var Me=le.children,_e;return Me&&(_e=Me.length)?$i(Me[_e-1]):le}i.layout.treemap=function(){var le=i.layout.hierarchy(),Me=Math.round,_e=[1,1],je=null,at=So,ft=!1,_t,At="squarify",Ht=.5*(1+Math.sqrt(5));function Qt(Pr,zr){for(var Kr=-1,an=Pr.length,nn,Zr;++Kr<an;)Zr=(nn=Pr[Kr]).value*(zr<0?0:zr),nn.area=isNaN(Zr)||Zr<=0?0:Zr}function $t(Pr){var zr=Pr.children;if(zr&&zr.length){var Kr=at(Pr),an=[],nn=zr.slice(),Zr,Nn=1/0,$n,ia=At==="slice"?Kr.dx:At==="dice"?Kr.dy:At==="slice-dice"?Pr.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),na;for(Qt(nn,Kr.dx*Kr.dy/Pr.value),an.area=0;(na=nn.length)>0;)an.push(Zr=nn[na-1]),an.area+=Zr.area,At!=="squarify"||($n=Er(an,ia))<=Nn?(nn.pop(),Nn=$n):(an.area-=an.pop().area,qr(an,ia,Kr,!1),ia=Math.min(Kr.dx,Kr.dy),an.length=an.area=0,Nn=1/0);an.length&&(qr(an,ia,Kr,!0),an.length=an.area=0),zr.forEach($t)}}function Sr(Pr){var zr=Pr.children;if(zr&&zr.length){var Kr=at(Pr),an=zr.slice(),nn,Zr=[];for(Qt(an,Kr.dx*Kr.dy/Pr.value),Zr.area=0;nn=an.pop();)Zr.push(nn),Zr.area+=nn.area,nn.z!=null&&(qr(Zr,nn.z?Kr.dx:Kr.dy,Kr,!an.length),Zr.length=Zr.area=0);zr.forEach(Sr)}}function Er(Pr,zr){for(var Kr=Pr.area,an,nn=0,Zr=1/0,Nn=-1,$n=Pr.length;++Nn<$n;)(an=Pr[Nn].area)&&(an<Zr&&(Zr=an),an>nn&&(nn=an));return Kr*=Kr,zr*=zr,Kr?Math.max(zr*nn*Ht/Kr,Kr/(zr*Zr*Ht)):1/0}function qr(Pr,zr,Kr,an){var nn=-1,Zr=Pr.length,Nn=Kr.x,$n=Kr.y,ia=zr?Me(Pr.area/zr):0,na;if(zr==Kr.dx){for((an||ia>Kr.dy)&&(ia=Kr.dy);++nn<Zr;)na=Pr[nn],na.x=Nn,na.y=$n,na.dy=ia,Nn+=na.dx=Math.min(Kr.x+Kr.dx-Nn,ia?Me(na.area/ia):0);na.z=!0,na.dx+=Kr.x+Kr.dx-Nn,Kr.y+=ia,Kr.dy-=ia}else{for((an||ia>Kr.dx)&&(ia=Kr.dx);++nn<Zr;)na=Pr[nn],na.x=Nn,na.y=$n,na.dx=ia,$n+=na.dy=Math.min(Kr.y+Kr.dy-$n,ia?Me(na.area/ia):0);na.z=!1,na.dy+=Kr.y+Kr.dy-$n,Kr.x+=ia,Kr.dx-=ia}}function fn(Pr){var zr=_t||le(Pr),Kr=zr[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=_e[0],Kr.dy=_e[1]):Kr.dx=Kr.dy=0,_t&&le.revalue(Kr),Qt([Kr],Kr.dx*Kr.dy/Kr.value),(_t?Sr:$t)(Kr),ft&&(_t=zr),zr}return fn.size=function(Pr){return arguments.length?(_e=Pr,fn):_e},fn.padding=function(Pr){if(!arguments.length)return je;function zr(nn){var Zr=Pr.call(fn,nn,nn.depth);return Zr==null?So(nn):Mf(nn,typeof Zr=="number"?[Zr,Zr,Zr,Zr]:Zr)}function Kr(nn){return Mf(nn,Pr)}var an;return at=(je=Pr)==null?So:(an=typeof Pr)=="function"?zr:(an==="number"&&(Pr=[Pr,Pr,Pr,Pr]),Kr),fn},fn.round=function(Pr){return arguments.length?(Me=Pr?Math.round:Number,fn):Me!=Number},fn.sticky=function(Pr){return arguments.length?(ft=Pr,_t=null,fn):ft},fn.ratio=function(Pr){return arguments.length?(Ht=Pr,fn):Ht},fn.mode=function(Pr){return arguments.length?(At=Pr+"",fn):At},Ls(fn,le)};function So(le){return{x:le.x,y:le.y,dx:le.dx,dy:le.dy}}function Mf(le,Me){var _e=le.x+Me[3],je=le.y+Me[0],at=le.dx-Me[1]-Me[3],ft=le.dy-Me[0]-Me[2];return at<0&&(_e+=at/2,at=0),ft<0&&(je+=ft/2,ft=0),{x:_e,y:je,dx:at,dy:ft}}i.random={normal:function(le,Me){var _e=arguments.length;return _e<2&&(Me=1),_e<1&&(le=0),function(){var je,at,ft;do je=Math.random()*2-1,at=Math.random()*2-1,ft=je*je+at*at;while(!ft||ft>1);return le+Me*je*Math.sqrt(-2*Math.log(ft)/ft)}},logNormal:function(){var le=i.random.normal.apply(i,arguments);return function(){return Math.exp(le())}},bates:function(le){var Me=i.random.irwinHall(le);return function(){return Me()/le}},irwinHall:function(le){return function(){for(var Me=0,_e=0;_e<le;_e++)Me+=Math.random();return Me}}},i.scale={};function hu(le){var Me=le[0],_e=le[le.length-1];return Me<_e?[Me,_e]:[_e,Me]}function Go(le){return le.rangeExtent?le.rangeExtent():hu(le.range())}function Sf(le,Me,_e,je){var at=_e(le[0],le[1]),ft=je(Me[0],Me[1]);return function(_t){return ft(at(_t))}}function Ef(le,Me){var _e=0,je=le.length-1,at=le[_e],ft=le[je],_t;return ft<at&&(_t=_e,_e=je,je=_t,_t=at,at=ft,ft=_t),le[_e]=Me.floor(at),le[je]=Me.ceil(ft),le}function Cf(le){return le?{floor:function(Me){return Math.floor(Me/le)*le},ceil:function(Me){return Math.ceil(Me/le)*le}}:hh}var hh={floor:_,ceil:_};function lc(le,Me,_e,je){var at=[],ft=[],_t=0,At=Math.min(le.length,Me.length)-1;for(le[At]<le[0]&&(le=le.slice().reverse(),Me=Me.slice().reverse());++_t<=At;)at.push(_e(le[_t-1],le[_t])),ft.push(je(Me[_t-1],Me[_t]));return function(Ht){var Qt=i.bisect(le,Ht,1,At)-1;return ft[Qt](at[Qt](Ht))}}i.scale.linear=function(){return uc([0,1],[0,1],Ki,!1)};function uc(le,Me,_e,je){var at,ft;function _t(){var Ht=Math.min(le.length,Me.length)>2?lc:Sf,Qt=je?Ws:Wu;return at=Ht(le,Me,Qt,_e),ft=Ht(Me,le,Qt,Ki),At}function At(Ht){return at(Ht)}return At.invert=function(Ht){return ft(Ht)},At.domain=function(Ht){return arguments.length?(le=Ht.map(Number),_t()):le},At.range=function(Ht){return arguments.length?(Me=Ht,_t()):Me},At.rangeRound=function(Ht){return At.range(Ht).interpolate(ou)},At.clamp=function(Ht){return arguments.length?(je=Ht,_t()):je},At.interpolate=function(Ht){return arguments.length?(_e=Ht,_t()):_e},At.ticks=function(Ht){return Zu(le,Ht)},At.tickFormat=function(Ht,Qt){return d3_scale_linearTickFormat(le,Ht,Qt)},At.nice=function(Ht){return fs(le,Ht),_t()},At.copy=function(){return uc(le,Me,_e,je)},_t()}function Ni(le,Me){return i.rebind(le,Me,"range","rangeRound","interpolate","clamp")}function fs(le,Me){return Ef(le,Cf(js(le,Me)[2])),Ef(le,Cf(js(le,Me)[2])),le}function js(le,Me){Me==null&&(Me=10);var _e=hu(le),je=_e[1]-_e[0],at=Math.pow(10,Math.floor(Math.log(je/Me)/Math.LN10)),ft=Me/je*at;return ft<=.15?at*=10:ft<=.35?at*=5:ft<=.75&&(at*=2),_e[0]=Math.ceil(_e[0]/at)*at,_e[1]=Math.floor(_e[1]/at)*at+at*.5,_e[2]=at,_e}function Zu(le,Me){return i.range.apply(i,js(le,Me))}var vu={s:1,g:1,p:1,r:1,e:1};function ju(le){return-Math.floor(Math.log(le)/Math.LN10+.01)}function Lf(le,Me){var _e=ju(Me[2]);return le in vu?Math.abs(_e-ju(Math.max(v(Me[0]),v(Me[1]))))+ +(le!=="e"):_e-(le==="%")*2}i.scale.log=function(){return Is(i.scale.linear().domain([0,1]),10,!0,[1,10])};function Is(le,Me,_e,je){function at(At){return(_e?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Me)}function ft(At){return _e?Math.pow(Me,At):-Math.pow(Me,-At)}function _t(At){return le(at(At))}return _t.invert=function(At){return ft(le.invert(At))},_t.domain=function(At){return arguments.length?(_e=At[0]>=0,le.domain((je=At.map(Number)).map(at)),_t):je},_t.base=function(At){return arguments.length?(Me=+At,le.domain(je.map(at)),_t):Me},_t.nice=function(){var At=Ef(je.map(at),_e?Math:Bl);return le.domain(At),je=At.map(ft),_t},_t.ticks=function(){var At=hu(je),Ht=[],Qt=At[0],$t=At[1],Sr=Math.floor(at(Qt)),Er=Math.ceil(at($t)),qr=Me%1?2:Me;if(isFinite(Er-Sr)){if(_e){for(;Sr<Er;Sr++)for(var fn=1;fn<qr;fn++)Ht.push(ft(Sr)*fn);Ht.push(ft(Sr))}else for(Ht.push(ft(Sr));Sr++<Er;)for(var fn=qr-1;fn>0;fn--)Ht.push(ft(Sr)*fn);for(Sr=0;Ht[Sr]<Qt;Sr++);for(Er=Ht.length;Ht[Er-1]>$t;Er--);Ht=Ht.slice(Sr,Er)}return Ht},_t.copy=function(){return Is(le.copy(),Me,_e,je)},Ni(_t,le)}var Bl={floor:function(le){return-Math.ceil(-le)},ceil:function(le){return-Math.floor(-le)}};i.scale.pow=function(){return cs(i.scale.linear(),1,[0,1])};function cs(le,Me,_e){var je=hs(Me),at=hs(1/Me);function ft(_t){return le(je(_t))}return ft.invert=function(_t){return at(le.invert(_t))},ft.domain=function(_t){return arguments.length?(le.domain((_e=_t.map(Number)).map(je)),ft):_e},ft.ticks=function(_t){return Zu(_e,_t)},ft.tickFormat=function(_t,At){return d3_scale_linearTickFormat(_e,_t,At)},ft.nice=function(_t){return ft.domain(fs(_e,_t))},ft.exponent=function(_t){return arguments.length?(je=hs(Me=_t),at=hs(1/Me),le.domain(_e.map(je)),ft):Me},ft.copy=function(){return cs(le.copy(),Me,_e)},Ni(ft,le)}function hs(le){return function(Me){return Me<0?-Math.pow(-Me,le):Math.pow(Me,le)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return du([],{t:"range",a:[[]]})};function du(le,Me){var _e,je,at;function ft(At){return je[((_e.get(At)||(Me.t==="range"?_e.set(At,le.push(At)):NaN))-1)%je.length]}function _t(At,Ht){return i.range(le.length).map(function(Qt){return At+Ht*Qt})}return ft.domain=function(At){if(!arguments.length)return le;le=[],_e=new M;for(var Ht=-1,Qt=At.length,$t;++Ht<Qt;)_e.has($t=At[Ht])||_e.set($t,le.push($t));return ft[Me.t].apply(ft,Me.a)},ft.range=function(At){return arguments.length?(je=At,at=0,Me={t:"range",a:arguments},ft):je},ft.rangePoints=function(At,Ht){arguments.length<2&&(Ht=0);var Qt=At[0],$t=At[1],Sr=le.length<2?(Qt=(Qt+$t)/2,0):($t-Qt)/(le.length-1+Ht);return je=_t(Qt+Sr*Ht/2,Sr),at=0,Me={t:"rangePoints",a:arguments},ft},ft.rangeRoundPoints=function(At,Ht){arguments.length<2&&(Ht=0);var Qt=At[0],$t=At[1],Sr=le.length<2?(Qt=$t=Math.round((Qt+$t)/2),0):($t-Qt)/(le.length-1+Ht)|0;return je=_t(Qt+Math.round(Sr*Ht/2+($t-Qt-(le.length-1+Ht)*Sr)/2),Sr),at=0,Me={t:"rangeRoundPoints",a:arguments},ft},ft.rangeBands=function(At,Ht,Qt){arguments.length<2&&(Ht=0),arguments.length<3&&(Qt=Ht);var $t=At[1]<At[0],Sr=At[$t-0],Er=At[1-$t],qr=(Er-Sr)/(le.length-Ht+2*Qt);return je=_t(Sr+qr*Qt,qr),$t&&je.reverse(),at=qr*(1-Ht),Me={t:"rangeBands",a:arguments},ft},ft.rangeRoundBands=function(At,Ht,Qt){arguments.length<2&&(Ht=0),arguments.length<3&&(Qt=Ht);var $t=At[1]<At[0],Sr=At[$t-0],Er=At[1-$t],qr=Math.floor((Er-Sr)/(le.length-Ht+2*Qt));return je=_t(Sr+Math.round((Er-Sr-(le.length-Ht)*qr)/2),qr),$t&&je.reverse(),at=Math.round(qr*(1-Ht)),Me={t:"rangeRoundBands",a:arguments},ft},ft.rangeBand=function(){return at},ft.rangeExtent=function(){return hu(Me.a[0])},ft.copy=function(){return du(le,Me)},ft.domain(le)}i.scale.category10=function(){return i.scale.ordinal().range(pu)},i.scale.category20=function(){return i.scale.ordinal().range(li)},i.scale.category20b=function(){return i.scale.ordinal().range(Nl)},i.scale.category20c=function(){return i.scale.ordinal().range(Pf)};var pu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mr),li=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mr),Nl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mr),Pf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mr);i.scale.quantile=function(){return Rf([],[])};function Rf(le,Me){var _e;function je(){var ft=0,_t=Me.length;for(_e=[];++ft<_t;)_e[ft-1]=i.quantile(le,ft/_t);return at}function at(ft){if(!isNaN(ft=+ft))return Me[i.bisect(_e,ft)]}return at.domain=function(ft){return arguments.length?(le=ft.map(g).filter(h).sort(f),je()):le},at.range=function(ft){return arguments.length?(Me=ft,je()):Me},at.quantiles=function(){return _e},at.invertExtent=function(ft){return ft=Me.indexOf(ft),ft<0?[NaN,NaN]:[ft>0?_e[ft-1]:le[0],ft<_e.length?_e[ft]:le[le.length-1]]},at.copy=function(){return Rf(le,Me)},je()}i.scale.quantize=function(){return Ul(0,1,[0,1])};function Ul(le,Me,_e){var je,at;function ft(At){return _e[Math.max(0,Math.min(at,Math.floor(je*(At-le))))]}function _t(){return je=_e.length/(Me-le),at=_e.length-1,ft}return ft.domain=function(At){return arguments.length?(le=+At[0],Me=+At[At.length-1],_t()):[le,Me]},ft.range=function(At){return arguments.length?(_e=At,_t()):_e},ft.invertExtent=function(At){return At=_e.indexOf(At),At=At<0?NaN:At/je+le,[At,At+1/je]},ft.copy=function(){return Ul(le,Me,_e)},_t()}i.scale.threshold=function(){return Ku([.5],[0,1])};function Ku(le,Me){function _e(je){if(je<=je)return Me[i.bisect(le,je)]}return _e.domain=function(je){return arguments.length?(le=je,_e):le},_e.range=function(je){return arguments.length?(Me=je,_e):Me},_e.invertExtent=function(je){return je=Me.indexOf(je),[le[je-1],le[je]]},_e.copy=function(){return Ku(le,Me)},_e}i.scale.identity=function(){return gu([0,1])};function gu(le){function Me(_e){return+_e}return Me.invert=Me,Me.domain=Me.range=function(_e){return arguments.length?(le=_e.map(Me),Me):le},Me.ticks=function(_e){return Zu(le,_e)},Me.tickFormat=function(_e,je){return d3_scale_linearTickFormat(le,_e,je)},Me.copy=function(){return gu(le)},Me}i.svg={};function Df(){return 0}i.svg.arc=function(){var le=fc,Me=Vl,_e=Df,je=yu,at=hl,ft=mu,_t=Wo;function At(){var Qt=Math.max(0,+le.apply(this,arguments)),$t=Math.max(0,+Me.apply(this,arguments)),Sr=at.apply(this,arguments)-Se,Er=ft.apply(this,arguments)-Se,qr=Math.abs(Er-Sr),fn=Sr>Er?0:1;if($t<Qt&&(Pr=$t,$t=Qt,Qt=Pr),qr>=ye)return Ht($t,fn)+(Qt?Ht(Qt,1-fn):"")+"Z";var Pr,zr,Kr,an,nn=0,Zr=0,Nn,$n,ia,na,wa,ma,Pa,Ma,pa=[];if((an=(+_t.apply(this,arguments)||0)/2)&&(Kr=je===yu?Math.sqrt(Qt*Qt+$t*$t):+je.apply(this,arguments),fn||(Zr*=-1),$t&&(Zr=Et(Kr/$t*Math.sin(an))),Qt&&(nn=Et(Kr/Qt*Math.sin(an)))),$t){Nn=$t*Math.cos(Sr+Zr),$n=$t*Math.sin(Sr+Zr),ia=$t*Math.cos(Er-Zr),na=$t*Math.sin(Er-Zr);var ja=Math.abs(Er-Sr-2*Zr)<=Le?0:1;if(Zr&&Yo(Nn,$n,ia,na)===fn^ja){var Mi=(Sr+Er)/2;Nn=$t*Math.cos(Mi),$n=$t*Math.sin(Mi),ia=na=null}}else Nn=$n=0;if(Qt){wa=Qt*Math.cos(Er-nn),ma=Qt*Math.sin(Er-nn),Pa=Qt*Math.cos(Sr+nn),Ma=Qt*Math.sin(Sr+nn);var Va=Math.abs(Sr-Er+2*nn)<=Le?0:1;if(nn&&Yo(wa,ma,Pa,Ma)===1-fn^Va){var Qn=(Sr+Er)/2;wa=Qt*Math.cos(Qn),ma=Qt*Math.sin(Qn),Pa=Ma=null}}else wa=ma=0;if(qr>ze&&(Pr=Math.min(Math.abs($t-Qt)/2,+_e.apply(this,arguments)))>.001){zr=Qt<$t^fn?0:1;var za=Pr,Ua=Pr;if(qr<Le){var Ha=Pa==null?[wa,ma]:ia==null?[Nn,$n]:Mn([Nn,$n],[Pa,Ma],[ia,na],[wa,ma]),gi=Nn-Ha[0],qn=$n-Ha[1],Ta=ia-Ha[0],Di=na-Ha[1],yi=1/Math.sin(Math.acos((gi*Ta+qn*Di)/(Math.sqrt(gi*gi+qn*qn)*Math.sqrt(Ta*Ta+Di*Di)))/2),zi=Math.sqrt(Ha[0]*Ha[0]+Ha[1]*Ha[1]);Ua=Math.min(Pr,(Qt-zi)/(yi-1)),za=Math.min(Pr,($t-zi)/(yi+1))}if(ia!=null){var ci=Hl(Pa==null?[wa,ma]:[Pa,Ma],[Nn,$n],$t,za,fn),Pi=Hl([ia,na],[wa,ma],$t,za,fn);Pr===za?pa.push("M",ci[0],"A",za,",",za," 0 0,",zr," ",ci[1],"A",$t,",",$t," 0 ",1-fn^Yo(ci[1][0],ci[1][1],Pi[1][0],Pi[1][1]),",",fn," ",Pi[1],"A",za,",",za," 0 0,",zr," ",Pi[0]):pa.push("M",ci[0],"A",za,",",za," 0 1,",zr," ",Pi[0])}else pa.push("M",Nn,",",$n);if(Pa!=null){var Ri=Hl([Nn,$n],[Pa,Ma],Qt,-Ua,fn),Au=Hl([wa,ma],ia==null?[Nn,$n]:[ia,na],Qt,-Ua,fn);Pr===Ua?pa.push("L",Au[0],"A",Ua,",",Ua," 0 0,",zr," ",Au[1],"A",Qt,",",Qt," 0 ",fn^Yo(Au[1][0],Au[1][1],Ri[1][0],Ri[1][1]),",",1-fn," ",Ri[1],"A",Ua,",",Ua," 0 0,",zr," ",Ri[0]):pa.push("L",Au[0],"A",Ua,",",Ua," 0 0,",zr," ",Ri[0])}else pa.push("L",wa,",",ma)}else pa.push("M",Nn,",",$n),ia!=null&&pa.push("A",$t,",",$t," 0 ",ja,",",fn," ",ia,",",na),pa.push("L",wa,",",ma),Pa!=null&&pa.push("A",Qt,",",Qt," 0 ",Va,",",1-fn," ",Pa,",",Ma);return pa.push("Z"),pa.join("")}function Ht(Qt,$t){return"M0,"+Qt+"A"+Qt+","+Qt+" 0 1,"+$t+" 0,"+-Qt+"A"+Qt+","+Qt+" 0 1,"+$t+" 0,"+Qt}return At.innerRadius=function(Qt){return arguments.length?(le=fr(Qt),At):le},At.outerRadius=function(Qt){return arguments.length?(Me=fr(Qt),At):Me},At.cornerRadius=function(Qt){return arguments.length?(_e=fr(Qt),At):_e},At.padRadius=function(Qt){return arguments.length?(je=Qt==yu?yu:fr(Qt),At):je},At.startAngle=function(Qt){return arguments.length?(at=fr(Qt),At):at},At.endAngle=function(Qt){return arguments.length?(ft=fr(Qt),At):ft},At.padAngle=function(Qt){return arguments.length?(_t=fr(Qt),At):_t},At.centroid=function(){var Qt=(+le.apply(this,arguments)+ +Me.apply(this,arguments))/2,$t=(+at.apply(this,arguments)+ +ft.apply(this,arguments))/2-Se;return[Math.cos($t)*Qt,Math.sin($t)*Qt]},At};var yu="auto";function fc(le){return le.innerRadius}function Vl(le){return le.outerRadius}function hl(le){return le.startAngle}function mu(le){return le.endAngle}function Wo(le){return le&&le.padAngle}function Yo(le,Me,_e,je){return(le-_e)*Me-(Me-je)*le>0?0:1}function Hl(le,Me,_e,je,at){var ft=le[0]-Me[0],_t=le[1]-Me[1],At=(at?je:-je)/Math.sqrt(ft*ft+_t*_t),Ht=At*_t,Qt=-At*ft,$t=le[0]+Ht,Sr=le[1]+Qt,Er=Me[0]+Ht,qr=Me[1]+Qt,fn=($t+Er)/2,Pr=(Sr+qr)/2,zr=Er-$t,Kr=qr-Sr,an=zr*zr+Kr*Kr,nn=_e-je,Zr=$t*qr-Er*Sr,Nn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,nn*nn*an-Zr*Zr)),$n=(Zr*Kr-zr*Nn)/an,ia=(-Zr*zr-Kr*Nn)/an,na=(Zr*Kr+zr*Nn)/an,wa=(-Zr*zr+Kr*Nn)/an,ma=$n-fn,Pa=ia-Pr,Ma=na-fn,pa=wa-Pr;return ma*ma+Pa*Pa>Ma*Ma+pa*pa&&($n=na,ia=wa),[[$n-Ht,ia-Qt],[$n*_e/nn,ia*_e/nn]]}function vl(){return!0}function cc(le){var Me=pr,_e=Jr,je=vl,at=Do,ft=at.key,_t=.7;function At(Ht){var Qt=[],$t=[],Sr=-1,Er=Ht.length,qr,fn=fr(Me),Pr=fr(_e);function zr(){Qt.push("M",at(le($t),_t))}for(;++Sr<Er;)je.call(this,qr=Ht[Sr],Sr)?$t.push([+fn.call(this,qr,Sr),+Pr.call(this,qr,Sr)]):$t.length&&(zr(),$t=[]);return $t.length&&zr(),Qt.length?Qt.join(""):null}return At.x=function(Ht){return arguments.length?(Me=Ht,At):Me},At.y=function(Ht){return arguments.length?(_e=Ht,At):_e},At.defined=function(Ht){return arguments.length?(je=Ht,At):je},At.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?ft=at=Ht:ft=(at=dl.get(Ht)||Do).key,At):ft},At.tension=function(Ht){return arguments.length?(_t=Ht,At):_t},At}i.svg.line=function(){return cc(_)};var dl=i.map({linear:Do,"linear-closed":hc,step:Io,"step-before":pl,"step-after":xu,basis:$u,"basis-open":vh,"basis-closed":Wl,bundle:vc,cardinal:If,"cardinal-open":Ju,"cardinal-closed":Gl,monotone:dc});dl.forEach(function(le,Me){Me.key=le,Me.closed=/-closed$/.test(le)});function Do(le){return le.length>1?le.join("L"):le+"Z"}function hc(le){return le.join("L")+"Z"}function Io(le){for(var Me=0,_e=le.length,je=le[0],at=[je[0],",",je[1]];++Me<_e;)at.push("H",(je[0]+(je=le[Me])[0])/2,"V",je[1]);return _e>1&&at.push("H",je[0]),at.join("")}function pl(le){for(var Me=0,_e=le.length,je=le[0],at=[je[0],",",je[1]];++Me<_e;)at.push("V",(je=le[Me])[1],"H",je[0]);return at.join("")}function xu(le){for(var Me=0,_e=le.length,je=le[0],at=[je[0],",",je[1]];++Me<_e;)at.push("H",(je=le[Me])[0],"V",je[1]);return at.join("")}function Ju(le,Me){return le.length<4?Do(le):le[1]+Qu(le.slice(1,-1),Ks(le,Me))}function Gl(le,Me){return le.length<3?hc(le):le[0]+Qu((le.push(le[0]),le),Ks([le[le.length-2]].concat(le,[le[1]]),Me))}function If(le,Me){return le.length<3?Do(le):le[0]+Qu(le,Ks(le,Me))}function Qu(le,Me){if(Me.length<1||le.length!=Me.length&&le.length!=Me.length+2)return Do(le);var _e=le.length!=Me.length,je="",at=le[0],ft=le[1],_t=Me[0],At=_t,Ht=1;if(_e&&(je+="Q"+(ft[0]-_t[0]*2/3)+","+(ft[1]-_t[1]*2/3)+","+ft[0]+","+ft[1],at=le[1],Ht=2),Me.length>1){At=Me[1],ft=le[Ht],Ht++,je+="C"+(at[0]+_t[0])+","+(at[1]+_t[1])+","+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1];for(var Qt=2;Qt<Me.length;Qt++,Ht++)ft=le[Ht],At=Me[Qt],je+="S"+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1]}if(_e){var $t=le[Ht];je+="Q"+(ft[0]+At[0]*2/3)+","+(ft[1]+At[1]*2/3)+","+$t[0]+","+$t[1]}return je}function Ks(le,Me){for(var _e=[],je=(1-Me)/2,at,ft=le[0],_t=le[1],At=1,Ht=le.length;++At<Ht;)at=ft,ft=_t,_t=le[At],_e.push([je*(_t[0]-at[0]),je*(_t[1]-at[1])]);return _e}function $u(le){if(le.length<3)return Do(le);var Me=1,_e=le.length,je=le[0],at=je[0],ft=je[1],_t=[at,at,at,(je=le[1])[0]],At=[ft,ft,ft,je[1]],Ht=[at,",",ft,"L",ho(ks,_t),",",ho(ks,At)];for(le.push(le[_e-1]);++Me<=_e;)je=le[Me],_t.shift(),_t.push(je[0]),At.shift(),At.push(je[1]),qu(Ht,_t,At);return le.pop(),Ht.push("L",je),Ht.join("")}function vh(le){if(le.length<4)return Do(le);for(var Me=[],_e=-1,je=le.length,at,ft=[0],_t=[0];++_e<3;)at=le[_e],ft.push(at[0]),_t.push(at[1]);for(Me.push(ho(ks,ft)+","+ho(ks,_t)),--_e;++_e<je;)at=le[_e],ft.shift(),ft.push(at[0]),_t.shift(),_t.push(at[1]),qu(Me,ft,_t);return Me.join("")}function Wl(le){for(var Me,_e=-1,je=le.length,at=je+4,ft,_t=[],At=[];++_e<4;)ft=le[_e%je],_t.push(ft[0]),At.push(ft[1]);for(Me=[ho(ks,_t),",",ho(ks,At)],--_e;++_e<at;)ft=le[_e%je],_t.shift(),_t.push(ft[0]),At.shift(),At.push(ft[1]),qu(Me,_t,At);return Me.join("")}function vc(le,Me){var _e=le.length-1;if(_e)for(var je=le[0][0],at=le[0][1],ft=le[_e][0]-je,_t=le[_e][1]-at,At=-1,Ht,Qt;++At<=_e;)Ht=le[At],Qt=At/_e,Ht[0]=Me*Ht[0]+(1-Me)*(je+Qt*ft),Ht[1]=Me*Ht[1]+(1-Me)*(at+Qt*_t);return $u(le)}function ho(le,Me){return le[0]*Me[0]+le[1]*Me[1]+le[2]*Me[2]+le[3]*Me[3]}var Yl=[0,2/3,1/3,0],bu=[0,1/3,2/3,0],ks=[0,1/6,2/3,1/6];function qu(le,Me,_e){le.push("C",ho(Yl,Me),",",ho(Yl,_e),",",ho(bu,Me),",",ho(bu,_e),",",ho(ks,Me),",",ho(ks,_e))}function Xl(le,Me){return(Me[1]-le[1])/(Me[0]-le[0])}function ef(le){for(var Me=0,_e=le.length-1,je=[],at=le[0],ft=le[1],_t=je[0]=Xl(at,ft);++Me<_e;)je[Me]=(_t+(_t=Xl(at=ft,ft=le[Me+1])))/2;return je[Me]=_t,je}function wu(le){for(var Me=[],_e,je,at,ft,_t=ef(le),At=-1,Ht=le.length-1;++At<Ht;)_e=Xl(le[At],le[At+1]),v(_e)<ze?_t[At]=_t[At+1]=0:(je=_t[At]/_e,at=_t[At+1]/_e,ft=je*je+at*at,ft>9&&(ft=_e*3/Math.sqrt(ft),_t[At]=ft*je,_t[At+1]=ft*at));for(At=-1;++At<=Ht;)ft=(le[Math.min(Ht,At+1)][0]-le[Math.max(0,At-1)][0])/(6*(1+_t[At]*_t[At])),Me.push([ft||0,_t[At]*ft||0]);return Me}function dc(le){return le.length<3?Do(le):le[0]+Qu(le,wu(le))}i.svg.line.radial=function(){var le=cc(Tu);return le.radius=le.x,delete le.x,le.angle=le.y,delete le.y,le};function Tu(le){for(var Me,_e=-1,je=le.length,at,ft;++_e<je;)Me=le[_e],at=Me[0],ft=Me[1]-Se,Me[0]=at*Math.cos(ft),Me[1]=at*Math.sin(ft);return le}function kf(le){var Me=pr,_e=pr,je=0,at=Jr,ft=vl,_t=Do,At=_t.key,Ht=_t,Qt="L",$t=.7;function Sr(Er){var qr=[],fn=[],Pr=[],zr=-1,Kr=Er.length,an,nn=fr(Me),Zr=fr(je),Nn=Me===_e?function(){return ia}:fr(_e),$n=je===at?function(){return na}:fr(at),ia,na;function wa(){qr.push("M",_t(le(Pr),$t),Qt,Ht(le(fn.reverse()),$t),"Z")}for(;++zr<Kr;)ft.call(this,an=Er[zr],zr)?(fn.push([ia=+nn.call(this,an,zr),na=+Zr.call(this,an,zr)]),Pr.push([+Nn.call(this,an,zr),+$n.call(this,an,zr)])):fn.length&&(wa(),fn=[],Pr=[]);return fn.length&&wa(),qr.length?qr.join(""):null}return Sr.x=function(Er){return arguments.length?(Me=_e=Er,Sr):_e},Sr.x0=function(Er){return arguments.length?(Me=Er,Sr):Me},Sr.x1=function(Er){return arguments.length?(_e=Er,Sr):_e},Sr.y=function(Er){return arguments.length?(je=at=Er,Sr):at},Sr.y0=function(Er){return arguments.length?(je=Er,Sr):je},Sr.y1=function(Er){return arguments.length?(at=Er,Sr):at},Sr.defined=function(Er){return arguments.length?(ft=Er,Sr):ft},Sr.interpolate=function(Er){return arguments.length?(typeof Er=="function"?At=_t=Er:At=(_t=dl.get(Er)||Do).key,Ht=_t.reverse||_t,Qt=_t.closed?"M":"L",Sr):At},Sr.tension=function(Er){return arguments.length?($t=Er,Sr):$t},Sr}pl.reverse=xu,xu.reverse=pl,i.svg.area=function(){return kf(_)},i.svg.area.radial=function(){var le=kf(Tu);return le.radius=le.x,delete le.x,le.innerRadius=le.x0,delete le.x0,le.outerRadius=le.x1,delete le.x1,le.angle=le.y,delete le.y,le.startAngle=le.y0,delete le.y0,le.endAngle=le.y1,delete le.y1,le};function $e(le){return le.source}function it(le){return le.target}i.svg.chord=function(){var le=$e,Me=it,_e=pt,je=hl,at=mu;function ft($t,Sr){var Er=_t(this,le,$t,Sr),qr=_t(this,Me,$t,Sr);return"M"+Er.p0+Ht(Er.r,Er.p1,Er.a1-Er.a0)+(At(Er,qr)?Qt(Er.r,Er.p1,Er.r,Er.p0):Qt(Er.r,Er.p1,qr.r,qr.p0)+Ht(qr.r,qr.p1,qr.a1-qr.a0)+Qt(qr.r,qr.p1,Er.r,Er.p0))+"Z"}function _t($t,Sr,Er,qr){var fn=Sr.call($t,Er,qr),Pr=_e.call($t,fn,qr),zr=je.call($t,fn,qr)-Se,Kr=at.call($t,fn,qr)-Se;return{r:Pr,a0:zr,a1:Kr,p0:[Pr*Math.cos(zr),Pr*Math.sin(zr)],p1:[Pr*Math.cos(Kr),Pr*Math.sin(Kr)]}}function At($t,Sr){return $t.a0==Sr.a0&&$t.a1==Sr.a1}function Ht($t,Sr,Er){return"A"+$t+","+$t+" 0 "+ +(Er>Le)+",1 "+Sr}function Qt($t,Sr,Er,qr){return"Q 0,0 "+qr}return ft.radius=function($t){return arguments.length?(_e=fr($t),ft):_e},ft.source=function($t){return arguments.length?(le=fr($t),ft):le},ft.target=function($t){return arguments.length?(Me=fr($t),ft):Me},ft.startAngle=function($t){return arguments.length?(je=fr($t),ft):je},ft.endAngle=function($t){return arguments.length?(at=fr($t),ft):at},ft};function pt(le){return le.radius}i.svg.diagonal=function(){var le=$e,Me=it,_e=bt;function je(at,ft){var _t=le.call(this,at,ft),At=Me.call(this,at,ft),Ht=(_t.y+At.y)/2,Qt=[_t,{x:_t.x,y:Ht},{x:At.x,y:Ht},At];return Qt=Qt.map(_e),"M"+Qt[0]+"C"+Qt[1]+" "+Qt[2]+" "+Qt[3]}return je.source=function(at){return arguments.length?(le=fr(at),je):le},je.target=function(at){return arguments.length?(Me=fr(at),je):Me},je.projection=function(at){return arguments.length?(_e=at,je):_e},je};function bt(le){return[le.x,le.y]}i.svg.diagonal.radial=function(){var le=i.svg.diagonal(),Me=bt,_e=le.projection;return le.projection=function(je){return arguments.length?_e(zt(Me=je)):Me},le};function zt(le){return function(){var Me=le.apply(this,arguments),_e=Me[0],je=Me[1]-Se;return[_e*Math.cos(je),_e*Math.sin(je)]}}i.svg.symbol=function(){var le=Nt,Me=Dt;function _e(je,at){return(br.get(le.call(this,je,at))||hr)(Me.call(this,je,at))}return _e.type=function(je){return arguments.length?(le=fr(je),_e):le},_e.size=function(je){return arguments.length?(Me=fr(je),_e):Me},_e};function Dt(){return 64}function Nt(){return"circle"}function hr(le){var Me=Math.sqrt(le/Le);return"M0,"+Me+"A"+Me+","+Me+" 0 1,1 0,"+-Me+"A"+Me+","+Me+" 0 1,1 0,"+Me+"Z"}var br=i.map({circle:hr,cross:function(le){var Me=Math.sqrt(le/5)/2;return"M"+-3*Me+","+-Me+"H"+-Me+"V"+-3*Me+"H"+Me+"V"+-Me+"H"+3*Me+"V"+Me+"H"+Me+"V"+3*Me+"H"+-Me+"V"+Me+"H"+-3*Me+"Z"},diamond:function(le){var Me=Math.sqrt(le/(2*wr)),_e=Me*wr;return"M0,"+-Me+"L"+_e+",0 0,"+Me+" "+-_e+",0Z"},square:function(le){var Me=Math.sqrt(le)/2;return"M"+-Me+","+-Me+"L"+Me+","+-Me+" "+Me+","+Me+" "+-Me+","+Me+"Z"},"triangle-down":function(le){var Me=Math.sqrt(le/ur),_e=Me*ur/2;return"M0,"+_e+"L"+Me+","+-_e+" "+-Me+","+-_e+"Z"},"triangle-up":function(le){var Me=Math.sqrt(le/ur),_e=Me*ur/2;return"M0,"+-_e+"L"+Me+","+_e+" "+-Me+","+_e+"Z"}});i.svg.symbolTypes=br.keys();var ur=Math.sqrt(3),wr=Math.tan(30*Ke);X.transition=function(le){for(var Me=Dn||++mn,_e=Ca(le),je=[],at,ft,_t=la||{time:Date.now(),ease:Hu,delay:0,duration:250},At=-1,Ht=this.length;++At<Ht;){je.push(at=[]);for(var Qt=this[At],$t=-1,Sr=Qt.length;++$t<Sr;)(ft=Qt[$t])&&Ia(ft,$t,_e,Me,_t),at.push(ft)}return tn(je,_e,Me)},X.interrupt=function(le){return this.each(le==null?Lr:Vr(Ca(le)))};var Lr=Vr(Ca());function Vr(le){return function(){var Me,_e,je;(Me=this[le])&&(je=Me[_e=Me.active])&&(je.timer.c=null,je.timer.t=NaN,--Me.count?delete Me[_e]:delete this[le],Me.active+=.5,je.event&&je.event.interrupt.call(this,this.__data__,je.index))}}function tn(le,Me,_e){return ie(le,sn),le.namespace=Me,le.id=_e,le}var sn=[],mn=0,Dn,la;sn.call=X.call,sn.empty=X.empty,sn.node=X.node,sn.size=X.size,i.transition=function(le,Me){return le&&le.transition?Dn?le.transition(Me):le:i.selection().transition(le)},i.transition.prototype=sn,sn.select=function(le){var Me=this.id,_e=this.namespace,je=[],at,ft,_t;le=oe(le);for(var At=-1,Ht=this.length;++At<Ht;){je.push(at=[]);for(var Qt=this[At],$t=-1,Sr=Qt.length;++$t<Sr;)(_t=Qt[$t])&&(ft=le.call(_t,_t.__data__,$t,At))?("__data__"in _t&&(ft.__data__=_t.__data__),Ia(ft,$t,_e,Me,_t[_e][Me]),at.push(ft)):at.push(null)}return tn(je,_e,Me)},sn.selectAll=function(le){var Me=this.id,_e=this.namespace,je=[],at,ft,_t,At,Ht;le=te(le);for(var Qt=-1,$t=this.length;++Qt<$t;)for(var Sr=this[Qt],Er=-1,qr=Sr.length;++Er<qr;)if(_t=Sr[Er]){Ht=_t[_e][Me],ft=le.call(_t,_t.__data__,Er,Qt),je.push(at=[]);for(var fn=-1,Pr=ft.length;++fn<Pr;)(At=ft[fn])&&Ia(At,fn,_e,Me,Ht),at.push(At)}return tn(je,_e,Me)},sn.filter=function(le){var Me=[],_e,je,at;typeof le!="function"&&(le=lt(le));for(var ft=0,_t=this.length;ft<_t;ft++){Me.push(_e=[]);for(var je=this[ft],At=0,Ht=je.length;At<Ht;At++)(at=je[At])&&le.call(at,at.__data__,At,ft)&&_e.push(at)}return tn(Me,this.namespace,this.id)},sn.tween=function(le,Me){var _e=this.id,je=this.namespace;return arguments.length<2?this.node()[je][_e].tween.get(le):He(this,Me==null?function(at){at[je][_e].tween.remove(le)}:function(at){at[je][_e].tween.set(le,Me)})};function Ea(le,Me,_e,je){var at=le.id,ft=le.namespace;return He(le,typeof _e=="function"?function(_t,At,Ht){_t[ft][at].tween.set(Me,je(_e.call(_t,_t.__data__,At,Ht)))}:(_e=je(_e),function(_t){_t[ft][at].tween.set(Me,_e)}))}sn.attr=function(le,Me){if(arguments.length<2){for(Me in le)this.attr(Me,le[Me]);return this}var _e=le=="transform"?os:Ki,je=i.ns.qualify(le);function at(){this.removeAttribute(je)}function ft(){this.removeAttributeNS(je.space,je.local)}function _t(Ht){return Ht==null?at:(Ht+="",function(){var Qt=this.getAttribute(je),$t;return Qt!==Ht&&($t=_e(Qt,Ht),function(Sr){this.setAttribute(je,$t(Sr))})})}function At(Ht){return Ht==null?ft:(Ht+="",function(){var Qt=this.getAttributeNS(je.space,je.local),$t;return Qt!==Ht&&($t=_e(Qt,Ht),function(Sr){this.setAttributeNS(je.space,je.local,$t(Sr))})})}return Ea(this,"attr."+le,Me,je.local?At:_t)},sn.attrTween=function(le,Me){var _e=i.ns.qualify(le);function je(ft,_t){var At=Me.call(this,ft,_t,this.getAttribute(_e));return At&&function(Ht){this.setAttribute(_e,At(Ht))}}function at(ft,_t){var At=Me.call(this,ft,_t,this.getAttributeNS(_e.space,_e.local));return At&&function(Ht){this.setAttributeNS(_e.space,_e.local,At(Ht))}}return this.tween("attr."+le,_e.local?at:je)},sn.style=function(le,Me,_e){var je=arguments.length;if(je<3){if(typeof le!="string"){je<2&&(Me="");for(_e in le)this.style(_e,le[_e],Me);return this}_e=""}function at(){this.style.removeProperty(le)}function ft(_t){return _t==null?at:(_t+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(le),Ht;return At!==_t&&(Ht=Ki(At,_t),function(Qt){this.style.setProperty(le,Ht(Qt),_e)})})}return Ea(this,"style."+le,Me,ft)},sn.styleTween=function(le,Me,_e){arguments.length<3&&(_e="");function je(at,ft){var _t=Me.call(this,at,ft,r(this).getComputedStyle(this,null).getPropertyValue(le));return _t&&function(At){this.style.setProperty(le,_t(At),_e)}}return this.tween("style."+le,je)},sn.text=function(le){return Ea(this,"text",le,La)};function La(le){return le==null&&(le=""),function(){this.textContent=le}}sn.remove=function(){var le=this.namespace;return this.each("end.transition",function(){var Me;this[le].count<2&&(Me=this.parentNode)&&Me.removeChild(this)})},sn.ease=function(le){var Me=this.id,_e=this.namespace;return arguments.length<1?this.node()[_e][Me].ease:(typeof le!="function"&&(le=i.ease.apply(i,arguments)),He(this,function(je){je[_e][Me].ease=le}))},sn.delay=function(le){var Me=this.id,_e=this.namespace;return arguments.length<1?this.node()[_e][Me].delay:He(this,typeof le=="function"?function(je,at,ft){je[_e][Me].delay=+le.call(je,je.__data__,at,ft)}:(le=+le,function(je){je[_e][Me].delay=le}))},sn.duration=function(le){var Me=this.id,_e=this.namespace;return arguments.length<1?this.node()[_e][Me].duration:He(this,typeof le=="function"?function(je,at,ft){je[_e][Me].duration=Math.max(1,le.call(je,je.__data__,at,ft))}:(le=Math.max(1,le),function(je){je[_e][Me].duration=le}))},sn.each=function(le,Me){var _e=this.id,je=this.namespace;if(arguments.length<2){var at=la,ft=Dn;try{Dn=_e,He(this,function(_t,At,Ht){la=_t[je][_e],le.call(_t,_t.__data__,At,Ht)})}finally{la=at,Dn=ft}}else He(this,function(_t){var At=_t[je][_e];(At.event||(At.event=i.dispatch("start","end","interrupt"))).on(le,Me)});return this},sn.transition=function(){for(var le=this.id,Me=++mn,_e=this.namespace,je=[],at,ft,_t,At,Ht=0,Qt=this.length;Ht<Qt;Ht++){je.push(at=[]);for(var ft=this[Ht],$t=0,Sr=ft.length;$t<Sr;$t++)(_t=ft[$t])&&(At=_t[_e][le],Ia(_t,$t,_e,Me,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),at.push(_t)}return tn(je,_e,Me)};function Ca(le){return le==null?"__transition__":"__transition_"+le+"__"}function Ia(le,Me,_e,je,at){var ft=le[_e]||(le[_e]={active:0,count:0}),_t=ft[je],At,Ht,Qt,$t,Sr;function Er(Pr){var zr=_t.delay;if(Ht.t=zr+At,zr<=Pr)return qr(Pr-zr);Ht.c=qr}function qr(Pr){var zr=ft.active,Kr=ft[zr];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--ft.count,delete ft[zr],Kr.event&&Kr.event.interrupt.call(le,le.__data__,Kr.index));for(var an in ft)if(+an<je){var nn=ft[an];nn.timer.c=null,nn.timer.t=NaN,--ft.count,delete ft[an]}Ht.c=fn,Un(function(){return Ht.c&&fn(Pr||1)&&(Ht.c=null,Ht.t=NaN),1},0,At),ft.active=je,_t.event&&_t.event.start.call(le,le.__data__,Me),Sr=[],_t.tween.forEach(function(Zr,Nn){(Nn=Nn.call(le,le.__data__,Me))&&Sr.push(Nn)}),$t=_t.ease,Qt=_t.duration}function fn(Pr){for(var zr=Pr/Qt,Kr=$t(zr),an=Sr.length;an>0;)Sr[--an].call(le,Kr);if(zr>=1)return _t.event&&_t.event.end.call(le,le.__data__,Me),--ft.count?delete ft[je]:delete le[_e],1}_t||(At=at.time,Ht=Un(Er,0,At),_t=ft[je]={tween:new M,time:At,timer:Ht,delay:at.delay,duration:at.duration,ease:at.ease,index:Me},at=null,++ft.count)}i.svg.axis=function(){var le=i.scale.linear(),Me=Za,_e=6,je=6,at=3,ft=[10],_t=null,At;function Ht(Qt){Qt.each(function(){var $t=i.select(this),Sr=this.__chart__||le,Er=this.__chart__=le.copy(),qr=_t==null?Er.ticks?Er.ticks.apply(Er,ft):Er.domain():_t,fn=At==null?Er.tickFormat?Er.tickFormat.apply(Er,ft):_:At,Pr=$t.selectAll(".tick").data(qr,Er),zr=Pr.enter().insert("g",".domain").attr("class","tick").style("opacity",ze),Kr=i.transition(Pr.exit()).style("opacity",ze).remove(),an=i.transition(Pr.order()).style("opacity",1),nn=Math.max(_e,0)+at,Zr,Nn=Go(Er),$n=$t.selectAll(".domain").data([0]),ia=($n.enter().append("path").attr("class","domain"),i.transition($n));zr.append("line"),zr.append("text");var na=zr.select("line"),wa=an.select("line"),ma=Pr.select("text").text(fn),Pa=zr.select("text"),Ma=an.select("text"),pa=Me==="top"||Me==="left"?-1:1,ja,Mi,Va,Qn;if(Me==="bottom"||Me==="top"?(Zr=bi,ja="x",Va="y",Mi="x2",Qn="y2",ma.attr("dy",pa<0?"0em":".71em").style("text-anchor","middle"),ia.attr("d","M"+Nn[0]+","+pa*je+"V0H"+Nn[1]+"V"+pa*je)):(Zr=fi,ja="y",Va="x",Mi="y2",Qn="x2",ma.attr("dy",".32em").style("text-anchor",pa<0?"end":"start"),ia.attr("d","M"+pa*je+","+Nn[0]+"H0V"+Nn[1]+"H"+pa*je)),na.attr(Qn,pa*_e),Pa.attr(Va,pa*nn),wa.attr(Mi,0).attr(Qn,pa*_e),Ma.attr(ja,0).attr(Va,pa*nn),Er.rangeBand){var za=Er,Ua=za.rangeBand()/2;Sr=Er=function(Ha){return za(Ha)+Ua}}else Sr.rangeBand?Sr=Er:Kr.call(Zr,Er,Sr);zr.call(Zr,Sr,Er),an.call(Zr,Er,Er)})}return Ht.scale=function(Qt){return arguments.length?(le=Qt,Ht):le},Ht.orient=function(Qt){return arguments.length?(Me=Qt in Li?Qt+"":Za,Ht):Me},Ht.ticks=function(){return arguments.length?(ft=C(arguments),Ht):ft},Ht.tickValues=function(Qt){return arguments.length?(_t=Qt,Ht):_t},Ht.tickFormat=function(Qt){return arguments.length?(At=Qt,Ht):At},Ht.tickSize=function(Qt){var $t=arguments.length;return $t?(_e=+Qt,je=+arguments[$t-1],Ht):_e},Ht.innerTickSize=function(Qt){return arguments.length?(_e=+Qt,Ht):_e},Ht.outerTickSize=function(Qt){return arguments.length?(je=+Qt,Ht):je},Ht.tickPadding=function(Qt){return arguments.length?(at=+Qt,Ht):at},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var Za="bottom",Li={top:1,right:1,bottom:1,left:1};function bi(le,Me,_e){le.attr("transform",function(je){var at=Me(je);return"translate("+(isFinite(at)?at:_e(je))+",0)"})}function fi(le,Me,_e){le.attr("transform",function(je){var at=Me(je);return"translate(0,"+(isFinite(at)?at:_e(je))+")"})}i.svg.brush=function(){var le=K($t,"brushstart","brush","brushend"),Me=null,_e=null,je=[0,0],at=[0,0],ft,_t,At=!0,Ht=!0,Qt=Ai[0];function $t(Pr){Pr.each(function(){var zr=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",fn).on("touchstart.brush",fn),Kr=zr.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),zr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var an=zr.selectAll(".resize").data(Qt,_);an.exit().remove(),an.enter().append("g").attr("class",function($n){return"resize "+$n}).style("cursor",function($n){return da[$n]}).append("rect").attr("x",function($n){return/[ew]$/.test($n)?-3:null}).attr("y",function($n){return/^[ns]/.test($n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),an.style("display",$t.empty()?"none":null);var nn=i.transition(zr),Zr=i.transition(Kr),Nn;Me&&(Nn=Go(Me),Zr.attr("x",Nn[0]).attr("width",Nn[1]-Nn[0]),Er(nn)),_e&&(Nn=Go(_e),Zr.attr("y",Nn[0]).attr("height",Nn[1]-Nn[0]),qr(nn)),Sr(nn)})}$t.event=function(Pr){Pr.each(function(){var zr=le.of(this,arguments),Kr={x:je,y:at,i:ft,j:_t},an=this.__chart__||Kr;this.__chart__=Kr,Dn?i.select(this).transition().each("start.brush",function(){ft=an.i,_t=an.j,je=an.x,at=an.y,zr({type:"brushstart"})}).tween("brush:brush",function(){var nn=Pl(je,Kr.x),Zr=Pl(at,Kr.y);return ft=_t=null,function(Nn){je=Kr.x=nn(Nn),at=Kr.y=Zr(Nn),zr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ft=Kr.i,_t=Kr.j,zr({type:"brush",mode:"resize"}),zr({type:"brushend"})}):(zr({type:"brushstart"}),zr({type:"brush",mode:"resize"}),zr({type:"brushend"}))})};function Sr(Pr){Pr.selectAll(".resize").attr("transform",function(zr){return"translate("+je[+/e$/.test(zr)]+","+at[+/^s/.test(zr)]+")"})}function Er(Pr){Pr.select(".extent").attr("x",je[0]),Pr.selectAll(".extent,.n>rect,.s>rect").attr("width",je[1]-je[0])}function qr(Pr){Pr.select(".extent").attr("y",at[0]),Pr.selectAll(".extent,.e>rect,.w>rect").attr("height",at[1]-at[0])}function fn(){var Pr=this,zr=i.select(i.event.target),Kr=le.of(Pr,arguments),an=i.select(Pr),nn=zr.datum(),Zr=!/^(n|s)$/.test(nn)&&Me,Nn=!/^(e|w)$/.test(nn)&&_e,$n=zr.classed("extent"),ia=Je(Pr),na,wa=i.mouse(Pr),ma,Pa=i.select(r(Pr)).on("keydown.brush",ja).on("keyup.brush",Mi);if(i.event.changedTouches?Pa.on("touchmove.brush",Va).on("touchend.brush",za):Pa.on("mousemove.brush",Va).on("mouseup.brush",za),an.interrupt().selectAll("*").interrupt(),$n)wa[0]=je[0]-wa[0],wa[1]=at[0]-wa[1];else if(nn){var Ma=+/w$/.test(nn),pa=+/^n/.test(nn);ma=[je[1-Ma]-wa[0],at[1-pa]-wa[1]],wa[0]=je[Ma],wa[1]=at[pa]}else i.event.altKey&&(na=wa.slice());an.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",zr.style("cursor")),Kr({type:"brushstart"}),Va();function ja(){i.event.keyCode==32&&($n||(na=null,wa[0]-=je[1],wa[1]-=at[1],$n=2),se())}function Mi(){i.event.keyCode==32&&$n==2&&(wa[0]+=je[1],wa[1]+=at[1],$n=0,se())}function Va(){var Ua=i.mouse(Pr),Ha=!1;ma&&(Ua[0]+=ma[0],Ua[1]+=ma[1]),$n||(i.event.altKey?(na||(na=[(je[0]+je[1])/2,(at[0]+at[1])/2]),wa[0]=je[+(Ua[0]<na[0])],wa[1]=at[+(Ua[1]<na[1])]):na=null),Zr&&Qn(Ua,Me,0)&&(Er(an),Ha=!0),Nn&&Qn(Ua,_e,1)&&(qr(an),Ha=!0),Ha&&(Sr(an),Kr({type:"brush",mode:$n?"move":"resize"}))}function Qn(Ua,Ha,gi){var qn=Go(Ha),Ta=qn[0],Di=qn[1],yi=wa[gi],zi=gi?at:je,ci=zi[1]-zi[0],Pi,Ri;if($n&&(Ta-=yi,Di-=ci+yi),Pi=(gi?Ht:At)?Math.max(Ta,Math.min(Di,Ua[gi])):Ua[gi],$n?Ri=(Pi+=yi)+ci:(na&&(yi=Math.max(Ta,Math.min(Di,2*na[gi]-Pi))),yi<Pi?(Ri=Pi,Pi=yi):Ri=yi),zi[0]!=Pi||zi[1]!=Ri)return gi?_t=null:ft=null,zi[0]=Pi,zi[1]=Ri,!0}function za(){Va(),an.style("pointer-events","all").selectAll(".resize").style("display",$t.empty()?"none":null),i.select("body").style("cursor",null),Pa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ia(),Kr({type:"brushend"})}}return $t.x=function(Pr){return arguments.length?(Me=Pr,Qt=Ai[!Me<<1|!_e],$t):Me},$t.y=function(Pr){return arguments.length?(_e=Pr,Qt=Ai[!Me<<1|!_e],$t):_e},$t.clamp=function(Pr){return arguments.length?(Me&&_e?(At=!!Pr[0],Ht=!!Pr[1]):Me?At=!!Pr:_e&&(Ht=!!Pr),$t):Me&&_e?[At,Ht]:Me?At:_e?Ht:null},$t.extent=function(Pr){var zr,Kr,an,nn,Zr;return arguments.length?(Me&&(zr=Pr[0],Kr=Pr[1],_e&&(zr=zr[0],Kr=Kr[0]),ft=[zr,Kr],Me.invert&&(zr=Me(zr),Kr=Me(Kr)),Kr<zr&&(Zr=zr,zr=Kr,Kr=Zr),(zr!=je[0]||Kr!=je[1])&&(je=[zr,Kr])),_e&&(an=Pr[0],nn=Pr[1],Me&&(an=an[1],nn=nn[1]),_t=[an,nn],_e.invert&&(an=_e(an),nn=_e(nn)),nn<an&&(Zr=an,an=nn,nn=Zr),(an!=at[0]||nn!=at[1])&&(at=[an,nn])),$t):(Me&&(ft?(zr=ft[0],Kr=ft[1]):(zr=je[0],Kr=je[1],Me.invert&&(zr=Me.invert(zr),Kr=Me.invert(Kr)),Kr<zr&&(Zr=zr,zr=Kr,Kr=Zr))),_e&&(_t?(an=_t[0],nn=_t[1]):(an=at[0],nn=at[1],_e.invert&&(an=_e.invert(an),nn=_e.invert(nn)),nn<an&&(Zr=an,an=nn,nn=Zr))),Me&&_e?[[zr,an],[Kr,nn]]:Me?[zr,Kr]:_e&&[an,nn])},$t.clear=function(){return $t.empty()||(je=[0,0],at=[0,0],ft=_t=null),$t},$t.empty=function(){return!!Me&&je[0]==je[1]||!!_e&&at[0]==at[1]},i.rebind($t,le,"on")};var da={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ai=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=Dr(function(le){return le.responseText}),i.json=function(le,Me){return Nr(le,"application/json",Xo,Me)};function Xo(le){return JSON.parse(le.responseText)}i.html=function(le,Me){return Nr(le,"text/html",Js,Me)};function Js(le){var Me=c.createRange();return Me.selectNode(c.body),Me.createContextualFragment(le.responseText)}i.xml=Dr(function(le){return le.responseXML}),x=i,P=typeof x=="function"?x.call(U,e,U,V):x,P!==void 0&&(V.exports=P)}).apply(self)},3480:function(V){(function(U,e){V.exports=e()})(this,function(){"use strict";var U,e,x;function P(i,L){if(!U)U=L;else if(!e)e=L;else{var C="var sharedChunk = {}; ("+U+")(sharedChunk); ("+e+")(sharedChunk);",c={};U(c),x=L(c),typeof window!="undefined"&&(x.workerUrl=window.URL.createObjectURL(new Blob([C],{type:"text/javascript"})))}}return P(["exports"],function(i){"use strict";function L(D,I){return I={exports:{}},D(I,I.exports),I.exports}var C="1.13.4",c=y;function y(D,I,H,ne){this.cx=3*D,this.bx=3*(H-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(ne-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ne,this.p2x=H,this.p2y=ne}y.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},y.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},y.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},y.prototype.solveCurveX=function(D,I){typeof I=="undefined"&&(I=1e-6);var H,ne,he,we,Ce;for(he=D,Ce=0;Ce<8;Ce++){if(we=this.sampleCurveX(he)-D,Math.abs(we)<I)return he;var qe=this.sampleCurveDerivativeX(he);if(Math.abs(qe)<1e-6)break;he=he-we/qe}if(H=0,ne=1,he=D,he<H)return H;if(he>ne)return ne;for(;H<ne;){if(we=this.sampleCurveX(he),Math.abs(we-D)<I)return he;D>we?H=he:ne=he,he=(ne-H)*.5+H}return he},y.prototype.solve=function(D,I){return this.sampleCurveY(this.solveCurveX(D,I))};var r=t;function t(D,I){this.x=D,this.y=I}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,I){return this.clone()._rotateAround(D,I)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var I=D.x-this.x,H=D.y-this.y;return I*I+H*H},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,I){return Math.atan2(this.x*I-this.y*D,this.x*D+this.y*I)},_matMult:function(D){var I=D[0]*this.x+D[1]*this.y,H=D[2]*this.x+D[3]*this.y;return this.x=I,this.y=H,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var I=Math.cos(D),H=Math.sin(D),ne=I*this.x-H*this.y,he=H*this.x+I*this.y;return this.x=ne,this.y=he,this},_rotateAround:function(D,I){var H=Math.cos(D),ne=Math.sin(D),he=I.x+H*(this.x-I.x)-ne*(this.y-I.y),we=I.y+ne*(this.x-I.x)+H*(this.y-I.y);return this.x=he,this.y=we,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var s=typeof self!="undefined"?self:{};function n(D,I){if(Array.isArray(D)){if(!Array.isArray(I)||D.length!==I.length)return!1;for(var H=0;H<D.length;H++)if(!n(D[H],I[H]))return!1;return!0}if(typeof D=="object"&&D!==null&&I!==null){if(typeof I!="object")return!1;var ne=Object.keys(D);if(ne.length!==Object.keys(I).length)return!1;for(var he in D)if(!n(D[he],I[he]))return!1;return!0}return D===I}var u=Math.pow(2,53)-1;function l(D){if(D<=0)return 0;if(D>=1)return 1;var I=D*D,H=I*D;return 4*(D<.5?H:3*(D-I)+H-.75)}function f(D,I,H,ne){var he=new c(D,I,H,ne);return function(we){return he.solve(we)}}var g=f(.25,.1,.25,1);function h(D,I,H){return Math.min(H,Math.max(I,D))}function w(D,I,H){var ne=H-I,he=((D-I)%ne+ne)%ne+I;return he===I?H:he}function d(D,I,H){if(!D.length)return H(null,[]);var ne=D.length,he=new Array(D.length),we=null;D.forEach(function(Ce,qe){I(Ce,function(vt,Tt){vt&&(we=vt),he[qe]=Tt,--ne===0&&H(we,he)})})}function o(D){var I=[];for(var H in D)I.push(D[H]);return I}function v(D,I){var H=[];for(var ne in D)ne in I||H.push(ne);return H}function A(D){for(var I=[],H=arguments.length-1;H-- >0;)I[H]=arguments[H+1];for(var ne=0,he=I;ne<he.length;ne+=1){var we=he[ne];for(var Ce in we)D[Ce]=we[Ce]}return D}function b(D,I){for(var H={},ne=0;ne<I.length;ne++){var he=I[ne];he in D&&(H[he]=D[he])}return H}var M=1;function m(){return M++}function S(){function D(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function T(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function a(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function E(D,I){D.forEach(function(H){I[H]&&(I[H]=I[H].bind(I))})}function p(D,I){return D.indexOf(I,D.length-I.length)!==-1}function k(D,I,H){var ne={};for(var he in D)ne[he]=I.call(H||this,D[he],he,D);return ne}function R(D,I,H){var ne={};for(var he in D)I.call(H||this,D[he],he,D)&&(ne[he]=D[he]);return ne}function B(D){return Array.isArray(D)?D.map(B):typeof D=="object"&&D?k(D,B):D}function F(D,I){for(var H=0;H<D.length;H++)if(I.indexOf(D[H])>=0)return!0;return!1}var _={};function O(D){_[D]||(typeof console!="undefined"&&console.warn(D),_[D]=!0)}function z(D,I,H){return(H.y-D.y)*(I.x-D.x)>(I.y-D.y)*(H.x-D.x)}function N(D){for(var I=0,H=0,ne=D.length,he=ne-1,we=void 0,Ce=void 0;H<ne;he=H++)we=D[H],Ce=D[he],I+=(Ce.x-we.x)*(we.y+Ce.y);return I}function Y(D){var I=D[0],H=D[1],ne=D[2];return H+=90,H*=Math.PI/180,ne*=Math.PI/180,{x:I*Math.cos(H)*Math.sin(ne),y:I*Math.sin(H)*Math.sin(ne),z:I*Math.cos(ne)}}function J(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function ae(D){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,H={};if(D.replace(I,function(he,we,Ce,qe){var vt=Ce||qe;return H[we]=vt?vt.toLowerCase():!0,""}),H["max-age"]){var ne=parseInt(H["max-age"],10);isNaN(ne)?delete H["max-age"]:H["max-age"]=ne}return H}var se=null;function ue(D){if(se==null){var I=D.navigator?D.navigator.userAgent:null;se=!!D.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return se}function K(D){try{var I=s[D];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch(H){return!1}}function j(D){return s.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(I,H){return String.fromCharCode(+("0x"+H))}))}function ie(D){return decodeURIComponent(s.atob(D).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var W=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now.bind(Date),Q=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||s.msRequestAnimationFrame,ee=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame||s.msCancelAnimationFrame,$,X,oe={now:W,frame:function(I){var H=Q(I);return{cancel:function(){return ee(H)}}},getImageData:function(I,H){H===void 0&&(H=0);var ne=s.document.createElement("canvas"),he=ne.getContext("2d");if(!he)throw new Error("failed to create canvas 2d context");return ne.width=I.width,ne.height=I.height,he.drawImage(I,0,0,I.width,I.height),he.getImageData(-H,-H,I.width+2*H,I.height+2*H)},resolveURL:function(I){return $||($=s.document.createElement("a")),$.href=I,$.href},hardwareConcurrency:s.navigator&&s.navigator.hardwareConcurrency||4,get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return s.matchMedia?(X==null&&(X=s.matchMedia("(prefers-reduced-motion: reduce)")),X.matches):!1}},te={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:me},pe,Ae=!1,be,Pe=!1;s.document&&(be=s.document.createElement("img"),be.onload=function(){pe&&Ee(pe),pe=null,Pe=!0},be.onerror=function(){Ae=!0,pe=null},be.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function me(D){Ae||!be||(Pe?Ee(D):pe=D)}function Ee(D){var I=D.createTexture();D.bindTexture(D.TEXTURE_2D,I);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,be),D.isContextLost())return;fe.supported=!0}catch(H){}D.deleteTexture(I),Ae=!0}var xe="01";function De(){for(var D="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H="",ne=0;ne<10;ne++)H+=I[Math.floor(Math.random()*62)];var he=12*60*60*1e3,we=[D,xe,H].join(""),Ce=Date.now()+he;return{token:we,tokenExpiresAt:Ce}}var Ve=function(I,H){this._transformRequestFn=I,this._customAccessToken=H,this._createSkuToken()};Ve.prototype._createSkuToken=function(){var I=De();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Ve.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ve.prototype.transformRequest=function(I,H){return this._transformRequestFn?this._transformRequestFn(I,H)||{url:I}:{url:I}},Ve.prototype.normalizeStyleURL=function(I,H){if(!Ze(I))return I;var ne=Fe(I);return ne.path="/styles/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||H)},Ve.prototype.normalizeGlyphsURL=function(I,H){if(!Ze(I))return I;var ne=Fe(I);return ne.path="/fonts/v1"+ne.path,this._makeAPIURL(ne,this._customAccessToken||H)},Ve.prototype.normalizeSourceURL=function(I,H){if(!Ze(I))return I;var ne=Fe(I);return ne.path="/v4/"+ne.authority+".json",ne.params.push("secure"),this._makeAPIURL(ne,this._customAccessToken||H)},Ve.prototype.normalizeSpriteURL=function(I,H,ne,he){var we=Fe(I);return Ze(I)?(we.path="/styles/v1"+we.path+"/sprite"+H+ne,this._makeAPIURL(we,this._customAccessToken||he)):(we.path+=""+H+ne,nt(we))},Ve.prototype.normalizeTileURL=function(I,H){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!Ze(I))return I;var ne=Fe(I),he=/(\.(png|jpg)\d*)(?=$)/,we=/^.+\/v4\//,Ce=oe.devicePixelRatio>=2||H===512?"@2x":"",qe=fe.supported?".webp":"$1";ne.path=ne.path.replace(he,""+Ce+qe),ne.path=ne.path.replace(we,"/"),ne.path="/v4"+ne.path;var vt=this._customAccessToken||yt(ne.params)||te.ACCESS_TOKEN;return te.REQUIRE_ACCESS_TOKEN&&vt&&this._skuToken&&ne.params.push("sku="+this._skuToken),this._makeAPIURL(ne,vt)},Ve.prototype.canonicalizeTileURL=function(I,H){var ne="/v4/",he=/\.[\w]+$/,we=Fe(I);if(!we.path.match(/(^\/v4\/)/)||!we.path.match(he))return I;var Ce="mapbox://tiles/";Ce+=we.path.replace(ne,"");var qe=we.params;return H&&(qe=qe.filter(function(vt){return!vt.match(/^access_token=/)})),qe.length&&(Ce+="?"+qe.join("&")),Ce},Ve.prototype.canonicalizeTileset=function(I,H){for(var ne=H?Ze(H):!1,he=[],we=0,Ce=I.tiles||[];we<Ce.length;we+=1){var qe=Ce[we];Ye(qe)?he.push(this.canonicalizeTileURL(qe,ne)):he.push(qe)}return he},Ve.prototype._makeAPIURL=function(I,H){var ne="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",he=Fe(te.API_URL);if(I.protocol=he.protocol,I.authority=he.authority,I.protocol==="http"){var we=I.params.indexOf("secure");we>=0&&I.params.splice(we,1)}if(he.path!=="/"&&(I.path=""+he.path+I.path),!te.REQUIRE_ACCESS_TOKEN)return nt(I);if(H=H||te.ACCESS_TOKEN,!H)throw new Error("An API access token is required to use Mapbox GL. "+ne);if(H[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ne);return I.params=I.params.filter(function(Ce){return Ce.indexOf("access_token")===-1}),I.params.push("access_token="+H),nt(I)};function Ze(D){return D.indexOf("mapbox:")===0}var ke=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ye(D){return ke.test(D)}function lt(D){return D.indexOf("sku=")>0&&Ye(D)}function yt(D){for(var I=0,H=D;I<H.length;I+=1){var ne=H[I],he=ne.match(/^access_token=(.*)$/);if(he)return he[1]}return null}var He=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Fe(D){var I=D.match(He);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function nt(D){var I=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+I}var ot="mapbox.eventData";function ct(D){if(!D)return null;var I=D.split(".");if(!I||I.length!==3)return null;try{var H=JSON.parse(ie(I[1]));return H}catch(ne){return null}}var ht=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ht.prototype.getStorageKey=function(I){var H=ct(te.ACCESS_TOKEN),ne="";return H&&H.u?ne=j(H.u):ne=te.ACCESS_TOKEN||"",I?ot+"."+I+":"+ne:ot+":"+ne},ht.prototype.fetchEventData=function(){var I=K("localStorage"),H=this.getStorageKey(),ne=this.getStorageKey("uuid");if(I)try{var he=s.localStorage.getItem(H);he&&(this.eventData=JSON.parse(he));var we=s.localStorage.getItem(ne);we&&(this.anonId=we)}catch(Ce){O("Unable to read from LocalStorage")}},ht.prototype.saveEventData=function(){var I=K("localStorage"),H=this.getStorageKey(),ne=this.getStorageKey("uuid");if(I)try{s.localStorage.setItem(ne,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(H,JSON.stringify(this.eventData))}catch(he){O("Unable to write to LocalStorage")}},ht.prototype.processRequests=function(I){},ht.prototype.postEvent=function(I,H,ne,he){var we=this;if(te.EVENTS_URL){var Ce=Fe(te.EVENTS_URL);Ce.params.push("access_token="+(he||te.ACCESS_TOKEN||""));var qe={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:C,skuId:xe,userId:this.anonId},vt=H?A(qe,H):qe,Tt={url:nt(Ce),headers:{"Content-Type":"text/plain"},body:JSON.stringify([vt])};this.pendingRequest=Bt(Tt,function(Pt){we.pendingRequest=null,ne(Pt),we.saveEventData(),we.processRequests(he)})}},ht.prototype.queueRequest=function(I,H){this.queue.push(I),this.processRequests(H)};var mt=function(D){function I(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(ne,he,we,Ce){this.skuToken=we,(te.EVENTS_URL&&Ce||te.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(qe){return Ze(qe)||Ye(qe)}))&&this.queueRequest({id:he,timestamp:Date.now()},Ce)},I.prototype.processRequests=function(ne){var he=this;if(!(this.pendingRequest||this.queue.length===0)){var we=this.queue.shift(),Ce=we.id,qe=we.timestamp;Ce&&this.success[Ce]||(this.anonId||this.fetchEventData(),a(this.anonId)||(this.anonId=S()),this.postEvent(qe,{skuToken:this.skuToken},function(vt){vt||Ce&&(he.success[Ce]=!0)},ne))}},I}(ht),tt=function(D){function I(H){D.call(this,"appUserTurnstile"),this._customAccessToken=H}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(ne,he){te.EVENTS_URL&&te.ACCESS_TOKEN&&Array.isArray(ne)&&ne.some(function(we){return Ze(we)||Ye(we)})&&this.queueRequest(Date.now(),he)},I.prototype.processRequests=function(ne){var he=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var we=ct(te.ACCESS_TOKEN),Ce=we?we.u:te.ACCESS_TOKEN,qe=Ce!==this.eventData.tokenU;a(this.anonId)||(this.anonId=S(),qe=!0);var vt=this.queue.shift();if(this.eventData.lastSuccess){var Tt=new Date(this.eventData.lastSuccess),Pt=new Date(vt),Gt=(vt-this.eventData.lastSuccess)/(24*60*60*1e3);qe=qe||Gt>=1||Gt<-1||Tt.getDate()!==Pt.getDate()}else qe=!0;if(!qe)return this.processRequests();this.postEvent(vt,{"enabled.telemetry":!1},function(er){er||(he.eventData.lastSuccess=vt,he.eventData.tokenU=Ce)},ne)}},I}(ht),Re=new tt,Ge=Re.postTurnstileEvent.bind(Re),Je=new mt,Xe=Je.postMapLoadEvent.bind(Je),Oe="mapbox-tiles",Ne=500,ze=50,et=1e3*60*7,Le;function Te(){s.caches&&!Le&&(Le=s.caches.open(Oe))}var ye;function Se(D,I){if(ye===void 0)try{new Response(new ReadableStream),ye=!0}catch(H){ye=!1}ye?I(D.body):D.blob().then(I)}function Ke(D,I,H){if(Te(),!!Le){var ne={status:I.status,statusText:I.statusText,headers:new s.Headers};I.headers.forEach(function(Ce,qe){return ne.headers.set(qe,Ce)});var he=ae(I.headers.get("Cache-Control")||"");if(!he["no-store"]){he["max-age"]&&ne.headers.set("Expires",new Date(H+he["max-age"]*1e3).toUTCString());var we=new Date(ne.headers.get("Expires")).getTime()-H;we<et||Se(I,function(Ce){var qe=new s.Response(Ce,ne);Te(),Le&&Le.then(function(vt){return vt.put(rt(D.url),qe)}).catch(function(vt){return O(vt.message)})})}}}function rt(D){var I=D.indexOf("?");return I<0?D:D.slice(0,I)}function Lt(D,I){if(Te(),!Le)return I(null);var H=rt(D.url);Le.then(function(ne){ne.match(H).then(function(he){var we=It(he);ne.delete(H),we&&ne.put(H,he.clone()),I(null,he,we)}).catch(I)}).catch(I)}function It(D){if(!D)return!1;var I=new Date(D.headers.get("Expires")||0),H=ae(D.headers.get("Cache-Control")||"");return I>Date.now()&&!H["no-cache"]}var wt=1/0;function Et(D){wt++,wt>ze&&(D.getActor().send("enforceCacheSizeLimit",Ne),wt=0)}function Wt(D){Te(),Le&&Le.then(function(I){I.keys().then(function(H){for(var ne=0;ne<H.length-D;ne++)I.delete(H[ne])})})}function vr(D){var I=s.caches.delete(Oe);D&&I.catch(D).then(function(){return D()})}function dt(D,I){Ne=D,ze=I}var Yt;function jt(){return Yt==null&&(Yt=s.OffscreenCanvas&&new s.OffscreenCanvas(1,1).getContext("2d")&&typeof s.createImageBitmap=="function"),Yt}var gr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(gr);var sr=function(D){function I(H,ne,he){ne===401&&Ye(he)&&(H+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,H),this.status=ne,this.url=he,this.name=this.constructor.name,this.message=H}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),gt=J()?function(){return self.worker&&self.worker.referrer}:function(){return(s.location.protocol==="blob:"?s.parent:s).location.href},st=function(D){return/^file:/.test(D)||/^file:/.test(gt())&&!/^\w+:/.test(D)};function xt(D,I){var H=new s.AbortController,ne=new s.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:gt(),signal:H.signal}),he=!1,we=!1,Ce=lt(ne.url);D.type==="json"&&ne.headers.set("Accept","application/json");var qe=function(Tt,Pt,Gt){if(!we){if(Tt&&Tt.message!=="SecurityError"&&O(Tt),Pt&&Gt)return vt(Pt);var er=Date.now();s.fetch(ne).then(function(Jt){if(Jt.ok){var xr=Ce?Jt.clone():null;return vt(Jt,xr,er)}else return I(new sr(Jt.statusText,Jt.status,D.url))}).catch(function(Jt){Jt.code!==20&&I(new Error(Jt.message))})}},vt=function(Tt,Pt,Gt){(D.type==="arrayBuffer"?Tt.arrayBuffer():D.type==="json"?Tt.json():Tt.text()).then(function(er){we||(Pt&&Gt&&Ke(ne,Pt,Gt),he=!0,I(null,er,Tt.headers.get("Cache-Control"),Tt.headers.get("Expires")))}).catch(function(er){we||I(new Error(er.message))})};return Ce?Lt(ne,qe):qe(null,null),{cancel:function(){we=!0,he||H.abort()}}}function Mt(D,I){var H=new s.XMLHttpRequest;H.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(H.responseType="arraybuffer");for(var ne in D.headers)H.setRequestHeader(ne,D.headers[ne]);return D.type==="json"&&(H.responseType="text",H.setRequestHeader("Accept","application/json")),H.withCredentials=D.credentials==="include",H.onerror=function(){I(new Error(H.statusText))},H.onload=function(){if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){var he=H.response;if(D.type==="json")try{he=JSON.parse(H.response)}catch(we){return I(we)}I(null,he,H.getResponseHeader("Cache-Control"),H.getResponseHeader("Expires"))}else I(new sr(H.statusText,H.status,D.url))},H.send(D.body),{cancel:function(){return H.abort()}}}var Rt=function(D,I){if(!st(D.url)){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return xt(D,I);if(J()&&self.worker&&self.worker.actor){var H=!0;return self.worker.actor.send("getResource",D,I,void 0,H)}}return Mt(D,I)},Vt=function(D,I){return Rt(A(D,{type:"json"}),I)},Ct=function(D,I){return Rt(A(D,{type:"arrayBuffer"}),I)},Bt=function(D,I){return Rt(A(D,{method:"POST"}),I)};function Xt(D){var I=s.document.createElement("a");return I.href=D,I.protocol===s.document.location.protocol&&I.host===s.document.location.host}var ir="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function or(D,I,H,ne){var he=new s.Image,we=s.URL;he.onload=function(){I(null,he),we.revokeObjectURL(he.src),he.onload=null,s.requestAnimationFrame(function(){he.src=ir})},he.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ce=new s.Blob([new Uint8Array(D)],{type:"image/png"});he.cacheControl=H,he.expires=ne,he.src=D.byteLength?we.createObjectURL(Ce):ir}function cr(D,I){var H=new s.Blob([new Uint8Array(D)],{type:"image/png"});s.createImageBitmap(H).then(function(ne){I(null,ne)}).catch(function(ne){I(new Error("Could not load image because of "+ne.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var We,Ue,Ft=function(){We=[],Ue=0};Ft();var kt=function(D,I){if(fe.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),Ue>=te.MAX_PARALLEL_IMAGE_REQUESTS){var H={requestParameters:D,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return We.push(H),H}Ue++;var ne=!1,he=function(){if(!ne)for(ne=!0,Ue--;We.length&&Ue<te.MAX_PARALLEL_IMAGE_REQUESTS;){var Ce=We.shift(),qe=Ce.requestParameters,vt=Ce.callback,Tt=Ce.cancelled;Tt||(Ce.cancel=kt(qe,vt).cancel)}},we=Ct(D,function(Ce,qe,vt,Tt){he(),Ce?I(Ce):qe&&(jt()?cr(qe,I):or(qe,I,vt,Tt))});return{cancel:function(){we.cancel(),he()}}},Zt=function(D,I){var H=s.document.createElement("video");H.muted=!0,H.onloadstart=function(){I(null,H)};for(var ne=0;ne<D.length;ne++){var he=s.document.createElement("source");Xt(D[ne])||(H.crossOrigin="Anonymous"),he.src=D[ne],H.appendChild(he)}return{cancel:function(){}}};function rr(D,I,H){var ne=H[D]&&H[D].indexOf(I)!==-1;ne||(H[D]=H[D]||[],H[D].push(I))}function lr(D,I,H){if(H&&H[D]){var ne=H[D].indexOf(I);ne!==-1&&H[D].splice(ne,1)}}var qt=function(I,H){H===void 0&&(H={}),A(this,H),this.type=I},Ot=function(D){function I(H,ne){ne===void 0&&(ne={}),D.call(this,"error",A({error:H},ne))}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(qt),tr=function(){};tr.prototype.on=function(I,H){return this._listeners=this._listeners||{},rr(I,H,this._listeners),this},tr.prototype.off=function(I,H){return lr(I,H,this._listeners),lr(I,H,this._oneTimeListeners),this},tr.prototype.once=function(I,H){return this._oneTimeListeners=this._oneTimeListeners||{},rr(I,H,this._oneTimeListeners),this},tr.prototype.fire=function(I,H){typeof I=="string"&&(I=new qt(I,H||{}));var ne=I.type;if(this.listens(ne)){I.target=this;for(var he=this._listeners&&this._listeners[ne]?this._listeners[ne].slice():[],we=0,Ce=he;we<Ce.length;we+=1){var qe=Ce[we];qe.call(this,I)}for(var vt=this._oneTimeListeners&&this._oneTimeListeners[ne]?this._oneTimeListeners[ne].slice():[],Tt=0,Pt=vt;Tt<Pt.length;Tt+=1){var Gt=Pt[Tt];lr(ne,Gt,this._oneTimeListeners),Gt.call(this,I)}var er=this._eventedParent;er&&(A(I,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),er.fire(I))}else I instanceof Ot&&console.error(I.error);return this},tr.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},tr.prototype.setEventedParent=function(I,H){return this._eventedParent=I,this._eventedParentData=H,this};var dr=8,mr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},Cr={"*":{type:"source"}},$r=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],yr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Gr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},rn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},_r={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},bn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},xn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},fr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Dr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Nr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ur={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},on={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ta={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Un={type:"array",value:"*"},ra={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Jn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ea={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},pr={type:"array",value:"*",minimum:1},Jr={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Xr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],vn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Bn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Tn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Mn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},On={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Wn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},oa={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ra={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ar={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Ir={"*":{type:"string"}},Tr={$version:dr,$root:mr,sources:Cr,source:$r,source_vector:yr,source_raster:Gr,source_raster_dem:rn,source_geojson:_r,source_video:bn,source_image:xn,layer:fr,layout:Dr,layout_background:Nr,layout_fill:Ur,layout_circle:on,layout_heatmap:gn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:yn,layout_symbol:Pn,layout_raster:zn,layout_hillshade:ta,filter:Un,filter_operator:ra,geometry_type:Jn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ea,expression:pr,light:Jr,paint:Xr,paint_fill:vn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Bn,paint_circle:Tn,paint_heatmap:Mn,paint_symbol:On,paint_raster:Wn,paint_hillshade:oa,paint_background:Ra,transition:Ar,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Ir},Fr=function(I,H,ne,he){this.message=(I?I+": ":"")+ne,he&&(this.identifier=he),H!=null&&H.__line__&&(this.line=H.__line__)};function dn(D){var I=D.key,H=D.value;return H?[new Fr(I,H,"constants have been deprecated as of v8")]:[]}function Ln(D){for(var I=[],H=arguments.length-1;H-- >0;)I[H]=arguments[H+1];for(var ne=0,he=I;ne<he.length;ne+=1){var we=he[ne];for(var Ce in we)D[Ce]=we[Ce]}return D}function hn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function ln(D){if(Array.isArray(D))return D.map(ln);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var I={};for(var H in D)I[H]=ln(D[H]);return I}return hn(D)}var Mr=function(D){function I(H,ne){D.call(this,ne),this.message=ne,this.key=H}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Error),Yr=function(I,H){H===void 0&&(H=[]),this.parent=I,this.bindings={};for(var ne=0,he=H;ne<he.length;ne+=1){var we=he[ne],Ce=we[0],qe=we[1];this.bindings[Ce]=qe}};Yr.prototype.concat=function(I){return new Yr(this,I)},Yr.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},Yr.prototype.has=function(I){return this.bindings[I]?!0:this.parent?this.parent.has(I):!1};var Br={kind:"null"},Qr={kind:"number"},wn={kind:"string"},En={kind:"boolean"},Cn={kind:"color"},Fn={kind:"object"},kn={kind:"value"},ha={kind:"error"},ca={kind:"collator"},sa={kind:"formatted"},Da={kind:"resolvedImage"};function si(D,I){return{kind:"array",itemType:D,N:I}}function ii(D){if(D.kind==="array"){var I=ii(D.itemType);return typeof D.N=="number"?"array<"+I+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+I+">"}else return D.kind}var Lo=[Br,Qr,wn,En,Cn,sa,Fn,si(kn),Da];function xo(D,I){if(I.kind==="error")return null;if(D.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!xo(D.itemType,I.itemType))&&(typeof D.N!="number"||D.N===I.N))return null}else{if(D.kind===I.kind)return null;if(D.kind==="value")for(var H=0,ne=Lo;H<ne.length;H+=1){var he=ne[H];if(!xo(he,I))return null}}return"Expected "+ii(D)+" but found "+ii(I)+" instead."}function Gs(D,I){return I.some(function(H){return H.kind===D.kind})}function co(D,I){return I.some(function(H){return H==="null"?D===null:H==="array"?Array.isArray(D):H==="object"?D&&!Array.isArray(D)&&typeof D=="object":H===typeof D})}var au=L(function(D,I){var H={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ne(Tt){return Tt=Math.round(Tt),Tt<0?0:Tt>255?255:Tt}function he(Tt){return Tt<0?0:Tt>1?1:Tt}function we(Tt){return Tt[Tt.length-1]==="%"?ne(parseFloat(Tt)/100*255):ne(parseInt(Tt))}function Ce(Tt){return Tt[Tt.length-1]==="%"?he(parseFloat(Tt)/100):he(parseFloat(Tt))}function qe(Tt,Pt,Gt){return Gt<0?Gt+=1:Gt>1&&(Gt-=1),Gt*6<1?Tt+(Pt-Tt)*Gt*6:Gt*2<1?Pt:Gt*3<2?Tt+(Pt-Tt)*(2/3-Gt)*6:Tt}function vt(Tt){var Pt=Tt.replace(/ /g,"").toLowerCase();if(Pt in H)return H[Pt].slice();if(Pt[0]==="#"){if(Pt.length===4){var Gt=parseInt(Pt.substr(1),16);return Gt>=0&&Gt<=4095?[(Gt&3840)>>4|(Gt&3840)>>8,Gt&240|(Gt&240)>>4,Gt&15|(Gt&15)<<4,1]:null}else if(Pt.length===7){var Gt=parseInt(Pt.substr(1),16);return Gt>=0&&Gt<=16777215?[(Gt&16711680)>>16,(Gt&65280)>>8,Gt&255,1]:null}return null}var er=Pt.indexOf("("),Jt=Pt.indexOf(")");if(er!==-1&&Jt+1===Pt.length){var xr=Pt.substr(0,er),kr=Pt.substr(er+1,Jt-(er+1)).split(","),un=1;switch(xr){case"rgba":if(kr.length!==4)return null;un=Ce(kr.pop());case"rgb":return kr.length!==3?null:[we(kr[0]),we(kr[1]),we(kr[2]),un];case"hsla":if(kr.length!==4)return null;un=Ce(kr.pop());case"hsl":if(kr.length!==3)return null;var en=(parseFloat(kr[0])%360+360)%360/360,Sn=Ce(kr[1]),pn=Ce(kr[2]),An=pn<=.5?pn*(Sn+1):pn+Sn-pn*Sn,In=pn*2-An;return[ne(qe(In,An,en+1/3)*255),ne(qe(In,An,en)*255),ne(qe(In,An,en-1/3)*255),un];default:return null}}return null}try{I.parseCSSColor=vt}catch(Tt){}}),Ll=au.parseCSSColor,ai=function(I,H,ne,he){he===void 0&&(he=1),this.r=I,this.g=H,this.b=ne,this.a=he};ai.parse=function(I){if(I){if(I instanceof ai)return I;if(typeof I=="string"){var H=Ll(I);if(H)return new ai(H[0]/255*H[3],H[1]/255*H[3],H[2]/255*H[3],H[3])}}},ai.prototype.toString=function(){var I=this.toArray(),H=I[0],ne=I[1],he=I[2],we=I[3];return"rgba("+Math.round(H)+","+Math.round(ne)+","+Math.round(he)+","+we+")"},ai.prototype.toArray=function(){var I=this,H=I.r,ne=I.g,he=I.b,we=I.a;return we===0?[0,0,0,0]:[H*255/we,ne*255/we,he*255/we,we]},ai.black=new ai(0,0,0,1),ai.white=new ai(1,1,1,1),ai.transparent=new ai(0,0,0,0),ai.red=new ai(1,0,0,1);var sl=function(I,H,ne){I?this.sensitivity=H?"variant":"case":this.sensitivity=H?"accent":"base",this.locale=ne,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};sl.prototype.compare=function(I,H){return this.collator.compare(I,H)},sl.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var vf=function(I,H,ne,he,we){this.text=I,this.image=H,this.scale=ne,this.fontStack=he,this.textColor=we},Oi=function(I){this.sections=I};Oi.fromString=function(I){return new Oi([new vf(I,null,null,null,null)])},Oi.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(I){return I.text.length!==0||I.image&&I.image.name.length!==0})},Oi.factory=function(I){return I instanceof Oi?I:Oi.fromString(I)},Oi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(I){return I.text}).join("")},Oi.prototype.serialize=function(){for(var I=["format"],H=0,ne=this.sections;H<ne.length;H+=1){var he=ne[H];if(he.image){I.push(["image",he.image.name]);continue}I.push(he.text);var we={};he.fontStack&&(we["text-font"]=["literal",he.fontStack.split(",")]),he.scale&&(we["font-scale"]=he.scale),he.textColor&&(we["text-color"]=["rgba"].concat(he.textColor.toArray())),I.push(we)}return I};var bo=function(I){this.name=I.name,this.available=I.available};bo.prototype.toString=function(){return this.name},bo.fromString=function(I){return I?new bo({name:I,available:!1}):null},bo.prototype.serialize=function(){return["image",this.name]};function Qf(D,I,H,ne){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof H=="number"&&H>=0&&H<=255)){var he=typeof ne=="number"?[D,I,H,ne]:[D,I,H];return"Invalid rgba value ["+he.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ne=="undefined"||typeof ne=="number"&&ne>=0&&ne<=1?null:"Invalid rgba value ["+[D,I,H,ne].join(", ")+"]: 'a' must be between 0 and 1."}function Uu(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof ai)return!0;if(D instanceof sl)return!0;if(D instanceof Oi)return!0;if(D instanceof bo)return!0;if(Array.isArray(D)){for(var I=0,H=D;I<H.length;I+=1){var ne=H[I];if(!Uu(ne))return!1}return!0}else if(typeof D=="object"){for(var he in D)if(!Uu(D[he]))return!1;return!0}else return!1}function Bi(D){if(D===null)return Br;if(typeof D=="string")return wn;if(typeof D=="boolean")return En;if(typeof D=="number")return Qr;if(D instanceof ai)return Cn;if(D instanceof sl)return ca;if(D instanceof Oi)return sa;if(D instanceof bo)return Da;if(Array.isArray(D)){for(var I=D.length,H,ne=0,he=D;ne<he.length;ne+=1){var we=he[ne],Ce=Bi(we);if(!H)H=Ce;else{if(H===Ce)continue;H=kn;break}}return si(H||kn,I)}else return Fn}function As(D){var I=typeof D;return D===null?"":I==="string"||I==="number"||I==="boolean"?String(D):D instanceof ai||D instanceof Oi||D instanceof bo?D.toString():JSON.stringify(D)}var No=function(I,H){this.type=I,this.value=H};No.parse=function(I,H){if(I.length!==2)return H.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!Uu(I[1]))return H.error("invalid value");var ne=I[1],he=Bi(ne),we=H.expectedType;return he.kind==="array"&&he.N===0&&we&&we.kind==="array"&&(typeof we.N!="number"||we.N===0)&&(he=we),new No(he,ne)},No.prototype.evaluate=function(){return this.value},No.prototype.eachChild=function(){},No.prototype.outputDefined=function(){return!0},No.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ai?["rgba"].concat(this.value.toArray()):this.value instanceof Oi?this.value.serialize():this.value};var Fi=function(I){this.name="ExpressionEvaluationError",this.message=I};Fi.prototype.toJSON=function(){return this.message};var Vu={string:wn,number:Qr,boolean:En,object:Fn},Ci=function(I,H){this.type=I,this.args=H};Ci.parse=function(I,H){if(I.length<2)return H.error("Expected at least one argument.");var ne=1,he,we=I[0];if(we==="array"){var Ce;if(I.length>2){var qe=I[1];if(typeof qe!="string"||!(qe in Vu)||qe==="object")return H.error('The item type argument of "array" must be one of string, number, boolean',1);Ce=Vu[qe],ne++}else Ce=kn;var vt;if(I.length>3){if(I[2]!==null&&(typeof I[2]!="number"||I[2]<0||I[2]!==Math.floor(I[2])))return H.error('The length argument to "array" must be a positive integer literal',2);vt=I[2],ne++}he=si(Ce,vt)}else he=Vu[we];for(var Tt=[];ne<I.length;ne++){var Pt=H.parse(I[ne],ne,kn);if(!Pt)return null;Tt.push(Pt)}return new Ci(he,Tt)},Ci.prototype.evaluate=function(I){for(var H=0;H<this.args.length;H++){var ne=this.args[H].evaluate(I),he=xo(this.type,Bi(ne));if(he){if(H===this.args.length-1)throw new Fi("Expected value to be of type "+ii(this.type)+", but found "+ii(Bi(ne))+" instead.")}else return ne}return null},Ci.prototype.eachChild=function(I){this.args.forEach(I)},Ci.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Ci.prototype.serialize=function(){var I=this.type,H=[I.kind];if(I.kind==="array"){var ne=I.itemType;if(ne.kind==="string"||ne.kind==="number"||ne.kind==="boolean"){H.push(ne.kind);var he=I.N;(typeof he=="number"||this.args.length>1)&&H.push(he)}}return H.concat(this.args.map(function(we){return we.serialize()}))};var is=function(I){this.type=sa,this.sections=I};is.parse=function(I,H){if(I.length<2)return H.error("Expected at least one argument.");var ne=I[1];if(!Array.isArray(ne)&&typeof ne=="object")return H.error("First argument must be an image or text section.");for(var he=[],we=!1,Ce=1;Ce<=I.length-1;++Ce){var qe=I[Ce];if(we&&typeof qe=="object"&&!Array.isArray(qe)){we=!1;var vt=null;if(qe["font-scale"]&&(vt=H.parse(qe["font-scale"],1,Qr),!vt))return null;var Tt=null;if(qe["text-font"]&&(Tt=H.parse(qe["text-font"],1,si(wn)),!Tt))return null;var Pt=null;if(qe["text-color"]&&(Pt=H.parse(qe["text-color"],1,Cn),!Pt))return null;var Gt=he[he.length-1];Gt.scale=vt,Gt.font=Tt,Gt.textColor=Pt}else{var er=H.parse(I[Ce],1,kn);if(!er)return null;var Jt=er.type.kind;if(Jt!=="string"&&Jt!=="value"&&Jt!=="null"&&Jt!=="resolvedImage")return H.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");we=!0,he.push({content:er,scale:null,font:null,textColor:null})}}return new is(he)},is.prototype.evaluate=function(I){var H=function(ne){var he=ne.content.evaluate(I);return Bi(he)===Da?new vf("",he,null,null,null):new vf(As(he),null,ne.scale?ne.scale.evaluate(I):null,ne.font?ne.font.evaluate(I).join(","):null,ne.textColor?ne.textColor.evaluate(I):null)};return new Oi(this.sections.map(H))},is.prototype.eachChild=function(I){for(var H=0,ne=this.sections;H<ne.length;H+=1){var he=ne[H];I(he.content),he.scale&&I(he.scale),he.font&&I(he.font),he.textColor&&I(he.textColor)}},is.prototype.outputDefined=function(){return!1},is.prototype.serialize=function(){for(var I=["format"],H=0,ne=this.sections;H<ne.length;H+=1){var he=ne[H];I.push(he.content.serialize());var we={};he.scale&&(we["font-scale"]=he.scale.serialize()),he.font&&(we["text-font"]=he.font.serialize()),he.textColor&&(we["text-color"]=he.textColor.serialize()),I.push(we)}return I};var Po=function(I){this.type=Da,this.input=I};Po.parse=function(I,H){if(I.length!==2)return H.error("Expected two arguments.");var ne=H.parse(I[1],1,wn);return ne?new Po(ne):H.error("No image name provided.")},Po.prototype.evaluate=function(I){var H=this.input.evaluate(I),ne=bo.fromString(H);return ne&&I.availableImages&&(ne.available=I.availableImages.indexOf(H)>-1),ne},Po.prototype.eachChild=function(I){I(this.input)},Po.prototype.outputDefined=function(){return!1},Po.prototype.serialize=function(){return["image",this.input.serialize()]};var iu={"to-boolean":En,"to-color":Cn,"to-number":Qr,"to-string":wn},Ki=function(I,H){this.type=I,this.args=H};Ki.parse=function(I,H){if(I.length<2)return H.error("Expected at least one argument.");var ne=I[0];if((ne==="to-boolean"||ne==="to-string")&&I.length!==2)return H.error("Expected one argument.");for(var he=iu[ne],we=[],Ce=1;Ce<I.length;Ce++){var qe=H.parse(I[Ce],Ce,kn);if(!qe)return null;we.push(qe)}return new Ki(he,we)},Ki.prototype.evaluate=function(I){if(this.type.kind==="boolean")return!!this.args[0].evaluate(I);if(this.type.kind==="color"){for(var H,ne,he=0,we=this.args;he<we.length;he+=1){var Ce=we[he];if(H=Ce.evaluate(I),ne=null,H instanceof ai)return H;if(typeof H=="string"){var qe=I.parseColor(H);if(qe)return qe}else if(Array.isArray(H)&&(H.length<3||H.length>4?ne="Invalid rbga value "+JSON.stringify(H)+": expected an array containing either three or four numeric values.":ne=Qf(H[0],H[1],H[2],H[3]),!ne))return new ai(H[0]/255,H[1]/255,H[2]/255,H[3])}throw new Fi(ne||"Could not parse color from value '"+(typeof H=="string"?H:String(JSON.stringify(H)))+"'")}else if(this.type.kind==="number"){for(var vt=null,Tt=0,Pt=this.args;Tt<Pt.length;Tt+=1){var Gt=Pt[Tt];if(vt=Gt.evaluate(I),vt===null)return 0;var er=Number(vt);if(!isNaN(er))return er}throw new Fi("Could not convert "+JSON.stringify(vt)+" to number.")}else return this.type.kind==="formatted"?Oi.fromString(As(this.args[0].evaluate(I))):this.type.kind==="resolvedImage"?bo.fromString(As(this.args[0].evaluate(I))):As(this.args[0].evaluate(I))},Ki.prototype.eachChild=function(I){this.args.forEach(I)},Ki.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Ki.prototype.serialize=function(){if(this.type.kind==="formatted")return new is([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Po(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(H){I.push(H.serialize())}),I};var Pl=["Unknown","Point","LineString","Polygon"],Ms=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ms.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ms.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Pl[this.feature.type]:this.feature.type:null},Ms.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ms.prototype.canonicalID=function(){return this.canonical},Ms.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ms.prototype.parseColor=function(I){var H=this._parseColorCache[I];return H||(H=this._parseColorCache[I]=ai.parse(I)),H};var Wi=function(I,H,ne,he){this.name=I,this.type=H,this._evaluate=ne,this.args=he};Wi.prototype.evaluate=function(I){return this._evaluate(I,this.args)},Wi.prototype.eachChild=function(I){this.args.forEach(I)},Wi.prototype.outputDefined=function(){return!1},Wi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},Wi.parse=function(I,H){var ne,he=I[0],we=Wi.definitions[he];if(!we)return H.error('Unknown expression "'+he+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ce=Array.isArray(we)?we[0]:we.type,qe=Array.isArray(we)?[[we[1],we[2]]]:we.overloads,vt=qe.filter(function(ba){var Sa=ba[0];return!Array.isArray(Sa)||Sa.length===I.length-1}),Tt=null,Pt=0,Gt=vt;Pt<Gt.length;Pt+=1){var er=Gt[Pt],Jt=er[0],xr=er[1];Tt=new Ys(H.registry,H.path,null,H.scope);for(var kr=[],un=!1,en=1;en<I.length;en++){var Sn=I[en],pn=Array.isArray(Jt)?Jt[en-1]:Jt.type,An=Tt.parse(Sn,1+kr.length,pn);if(!An){un=!0;break}kr.push(An)}if(!un){if(Array.isArray(Jt)&&Jt.length!==kr.length){Tt.error("Expected "+Jt.length+" arguments, but found "+kr.length+" instead.");continue}for(var In=0;In<kr.length;In++){var Hn=Array.isArray(Jt)?Jt[In]:Jt.type,Kn=kr[In];Tt.concat(In+1).checkSubtype(Hn,Kn.type)}if(Tt.errors.length===0)return new Wi(he,Ce,xr,kr)}}if(vt.length===1)(ne=H.errors).push.apply(ne,Tt.errors);else{for(var Zn=vt.length?vt:qe,xa=Zn.map(function(ba){var Sa=ba[0];return Qc(Sa)}).join(" | "),fa=[],ya=1;ya<I.length;ya++){var Oa=H.parse(I[ya],1+fa.length);if(!Oa)return null;fa.push(ii(Oa.type))}H.error("Expected arguments of type "+xa+", but found ("+fa.join(", ")+") instead.")}return null},Wi.register=function(I,H){Wi.definitions=H;for(var ne in H)I[ne]=Wi};function Qc(D){return Array.isArray(D)?"("+D.map(ii).join(", ")+")":"("+ii(D.type)+"...)"}var Ss=function(I,H,ne){this.type=ca,this.locale=ne,this.caseSensitive=I,this.diacriticSensitive=H};Ss.parse=function(I,H){if(I.length!==2)return H.error("Expected one argument.");var ne=I[1];if(typeof ne!="object"||Array.isArray(ne))return H.error("Collator options argument must be an object.");var he=H.parse(ne["case-sensitive"]===void 0?!1:ne["case-sensitive"],1,En);if(!he)return null;var we=H.parse(ne["diacritic-sensitive"]===void 0?!1:ne["diacritic-sensitive"],1,En);if(!we)return null;var Ce=null;return ne.locale&&(Ce=H.parse(ne.locale,1,wn),!Ce)?null:new Ss(he,we,Ce)},Ss.prototype.evaluate=function(I){return new sl(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},Ss.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},Ss.prototype.outputDefined=function(){return!1},Ss.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var Es=8192;function Rl(D,I){D[0]=Math.min(D[0],I[0]),D[1]=Math.min(D[1],I[1]),D[2]=Math.max(D[2],I[0]),D[3]=Math.max(D[3],I[1])}function $c(D){return(180+D)/360}function $f(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Hu(D,I){return!(D[0]<=I[0]||D[2]>=I[2]||D[1]<=I[1]||D[3]>=I[3])}function qc(D,I){var H=$c(D[0]),ne=$f(D[1]),he=Math.pow(2,I.z);return[Math.round(H*he*Es),Math.round(ne*he*Es)]}function eh(D,I,H){var ne=D[0]-I[0],he=D[1]-I[1],we=D[0]-H[0],Ce=D[1]-H[1];return ne*Ce-we*he===0&&ne*we<=0&&he*Ce<=0}function th(D,I,H){return I[1]>D[1]!=H[1]>D[1]&&D[0]<(H[0]-I[0])*(D[1]-I[1])/(H[1]-I[1])+I[0]}function df(D,I){for(var H=!1,ne=0,he=I.length;ne<he;ne++)for(var we=I[ne],Ce=0,qe=we.length;Ce<qe-1;Ce++){if(eh(D,we[Ce],we[Ce+1]))return!1;th(D,we[Ce],we[Ce+1])&&(H=!H)}return H}function rh(D,I){for(var H=0;H<I.length;H++)if(df(D,I[H]))return!0;return!1}function nh(D,I){return D[0]*I[1]-D[1]*I[0]}function qf(D,I,H,ne){var he=D[0]-H[0],we=D[1]-H[1],Ce=I[0]-H[0],qe=I[1]-H[1],vt=ne[0]-H[0],Tt=ne[1]-H[1],Pt=he*Tt-vt*we,Gt=Ce*Tt-vt*qe;return Pt>0&&Gt<0||Pt<0&&Gt>0}function ah(D,I,H,ne){var he=[I[0]-D[0],I[1]-D[1]],we=[ne[0]-H[0],ne[1]-H[1]];return nh(we,he)===0?!1:!!(qf(D,I,H,ne)&&qf(H,ne,D,I))}function ih(D,I,H){for(var ne=0,he=H;ne<he.length;ne+=1)for(var we=he[ne],Ce=0;Ce<we.length-1;++Ce)if(ah(D,I,we[Ce],we[Ce+1]))return!0;return!1}function ll(D,I){for(var H=0;H<D.length;++H)if(!df(D[H],I))return!1;for(var ne=0;ne<D.length-1;++ne)if(ih(D[ne],D[ne+1],I))return!1;return!0}function ou(D,I){for(var H=0;H<I.length;H++)if(ll(D,I[H]))return!0;return!1}function ul(D,I,H){for(var ne=[],he=0;he<D.length;he++){for(var we=[],Ce=0;Ce<D[he].length;Ce++){var qe=qc(D[he][Ce],H);Rl(I,qe),we.push(qe)}ne.push(we)}return ne}function su(D,I,H){for(var ne=[],he=0;he<D.length;he++){var we=ul(D[he],I,H);ne.push(we)}return ne}function pf(D,I,H,ne){if(D[0]<H[0]||D[0]>H[2]){var he=ne*.5,we=D[0]-H[0]>he?-ne:H[0]-D[0]>he?ne:0;we===0&&(we=D[0]-H[2]>he?-ne:H[2]-D[0]>he?ne:0),D[0]+=we}Rl(I,D)}function gf(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function ec(D,I,H,ne){for(var he=Math.pow(2,ne.z)*Es,we=[ne.x*Es,ne.y*Es],Ce=[],qe=0,vt=D;qe<vt.length;qe+=1)for(var Tt=vt[qe],Pt=0,Gt=Tt;Pt<Gt.length;Pt+=1){var er=Gt[Pt],Jt=[er.x+we[0],er.y+we[1]];pf(Jt,I,H,he),Ce.push(Jt)}return Ce}function Cs(D,I,H,ne){for(var he=Math.pow(2,ne.z)*Es,we=[ne.x*Es,ne.y*Es],Ce=[],qe=0,vt=D;qe<vt.length;qe+=1){for(var Tt=vt[qe],Pt=[],Gt=0,er=Tt;Gt<er.length;Gt+=1){var Jt=er[Gt],xr=[Jt.x+we[0],Jt.y+we[1]];Rl(I,xr),Pt.push(xr)}Ce.push(Pt)}if(I[2]-I[0]<=he/2){gf(I);for(var kr=0,un=Ce;kr<un.length;kr+=1)for(var en=un[kr],Sn=0,pn=en;Sn<pn.length;Sn+=1){var An=pn[Sn];pf(An,I,H,he)}}return Ce}function oh(D,I){var H=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],he=D.canonicalID();if(I.type==="Polygon"){var we=ul(I.coordinates,ne,he),Ce=ec(D.geometry(),H,ne,he);if(!Hu(H,ne))return!1;for(var qe=0,vt=Ce;qe<vt.length;qe+=1){var Tt=vt[qe];if(!df(Tt,we))return!1}}if(I.type==="MultiPolygon"){var Pt=su(I.coordinates,ne,he),Gt=ec(D.geometry(),H,ne,he);if(!Hu(H,ne))return!1;for(var er=0,Jt=Gt;er<Jt.length;er+=1){var xr=Jt[er];if(!rh(xr,Pt))return!1}}return!0}function tc(D,I){var H=[1/0,1/0,-1/0,-1/0],ne=[1/0,1/0,-1/0,-1/0],he=D.canonicalID();if(I.type==="Polygon"){var we=ul(I.coordinates,ne,he),Ce=Cs(D.geometry(),H,ne,he);if(!Hu(H,ne))return!1;for(var qe=0,vt=Ce;qe<vt.length;qe+=1){var Tt=vt[qe];if(!ll(Tt,we))return!1}}if(I.type==="MultiPolygon"){var Pt=su(I.coordinates,ne,he),Gt=Cs(D.geometry(),H,ne,he);if(!Hu(H,ne))return!1;for(var er=0,Jt=Gt;er<Jt.length;er+=1){var xr=Jt[er];if(!ou(xr,Pt))return!1}}return!0}var Mo=function(I,H){this.type=En,this.geojson=I,this.geometries=H};Mo.parse=function(I,H){if(I.length!==2)return H.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(Uu(I[1])){var ne=I[1];if(ne.type==="FeatureCollection")for(var he=0;he<ne.features.length;++he){var we=ne.features[he].geometry.type;if(we==="Polygon"||we==="MultiPolygon")return new Mo(ne,ne.features[he].geometry)}else if(ne.type==="Feature"){var Ce=ne.geometry.type;if(Ce==="Polygon"||Ce==="MultiPolygon")return new Mo(ne,ne.geometry)}else if(ne.type==="Polygon"||ne.type==="MultiPolygon")return new Mo(ne,ne)}return H.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Mo.prototype.evaluate=function(I){if(I.geometry()!=null&&I.canonicalID()!=null){if(I.geometryType()==="Point")return oh(I,this.geometries);if(I.geometryType()==="LineString")return tc(I,this.geometries)}return!1},Mo.prototype.eachChild=function(){},Mo.prototype.outputDefined=function(){return!0},Mo.prototype.serialize=function(){return["within",this.geojson]};function Gu(D){if(D instanceof Wi){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof Mo)return!1;var I=!0;return D.eachChild(function(H){I&&!Gu(H)&&(I=!1)}),I}function os(D){if(D instanceof Wi&&D.name==="feature-state")return!1;var I=!0;return D.eachChild(function(H){I&&!os(H)&&(I=!1)}),I}function Wu(D,I){if(D instanceof Wi&&I.indexOf(D.name)>=0)return!1;var H=!0;return D.eachChild(function(ne){H&&!Wu(ne,I)&&(H=!1)}),H}var Ws=function(I,H){this.type=H.type,this.name=I,this.boundExpression=H};Ws.parse=function(I,H){if(I.length!==2||typeof I[1]!="string")return H.error("'var' expression requires exactly one string literal argument.");var ne=I[1];return H.scope.has(ne)?new Ws(ne,H.scope.get(ne)):H.error('Unknown variable "'+ne+'". Make sure "'+ne+'" has been bound in an enclosing "let" expression before using it.',1)},Ws.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},Ws.prototype.eachChild=function(){},Ws.prototype.outputDefined=function(){return!1},Ws.prototype.serialize=function(){return["var",this.name]};var Ys=function(I,H,ne,he,we){H===void 0&&(H=[]),he===void 0&&(he=new Yr),we===void 0&&(we=[]),this.registry=I,this.path=H,this.key=H.map(function(Ce){return"["+Ce+"]"}).join(""),this.scope=he,this.errors=we,this.expectedType=ne};Ys.prototype.parse=function(I,H,ne,he,we){return we===void 0&&(we={}),H?this.concat(H,ne,he)._parse(I,we):this._parse(I,we)},Ys.prototype._parse=function(I,H){(I===null||typeof I=="string"||typeof I=="boolean"||typeof I=="number")&&(I=["literal",I]);function ne(Pt,Gt,er){return er==="assert"?new Ci(Gt,[Pt]):er==="coerce"?new Ki(Gt,[Pt]):Pt}if(Array.isArray(I)){if(I.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var he=I[0];if(typeof he!="string")return this.error("Expression name must be a string, but found "+typeof he+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var we=this.registry[he];if(we){var Ce=we.parse(I,this);if(!Ce)return null;if(this.expectedType){var qe=this.expectedType,vt=Ce.type;if((qe.kind==="string"||qe.kind==="number"||qe.kind==="boolean"||qe.kind==="object"||qe.kind==="array")&&vt.kind==="value")Ce=ne(Ce,qe,H.typeAnnotation||"assert");else if((qe.kind==="color"||qe.kind==="formatted"||qe.kind==="resolvedImage")&&(vt.kind==="value"||vt.kind==="string"))Ce=ne(Ce,qe,H.typeAnnotation||"coerce");else if(this.checkSubtype(qe,vt))return null}if(!(Ce instanceof No)&&Ce.type.kind!=="resolvedImage"&&Dl(Ce)){var Tt=new Ms;try{Ce=new No(Ce.type,Ce.evaluate(Tt))}catch(Pt){return this.error(Pt.message),null}}return Ce}return this.error('Unknown expression "'+he+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof I=="undefined"?this.error("'undefined' value invalid. Use null instead."):typeof I=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof I+" instead.")},Ys.prototype.concat=function(I,H,ne){var he=typeof I=="number"?this.path.concat(I):this.path,we=ne?this.scope.concat(ne):this.scope;return new Ys(this.registry,he,H||null,we,this.errors)},Ys.prototype.error=function(I){for(var H=[],ne=arguments.length-1;ne-- >0;)H[ne]=arguments[ne+1];var he=""+this.key+H.map(function(we){return"["+we+"]"}).join("");this.errors.push(new Mr(he,I))},Ys.prototype.checkSubtype=function(I,H){var ne=xo(I,H);return ne&&this.error(ne),ne};function Dl(D){if(D instanceof Ws)return Dl(D.boundExpression);if(D instanceof Wi&&D.name==="error")return!1;if(D instanceof Ss)return!1;if(D instanceof Mo)return!1;var I=D instanceof Ki||D instanceof Ci,H=!0;return D.eachChild(function(ne){I?H=H&&Dl(ne):H=H&&ne instanceof No}),H?Gu(D)&&Wu(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Yu(D,I){for(var H=D.length-1,ne=0,he=H,we=0,Ce,qe;ne<=he;)if(we=Math.floor((ne+he)/2),Ce=D[we],qe=D[we+1],Ce<=I){if(we===H||I<qe)return we;ne=we+1}else if(Ce>I)he=we-1;else throw new Fi("Input is not a number.");return 0}var Uo=function(I,H,ne){this.type=I,this.input=H,this.labels=[],this.outputs=[];for(var he=0,we=ne;he<we.length;he+=1){var Ce=we[he],qe=Ce[0],vt=Ce[1];this.labels.push(qe),this.outputs.push(vt)}};Uo.parse=function(I,H){if(I.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return H.error("Expected an even number of arguments.");var ne=H.parse(I[1],1,Qr);if(!ne)return null;var he=[],we=null;H.expectedType&&H.expectedType.kind!=="value"&&(we=H.expectedType);for(var Ce=1;Ce<I.length;Ce+=2){var qe=Ce===1?-1/0:I[Ce],vt=I[Ce+1],Tt=Ce,Pt=Ce+1;if(typeof qe!="number")return H.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tt);if(he.length&&he[he.length-1][0]>=qe)return H.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Tt);var Gt=H.parse(vt,Pt,we);if(!Gt)return null;we=we||Gt.type,he.push([qe,Gt])}return new Uo(we,ne,he)},Uo.prototype.evaluate=function(I){var H=this.labels,ne=this.outputs;if(H.length===1)return ne[0].evaluate(I);var he=this.input.evaluate(I);if(he<=H[0])return ne[0].evaluate(I);var we=H.length;if(he>=H[we-1])return ne[we-1].evaluate(I);var Ce=Yu(H,he);return ne[Ce].evaluate(I)},Uo.prototype.eachChild=function(I){I(this.input);for(var H=0,ne=this.outputs;H<ne.length;H+=1){var he=ne[H];I(he)}},Uo.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Uo.prototype.serialize=function(){for(var I=["step",this.input.serialize()],H=0;H<this.labels.length;H++)H>0&&I.push(this.labels[H]),I.push(this.outputs[H].serialize());return I};function _i(D,I,H){return D*(1-H)+I*H}function yf(D,I,H){return new ai(_i(D.r,I.r,H),_i(D.g,I.g,H),_i(D.b,I.b,H),_i(D.a,I.a,H))}function mf(D,I,H){return D.map(function(ne,he){return _i(ne,I[he],H)})}var lu=Object.freeze({__proto__:null,number:_i,color:yf,array:mf}),rc=.95047,nc=1,ac=1.08883,Ls=4/29,Ro=6/29,Vo=3*Ro*Ro,xf=Ro*Ro*Ro,sh=Math.PI/180,lh=180/Math.PI;function uu(D){return D>xf?Math.pow(D,.3333333333333333):D/Vo+Ls}function Xu(D){return D>Ro?D*D*D:Vo*(D-Ls)}function bf(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function Il(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function wf(D){var I=Il(D.r),H=Il(D.g),ne=Il(D.b),he=uu((.4124564*I+.3575761*H+.1804375*ne)/rc),we=uu((.2126729*I+.7151522*H+.072175*ne)/nc),Ce=uu((.0193339*I+.119192*H+.9503041*ne)/ac);return{l:116*we-16,a:500*(he-we),b:200*(we-Ce),alpha:D.a}}function Tf(D){var I=(D.l+16)/116,H=isNaN(D.a)?I:I+D.a/500,ne=isNaN(D.b)?I:I-D.b/200;return I=nc*Xu(I),H=rc*Xu(H),ne=ac*Xu(ne),new ai(bf(3.2404542*H-1.5371385*I-.4985314*ne),bf(-.969266*H+1.8760108*I+.041556*ne),bf(.0556434*H-.2040259*I+1.0572252*ne),D.alpha)}function xi(D,I,H){return{l:_i(D.l,I.l,H),a:_i(D.a,I.a,H),b:_i(D.b,I.b,H),alpha:_i(D.alpha,I.alpha,H)}}function kl(D){var I=wf(D),H=I.l,ne=I.a,he=I.b,we=Math.atan2(he,ne)*lh;return{h:we<0?we+360:we,c:Math.sqrt(ne*ne+he*he),l:H,alpha:D.a}}function fl(D){var I=D.h*sh,H=D.c,ne=D.l;return Tf({l:ne,a:Math.cos(I)*H,b:Math.sin(I)*H,alpha:D.alpha})}function Ps(D,I,H){var ne=I-D;return D+H*(ne>180||ne<-180?ne-360*Math.round(ne/360):ne)}function ic(D,I,H){return{h:Ps(D.h,I.h,H),c:_i(D.c,I.c,H),l:_i(D.l,I.l,H),alpha:_i(D.alpha,I.alpha,H)}}var Fl={forward:wf,reverse:Tf,interpolate:xi},_l={forward:kl,reverse:fl,interpolate:ic},zl=Object.freeze({__proto__:null,lab:Fl,hcl:_l}),Ji=function(I,H,ne,he,we){this.type=I,this.operator=H,this.interpolation=ne,this.input=he,this.labels=[],this.outputs=[];for(var Ce=0,qe=we;Ce<qe.length;Ce+=1){var vt=qe[Ce],Tt=vt[0],Pt=vt[1];this.labels.push(Tt),this.outputs.push(Pt)}};Ji.interpolationFactor=function(I,H,ne,he){var we=0;if(I.name==="exponential")we=cl(H,I.base,ne,he);else if(I.name==="linear")we=cl(H,1,ne,he);else if(I.name==="cubic-bezier"){var Ce=I.controlPoints,qe=new c(Ce[0],Ce[1],Ce[2],Ce[3]);we=qe.solve(cl(H,1,ne,he))}return we},Ji.parse=function(I,H){var ne=I[0],he=I[1],we=I[2],Ce=I.slice(3);if(!Array.isArray(he)||he.length===0)return H.error("Expected an interpolation type expression.",1);if(he[0]==="linear")he={name:"linear"};else if(he[0]==="exponential"){var qe=he[1];if(typeof qe!="number")return H.error("Exponential interpolation requires a numeric base.",1,1);he={name:"exponential",base:qe}}else if(he[0]==="cubic-bezier"){var vt=he.slice(1);if(vt.length!==4||vt.some(function(en){return typeof en!="number"||en<0||en>1}))return H.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);he={name:"cubic-bezier",controlPoints:vt}}else return H.error("Unknown interpolation type "+String(he[0]),1,0);if(I.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return H.error("Expected an even number of arguments.");if(we=H.parse(we,2,Qr),!we)return null;var Tt=[],Pt=null;ne==="interpolate-hcl"||ne==="interpolate-lab"?Pt=Cn:H.expectedType&&H.expectedType.kind!=="value"&&(Pt=H.expectedType);for(var Gt=0;Gt<Ce.length;Gt+=2){var er=Ce[Gt],Jt=Ce[Gt+1],xr=Gt+3,kr=Gt+4;if(typeof er!="number")return H.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(Tt.length&&Tt[Tt.length-1][0]>=er)return H.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var un=H.parse(Jt,kr,Pt);if(!un)return null;Pt=Pt||un.type,Tt.push([er,un])}return Pt.kind!=="number"&&Pt.kind!=="color"&&!(Pt.kind==="array"&&Pt.itemType.kind==="number"&&typeof Pt.N=="number")?H.error("Type "+ii(Pt)+" is not interpolatable."):new Ji(Pt,ne,he,we,Tt)},Ji.prototype.evaluate=function(I){var H=this.labels,ne=this.outputs;if(H.length===1)return ne[0].evaluate(I);var he=this.input.evaluate(I);if(he<=H[0])return ne[0].evaluate(I);var we=H.length;if(he>=H[we-1])return ne[we-1].evaluate(I);var Ce=Yu(H,he),qe=H[Ce],vt=H[Ce+1],Tt=Ji.interpolationFactor(this.interpolation,he,qe,vt),Pt=ne[Ce].evaluate(I),Gt=ne[Ce+1].evaluate(I);return this.operator==="interpolate"?lu[this.type.kind.toLowerCase()](Pt,Gt,Tt):this.operator==="interpolate-hcl"?_l.reverse(_l.interpolate(_l.forward(Pt),_l.forward(Gt),Tt)):Fl.reverse(Fl.interpolate(Fl.forward(Pt),Fl.forward(Gt),Tt))},Ji.prototype.eachChild=function(I){I(this.input);for(var H=0,ne=this.outputs;H<ne.length;H+=1){var he=ne[H];I(he)}},Ji.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Ji.prototype.serialize=function(){var I;this.interpolation.name==="linear"?I=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?I=["linear"]:I=["exponential",this.interpolation.base]:I=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var H=[this.operator,I,this.input.serialize()],ne=0;ne<this.labels.length;ne++)H.push(this.labels[ne],this.outputs[ne].serialize());return H};function cl(D,I,H,ne){var he=ne-H,we=D-H;return he===0?0:I===1?we/he:(Math.pow(I,we)-1)/(Math.pow(I,he)-1)}var Ho=function(I,H){this.type=I,this.args=H};Ho.parse=function(I,H){if(I.length<2)return H.error("Expectected at least one argument.");var ne=null,he=H.expectedType;he&&he.kind!=="value"&&(ne=he);for(var we=[],Ce=0,qe=I.slice(1);Ce<qe.length;Ce+=1){var vt=qe[Ce],Tt=H.parse(vt,1+we.length,ne,void 0,{typeAnnotation:"omit"});if(!Tt)return null;ne=ne||Tt.type,we.push(Tt)}var Pt=he&&we.some(function(Gt){return xo(he,Gt.type)});return Pt?new Ho(kn,we):new Ho(ne,we)},Ho.prototype.evaluate=function(I){for(var H=null,ne=0,he,we=0,Ce=this.args;we<Ce.length;we+=1){var qe=Ce[we];if(ne++,H=qe.evaluate(I),H&&H instanceof bo&&!H.available&&(he||(he=H.name),H=null,ne===this.args.length&&(H=he)),H!==null)break}return H},Ho.prototype.eachChild=function(I){this.args.forEach(I)},Ho.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Ho.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(H){I.push(H.serialize())}),I};var ss=function(I,H){this.type=H.type,this.bindings=[].concat(I),this.result=H};ss.prototype.evaluate=function(I){return this.result.evaluate(I)},ss.prototype.eachChild=function(I){for(var H=0,ne=this.bindings;H<ne.length;H+=1){var he=ne[H];I(he[1])}I(this.result)},ss.parse=function(I,H){if(I.length<4)return H.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var ne=[],he=1;he<I.length-1;he+=2){var we=I[he];if(typeof we!="string")return H.error("Expected string, but found "+typeof we+" instead.",he);if(/[^a-zA-Z0-9_]/.test(we))return H.error("Variable names must contain only alphanumeric characters or '_'.",he);var Ce=H.parse(I[he+1],he+1);if(!Ce)return null;ne.push([we,Ce])}var qe=H.parse(I[I.length-1],I.length-1,H.expectedType,ne);return qe?new ss(ne,qe):null},ss.prototype.outputDefined=function(){return this.result.outputDefined()},ss.prototype.serialize=function(){for(var I=["let"],H=0,ne=this.bindings;H<ne.length;H+=1){var he=ne[H],we=he[0],Ce=he[1];I.push(we,Ce.serialize())}return I.push(this.result.serialize()),I};var Rs=function(I,H,ne){this.type=I,this.index=H,this.input=ne};Rs.parse=function(I,H){if(I.length!==3)return H.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ne=H.parse(I[1],1,Qr),he=H.parse(I[2],2,si(H.expectedType||kn));if(!ne||!he)return null;var we=he.type;return new Rs(we.itemType,ne,he)},Rs.prototype.evaluate=function(I){var H=this.index.evaluate(I),ne=this.input.evaluate(I);if(H<0)throw new Fi("Array index out of bounds: "+H+" < 0.");if(H>=ne.length)throw new Fi("Array index out of bounds: "+H+" > "+(ne.length-1)+".");if(H!==Math.floor(H))throw new Fi("Array index must be an integer, but found "+H+" instead.");return ne[H]},Rs.prototype.eachChild=function(I){I(this.index),I(this.input)},Rs.prototype.outputDefined=function(){return!1},Rs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Xs=function(I,H){this.type=En,this.needle=I,this.haystack=H};Xs.parse=function(I,H){if(I.length!==3)return H.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ne=H.parse(I[1],1,kn),he=H.parse(I[2],2,kn);return!ne||!he?null:Gs(ne.type,[En,wn,Qr,Br,kn])?new Xs(ne,he):H.error("Expected first argument to be of type boolean, string, number or null, but found "+ii(ne.type)+" instead")},Xs.prototype.evaluate=function(I){var H=this.needle.evaluate(I),ne=this.haystack.evaluate(I);if(!ne)return!1;if(!co(H,["boolean","string","number","null"]))throw new Fi("Expected first argument to be of type boolean, string, number or null, but found "+ii(Bi(H))+" instead.");if(!co(ne,["string","array"]))throw new Fi("Expected second argument to be of type array or string, but found "+ii(Bi(ne))+" instead.");return ne.indexOf(H)>=0},Xs.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},Xs.prototype.outputDefined=function(){return!0},Xs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Zs=function(I,H,ne){this.type=Qr,this.needle=I,this.haystack=H,this.fromIndex=ne};Zs.parse=function(I,H){if(I.length<=2||I.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ne=H.parse(I[1],1,kn),he=H.parse(I[2],2,kn);if(!ne||!he)return null;if(!Gs(ne.type,[En,wn,Qr,Br,kn]))return H.error("Expected first argument to be of type boolean, string, number or null, but found "+ii(ne.type)+" instead");if(I.length===4){var we=H.parse(I[3],3,Qr);return we?new Zs(ne,he,we):null}else return new Zs(ne,he)},Zs.prototype.evaluate=function(I){var H=this.needle.evaluate(I),ne=this.haystack.evaluate(I);if(!co(H,["boolean","string","number","null"]))throw new Fi("Expected first argument to be of type boolean, string, number or null, but found "+ii(Bi(H))+" instead.");if(!co(ne,["string","array"]))throw new Fi("Expected second argument to be of type array or string, but found "+ii(Bi(ne))+" instead.");if(this.fromIndex){var he=this.fromIndex.evaluate(I);return ne.indexOf(H,he)}return ne.indexOf(H)},Zs.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},Zs.prototype.outputDefined=function(){return!1},Zs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ls=function(I,H,ne,he,we,Ce){this.inputType=I,this.type=H,this.input=ne,this.cases=he,this.outputs=we,this.otherwise=Ce};ls.parse=function(I,H){if(I.length<5)return H.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!==1)return H.error("Expected an even number of arguments.");var ne,he;H.expectedType&&H.expectedType.kind!=="value"&&(he=H.expectedType);for(var we={},Ce=[],qe=2;qe<I.length-1;qe+=2){var vt=I[qe],Tt=I[qe+1];Array.isArray(vt)||(vt=[vt]);var Pt=H.concat(qe);if(vt.length===0)return Pt.error("Expected at least one branch label.");for(var Gt=0,er=vt;Gt<er.length;Gt+=1){var Jt=er[Gt];if(typeof Jt!="number"&&typeof Jt!="string")return Pt.error("Branch labels must be numbers or strings.");if(typeof Jt=="number"&&Math.abs(Jt)>Number.MAX_SAFE_INTEGER)return Pt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Jt=="number"&&Math.floor(Jt)!==Jt)return Pt.error("Numeric branch labels must be integer values.");if(!ne)ne=Bi(Jt);else if(Pt.checkSubtype(ne,Bi(Jt)))return null;if(typeof we[String(Jt)]!="undefined")return Pt.error("Branch labels must be unique.");we[String(Jt)]=Ce.length}var xr=H.parse(Tt,qe,he);if(!xr)return null;he=he||xr.type,Ce.push(xr)}var kr=H.parse(I[1],1,kn);if(!kr)return null;var un=H.parse(I[I.length-1],I.length-1,he);return!un||kr.type.kind!=="value"&&H.concat(1).checkSubtype(ne,kr.type)?null:new ls(ne,he,kr,we,Ce,un)},ls.prototype.evaluate=function(I){var H=this.input.evaluate(I),ne=Bi(H)===this.inputType&&this.outputs[this.cases[H]]||this.otherwise;return ne.evaluate(I)},ls.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},ls.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},ls.prototype.serialize=function(){for(var I=this,H=["match",this.input.serialize()],ne=Object.keys(this.cases).sort(),he=[],we={},Ce=0,qe=ne;Ce<qe.length;Ce+=1){var vt=qe[Ce],Tt=we[this.cases[vt]];Tt===void 0?(we[this.cases[vt]]=he.length,he.push([this.cases[vt],[vt]])):he[Tt][1].push(vt)}for(var Pt=function(kr){return I.inputType.kind==="number"?Number(kr):kr},Gt=0,er=he;Gt<er.length;Gt+=1){var Jt=er[Gt],Tt=Jt[0],xr=Jt[1];xr.length===1?H.push(Pt(xr[0])):H.push(xr.map(Pt)),H.push(this.outputs[outputIndex$1].serialize())}return H.push(this.otherwise.serialize()),H};var Ds=function(I,H,ne){this.type=I,this.branches=H,this.otherwise=ne};Ds.parse=function(I,H){if(I.length<4)return H.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!==0)return H.error("Expected an odd number of arguments.");var ne;H.expectedType&&H.expectedType.kind!=="value"&&(ne=H.expectedType);for(var he=[],we=1;we<I.length-1;we+=2){var Ce=H.parse(I[we],we,En);if(!Ce)return null;var qe=H.parse(I[we+1],we+1,ne);if(!qe)return null;he.push([Ce,qe]),ne=ne||qe.type}var vt=H.parse(I[I.length-1],I.length-1,ne);return vt?new Ds(ne,he,vt):null},Ds.prototype.evaluate=function(I){for(var H=0,ne=this.branches;H<ne.length;H+=1){var he=ne[H],we=he[0],Ce=he[1];if(we.evaluate(I))return Ce.evaluate(I)}return this.otherwise.evaluate(I)},Ds.prototype.eachChild=function(I){for(var H=0,ne=this.branches;H<ne.length;H+=1){var he=ne[H],we=he[0],Ce=he[1];I(we),I(Ce)}I(this.otherwise)},Ds.prototype.outputDefined=function(){return this.branches.every(function(I){var H=I[0],ne=I[1];return ne.outputDefined()})&&this.otherwise.outputDefined()},Ds.prototype.serialize=function(){var I=["case"];return this.eachChild(function(H){I.push(H.serialize())}),I};var us=function(I,H,ne,he){this.type=I,this.input=H,this.beginIndex=ne,this.endIndex=he};us.parse=function(I,H){if(I.length<=2||I.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ne=H.parse(I[1],1,kn),he=H.parse(I[2],2,Qr);if(!ne||!he)return null;if(!Gs(ne.type,[si(kn),wn,kn]))return H.error("Expected first argument to be of type array or string, but found "+ii(ne.type)+" instead");if(I.length===4){var we=H.parse(I[3],3,Qr);return we?new us(ne.type,ne,he,we):null}else return new us(ne.type,ne,he)},us.prototype.evaluate=function(I){var H=this.input.evaluate(I),ne=this.beginIndex.evaluate(I);if(!co(H,["string","array"]))throw new Fi("Expected first argument to be of type array or string, but found "+ii(Bi(H))+" instead.");if(this.endIndex){var he=this.endIndex.evaluate(I);return H.slice(ne,he)}return H.slice(ne)},us.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},us.prototype.outputDefined=function(){return!1},us.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function fu(D,I){return D==="=="||D==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function Ol(D,I,H){return I===H}function Af(D,I,H){return I!==H}function uh(D,I,H){return I<H}function fh(D,I,H){return I>H}function ch(D,I,H){return I<=H}function oc(D,I,H){return I>=H}function sc(D,I,H,ne){return ne.compare(I,H)===0}function cu(D,I,H,ne){return!sc(D,I,H,ne)}function $i(D,I,H,ne){return ne.compare(I,H)<0}function So(D,I,H,ne){return ne.compare(I,H)>0}function Mf(D,I,H,ne){return ne.compare(I,H)<=0}function hu(D,I,H,ne){return ne.compare(I,H)>=0}function Go(D,I,H){var ne=D!=="=="&&D!=="!=";return function(){function he(we,Ce,qe){this.type=En,this.lhs=we,this.rhs=Ce,this.collator=qe,this.hasUntypedArgument=we.type.kind==="value"||Ce.type.kind==="value"}return he.parse=function(Ce,qe){if(Ce.length!==3&&Ce.length!==4)return qe.error("Expected two or three arguments.");var vt=Ce[0],Tt=qe.parse(Ce[1],1,kn);if(!Tt)return null;if(!fu(vt,Tt.type))return qe.concat(1).error('"'+vt+`" comparisons are not supported for type '`+ii(Tt.type)+"'.");var Pt=qe.parse(Ce[2],2,kn);if(!Pt)return null;if(!fu(vt,Pt.type))return qe.concat(2).error('"'+vt+`" comparisons are not supported for type '`+ii(Pt.type)+"'.");if(Tt.type.kind!==Pt.type.kind&&Tt.type.kind!=="value"&&Pt.type.kind!=="value")return qe.error("Cannot compare types '"+ii(Tt.type)+"' and '"+ii(Pt.type)+"'.");ne&&(Tt.type.kind==="value"&&Pt.type.kind!=="value"?Tt=new Ci(Pt.type,[Tt]):Tt.type.kind!=="value"&&Pt.type.kind==="value"&&(Pt=new Ci(Tt.type,[Pt])));var Gt=null;if(Ce.length===4){if(Tt.type.kind!=="string"&&Pt.type.kind!=="string"&&Tt.type.kind!=="value"&&Pt.type.kind!=="value")return qe.error("Cannot use collator to compare non-string types.");if(Gt=qe.parse(Ce[3],3,ca),!Gt)return null}return new he(Tt,Pt,Gt)},he.prototype.evaluate=function(Ce){var qe=this.lhs.evaluate(Ce),vt=this.rhs.evaluate(Ce);if(ne&&this.hasUntypedArgument){var Tt=Bi(qe),Pt=Bi(vt);if(Tt.kind!==Pt.kind||!(Tt.kind==="string"||Tt.kind==="number"))throw new Fi('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+Tt.kind+", "+Pt.kind+") instead.")}if(this.collator&&!ne&&this.hasUntypedArgument){var Gt=Bi(qe),er=Bi(vt);if(Gt.kind!=="string"||er.kind!=="string")return I(Ce,qe,vt)}return this.collator?H(Ce,qe,vt,this.collator.evaluate(Ce)):I(Ce,qe,vt)},he.prototype.eachChild=function(Ce){Ce(this.lhs),Ce(this.rhs),this.collator&&Ce(this.collator)},he.prototype.outputDefined=function(){return!0},he.prototype.serialize=function(){var Ce=[D];return this.eachChild(function(qe){Ce.push(qe.serialize())}),Ce},he}()}var Sf=Go("==",Ol,sc),Ef=Go("!=",Af,cu),Cf=Go("<",uh,$i),hh=Go(">",fh,So),lc=Go("<=",ch,Mf),uc=Go(">=",oc,hu),Ni=function(I,H,ne,he,we){this.type=wn,this.number=I,this.locale=H,this.currency=ne,this.minFractionDigits=he,this.maxFractionDigits=we};Ni.parse=function(I,H){if(I.length!==3)return H.error("Expected two arguments.");var ne=H.parse(I[1],1,Qr);if(!ne)return null;var he=I[2];if(typeof he!="object"||Array.isArray(he))return H.error("NumberFormat options argument must be an object.");var we=null;if(he.locale&&(we=H.parse(he.locale,1,wn),!we))return null;var Ce=null;if(he.currency&&(Ce=H.parse(he.currency,1,wn),!Ce))return null;var qe=null;if(he["min-fraction-digits"]&&(qe=H.parse(he["min-fraction-digits"],1,Qr),!qe))return null;var vt=null;return he["max-fraction-digits"]&&(vt=H.parse(he["max-fraction-digits"],1,Qr),!vt)?null:new Ni(ne,we,Ce,qe,vt)},Ni.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},Ni.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},Ni.prototype.outputDefined=function(){return!1},Ni.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var fs=function(I){this.type=Qr,this.input=I};fs.parse=function(I,H){if(I.length!==2)return H.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var ne=H.parse(I[1],1);return ne?ne.type.kind!=="array"&&ne.type.kind!=="string"&&ne.type.kind!=="value"?H.error("Expected argument of type string or array, but found "+ii(ne.type)+" instead."):new fs(ne):null},fs.prototype.evaluate=function(I){var H=this.input.evaluate(I);if(typeof H=="string")return H.length;if(Array.isArray(H))return H.length;throw new Fi("Expected value to be of type string or array, but found "+ii(Bi(H))+" instead.")},fs.prototype.eachChild=function(I){I(this.input)},fs.prototype.outputDefined=function(){return!1},fs.prototype.serialize=function(){var I=["length"];return this.eachChild(function(H){I.push(H.serialize())}),I};var js={"==":Sf,"!=":Ef,">":hh,"<":Cf,">=":uc,"<=":lc,array:Ci,at:Rs,boolean:Ci,case:Ds,coalesce:Ho,collator:Ss,format:is,image:Po,in:Xs,"index-of":Zs,interpolate:Ji,"interpolate-hcl":Ji,"interpolate-lab":Ji,length:fs,let:ss,literal:No,match:ls,number:Ci,"number-format":Ni,object:Ci,slice:us,step:Uo,string:Ci,"to-boolean":Ki,"to-color":Ki,"to-number":Ki,"to-string":Ki,var:Ws,within:Mo};function Zu(D,I){var H=I[0],ne=I[1],he=I[2],we=I[3];H=H.evaluate(D),ne=ne.evaluate(D),he=he.evaluate(D);var Ce=we?we.evaluate(D):1,qe=Qf(H,ne,he,Ce);if(qe)throw new Fi(qe);return new ai(H/255*Ce,ne/255*Ce,he/255*Ce,Ce)}function vu(D,I){return D in I}function ju(D,I){var H=I[D];return typeof H=="undefined"?null:H}function Lf(D,I,H,ne){for(;H<=ne;){var he=H+ne>>1;if(I[he]===D)return!0;I[he]>D?ne=he-1:H=he+1}return!1}function Is(D){return{type:D}}Wi.register(js,{error:[ha,[wn],function(D,I){var H=I[0];throw new Fi(H.evaluate(D))}],typeof:[wn,[kn],function(D,I){var H=I[0];return ii(Bi(H.evaluate(D)))}],"to-rgba":[si(Qr,4),[Cn],function(D,I){var H=I[0];return H.evaluate(D).toArray()}],rgb:[Cn,[Qr,Qr,Qr],Zu],rgba:[Cn,[Qr,Qr,Qr,Qr],Zu],has:{type:En,overloads:[[[wn],function(D,I){var H=I[0];return vu(H.evaluate(D),D.properties())}],[[wn,Fn],function(D,I){var H=I[0],ne=I[1];return vu(H.evaluate(D),ne.evaluate(D))}]]},get:{type:kn,overloads:[[[wn],function(D,I){var H=I[0];return ju(H.evaluate(D),D.properties())}],[[wn,Fn],function(D,I){var H=I[0],ne=I[1];return ju(H.evaluate(D),ne.evaluate(D))}]]},"feature-state":[kn,[wn],function(D,I){var H=I[0];return ju(H.evaluate(D),D.featureState||{})}],properties:[Fn,[],function(D){return D.properties()}],"geometry-type":[wn,[],function(D){return D.geometryType()}],id:[kn,[],function(D){return D.id()}],zoom:[Qr,[],function(D){return D.globals.zoom}],"heatmap-density":[Qr,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[Qr,[],function(D){return D.globals.lineProgress||0}],accumulated:[kn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[Qr,Is(Qr),function(D,I){for(var H=0,ne=0,he=I;ne<he.length;ne+=1){var we=he[ne];H+=we.evaluate(D)}return H}],"*":[Qr,Is(Qr),function(D,I){for(var H=1,ne=0,he=I;ne<he.length;ne+=1){var we=he[ne];H*=we.evaluate(D)}return H}],"-":{type:Qr,overloads:[[[Qr,Qr],function(D,I){var H=I[0],ne=I[1];return H.evaluate(D)-ne.evaluate(D)}],[[Qr],function(D,I){var H=I[0];return-H.evaluate(D)}]]},"/":[Qr,[Qr,Qr],function(D,I){var H=I[0],ne=I[1];return H.evaluate(D)/ne.evaluate(D)}],"%":[Qr,[Qr,Qr],function(D,I){var H=I[0],ne=I[1];return H.evaluate(D)%ne.evaluate(D)}],ln2:[Qr,[],function(){return Math.LN2}],pi:[Qr,[],function(){return Math.PI}],e:[Qr,[],function(){return Math.E}],"^":[Qr,[Qr,Qr],function(D,I){var H=I[0],ne=I[1];return Math.pow(H.evaluate(D),ne.evaluate(D))}],sqrt:[Qr,[Qr],function(D,I){var H=I[0];return Math.sqrt(H.evaluate(D))}],log10:[Qr,[Qr],function(D,I){var H=I[0];return Math.log(H.evaluate(D))/Math.LN10}],ln:[Qr,[Qr],function(D,I){var H=I[0];return Math.log(H.evaluate(D))}],log2:[Qr,[Qr],function(D,I){var H=I[0];return Math.log(H.evaluate(D))/Math.LN2}],sin:[Qr,[Qr],function(D,I){var H=I[0];return Math.sin(H.evaluate(D))}],cos:[Qr,[Qr],function(D,I){var H=I[0];return Math.cos(H.evaluate(D))}],tan:[Qr,[Qr],function(D,I){var H=I[0];return Math.tan(H.evaluate(D))}],asin:[Qr,[Qr],function(D,I){var H=I[0];return Math.asin(H.evaluate(D))}],acos:[Qr,[Qr],function(D,I){var H=I[0];return Math.acos(H.evaluate(D))}],atan:[Qr,[Qr],function(D,I){var H=I[0];return Math.atan(H.evaluate(D))}],min:[Qr,Is(Qr),function(D,I){return Math.min.apply(Math,I.map(function(H){return H.evaluate(D)}))}],max:[Qr,Is(Qr),function(D,I){return Math.max.apply(Math,I.map(function(H){return H.evaluate(D)}))}],abs:[Qr,[Qr],function(D,I){var H=I[0];return Math.abs(H.evaluate(D))}],round:[Qr,[Qr],function(D,I){var H=I[0],ne=H.evaluate(D);return ne<0?-Math.round(-ne):Math.round(ne)}],floor:[Qr,[Qr],function(D,I){var H=I[0];return Math.floor(H.evaluate(D))}],ceil:[Qr,[Qr],function(D,I){var H=I[0];return Math.ceil(H.evaluate(D))}],"filter-==":[En,[wn,kn],function(D,I){var H=I[0],ne=I[1];return D.properties()[H.value]===ne.value}],"filter-id-==":[En,[kn],function(D,I){var H=I[0];return D.id()===H.value}],"filter-type-==":[En,[wn],function(D,I){var H=I[0];return D.geometryType()===H.value}],"filter-<":[En,[wn,kn],function(D,I){var H=I[0],ne=I[1],he=D.properties()[H.value],we=ne.value;return typeof he==typeof we&&he<we}],"filter-id-<":[En,[kn],function(D,I){var H=I[0],ne=D.id(),he=H.value;return typeof ne==typeof he&&ne<he}],"filter->":[En,[wn,kn],function(D,I){var H=I[0],ne=I[1],he=D.properties()[H.value],we=ne.value;return typeof he==typeof we&&he>we}],"filter-id->":[En,[kn],function(D,I){var H=I[0],ne=D.id(),he=H.value;return typeof ne==typeof he&&ne>he}],"filter-<=":[En,[wn,kn],function(D,I){var H=I[0],ne=I[1],he=D.properties()[H.value],we=ne.value;return typeof he==typeof we&&he<=we}],"filter-id-<=":[En,[kn],function(D,I){var H=I[0],ne=D.id(),he=H.value;return typeof ne==typeof he&&ne<=he}],"filter->=":[En,[wn,kn],function(D,I){var H=I[0],ne=I[1],he=D.properties()[H.value],we=ne.value;return typeof he==typeof we&&he>=we}],"filter-id->=":[En,[kn],function(D,I){var H=I[0],ne=D.id(),he=H.value;return typeof ne==typeof he&&ne>=he}],"filter-has":[En,[kn],function(D,I){var H=I[0];return H.value in D.properties()}],"filter-has-id":[En,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[En,[si(wn)],function(D,I){var H=I[0];return H.value.indexOf(D.geometryType())>=0}],"filter-id-in":[En,[si(kn)],function(D,I){var H=I[0];return H.value.indexOf(D.id())>=0}],"filter-in-small":[En,[wn,si(kn)],function(D,I){var H=I[0],ne=I[1];return ne.value.indexOf(D.properties()[H.value])>=0}],"filter-in-large":[En,[wn,si(kn)],function(D,I){var H=I[0],ne=I[1];return Lf(D.properties()[H.value],ne.value,0,ne.value.length-1)}],all:{type:En,overloads:[[[En,En],function(D,I){var H=I[0],ne=I[1];return H.evaluate(D)&&ne.evaluate(D)}],[Is(En),function(D,I){for(var H=0,ne=I;H<ne.length;H+=1){var he=ne[H];if(!he.evaluate(D))return!1}return!0}]]},any:{type:En,overloads:[[[En,En],function(D,I){var H=I[0],ne=I[1];return H.evaluate(D)||ne.evaluate(D)}],[Is(En),function(D,I){for(var H=0,ne=I;H<ne.length;H+=1){var he=ne[H];if(he.evaluate(D))return!0}return!1}]]},"!":[En,[En],function(D,I){var H=I[0];return!H.evaluate(D)}],"is-supported-script":[En,[wn],function(D,I){var H=I[0],ne=D.globals&&D.globals.isSupportedScript;return ne?ne(H.evaluate(D)):!0}],upcase:[wn,[wn],function(D,I){var H=I[0];return H.evaluate(D).toUpperCase()}],downcase:[wn,[wn],function(D,I){var H=I[0];return H.evaluate(D).toLowerCase()}],concat:[wn,Is(kn),function(D,I){return I.map(function(H){return As(H.evaluate(D))}).join("")}],"resolved-locale":[wn,[ca],function(D,I){var H=I[0];return H.evaluate(D).resolvedLocale()}]});function Bl(D){return{result:"success",value:D}}function cs(D){return{result:"error",value:D}}function hs(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function du(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function pu(D){return!!D.expression&&D.expression.interpolated}function li(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function Nl(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function Pf(D){return D}function Rf(D,I){var H=I.type==="color",ne=D.stops&&typeof D.stops[0][0]=="object",he=ne||D.property!==void 0,we=ne||!he,Ce=D.type||(pu(I)?"exponential":"interval");if(H&&(D=Ln({},D),D.stops&&(D.stops=D.stops.map(function(Zn){return[Zn[0],ai.parse(Zn[1])]})),D.default?D.default=ai.parse(D.default):D.default=ai.parse(I.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!zl[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var qe,vt,Tt;if(Ce==="exponential")qe=Df;else if(Ce==="interval")qe=gu;else if(Ce==="categorical"){qe=Ku,vt=Object.create(null);for(var Pt=0,Gt=D.stops;Pt<Gt.length;Pt+=1){var er=Gt[Pt];vt[er[0]]=er[1]}Tt=typeof D.stops[0][0]}else if(Ce==="identity")qe=yu;else throw new Error('Unknown function type "'+Ce+'"');if(ne){for(var Jt={},xr=[],kr=0;kr<D.stops.length;kr++){var un=D.stops[kr],en=un[0].zoom;Jt[en]===void 0&&(Jt[en]={zoom:en,type:D.type,property:D.property,default:D.default,stops:[]},xr.push(en)),Jt[en].stops.push([un[0].value,un[1]])}for(var Sn=[],pn=0,An=xr;pn<An.length;pn+=1){var In=An[pn];Sn.push([Jt[In].zoom,Rf(Jt[In],I)])}var Hn={name:"linear"};return{kind:"composite",interpolationType:Hn,interpolationFactor:Ji.interpolationFactor.bind(void 0,Hn),zoomStops:Sn.map(function(Zn){return Zn[0]}),evaluate:function(xa,fa){var ya=xa.zoom;return Df({stops:Sn,base:D.base},I,ya).evaluate(ya,fa)}}}else if(we){var Kn=Ce==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:Kn,interpolationFactor:Ji.interpolationFactor.bind(void 0,Kn),zoomStops:D.stops.map(function(Zn){return Zn[0]}),evaluate:function(Zn){var xa=Zn.zoom;return qe(D,I,xa,vt,Tt)}}}else return{kind:"source",evaluate:function(xa,fa){var ya=fa&&fa.properties?fa.properties[D.property]:void 0;return ya===void 0?Ul(D.default,I.default):qe(D,I,ya,vt,Tt)}}}function Ul(D,I,H){if(D!==void 0)return D;if(I!==void 0)return I;if(H!==void 0)return H}function Ku(D,I,H,ne,he){var we=typeof H===he?ne[H]:void 0;return Ul(we,D.default,I.default)}function gu(D,I,H){if(li(H)!=="number")return Ul(D.default,I.default);var ne=D.stops.length;if(ne===1||H<=D.stops[0][0])return D.stops[0][1];if(H>=D.stops[ne-1][0])return D.stops[ne-1][1];var he=Yu(D.stops.map(function(we){return we[0]}),H);return D.stops[he][1]}function Df(D,I,H){var ne=D.base!==void 0?D.base:1;if(li(H)!=="number")return Ul(D.default,I.default);var he=D.stops.length;if(he===1||H<=D.stops[0][0])return D.stops[0][1];if(H>=D.stops[he-1][0])return D.stops[he-1][1];var we=Yu(D.stops.map(function(Gt){return Gt[0]}),H),Ce=fc(H,ne,D.stops[we][0],D.stops[we+1][0]),qe=D.stops[we][1],vt=D.stops[we+1][1],Tt=lu[I.type]||Pf;if(D.colorSpace&&D.colorSpace!=="rgb"){var Pt=zl[D.colorSpace];Tt=function(Gt,er){return Pt.reverse(Pt.interpolate(Pt.forward(Gt),Pt.forward(er),Ce))}}return typeof qe.evaluate=="function"?{evaluate:function(){for(var er=[],Jt=arguments.length;Jt--;)er[Jt]=arguments[Jt];var xr=qe.evaluate.apply(void 0,er),kr=vt.evaluate.apply(void 0,er);if(!(xr===void 0||kr===void 0))return Tt(xr,kr,Ce)}}:Tt(qe,vt,Ce)}function yu(D,I,H){return I.type==="color"?H=ai.parse(H):I.type==="formatted"?H=Oi.fromString(H.toString()):I.type==="resolvedImage"?H=bo.fromString(H.toString()):li(H)!==I.type&&(I.type!=="enum"||!I.values[H])&&(H=void 0),Ul(H,D.default,I.default)}function fc(D,I,H,ne){var he=ne-H,we=D-H;return he===0?0:I===1?we/he:(Math.pow(I,we)-1)/(Math.pow(I,he)-1)}var Vl=function(I,H){this.expression=I,this._warningHistory={},this._evaluator=new Ms,this._defaultValue=H?hc(H):null,this._enumValues=H&&H.type==="enum"?H.values:null};Vl.prototype.evaluateWithoutErrorHandling=function(I,H,ne,he,we,Ce){return this._evaluator.globals=I,this._evaluator.feature=H,this._evaluator.featureState=ne,this._evaluator.canonical=he,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ce,this.expression.evaluate(this._evaluator)},Vl.prototype.evaluate=function(I,H,ne,he,we,Ce){this._evaluator.globals=I,this._evaluator.feature=H||null,this._evaluator.featureState=ne||null,this._evaluator.canonical=he,this._evaluator.availableImages=we||null,this._evaluator.formattedSection=Ce||null;try{var qe=this.expression.evaluate(this._evaluator);if(qe==null||typeof qe=="number"&&qe!==qe)return this._defaultValue;if(this._enumValues&&!(qe in this._enumValues))throw new Fi("Expected value to be one of "+Object.keys(this._enumValues).map(function(vt){return JSON.stringify(vt)}).join(", ")+", but found "+JSON.stringify(qe)+" instead.");return qe}catch(vt){return this._warningHistory[vt.message]||(this._warningHistory[vt.message]=!0,typeof console!="undefined"&&console.warn(vt.message)),this._defaultValue}};function hl(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in js}function mu(D,I){var H=new Ys(js,[],I?Do(I):void 0),ne=H.parse(D,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return ne?Bl(new Vl(ne,I)):cs(H.errors)}var Wo=function(I,H){this.kind=I,this._styleExpression=H,this.isStateDependent=I!=="constant"&&!os(H.expression)};Wo.prototype.evaluateWithoutErrorHandling=function(I,H,ne,he,we,Ce){return this._styleExpression.evaluateWithoutErrorHandling(I,H,ne,he,we,Ce)},Wo.prototype.evaluate=function(I,H,ne,he,we,Ce){return this._styleExpression.evaluate(I,H,ne,he,we,Ce)};var Yo=function(I,H,ne,he){this.kind=I,this.zoomStops=ne,this._styleExpression=H,this.isStateDependent=I!=="camera"&&!os(H.expression),this.interpolationType=he};Yo.prototype.evaluateWithoutErrorHandling=function(I,H,ne,he,we,Ce){return this._styleExpression.evaluateWithoutErrorHandling(I,H,ne,he,we,Ce)},Yo.prototype.evaluate=function(I,H,ne,he,we,Ce){return this._styleExpression.evaluate(I,H,ne,he,we,Ce)},Yo.prototype.interpolationFactor=function(I,H,ne){return this.interpolationType?Ji.interpolationFactor(this.interpolationType,I,H,ne):0};function Hl(D,I){if(D=mu(D,I),D.result==="error")return D;var H=D.value.expression,ne=Gu(H);if(!ne&&!hs(I))return cs([new Mr("","data expressions not supported")]);var he=Wu(H,["zoom"]);if(!he&&!du(I))return cs([new Mr("","zoom expressions not supported")]);var we=dl(H);if(!we&&!he)return cs([new Mr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(we instanceof Mr)return cs([we]);if(we instanceof Ji&&!pu(I))return cs([new Mr("",'"interpolate" expressions cannot be used with this property')]);if(!we)return Bl(ne?new Wo("constant",D.value):new Wo("source",D.value));var Ce=we instanceof Ji?we.interpolation:void 0;return Bl(ne?new Yo("camera",D.value,we.labels,Ce):new Yo("composite",D.value,we.labels,Ce))}var vl=function(I,H){this._parameters=I,this._specification=H,Ln(this,Rf(this._parameters,this._specification))};vl.deserialize=function(I){return new vl(I._parameters,I._specification)},vl.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};function cc(D,I){if(Nl(D))return new vl(D,I);if(hl(D)){var H=Hl(D,I);if(H.result==="error")throw new Error(H.value.map(function(he){return he.key+": "+he.message}).join(", "));return H.value}else{var ne=D;return typeof D=="string"&&I.type==="color"&&(ne=ai.parse(D)),{kind:"constant",evaluate:function(){return ne}}}}function dl(D){var I=null;if(D instanceof ss)I=dl(D.result);else if(D instanceof Ho)for(var H=0,ne=D.args;H<ne.length;H+=1){var he=ne[H];if(I=dl(he),I)break}else(D instanceof Uo||D instanceof Ji)&&D.input instanceof Wi&&D.input.name==="zoom"&&(I=D);return I instanceof Mr||D.eachChild(function(we){var Ce=dl(we);Ce instanceof Mr?I=Ce:!I&&Ce?I=new Mr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&Ce&&I!==Ce&&(I=new Mr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function Do(D){var I={color:Cn,string:wn,number:Qr,enum:wn,boolean:En,formatted:sa,resolvedImage:Da};return D.type==="array"?si(I[D.value]||kn,D.length):I[D.type]}function hc(D){return D.type==="color"&&Nl(D.default)?new ai(0,0,0,0):D.type==="color"?ai.parse(D.default)||null:D.default===void 0?null:D.default}function Io(D){var I=D.key,H=D.value,ne=D.valueSpec||{},he=D.objectElementValidators||{},we=D.style,Ce=D.styleSpec,qe=[],vt=li(H);if(vt!=="object")return[new Fr(I,H,"object expected, "+vt+" found")];for(var Tt in H){var Pt=Tt.split(".")[0],Gt=ne[Pt]||ne["*"],er=void 0;if(he[Pt])er=he[Pt];else if(ne[Pt])er=wr;else if(he["*"])er=he["*"];else if(ne["*"])er=wr;else{qe.push(new Fr(I,H[Tt],'unknown property "'+Tt+'"'));continue}qe=qe.concat(er({key:(I&&I+".")+Tt,value:H[Tt],valueSpec:Gt,style:we,styleSpec:Ce,object:H,objectKey:Tt},H))}for(var Jt in ne)he[Jt]||ne[Jt].required&&ne[Jt].default===void 0&&H[Jt]===void 0&&qe.push(new Fr(I,H,'missing required property "'+Jt+'"'));return qe}function pl(D){var I=D.value,H=D.valueSpec,ne=D.style,he=D.styleSpec,we=D.key,Ce=D.arrayElementValidator||wr;if(li(I)!=="array")return[new Fr(we,I,"array expected, "+li(I)+" found")];if(H.length&&I.length!==H.length)return[new Fr(we,I,"array length "+H.length+" expected, length "+I.length+" found")];if(H["min-length"]&&I.length<H["min-length"])return[new Fr(we,I,"array length at least "+H["min-length"]+" expected, length "+I.length+" found")];var qe={type:H.value,values:H.values};he.$version<7&&(qe.function=H.function),li(H.value)==="object"&&(qe=H.value);for(var vt=[],Tt=0;Tt<I.length;Tt++)vt=vt.concat(Ce({array:I,arrayIndex:Tt,value:I[Tt],valueSpec:qe,style:ne,styleSpec:he,key:we+"["+Tt+"]"}));return vt}function xu(D){var I=D.key,H=D.value,ne=D.valueSpec,he=li(H);return he==="number"&&H!==H&&(he="NaN"),he!=="number"?[new Fr(I,H,"number expected, "+he+" found")]:"minimum"in ne&&H<ne.minimum?[new Fr(I,H,H+" is less than the minimum value "+ne.minimum)]:"maximum"in ne&&H>ne.maximum?[new Fr(I,H,H+" is greater than the maximum value "+ne.maximum)]:[]}function Ju(D){var I=D.valueSpec,H=hn(D.value.type),ne,he={},we,Ce,qe=H!=="categorical"&&D.value.property===void 0,vt=!qe,Tt=li(D.value.stops)==="array"&&li(D.value.stops[0])==="array"&&li(D.value.stops[0][0])==="object",Pt=Io({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Gt,default:xr}});return H==="identity"&&qe&&Pt.push(new Fr(D.key,D.value,'missing required property "property"')),H!=="identity"&&!D.value.stops&&Pt.push(new Fr(D.key,D.value,'missing required property "stops"')),H==="exponential"&&D.valueSpec.expression&&!pu(D.valueSpec)&&Pt.push(new Fr(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(vt&&!hs(D.valueSpec)?Pt.push(new Fr(D.key,D.value,"property functions not supported")):qe&&!du(D.valueSpec)&&Pt.push(new Fr(D.key,D.value,"zoom functions not supported"))),(H==="categorical"||Tt)&&D.value.property===void 0&&Pt.push(new Fr(D.key,D.value,'"property" property is required')),Pt;function Gt(kr){if(H==="identity")return[new Fr(kr.key,kr.value,'identity function may not have a "stops" property')];var un=[],en=kr.value;return un=un.concat(pl({key:kr.key,value:en,valueSpec:kr.valueSpec,style:kr.style,styleSpec:kr.styleSpec,arrayElementValidator:er})),li(en)==="array"&&en.length===0&&un.push(new Fr(kr.key,en,"array must have at least one stop")),un}function er(kr){var un=[],en=kr.value,Sn=kr.key;if(li(en)!=="array")return[new Fr(Sn,en,"array expected, "+li(en)+" found")];if(en.length!==2)return[new Fr(Sn,en,"array length 2 expected, length "+en.length+" found")];if(Tt){if(li(en[0])!=="object")return[new Fr(Sn,en,"object expected, "+li(en[0])+" found")];if(en[0].zoom===void 0)return[new Fr(Sn,en,"object stop key must have zoom")];if(en[0].value===void 0)return[new Fr(Sn,en,"object stop key must have value")];if(Ce&&Ce>hn(en[0].zoom))return[new Fr(Sn,en[0].zoom,"stop zoom values must appear in ascending order")];hn(en[0].zoom)!==Ce&&(Ce=hn(en[0].zoom),we=void 0,he={}),un=un.concat(Io({key:Sn+"[0]",value:en[0],valueSpec:{zoom:{}},style:kr.style,styleSpec:kr.styleSpec,objectElementValidators:{zoom:xu,value:Jt}}))}else un=un.concat(Jt({key:Sn+"[0]",value:en[0],valueSpec:{},style:kr.style,styleSpec:kr.styleSpec},en));return hl(ln(en[1]))?un.concat([new Fr(Sn+"[1]",en[1],"expressions are not allowed in function stops.")]):un.concat(wr({key:Sn+"[1]",value:en[1],valueSpec:I,style:kr.style,styleSpec:kr.styleSpec}))}function Jt(kr,un){var en=li(kr.value),Sn=hn(kr.value),pn=kr.value!==null?kr.value:un;if(!ne)ne=en;else if(en!==ne)return[new Fr(kr.key,pn,en+" stop domain type must match previous stop domain type "+ne)];if(en!=="number"&&en!=="string"&&en!=="boolean")return[new Fr(kr.key,pn,"stop domain value must be a number, string, or boolean")];if(en!=="number"&&H!=="categorical"){var An="number expected, "+en+" found";return hs(I)&&H===void 0&&(An+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Fr(kr.key,pn,An)]}return H==="categorical"&&en==="number"&&(!isFinite(Sn)||Math.floor(Sn)!==Sn)?[new Fr(kr.key,pn,"integer expected, found "+Sn)]:H!=="categorical"&&en==="number"&&we!==void 0&&Sn<we?[new Fr(kr.key,pn,"stop domain values must appear in ascending order")]:(we=Sn,H==="categorical"&&Sn in he?[new Fr(kr.key,pn,"stop domain values must be unique")]:(he[Sn]=!0,[]))}function xr(kr){return wr({key:kr.key,value:kr.value,valueSpec:I,style:kr.style,styleSpec:kr.styleSpec})}}function Gl(D){var I=(D.expressionContext==="property"?Hl:mu)(ln(D.value),D.valueSpec);if(I.result==="error")return I.value.map(function(ne){return new Fr(""+D.key+ne.key,D.value,ne.message)});var H=I.value.expression||I.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!H.outputDefined())return[new Fr(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!os(H))return[new Fr(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!os(H))return[new Fr(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!Wu(H,["zoom","feature-state"]))return[new Fr(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!Gu(H))return[new Fr(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function If(D){var I=D.value,H=D.key,ne=li(I);return ne!=="boolean"?[new Fr(H,I,"boolean expected, "+ne+" found")]:[]}function Qu(D){var I=D.key,H=D.value,ne=li(H);return ne!=="string"?[new Fr(I,H,"color expected, "+ne+" found")]:Ll(H)===null?[new Fr(I,H,'color expected, "'+H+'" found')]:[]}function Ks(D){var I=D.key,H=D.value,ne=D.valueSpec,he=[];return Array.isArray(ne.values)?ne.values.indexOf(hn(H))===-1&&he.push(new Fr(I,H,"expected one of ["+ne.values.join(", ")+"], "+JSON.stringify(H)+" found")):Object.keys(ne.values).indexOf(hn(H))===-1&&he.push(new Fr(I,H,"expected one of ["+Object.keys(ne.values).join(", ")+"], "+JSON.stringify(H)+" found")),he}function $u(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var I=0,H=D.slice(1);I<H.length;I+=1){var ne=H[I];if(!$u(ne)&&typeof ne!="boolean")return!1}return!0;default:return!0}}var vh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Wl(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};$u(D)||(D=Yl(D));var I=mu(D,vh);if(I.result==="error")throw new Error(I.value.map(function(ne){return ne.key+": "+ne.message}).join(", "));var H=ho(D);return{filter:function(ne,he,we){return I.value.evaluate(ne,he,{},we)},needGeometry:H}}function vc(D,I){return D<I?-1:D>I?1:0}function ho(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var I=1;I<D.length;I++)if(ho(D[I]))return!0;return!1}function Yl(D){if(!D)return!0;var I=D[0];if(D.length<=1)return I!=="any";var H=I==="=="?bu(D[1],D[2],"=="):I==="!="?ef(bu(D[1],D[2],"==")):I==="<"||I===">"||I==="<="||I===">="?bu(D[1],D[2],I):I==="any"?ks(D.slice(1)):I==="all"?["all"].concat(D.slice(1).map(Yl)):I==="none"?["all"].concat(D.slice(1).map(Yl).map(ef)):I==="in"?qu(D[1],D.slice(2)):I==="!in"?ef(qu(D[1],D.slice(2))):I==="has"?Xl(D[1]):I==="!has"?ef(Xl(D[1])):I==="within"?D:!0;return H}function bu(D,I,H){switch(D){case"$type":return["filter-type-"+H,I];case"$id":return["filter-id-"+H,I];default:return["filter-"+H,D,I]}}function ks(D){return["any"].concat(D.map(Yl))}function qu(D,I){if(I.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(H){return typeof H!=typeof I[0]})?["filter-in-large",D,["literal",I.sort(vc)]]:["filter-in-small",D,["literal",I]]}}function Xl(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function ef(D){return["!",D]}function wu(D){return $u(ln(D.value))?Gl(Ln({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):dc(D)}function dc(D){var I=D.value,H=D.key;if(li(I)!=="array")return[new Fr(H,I,"array expected, "+li(I)+" found")];var ne=D.styleSpec,he,we=[];if(I.length<1)return[new Fr(H,I,"filter array must have at least 1 element")];switch(we=we.concat(Ks({key:H+"[0]",value:I[0],valueSpec:ne.filter_operator,style:D.style,styleSpec:D.styleSpec})),hn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&hn(I[1])==="$type"&&we.push(new Fr(H,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&we.push(new Fr(H,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(he=li(I[1]),he!=="string"&&we.push(new Fr(H+"[1]",I[1],"string expected, "+he+" found")));for(var Ce=2;Ce<I.length;Ce++)he=li(I[Ce]),hn(I[1])==="$type"?we=we.concat(Ks({key:H+"["+Ce+"]",value:I[Ce],valueSpec:ne.geometry_type,style:D.style,styleSpec:D.styleSpec})):he!=="string"&&he!=="number"&&he!=="boolean"&&we.push(new Fr(H+"["+Ce+"]",I[Ce],"string, number, or boolean expected, "+he+" found"));break;case"any":case"all":case"none":for(var qe=1;qe<I.length;qe++)we=we.concat(dc({key:H+"["+qe+"]",value:I[qe],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":he=li(I[1]),I.length!==2?we.push(new Fr(H,I,'filter array for "'+I[0]+'" operator must have 2 elements')):he!=="string"&&we.push(new Fr(H+"[1]",I[1],"string expected, "+he+" found"));break;case"within":he=li(I[1]),I.length!==2?we.push(new Fr(H,I,'filter array for "'+I[0]+'" operator must have 2 elements')):he!=="object"&&we.push(new Fr(H+"[1]",I[1],"object expected, "+he+" found"));break}return we}function Tu(D,I){var H=D.key,ne=D.style,he=D.styleSpec,we=D.value,Ce=D.objectKey,qe=he[I+"_"+D.layerType];if(!qe)return[];var vt=Ce.match(/^(.*)-transition$/);if(I==="paint"&&vt&&qe[vt[1]]&&qe[vt[1]].transition)return wr({key:H,value:we,valueSpec:he.transition,style:ne,styleSpec:he});var Tt=D.valueSpec||qe[Ce];if(!Tt)return[new Fr(H,we,'unknown property "'+Ce+'"')];var Pt;if(li(we)==="string"&&hs(Tt)&&!Tt.tokens&&(Pt=/^{([^}]+)}$/.exec(we)))return[new Fr(H,we,'"'+Ce+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Pt[1])+" }`.")];var Gt=[];return D.layerType==="symbol"&&(Ce==="text-field"&&ne&&!ne.glyphs&&Gt.push(new Fr(H,we,'use of "text-field" requires a style "glyphs" property')),Ce==="text-font"&&Nl(ln(we))&&hn(we.type)==="identity"&&Gt.push(new Fr(H,we,'"text-font" does not support identity functions'))),Gt.concat(wr({key:D.key,value:we,valueSpec:Tt,style:ne,styleSpec:he,expressionContext:"property",propertyType:I,propertyKey:Ce}))}function kf(D){return Tu(D,"paint")}function $e(D){return Tu(D,"layout")}function it(D){var I=[],H=D.value,ne=D.key,he=D.style,we=D.styleSpec;!H.type&&!H.ref&&I.push(new Fr(ne,H,'either "type" or "ref" is required'));var Ce=hn(H.type),qe=hn(H.ref);if(H.id)for(var vt=hn(H.id),Tt=0;Tt<D.arrayIndex;Tt++){var Pt=he.layers[Tt];hn(Pt.id)===vt&&I.push(new Fr(ne,H.id,'duplicate layer id "'+H.id+'", previously used at line '+Pt.id.__line__))}if("ref"in H){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in H&&I.push(new Fr(ne,H[xr],'"'+xr+'" is prohibited for ref layers'))});var Gt;he.layers.forEach(function(xr){hn(xr.id)===qe&&(Gt=xr)}),Gt?Gt.ref?I.push(new Fr(ne,H.ref,"ref cannot reference another ref layer")):Ce=hn(Gt.type):I.push(new Fr(ne,H.ref,'ref layer "'+qe+'" not found'))}else if(Ce!=="background")if(!H.source)I.push(new Fr(ne,H,'missing required property "source"'));else{var er=he.sources&&he.sources[H.source],Jt=er&&hn(er.type);er?Jt==="vector"&&Ce==="raster"?I.push(new Fr(ne,H.source,'layer "'+H.id+'" requires a raster source')):Jt==="raster"&&Ce!=="raster"?I.push(new Fr(ne,H.source,'layer "'+H.id+'" requires a vector source')):Jt==="vector"&&!H["source-layer"]?I.push(new Fr(ne,H,'layer "'+H.id+'" must specify a "source-layer"')):Jt==="raster-dem"&&Ce!=="hillshade"?I.push(new Fr(ne,H.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ce==="line"&&H.paint&&H.paint["line-gradient"]&&(Jt!=="geojson"||!er.lineMetrics)&&I.push(new Fr(ne,H,'layer "'+H.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Fr(ne,H.source,'source "'+H.source+'" not found'))}return I=I.concat(Io({key:ne,value:H,valueSpec:we.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return wr({key:ne+".type",value:H.type,valueSpec:we.layer.type,style:D.style,styleSpec:D.styleSpec,object:H,objectKey:"type"})},filter:wu,layout:function(kr){return Io({layer:H,key:kr.key,value:kr.value,style:kr.style,styleSpec:kr.styleSpec,objectElementValidators:{"*":function(en){return $e(Ln({layerType:Ce},en))}}})},paint:function(kr){return Io({layer:H,key:kr.key,value:kr.value,style:kr.style,styleSpec:kr.styleSpec,objectElementValidators:{"*":function(en){return kf(Ln({layerType:Ce},en))}}})}}})),I}function pt(D){var I=D.value,H=D.key,ne=li(I);return ne!=="string"?[new Fr(H,I,"string expected, "+ne+" found")]:[]}var bt={promoteId:Dt};function zt(D){var I=D.value,H=D.key,ne=D.styleSpec,he=D.style;if(!I.type)return[new Fr(H,I,'"type" is required')];var we=hn(I.type),Ce;switch(we){case"vector":case"raster":case"raster-dem":return Ce=Io({key:H,value:I,valueSpec:ne["source_"+we.replace("-","_")],style:D.style,styleSpec:ne,objectElementValidators:bt}),Ce;case"geojson":if(Ce=Io({key:H,value:I,valueSpec:ne.source_geojson,style:he,styleSpec:ne,objectElementValidators:bt}),I.cluster)for(var qe in I.clusterProperties){var vt=I.clusterProperties[qe],Tt=vt[0],Pt=vt[1],Gt=typeof Tt=="string"?[Tt,["accumulated"],["get",qe]]:Tt;Ce.push.apply(Ce,Gl({key:H+"."+qe+".map",value:Pt,expressionContext:"cluster-map"})),Ce.push.apply(Ce,Gl({key:H+"."+qe+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return Ce;case"video":return Io({key:H,value:I,valueSpec:ne.source_video,style:he,styleSpec:ne});case"image":return Io({key:H,value:I,valueSpec:ne.source_image,style:he,styleSpec:ne});case"canvas":return[new Fr(H,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ks({key:H+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:he,styleSpec:ne})}}function Dt(D){var I=D.key,H=D.value;if(li(H)==="string")return pt({key:I,value:H});var ne=[];for(var he in H)ne.push.apply(ne,pt({key:I+"."+he,value:H[he]}));return ne}function Nt(D){var I=D.value,H=D.styleSpec,ne=H.light,he=D.style,we=[],Ce=li(I);if(I===void 0)return we;if(Ce!=="object")return we=we.concat([new Fr("light",I,"object expected, "+Ce+" found")]),we;for(var qe in I){var vt=qe.match(/^(.*)-transition$/);vt&&ne[vt[1]]&&ne[vt[1]].transition?we=we.concat(wr({key:qe,value:I[qe],valueSpec:H.transition,style:he,styleSpec:H})):ne[qe]?we=we.concat(wr({key:qe,value:I[qe],valueSpec:ne[qe],style:he,styleSpec:H})):we=we.concat([new Fr(qe,I[qe],'unknown property "'+qe+'"')])}return we}function hr(D){return pt(D).length===0?[]:Gl(D)}function br(D){return pt(D).length===0?[]:Gl(D)}var ur={"*":function(){return[]},array:pl,boolean:If,number:xu,color:Qu,constants:dn,enum:Ks,filter:wu,function:Ju,layer:it,object:Io,source:zt,light:Nt,string:pt,formatted:hr,resolvedImage:br};function wr(D){var I=D.value,H=D.valueSpec,ne=D.styleSpec;if(H.expression&&Nl(hn(I)))return Ju(D);if(H.expression&&hl(ln(I)))return Gl(D);if(H.type&&ur[H.type])return ur[H.type](D);var he=Io(Ln({},D,{valueSpec:H.type?ne[H.type]:H}));return he}function Lr(D){var I=D.value,H=D.key,ne=pt(D);return ne.length||(I.indexOf("{fontstack}")===-1&&ne.push(new Fr(H,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&ne.push(new Fr(H,I,'"glyphs" url must include a "{range}" token'))),ne}function Vr(D,I){I===void 0&&(I=Tr);var H=[];return H=H.concat(wr({key:"",value:D,valueSpec:I.$root,styleSpec:I,style:D,objectElementValidators:{glyphs:Lr,"*":function(){return[]}}})),D.constants&&(H=H.concat(dn({key:"constants",value:D.constants,style:D,styleSpec:I}))),tn(H)}Vr.source=sn(zt),Vr.light=sn(Nt),Vr.layer=sn(it),Vr.filter=sn(wu),Vr.paintProperty=sn(kf),Vr.layoutProperty=sn($e);function tn(D){return[].concat(D).sort(function(I,H){return I.line-H.line})}function sn(D){return function(){for(var I=[],H=arguments.length;H--;)I[H]=arguments[H];return tn(D.apply(this,I))}}var mn=Vr,Dn=mn.light,la=mn.paintProperty,Ea=mn.layoutProperty;function La(D,I){var H=!1;if(I&&I.length)for(var ne=0,he=I;ne<he.length;ne+=1){var we=he[ne];D.fire(new Ot(new Error(we.message))),H=!0}return H}var Ca=Za,Ia=3;function Za(D,I,H){var ne=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var he=new Int32Array(this.arrayBuffer);D=he[0],I=he[1],H=he[2],this.d=I+2*H;for(var we=0;we<this.d*this.d;we++){var Ce=he[Ia+we],qe=he[Ia+we+1];ne.push(Ce===qe?null:he.subarray(Ce,qe))}var vt=he[Ia+ne.length],Tt=he[Ia+ne.length+1];this.keys=he.subarray(vt,Tt),this.bboxes=he.subarray(Tt),this.insert=this._insertReadonly}else{this.d=I+2*H;for(var Pt=0;Pt<this.d*this.d;Pt++)ne.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=D,this.padding=H,this.scale=I/D,this.uid=0;var Gt=H/I*D;this.min=-Gt,this.max=D+Gt}Za.prototype.insert=function(D,I,H,ne,he){this._forEachCell(I,H,ne,he,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(I),this.bboxes.push(H),this.bboxes.push(ne),this.bboxes.push(he)},Za.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Za.prototype._insertCell=function(D,I,H,ne,he,we){this.cells[he].push(we)},Za.prototype.query=function(D,I,H,ne,he){var we=this.min,Ce=this.max;if(D<=we&&I<=we&&Ce<=H&&Ce<=ne&&!he)return Array.prototype.slice.call(this.keys);var qe=[],vt={};return this._forEachCell(D,I,H,ne,this._queryCell,qe,vt,he),qe},Za.prototype._queryCell=function(D,I,H,ne,he,we,Ce,qe){var vt=this.cells[he];if(vt!==null)for(var Tt=this.keys,Pt=this.bboxes,Gt=0;Gt<vt.length;Gt++){var er=vt[Gt];if(Ce[er]===void 0){var Jt=er*4;(qe?qe(Pt[Jt+0],Pt[Jt+1],Pt[Jt+2],Pt[Jt+3]):D<=Pt[Jt+2]&&I<=Pt[Jt+3]&&H>=Pt[Jt+0]&&ne>=Pt[Jt+1])?(Ce[er]=!0,we.push(Tt[er])):Ce[er]=!1}}},Za.prototype._forEachCell=function(D,I,H,ne,he,we,Ce,qe){for(var vt=this._convertToCellCoord(D),Tt=this._convertToCellCoord(I),Pt=this._convertToCellCoord(H),Gt=this._convertToCellCoord(ne),er=vt;er<=Pt;er++)for(var Jt=Tt;Jt<=Gt;Jt++){var xr=this.d*Jt+er;if(!(qe&&!qe(this._convertFromCellCoord(er),this._convertFromCellCoord(Jt),this._convertFromCellCoord(er+1),this._convertFromCellCoord(Jt+1)))&&he.call(this,D,I,H,ne,xr,we,Ce,qe))return}},Za.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},Za.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},Za.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,I=Ia+this.cells.length+1+1,H=0,ne=0;ne<this.cells.length;ne++)H+=this.cells[ne].length;var he=new Int32Array(I+H+this.keys.length+this.bboxes.length);he[0]=this.extent,he[1]=this.n,he[2]=this.padding;for(var we=I,Ce=0;Ce<D.length;Ce++){var qe=D[Ce];he[Ia+Ce]=we,he.set(qe,we),we+=qe.length}return he[Ia+D.length]=we,he.set(this.keys,we),we+=this.keys.length,he[Ia+D.length+1]=we,he.set(this.bboxes,we),we+=this.bboxes.length,he.buffer};var Li=s.ImageData,bi=s.ImageBitmap,fi={};function da(D,I,H){H===void 0&&(H={}),Object.defineProperty(I,"_classRegistryKey",{value:D,writeable:!1}),fi[D]={klass:I,omit:H.omit||[],shallow:H.shallow||[]}}da("Object",Object),Ca.serialize=function(I,H){var ne=I.toArrayBuffer();return H&&H.push(ne),{buffer:ne}},Ca.deserialize=function(I){return new Ca(I.buffer)},da("Grid",Ca),da("Color",ai),da("Error",Error),da("ResolvedImage",bo),da("StylePropertyFunction",vl),da("StyleExpression",Vl,{omit:["_evaluator"]}),da("ZoomDependentExpression",Yo),da("ZoomConstantExpression",Wo),da("CompoundExpression",Wi,{omit:["_evaluate"]});for(var Ai in js)js[Ai]._classRegistryKey||da("Expression_"+Ai,js[Ai]);function Xo(D){return D&&typeof ArrayBuffer!="undefined"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function Js(D){return bi&&D instanceof bi}function le(D,I){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(Xo(D)||Js(D))return I&&I.push(D),D;if(ArrayBuffer.isView(D)){var H=D;return I&&I.push(H.buffer),H}if(D instanceof Li)return I&&I.push(D.data.buffer),D;if(Array.isArray(D)){for(var ne=[],he=0,we=D;he<we.length;he+=1){var Ce=we[he];ne.push(le(Ce,I))}return ne}if(typeof D=="object"){var qe=D.constructor,vt=qe._classRegistryKey;if(!vt)throw new Error("can't serialize object of unregistered class");var Tt=qe.serialize?qe.serialize(D,I):{};if(!qe.serialize){for(var Pt in D)if(D.hasOwnProperty(Pt)&&!(fi[vt].omit.indexOf(Pt)>=0)){var Gt=D[Pt];Tt[Pt]=fi[vt].shallow.indexOf(Pt)>=0?Gt:le(Gt,I)}D instanceof Error&&(Tt.message=D.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return vt!=="Object"&&(Tt.$name=vt),Tt}throw new Error("can't serialize object of type "+typeof D)}function Me(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||Xo(D)||Js(D)||ArrayBuffer.isView(D)||D instanceof Li)return D;if(Array.isArray(D))return D.map(Me);if(typeof D=="object"){var I=D.$name||"Object",H=fi[I],ne=H.klass;if(!ne)throw new Error("can't deserialize unregistered class "+I);if(ne.deserialize)return ne.deserialize(D);for(var he=Object.create(ne.prototype),we=0,Ce=Object.keys(D);we<Ce.length;we+=1){var qe=Ce[we];if(qe!=="$name"){var vt=D[qe];he[qe]=fi[I].shallow.indexOf(qe)>=0?vt:Me(vt)}}return he}throw new Error("can't deserialize object of type "+typeof D)}var _e=function(){this.first=!0};_e.prototype.update=function(I,H){var ne=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=ne,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=ne,!0):(this.lastFloorZoom>ne?(this.lastIntegerZoom=ne+1,this.lastIntegerZoomTime=H):this.lastFloorZoom<ne&&(this.lastIntegerZoom=ne,this.lastIntegerZoomTime=H),I!==this.lastZoom?(this.lastZoom=I,this.lastFloorZoom=ne,!0):!1)};var je={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function at(D){for(var I=0,H=D;I<H.length;I+=1){var ne=H[I];if(Ht(ne.charCodeAt(0)))return!0}return!1}function ft(D){for(var I=0,H=D;I<H.length;I+=1){var ne=H[I];if(!_t(ne.charCodeAt(0)))return!1}return!0}function _t(D){return!(je.Arabic(D)||je["Arabic Supplement"](D)||je["Arabic Extended-A"](D)||je["Arabic Presentation Forms-A"](D)||je["Arabic Presentation Forms-B"](D))}function At(D){return D<11904?!1:!!(je["Bopomofo Extended"](D)||je.Bopomofo(D)||je["CJK Compatibility Forms"](D)||je["CJK Compatibility Ideographs"](D)||je["CJK Compatibility"](D)||je["CJK Radicals Supplement"](D)||je["CJK Strokes"](D)||je["CJK Symbols and Punctuation"](D)||je["CJK Unified Ideographs Extension A"](D)||je["CJK Unified Ideographs"](D)||je["Enclosed CJK Letters and Months"](D)||je["Halfwidth and Fullwidth Forms"](D)||je.Hiragana(D)||je["Ideographic Description Characters"](D)||je["Kangxi Radicals"](D)||je["Katakana Phonetic Extensions"](D)||je.Katakana(D)||je["Vertical Forms"](D)||je["Yi Radicals"](D)||je["Yi Syllables"](D))}function Ht(D){return D===746||D===747?!0:D<4352?!1:!!(je["Bopomofo Extended"](D)||je.Bopomofo(D)||je["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||je["CJK Compatibility Ideographs"](D)||je["CJK Compatibility"](D)||je["CJK Radicals Supplement"](D)||je["CJK Strokes"](D)||je["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||je["CJK Unified Ideographs Extension A"](D)||je["CJK Unified Ideographs"](D)||je["Enclosed CJK Letters and Months"](D)||je["Hangul Compatibility Jamo"](D)||je["Hangul Jamo Extended-A"](D)||je["Hangul Jamo Extended-B"](D)||je["Hangul Jamo"](D)||je["Hangul Syllables"](D)||je.Hiragana(D)||je["Ideographic Description Characters"](D)||je.Kanbun(D)||je["Kangxi Radicals"](D)||je["Katakana Phonetic Extensions"](D)||je.Katakana(D)&&D!==12540||je["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||je["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||je["Unified Canadian Aboriginal Syllabics"](D)||je["Unified Canadian Aboriginal Syllabics Extended"](D)||je["Vertical Forms"](D)||je["Yijing Hexagram Symbols"](D)||je["Yi Syllables"](D)||je["Yi Radicals"](D))}function Qt(D){return!!(je["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||je["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||je["Letterlike Symbols"](D)||je["Number Forms"](D)||je["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||je["Control Pictures"](D)&&D!==9251||je["Optical Character Recognition"](D)||je["Enclosed Alphanumerics"](D)||je["Geometric Shapes"](D)||je["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||je["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||je["CJK Symbols and Punctuation"](D)||je.Katakana(D)||je["Private Use Area"](D)||je["CJK Compatibility Forms"](D)||je["Small Form Variants"](D)||je["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function $t(D){return!(Ht(D)||Qt(D))}function Sr(D){return je.Arabic(D)||je["Arabic Supplement"](D)||je["Arabic Extended-A"](D)||je["Arabic Presentation Forms-A"](D)||je["Arabic Presentation Forms-B"](D)}function Er(D){return D>=1424&&D<=2303||je["Arabic Presentation Forms-A"](D)||je["Arabic Presentation Forms-B"](D)}function qr(D,I){return!(!I&&Er(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||je.Khmer(D))}function fn(D){for(var I=0,H=D;I<H.length;I+=1){var ne=H[I];if(Er(ne.charCodeAt(0)))return!0}return!1}function Pr(D,I){for(var H=0,ne=D;H<ne.length;H+=1){var he=ne[H];if(!qr(he.charCodeAt(0),I))return!1}return!0}var zr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Kr=null,an=zr.unavailable,nn=null,Zr=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(an=zr.error),Kr&&Kr(D)};function Nn(){$n.fire(new qt("pluginStateChange",{pluginStatus:an,pluginURL:nn}))}var $n=new tr,ia=function(){return an},na=function(D){return D({pluginStatus:an,pluginURL:nn}),$n.on("pluginStateChange",D),D},wa=function(D,I,H){if(H===void 0&&(H=!1),an===zr.deferred||an===zr.loading||an===zr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");nn=oe.resolveURL(D),an=zr.deferred,Kr=I,Nn(),H||ma()},ma=function(){if(an!==zr.deferred||!nn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");an=zr.loading,Nn(),nn&&Ct({url:nn},function(D){D?Zr(D):(an=zr.loaded,Nn())})},Pa={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return an===zr.loaded||Pa.applyArabicShaping!=null},isLoading:function(){return an===zr.loading},setState:function(I){an=I.pluginStatus,nn=I.pluginURL},isParsed:function(){return Pa.applyArabicShaping!=null&&Pa.processBidirectionalText!=null&&Pa.processStyledBidirectionalText!=null},getPluginURL:function(){return nn}},Ma=function(){!Pa.isLoading()&&!Pa.isLoaded()&&ia()==="deferred"&&ma()},pa=function(I,H){this.zoom=I,H?(this.now=H.now,this.fadeDuration=H.fadeDuration,this.zoomHistory=H.zoomHistory,this.transition=H.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new _e,this.transition={})};pa.prototype.isSupportedScript=function(I){return Pr(I,Pa.isLoaded())},pa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},pa.prototype.getCrossfadeParameters=function(){var I=this.zoom,H=I-Math.floor(I),ne=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:H+(1-H)*ne}:{fromScale:.5,toScale:1,t:1-(1-ne)*H}};var ja=function(I,H){this.property=I,this.value=H,this.expression=cc(H===void 0?I.specification.default:H,I.specification)};ja.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},ja.prototype.possiblyEvaluate=function(I,H,ne){return this.property.possiblyEvaluate(this,I,H,ne)};var Mi=function(I){this.property=I,this.value=new ja(I,void 0)};Mi.prototype.transitioned=function(I,H){return new Qn(this.property,this.value,H,A({},I.transition,this.transition),I.now)},Mi.prototype.untransitioned=function(){return new Qn(this.property,this.value,null,{},0)};var Va=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};Va.prototype.getValue=function(I){return B(this._values[I].value.value)},Va.prototype.setValue=function(I,H){this._values.hasOwnProperty(I)||(this._values[I]=new Mi(this._values[I].property)),this._values[I].value=new ja(this._values[I].property,H===null?void 0:B(H))},Va.prototype.getTransition=function(I){return B(this._values[I].transition)},Va.prototype.setTransition=function(I,H){this._values.hasOwnProperty(I)||(this._values[I]=new Mi(this._values[I].property)),this._values[I].transition=B(H)||void 0},Va.prototype.serialize=function(){for(var I={},H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var he=ne[H],we=this.getValue(he);we!==void 0&&(I[he]=we);var Ce=this.getTransition(he);Ce!==void 0&&(I[he+"-transition"]=Ce)}return I},Va.prototype.transitioned=function(I,H){for(var ne=new za(this._properties),he=0,we=Object.keys(this._values);he<we.length;he+=1){var Ce=we[he];ne._values[Ce]=this._values[Ce].transitioned(I,H._values[Ce])}return ne},Va.prototype.untransitioned=function(){for(var I=new za(this._properties),H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var he=ne[H];I._values[he]=this._values[he].untransitioned()}return I};var Qn=function(I,H,ne,he,we){this.property=I,this.value=H,this.begin=we+he.delay||0,this.end=this.begin+he.duration||0,I.specification.transition&&(he.delay||he.duration)&&(this.prior=ne)};Qn.prototype.possiblyEvaluate=function(I,H,ne){var he=I.now||0,we=this.value.possiblyEvaluate(I,H,ne),Ce=this.prior;if(Ce){if(he>this.end)return this.prior=null,we;if(this.value.isDataDriven())return this.prior=null,we;if(he<this.begin)return Ce.possiblyEvaluate(I,H,ne);var qe=(he-this.begin)/(this.end-this.begin);return this.property.interpolate(Ce.possiblyEvaluate(I,H,ne),we,l(qe))}else return we};var za=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};za.prototype.possiblyEvaluate=function(I,H,ne){for(var he=new gi(this._properties),we=0,Ce=Object.keys(this._values);we<Ce.length;we+=1){var qe=Ce[we];he._values[qe]=this._values[qe].possiblyEvaluate(I,H,ne)}return he},za.prototype.hasTransition=function(){for(var I=0,H=Object.keys(this._values);I<H.length;I+=1){var ne=H[I];if(this._values[ne].prior)return!0}return!1};var Ua=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};Ua.prototype.getValue=function(I){return B(this._values[I].value)},Ua.prototype.setValue=function(I,H){this._values[I]=new ja(this._values[I].property,H===null?void 0:B(H))},Ua.prototype.serialize=function(){for(var I={},H=0,ne=Object.keys(this._values);H<ne.length;H+=1){var he=ne[H],we=this.getValue(he);we!==void 0&&(I[he]=we)}return I},Ua.prototype.possiblyEvaluate=function(I,H,ne){for(var he=new gi(this._properties),we=0,Ce=Object.keys(this._values);we<Ce.length;we+=1){var qe=Ce[we];he._values[qe]=this._values[qe].possiblyEvaluate(I,H,ne)}return he};var Ha=function(I,H,ne){this.property=I,this.value=H,this.parameters=ne};Ha.prototype.isConstant=function(){return this.value.kind==="constant"},Ha.prototype.constantOr=function(I){return this.value.kind==="constant"?this.value.value:I},Ha.prototype.evaluate=function(I,H,ne,he){return this.property.evaluate(this.value,this.parameters,I,H,ne,he)};var gi=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};gi.prototype.get=function(I){return this._values[I]};var qn=function(I){this.specification=I};qn.prototype.possiblyEvaluate=function(I,H){return I.expression.evaluate(H)},qn.prototype.interpolate=function(I,H,ne){var he=lu[this.specification.type];return he?he(I,H,ne):I};var Ta=function(I,H){this.specification=I,this.overrides=H};Ta.prototype.possiblyEvaluate=function(I,H,ne,he){return I.expression.kind==="constant"||I.expression.kind==="camera"?new Ha(this,{kind:"constant",value:I.expression.evaluate(H,null,{},ne,he)},H):new Ha(this,I.expression,H)},Ta.prototype.interpolate=function(I,H,ne){if(I.value.kind!=="constant"||H.value.kind!=="constant")return I;if(I.value.value===void 0||H.value.value===void 0)return new Ha(this,{kind:"constant",value:void 0},I.parameters);var he=lu[this.specification.type];return he?new Ha(this,{kind:"constant",value:he(I.value.value,H.value.value,ne)},I.parameters):I},Ta.prototype.evaluate=function(I,H,ne,he,we,Ce){return I.kind==="constant"?I.value:I.evaluate(H,ne,he,we,Ce)};var Di=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ne,he,we,Ce){if(ne.value===void 0)return new Ha(this,{kind:"constant",value:void 0},he);if(ne.expression.kind==="constant"){var qe=ne.expression.evaluate(he,null,{},we,Ce),vt=ne.property.specification.type==="resolvedImage",Tt=vt&&typeof qe!="string"?qe.name:qe,Pt=this._calculate(Tt,Tt,Tt,he);return new Ha(this,{kind:"constant",value:Pt},he)}else if(ne.expression.kind==="camera"){var Gt=this._calculate(ne.expression.evaluate({zoom:he.zoom-1}),ne.expression.evaluate({zoom:he.zoom}),ne.expression.evaluate({zoom:he.zoom+1}),he);return new Ha(this,{kind:"constant",value:Gt},he)}else return new Ha(this,ne.expression,he)},I.prototype.evaluate=function(ne,he,we,Ce,qe,vt){if(ne.kind==="source"){var Tt=ne.evaluate(he,we,Ce,qe,vt);return this._calculate(Tt,Tt,Tt,he)}else return ne.kind==="composite"?this._calculate(ne.evaluate({zoom:Math.floor(he.zoom)-1},we,Ce),ne.evaluate({zoom:Math.floor(he.zoom)},we,Ce),ne.evaluate({zoom:Math.floor(he.zoom)+1},we,Ce),he):ne.value},I.prototype._calculate=function(ne,he,we,Ce){var qe=Ce.zoom;return qe>Ce.zoomHistory.lastIntegerZoom?{from:ne,to:he}:{from:we,to:he}},I.prototype.interpolate=function(ne){return ne},I}(Ta),yi=function(I){this.specification=I};yi.prototype.possiblyEvaluate=function(I,H,ne,he){if(I.value!==void 0)if(I.expression.kind==="constant"){var we=I.expression.evaluate(H,null,{},ne,he);return this._calculate(we,we,we,H)}else return this._calculate(I.expression.evaluate(new pa(Math.floor(H.zoom-1),H)),I.expression.evaluate(new pa(Math.floor(H.zoom),H)),I.expression.evaluate(new pa(Math.floor(H.zoom+1),H)),H)},yi.prototype._calculate=function(I,H,ne,he){var we=he.zoom;return we>he.zoomHistory.lastIntegerZoom?{from:I,to:H}:{from:ne,to:H}},yi.prototype.interpolate=function(I){return I};var zi=function(I){this.specification=I};zi.prototype.possiblyEvaluate=function(I,H,ne,he){return!!I.expression.evaluate(H,null,{},ne,he)},zi.prototype.interpolate=function(){return!1};var ci=function(I){this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var H in I){var ne=I[H];ne.specification.overridable&&this.overridableProperties.push(H);var he=this.defaultPropertyValues[H]=new ja(ne,void 0),we=this.defaultTransitionablePropertyValues[H]=new Mi(ne);this.defaultTransitioningPropertyValues[H]=we.untransitioned(),this.defaultPossiblyEvaluatedValues[H]=he.possiblyEvaluate({})}};da("DataDrivenProperty",Ta),da("DataConstantProperty",qn),da("CrossFadedDataDrivenProperty",Di),da("CrossFadedProperty",yi),da("ColorRampProperty",zi);var Pi="-transition",Ri=function(D){function I(H,ne){if(D.call(this),this.id=H.id,this.type=H.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},H.type!=="custom"&&(H=H,this.metadata=H.metadata,this.minzoom=H.minzoom,this.maxzoom=H.maxzoom,H.type!=="background"&&(this.source=H.source,this.sourceLayer=H["source-layer"],this.filter=H.filter),ne.layout&&(this._unevaluatedLayout=new Ua(ne.layout)),ne.paint)){this._transitionablePaint=new Va(ne.paint);for(var he in H.paint)this.setPaintProperty(he,H.paint[he],{validate:!1});for(var we in H.layout)this.setLayoutProperty(we,H.layout[we],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new gi(ne.paint)}}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(ne){return ne==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ne)},I.prototype.setLayoutProperty=function(ne,he,we){if(we===void 0&&(we={}),he!=null){var Ce="layers."+this.id+".layout."+ne;if(this._validate(Ea,Ce,ne,he,we))return}if(ne==="visibility"){this.visibility=he;return}this._unevaluatedLayout.setValue(ne,he)},I.prototype.getPaintProperty=function(ne){return p(ne,Pi)?this._transitionablePaint.getTransition(ne.slice(0,-Pi.length)):this._transitionablePaint.getValue(ne)},I.prototype.setPaintProperty=function(ne,he,we){if(we===void 0&&(we={}),he!=null){var Ce="layers."+this.id+".paint."+ne;if(this._validate(la,Ce,ne,he,we))return!1}if(p(ne,Pi))return this._transitionablePaint.setTransition(ne.slice(0,-Pi.length),he||void 0),!1;var qe=this._transitionablePaint._values[ne],vt=qe.property.specification["property-type"]==="cross-faded-data-driven",Tt=qe.value.isDataDriven(),Pt=qe.value;this._transitionablePaint.setValue(ne,he),this._handleSpecialPaintPropertyUpdate(ne);var Gt=this._transitionablePaint._values[ne].value,er=Gt.isDataDriven();return er||Tt||vt||this._handleOverridablePaintPropertyUpdate(ne,Pt,Gt)},I.prototype._handleSpecialPaintPropertyUpdate=function(ne){},I.prototype._handleOverridablePaintPropertyUpdate=function(ne,he,we){return!1},I.prototype.isHidden=function(ne){return this.minzoom&&ne<this.minzoom||this.maxzoom&&ne>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(ne){this._transitioningPaint=this._transitionablePaint.transitioned(ne,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(ne,he){ne.getCrossfadeParameters&&(this._crossfadeParameters=ne.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ne,void 0,he)),this.paint=this._transitioningPaint.possiblyEvaluate(ne,void 0,he)},I.prototype.serialize=function(){var ne={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ne.layout=ne.layout||{},ne.layout.visibility=this.visibility),R(ne,function(he,we){return he!==void 0&&!(we==="layout"&&!Object.keys(he).length)&&!(we==="paint"&&!Object.keys(he).length)})},I.prototype._validate=function(ne,he,we,Ce,qe){return qe===void 0&&(qe={}),qe&&qe.validate===!1?!1:La(this,ne.call(mn,{key:he,layerType:this.type,objectKey:we,value:Ce,styleSpec:Tr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var ne in this.paint._values){var he=this.paint.get(ne);if(!(!(he instanceof Ha)||!hs(he.property.specification))&&(he.value.kind==="source"||he.value.kind==="composite")&&he.value.isStateDependent)return!0}return!1},I}(tr),Au={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},tf=function(I,H){this._structArray=I,this._pos1=H*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},hi=128,so=5,Ga=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ga.serialize=function(I,H){return I._trim(),H&&(I.isTransferred=!0,H.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},Ga.deserialize=function(I){var H=Object.create(this.prototype);return H.arrayBuffer=I.arrayBuffer,H.length=I.length,H.capacity=I.arrayBuffer.byteLength/H.bytesPerElement,H._refreshViews(),H},Ga.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ga.prototype.clear=function(){this.length=0},Ga.prototype.resize=function(I){this.reserve(I),this.length=I},Ga.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(this.capacity*so),hi),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var H=this.uint8;this._refreshViews(),H&&this.uint8.set(H)}},Ga.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function oi(D,I){I===void 0&&(I=1);var H=0,ne=0,he=D.map(function(Ce){var qe=wo(Ce.type),vt=H=Mu(H,Math.max(I,qe)),Tt=Ce.components||1;return ne=Math.max(ne,qe),H+=qe*Tt,{name:Ce.name,type:Ce.type,components:Tt,offset:vt}}),we=Mu(H,Math.max(ne,I));return{members:he,size:we,alignment:I}}function wo(D){return Au[D].BYTES_PER_ELEMENT}function Mu(D,I){return Math.ceil(D/I)*I}var Zo=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he){var we=this.length;return this.resize(we+1),this.emplace(we,ne,he)},I.prototype.emplace=function(ne,he,we){var Ce=ne*2;return this.int16[Ce+0]=he,this.int16[Ce+1]=we,ne},I}(Ga);Zo.prototype.bytesPerElement=4,da("StructArrayLayout2i4",Zo);var Qs=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ne,he,we,Ce)},I.prototype.emplace=function(ne,he,we,Ce,qe){var vt=ne*4;return this.int16[vt+0]=he,this.int16[vt+1]=we,this.int16[vt+2]=Ce,this.int16[vt+3]=qe,ne},I}(Ga);Qs.prototype.bytesPerElement=8,da("StructArrayLayout4i8",Qs);var Fs=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ne,he,we,Ce,qe,vt)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt){var Pt=ne*6;return this.int16[Pt+0]=he,this.int16[Pt+1]=we,this.int16[Pt+2]=Ce,this.int16[Pt+3]=qe,this.int16[Pt+4]=vt,this.int16[Pt+5]=Tt,ne},I}(Ga);Fs.prototype.bytesPerElement=12,da("StructArrayLayout2i4i12",Fs);var Su=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ne,he,we,Ce,qe,vt)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt){var Pt=ne*4,Gt=ne*8;return this.int16[Pt+0]=he,this.int16[Pt+1]=we,this.uint8[Gt+4]=Ce,this.uint8[Gt+5]=qe,this.uint8[Gt+6]=vt,this.uint8[Gt+7]=Tt,ne},I}(Ga);Su.prototype.bytesPerElement=8,da("StructArrayLayout2i4ub8",Su);var pc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he){var we=this.length;return this.resize(we+1),this.emplace(we,ne,he)},I.prototype.emplace=function(ne,he,we){var Ce=ne*2;return this.float32[Ce+0]=he,this.float32[Ce+1]=we,ne},I}(Ga);pc.prototype.bytesPerElement=8,da("StructArrayLayout2f8",pc);var jo=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt){var xr=ne*10;return this.uint16[xr+0]=he,this.uint16[xr+1]=we,this.uint16[xr+2]=Ce,this.uint16[xr+3]=qe,this.uint16[xr+4]=vt,this.uint16[xr+5]=Tt,this.uint16[xr+6]=Pt,this.uint16[xr+7]=Gt,this.uint16[xr+8]=er,this.uint16[xr+9]=Jt,ne},I}(Ga);jo.prototype.bytesPerElement=20,da("StructArrayLayout10ui20",jo);var rf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr){var kr=this.length;return this.resize(kr+1),this.emplace(kr,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr){var un=ne*12;return this.int16[un+0]=he,this.int16[un+1]=we,this.int16[un+2]=Ce,this.int16[un+3]=qe,this.uint16[un+4]=vt,this.uint16[un+5]=Tt,this.uint16[un+6]=Pt,this.uint16[un+7]=Gt,this.int16[un+8]=er,this.int16[un+9]=Jt,this.int16[un+10]=xr,this.int16[un+11]=kr,ne},I}(Ga);rf.prototype.bytesPerElement=24,da("StructArrayLayout4i4ui4i24",rf);var Hv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,he,we)},I.prototype.emplace=function(ne,he,we,Ce){var qe=ne*3;return this.float32[qe+0]=he,this.float32[qe+1]=we,this.float32[qe+2]=Ce,ne},I}(Ga);Hv.prototype.bytesPerElement=12,da("StructArrayLayout3f12",Hv);var Gv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne){var he=this.length;return this.resize(he+1),this.emplace(he,ne)},I.prototype.emplace=function(ne,he){var we=ne*1;return this.uint32[we+0]=he,ne},I}(Ga);Gv.prototype.bytesPerElement=4,da("StructArrayLayout1ul4",Gv);var dh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt){var er=this.length;return this.resize(er+1),this.emplace(er,ne,he,we,Ce,qe,vt,Tt,Pt,Gt)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er){var Jt=ne*10,xr=ne*5;return this.int16[Jt+0]=he,this.int16[Jt+1]=we,this.int16[Jt+2]=Ce,this.int16[Jt+3]=qe,this.int16[Jt+4]=vt,this.int16[Jt+5]=Tt,this.uint32[xr+3]=Pt,this.uint16[Jt+8]=Gt,this.uint16[Jt+9]=er,ne},I}(Ga);dh.prototype.bytesPerElement=20,da("StructArrayLayout6i1ul2ui20",dh);var Nh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ne,he,we,Ce,qe,vt)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt){var Pt=ne*6;return this.int16[Pt+0]=he,this.int16[Pt+1]=we,this.int16[Pt+2]=Ce,this.int16[Pt+3]=qe,this.int16[Pt+4]=vt,this.int16[Pt+5]=Tt,ne},I}(Ga);Nh.prototype.bytesPerElement=12,da("StructArrayLayout2i2i2i12",Nh);var Eu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe){var vt=this.length;return this.resize(vt+1),this.emplace(vt,ne,he,we,Ce,qe)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt){var Tt=ne*4,Pt=ne*8;return this.float32[Tt+0]=he,this.float32[Tt+1]=we,this.float32[Tt+2]=Ce,this.int16[Pt+6]=qe,this.int16[Pt+7]=vt,ne},I}(Ga);Eu.prototype.bytesPerElement=16,da("StructArrayLayout2f1f2i16",Eu);var vs=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ne,he,we,Ce)},I.prototype.emplace=function(ne,he,we,Ce,qe){var vt=ne*12,Tt=ne*3;return this.uint8[vt+0]=he,this.uint8[vt+1]=we,this.float32[Tt+1]=Ce,this.float32[Tt+2]=qe,ne},I}(Ga);vs.prototype.bytesPerElement=12,da("StructArrayLayout2ub2f12",vs);var Cu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,he,we)},I.prototype.emplace=function(ne,he,we,Ce){var qe=ne*3;return this.uint16[qe+0]=he,this.uint16[qe+1]=we,this.uint16[qe+2]=Ce,ne},I}(Ga);Cu.prototype.bytesPerElement=6,da("StructArrayLayout3ui6",Cu);var ph=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en,Sn,pn){var An=this.length;return this.resize(An+1),this.emplace(An,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en,Sn,pn)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en,Sn,pn,An){var In=ne*24,Hn=ne*12,Kn=ne*48;return this.int16[In+0]=he,this.int16[In+1]=we,this.uint16[In+2]=Ce,this.uint16[In+3]=qe,this.uint32[Hn+2]=vt,this.uint32[Hn+3]=Tt,this.uint32[Hn+4]=Pt,this.uint16[In+10]=Gt,this.uint16[In+11]=er,this.uint16[In+12]=Jt,this.float32[Hn+7]=xr,this.float32[Hn+8]=kr,this.uint8[Kn+36]=un,this.uint8[Kn+37]=en,this.uint8[Kn+38]=Sn,this.uint32[Hn+10]=pn,this.int16[In+22]=An,ne},I}(Ga);ph.prototype.bytesPerElement=48,da("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ph);var Uh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en,Sn,pn,An,In,Hn,Kn,Zn,xa,fa,ya,Oa,ba,Sa){var Wa=this.length;return this.resize(Wa+1),this.emplace(Wa,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en,Sn,pn,An,In,Hn,Kn,Zn,xa,fa,ya,Oa,ba,Sa)},I.prototype.emplace=function(ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en,Sn,pn,An,In,Hn,Kn,Zn,xa,fa,ya,Oa,ba,Sa,Wa){var _a=ne*34,ti=ne*17;return this.int16[_a+0]=he,this.int16[_a+1]=we,this.int16[_a+2]=Ce,this.int16[_a+3]=qe,this.int16[_a+4]=vt,this.int16[_a+5]=Tt,this.int16[_a+6]=Pt,this.int16[_a+7]=Gt,this.uint16[_a+8]=er,this.uint16[_a+9]=Jt,this.uint16[_a+10]=xr,this.uint16[_a+11]=kr,this.uint16[_a+12]=un,this.uint16[_a+13]=en,this.uint16[_a+14]=Sn,this.uint16[_a+15]=pn,this.uint16[_a+16]=An,this.uint16[_a+17]=In,this.uint16[_a+18]=Hn,this.uint16[_a+19]=Kn,this.uint16[_a+20]=Zn,this.uint16[_a+21]=xa,this.uint16[_a+22]=fa,this.uint32[ti+12]=ya,this.float32[ti+13]=Oa,this.float32[ti+14]=ba,this.float32[ti+15]=Sa,this.float32[ti+16]=Wa,ne},I}(Ga);Uh.prototype.bytesPerElement=68,da("StructArrayLayout8i15ui1ul4f68",Uh);var gc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne){var he=this.length;return this.resize(he+1),this.emplace(he,ne)},I.prototype.emplace=function(ne,he){var we=ne*1;return this.float32[we+0]=he,ne},I}(Ga);gc.prototype.bytesPerElement=4,da("StructArrayLayout1f4",gc);var Wv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,he,we)},I.prototype.emplace=function(ne,he,we,Ce){var qe=ne*3;return this.int16[qe+0]=he,this.int16[qe+1]=we,this.int16[qe+2]=Ce,ne},I}(Ga);Wv.prototype.bytesPerElement=6,da("StructArrayLayout3i6",Wv);var nf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,ne,he,we)},I.prototype.emplace=function(ne,he,we,Ce){var qe=ne*2,vt=ne*4;return this.uint32[qe+0]=he,this.uint16[vt+2]=we,this.uint16[vt+3]=Ce,ne},I}(Ga);nf.prototype.bytesPerElement=8,da("StructArrayLayout1ul2ui8",nf);var gh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he){var we=this.length;return this.resize(we+1),this.emplace(we,ne,he)},I.prototype.emplace=function(ne,he,we){var Ce=ne*2;return this.uint16[Ce+0]=he,this.uint16[Ce+1]=we,ne},I}(Ga);gh.prototype.bytesPerElement=4,da("StructArrayLayout2ui4",gh);var yc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne){var he=this.length;return this.resize(he+1),this.emplace(he,ne)},I.prototype.emplace=function(ne,he){var we=ne*1;return this.uint16[we+0]=he,ne},I}(Ga);yc.prototype.bytesPerElement=2,da("StructArrayLayout1ui2",yc);var Ff=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ne,he,we,Ce){var qe=this.length;return this.resize(qe+1),this.emplace(qe,ne,he,we,Ce)},I.prototype.emplace=function(ne,he,we,Ce,qe){var vt=ne*4;return this.float32[vt+0]=he,this.float32[vt+1]=we,this.float32[vt+2]=Ce,this.float32[vt+3]=qe,ne},I}(Ga);Ff.prototype.bytesPerElement=16,da("StructArrayLayout4f16",Ff);var r0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var H={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return H.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},H.x1.get=function(){return this._structArray.int16[this._pos2+2]},H.y1.get=function(){return this._structArray.int16[this._pos2+3]},H.x2.get=function(){return this._structArray.int16[this._pos2+4]},H.y2.get=function(){return this._structArray.int16[this._pos2+5]},H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,H),I}(tf);r0.prototype.size=20;var Yv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ne){return new r0(this,ne)},I}(dh);da("CollisionBoxArray",Yv);var _f=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},H.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},H.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},H.segment.get=function(){return this._structArray.uint16[this._pos2+10]},H.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},H.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},H.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},H.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},H.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},H.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},H.placedOrientation.set=function(ne){this._structArray.uint8[this._pos1+37]=ne},H.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},H.hidden.set=function(ne){this._structArray.uint8[this._pos1+38]=ne},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},H.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+10]=ne},H.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,H),I}(tf);_f.prototype.size=48;var Xv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ne){return new _f(this,ne)},I}(ph);da("PlacedSymbolArray",Xv);var mc=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},H.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},H.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},H.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},H.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},H.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},H.key.get=function(){return this._structArray.uint16[this._pos2+8]},H.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},H.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},H.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},H.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},H.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},H.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},H.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},H.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},H.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},H.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},H.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},H.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},H.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},H.crossTileID.set=function(ne){this._structArray.uint32[this._pos4+12]=ne},H.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},H.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},H.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},H.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,H),I}(tf);mc.prototype.size=68;var n0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ne){return new mc(this,ne)},I}(Uh);da("SymbolInstanceArray",n0);var a0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(ne){return this.float32[ne*1+0]},I}(gc);da("GlyphOffsetArray",a0);var yl=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getx=function(ne){return this.int16[ne*3+0]},I.prototype.gety=function(ne){return this.int16[ne*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(ne){return this.int16[ne*3+2]},I}(Wv);da("SymbolLineVertexArray",yl);var i0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var H={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,H),I}(tf);i0.prototype.size=8;var o0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ne){return new i0(this,ne)},I}(nf);da("FeatureIndexArray",o0);var ng=oi([{name:"a_pos",components:2,type:"Int16"}],4),s0=ng.members,qi=function(I){I===void 0&&(I=[]),this.segments=I};qi.prototype.prepareSegment=function(I,H,ne,he){var we=this.segments[this.segments.length-1];return I>qi.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+qi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!we||we.vertexLength+I>qi.MAX_VERTEX_ARRAY_LENGTH||we.sortKey!==he)&&(we={vertexOffset:H.length,primitiveOffset:ne.length,vertexLength:0,primitiveLength:0},he!==void 0&&(we.sortKey=he),this.segments.push(we)),we},qi.prototype.get=function(){return this.segments},qi.prototype.destroy=function(){for(var I=0,H=this.segments;I<H.length;I+=1){var ne=H[I];for(var he in ne.vaos)ne.vaos[he].destroy()}},qi.simpleSegment=function(I,H,ne,he){return new qi([{vertexOffset:I,primitiveOffset:H,vertexLength:ne,primitiveLength:he,vaos:{},sortKey:0}])},qi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,da("SegmentVector",qi);function ce(D,I){return D=h(Math.floor(D),0,255),I=h(Math.floor(I),0,255),256*D+I}var Z=oi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ve=L(function(D){function I(H,ne){var he,we,Ce,qe,vt,Tt,Pt,Gt;for(he=H.length&3,we=H.length-he,Ce=ne,vt=3432918353,Tt=461845907,Gt=0;Gt<we;)Pt=H.charCodeAt(Gt)&255|(H.charCodeAt(++Gt)&255)<<8|(H.charCodeAt(++Gt)&255)<<16|(H.charCodeAt(++Gt)&255)<<24,++Gt,Pt=(Pt&65535)*vt+(((Pt>>>16)*vt&65535)<<16)&4294967295,Pt=Pt<<15|Pt>>>17,Pt=(Pt&65535)*Tt+(((Pt>>>16)*Tt&65535)<<16)&4294967295,Ce^=Pt,Ce=Ce<<13|Ce>>>19,qe=(Ce&65535)*5+(((Ce>>>16)*5&65535)<<16)&4294967295,Ce=(qe&65535)+27492+(((qe>>>16)+58964&65535)<<16);switch(Pt=0,he){case 3:Pt^=(H.charCodeAt(Gt+2)&255)<<16;case 2:Pt^=(H.charCodeAt(Gt+1)&255)<<8;case 1:Pt^=H.charCodeAt(Gt)&255,Pt=(Pt&65535)*vt+(((Pt>>>16)*vt&65535)<<16)&4294967295,Pt=Pt<<15|Pt>>>17,Pt=(Pt&65535)*Tt+(((Pt>>>16)*Tt&65535)<<16)&4294967295,Ce^=Pt}return Ce^=H.length,Ce^=Ce>>>16,Ce=(Ce&65535)*2246822507+(((Ce>>>16)*2246822507&65535)<<16)&4294967295,Ce^=Ce>>>13,Ce=(Ce&65535)*3266489909+(((Ce>>>16)*3266489909&65535)<<16)&4294967295,Ce^=Ce>>>16,Ce>>>0}D.exports=I}),q=L(function(D){function I(H,ne){for(var he=H.length,we=ne^he,Ce=0,qe;he>=4;)qe=H.charCodeAt(Ce)&255|(H.charCodeAt(++Ce)&255)<<8|(H.charCodeAt(++Ce)&255)<<16|(H.charCodeAt(++Ce)&255)<<24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),qe^=qe>>>24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)^qe,he-=4,++Ce;switch(he){case 3:we^=(H.charCodeAt(Ce+2)&255)<<16;case 2:we^=(H.charCodeAt(Ce+1)&255)<<8;case 1:we^=H.charCodeAt(Ce)&255,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16)}return we^=we>>>13,we=(we&65535)*1540483477+(((we>>>16)*1540483477&65535)<<16),we^=we>>>15,we>>>0}D.exports=I}),de=ve,Ie=ve,Qe=q;de.murmur3=Ie,de.murmur2=Qe;var ut=function(){this.ids=[],this.positions=[],this.indexed=!1};ut.prototype.add=function(I,H,ne,he){this.ids.push(Ut(I)),this.positions.push(H,ne,he)},ut.prototype.getPositions=function(I){for(var H=Ut(I),ne=0,he=this.ids.length-1;ne<he;){var we=ne+he>>1;this.ids[we]>=H?he=we:ne=we+1}for(var Ce=[];this.ids[ne]===H;){var qe=this.positions[3*ne],vt=this.positions[3*ne+1],Tt=this.positions[3*ne+2];Ce.push({index:qe,start:vt,end:Tt}),ne++}return Ce},ut.serialize=function(I,H){var ne=new Float64Array(I.ids),he=new Uint32Array(I.positions);return Kt(ne,he,0,ne.length-1),H&&H.push(ne.buffer,he.buffer),{ids:ne,positions:he}},ut.deserialize=function(I){var H=new ut;return H.ids=I.ids,H.positions=I.positions,H.indexed=!0,H};var St=Math.pow(2,53)-1;function Ut(D){var I=+D;return!isNaN(I)&&I<=St?I:de(String(D))}function Kt(D,I,H,ne){for(;H<ne;){for(var he=D[H+ne>>1],we=H-1,Ce=ne+1;;){do we++;while(D[we]<he);do Ce--;while(D[Ce]>he);if(we>=Ce)break;ar(D,we,Ce),ar(I,3*we,3*Ce),ar(I,3*we+1,3*Ce+1),ar(I,3*we+2,3*Ce+2)}Ce-H<ne-Ce?(Kt(D,I,H,Ce),H=Ce+1):(Kt(D,I,Ce+1,ne),ne=Ce)}}function ar(D,I,H){var ne=D[I];D[I]=D[H],D[H]=ne}da("FeaturePositionMap",ut);var nr=function(I,H){this.gl=I.gl,this.location=H},Rr=function(D){function I(H,ne){D.call(this,H,ne),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1i(this.location,ne))},I}(nr),Wr=function(D){function I(H,ne){D.call(this,H,ne),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ne){this.current!==ne&&(this.current=ne,this.gl.uniform1f(this.location,ne))},I}(nr),Hr=function(D){function I(H,ne){D.call(this,H,ne),this.current=[0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1])&&(this.current=ne,this.gl.uniform2f(this.location,ne[0],ne[1]))},I}(nr),Or=function(D){function I(H,ne){D.call(this,H,ne),this.current=[0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2])&&(this.current=ne,this.gl.uniform3f(this.location,ne[0],ne[1],ne[2]))},I}(nr),jr=function(D){function I(H,ne){D.call(this,H,ne),this.current=[0,0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ne){(ne[0]!==this.current[0]||ne[1]!==this.current[1]||ne[2]!==this.current[2]||ne[3]!==this.current[3])&&(this.current=ne,this.gl.uniform4f(this.location,ne[0],ne[1],ne[2],ne[3]))},I}(nr),cn=function(D){function I(H,ne){D.call(this,H,ne),this.current=ai.transparent}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ne){(ne.r!==this.current.r||ne.g!==this.current.g||ne.b!==this.current.b||ne.a!==this.current.a)&&(this.current=ne,this.gl.uniform4f(this.location,ne.r,ne.g,ne.b,ne.a))},I}(nr),Rn=new Float32Array(16),_n=function(D){function I(H,ne){D.call(this,H,ne),this.current=Rn}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ne){if(ne[12]!==this.current[12]||ne[0]!==this.current[0]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);return}for(var he=1;he<16;he++)if(ne[he]!==this.current[he]){this.current=ne,this.gl.uniformMatrix4fv(this.location,!1,ne);break}},I}(nr);function Gn(D){return[ce(255*D.r,255*D.g),ce(255*D.b,255*D.a)]}var Yn=function(I,H,ne){this.value=I,this.uniformNames=H.map(function(he){return"u_"+he}),this.type=ne};Yn.prototype.setUniform=function(I,H,ne){I.set(ne.constantOr(this.value))},Yn.prototype.getBinding=function(I,H,ne){return this.type==="color"?new cn(I,H):new Wr(I,H)};var Vn=function(I,H){this.uniformNames=H.map(function(ne){return"u_"+ne}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Vn.prototype.setConstantPatternPositions=function(I,H){this.pixelRatioFrom=H.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=H.tlbr,this.patternTo=I.tlbr},Vn.prototype.setUniform=function(I,H,ne,he){var we=he==="u_pattern_to"?this.patternTo:he==="u_pattern_from"?this.patternFrom:he==="u_pixel_ratio_to"?this.pixelRatioTo:he==="u_pixel_ratio_from"?this.pixelRatioFrom:null;we&&I.set(we)},Vn.prototype.getBinding=function(I,H,ne){return ne.substr(0,9)==="u_pattern"?new jr(I,H):new Wr(I,H)};var Xn=function(I,H,ne,he){this.expression=I,this.type=ne,this.maxValue=0,this.paintVertexAttributes=H.map(function(we){return{name:"a_"+we,type:"Float32",components:ne==="color"?2:1,offset:0}}),this.paintVertexArray=new he};Xn.prototype.populatePaintArray=function(I,H,ne,he,we){var Ce=this.paintVertexArray.length,qe=this.expression.evaluate(new pa(0),H,{},he,[],we);this.paintVertexArray.resize(I),this._setPaintValue(Ce,I,qe)},Xn.prototype.updatePaintArray=function(I,H,ne,he){var we=this.expression.evaluate({zoom:0},ne,he);this._setPaintValue(I,H,we)},Xn.prototype._setPaintValue=function(I,H,ne){if(this.type==="color")for(var he=Gn(ne),we=I;we<H;we++)this.paintVertexArray.emplace(we,he[0],he[1]);else{for(var Ce=I;Ce<H;Ce++)this.paintVertexArray.emplace(Ce,ne);this.maxValue=Math.max(this.maxValue,Math.abs(ne))}},Xn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Xn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var jn=function(I,H,ne,he,we,Ce){this.expression=I,this.uniformNames=H.map(function(qe){return"u_"+qe+"_t"}),this.type=ne,this.useIntegerZoom=he,this.zoom=we,this.maxValue=0,this.paintVertexAttributes=H.map(function(qe){return{name:"a_"+qe,type:"Float32",components:ne==="color"?4:2,offset:0}}),this.paintVertexArray=new Ce};jn.prototype.populatePaintArray=function(I,H,ne,he,we){var Ce=this.expression.evaluate(new pa(this.zoom),H,{},he,[],we),qe=this.expression.evaluate(new pa(this.zoom+1),H,{},he,[],we),vt=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(vt,I,Ce,qe)},jn.prototype.updatePaintArray=function(I,H,ne,he){var we=this.expression.evaluate({zoom:this.zoom},ne,he),Ce=this.expression.evaluate({zoom:this.zoom+1},ne,he);this._setPaintValue(I,H,we,Ce)},jn.prototype._setPaintValue=function(I,H,ne,he){if(this.type==="color")for(var we=Gn(ne),Ce=Gn(he),qe=I;qe<H;qe++)this.paintVertexArray.emplace(qe,we[0],we[1],Ce[0],Ce[1]);else{for(var vt=I;vt<H;vt++)this.paintVertexArray.emplace(vt,ne,he);this.maxValue=Math.max(this.maxValue,Math.abs(ne),Math.abs(he))}},jn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},jn.prototype.setUniform=function(I,H){var ne=this.useIntegerZoom?Math.floor(H.zoom):H.zoom,he=h(this.expression.interpolationFactor(ne,this.zoom,this.zoom+1),0,1);I.set(he)},jn.prototype.getBinding=function(I,H,ne){return new Wr(I,H)};var aa=function(I,H,ne,he,we,Ce){this.expression=I,this.type=H,this.useIntegerZoom=ne,this.zoom=he,this.layerId=Ce,this.zoomInPaintVertexArray=new we,this.zoomOutPaintVertexArray=new we};aa.prototype.populatePaintArray=function(I,H,ne){var he=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(he,I,H.patterns&&H.patterns[this.layerId],ne)},aa.prototype.updatePaintArray=function(I,H,ne,he,we){this._setPaintValues(I,H,ne.patterns&&ne.patterns[this.layerId],we)},aa.prototype._setPaintValues=function(I,H,ne,he){if(!(!he||!ne)){var we=ne.min,Ce=ne.mid,qe=ne.max,vt=he[we],Tt=he[Ce],Pt=he[qe];if(!(!vt||!Tt||!Pt))for(var Gt=I;Gt<H;Gt++)this.zoomInPaintVertexArray.emplace(Gt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],Tt.pixelRatio,vt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Gt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],Pt.tl[0],Pt.tl[1],Pt.br[0],Pt.br[1],Tt.pixelRatio,Pt.pixelRatio)}},aa.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,Z.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,Z.members,this.expression.isStateDependent))},aa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ga=function(I,H,ne){this.binders={},this._buffers=[];var he=[];for(var we in I.paint._values)if(ne(we)){var Ce=I.paint.get(we);if(!(!(Ce instanceof Ha)||!hs(Ce.property.specification))){var qe=Fa(we,I.type),vt=Ce.value,Tt=Ce.property.specification.type,Pt=Ce.property.useIntegerZoom,Gt=Ce.property.specification["property-type"],er=Gt==="cross-faded"||Gt==="cross-faded-data-driven";if(vt.kind==="constant")this.binders[we]=er?new Vn(vt.value,qe):new Yn(vt.value,qe,Tt),he.push("/u_"+we);else if(vt.kind==="source"||er){var Jt=Ya(we,Tt,"source");this.binders[we]=er?new aa(vt,Tt,Pt,H,Jt,I.id):new Xn(vt,qe,Tt,Jt),he.push("/a_"+we)}else{var xr=Ya(we,Tt,"composite");this.binders[we]=new jn(vt,qe,Tt,Pt,H,xr),he.push("/z_"+we)}}}this.cacheKey=he.sort().join("")};ga.prototype.getMaxValue=function(I){var H=this.binders[I];return H instanceof Xn||H instanceof jn?H.maxValue:0},ga.prototype.populatePaintArrays=function(I,H,ne,he,we){for(var Ce in this.binders){var qe=this.binders[Ce];(qe instanceof Xn||qe instanceof jn||qe instanceof aa)&&qe.populatePaintArray(I,H,ne,he,we)}},ga.prototype.setConstantPatternPositions=function(I,H){for(var ne in this.binders){var he=this.binders[ne];he instanceof Vn&&he.setConstantPatternPositions(I,H)}},ga.prototype.updatePaintArrays=function(I,H,ne,he,we){var Ce=!1;for(var qe in I)for(var vt=H.getPositions(qe),Tt=0,Pt=vt;Tt<Pt.length;Tt+=1){var Gt=Pt[Tt],er=ne.feature(Gt.index);for(var Jt in this.binders){var xr=this.binders[Jt];if((xr instanceof Xn||xr instanceof jn||xr instanceof aa)&&xr.expression.isStateDependent===!0){var kr=he.paint.get(Jt);xr.expression=kr.value,xr.updatePaintArray(Gt.start,Gt.end,er,I[qe],we),Ce=!0}}}return Ce},ga.prototype.defines=function(){var I=[];for(var H in this.binders){var ne=this.binders[H];(ne instanceof Yn||ne instanceof Vn)&&I.push.apply(I,ne.uniformNames.map(function(he){return"#define HAS_UNIFORM_"+he}))}return I},ga.prototype.getBinderAttributes=function(){var I=[];for(var H in this.binders){var ne=this.binders[H];if(ne instanceof Xn||ne instanceof jn)for(var he=0;he<ne.paintVertexAttributes.length;he++)I.push(ne.paintVertexAttributes[he].name);else if(ne instanceof aa)for(var we=0;we<Z.members.length;we++)I.push(Z.members[we].name)}return I},ga.prototype.getBinderUniforms=function(){var I=[];for(var H in this.binders){var ne=this.binders[H];if(ne instanceof Yn||ne instanceof Vn||ne instanceof jn)for(var he=0,we=ne.uniformNames;he<we.length;he+=1){var Ce=we[he];I.push(Ce)}}return I},ga.prototype.getPaintVertexBuffers=function(){return this._buffers},ga.prototype.getUniforms=function(I,H){var ne=[];for(var he in this.binders){var we=this.binders[he];if(we instanceof Yn||we instanceof Vn||we instanceof jn)for(var Ce=0,qe=we.uniformNames;Ce<qe.length;Ce+=1){var vt=qe[Ce];if(H[vt]){var Tt=we.getBinding(I,H[vt],vt);ne.push({name:vt,property:he,binding:Tt})}}}return ne},ga.prototype.setUniforms=function(I,H,ne,he){for(var we=0,Ce=H;we<Ce.length;we+=1){var qe=Ce[we],vt=qe.name,Tt=qe.property,Pt=qe.binding;this.binders[Tt].setUniform(Pt,he,ne.get(Tt),vt)}},ga.prototype.updatePaintBuffers=function(I){this._buffers=[];for(var H in this.binders){var ne=this.binders[H];if(I&&ne instanceof aa){var he=I.fromScale===2?ne.zoomInPaintVertexBuffer:ne.zoomOutPaintVertexBuffer;he&&this._buffers.push(he)}else(ne instanceof Xn||ne instanceof jn)&&ne.paintVertexBuffer&&this._buffers.push(ne.paintVertexBuffer)}},ga.prototype.upload=function(I){for(var H in this.binders){var ne=this.binders[H];(ne instanceof Xn||ne instanceof jn||ne instanceof aa)&&ne.upload(I)}this.updatePaintBuffers()},ga.prototype.destroy=function(){for(var I in this.binders){var H=this.binders[I];(H instanceof Xn||H instanceof jn||H instanceof aa)&&H.destroy()}};var ua=function(I,H,ne){ne===void 0&&(ne=function(){return!0}),this.programConfigurations={};for(var he=0,we=I;he<we.length;he+=1){var Ce=we[he];this.programConfigurations[Ce.id]=new ga(Ce,H,ne)}this.needsUpload=!1,this._featureMap=new ut,this._bufferOffset=0};ua.prototype.populatePaintArrays=function(I,H,ne,he,we,Ce){for(var qe in this.programConfigurations)this.programConfigurations[qe].populatePaintArrays(I,H,he,we,Ce);H.id!==void 0&&this._featureMap.add(H.id,ne,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},ua.prototype.updatePaintArrays=function(I,H,ne,he){for(var we=0,Ce=ne;we<Ce.length;we+=1){var qe=Ce[we];this.needsUpload=this.programConfigurations[qe.id].updatePaintArrays(I,this._featureMap,H,qe,he)||this.needsUpload}},ua.prototype.get=function(I){return this.programConfigurations[I]},ua.prototype.upload=function(I){if(this.needsUpload){for(var H in this.programConfigurations)this.programConfigurations[H].upload(I);this.needsUpload=!1}},ua.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()};function Fa(D,I){var H={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return H[D]||[D.replace(I+"-","").replace(/-/g,"_")]}function Ja(D){var I={"line-pattern":{source:jo,composite:jo},"fill-pattern":{source:jo,composite:jo},"fill-extrusion-pattern":{source:jo,composite:jo}};return I[D]}function Ya(D,I,H){var ne={color:{source:pc,composite:Ff},number:{source:gc,composite:pc}},he=Ja(D);return he&&he[H]||ne[I][H]}da("ConstantBinder",Yn),da("CrossFadedConstantBinder",Vn),da("SourceExpressionBinder",Xn),da("CrossFadedCompositeBinder",aa),da("CompositeExpressionBinder",jn),da("ProgramConfiguration",ga,{omit:["_buffers"]}),da("ProgramConfigurationSet",ua);var Aa=8192,Xa=15,Ba=Math.pow(2,Xa-1)-1,ei=-Ba-1;function $a(D){for(var I=Aa/D.extent,H=D.loadGeometry(),ne=0;ne<H.length;ne++)for(var he=H[ne],we=0;we<he.length;we++){var Ce=he[we],qe=Math.round(Ce.x*I),vt=Math.round(Ce.y*I);Ce.x=h(qe,ei,Ba),Ce.y=h(vt,ei,Ba),(qe<Ce.x||qe>Ce.x+1||vt<Ce.y||vt>Ce.y+1)&&O("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return H}function wi(D,I){return{type:D.type,id:D.id,properties:D.properties,geometry:I?$a(D):[]}}function Ka(D,I,H,ne,he){D.emplaceBack(I*2+(ne+1)/2,H*2+(he+1)/2)}var vi=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Zo,this.indexArray=new Cu,this.segments=new qi,this.programConfigurations=new ua(I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};vi.prototype.populate=function(I,H,ne){var he=this.layers[0],we=[],Ce=null;he.type==="circle"&&(Ce=he.layout.get("circle-sort-key"));for(var qe=0,vt=I;qe<vt.length;qe+=1){var Tt=vt[qe],Pt=Tt.feature,Gt=Tt.id,er=Tt.index,Jt=Tt.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,kr=wi(Pt,xr);if(this.layers[0]._featureFilter.filter(new pa(this.zoom),kr,ne)){var un=Ce?Ce.evaluate(kr,{},ne):void 0,en={id:Gt,properties:Pt.properties,type:Pt.type,sourceLayerIndex:Jt,index:er,geometry:xr?kr.geometry:$a(Pt),patterns:{},sortKey:un};we.push(en)}}Ce&&we.sort(function(fa,ya){return fa.sortKey-ya.sortKey});for(var Sn=0,pn=we;Sn<pn.length;Sn+=1){var An=pn[Sn],In=An,Hn=In.geometry,Kn=In.index,Zn=In.sourceLayerIndex,xa=I[Kn].feature;this.addFeature(An,Hn,Kn,ne),H.featureIndex.insert(xa,Hn,Kn,Zn,this.index)}},vi.prototype.update=function(I,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,H,this.stateDependentLayers,ne)},vi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vi.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,s0),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},vi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},vi.prototype.addFeature=function(I,H,ne,he){for(var we=0,Ce=H;we<Ce.length;we+=1)for(var qe=Ce[we],vt=0,Tt=qe;vt<Tt.length;vt+=1){var Pt=Tt[vt],Gt=Pt.x,er=Pt.y;if(!(Gt<0||Gt>=Aa||er<0||er>=Aa)){var Jt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),xr=Jt.vertexLength;Ka(this.layoutVertexArray,Gt,er,-1,-1),Ka(this.layoutVertexArray,Gt,er,1,-1),Ka(this.layoutVertexArray,Gt,er,1,1),Ka(this.layoutVertexArray,Gt,er,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),Jt.vertexLength+=4,Jt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ne,{},he)},da("CircleBucket",vi,{omit:["layers"]});function Na(D,I){for(var H=0;H<D.length;H++)if(Ko(I,D[H]))return!0;for(var ne=0;ne<I.length;ne++)if(Ko(D,I[ne]))return!0;return!!qs(D,I)}function Qa(D,I,H){return!!(Ko(D,I)||Zl(I,D,H))}function Ui(D,I){if(D.length===1)return jl(I,D[0]);for(var H=0;H<I.length;H++)for(var ne=I[H],he=0;he<ne.length;he++)if(Ko(D,ne[he]))return!0;for(var we=0;we<D.length;we++)if(jl(I,D[we]))return!0;for(var Ce=0;Ce<I.length;Ce++)if(qs(D,I[Ce]))return!0;return!1}function lo(D,I,H){for(var ne=0;ne<I.length;ne++){var he=I[ne];if(D.length>=3){for(var we=0;we<he.length;we++)if(Ko(D,he[we]))return!0}if($s(D,he,H))return!0}return!1}function $s(D,I,H){if(D.length>1){if(qs(D,I))return!0;for(var ne=0;ne<I.length;ne++)if(Zl(I[ne],D,H))return!0}for(var he=0;he<D.length;he++)if(Zl(D[he],I,H))return!0;return!1}function qs(D,I){if(D.length===0||I.length===0)return!1;for(var H=0;H<D.length-1;H++)for(var ne=D[H],he=D[H+1],we=0;we<I.length-1;we++){var Ce=I[we],qe=I[we+1];if(ml(ne,he,Ce,qe))return!0}return!1}function ml(D,I,H,ne){return z(D,H,ne)!==z(I,H,ne)&&z(D,I,H)!==z(D,I,ne)}function Zl(D,I,H){var ne=H*H;if(I.length===1)return D.distSqr(I[0])<ne;for(var he=1;he<I.length;he++){var we=I[he-1],Ce=I[he];if(zf(D,we,Ce)<ne)return!0}return!1}function zf(D,I,H){var ne=I.distSqr(H);if(ne===0)return D.distSqr(I);var he=((D.x-I.x)*(H.x-I.x)+(D.y-I.y)*(H.y-I.y))/ne;return he<0?D.distSqr(I):he>1?D.distSqr(H):D.distSqr(H.sub(I)._mult(he)._add(I))}function jl(D,I){for(var H=!1,ne,he,we,Ce=0;Ce<D.length;Ce++){ne=D[Ce];for(var qe=0,vt=ne.length-1;qe<ne.length;vt=qe++)he=ne[qe],we=ne[vt],he.y>I.y!=we.y>I.y&&I.x<(we.x-he.x)*(I.y-he.y)/(we.y-he.y)+he.x&&(H=!H)}return H}function Ko(D,I){for(var H=!1,ne=0,he=D.length-1;ne<D.length;he=ne++){var we=D[ne],Ce=D[he];we.y>I.y!=Ce.y>I.y&&I.x<(Ce.x-we.x)*(I.y-we.y)/(Ce.y-we.y)+we.x&&(H=!H)}return H}function Kl(D,I,H,ne,he){for(var we=0,Ce=D;we<Ce.length;we+=1){var qe=Ce[we];if(I<=qe.x&&H<=qe.y&&ne>=qe.x&&he>=qe.y)return!0}var vt=[new r(I,H),new r(I,he),new r(ne,he),new r(ne,H)];if(D.length>2)for(var Tt=0,Pt=vt;Tt<Pt.length;Tt+=1){var Gt=Pt[Tt];if(Ko(D,Gt))return!0}for(var er=0;er<D.length-1;er++){var Jt=D[er],xr=D[er+1];if(ds(Jt,xr,vt))return!0}return!1}function ds(D,I,H){var ne=H[0],he=H[2];if(D.x<ne.x&&I.x<ne.x||D.x>he.x&&I.x>he.x||D.y<ne.y&&I.y<ne.y||D.y>he.y&&I.y>he.y)return!1;var we=z(D,I,H[0]);return we!==z(D,I,H[1])||we!==z(D,I,H[2])||we!==z(D,I,H[3])}function Jo(D,I,H){var ne=I.paint.get(D).value;return ne.kind==="constant"?ne.value:H.programConfigurations.get(I.id).getMaxValue(D)}function xl(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Lu(D,I,H,ne,he){if(!I[0]&&!I[1])return D;var we=r.convert(I)._mult(he);H==="viewport"&&we._rotate(-ne);for(var Ce=[],qe=0;qe<D.length;qe++){var vt=D[qe];Ce.push(vt.sub(we))}return Ce}var bl=new ci({"circle-sort-key":new Ta(Tr.layout_circle["circle-sort-key"])}),Vh=new ci({"circle-radius":new Ta(Tr.paint_circle["circle-radius"]),"circle-color":new Ta(Tr.paint_circle["circle-color"]),"circle-blur":new Ta(Tr.paint_circle["circle-blur"]),"circle-opacity":new Ta(Tr.paint_circle["circle-opacity"]),"circle-translate":new qn(Tr.paint_circle["circle-translate"]),"circle-translate-anchor":new qn(Tr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qn(Tr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qn(Tr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ta(Tr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ta(Tr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ta(Tr.paint_circle["circle-stroke-opacity"])}),xc={paint:Vh,layout:bl},vo=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,I=0,H=arguments.length;H--;)I+=D[H]*D[H];return Math.sqrt(I)});function Hh(){var D=new vo(4);return vo!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function yh(D,I,H){var ne=I[0],he=I[1],we=I[2],Ce=I[3],qe=Math.sin(H),vt=Math.cos(H);return D[0]=ne*vt+we*qe,D[1]=he*vt+Ce*qe,D[2]=ne*-qe+we*vt,D[3]=he*-qe+Ce*vt,D}function ko(){var D=new vo(9);return vo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function bc(D,I){var H=Math.sin(I),ne=Math.cos(I);return D[0]=ne,D[1]=H,D[2]=0,D[3]=-H,D[4]=ne,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function Gh(){var D=new vo(16);return vo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function Wh(D){var I=new vo(16);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[4]=D[4],I[5]=D[5],I[6]=D[6],I[7]=D[7],I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function Yh(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function wc(D,I){var H=I[0],ne=I[1],he=I[2],we=I[3],Ce=I[4],qe=I[5],vt=I[6],Tt=I[7],Pt=I[8],Gt=I[9],er=I[10],Jt=I[11],xr=I[12],kr=I[13],un=I[14],en=I[15],Sn=H*qe-ne*Ce,pn=H*vt-he*Ce,An=H*Tt-we*Ce,In=ne*vt-he*qe,Hn=ne*Tt-we*qe,Kn=he*Tt-we*vt,Zn=Pt*kr-Gt*xr,xa=Pt*un-er*xr,fa=Pt*en-Jt*xr,ya=Gt*un-er*kr,Oa=Gt*en-Jt*kr,ba=er*en-Jt*un,Sa=Sn*ba-pn*Oa+An*ya+In*fa-Hn*xa+Kn*Zn;return Sa?(Sa=1/Sa,D[0]=(qe*ba-vt*Oa+Tt*ya)*Sa,D[1]=(he*Oa-ne*ba-we*ya)*Sa,D[2]=(kr*Kn-un*Hn+en*In)*Sa,D[3]=(er*Hn-Gt*Kn-Jt*In)*Sa,D[4]=(vt*fa-Ce*ba-Tt*xa)*Sa,D[5]=(H*ba-he*fa+we*xa)*Sa,D[6]=(un*An-xr*Kn-en*pn)*Sa,D[7]=(Pt*Kn-er*An+Jt*pn)*Sa,D[8]=(Ce*Oa-qe*fa+Tt*Zn)*Sa,D[9]=(ne*fa-H*Oa-we*Zn)*Sa,D[10]=(xr*Hn-kr*An+en*Sn)*Sa,D[11]=(Gt*An-Pt*Hn-Jt*Sn)*Sa,D[12]=(qe*xa-Ce*ya-vt*Zn)*Sa,D[13]=(H*ya-ne*xa+he*Zn)*Sa,D[14]=(kr*pn-xr*In-un*Sn)*Sa,D[15]=(Pt*In-Gt*pn+er*Sn)*Sa,D):null}function Tc(D,I,H){var ne=I[0],he=I[1],we=I[2],Ce=I[3],qe=I[4],vt=I[5],Tt=I[6],Pt=I[7],Gt=I[8],er=I[9],Jt=I[10],xr=I[11],kr=I[12],un=I[13],en=I[14],Sn=I[15],pn=H[0],An=H[1],In=H[2],Hn=H[3];return D[0]=pn*ne+An*qe+In*Gt+Hn*kr,D[1]=pn*he+An*vt+In*er+Hn*un,D[2]=pn*we+An*Tt+In*Jt+Hn*en,D[3]=pn*Ce+An*Pt+In*xr+Hn*Sn,pn=H[4],An=H[5],In=H[6],Hn=H[7],D[4]=pn*ne+An*qe+In*Gt+Hn*kr,D[5]=pn*he+An*vt+In*er+Hn*un,D[6]=pn*we+An*Tt+In*Jt+Hn*en,D[7]=pn*Ce+An*Pt+In*xr+Hn*Sn,pn=H[8],An=H[9],In=H[10],Hn=H[11],D[8]=pn*ne+An*qe+In*Gt+Hn*kr,D[9]=pn*he+An*vt+In*er+Hn*un,D[10]=pn*we+An*Tt+In*Jt+Hn*en,D[11]=pn*Ce+An*Pt+In*xr+Hn*Sn,pn=H[12],An=H[13],In=H[14],Hn=H[15],D[12]=pn*ne+An*qe+In*Gt+Hn*kr,D[13]=pn*he+An*vt+In*er+Hn*un,D[14]=pn*we+An*Tt+In*Jt+Hn*en,D[15]=pn*Ce+An*Pt+In*xr+Hn*Sn,D}function Yi(D,I,H){var ne=H[0],he=H[1],we=H[2],Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en;return I===D?(D[12]=I[0]*ne+I[4]*he+I[8]*we+I[12],D[13]=I[1]*ne+I[5]*he+I[9]*we+I[13],D[14]=I[2]*ne+I[6]*he+I[10]*we+I[14],D[15]=I[3]*ne+I[7]*he+I[11]*we+I[15]):(Ce=I[0],qe=I[1],vt=I[2],Tt=I[3],Pt=I[4],Gt=I[5],er=I[6],Jt=I[7],xr=I[8],kr=I[9],un=I[10],en=I[11],D[0]=Ce,D[1]=qe,D[2]=vt,D[3]=Tt,D[4]=Pt,D[5]=Gt,D[6]=er,D[7]=Jt,D[8]=xr,D[9]=kr,D[10]=un,D[11]=en,D[12]=Ce*ne+Pt*he+xr*we+I[12],D[13]=qe*ne+Gt*he+kr*we+I[13],D[14]=vt*ne+er*he+un*we+I[14],D[15]=Tt*ne+Jt*he+en*we+I[15]),D}function ps(D,I,H){var ne=H[0],he=H[1],we=H[2];return D[0]=I[0]*ne,D[1]=I[1]*ne,D[2]=I[2]*ne,D[3]=I[3]*ne,D[4]=I[4]*he,D[5]=I[5]*he,D[6]=I[6]*he,D[7]=I[7]*he,D[8]=I[8]*we,D[9]=I[9]*we,D[10]=I[10]*we,D[11]=I[11]*we,D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function gs(D,I,H){var ne=Math.sin(H),he=Math.cos(H),we=I[4],Ce=I[5],qe=I[6],vt=I[7],Tt=I[8],Pt=I[9],Gt=I[10],er=I[11];return I!==D&&(D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[4]=we*he+Tt*ne,D[5]=Ce*he+Pt*ne,D[6]=qe*he+Gt*ne,D[7]=vt*he+er*ne,D[8]=Tt*he-we*ne,D[9]=Pt*he-Ce*ne,D[10]=Gt*he-qe*ne,D[11]=er*he-vt*ne,D}function Xh(D,I,H){var ne=Math.sin(H),he=Math.cos(H),we=I[0],Ce=I[1],qe=I[2],vt=I[3],Tt=I[4],Pt=I[5],Gt=I[6],er=I[7];return I!==D&&(D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[0]=we*he+Tt*ne,D[1]=Ce*he+Pt*ne,D[2]=qe*he+Gt*ne,D[3]=vt*he+er*ne,D[4]=Tt*he-we*ne,D[5]=Pt*he-Ce*ne,D[6]=Gt*he-qe*ne,D[7]=er*he-vt*ne,D}function Zv(D,I,H,ne,he){var we=1/Math.tan(I/2),Ce;return D[0]=we/H,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=we,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,he!=null&&he!==1/0?(Ce=1/(ne-he),D[10]=(he+ne)*Ce,D[14]=2*he*ne*Ce):(D[10]=-1,D[14]=-2*ne),D}function ag(D,I,H,ne,he,we,Ce){var qe=1/(I-H),vt=1/(ne-he),Tt=1/(we-Ce);return D[0]=-2*qe,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*vt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*Tt,D[11]=0,D[12]=(I+H)*qe,D[13]=(he+ne)*vt,D[14]=(Ce+we)*Tt,D[15]=1,D}var ig=Tc;function mh(){var D=new vo(3);return vo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function og(D){var I=new vo(3);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function Zh(D,I,H){return D[0]=I[0]+H[0],D[1]=I[1]+H[1],D[2]=I[2]+H[2],D}function sg(D,I,H){return D[0]=I[0]-H[0],D[1]=I[1]-H[1],D[2]=I[2]-H[2],D}function lg(D,I,H){return D[0]=I[0]*H,D[1]=I[1]*H,D[2]=I[2]*H,D}function jv(D,I){var H=I[0],ne=I[1],he=I[2],we=H*H+ne*ne+he*he;return we>0&&(we=1/Math.sqrt(we)),D[0]=I[0]*we,D[1]=I[1]*we,D[2]=I[2]*we,D}function ww(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]}function Tw(D,I,H){var ne=I[0],he=I[1],we=I[2],Ce=H[0],qe=H[1],vt=H[2];return D[0]=he*vt-we*qe,D[1]=we*Ce-ne*vt,D[2]=ne*qe-he*Ce,D}function Aw(D,I,H){var ne=I[0],he=I[1],we=I[2];return D[0]=ne*H[0]+he*H[3]+we*H[6],D[1]=ne*H[1]+he*H[4]+we*H[7],D[2]=ne*H[2]+he*H[5]+we*H[8],D}var Mw=sg,vM=function(){var D=mh();return function(I,H,ne,he,we,Ce){var qe,vt;for(H||(H=3),ne||(ne=0),he?vt=Math.min(he*H+ne,I.length):vt=I.length,qe=ne;qe<vt;qe+=H)D[0]=I[qe],D[1]=I[qe+1],D[2]=I[qe+2],we(D,D,Ce),I[qe]=D[0],I[qe+1]=D[1],I[qe+2]=D[2];return I}}();function Sw(){var D=new vo(4);return vo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function Ew(D,I,H){return D[0]=I[0]*H,D[1]=I[1]*H,D[2]=I[2]*H,D[3]=I[3]*H,D}function Cw(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3]}function l0(D,I,H){var ne=I[0],he=I[1],we=I[2],Ce=I[3];return D[0]=H[0]*ne+H[4]*he+H[8]*we+H[12]*Ce,D[1]=H[1]*ne+H[5]*he+H[9]*we+H[13]*Ce,D[2]=H[2]*ne+H[6]*he+H[10]*we+H[14]*Ce,D[3]=H[3]*ne+H[7]*he+H[11]*we+H[15]*Ce,D}var dM=function(){var D=Sw();return function(I,H,ne,he,we,Ce){var qe,vt;for(H||(H=4),ne||(ne=0),he?vt=Math.min(he*H+ne,I.length):vt=I.length,qe=ne;qe<vt;qe+=H)D[0]=I[qe],D[1]=I[qe+1],D[2]=I[qe+2],D[3]=I[qe+3],we(D,D,Ce),I[qe]=D[0],I[qe+1]=D[1],I[qe+2]=D[2],I[qe+3]=D[3];return I}}();function Lw(){var D=new vo(2);return vo!=Float32Array&&(D[0]=0,D[1]=0),D}function Pw(D){var I=D[0],H=D[1];return I*I+H*H}var Rw=Pw,pM=function(){var D=Lw();return function(I,H,ne,he,we,Ce){var qe,vt;for(H||(H=2),ne||(ne=0),he?vt=Math.min(he*H+ne,I.length):vt=I.length,qe=ne;qe<vt;qe+=H)D[0]=I[qe],D[1]=I[qe+1],we(D,D,Ce),I[qe]=D[0],I[qe+1]=D[1];return I}}(),Dw=function(D){function I(H){D.call(this,H,xc)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ne){return new vi(ne)},I.prototype.queryRadius=function(ne){var he=ne;return Jo("circle-radius",this,he)+Jo("circle-stroke-width",this,he)+xl(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(ne,he,we,Ce,qe,vt,Tt,Pt){for(var Gt=Lu(ne,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),vt.angle,Tt),er=this.paint.get("circle-radius").evaluate(he,we),Jt=this.paint.get("circle-stroke-width").evaluate(he,we),xr=er+Jt,kr=this.paint.get("circle-pitch-alignment")==="map",un=kr?Gt:Iw(Gt,Pt),en=kr?xr*Tt:xr,Sn=0,pn=Ce;Sn<pn.length;Sn+=1)for(var An=pn[Sn],In=0,Hn=An;In<Hn.length;In+=1){var Kn=Hn[In],Zn=kr?Kn:r1(Kn,Pt),xa=en,fa=l0([],[Kn.x,Kn.y,0,1],Pt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?xa*=fa[3]/vt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(xa*=vt.cameraToCenterDistance/fa[3]),Qa(un,Zn,xa))return!0}return!1},I}(Ri);function r1(D,I){var H=l0([],[D.x,D.y,0,1],I);return new r(H[0]/H[3],H[1]/H[3])}function Iw(D,I){return D.map(function(H){return r1(H,I)})}var n1=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(vi);da("HeatmapBucket",n1,{omit:["layers"]});function ug(D,I,H,ne){var he=I.width,we=I.height;if(!ne)ne=new Uint8Array(he*we*H);else if(ne instanceof Uint8ClampedArray)ne=new Uint8Array(ne.buffer);else if(ne.length!==he*we*H)throw new RangeError("mismatched image size");return D.width=he,D.height=we,D.data=ne,D}function a1(D,I,H){var ne=I.width,he=I.height;if(!(ne===D.width&&he===D.height)){var we=ug({},{width:ne,height:he},H);fg(D,we,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ne),height:Math.min(D.height,he)},H),D.width=ne,D.height=he,D.data=we.data}}function fg(D,I,H,ne,he,we){if(he.width===0||he.height===0)return I;if(he.width>D.width||he.height>D.height||H.x>D.width-he.width||H.y>D.height-he.height)throw new RangeError("out of range source coordinates for image copy");if(he.width>I.width||he.height>I.height||ne.x>I.width-he.width||ne.y>I.height-he.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ce=D.data,qe=I.data,vt=0;vt<he.height;vt++)for(var Tt=((H.y+vt)*D.width+H.x)*we,Pt=((ne.y+vt)*I.width+ne.x)*we,Gt=0;Gt<he.width*we;Gt++)qe[Pt+Gt]=Ce[Tt+Gt];return I}var xh=function(I,H){ug(this,I,1,H)};xh.prototype.resize=function(I){a1(this,I,1)},xh.prototype.clone=function(){return new xh({width:this.width,height:this.height},new Uint8Array(this.data))},xh.copy=function(I,H,ne,he,we){fg(I,H,ne,he,we,1)};var ys=function(I,H){ug(this,I,4,H)};ys.prototype.resize=function(I){a1(this,I,4)},ys.prototype.replace=function(I,H){H?this.data.set(I):I instanceof Uint8ClampedArray?this.data=new Uint8Array(I.buffer):this.data=I},ys.prototype.clone=function(){return new ys({width:this.width,height:this.height},new Uint8Array(this.data))},ys.copy=function(I,H,ne,he,we){fg(I,H,ne,he,we,4)},da("AlphaImage",xh),da("RGBAImage",ys);var kw=new ci({"heatmap-radius":new Ta(Tr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ta(Tr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qn(Tr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new zi(Tr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qn(Tr.paint_heatmap["heatmap-opacity"])}),Fw={paint:kw};function i1(D){var I={},H=D.resolution||256,ne=D.clips?D.clips.length:1,he=D.image||new ys({width:H,height:ne}),we=function(Sn,pn,An){I[D.evaluationKey]=An;var In=D.expression.evaluate(I);he.data[Sn+pn+0]=Math.floor(In.r*255/In.a),he.data[Sn+pn+1]=Math.floor(In.g*255/In.a),he.data[Sn+pn+2]=Math.floor(In.b*255/In.a),he.data[Sn+pn+3]=Math.floor(In.a*255)};if(D.clips)for(var Tt=0,Pt=0;Tt<ne;++Tt,Pt+=H*4)for(var Gt=0,er=0;Gt<H;Gt++,er+=4){var Jt=Gt/(H-1),xr=D.clips[Tt],kr=xr.start,un=xr.end,en=kr*(1-Jt)+un*Jt;we(Pt,er,en)}else for(var Ce=0,qe=0;Ce<H;Ce++,qe+=4){var vt=Ce/(H-1);we(0,qe,vt)}return he}var _w=function(D){function I(H){D.call(this,H,Fw),this._updateColorRamp()}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ne){return new n1(ne)},I.prototype._handleSpecialPaintPropertyUpdate=function(ne){ne==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var ne=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=i1({expression:ne,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(Ri),zw=new ci({"hillshade-illumination-direction":new qn(Tr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new qn(Tr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qn(Tr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qn(Tr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qn(Tr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qn(Tr.paint_hillshade["hillshade-accent-color"])}),Ow={paint:zw},Bw=function(D){function I(H){D.call(this,H,Ow)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(Ri),Nw=oi([{name:"a_pos",components:2,type:"Int16"}],4),Uw=Nw.members,cg=u0,Vw=u0;function u0(D,I,H){H=H||2;var ne=I&&I.length,he=ne?I[0]*H:D.length,we=o1(D,0,he,H,!0),Ce=[];if(!we||we.next===we.prev)return Ce;var qe,vt,Tt,Pt,Gt,er,Jt;if(ne&&(we=Xw(D,I,we,H)),D.length>80*H){qe=Tt=D[0],vt=Pt=D[1];for(var xr=H;xr<he;xr+=H)Gt=D[xr],er=D[xr+1],Gt<qe&&(qe=Gt),er<vt&&(vt=er),Gt>Tt&&(Tt=Gt),er>Pt&&(Pt=er);Jt=Math.max(Tt-qe,Pt-vt),Jt=Jt!==0?1/Jt:0}return Kv(we,Ce,H,qe,vt,Jt),Ce}function o1(D,I,H,ne,he){var we,Ce;if(he===dg(D,I,H,ne)>0)for(we=I;we<H;we+=ne)Ce=u1(we,D[we],D[we+1],Ce);else for(we=H-ne;we>=I;we-=ne)Ce=u1(we,D[we],D[we+1],Ce);return Ce&&f0(Ce,Ce.next)&&(Qv(Ce),Ce=Ce.next),Ce}function Ac(D,I){if(!D)return D;I||(I=D);var H=D,ne;do if(ne=!1,!H.steiner&&(f0(H,H.next)||eo(H.prev,H,H.next)===0)){if(Qv(H),H=I=H.prev,H===H.next)break;ne=!0}else H=H.next;while(ne||H!==I);return I}function Kv(D,I,H,ne,he,we,Ce){if(D){!Ce&&we&&Qw(D,ne,he,we);for(var qe=D,vt,Tt;D.prev!==D.next;){if(vt=D.prev,Tt=D.next,we?Gw(D,ne,he,we):Hw(D)){I.push(vt.i/H),I.push(D.i/H),I.push(Tt.i/H),Qv(D),D=Tt.next,qe=Tt.next;continue}if(D=Tt,D===qe){Ce?Ce===1?(D=Ww(Ac(D),I,H),Kv(D,I,H,ne,he,we,2)):Ce===2&&Yw(D,I,H,ne,he,we):Kv(Ac(D),I,H,ne,he,we,1);break}}}}function Hw(D){var I=D.prev,H=D,ne=D.next;if(eo(I,H,ne)>=0)return!1;for(var he=D.next.next;he!==D.prev;){if(jh(I.x,I.y,H.x,H.y,ne.x,ne.y,he.x,he.y)&&eo(he.prev,he,he.next)>=0)return!1;he=he.next}return!0}function Gw(D,I,H,ne){var he=D.prev,we=D,Ce=D.next;if(eo(he,we,Ce)>=0)return!1;for(var qe=he.x<we.x?he.x<Ce.x?he.x:Ce.x:we.x<Ce.x?we.x:Ce.x,vt=he.y<we.y?he.y<Ce.y?he.y:Ce.y:we.y<Ce.y?we.y:Ce.y,Tt=he.x>we.x?he.x>Ce.x?he.x:Ce.x:we.x>Ce.x?we.x:Ce.x,Pt=he.y>we.y?he.y>Ce.y?he.y:Ce.y:we.y>Ce.y?we.y:Ce.y,Gt=hg(qe,vt,I,H,ne),er=hg(Tt,Pt,I,H,ne),Jt=D.prevZ,xr=D.nextZ;Jt&&Jt.z>=Gt&&xr&&xr.z<=er;){if(Jt!==D.prev&&Jt!==D.next&&jh(he.x,he.y,we.x,we.y,Ce.x,Ce.y,Jt.x,Jt.y)&&eo(Jt.prev,Jt,Jt.next)>=0||(Jt=Jt.prevZ,xr!==D.prev&&xr!==D.next&&jh(he.x,he.y,we.x,we.y,Ce.x,Ce.y,xr.x,xr.y)&&eo(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;Jt&&Jt.z>=Gt;){if(Jt!==D.prev&&Jt!==D.next&&jh(he.x,he.y,we.x,we.y,Ce.x,Ce.y,Jt.x,Jt.y)&&eo(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.prevZ}for(;xr&&xr.z<=er;){if(xr!==D.prev&&xr!==D.next&&jh(he.x,he.y,we.x,we.y,Ce.x,Ce.y,xr.x,xr.y)&&eo(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function Ww(D,I,H){var ne=D;do{var he=ne.prev,we=ne.next.next;!f0(he,we)&&s1(he,ne,ne.next,we)&&Jv(he,we)&&Jv(we,he)&&(I.push(he.i/H),I.push(ne.i/H),I.push(we.i/H),Qv(ne),Qv(ne.next),ne=D=we),ne=ne.next}while(ne!==D);return Ac(ne)}function Yw(D,I,H,ne,he,we){var Ce=D;do{for(var qe=Ce.next.next;qe!==Ce.prev;){if(Ce.i!==qe.i&&e4(Ce,qe)){var vt=l1(Ce,qe);Ce=Ac(Ce,Ce.next),vt=Ac(vt,vt.next),Kv(Ce,I,H,ne,he,we),Kv(vt,I,H,ne,he,we);return}qe=qe.next}Ce=Ce.next}while(Ce!==D)}function Xw(D,I,H,ne){var he=[],we,Ce,qe,vt,Tt;for(we=0,Ce=I.length;we<Ce;we++)qe=I[we]*ne,vt=we<Ce-1?I[we+1]*ne:D.length,Tt=o1(D,qe,vt,ne,!1),Tt===Tt.next&&(Tt.steiner=!0),he.push(qw(Tt));for(he.sort(Zw),we=0;we<he.length;we++)jw(he[we],H),H=Ac(H,H.next);return H}function Zw(D,I){return D.x-I.x}function jw(D,I){if(I=Kw(D,I),I){var H=l1(I,D);Ac(I,I.next),Ac(H,H.next)}}function Kw(D,I){var H=I,ne=D.x,he=D.y,we=-1/0,Ce;do{if(he<=H.y&&he>=H.next.y&&H.next.y!==H.y){var qe=H.x+(he-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(qe<=ne&&qe>we){if(we=qe,qe===ne){if(he===H.y)return H;if(he===H.next.y)return H.next}Ce=H.x<H.next.x?H:H.next}}H=H.next}while(H!==I);if(!Ce)return null;if(ne===we)return Ce;var vt=Ce,Tt=Ce.x,Pt=Ce.y,Gt=1/0,er;H=Ce;do ne>=H.x&&H.x>=Tt&&ne!==H.x&&jh(he<Pt?ne:we,he,Tt,Pt,he<Pt?we:ne,he,H.x,H.y)&&(er=Math.abs(he-H.y)/(ne-H.x),Jv(H,D)&&(er<Gt||er===Gt&&(H.x>Ce.x||H.x===Ce.x&&Jw(Ce,H)))&&(Ce=H,Gt=er)),H=H.next;while(H!==vt);return Ce}function Jw(D,I){return eo(D.prev,D,I.prev)<0&&eo(I.next,D,D.next)<0}function Qw(D,I,H,ne){var he=D;do he.z===null&&(he.z=hg(he.x,he.y,I,H,ne)),he.prevZ=he.prev,he.nextZ=he.next,he=he.next;while(he!==D);he.prevZ.nextZ=null,he.prevZ=null,$w(he)}function $w(D){var I,H,ne,he,we,Ce,qe,vt,Tt=1;do{for(H=D,D=null,we=null,Ce=0;H;){for(Ce++,ne=H,qe=0,I=0;I<Tt&&(qe++,ne=ne.nextZ,!!ne);I++);for(vt=Tt;qe>0||vt>0&&ne;)qe!==0&&(vt===0||!ne||H.z<=ne.z)?(he=H,H=H.nextZ,qe--):(he=ne,ne=ne.nextZ,vt--),we?we.nextZ=he:D=he,he.prevZ=we,we=he;H=ne}we.nextZ=null,Tt*=2}while(Ce>1);return D}function hg(D,I,H,ne,he){return D=32767*(D-H)*he,I=32767*(I-ne)*he,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D|I<<1}function qw(D){var I=D,H=D;do(I.x<H.x||I.x===H.x&&I.y<H.y)&&(H=I),I=I.next;while(I!==D);return H}function jh(D,I,H,ne,he,we,Ce,qe){return(he-Ce)*(I-qe)-(D-Ce)*(we-qe)>=0&&(D-Ce)*(ne-qe)-(H-Ce)*(I-qe)>=0&&(H-Ce)*(we-qe)-(he-Ce)*(ne-qe)>=0}function e4(D,I){return D.next.i!==I.i&&D.prev.i!==I.i&&!t4(D,I)&&(Jv(D,I)&&Jv(I,D)&&r4(D,I)&&(eo(D.prev,D,I.prev)||eo(D,I.prev,I))||f0(D,I)&&eo(D.prev,D,D.next)>0&&eo(I.prev,I,I.next)>0)}function eo(D,I,H){return(I.y-D.y)*(H.x-I.x)-(I.x-D.x)*(H.y-I.y)}function f0(D,I){return D.x===I.x&&D.y===I.y}function s1(D,I,H,ne){var he=h0(eo(D,I,H)),we=h0(eo(D,I,ne)),Ce=h0(eo(H,ne,D)),qe=h0(eo(H,ne,I));return!!(he!==we&&Ce!==qe||he===0&&c0(D,H,I)||we===0&&c0(D,ne,I)||Ce===0&&c0(H,D,ne)||qe===0&&c0(H,I,ne))}function c0(D,I,H){return I.x<=Math.max(D.x,H.x)&&I.x>=Math.min(D.x,H.x)&&I.y<=Math.max(D.y,H.y)&&I.y>=Math.min(D.y,H.y)}function h0(D){return D>0?1:D<0?-1:0}function t4(D,I){var H=D;do{if(H.i!==D.i&&H.next.i!==D.i&&H.i!==I.i&&H.next.i!==I.i&&s1(H,H.next,D,I))return!0;H=H.next}while(H!==D);return!1}function Jv(D,I){return eo(D.prev,D,D.next)<0?eo(D,I,D.next)>=0&&eo(D,D.prev,I)>=0:eo(D,I,D.prev)<0||eo(D,D.next,I)<0}function r4(D,I){var H=D,ne=!1,he=(D.x+I.x)/2,we=(D.y+I.y)/2;do H.y>we!=H.next.y>we&&H.next.y!==H.y&&he<(H.next.x-H.x)*(we-H.y)/(H.next.y-H.y)+H.x&&(ne=!ne),H=H.next;while(H!==D);return ne}function l1(D,I){var H=new vg(D.i,D.x,D.y),ne=new vg(I.i,I.x,I.y),he=D.next,we=I.prev;return D.next=I,I.prev=D,H.next=he,he.prev=H,ne.next=H,H.prev=ne,we.next=ne,ne.prev=we,ne}function u1(D,I,H,ne){var he=new vg(D,I,H);return ne?(he.next=ne.next,he.prev=ne,ne.next.prev=he,ne.next=he):(he.prev=he,he.next=he),he}function Qv(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function vg(D,I,H){this.i=D,this.x=I,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}u0.deviation=function(D,I,H,ne){var he=I&&I.length,we=he?I[0]*H:D.length,Ce=Math.abs(dg(D,0,we,H));if(he)for(var qe=0,vt=I.length;qe<vt;qe++){var Tt=I[qe]*H,Pt=qe<vt-1?I[qe+1]*H:D.length;Ce-=Math.abs(dg(D,Tt,Pt,H))}var Gt=0;for(qe=0;qe<ne.length;qe+=3){var er=ne[qe]*H,Jt=ne[qe+1]*H,xr=ne[qe+2]*H;Gt+=Math.abs((D[er]-D[xr])*(D[Jt+1]-D[er+1])-(D[er]-D[Jt])*(D[xr+1]-D[er+1]))}return Ce===0&&Gt===0?0:Math.abs((Gt-Ce)/Ce)};function dg(D,I,H,ne){for(var he=0,we=I,Ce=H-ne;we<H;we+=ne)he+=(D[Ce]-D[we])*(D[we+1]+D[Ce+1]),Ce=we;return he}u0.flatten=function(D){for(var I=D[0][0].length,H={vertices:[],holes:[],dimensions:I},ne=0,he=0;he<D.length;he++){for(var we=0;we<D[he].length;we++)for(var Ce=0;Ce<I;Ce++)H.vertices.push(D[he][we][Ce]);he>0&&(ne+=D[he-1].length,H.holes.push(ne))}return H},cg.default=Vw;function n4(D,I,H,ne,he){f1(D,I,H||0,ne||D.length-1,he||a4)}function f1(D,I,H,ne,he){for(;ne>H;){if(ne-H>600){var we=ne-H+1,Ce=I-H+1,qe=Math.log(we),vt=.5*Math.exp(2*qe/3),Tt=.5*Math.sqrt(qe*vt*(we-vt)/we)*(Ce-we/2<0?-1:1),Pt=Math.max(H,Math.floor(I-Ce*vt/we+Tt)),Gt=Math.min(ne,Math.floor(I+(we-Ce)*vt/we+Tt));f1(D,I,Pt,Gt,he)}var er=D[I],Jt=H,xr=ne;for($v(D,H,I),he(D[ne],er)>0&&$v(D,H,ne);Jt<xr;){for($v(D,Jt,xr),Jt++,xr--;he(D[Jt],er)<0;)Jt++;for(;he(D[xr],er)>0;)xr--}he(D[H],er)===0?$v(D,H,xr):(xr++,$v(D,xr,ne)),xr<=I&&(H=xr+1),I<=xr&&(ne=xr-1)}}function $v(D,I,H){var ne=D[I];D[I]=D[H],D[H]=ne}function a4(D,I){return D<I?-1:D>I?1:0}function pg(D,I){var H=D.length;if(H<=1)return[D];for(var ne=[],he,we,Ce=0;Ce<H;Ce++){var qe=N(D[Ce]);qe!==0&&(D[Ce].area=Math.abs(qe),we===void 0&&(we=qe<0),we===qe<0?(he&&ne.push(he),he=[D[Ce]]):he.push(D[Ce]))}if(he&&ne.push(he),I>1)for(var vt=0;vt<ne.length;vt++)ne[vt].length<=I||(n4(ne[vt],I,1,ne[vt].length-1,i4),ne[vt]=ne[vt].slice(0,I));return ne}function i4(D,I){return I.area-D.area}function gg(D,I,H){for(var ne=H.patternDependencies,he=!1,we=0,Ce=I;we<Ce.length;we+=1){var qe=Ce[we],vt=qe.paint.get(D+"-pattern");vt.isConstant()||(he=!0);var Tt=vt.constantOr(null);Tt&&(he=!0,ne[Tt.to]=!0,ne[Tt.from]=!0)}return he}function yg(D,I,H,ne,he){for(var we=he.patternDependencies,Ce=0,qe=I;Ce<qe.length;Ce+=1){var vt=qe[Ce],Tt=vt.paint.get(D+"-pattern"),Pt=Tt.value;if(Pt.kind!=="constant"){var Gt=Pt.evaluate({zoom:ne-1},H,{},he.availableImages),er=Pt.evaluate({zoom:ne},H,{},he.availableImages),Jt=Pt.evaluate({zoom:ne+1},H,{},he.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,er=er&&er.name?er.name:er,Jt=Jt&&Jt.name?Jt.name:Jt,we[Gt]=!0,we[er]=!0,we[Jt]=!0,H.patterns[vt.id]={min:Gt,mid:er,max:Jt}}}return H}var o4=500,Pu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Zo,this.indexArray=new Cu,this.indexArray2=new gh,this.programConfigurations=new ua(I.layers,I.zoom),this.segments=new qi,this.segments2=new qi,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Pu.prototype.populate=function(I,H,ne){this.hasPattern=gg("fill",this.layers,H);for(var he=this.layers[0].layout.get("fill-sort-key"),we=[],Ce=0,qe=I;Ce<qe.length;Ce+=1){var vt=qe[Ce],Tt=vt.feature,Pt=vt.id,Gt=vt.index,er=vt.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,xr=wi(Tt,Jt);if(this.layers[0]._featureFilter.filter(new pa(this.zoom),xr,ne)){var kr=he?he.evaluate(xr,{},ne,H.availableImages):void 0,un={id:Pt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:er,index:Gt,geometry:Jt?xr.geometry:$a(Tt),patterns:{},sortKey:kr};we.push(un)}}he&&we.sort(function(fa,ya){return fa.sortKey-ya.sortKey});for(var en=0,Sn=we;en<Sn.length;en+=1){var pn=Sn[en],An=pn,In=An.geometry,Hn=An.index,Kn=An.sourceLayerIndex;if(this.hasPattern){var Zn=yg("fill",this.layers,pn,this.zoom,H);this.patternFeatures.push(Zn)}else this.addFeature(pn,In,Hn,ne,{});var xa=I[Hn].feature;H.featureIndex.insert(xa,In,Hn,Kn,this.index)}},Pu.prototype.update=function(I,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,H,this.stateDependentLayers,ne)},Pu.prototype.addFeatures=function(I,H,ne){for(var he=0,we=this.patternFeatures;he<we.length;he+=1){var Ce=we[he];this.addFeature(Ce,Ce.geometry,Ce.index,H,ne)}},Pu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Pu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Pu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Uw),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},Pu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Pu.prototype.addFeature=function(I,H,ne,he,we){for(var Ce=0,qe=pg(H,o4);Ce<qe.length;Ce+=1){for(var vt=qe[Ce],Tt=0,Pt=0,Gt=vt;Pt<Gt.length;Pt+=1){var er=Gt[Pt];Tt+=er.length}for(var Jt=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray),xr=Jt.vertexLength,kr=[],un=[],en=0,Sn=vt;en<Sn.length;en+=1){var pn=Sn[en];if(pn.length!==0){pn!==vt[0]&&un.push(kr.length/2);var An=this.segments2.prepareSegment(pn.length,this.layoutVertexArray,this.indexArray2),In=An.vertexLength;this.layoutVertexArray.emplaceBack(pn[0].x,pn[0].y),this.indexArray2.emplaceBack(In+pn.length-1,In),kr.push(pn[0].x),kr.push(pn[0].y);for(var Hn=1;Hn<pn.length;Hn++)this.layoutVertexArray.emplaceBack(pn[Hn].x,pn[Hn].y),this.indexArray2.emplaceBack(In+Hn-1,In+Hn),kr.push(pn[Hn].x),kr.push(pn[Hn].y);An.vertexLength+=pn.length,An.primitiveLength+=pn.length}}for(var Kn=cg(kr,un),Zn=0;Zn<Kn.length;Zn+=3)this.indexArray.emplaceBack(xr+Kn[Zn],xr+Kn[Zn+1],xr+Kn[Zn+2]);Jt.vertexLength+=Tt,Jt.primitiveLength+=Kn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ne,we,he)},da("FillBucket",Pu,{omit:["layers","patternFeatures"]});var s4=new ci({"fill-sort-key":new Ta(Tr.layout_fill["fill-sort-key"])}),l4=new ci({"fill-antialias":new qn(Tr.paint_fill["fill-antialias"]),"fill-opacity":new Ta(Tr.paint_fill["fill-opacity"]),"fill-color":new Ta(Tr.paint_fill["fill-color"]),"fill-outline-color":new Ta(Tr.paint_fill["fill-outline-color"]),"fill-translate":new qn(Tr.paint_fill["fill-translate"]),"fill-translate-anchor":new qn(Tr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Di(Tr.paint_fill["fill-pattern"])}),u4={paint:l4,layout:s4},f4=function(D){function I(H){D.call(this,H,u4)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ne,he){D.prototype.recalculate.call(this,ne,he);var we=this.paint._values["fill-outline-color"];we.value.kind==="constant"&&we.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(ne){return new Pu(ne)},I.prototype.queryRadius=function(){return xl(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(ne,he,we,Ce,qe,vt,Tt){var Pt=Lu(ne,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),vt.angle,Tt);return Ui(Pt,Ce)},I.prototype.isTileClipped=function(){return!0},I}(Ri),c4=oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),h4=c4.members,c1=Kh;function Kh(D,I,H,ne,he){this.properties={},this.extent=H,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ne,this._values=he,D.readFields(v4,this,I)}function v4(D,I,H){D==1?I.id=H.readVarint():D==2?d4(H,I):D==3?I.type=H.readVarint():D==4&&(I._geometry=H.pos)}function d4(D,I){for(var H=D.readVarint()+D.pos;D.pos<H;){var ne=I._keys[D.readVarint()],he=I._values[D.readVarint()];I.properties[ne]=he}}Kh.types=["Unknown","Point","LineString","Polygon"],Kh.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,H=1,ne=0,he=0,we=0,Ce=[],qe;D.pos<I;){if(ne<=0){var vt=D.readVarint();H=vt&7,ne=vt>>3}if(ne--,H===1||H===2)he+=D.readSVarint(),we+=D.readSVarint(),H===1&&(qe&&Ce.push(qe),qe=[]),qe.push(new r(he,we));else if(H===7)qe&&qe.push(qe[0].clone());else throw new Error("unknown command "+H)}return qe&&Ce.push(qe),Ce},Kh.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,H=1,ne=0,he=0,we=0,Ce=1/0,qe=-1/0,vt=1/0,Tt=-1/0;D.pos<I;){if(ne<=0){var Pt=D.readVarint();H=Pt&7,ne=Pt>>3}if(ne--,H===1||H===2)he+=D.readSVarint(),we+=D.readSVarint(),he<Ce&&(Ce=he),he>qe&&(qe=he),we<vt&&(vt=we),we>Tt&&(Tt=we);else if(H!==7)throw new Error("unknown command "+H)}return[Ce,vt,qe,Tt]},Kh.prototype.toGeoJSON=function(D,I,H){var ne=this.extent*Math.pow(2,H),he=this.extent*D,we=this.extent*I,Ce=this.loadGeometry(),qe=Kh.types[this.type],vt,Tt;function Pt(Jt){for(var xr=0;xr<Jt.length;xr++){var kr=Jt[xr],un=180-(kr.y+we)*360/ne;Jt[xr]=[(kr.x+he)*360/ne-180,360/Math.PI*Math.atan(Math.exp(un*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(vt=0;vt<Ce.length;vt++)Gt[vt]=Ce[vt][0];Ce=Gt,Pt(Ce);break;case 2:for(vt=0;vt<Ce.length;vt++)Pt(Ce[vt]);break;case 3:for(Ce=p4(Ce),vt=0;vt<Ce.length;vt++)for(Tt=0;Tt<Ce[vt].length;Tt++)Pt(Ce[vt][Tt]);break}Ce.length===1?Ce=Ce[0]:qe="Multi"+qe;var er={type:"Feature",geometry:{type:qe,coordinates:Ce},properties:this.properties};return"id"in this&&(er.id=this.id),er};function p4(D){var I=D.length;if(I<=1)return[D];for(var H=[],ne,he,we=0;we<I;we++){var Ce=g4(D[we]);Ce!==0&&(he===void 0&&(he=Ce<0),he===Ce<0?(ne&&H.push(ne),ne=[D[we]]):ne.push(D[we]))}return ne&&H.push(ne),H}function g4(D){for(var I=0,H=0,ne=D.length,he=ne-1,we,Ce;H<ne;he=H++)we=D[H],Ce=D[he],I+=(Ce.x-we.x)*(we.y+Ce.y);return I}var h1=v1;function v1(D,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(y4,this,I),this.length=this._features.length}function y4(D,I,H){D===15?I.version=H.readVarint():D===1?I.name=H.readString():D===5?I.extent=H.readVarint():D===2?I._features.push(H.pos):D===3?I._keys.push(H.readString()):D===4&&I._values.push(m4(H))}function m4(D){for(var I=null,H=D.readVarint()+D.pos;D.pos<H;){var ne=D.readVarint()>>3;I=ne===1?D.readString():ne===2?D.readFloat():ne===3?D.readDouble():ne===4?D.readVarint64():ne===5?D.readVarint():ne===6?D.readSVarint():ne===7?D.readBoolean():null}return I}v1.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var I=this._pbf.readVarint()+this._pbf.pos;return new c1(this._pbf,I,this.extent,this._keys,this._values)};var x4=b4;function b4(D,I){this.layers=D.readFields(w4,{},I)}function w4(D,I,H){if(D===3){var ne=new h1(H,H.readVarint()+H.pos);ne.length&&(I[ne.name]=ne)}}var T4=x4,A4=c1,M4=h1,Jh={VectorTile:T4,VectorTileFeature:A4,VectorTileLayer:M4},S4=Jh.VectorTileFeature.types,E4=500,mg=Math.pow(2,13);function qv(D,I,H,ne,he,we,Ce,qe){D.emplaceBack(I,H,Math.floor(ne*mg)*2+Ce,he*mg*2,we*mg*2,Math.round(qe))}var Ru=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Fs,this.indexArray=new Cu,this.programConfigurations=new ua(I.layers,I.zoom),this.segments=new qi,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Ru.prototype.populate=function(I,H,ne){this.features=[],this.hasPattern=gg("fill-extrusion",this.layers,H);for(var he=0,we=I;he<we.length;he+=1){var Ce=we[he],qe=Ce.feature,vt=Ce.id,Tt=Ce.index,Pt=Ce.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,er=wi(qe,Gt);if(this.layers[0]._featureFilter.filter(new pa(this.zoom),er,ne)){var Jt={id:vt,sourceLayerIndex:Pt,index:Tt,geometry:Gt?er.geometry:$a(qe),properties:qe.properties,type:qe.type,patterns:{}};this.hasPattern?this.features.push(yg("fill-extrusion",this.layers,Jt,this.zoom,H)):this.addFeature(Jt,Jt.geometry,Tt,ne,{}),H.featureIndex.insert(qe,Jt.geometry,Tt,Pt,this.index,!0)}}},Ru.prototype.addFeatures=function(I,H,ne){for(var he=0,we=this.features;he<we.length;he+=1){var Ce=we[he],qe=Ce.geometry;this.addFeature(Ce,qe,Ce.index,H,ne)}},Ru.prototype.update=function(I,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,H,this.stateDependentLayers,ne)},Ru.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ru.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ru.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,h4),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Ru.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ru.prototype.addFeature=function(I,H,ne,he,we){for(var Ce=0,qe=pg(H,E4);Ce<qe.length;Ce+=1){for(var vt=qe[Ce],Tt=0,Pt=0,Gt=vt;Pt<Gt.length;Pt+=1){var er=Gt[Pt];Tt+=er.length}for(var Jt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,kr=vt;xr<kr.length;xr+=1){var un=kr[xr];if(un.length!==0&&!L4(un))for(var en=0,Sn=0;Sn<un.length;Sn++){var pn=un[Sn];if(Sn>=1){var An=un[Sn-1];if(!C4(pn,An)){Jt.vertexLength+4>qi.MAX_VERTEX_ARRAY_LENGTH&&(Jt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var In=pn.sub(An)._perp()._unit(),Hn=An.dist(pn);en+Hn>32768&&(en=0),qv(this.layoutVertexArray,pn.x,pn.y,In.x,In.y,0,0,en),qv(this.layoutVertexArray,pn.x,pn.y,In.x,In.y,0,1,en),en+=Hn,qv(this.layoutVertexArray,An.x,An.y,In.x,In.y,0,0,en),qv(this.layoutVertexArray,An.x,An.y,In.x,In.y,0,1,en);var Kn=Jt.vertexLength;this.indexArray.emplaceBack(Kn,Kn+2,Kn+1),this.indexArray.emplaceBack(Kn+1,Kn+2,Kn+3),Jt.vertexLength+=4,Jt.primitiveLength+=2}}}}if(Jt.vertexLength+Tt>qi.MAX_VERTEX_ARRAY_LENGTH&&(Jt=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray)),S4[I.type]==="Polygon"){for(var Zn=[],xa=[],fa=Jt.vertexLength,ya=0,Oa=vt;ya<Oa.length;ya+=1){var ba=Oa[ya];if(ba.length!==0){ba!==vt[0]&&xa.push(Zn.length/2);for(var Sa=0;Sa<ba.length;Sa++){var Wa=ba[Sa];qv(this.layoutVertexArray,Wa.x,Wa.y,0,0,1,1,0),Zn.push(Wa.x),Zn.push(Wa.y)}}}for(var _a=cg(Zn,xa),ti=0;ti<_a.length;ti+=3)this.indexArray.emplaceBack(fa+_a[ti],fa+_a[ti+2],fa+_a[ti+1]);Jt.primitiveLength+=_a.length/3,Jt.vertexLength+=Tt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ne,we,he)},da("FillExtrusionBucket",Ru,{omit:["layers","features"]});function C4(D,I){return D.x===I.x&&(D.x<0||D.x>Aa)||D.y===I.y&&(D.y<0||D.y>Aa)}function L4(D){return D.every(function(I){return I.x<0})||D.every(function(I){return I.x>Aa})||D.every(function(I){return I.y<0})||D.every(function(I){return I.y>Aa})}var P4=new ci({"fill-extrusion-opacity":new qn(Tr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ta(Tr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qn(Tr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qn(Tr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Di(Tr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ta(Tr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ta(Tr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qn(Tr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),R4={paint:P4},D4=function(D){function I(H){D.call(this,H,R4)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ne){return new Ru(ne)},I.prototype.queryRadius=function(){return xl(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(ne,he,we,Ce,qe,vt,Tt,Pt){var Gt=Lu(ne,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),vt.angle,Tt),er=this.paint.get("fill-extrusion-height").evaluate(he,we),Jt=this.paint.get("fill-extrusion-base").evaluate(he,we),xr=F4(Gt,Pt,vt,0),kr=k4(Ce,Jt,er,Pt),un=kr[0],en=kr[1];return I4(un,en,xr)},I}(Ri);function ed(D,I){return D.x*I.x+D.y*I.y}function d1(D,I){if(D.length===1){for(var H=0,ne=I[H++],he;!he||ne.equals(he);)if(he=I[H++],!he)return 1/0;for(;H<I.length;H++){var we=I[H],Ce=D[0],qe=he.sub(ne),vt=we.sub(ne),Tt=Ce.sub(ne),Pt=ed(qe,qe),Gt=ed(qe,vt),er=ed(vt,vt),Jt=ed(Tt,qe),xr=ed(Tt,vt),kr=Pt*er-Gt*Gt,un=(er*Jt-Gt*xr)/kr,en=(Pt*xr-Gt*Jt)/kr,Sn=1-un-en,pn=ne.z*Sn+he.z*un+we.z*en;if(isFinite(pn))return pn}return 1/0}else{for(var An=1/0,In=0,Hn=I;In<Hn.length;In+=1){var Kn=Hn[In];An=Math.min(An,Kn.z)}return An}}function I4(D,I,H){var ne=1/0;Ui(H,I)&&(ne=d1(H,I[0]));for(var he=0;he<I.length;he++)for(var we=I[he],Ce=D[he],qe=0;qe<we.length-1;qe++){var vt=we[qe],Tt=we[qe+1],Pt=Ce[qe],Gt=Ce[qe+1],er=[vt,Tt,Gt,Pt,vt];Na(H,er)&&(ne=Math.min(ne,d1(H,er)))}return ne===1/0?!1:ne}function k4(D,I,H,ne){for(var he=[],we=[],Ce=ne[8]*I,qe=ne[9]*I,vt=ne[10]*I,Tt=ne[11]*I,Pt=ne[8]*H,Gt=ne[9]*H,er=ne[10]*H,Jt=ne[11]*H,xr=0,kr=D;xr<kr.length;xr+=1){for(var un=kr[xr],en=[],Sn=[],pn=0,An=un;pn<An.length;pn+=1){var In=An[pn],Hn=In.x,Kn=In.y,Zn=ne[0]*Hn+ne[4]*Kn+ne[12],xa=ne[1]*Hn+ne[5]*Kn+ne[13],fa=ne[2]*Hn+ne[6]*Kn+ne[14],ya=ne[3]*Hn+ne[7]*Kn+ne[15],Oa=Zn+Ce,ba=xa+qe,Sa=fa+vt,Wa=ya+Tt,_a=Zn+Pt,ti=xa+Gt,pi=fa+er,ri=ya+Jt,ni=new r(Oa/Wa,ba/Wa);ni.z=Sa/Wa,en.push(ni);var qa=new r(_a/ri,ti/ri);qa.z=pi/ri,Sn.push(qa)}he.push(en),we.push(Sn)}return[he,we]}function F4(D,I,H,ne){for(var he=[],we=0,Ce=D;we<Ce.length;we+=1){var qe=Ce[we],vt=[qe.x,qe.y,ne,1];l0(vt,vt,I),he.push(new r(vt[0]/vt[3],vt[1]/vt[3]))}return he}var _4=oi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),z4=_4.members,O4=oi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),B4=O4.members,N4=Jh.VectorTileFeature.types,p1=63,U4=Math.cos(75/2*(Math.PI/180)),V4=15,H4=20,G4=15,g1=1/2,y1=Math.pow(2,G4-1)/g1,Qo=function(I){var H=this;this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ne){return ne.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ne){H.gradients[ne.id]={}}),this.layoutVertexArray=new Su,this.layoutVertexArray2=new pc,this.indexArray=new Cu,this.programConfigurations=new ua(I.layers,I.zoom),this.segments=new qi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ne){return ne.isStateDependent()}).map(function(ne){return ne.id})};Qo.prototype.populate=function(I,H,ne){this.hasPattern=gg("line",this.layers,H);for(var he=this.layers[0].layout.get("line-sort-key"),we=[],Ce=0,qe=I;Ce<qe.length;Ce+=1){var vt=qe[Ce],Tt=vt.feature,Pt=vt.id,Gt=vt.index,er=vt.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,xr=wi(Tt,Jt);if(this.layers[0]._featureFilter.filter(new pa(this.zoom),xr,ne)){var kr=he?he.evaluate(xr,{},ne):void 0,un={id:Pt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:er,index:Gt,geometry:Jt?xr.geometry:$a(Tt),patterns:{},sortKey:kr};we.push(un)}}he&&we.sort(function(fa,ya){return fa.sortKey-ya.sortKey});for(var en=0,Sn=we;en<Sn.length;en+=1){var pn=Sn[en],An=pn,In=An.geometry,Hn=An.index,Kn=An.sourceLayerIndex;if(this.hasPattern){var Zn=yg("line",this.layers,pn,this.zoom,H);this.patternFeatures.push(Zn)}else this.addFeature(pn,In,Hn,ne,{});var xa=I[Hn].feature;H.featureIndex.insert(xa,In,Hn,Kn,this.index)}},Qo.prototype.update=function(I,H,ne){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,H,this.stateDependentLayers,ne)},Qo.prototype.addFeatures=function(I,H,ne){for(var he=0,we=this.patternFeatures;he<we.length;he+=1){var Ce=we[he];this.addFeature(Ce,Ce.geometry,Ce.index,H,ne)}},Qo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qo.prototype.upload=function(I){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=I.createVertexBuffer(this.layoutVertexArray2,B4)),this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,z4),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qo.prototype.lineFeatureClips=function(I){if(I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end")){var H=+I.properties.mapbox_clip_start,ne=+I.properties.mapbox_clip_end;return{start:H,end:ne}}},Qo.prototype.addFeature=function(I,H,ne,he,we){var Ce=this.layers[0].layout,qe=Ce.get("line-join").evaluate(I,{}),vt=Ce.get("line-cap"),Tt=Ce.get("line-miter-limit"),Pt=Ce.get("line-round-limit");this.lineClips=this.lineFeatureClips(I);for(var Gt=0,er=H;Gt<er.length;Gt+=1){var Jt=er[Gt];this.addLine(Jt,I,qe,vt,Tt,Pt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ne,we,he)},Qo.prototype.addLine=function(I,H,ne,he,we,Ce){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var qe=0;qe<I.length-1;qe++)this.totalDistance+=I[qe].dist(I[qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var vt=N4[H.type]==="Polygon",Tt=I.length;Tt>=2&&I[Tt-1].equals(I[Tt-2]);)Tt--;for(var Pt=0;Pt<Tt-1&&I[Pt].equals(I[Pt+1]);)Pt++;if(!(Tt<(vt?3:2))){ne==="bevel"&&(we=1.05);var Gt=this.overscaling<=16?V4*Aa/(512*this.overscaling):0,er=this.segments.prepareSegment(Tt*10,this.layoutVertexArray,this.indexArray),Jt,xr=void 0,kr=void 0,un=void 0,en=void 0;this.e1=this.e2=-1,vt&&(Jt=I[Tt-2],en=I[Pt].sub(Jt)._unit()._perp());for(var Sn=Pt;Sn<Tt;Sn++)if(kr=Sn===Tt-1?vt?I[Pt+1]:void 0:I[Sn+1],!(kr&&I[Sn].equals(kr))){en&&(un=en),Jt&&(xr=Jt),Jt=I[Sn],en=kr?kr.sub(Jt)._unit()._perp():un,un=un||en;var pn=un.add(en);(pn.x!==0||pn.y!==0)&&pn._unit();var An=un.x*en.x+un.y*en.y,In=pn.x*en.x+pn.y*en.y,Hn=In!==0?1/In:1/0,Kn=2*Math.sqrt(2-2*In),Zn=In<U4&&xr&&kr,xa=un.x*en.y-un.y*en.x>0;if(Zn&&Sn>Pt){var fa=Jt.dist(xr);if(fa>2*Gt){var ya=Jt.sub(Jt.sub(xr)._mult(Gt/fa)._round());this.updateDistance(xr,ya),this.addCurrentVertex(ya,un,0,0,er),xr=ya}}var Oa=xr&&kr,ba=Oa?ne:vt?"butt":he;if(Oa&&ba==="round"&&(Hn<Ce?ba="miter":Hn<=2&&(ba="fakeround")),ba==="miter"&&Hn>we&&(ba="bevel"),ba==="bevel"&&(Hn>2&&(ba="flipbevel"),Hn<we&&(ba="miter")),xr&&this.updateDistance(xr,Jt),ba==="miter")pn._mult(Hn),this.addCurrentVertex(Jt,pn,0,0,er);else if(ba==="flipbevel"){if(Hn>100)pn=en.mult(-1);else{var Sa=Hn*un.add(en).mag()/un.sub(en).mag();pn._perp()._mult(Sa*(xa?-1:1))}this.addCurrentVertex(Jt,pn,0,0,er),this.addCurrentVertex(Jt,pn.mult(-1),0,0,er)}else if(ba==="bevel"||ba==="fakeround"){var Wa=-Math.sqrt(Hn*Hn-1),_a=xa?Wa:0,ti=xa?0:Wa;if(xr&&this.addCurrentVertex(Jt,un,_a,ti,er),ba==="fakeround")for(var pi=Math.round(Kn*180/Math.PI/H4),ri=1;ri<pi;ri++){var ni=ri/pi;if(ni!==.5){var qa=ni-.5,Ti=1.0904+An*(-3.2452+An*(3.55645-An*1.43519)),Ei=.848013+An*(-1.06021+An*.215638);ni=ni+ni*qa*(ni-1)*(Ti*qa*qa+Ei)}var Vi=en.sub(un)._mult(ni)._add(un)._unit()._mult(xa?-1:1);this.addHalfVertex(Jt,Vi.x,Vi.y,!1,xa,0,er)}kr&&this.addCurrentVertex(Jt,en,-_a,-ti,er)}else if(ba==="butt")this.addCurrentVertex(Jt,pn,0,0,er);else if(ba==="square"){var Xi=xr?1:-1;this.addCurrentVertex(Jt,pn,Xi,Xi,er)}else ba==="round"&&(xr&&(this.addCurrentVertex(Jt,un,0,0,er),this.addCurrentVertex(Jt,un,1,1,er,!0)),kr&&(this.addCurrentVertex(Jt,en,-1,-1,er,!0),this.addCurrentVertex(Jt,en,0,0,er)));if(Zn&&Sn<Tt-1){var go=Jt.dist(kr);if(go>2*Gt){var no=Jt.add(kr.sub(Jt)._mult(Gt/go)._round());this.updateDistance(Jt,no),this.addCurrentVertex(no,en,0,0,er),Jt=no}}}}},Qo.prototype.addCurrentVertex=function(I,H,ne,he,we,Ce){Ce===void 0&&(Ce=!1);var qe=H.x+H.y*ne,vt=H.y-H.x*ne,Tt=-H.x+H.y*he,Pt=-H.y-H.x*he;this.addHalfVertex(I,qe,vt,Ce,!1,ne,we),this.addHalfVertex(I,Tt,Pt,Ce,!0,-he,we),this.distance>y1/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(I,H,ne,he,we,Ce))},Qo.prototype.addHalfVertex=function(I,H,ne,he,we,Ce,qe){var vt=I.x,Tt=I.y,Pt=this.lineClips?this.scaledDistance*(y1-1):this.scaledDistance,Gt=Pt*g1;if(this.layoutVertexArray.emplaceBack((vt<<1)+(he?1:0),(Tt<<1)+(we?1:0),Math.round(p1*H)+128,Math.round(p1*ne)+128,(Ce===0?0:Ce<0?-1:1)+1|(Gt&63)<<2,Gt>>6),this.lineClips){var er=this.scaledDistance-this.lineClips.start,Jt=this.lineClips.end-this.lineClips.start,xr=er/Jt;this.layoutVertexArray2.emplaceBack(xr,this.lineClipsArray.length)}var kr=qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,kr),qe.primitiveLength++),we?this.e2=kr:this.e1=kr},Qo.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Qo.prototype.updateDistance=function(I,H){this.distance+=I.dist(H),this.updateScaledDistance()},da("LineBucket",Qo,{omit:["layers","patternFeatures"]});var W4=new ci({"line-cap":new qn(Tr.layout_line["line-cap"]),"line-join":new Ta(Tr.layout_line["line-join"]),"line-miter-limit":new qn(Tr.layout_line["line-miter-limit"]),"line-round-limit":new qn(Tr.layout_line["line-round-limit"]),"line-sort-key":new Ta(Tr.layout_line["line-sort-key"])}),Y4=new ci({"line-opacity":new Ta(Tr.paint_line["line-opacity"]),"line-color":new Ta(Tr.paint_line["line-color"]),"line-translate":new qn(Tr.paint_line["line-translate"]),"line-translate-anchor":new qn(Tr.paint_line["line-translate-anchor"]),"line-width":new Ta(Tr.paint_line["line-width"]),"line-gap-width":new Ta(Tr.paint_line["line-gap-width"]),"line-offset":new Ta(Tr.paint_line["line-offset"]),"line-blur":new Ta(Tr.paint_line["line-blur"]),"line-dasharray":new yi(Tr.paint_line["line-dasharray"]),"line-pattern":new Di(Tr.paint_line["line-pattern"]),"line-gradient":new zi(Tr.paint_line["line-gradient"])}),m1={paint:Y4,layout:W4},X4=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ne,he){return he=new pa(Math.floor(he.zoom),{now:he.now,fadeDuration:he.fadeDuration,zoomHistory:he.zoomHistory,transition:he.transition}),D.prototype.possiblyEvaluate.call(this,ne,he)},I.prototype.evaluate=function(ne,he,we,Ce){return he=A({},he,{zoom:Math.floor(he.zoom)}),D.prototype.evaluate.call(this,ne,he,we,Ce)},I}(Ta),x1=new X4(m1.paint.properties["line-width"].specification);x1.useIntegerZoom=!0;var Z4=function(D){function I(H){D.call(this,H,m1),this.gradientVersion=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(ne){if(ne==="line-gradient"){var he=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=he._styleExpression.expression instanceof Uo,this.gradientVersion=(this.gradientVersion+1)%u}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(ne,he){D.prototype.recalculate.call(this,ne,he),this.paint._values["line-floorwidth"]=x1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ne)},I.prototype.createBucket=function(ne){return new Qo(ne)},I.prototype.queryRadius=function(ne){var he=ne,we=b1(Jo("line-width",this,he),Jo("line-gap-width",this,he)),Ce=Jo("line-offset",this,he);return we/2+Math.abs(Ce)+xl(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(ne,he,we,Ce,qe,vt,Tt){var Pt=Lu(ne,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),vt.angle,Tt),Gt=Tt/2*b1(this.paint.get("line-width").evaluate(he,we),this.paint.get("line-gap-width").evaluate(he,we)),er=this.paint.get("line-offset").evaluate(he,we);return er&&(Ce=j4(Ce,er*Tt)),lo(Pt,Ce,Gt)},I.prototype.isTileClipped=function(){return!0},I}(Ri);function b1(D,I){return I>0?I+2*D:D}function j4(D,I){for(var H=[],ne=new r(0,0),he=0;he<D.length;he++){for(var we=D[he],Ce=[],qe=0;qe<we.length;qe++){var vt=we[qe-1],Tt=we[qe],Pt=we[qe+1],Gt=qe===0?ne:Tt.sub(vt)._unit()._perp(),er=qe===we.length-1?ne:Pt.sub(Tt)._unit()._perp(),Jt=Gt._add(er)._unit(),xr=Jt.x*er.x+Jt.y*er.y;Jt._mult(1/xr),Ce.push(Jt._mult(I)._add(Tt))}H.push(Ce)}return H}var K4=oi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),J4=oi([{name:"a_projected_pos",components:3,type:"Float32"}],4),gM=oi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Q4=oi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),yM=oi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),w1=oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),$4=oi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4),mM=oi([{name:"triangle",components:3,type:"Uint16"}]),xM=oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),bM=oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),wM=oi([{type:"Float32",name:"offsetX"}]),TM=oi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function q4(D,I,H){var ne=I.layout.get("text-transform").evaluate(H,{});return ne==="uppercase"?D=D.toLocaleUpperCase():ne==="lowercase"&&(D=D.toLocaleLowerCase()),Pa.applyArabicShaping&&(D=Pa.applyArabicShaping(D)),D}function eT(D,I,H){return D.sections.forEach(function(ne){ne.text=q4(ne.text,I,H)}),D}function tT(D){var I={},H={},ne=[],he=0;function we(en){ne.push(D[en]),he++}function Ce(en,Sn,pn){var An=H[en];return delete H[en],H[Sn]=An,ne[An].geometry[0].pop(),ne[An].geometry[0]=ne[An].geometry[0].concat(pn[0]),An}function qe(en,Sn,pn){var An=I[Sn];return delete I[Sn],I[en]=An,ne[An].geometry[0].shift(),ne[An].geometry[0]=pn[0].concat(ne[An].geometry[0]),An}function vt(en,Sn,pn){var An=pn?Sn[0][Sn[0].length-1]:Sn[0][0];return en+":"+An.x+":"+An.y}for(var Tt=0;Tt<D.length;Tt++){var Pt=D[Tt],Gt=Pt.geometry,er=Pt.text?Pt.text.toString():null;if(!er){we(Tt);continue}var Jt=vt(er,Gt),xr=vt(er,Gt,!0);if(Jt in H&&xr in I&&H[Jt]!==I[xr]){var kr=qe(Jt,xr,Gt),un=Ce(Jt,xr,ne[kr].geometry);delete I[Jt],delete H[xr],H[vt(er,ne[un].geometry,!0)]=un,ne[kr].geometry=null}else Jt in H?Ce(Jt,xr,Gt):xr in I?qe(Jt,xr,Gt):(we(Tt),I[Jt]=he-1,H[xr]=he-1)}return ne.filter(function(en){return en.geometry})}var td={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};function rT(D){for(var I="",H=0;H<D.length;H++){var ne=D.charCodeAt(H+1)||null,he=D.charCodeAt(H-1)||null,we=(!ne||!$t(ne)||td[D[H+1]])&&(!he||!$t(he)||td[D[H-1]]);we&&td[D[H]]?I+=td[D[H]]:I+=D[H]}return I}var To=24,nT=function(D,I,H,ne,he){var we,Ce,qe=he*8-ne-1,vt=(1<<qe)-1,Tt=vt>>1,Pt=-7,Gt=H?he-1:0,er=H?-1:1,Jt=D[I+Gt];for(Gt+=er,we=Jt&(1<<-Pt)-1,Jt>>=-Pt,Pt+=qe;Pt>0;we=we*256+D[I+Gt],Gt+=er,Pt-=8);for(Ce=we&(1<<-Pt)-1,we>>=-Pt,Pt+=ne;Pt>0;Ce=Ce*256+D[I+Gt],Gt+=er,Pt-=8);if(we===0)we=1-Tt;else{if(we===vt)return Ce?NaN:(Jt?-1:1)*(1/0);Ce=Ce+Math.pow(2,ne),we=we-Tt}return(Jt?-1:1)*Ce*Math.pow(2,we-ne)},aT=function(D,I,H,ne,he,we){var Ce,qe,vt,Tt=we*8-he-1,Pt=(1<<Tt)-1,Gt=Pt>>1,er=he===23?Math.pow(2,-24)-Math.pow(2,-77):0,Jt=ne?0:we-1,xr=ne?1:-1,kr=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(qe=isNaN(I)?1:0,Ce=Pt):(Ce=Math.floor(Math.log(I)/Math.LN2),I*(vt=Math.pow(2,-Ce))<1&&(Ce--,vt*=2),Ce+Gt>=1?I+=er/vt:I+=er*Math.pow(2,1-Gt),I*vt>=2&&(Ce++,vt/=2),Ce+Gt>=Pt?(qe=0,Ce=Pt):Ce+Gt>=1?(qe=(I*vt-1)*Math.pow(2,he),Ce=Ce+Gt):(qe=I*Math.pow(2,Gt-1)*Math.pow(2,he),Ce=0));he>=8;D[H+Jt]=qe&255,Jt+=xr,qe/=256,he-=8);for(Ce=Ce<<he|qe,Tt+=he;Tt>0;D[H+Jt]=Ce&255,Jt+=xr,Ce/=256,Tt-=8);D[H+Jt-xr]|=kr*128},v0={read:nT,write:aT},d0=Si;function Si(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Si.Varint=0,Si.Fixed64=1,Si.Bytes=2,Si.Fixed32=5;var xg=65536*65536,T1=1/xg,iT=12,A1=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");Si.prototype={destroy:function(){this.buf=null},readFields:function(D,I,H){for(H=H||this.length;this.pos<H;){var ne=this.readVarint(),he=ne>>3,we=this.pos;this.type=ne&7,D(he,I,this),this.pos===we&&this.skip(ne)}return I},readMessage:function(D,I){return this.readFields(D,I,this.readVarint()+this.pos)},readFixed32:function(){var D=p0(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=S1(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=p0(this.buf,this.pos)+p0(this.buf,this.pos+4)*xg;return this.pos+=8,D},readSFixed64:function(){var D=p0(this.buf,this.pos)+S1(this.buf,this.pos+4)*xg;return this.pos+=8,D},readFloat:function(){var D=v0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=v0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var I=this.buf,H,ne;return ne=I[this.pos++],H=ne&127,ne<128||(ne=I[this.pos++],H|=(ne&127)<<7,ne<128)||(ne=I[this.pos++],H|=(ne&127)<<14,ne<128)||(ne=I[this.pos++],H|=(ne&127)<<21,ne<128)?H:(ne=I[this.pos],H|=(ne&15)<<28,oT(H,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,I=this.pos;return this.pos=D,D-I>=iT&&A1?bT(this.buf,I,D):xT(this.buf,I,D)},readBytes:function(){var D=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,D);return this.pos=D,I},readPackedVarint:function(D,I){if(this.type!==Si.Bytes)return D.push(this.readVarint(I));var H=Of(this);for(D=D||[];this.pos<H;)D.push(this.readVarint(I));return D},readPackedSVarint:function(D){if(this.type!==Si.Bytes)return D.push(this.readSVarint());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Si.Bytes)return D.push(this.readBoolean());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Si.Bytes)return D.push(this.readFloat());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Si.Bytes)return D.push(this.readDouble());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Si.Bytes)return D.push(this.readFixed32());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Si.Bytes)return D.push(this.readSFixed32());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Si.Bytes)return D.push(this.readFixed64());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Si.Bytes)return D.push(this.readSFixed64());var I=Of(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed64());return D},skip:function(D){var I=D&7;if(I===Si.Varint)for(;this.buf[this.pos++]>127;);else if(I===Si.Bytes)this.pos=this.readVarint()+this.pos;else if(I===Si.Fixed32)this.pos+=4;else if(I===Si.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(D,I){this.writeVarint(D<<3|I)},realloc:function(D){for(var I=this.length||16;I<this.pos+D;)I*=2;if(I!==this.length){var H=new Uint8Array(I);H.set(this.buf),this.buf=H,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),$h(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),$h(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),$h(this.buf,D&-1,this.pos),$h(this.buf,Math.floor(D*T1),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),$h(this.buf,D&-1,this.pos),$h(this.buf,Math.floor(D*T1),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){sT(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var I=this.pos;this.pos=wT(this.buf,D,this.pos);var H=this.pos-I;H>=128&&M1(I,H,this),this.pos=I-1,this.writeVarint(H),this.pos+=H},writeFloat:function(D){this.realloc(4),v0.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),v0.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var I=D.length;this.writeVarint(I),this.realloc(I);for(var H=0;H<I;H++)this.buf[this.pos++]=D[H]},writeRawMessage:function(D,I){this.pos++;var H=this.pos;D(I,this);var ne=this.pos-H;ne>=128&&M1(H,ne,this),this.pos=H-1,this.writeVarint(ne),this.pos+=ne},writeMessage:function(D,I,H){this.writeTag(D,Si.Bytes),this.writeRawMessage(I,H)},writePackedVarint:function(D,I){I.length&&this.writeMessage(D,fT,I)},writePackedSVarint:function(D,I){I.length&&this.writeMessage(D,cT,I)},writePackedBoolean:function(D,I){I.length&&this.writeMessage(D,dT,I)},writePackedFloat:function(D,I){I.length&&this.writeMessage(D,hT,I)},writePackedDouble:function(D,I){I.length&&this.writeMessage(D,vT,I)},writePackedFixed32:function(D,I){I.length&&this.writeMessage(D,pT,I)},writePackedSFixed32:function(D,I){I.length&&this.writeMessage(D,gT,I)},writePackedFixed64:function(D,I){I.length&&this.writeMessage(D,yT,I)},writePackedSFixed64:function(D,I){I.length&&this.writeMessage(D,mT,I)},writeBytesField:function(D,I){this.writeTag(D,Si.Bytes),this.writeBytes(I)},writeFixed32Field:function(D,I){this.writeTag(D,Si.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(D,I){this.writeTag(D,Si.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(D,I){this.writeTag(D,Si.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(D,I){this.writeTag(D,Si.Fixed64),this.writeSFixed64(I)},writeVarintField:function(D,I){this.writeTag(D,Si.Varint),this.writeVarint(I)},writeSVarintField:function(D,I){this.writeTag(D,Si.Varint),this.writeSVarint(I)},writeStringField:function(D,I){this.writeTag(D,Si.Bytes),this.writeString(I)},writeFloatField:function(D,I){this.writeTag(D,Si.Fixed32),this.writeFloat(I)},writeDoubleField:function(D,I){this.writeTag(D,Si.Fixed64),this.writeDouble(I)},writeBooleanField:function(D,I){this.writeVarintField(D,!!I)}};function oT(D,I,H){var ne=H.buf,he,we;if(we=ne[H.pos++],he=(we&112)>>4,we<128||(we=ne[H.pos++],he|=(we&127)<<3,we<128)||(we=ne[H.pos++],he|=(we&127)<<10,we<128)||(we=ne[H.pos++],he|=(we&127)<<17,we<128)||(we=ne[H.pos++],he|=(we&127)<<24,we<128)||(we=ne[H.pos++],he|=(we&1)<<31,we<128))return Qh(D,he,I);throw new Error("Expected varint not more than 10 bytes")}function Of(D){return D.type===Si.Bytes?D.readVarint()+D.pos:D.pos+1}function Qh(D,I,H){return H?I*4294967296+(D>>>0):(I>>>0)*4294967296+(D>>>0)}function sT(D,I){var H,ne;if(D>=0?(H=D%4294967296|0,ne=D/4294967296|0):(H=~(-D%4294967296),ne=~(-D/4294967296),H^4294967295?H=H+1|0:(H=0,ne=ne+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),lT(H,ne,I),uT(ne,I)}function lT(D,I,H){H.buf[H.pos++]=D&127|128,D>>>=7,H.buf[H.pos++]=D&127|128,D>>>=7,H.buf[H.pos++]=D&127|128,D>>>=7,H.buf[H.pos++]=D&127|128,D>>>=7,H.buf[H.pos]=D&127}function uT(D,I){var H=(D&7)<<4;I.buf[I.pos++]|=H|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127)))))}function M1(D,I,H){var ne=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));H.realloc(ne);for(var he=H.pos-1;he>=D;he--)H.buf[he+ne]=H.buf[he]}function fT(D,I){for(var H=0;H<D.length;H++)I.writeVarint(D[H])}function cT(D,I){for(var H=0;H<D.length;H++)I.writeSVarint(D[H])}function hT(D,I){for(var H=0;H<D.length;H++)I.writeFloat(D[H])}function vT(D,I){for(var H=0;H<D.length;H++)I.writeDouble(D[H])}function dT(D,I){for(var H=0;H<D.length;H++)I.writeBoolean(D[H])}function pT(D,I){for(var H=0;H<D.length;H++)I.writeFixed32(D[H])}function gT(D,I){for(var H=0;H<D.length;H++)I.writeSFixed32(D[H])}function yT(D,I){for(var H=0;H<D.length;H++)I.writeFixed64(D[H])}function mT(D,I){for(var H=0;H<D.length;H++)I.writeSFixed64(D[H])}function p0(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+D[I+3]*16777216}function $h(D,I,H){D[H]=I,D[H+1]=I>>>8,D[H+2]=I>>>16,D[H+3]=I>>>24}function S1(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+(D[I+3]<<24)}function xT(D,I,H){for(var ne="",he=I;he<H;){var we=D[he],Ce=null,qe=we>239?4:we>223?3:we>191?2:1;if(he+qe>H)break;var vt,Tt,Pt;qe===1?we<128&&(Ce=we):qe===2?(vt=D[he+1],(vt&192)===128&&(Ce=(we&31)<<6|vt&63,Ce<=127&&(Ce=null))):qe===3?(vt=D[he+1],Tt=D[he+2],(vt&192)===128&&(Tt&192)===128&&(Ce=(we&15)<<12|(vt&63)<<6|Tt&63,(Ce<=2047||Ce>=55296&&Ce<=57343)&&(Ce=null))):qe===4&&(vt=D[he+1],Tt=D[he+2],Pt=D[he+3],(vt&192)===128&&(Tt&192)===128&&(Pt&192)===128&&(Ce=(we&15)<<18|(vt&63)<<12|(Tt&63)<<6|Pt&63,(Ce<=65535||Ce>=1114112)&&(Ce=null))),Ce===null?(Ce=65533,qe=1):Ce>65535&&(Ce-=65536,ne+=String.fromCharCode(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ne+=String.fromCharCode(Ce),he+=qe}return ne}function bT(D,I,H){return A1.decode(D.subarray(I,H))}function wT(D,I,H){for(var ne=0,he,we;ne<I.length;ne++){if(he=I.charCodeAt(ne),he>55295&&he<57344)if(we)if(he<56320){D[H++]=239,D[H++]=191,D[H++]=189,we=he;continue}else he=we-55296<<10|he-56320|65536,we=null;else{he>56319||ne+1===I.length?(D[H++]=239,D[H++]=191,D[H++]=189):we=he;continue}else we&&(D[H++]=239,D[H++]=191,D[H++]=189,we=null);he<128?D[H++]=he:(he<2048?D[H++]=he>>6|192:(he<65536?D[H++]=he>>12|224:(D[H++]=he>>18|240,D[H++]=he>>12&63|128),D[H++]=he>>6&63|128),D[H++]=he&63|128)}return H}var bg=3;function TT(D,I,H){D===1&&H.readMessage(AT,I)}function AT(D,I,H){if(D===3){var ne=H.readMessage(MT,{}),he=ne.id,we=ne.bitmap,Ce=ne.width,qe=ne.height,vt=ne.left,Tt=ne.top,Pt=ne.advance;I.push({id:he,bitmap:new xh({width:Ce+2*bg,height:qe+2*bg},we),metrics:{width:Ce,height:qe,left:vt,top:Tt,advance:Pt}})}}function MT(D,I,H){D===1?I.id=H.readVarint():D===2?I.bitmap=H.readBytes():D===3?I.width=H.readVarint():D===4?I.height=H.readVarint():D===5?I.left=H.readSVarint():D===6?I.top=H.readSVarint():D===7&&(I.advance=H.readVarint())}function ST(D){return new d0(D).readFields(TT,[])}var E1=bg;function C1(D){for(var I=0,H=0,ne=0,he=D;ne<he.length;ne+=1){var we=he[ne];I+=we.w*we.h,H=Math.max(H,we.w)}D.sort(function(un,en){return en.h-un.h});for(var Ce=Math.max(Math.ceil(Math.sqrt(I/.95)),H),qe=[{x:0,y:0,w:Ce,h:1/0}],vt=0,Tt=0,Pt=0,Gt=D;Pt<Gt.length;Pt+=1)for(var er=Gt[Pt],Jt=qe.length-1;Jt>=0;Jt--){var xr=qe[Jt];if(!(er.w>xr.w||er.h>xr.h)){if(er.x=xr.x,er.y=xr.y,Tt=Math.max(Tt,er.y+er.h),vt=Math.max(vt,er.x+er.w),er.w===xr.w&&er.h===xr.h){var kr=qe.pop();Jt<qe.length&&(qe[Jt]=kr)}else er.h===xr.h?(xr.x+=er.w,xr.w-=er.w):er.w===xr.w?(xr.y+=er.h,xr.h-=er.h):(qe.push({x:xr.x+er.w,y:xr.y,w:xr.w-er.w,h:er.h}),xr.y+=er.h,xr.h-=er.h);break}}return{w:vt,h:Tt,fill:I/(vt*Tt)||0}}var _s=1,g0=function(I,H){var ne=H.pixelRatio,he=H.version,we=H.stretchX,Ce=H.stretchY,qe=H.content;this.paddedRect=I,this.pixelRatio=ne,this.stretchX=we,this.stretchY=Ce,this.content=qe,this.version=he},rd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};rd.tl.get=function(){return[this.paddedRect.x+_s,this.paddedRect.y+_s]},rd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-_s,this.paddedRect.y+this.paddedRect.h-_s]},rd.tlbr.get=function(){return this.tl.concat(this.br)},rd.displaySize.get=function(){return[(this.paddedRect.w-_s*2)/this.pixelRatio,(this.paddedRect.h-_s*2)/this.pixelRatio]},Object.defineProperties(g0.prototype,rd);var nd=function(I,H){var ne={},he={};this.haveRenderCallbacks=[];var we=[];this.addImages(I,ne,we),this.addImages(H,he,we);var Ce=C1(we),qe=Ce.w,vt=Ce.h,Tt=new ys({width:qe||1,height:vt||1});for(var Pt in I){var Gt=I[Pt],er=ne[Pt].paddedRect;ys.copy(Gt.data,Tt,{x:0,y:0},{x:er.x+_s,y:er.y+_s},Gt.data)}for(var Jt in H){var xr=H[Jt],kr=he[Jt].paddedRect,un=kr.x+_s,en=kr.y+_s,Sn=xr.data.width,pn=xr.data.height;ys.copy(xr.data,Tt,{x:0,y:0},{x:un,y:en},xr.data),ys.copy(xr.data,Tt,{x:0,y:pn-1},{x:un,y:en-1},{width:Sn,height:1}),ys.copy(xr.data,Tt,{x:0,y:0},{x:un,y:en+pn},{width:Sn,height:1}),ys.copy(xr.data,Tt,{x:Sn-1,y:0},{x:un-1,y:en},{width:1,height:pn}),ys.copy(xr.data,Tt,{x:0,y:0},{x:un+Sn,y:en},{width:1,height:pn})}this.image=Tt,this.iconPositions=ne,this.patternPositions=he};nd.prototype.addImages=function(I,H,ne){for(var he in I){var we=I[he],Ce={x:0,y:0,w:we.data.width+2*_s,h:we.data.height+2*_s};ne.push(Ce),H[he]=new g0(Ce,we),we.hasRenderCallback&&this.haveRenderCallbacks.push(he)}},nd.prototype.patchUpdatedImages=function(I,H){I.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ne in I.updatedImages)this.patchUpdatedImage(this.iconPositions[ne],I.getImage(ne),H),this.patchUpdatedImage(this.patternPositions[ne],I.getImage(ne),H)},nd.prototype.patchUpdatedImage=function(I,H,ne){if(!(!I||!H)&&I.version!==H.version){I.version=H.version;var he=I.tl,we=he[0],Ce=he[1];ne.update(H.data,void 0,{x:we,y:Ce})}},da("ImagePosition",g0),da("ImageAtlas",nd);var el={horizontal:1,vertical:2,horizontalOnly:3},ad=-17;function ET(D){for(var I=0,H=D;I<H.length;I+=1){var ne=H[I];if(ne.positionedGlyphs.length!==0)return!1}return!0}var L1=57344,P1=63743,qh=function(){this.scale=1,this.fontStack="",this.imageName=null};qh.forText=function(I,H){var ne=new qh;return ne.scale=I||1,ne.fontStack=H,ne},qh.forImage=function(I){var H=new qh;return H.imageName=I,H};var Fo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Fo.fromFeature=function(I,H){for(var ne=new Fo,he=0;he<I.sections.length;he++){var we=I.sections[he];we.image?ne.addImageSection(we):ne.addTextSection(we,H)}return ne},Fo.prototype.length=function(){return this.text.length},Fo.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},Fo.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},Fo.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},Fo.prototype.verticalizePunctuation=function(){this.text=rT(this.text)},Fo.prototype.trim=function(){for(var I=0,H=0;H<this.text.length&&af[this.text.charCodeAt(H)];H++)I++;for(var ne=this.text.length,he=this.text.length-1;he>=0&&he>=I&&af[this.text.charCodeAt(he)];he--)ne--;this.text=this.text.substring(I,ne),this.sectionIndex=this.sectionIndex.slice(I,ne)},Fo.prototype.substring=function(I,H){var ne=new Fo;return ne.text=this.text.substring(I,H),ne.sectionIndex=this.sectionIndex.slice(I,H),ne.sections=this.sections,ne},Fo.prototype.toString=function(){return this.text},Fo.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(H,ne){return Math.max(H,I.sections[ne].scale)},0)},Fo.prototype.addTextSection=function(I,H){this.text+=I.text,this.sections.push(qh.forText(I.scale,I.fontStack||H));for(var ne=this.sections.length-1,he=0;he<I.text.length;++he)this.sectionIndex.push(ne)},Fo.prototype.addImageSection=function(I){var H=I.image?I.image.name:"";if(H.length===0){O("Can't add FormattedSection with an empty image.");return}var ne=this.getNextImageSectionCharCode();if(!ne){O("Reached maximum number of images "+(P1-L1+2));return}this.text+=String.fromCharCode(ne),this.sections.push(qh.forImage(H)),this.sectionIndex.push(this.sections.length-1)},Fo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=P1?null:++this.imageSectionID:(this.imageSectionID=L1,this.imageSectionID)};function CT(D,I){for(var H=[],ne=D.text,he=0,we=0,Ce=I;we<Ce.length;we+=1){var qe=Ce[we];H.push(D.substring(he,qe)),he=qe}return he<ne.length&&H.push(D.substring(he,ne.length)),H}function y0(D,I,H,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr){var un=Fo.fromFeature(D,he);Gt===el.vertical&&un.verticalizePunctuation();var en,Sn=Pa.processBidirectionalText,pn=Pa.processStyledBidirectionalText;if(Sn&&un.sections.length===1){en=[];for(var An=Sn(un.toString(),wg(un,Tt,we,I,ne,Jt,xr)),In=0,Hn=An;In<Hn.length;In+=1){var Kn=Hn[In],Zn=new Fo;Zn.text=Kn,Zn.sections=un.sections;for(var xa=0;xa<Kn.length;xa++)Zn.sectionIndex.push(0);en.push(Zn)}}else if(pn){en=[];for(var fa=pn(un.text,un.sectionIndex,wg(un,Tt,we,I,ne,Jt,xr)),ya=0,Oa=fa;ya<Oa.length;ya+=1){var ba=Oa[ya],Sa=new Fo;Sa.text=ba[0],Sa.sectionIndex=ba[1],Sa.sections=un.sections,en.push(Sa)}}else en=CT(un,wg(un,Tt,we,I,ne,Jt,xr));var Wa=[],_a={positionedLines:Wa,text:un.toString(),top:Pt[1],bottom:Pt[1],left:Pt[0],right:Pt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return RT(_a,I,H,ne,en,Ce,qe,vt,Gt,Tt,er,kr),ET(Wa)?!1:_a}var af={};af[9]=!0,af[10]=!0,af[11]=!0,af[12]=!0,af[13]=!0,af[32]=!0;var zs={};zs[10]=!0,zs[32]=!0,zs[38]=!0,zs[40]=!0,zs[41]=!0,zs[43]=!0,zs[45]=!0,zs[47]=!0,zs[173]=!0,zs[183]=!0,zs[8203]=!0,zs[8208]=!0,zs[8211]=!0,zs[8231]=!0;function R1(D,I,H,ne,he,we){if(I.imageName){var vt=ne[I.imageName];return vt?vt.displaySize[0]*I.scale*To/we+he:0}else{var Ce=H[I.fontStack],qe=Ce&&Ce[D];return qe?qe.metrics.advance*I.scale+he:0}}function LT(D,I,H,ne,he,we){for(var Ce=0,qe=0;qe<D.length();qe++){var vt=D.getSection(qe);Ce+=R1(D.getCharCode(qe),vt,ne,he,I,we)}var Tt=Math.max(1,Math.ceil(Ce/H));return Ce/Tt}function D1(D,I,H,ne){var he=Math.pow(D-I,2);return ne?D<I?he/2:he*2:he+Math.abs(H)*H}function PT(D,I,H){var ne=0;return D===10&&(ne-=1e4),H&&(ne+=150),(D===40||D===65288)&&(ne+=50),(I===41||I===65289)&&(ne+=50),ne}function I1(D,I,H,ne,he,we){for(var Ce=null,qe=D1(I,H,he,we),vt=0,Tt=ne;vt<Tt.length;vt+=1){var Pt=Tt[vt],Gt=I-Pt.x,er=D1(Gt,H,he,we)+Pt.badness;er<=qe&&(Ce=Pt,qe=er)}return{index:D,x:I,priorBreak:Ce,badness:qe}}function k1(D){return D?k1(D.priorBreak).concat(D.index):[]}function wg(D,I,H,ne,he,we,Ce){if(we!=="point")return[];if(!D)return[];for(var qe=[],vt=LT(D,I,H,ne,he,Ce),Tt=D.text.indexOf("\u200B")>=0,Pt=0,Gt=0;Gt<D.length();Gt++){var er=D.getSection(Gt),Jt=D.getCharCode(Gt);if(af[Jt]||(Pt+=R1(Jt,er,ne,he,I,Ce)),Gt<D.length()-1){var xr=At(Jt);(zs[Jt]||xr||er.imageName)&&qe.push(I1(Gt+1,Pt,vt,qe,PT(Jt,D.getCharCode(Gt+1),xr&&Tt),!1))}}return k1(I1(D.length(),Pt,vt,qe,0,!0))}function Tg(D){var I=.5,H=.5;switch(D){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":H=1;break;case"top":case"top-right":case"top-left":H=0;break}return{horizontalAlign:I,verticalAlign:H}}function RT(D,I,H,ne,he,we,Ce,qe,vt,Tt,Pt,Gt){for(var er=0,Jt=ad,xr=0,kr=0,un=qe==="right"?1:qe==="left"?0:.5,en=0,Sn=0,pn=he;Sn<pn.length;Sn+=1){var An=pn[Sn];An.trim();var In=An.getMaxScale(),Hn=(In-1)*To,Kn={positionedGlyphs:[],lineOffset:0};D.positionedLines[en]=Kn;var Zn=Kn.positionedGlyphs,xa=0;if(!An.length()){Jt+=we,++en;continue}for(var fa=0;fa<An.length();fa++){var ya=An.getSection(fa),Oa=An.getSectionIndex(fa),ba=An.getCharCode(fa),Sa=0,Wa=null,_a=null,ti=null,pi=To,ri=!(vt===el.horizontal||!Pt&&!Ht(ba)||Pt&&(af[ba]||Sr(ba)));if(ya.imageName){var Vi=ne[ya.imageName];if(!Vi)continue;ti=ya.imageName,D.iconsInText=D.iconsInText||!0,_a=Vi.paddedRect;var Xi=Vi.displaySize;ya.scale=ya.scale*To/Gt,Wa={width:Xi[0],height:Xi[1],left:_s,top:-E1,advance:ri?Xi[1]:Xi[0]};var go=To-Xi[1]*ya.scale;Sa=Hn+go,pi=Wa.advance;var no=ri?Xi[0]*ya.scale-To*In:Xi[1]*ya.scale-To*In;no>0&&no>xa&&(xa=no)}else{var ni=H[ya.fontStack],qa=ni&&ni[ba];if(qa&&qa.rect)_a=qa.rect,Wa=qa.metrics;else{var Ti=I[ya.fontStack],Ei=Ti&&Ti[ba];if(!Ei)continue;Wa=Ei.metrics}Sa=(In-ya.scale)*To}ri?(D.verticalizable=!0,Zn.push({glyph:ba,imageName:ti,x:er,y:Jt+Sa,vertical:ri,scale:ya.scale,fontStack:ya.fontStack,sectionIndex:Oa,metrics:Wa,rect:_a}),er+=pi*ya.scale+Tt):(Zn.push({glyph:ba,imageName:ti,x:er,y:Jt+Sa,vertical:ri,scale:ya.scale,fontStack:ya.fontStack,sectionIndex:Oa,metrics:Wa,rect:_a}),er+=Wa.advance*ya.scale+Tt)}if(Zn.length!==0){var _o=er-Tt;xr=Math.max(_o,xr),DT(Zn,0,Zn.length-1,un,xa)}er=0;var zo=we*In+xa;Kn.lineOffset=Math.max(xa,Hn),Jt+=zo,kr=Math.max(zo,kr),++en}var yo=Jt-ad,$o=Tg(Ce),qo=$o.horizontalAlign,uo=$o.verticalAlign;IT(D.positionedLines,un,qo,uo,xr,kr,we,yo,he.length),D.top+=-uo*yo,D.bottom=D.top+yo,D.left+=-qo*xr,D.right=D.left+xr}function DT(D,I,H,ne,he){if(!(!ne&&!he))for(var we=D[H],Ce=we.metrics.advance*we.scale,qe=(D[H].x+Ce)*ne,vt=I;vt<=H;vt++)D[vt].x-=qe,D[vt].y+=he}function IT(D,I,H,ne,he,we,Ce,qe,vt){var Tt=(I-H)*he,Pt=0;we!==Ce?Pt=-qe*ne-ad:Pt=(-ne*vt+.5)*Ce;for(var Gt=0,er=D;Gt<er.length;Gt+=1)for(var Jt=er[Gt],xr=0,kr=Jt.positionedGlyphs;xr<kr.length;xr+=1){var un=kr[xr];un.x+=Tt,un.y+=Pt}}function kT(D,I,H){var ne=Tg(H),he=ne.horizontalAlign,we=ne.verticalAlign,Ce=I[0],qe=I[1],vt=Ce-D.displaySize[0]*he,Tt=vt+D.displaySize[0],Pt=qe-D.displaySize[1]*we,Gt=Pt+D.displaySize[1];return{image:D,top:Pt,bottom:Gt,left:vt,right:Tt}}function F1(D,I,H,ne,he,we){var Ce=D.image,qe;if(Ce.content){var vt=Ce.content,Tt=Ce.pixelRatio||1;qe=[vt[0]/Tt,vt[1]/Tt,Ce.displaySize[0]-vt[2]/Tt,Ce.displaySize[1]-vt[3]/Tt]}var Pt=I.left*we,Gt=I.right*we,er,Jt,xr,kr;H==="width"||H==="both"?(kr=he[0]+Pt-ne[3],Jt=he[0]+Gt+ne[1]):(kr=he[0]+(Pt+Gt-Ce.displaySize[0])/2,Jt=kr+Ce.displaySize[0]);var un=I.top*we,en=I.bottom*we;return H==="height"||H==="both"?(er=he[1]+un-ne[0],xr=he[1]+en+ne[2]):(er=he[1]+(un+en-Ce.displaySize[1])/2,xr=er+Ce.displaySize[1]),{image:Ce,top:er,right:Jt,bottom:xr,left:kr,collisionPadding:qe}}var ev=function(D){function I(H,ne,he,we){D.call(this,H,ne),this.angle=he,we!==void 0&&(this.segment=we)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);da("Anchor",ev);var Du=128;function Ag(D,I){var H=I.expression;if(H.kind==="constant"){var ne=H.evaluate(new pa(D+1));return{kind:"constant",layoutSize:ne}}else{if(H.kind==="source")return{kind:"source"};for(var he=H.zoomStops,we=H.interpolationType,Ce=0;Ce<he.length&&he[Ce]<=D;)Ce++;Ce=Math.max(0,Ce-1);for(var qe=Ce;qe<he.length&&he[qe]<D+1;)qe++;qe=Math.min(he.length-1,qe);var vt=he[Ce],Tt=he[qe];if(H.kind==="composite")return{kind:"composite",minZoom:vt,maxZoom:Tt,interpolationType:we};var Pt=H.evaluate(new pa(vt)),Gt=H.evaluate(new pa(Tt));return{kind:"camera",minZoom:vt,maxZoom:Tt,minSize:Pt,maxSize:Gt,interpolationType:we}}}function _1(D,I,H){var ne=I.uSize,he=I.uSizeT,we=H.lowerSize,Ce=H.upperSize;return D.kind==="source"?we/Du:D.kind==="composite"?_i(we/Du,Ce/Du,he):ne}function z1(D,I){var H=0,ne=0;if(D.kind==="constant")ne=D.layoutSize;else if(D.kind!=="source"){var he=D.interpolationType,we=D.minZoom,Ce=D.maxZoom,qe=he?h(Ji.interpolationFactor(he,I,we,Ce),0,1):0;D.kind==="camera"?ne=_i(D.minSize,D.maxSize,qe):H=qe}return{uSizeT:H,uSize:ne}}var FT=Object.freeze({__proto__:null,getSizeData:Ag,evaluateSizeForFeature:_1,evaluateSizeForZoom:z1,SIZE_PACK_FACTOR:Du});function O1(D,I,H,ne,he){if(I.segment===void 0)return!0;for(var we=I,Ce=I.segment+1,qe=0;qe>-H/2;){if(Ce--,Ce<0)return!1;qe-=D[Ce].dist(we),we=D[Ce]}qe+=D[Ce].dist(D[Ce+1]),Ce++;for(var vt=[],Tt=0;qe<H/2;){var Pt=D[Ce-1],Gt=D[Ce],er=D[Ce+1];if(!er)return!1;var Jt=Pt.angleTo(Gt)-Gt.angleTo(er);for(Jt=Math.abs((Jt+3*Math.PI)%(Math.PI*2)-Math.PI),vt.push({distance:qe,angleDelta:Jt}),Tt+=Jt;qe-vt[0].distance>ne;)Tt-=vt.shift().angleDelta;if(Tt>he)return!1;Ce++,qe+=Gt.dist(er)}return!0}function B1(D){for(var I=0,H=0;H<D.length-1;H++)I+=D[H].dist(D[H+1]);return I}function N1(D,I,H){return D?.6*I*H:0}function U1(D,I){return Math.max(D?D.right-D.left:0,I?I.right-I.left:0)}function _T(D,I,H,ne,he,we){for(var Ce=N1(H,he,we),qe=U1(H,ne)*we,vt=0,Tt=B1(D)/2,Pt=0;Pt<D.length-1;Pt++){var Gt=D[Pt],er=D[Pt+1],Jt=Gt.dist(er);if(vt+Jt>Tt){var xr=(Tt-vt)/Jt,kr=_i(Gt.x,er.x,xr),un=_i(Gt.y,er.y,xr),en=new ev(kr,un,er.angleTo(Gt),Pt);return en._round(),!Ce||O1(D,en,qe,Ce,I)?en:void 0}vt+=Jt}}function zT(D,I,H,ne,he,we,Ce,qe,vt){var Tt=N1(ne,we,Ce),Pt=U1(ne,he),Gt=Pt*Ce,er=D[0].x===0||D[0].x===vt||D[0].y===0||D[0].y===vt;I-Gt<I/4&&(I=Gt+I/4);var Jt=we*2,xr=er?I/2*qe%I:(Pt/2+Jt)*Ce*qe%I;return V1(D,xr,I,Tt,H,Gt,er,!1,vt)}function V1(D,I,H,ne,he,we,Ce,qe,vt){for(var Tt=we/2,Pt=B1(D),Gt=0,er=I-H,Jt=[],xr=0;xr<D.length-1;xr++){for(var kr=D[xr],un=D[xr+1],en=kr.dist(un),Sn=un.angleTo(kr);er+H<Gt+en;){er+=H;var pn=(er-Gt)/en,An=_i(kr.x,un.x,pn),In=_i(kr.y,un.y,pn);if(An>=0&&An<vt&&In>=0&&In<vt&&er-Tt>=0&&er+Tt<=Pt){var Hn=new ev(An,In,Sn,xr);Hn._round(),(!ne||O1(D,Hn,we,ne,he))&&Jt.push(Hn)}}Gt+=en}return!qe&&!Jt.length&&!Ce&&(Jt=V1(D,Gt/2,H,ne,he,we,Ce,!0,vt)),Jt}function H1(D,I,H,ne,he){for(var we=[],Ce=0;Ce<D.length;Ce++)for(var qe=D[Ce],vt=void 0,Tt=0;Tt<qe.length-1;Tt++){var Pt=qe[Tt],Gt=qe[Tt+1];Pt.x<I&&Gt.x<I||(Pt.x<I?Pt=new r(I,Pt.y+(Gt.y-Pt.y)*((I-Pt.x)/(Gt.x-Pt.x)))._round():Gt.x<I&&(Gt=new r(I,Pt.y+(Gt.y-Pt.y)*((I-Pt.x)/(Gt.x-Pt.x)))._round()),!(Pt.y<H&&Gt.y<H)&&(Pt.y<H?Pt=new r(Pt.x+(Gt.x-Pt.x)*((H-Pt.y)/(Gt.y-Pt.y)),H)._round():Gt.y<H&&(Gt=new r(Pt.x+(Gt.x-Pt.x)*((H-Pt.y)/(Gt.y-Pt.y)),H)._round()),!(Pt.x>=ne&&Gt.x>=ne)&&(Pt.x>=ne?Pt=new r(ne,Pt.y+(Gt.y-Pt.y)*((ne-Pt.x)/(Gt.x-Pt.x)))._round():Gt.x>=ne&&(Gt=new r(ne,Pt.y+(Gt.y-Pt.y)*((ne-Pt.x)/(Gt.x-Pt.x)))._round()),!(Pt.y>=he&&Gt.y>=he)&&(Pt.y>=he?Pt=new r(Pt.x+(Gt.x-Pt.x)*((he-Pt.y)/(Gt.y-Pt.y)),he)._round():Gt.y>=he&&(Gt=new r(Pt.x+(Gt.x-Pt.x)*((he-Pt.y)/(Gt.y-Pt.y)),he)._round()),(!vt||!Pt.equals(vt[vt.length-1]))&&(vt=[Pt],we.push(vt)),vt.push(Gt)))))}return we}var tv=_s;function G1(D,I,H,ne){var he=[],we=D.image,Ce=we.pixelRatio,qe=we.paddedRect.w-2*tv,vt=we.paddedRect.h-2*tv,Tt=D.right-D.left,Pt=D.bottom-D.top,Gt=we.stretchX||[[0,qe]],er=we.stretchY||[[0,vt]],Jt=function(ni,qa){return ni+qa[1]-qa[0]},xr=Gt.reduce(Jt,0),kr=er.reduce(Jt,0),un=qe-xr,en=vt-kr,Sn=0,pn=xr,An=0,In=kr,Hn=0,Kn=un,Zn=0,xa=en;if(we.content&&ne){var fa=we.content;Sn=m0(Gt,0,fa[0]),An=m0(er,0,fa[1]),pn=m0(Gt,fa[0],fa[2]),In=m0(er,fa[1],fa[3]),Hn=fa[0]-Sn,Zn=fa[1]-An,Kn=fa[2]-fa[0]-pn,xa=fa[3]-fa[1]-In}var ya=function(ni,qa,Ti,Ei){var Vi=x0(ni.stretch-Sn,pn,Tt,D.left),Xi=b0(ni.fixed-Hn,Kn,ni.stretch,xr),go=x0(qa.stretch-An,In,Pt,D.top),no=b0(qa.fixed-Zn,xa,qa.stretch,kr),_o=x0(Ti.stretch-Sn,pn,Tt,D.left),zo=b0(Ti.fixed-Hn,Kn,Ti.stretch,xr),yo=x0(Ei.stretch-An,In,Pt,D.top),$o=b0(Ei.fixed-Zn,xa,Ei.stretch,kr),qo=new r(Vi,go),uo=new r(_o,go),es=new r(_o,yo),tl=new r(Vi,yo),Uf=new r(Xi/Ce,no/Ce),Ec=new r(zo/Ce,$o/Ce),Cc=I*Math.PI/180;if(Cc){var Lc=Math.sin(Cc),uv=Math.cos(Cc),Jl=[uv,-Lc,Lc,uv];qo._matMult(Jl),uo._matMult(Jl),tl._matMult(Jl),es._matMult(Jl)}var E0=ni.stretch+ni.fixed,Dg=Ti.stretch+Ti.fixed,C0=qa.stretch+qa.fixed,Ig=Ei.stretch+Ei.fixed,wl={x:we.paddedRect.x+tv+E0,y:we.paddedRect.y+tv+C0,w:Dg-E0,h:Ig-C0},fv=Kn/Ce/Tt,L0=xa/Ce/Pt;return{tl:qo,tr:uo,bl:tl,br:es,tex:wl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Uf,pixelOffsetBR:Ec,minFontScaleX:fv,minFontScaleY:L0,isSDF:H}};if(!ne||!we.stretchX&&!we.stretchY)he.push(ya({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:qe+1},{fixed:0,stretch:vt+1}));else for(var Oa=W1(Gt,un,xr),ba=W1(er,en,kr),Sa=0;Sa<Oa.length-1;Sa++)for(var Wa=Oa[Sa],_a=Oa[Sa+1],ti=0;ti<ba.length-1;ti++){var pi=ba[ti],ri=ba[ti+1];he.push(ya(Wa,pi,_a,ri))}return he}function m0(D,I,H){for(var ne=0,he=0,we=D;he<we.length;he+=1){var Ce=we[he];ne+=Math.max(I,Math.min(H,Ce[1]))-Math.max(I,Math.min(H,Ce[0]))}return ne}function W1(D,I,H){for(var ne=[{fixed:-tv,stretch:0}],he=0,we=D;he<we.length;he+=1){var Ce=we[he],qe=Ce[0],vt=Ce[1],Tt=ne[ne.length-1];ne.push({fixed:qe-Tt.stretch,stretch:Tt.stretch}),ne.push({fixed:qe-Tt.stretch,stretch:Tt.stretch+(vt-qe)})}return ne.push({fixed:I+tv,stretch:H}),ne}function x0(D,I,H,ne){return D/I*H+ne}function b0(D,I,H,ne){return D-I*H/ne}function OT(D,I,H,ne,he,we,Ce,qe){for(var vt=ne.layout.get("text-rotate").evaluate(we,{})*Math.PI/180,Tt=[],Pt=0,Gt=I.positionedLines;Pt<Gt.length;Pt+=1)for(var er=Gt[Pt],Jt=0,xr=er.positionedGlyphs;Jt<xr.length;Jt+=1){var kr=xr[Jt];if(kr.rect){var un=kr.rect||{},en=1,Sn=E1+en,pn=!0,An=1,In=0,Hn=(he||qe)&&kr.vertical,Kn=kr.metrics.advance*kr.scale/2;if(qe&&I.verticalizable){var Zn=(kr.scale-1)*To,xa=(To-kr.metrics.width*kr.scale)/2;In=er.lineOffset/2-(kr.imageName?-xa:Zn)}if(kr.imageName){var fa=Ce[kr.imageName];pn=fa.sdf,An=fa.pixelRatio,Sn=_s/An}var ya=he?[kr.x+Kn,kr.y]:[0,0],Oa=he?[0,0]:[kr.x+Kn+H[0],kr.y+H[1]-In],ba=[0,0];Hn&&(ba=Oa,Oa=[0,0]);var Sa=(kr.metrics.left-Sn)*kr.scale-Kn+Oa[0],Wa=(-kr.metrics.top-Sn)*kr.scale+Oa[1],_a=Sa+un.w*kr.scale/An,ti=Wa+un.h*kr.scale/An,pi=new r(Sa,Wa),ri=new r(_a,Wa),ni=new r(Sa,ti),qa=new r(_a,ti);if(Hn){var Ti=new r(-Kn,Kn-ad),Ei=-Math.PI/2,Vi=To/2-Kn,Xi=kr.imageName?Vi:0,go=new r(5-ad-Vi,-Xi),no=new(Function.prototype.bind.apply(r,[null].concat(ba)));pi._rotateAround(Ei,Ti)._add(go)._add(no),ri._rotateAround(Ei,Ti)._add(go)._add(no),ni._rotateAround(Ei,Ti)._add(go)._add(no),qa._rotateAround(Ei,Ti)._add(go)._add(no)}if(vt){var _o=Math.sin(vt),zo=Math.cos(vt),yo=[zo,-_o,_o,zo];pi._matMult(yo),ri._matMult(yo),ni._matMult(yo),qa._matMult(yo)}var $o=new r(0,0),qo=new r(0,0),uo=0,es=0;Tt.push({tl:pi,tr:ri,bl:ni,br:qa,tex:un,writingMode:I.writingMode,glyphOffset:ya,sectionIndex:kr.sectionIndex,isSDF:pn,pixelOffsetTL:$o,pixelOffsetBR:qo,minFontScaleX:uo,minFontScaleY:es})}}return Tt}var w0=function(I,H,ne,he,we,Ce,qe,vt,Tt,Pt){if(this.boxStartIndex=I.length,Tt){var Gt=Ce.top,er=Ce.bottom,Jt=Ce.collisionPadding;Jt&&(Gt-=Jt[1],er+=Jt[3]);var xr=er-Gt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var kr=Ce.top*qe-vt,un=Ce.bottom*qe+vt,en=Ce.left*qe-vt,Sn=Ce.right*qe+vt,pn=Ce.collisionPadding;if(pn&&(en-=pn[0]*qe,kr-=pn[1]*qe,Sn+=pn[2]*qe,un+=pn[3]*qe),Pt){var An=new r(en,kr),In=new r(Sn,kr),Hn=new r(en,un),Kn=new r(Sn,un),Zn=Pt*Math.PI/180;An._rotate(Zn),In._rotate(Zn),Hn._rotate(Zn),Kn._rotate(Zn),en=Math.min(An.x,In.x,Hn.x,Kn.x),Sn=Math.max(An.x,In.x,Hn.x,Kn.x),kr=Math.min(An.y,In.y,Hn.y,Kn.y),un=Math.max(An.y,In.y,Hn.y,Kn.y)}I.emplaceBack(H.x,H.y,en,kr,Sn,un,ne,he,we)}this.boxEndIndex=I.length},rv=function(I,H){if(I===void 0&&(I=[]),H===void 0&&(H=BT),this.data=I,this.length=this.data.length,this.compare=H,this.length>0)for(var ne=(this.length>>1)-1;ne>=0;ne--)this._down(ne)};rv.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},rv.prototype.pop=function(){if(this.length!==0){var I=this.data[0],H=this.data.pop();return this.length--,this.length>0&&(this.data[0]=H,this._down(0)),I}},rv.prototype.peek=function(){return this.data[0]},rv.prototype._up=function(I){for(var H=this,ne=H.data,he=H.compare,we=ne[I];I>0;){var Ce=I-1>>1,qe=ne[Ce];if(he(we,qe)>=0)break;ne[I]=qe,I=Ce}ne[I]=we},rv.prototype._down=function(I){for(var H=this,ne=H.data,he=H.compare,we=this.length>>1,Ce=ne[I];I<we;){var qe=(I<<1)+1,vt=ne[qe],Tt=qe+1;if(Tt<this.length&&he(ne[Tt],vt)<0&&(qe=Tt,vt=ne[Tt]),he(vt,Ce)>=0)break;ne[I]=vt,I=qe}ne[I]=Ce};function BT(D,I){return D<I?-1:D>I?1:0}function NT(D,I,H){I===void 0&&(I=1),H===void 0&&(H=!1);for(var ne=1/0,he=1/0,we=-1/0,Ce=-1/0,qe=D[0],vt=0;vt<qe.length;vt++){var Tt=qe[vt];(!vt||Tt.x<ne)&&(ne=Tt.x),(!vt||Tt.y<he)&&(he=Tt.y),(!vt||Tt.x>we)&&(we=Tt.x),(!vt||Tt.y>Ce)&&(Ce=Tt.y)}var Pt=we-ne,Gt=Ce-he,er=Math.min(Pt,Gt),Jt=er/2,xr=new rv([],UT);if(er===0)return new r(ne,he);for(var kr=ne;kr<we;kr+=er)for(var un=he;un<Ce;un+=er)xr.push(new nv(kr+Jt,un+Jt,Jt,D));for(var en=HT(D),Sn=xr.length;xr.length;){var pn=xr.pop();(pn.d>en.d||!en.d)&&(en=pn,H&&console.log("found best %d after %d probes",Math.round(1e4*pn.d)/1e4,Sn)),!(pn.max-en.d<=I)&&(Jt=pn.h/2,xr.push(new nv(pn.p.x-Jt,pn.p.y-Jt,Jt,D)),xr.push(new nv(pn.p.x+Jt,pn.p.y-Jt,Jt,D)),xr.push(new nv(pn.p.x-Jt,pn.p.y+Jt,Jt,D)),xr.push(new nv(pn.p.x+Jt,pn.p.y+Jt,Jt,D)),Sn+=4)}return H&&(console.log("num probes: "+Sn),console.log("best distance: "+en.d)),en.p}function UT(D,I){return I.max-D.max}function nv(D,I,H,ne){this.p=new r(D,I),this.h=H,this.d=VT(this.p,ne),this.max=this.d+this.h*Math.SQRT2}function VT(D,I){for(var H=!1,ne=1/0,he=0;he<I.length;he++)for(var we=I[he],Ce=0,qe=we.length,vt=qe-1;Ce<qe;vt=Ce++){var Tt=we[Ce],Pt=we[vt];Tt.y>D.y!=Pt.y>D.y&&D.x<(Pt.x-Tt.x)*(D.y-Tt.y)/(Pt.y-Tt.y)+Tt.x&&(H=!H),ne=Math.min(ne,zf(D,Tt,Pt))}return(H?1:-1)*Math.sqrt(ne)}function HT(D){for(var I=0,H=0,ne=0,he=D[0],we=0,Ce=he.length,qe=Ce-1;we<Ce;qe=we++){var vt=he[we],Tt=he[qe],Pt=vt.x*Tt.y-Tt.x*vt.y;H+=(vt.x+Tt.x)*Pt,ne+=(vt.y+Tt.y)*Pt,I+=Pt*3}return new nv(H/I,ne/I,0,D)}var av=7,Mg=Number.POSITIVE_INFINITY;function Y1(D,I){function H(he,we){var Ce=0,qe=0;we<0&&(we=0);var vt=we/Math.sqrt(2);switch(he){case"top-right":case"top-left":qe=vt-av;break;case"bottom-right":case"bottom-left":qe=-vt+av;break;case"bottom":qe=-we+av;break;case"top":qe=we-av;break}switch(he){case"top-right":case"bottom-right":Ce=-vt;break;case"top-left":case"bottom-left":Ce=vt;break;case"left":Ce=we;break;case"right":Ce=-we;break}return[Ce,qe]}function ne(he,we,Ce){var qe=0,vt=0;switch(we=Math.abs(we),Ce=Math.abs(Ce),he){case"top-right":case"top-left":case"top":vt=Ce-av;break;case"bottom-right":case"bottom-left":case"bottom":vt=-Ce+av;break}switch(he){case"top-right":case"bottom-right":case"right":qe=-we;break;case"top-left":case"bottom-left":case"left":qe=we;break}return[qe,vt]}return I[1]!==Mg?ne(D,I[0],I[1]):H(D,I[0])}function GT(D,I,H,ne,he,we,Ce){D.createArrays();var qe=512*D.overscaling;D.tilePixelRatio=Aa/qe,D.compareText={},D.iconsNeedLinear=!1;var vt=D.layers[0].layout,Tt=D.layers[0]._unevaluatedLayout._values,Pt={};if(D.textSizeData.kind==="composite"){var Gt=D.textSizeData,er=Gt.minZoom,Jt=Gt.maxZoom;Pt.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new pa(er),Ce),Tt["text-size"].possiblyEvaluate(new pa(Jt),Ce)]}if(D.iconSizeData.kind==="composite"){var xr=D.iconSizeData,kr=xr.minZoom,un=xr.maxZoom;Pt.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new pa(kr),Ce),Tt["icon-size"].possiblyEvaluate(new pa(un),Ce)]}Pt.layoutTextSize=Tt["text-size"].possiblyEvaluate(new pa(D.zoom+1),Ce),Pt.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new pa(D.zoom+1),Ce),Pt.textMaxSize=Tt["text-size"].possiblyEvaluate(new pa(18));for(var en=vt.get("text-line-height")*To,Sn=vt.get("text-rotation-alignment")==="map"&&vt.get("symbol-placement")!=="point",pn=vt.get("text-keep-upright"),An=vt.get("text-size"),In=function(){var Zn=Kn[Hn],xa=vt.get("text-font").evaluate(Zn,{},Ce).join(","),fa=An.evaluate(Zn,{},Ce),ya=Pt.layoutTextSize.evaluate(Zn,{},Ce),Oa=Pt.layoutIconSize.evaluate(Zn,{},Ce),ba={horizontal:{},vertical:void 0},Sa=Zn.text,Wa=[0,0];if(Sa){var _a=Sa.toString(),ti=vt.get("text-letter-spacing").evaluate(Zn,{},Ce)*To,pi=ft(_a)?ti:0,ri=vt.get("text-anchor").evaluate(Zn,{},Ce),ni=vt.get("text-variable-anchor");if(!ni){var qa=vt.get("text-radial-offset").evaluate(Zn,{},Ce);qa?Wa=Y1(ri,[qa*To,Mg]):Wa=vt.get("text-offset").evaluate(Zn,{},Ce).map(function(Uf){return Uf*To})}var Ti=Sn?"center":vt.get("text-justify").evaluate(Zn,{},Ce),Ei=vt.get("symbol-placement"),Vi=Ei==="point"?vt.get("text-max-width").evaluate(Zn,{},Ce)*To:0,Xi=function(){D.allowVerticalPlacement&&at(_a)&&(ba.vertical=y0(Sa,I,H,he,xa,Vi,en,ri,"left",pi,Wa,el.vertical,!0,Ei,ya,fa))};if(!Sn&&ni){for(var go=Ti==="auto"?ni.map(function(Uf){return Sg(Uf)}):[Ti],no=!1,_o=0;_o<go.length;_o++){var zo=go[_o];if(!ba.horizontal[zo])if(no)ba.horizontal[zo]=ba.horizontal[0];else{var yo=y0(Sa,I,H,he,xa,Vi,en,"center",zo,pi,Wa,el.horizontal,!1,Ei,ya,fa);yo&&(ba.horizontal[zo]=yo,no=yo.positionedLines.length===1)}}Xi()}else{Ti==="auto"&&(Ti=Sg(ri));var $o=y0(Sa,I,H,he,xa,Vi,en,ri,Ti,pi,Wa,el.horizontal,!1,Ei,ya,fa);$o&&(ba.horizontal[Ti]=$o),Xi(),at(_a)&&Sn&&pn&&(ba.vertical=y0(Sa,I,H,he,xa,Vi,en,ri,Ti,pi,Wa,el.vertical,!1,Ei,ya,fa))}}var qo=void 0,uo=!1;if(Zn.icon&&Zn.icon.name){var es=ne[Zn.icon.name];es&&(qo=kT(he[Zn.icon.name],vt.get("icon-offset").evaluate(Zn,{},Ce),vt.get("icon-anchor").evaluate(Zn,{},Ce)),uo=es.sdf,D.sdfIcons===void 0?D.sdfIcons=es.sdf:D.sdfIcons!==es.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(es.pixelRatio!==D.pixelRatio||vt.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var tl=Z1(ba.horizontal)||ba.vertical;D.iconsInText=tl?tl.iconsInText:!1,(tl||qo)&&WT(D,Zn,ba,qo,ne,Pt,ya,Oa,Wa,uo,Ce)},Hn=0,Kn=D.features;Hn<Kn.length;Hn+=1)In();we&&D.generateCollisionDebugBuffers()}function Sg(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function WT(D,I,H,ne,he,we,Ce,qe,vt,Tt,Pt){var Gt=we.textMaxSize.evaluate(I,{});Gt===void 0&&(Gt=Ce);var er=D.layers[0].layout,Jt=er.get("icon-offset").evaluate(I,{},Pt),xr=Z1(H.horizontal),kr=24,un=Ce/kr,en=D.tilePixelRatio*un,Sn=D.tilePixelRatio*Gt/kr,pn=D.tilePixelRatio*qe,An=D.tilePixelRatio*er.get("symbol-spacing"),In=er.get("text-padding")*D.tilePixelRatio,Hn=er.get("icon-padding")*D.tilePixelRatio,Kn=er.get("text-max-angle")/180*Math.PI,Zn=er.get("text-rotation-alignment")==="map"&&er.get("symbol-placement")!=="point",xa=er.get("icon-rotation-alignment")==="map"&&er.get("symbol-placement")!=="point",fa=er.get("symbol-placement"),ya=An/2,Oa=er.get("icon-text-fit"),ba;ne&&Oa!=="none"&&(D.allowVerticalPlacement&&H.vertical&&(ba=F1(ne,H.vertical,Oa,er.get("icon-text-fit-padding"),Jt,un)),xr&&(ne=F1(ne,xr,Oa,er.get("icon-text-fit-padding"),Jt,un)));var Sa=function(uv,Jl){Jl.x<0||Jl.x>=Aa||Jl.y<0||Jl.y>=Aa||YT(D,Jl,uv,H,ne,he,ba,D.layers[0],D.collisionBoxArray,I.index,I.sourceLayerIndex,D.index,en,In,Zn,vt,pn,Hn,xa,Jt,I,we,Tt,Pt,Ce)};if(fa==="line")for(var Wa=0,_a=H1(I.geometry,0,0,Aa,Aa);Wa<_a.length;Wa+=1)for(var ti=_a[Wa],pi=zT(ti,An,Kn,H.vertical||xr,ne,kr,Sn,D.overscaling,Aa),ri=0,ni=pi;ri<ni.length;ri+=1){var qa=ni[ri],Ti=xr;(!Ti||!XT(D,Ti.text,ya,qa))&&Sa(ti,qa)}else if(fa==="line-center")for(var Ei=0,Vi=I.geometry;Ei<Vi.length;Ei+=1){var Xi=Vi[Ei];if(Xi.length>1){var go=_T(Xi,Kn,H.vertical||xr,ne,kr,Sn);go&&Sa(Xi,go)}}else if(I.type==="Polygon")for(var no=0,_o=pg(I.geometry,0);no<_o.length;no+=1){var zo=_o[no],yo=NT(zo,16);Sa(zo[0],new ev(yo.x,yo.y,0))}else if(I.type==="LineString")for(var $o=0,qo=I.geometry;$o<qo.length;$o+=1){var uo=qo[$o];Sa(uo,new ev(uo[0].x,uo[0].y,0))}else if(I.type==="Point")for(var es=0,tl=I.geometry;es<tl.length;es+=1)for(var Uf=tl[es],Ec=0,Cc=Uf;Ec<Cc.length;Ec+=1){var Lc=Cc[Ec];Sa([Lc],new ev(Lc.x,Lc.y,0))}}var id=255,Mc=id*Du;function X1(D,I,H,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr){var kr=OT(I,H,qe,he,we,Ce,ne,D.allowVerticalPlacement),un=D.textSizeData,en=null;un.kind==="source"?(en=[Du*he.layout.get("text-size").evaluate(Ce,{})],en[0]>Mc&&O(D.layerIds[0]+': Value for "text-size" is >= '+id+'. Reduce your "text-size".')):un.kind==="composite"&&(en=[Du*Jt.compositeTextSizes[0].evaluate(Ce,{},xr),Du*Jt.compositeTextSizes[1].evaluate(Ce,{},xr)],(en[0]>Mc||en[1]>Mc)&&O(D.layerIds[0]+': Value for "text-size" is >= '+id+'. Reduce your "text-size".')),D.addSymbols(D.text,kr,en,qe,we,Ce,Tt,I,vt.lineStartIndex,vt.lineLength,er,xr);for(var Sn=0,pn=Pt;Sn<pn.length;Sn+=1){var An=pn[Sn];Gt[An]=D.text.placedSymbolArray.length-1}return kr.length*4}function Z1(D){for(var I in D)return D[I];return null}function YT(D,I,H,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er,Jt,xr,kr,un,en,Sn,pn,An,In,Hn,Kn,Zn){var xa,fa=D.addToLineVertexArray(I,H),ya,Oa,ba,Sa,Wa=0,_a=0,ti=0,pi=0,ri=-1,ni=-1,qa={},Ti=de(""),Ei=0,Vi=0;if(qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(xa=qe.layout.get("text-offset").evaluate(An,{},Kn).map(function(ld){return ld*To}),Ei=xa[0],Vi=xa[1]):(Ei=qe.layout.get("text-radial-offset").evaluate(An,{},Kn)*To,Vi=Mg),D.allowVerticalPlacement&&ne.vertical){var Xi=qe.layout.get("text-rotate").evaluate(An,{},Kn),go=Xi+90,no=ne.vertical;ba=new w0(vt,I,Tt,Pt,Gt,no,er,Jt,xr,go),Ce&&(Sa=new w0(vt,I,Tt,Pt,Gt,Ce,un,en,xr,go))}if(he){var _o=qe.layout.get("icon-rotate").evaluate(An,{}),zo=qe.layout.get("icon-text-fit")!=="none",yo=G1(he,_o,Hn,zo),$o=Ce?G1(Ce,_o,Hn,zo):void 0;Oa=new w0(vt,I,Tt,Pt,Gt,he,un,en,!1,_o),Wa=yo.length*4;var qo=D.iconSizeData,uo=null;qo.kind==="source"?(uo=[Du*qe.layout.get("icon-size").evaluate(An,{})],uo[0]>Mc&&O(D.layerIds[0]+': Value for "icon-size" is >= '+id+'. Reduce your "icon-size".')):qo.kind==="composite"&&(uo=[Du*In.compositeIconSizes[0].evaluate(An,{},Kn),Du*In.compositeIconSizes[1].evaluate(An,{},Kn)],(uo[0]>Mc||uo[1]>Mc)&&O(D.layerIds[0]+': Value for "icon-size" is >= '+id+'. Reduce your "icon-size".')),D.addSymbols(D.icon,yo,uo,pn,Sn,An,!1,I,fa.lineStartIndex,fa.lineLength,-1,Kn),ri=D.icon.placedSymbolArray.length-1,$o&&(_a=$o.length*4,D.addSymbols(D.icon,$o,uo,pn,Sn,An,el.vertical,I,fa.lineStartIndex,fa.lineLength,-1,Kn),ni=D.icon.placedSymbolArray.length-1)}for(var es in ne.horizontal){var tl=ne.horizontal[es];if(!ya){Ti=de(tl.text);var Uf=qe.layout.get("text-rotate").evaluate(An,{},Kn);ya=new w0(vt,I,Tt,Pt,Gt,tl,er,Jt,xr,Uf)}var Ec=tl.positionedLines.length===1;if(ti+=X1(D,I,tl,we,qe,xr,An,kr,fa,ne.vertical?el.horizontal:el.horizontalOnly,Ec?Object.keys(ne.horizontal):[es],qa,ri,In,Kn),Ec)break}ne.vertical&&(pi+=X1(D,I,ne.vertical,we,qe,xr,An,kr,fa,el.vertical,["vertical"],qa,ni,In,Kn));var Cc=ya?ya.boxStartIndex:D.collisionBoxArray.length,Lc=ya?ya.boxEndIndex:D.collisionBoxArray.length,uv=ba?ba.boxStartIndex:D.collisionBoxArray.length,Jl=ba?ba.boxEndIndex:D.collisionBoxArray.length,E0=Oa?Oa.boxStartIndex:D.collisionBoxArray.length,Dg=Oa?Oa.boxEndIndex:D.collisionBoxArray.length,C0=Sa?Sa.boxStartIndex:D.collisionBoxArray.length,Ig=Sa?Sa.boxEndIndex:D.collisionBoxArray.length,wl=-1,fv=function(ld,ux){return ld&&ld.circleDiameter?Math.max(ld.circleDiameter,ux):ux};wl=fv(ya,wl),wl=fv(ba,wl),wl=fv(Oa,wl),wl=fv(Sa,wl);var L0=wl>-1?1:0;L0&&(wl*=Zn/To),D.glyphOffsetArray.length>=di.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),An.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,An.sortKey),D.symbolInstances.emplaceBack(I.x,I.y,qa.right>=0?qa.right:-1,qa.center>=0?qa.center:-1,qa.left>=0?qa.left:-1,qa.vertical||-1,ri,ni,Ti,Cc,Lc,uv,Jl,E0,Dg,C0,Ig,Tt,ti,pi,Wa,_a,L0,0,er,Ei,Vi,wl)}function XT(D,I,H,ne){var he=D.compareText;if(!(I in he))he[I]=[];else for(var we=he[I],Ce=we.length-1;Ce>=0;Ce--)if(ne.dist(we[Ce])<H)return!0;return he[I].push(ne),!1}var ZT=Jh.VectorTileFeature.types,jT=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function T0(D,I,H,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er){var Jt=qe?Math.min(Mc,Math.round(qe[0])):0,xr=qe?Math.min(Mc,Math.round(qe[1])):0;D.emplaceBack(I,H,Math.round(ne*32),Math.round(he*32),we,Ce,(Jt<<1)+(vt?1:0),xr,Tt*16,Pt*16,Gt*256,er*256)}function Eg(D,I,H){D.emplaceBack(I.x,I.y,H),D.emplaceBack(I.x,I.y,H),D.emplaceBack(I.x,I.y,H),D.emplaceBack(I.x,I.y,H)}function KT(D){for(var I=0,H=D.sections;I<H.length;I+=1){var ne=H[I];if(fn(ne.text))return!0}return!1}var iv=function(I){this.layoutVertexArray=new rf,this.indexArray=new Cu,this.programConfigurations=I,this.segments=new qi,this.dynamicLayoutVertexArray=new Hv,this.opacityVertexArray=new Gv,this.placedSymbolArray=new Xv};iv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},iv.prototype.upload=function(I,H,ne,he){this.isEmpty()||(ne&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,K4.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,H),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,J4.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,jT,!0),this.opacityVertexBuffer.itemSize=1),(ne||he)&&this.programConfigurations.upload(I))},iv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},da("SymbolBuffers",iv);var od=function(I,H,ne){this.layoutVertexArray=new I,this.layoutAttributes=H,this.indexArray=new ne,this.segments=new qi,this.collisionVertexArray=new vs};od.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,Q4.members,!0)},od.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},da("CollisionBuffers",od);var di=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(vt){return vt.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Yh([]),this.placementViewportMatrix=Yh([]);var H=this.layers[0],ne=H._unevaluatedLayout._values;this.textSizeData=Ag(this.zoom,ne["text-size"]),this.iconSizeData=Ag(this.zoom,ne["icon-size"]);var he=this.layers[0].layout,we=he.get("symbol-sort-key"),Ce=he.get("symbol-z-order");this.canOverlap=he.get("text-allow-overlap")||he.get("icon-allow-overlap")||he.get("text-ignore-placement")||he.get("icon-ignore-placement"),this.sortFeaturesByKey=Ce!=="viewport-y"&&we.constantOr(1)!==void 0;var qe=Ce==="viewport-y"||Ce==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=qe&&this.canOverlap,he.get("symbol-placement")==="point"&&(this.writingModes=he.get("text-writing-mode").map(function(vt){return el[vt]})),this.stateDependentLayerIds=this.layers.filter(function(vt){return vt.isStateDependent()}).map(function(vt){return vt.id}),this.sourceID=I.sourceID};di.prototype.createArrays=function(){this.text=new iv(new ua(this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new iv(new ua(this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new a0,this.lineVertexArray=new yl,this.symbolInstances=new n0},di.prototype.calculateGlyphDependencies=function(I,H,ne,he,we){for(var Ce=0;Ce<I.length;Ce++)if(H[I.charCodeAt(Ce)]=!0,(ne||he)&&we){var qe=td[I.charAt(Ce)];qe&&(H[qe.charCodeAt(0)]=!0)}},di.prototype.populate=function(I,H,ne){var he=this.layers[0],we=he.layout,Ce=we.get("text-font"),qe=we.get("text-field"),vt=we.get("icon-image"),Tt=(qe.value.kind!=="constant"||qe.value.value instanceof Oi&&!qe.value.value.isEmpty()||qe.value.value.toString().length>0)&&(Ce.value.kind!=="constant"||Ce.value.value.length>0),Pt=vt.value.kind!=="constant"||!!vt.value.value||Object.keys(vt.parameters).length>0,Gt=we.get("symbol-sort-key");if(this.features=[],!(!Tt&&!Pt)){for(var er=H.iconDependencies,Jt=H.glyphDependencies,xr=H.availableImages,kr=new pa(this.zoom),un=0,en=I;un<en.length;un+=1){var Sn=en[un],pn=Sn.feature,An=Sn.id,In=Sn.index,Hn=Sn.sourceLayerIndex,Kn=he._featureFilter.needGeometry,Zn=wi(pn,Kn);if(he._featureFilter.filter(kr,Zn,ne)){Kn||(Zn.geometry=$a(pn));var xa=void 0;if(Tt){var fa=he.getValueAndResolveTokens("text-field",Zn,ne,xr),ya=Oi.factory(fa);KT(ya)&&(this.hasRTLText=!0),(!this.hasRTLText||ia()==="unavailable"||this.hasRTLText&&Pa.isParsed())&&(xa=eT(ya,he,Zn))}var Oa=void 0;if(Pt){var ba=he.getValueAndResolveTokens("icon-image",Zn,ne,xr);ba instanceof bo?Oa=ba:Oa=bo.fromString(ba)}if(!(!xa&&!Oa)){var Sa=this.sortFeaturesByKey?Gt.evaluate(Zn,{},ne):void 0,Wa={id:An,text:xa,icon:Oa,index:In,sourceLayerIndex:Hn,geometry:Zn.geometry,properties:pn.properties,type:ZT[pn.type],sortKey:Sa};if(this.features.push(Wa),Oa&&(er[Oa.name]=!0),xa){var _a=Ce.evaluate(Zn,{},ne).join(","),ti=we.get("text-rotation-alignment")==="map"&&we.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(el.vertical)>=0;for(var pi=0,ri=xa.sections;pi<ri.length;pi+=1){var ni=ri[pi];if(ni.image)er[ni.image.name]=!0;else{var qa=at(xa.toString()),Ti=ni.fontStack||_a,Ei=Jt[Ti]=Jt[Ti]||{};this.calculateGlyphDependencies(ni.text,Ei,ti,this.allowVerticalPlacement,qa)}}}}}}we.get("symbol-placement")==="line"&&(this.features=tT(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Vi,Xi){return Vi.sortKey-Xi.sortKey})}},di.prototype.update=function(I,H,ne){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(I,H,this.layers,ne),this.icon.programConfigurations.updatePaintArrays(I,H,this.layers,ne))},di.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},di.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},di.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},di.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},di.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},di.prototype.addToLineVertexArray=function(I,H){var ne=this.lineVertexArray.length;if(I.segment!==void 0){for(var he=I.dist(H[I.segment+1]),we=I.dist(H[I.segment]),Ce={},qe=I.segment+1;qe<H.length;qe++)Ce[qe]={x:H[qe].x,y:H[qe].y,tileUnitDistanceFromAnchor:he},qe<H.length-1&&(he+=H[qe+1].dist(H[qe]));for(var vt=I.segment||0;vt>=0;vt--)Ce[vt]={x:H[vt].x,y:H[vt].y,tileUnitDistanceFromAnchor:we},vt>0&&(we+=H[vt-1].dist(H[vt]));for(var Tt=0;Tt<H.length;Tt++){var Pt=Ce[Tt];this.lineVertexArray.emplaceBack(Pt.x,Pt.y,Pt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ne,lineLength:this.lineVertexArray.length-ne}},di.prototype.addSymbols=function(I,H,ne,he,we,Ce,qe,vt,Tt,Pt,Gt,er){for(var Jt=I.indexArray,xr=I.layoutVertexArray,kr=I.segments.prepareSegment(4*H.length,xr,Jt,this.canOverlap?Ce.sortKey:void 0),un=this.glyphOffsetArray.length,en=kr.vertexLength,Sn=this.allowVerticalPlacement&&qe===el.vertical?Math.PI/2:0,pn=Ce.text&&Ce.text.sections,An=0;An<H.length;An++){var In=H[An],Hn=In.tl,Kn=In.tr,Zn=In.bl,xa=In.br,fa=In.tex,ya=In.pixelOffsetTL,Oa=In.pixelOffsetBR,ba=In.minFontScaleX,Sa=In.minFontScaleY,Wa=In.glyphOffset,_a=In.isSDF,ti=In.sectionIndex,pi=kr.vertexLength,ri=Wa[1];T0(xr,vt.x,vt.y,Hn.x,ri+Hn.y,fa.x,fa.y,ne,_a,ya.x,ya.y,ba,Sa),T0(xr,vt.x,vt.y,Kn.x,ri+Kn.y,fa.x+fa.w,fa.y,ne,_a,Oa.x,ya.y,ba,Sa),T0(xr,vt.x,vt.y,Zn.x,ri+Zn.y,fa.x,fa.y+fa.h,ne,_a,ya.x,Oa.y,ba,Sa),T0(xr,vt.x,vt.y,xa.x,ri+xa.y,fa.x+fa.w,fa.y+fa.h,ne,_a,Oa.x,Oa.y,ba,Sa),Eg(I.dynamicLayoutVertexArray,vt,Sn),Jt.emplaceBack(pi,pi+1,pi+2),Jt.emplaceBack(pi+1,pi+2,pi+3),kr.vertexLength+=4,kr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Wa[0]),(An===H.length-1||ti!==H[An+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(xr.length,Ce,Ce.index,{},er,pn&&pn[ti])}I.placedSymbolArray.emplaceBack(vt.x,vt.y,un,this.glyphOffsetArray.length-un,en,Tt,Pt,vt.segment,ne?ne[0]:0,ne?ne[1]:0,he[0],he[1],qe,0,!1,0,Gt)},di.prototype._addCollisionDebugVertex=function(I,H,ne,he,we,Ce){return H.emplaceBack(0,0),I.emplaceBack(ne.x,ne.y,he,we,Math.round(Ce.x),Math.round(Ce.y))},di.prototype.addCollisionDebugVertices=function(I,H,ne,he,we,Ce,qe){var vt=we.segments.prepareSegment(4,we.layoutVertexArray,we.indexArray),Tt=vt.vertexLength,Pt=we.layoutVertexArray,Gt=we.collisionVertexArray,er=qe.anchorX,Jt=qe.anchorY;this._addCollisionDebugVertex(Pt,Gt,Ce,er,Jt,new r(I,H)),this._addCollisionDebugVertex(Pt,Gt,Ce,er,Jt,new r(ne,H)),this._addCollisionDebugVertex(Pt,Gt,Ce,er,Jt,new r(ne,he)),this._addCollisionDebugVertex(Pt,Gt,Ce,er,Jt,new r(I,he)),vt.vertexLength+=4;var xr=we.indexArray;xr.emplaceBack(Tt,Tt+1),xr.emplaceBack(Tt+1,Tt+2),xr.emplaceBack(Tt+2,Tt+3),xr.emplaceBack(Tt+3,Tt),vt.primitiveLength+=4},di.prototype.addDebugCollisionBoxes=function(I,H,ne,he){for(var we=I;we<H;we++){var Ce=this.collisionBoxArray.get(we),qe=Ce.x1,vt=Ce.y1,Tt=Ce.x2,Pt=Ce.y2;this.addCollisionDebugVertices(qe,vt,Tt,Pt,he?this.textCollisionBox:this.iconCollisionBox,Ce.anchorPoint,ne)}},di.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new od(Nh,w1.members,gh),this.iconCollisionBox=new od(Nh,w1.members,gh);for(var I=0;I<this.symbolInstances.length;I++){var H=this.symbolInstances.get(I);this.addDebugCollisionBoxes(H.textBoxStartIndex,H.textBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.verticalTextBoxStartIndex,H.verticalTextBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.iconBoxStartIndex,H.iconBoxEndIndex,H,!1),this.addDebugCollisionBoxes(H.verticalIconBoxStartIndex,H.verticalIconBoxEndIndex,H,!1)}},di.prototype._deserializeCollisionBoxesForSymbol=function(I,H,ne,he,we,Ce,qe,vt,Tt){for(var Pt={},Gt=H;Gt<ne;Gt++){var er=I.get(Gt);Pt.textBox={x1:er.x1,y1:er.y1,x2:er.x2,y2:er.y2,anchorPointX:er.anchorPointX,anchorPointY:er.anchorPointY},Pt.textFeatureIndex=er.featureIndex;break}for(var Jt=he;Jt<we;Jt++){var xr=I.get(Jt);Pt.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},Pt.verticalTextFeatureIndex=xr.featureIndex;break}for(var kr=Ce;kr<qe;kr++){var un=I.get(kr);Pt.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},Pt.iconFeatureIndex=un.featureIndex;break}for(var en=vt;en<Tt;en++){var Sn=I.get(en);Pt.verticalIconBox={x1:Sn.x1,y1:Sn.y1,x2:Sn.x2,y2:Sn.y2,anchorPointX:Sn.anchorPointX,anchorPointY:Sn.anchorPointY},Pt.verticalIconFeatureIndex=Sn.featureIndex;break}return Pt},di.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var H=0;H<this.symbolInstances.length;H++){var ne=this.symbolInstances.get(H);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,ne.textBoxStartIndex,ne.textBoxEndIndex,ne.verticalTextBoxStartIndex,ne.verticalTextBoxEndIndex,ne.iconBoxStartIndex,ne.iconBoxEndIndex,ne.verticalIconBoxStartIndex,ne.verticalIconBoxEndIndex))}},di.prototype.hasTextData=function(){return this.text.segments.get().length>0},di.prototype.hasIconData=function(){return this.icon.segments.get().length>0},di.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},di.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},di.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},di.prototype.addIndicesForPlacedSymbol=function(I,H){for(var ne=I.placedSymbolArray.get(H),he=ne.vertexStartIndex+ne.numGlyphs*4,we=ne.vertexStartIndex;we<he;we+=4)I.indexArray.emplaceBack(we,we+1,we+2),I.indexArray.emplaceBack(we+1,we+2,we+3)},di.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var H=Math.sin(I),ne=Math.cos(I),he=[],we=[],Ce=[],qe=0;qe<this.symbolInstances.length;++qe){Ce.push(qe);var vt=this.symbolInstances.get(qe);he.push(Math.round(H*vt.anchorX+ne*vt.anchorY)|0),we.push(vt.featureIndex)}return Ce.sort(function(Tt,Pt){return he[Tt]-he[Pt]||we[Pt]-we[Tt]}),Ce},di.prototype.addToSortKeyRanges=function(I,H){var ne=this.sortKeyRanges[this.sortKeyRanges.length-1];ne&&ne.sortKey===H?ne.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:H,symbolInstanceStart:I,symbolInstanceEnd:I+1})},di.prototype.sortFeatures=function(I){var H=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ne=0,he=this.symbolInstanceIndexes;ne<he.length;ne+=1){var we=he[ne],Ce=this.symbolInstances.get(we);this.featureSortOrder.push(Ce.featureIndex),[Ce.rightJustifiedTextSymbolIndex,Ce.centerJustifiedTextSymbolIndex,Ce.leftJustifiedTextSymbolIndex].forEach(function(qe,vt,Tt){qe>=0&&Tt.indexOf(qe)===vt&&H.addIndicesForPlacedSymbol(H.text,qe)}),Ce.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ce.verticalPlacedTextSymbolIndex),Ce.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.placedIconSymbolIndex),Ce.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ce.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},da("SymbolBucket",di,{omit:["layers","collisionBoxArray","features","compareText"]}),di.MAX_GLYPHS=65535,di.addDynamicAttributes=Eg;function JT(D,I){return I.replace(/{([^{}]+)}/g,function(H,ne){return ne in D?String(D[ne]):""})}var QT=new ci({"symbol-placement":new qn(Tr.layout_symbol["symbol-placement"]),"symbol-spacing":new qn(Tr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qn(Tr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ta(Tr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qn(Tr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qn(Tr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new qn(Tr.layout_symbol["icon-ignore-placement"]),"icon-optional":new qn(Tr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qn(Tr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ta(Tr.layout_symbol["icon-size"]),"icon-text-fit":new qn(Tr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qn(Tr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ta(Tr.layout_symbol["icon-image"]),"icon-rotate":new Ta(Tr.layout_symbol["icon-rotate"]),"icon-padding":new qn(Tr.layout_symbol["icon-padding"]),"icon-keep-upright":new qn(Tr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ta(Tr.layout_symbol["icon-offset"]),"icon-anchor":new Ta(Tr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qn(Tr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qn(Tr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qn(Tr.layout_symbol["text-rotation-alignment"]),"text-field":new Ta(Tr.layout_symbol["text-field"]),"text-font":new Ta(Tr.layout_symbol["text-font"]),"text-size":new Ta(Tr.layout_symbol["text-size"]),"text-max-width":new Ta(Tr.layout_symbol["text-max-width"]),"text-line-height":new qn(Tr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ta(Tr.layout_symbol["text-letter-spacing"]),"text-justify":new Ta(Tr.layout_symbol["text-justify"]),"text-radial-offset":new Ta(Tr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qn(Tr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ta(Tr.layout_symbol["text-anchor"]),"text-max-angle":new qn(Tr.layout_symbol["text-max-angle"]),"text-writing-mode":new qn(Tr.layout_symbol["text-writing-mode"]),"text-rotate":new Ta(Tr.layout_symbol["text-rotate"]),"text-padding":new qn(Tr.layout_symbol["text-padding"]),"text-keep-upright":new qn(Tr.layout_symbol["text-keep-upright"]),"text-transform":new Ta(Tr.layout_symbol["text-transform"]),"text-offset":new Ta(Tr.layout_symbol["text-offset"]),"text-allow-overlap":new qn(Tr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new qn(Tr.layout_symbol["text-ignore-placement"]),"text-optional":new qn(Tr.layout_symbol["text-optional"])}),$T=new ci({"icon-opacity":new Ta(Tr.paint_symbol["icon-opacity"]),"icon-color":new Ta(Tr.paint_symbol["icon-color"]),"icon-halo-color":new Ta(Tr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ta(Tr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ta(Tr.paint_symbol["icon-halo-blur"]),"icon-translate":new qn(Tr.paint_symbol["icon-translate"]),"icon-translate-anchor":new qn(Tr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ta(Tr.paint_symbol["text-opacity"]),"text-color":new Ta(Tr.paint_symbol["text-color"],{runtimeType:Cn,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Ta(Tr.paint_symbol["text-halo-color"]),"text-halo-width":new Ta(Tr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ta(Tr.paint_symbol["text-halo-blur"]),"text-translate":new qn(Tr.paint_symbol["text-translate"]),"text-translate-anchor":new qn(Tr.paint_symbol["text-translate-anchor"])}),Cg={paint:$T,layout:QT},ov=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:Br,this.defaultValue=I};ov.prototype.evaluate=function(I){if(I.formattedSection){var H=this.defaultValue.property.overrides;if(H&&H.hasOverride(I.formattedSection))return H.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},ov.prototype.eachChild=function(I){if(!this.defaultValue.isConstant()){var H=this.defaultValue.value;I(H._styleExpression.expression)}},ov.prototype.outputDefined=function(){return!1},ov.prototype.serialize=function(){return null},da("FormatSectionOverride",ov,{omit:["defaultValue"]});var qT=function(D){function I(H){D.call(this,H,Cg)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ne,he){if(D.prototype.recalculate.call(this,ne,he),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var we=this.layout.get("text-writing-mode");if(we){for(var Ce=[],qe=0,vt=we;qe<vt.length;qe+=1){var Tt=vt[qe];Ce.indexOf(Tt)<0&&Ce.push(Tt)}this.layout._values["text-writing-mode"]=Ce}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(ne,he,we,Ce){var qe=this.layout.get(ne).evaluate(he,{},we,Ce),vt=this._unevaluatedLayout._values[ne];return!vt.isDataDriven()&&!hl(vt.value)&&qe?JT(he.properties,qe):qe},I.prototype.createBucket=function(ne){return new di(ne)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var ne=0,he=Cg.paint.overridableProperties;ne<he.length;ne+=1){var we=he[ne];if(I.hasPaintOverride(this.layout,we)){var Ce=this.paint.get(we),qe=new ov(Ce),vt=new Vl(qe,Ce.property.specification),Tt=null;Ce.value.kind==="constant"||Ce.value.kind==="source"?Tt=new Wo("source",vt):Tt=new Yo("composite",vt,Ce.value.zoomStops,Ce.value._interpolationType),this.paint._values[we]=new Ha(Ce.property,Tt,Ce.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(ne,he,we){return!this.layout||he.isDataDriven()||we.isDataDriven()?!1:I.hasPaintOverride(this.layout,ne)},I.hasPaintOverride=function(ne,he){var we=ne.get("text-field"),Ce=Cg.paint.properties[he],qe=!1,vt=function(Gt){for(var er=0,Jt=Gt;er<Jt.length;er+=1){var xr=Jt[er];if(Ce.overrides&&Ce.overrides.hasOverride(xr)){qe=!0;return}}};if(we.value.kind==="constant"&&we.value.value instanceof Oi)vt(we.value.value.sections);else if(we.value.kind==="source"){var Tt=function(Gt){if(!qe)if(Gt instanceof No&&Bi(Gt.value)===sa){var er=Gt.value;vt(er.sections)}else Gt instanceof is?vt(Gt.sections):Gt.eachChild(Tt)},Pt=we.value;Pt._styleExpression&&Tt(Pt._styleExpression.expression)}return qe},I}(Ri),eA=new ci({"background-color":new qn(Tr.paint_background["background-color"]),"background-pattern":new yi(Tr.paint_background["background-pattern"]),"background-opacity":new qn(Tr.paint_background["background-opacity"])}),tA={paint:eA},rA=function(D){function I(H){D.call(this,H,tA)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ri),nA=new ci({"raster-opacity":new qn(Tr.paint_raster["raster-opacity"]),"raster-hue-rotate":new qn(Tr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qn(Tr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qn(Tr.paint_raster["raster-brightness-max"]),"raster-saturation":new qn(Tr.paint_raster["raster-saturation"]),"raster-contrast":new qn(Tr.paint_raster["raster-contrast"]),"raster-resampling":new qn(Tr.paint_raster["raster-resampling"]),"raster-fade-duration":new qn(Tr.paint_raster["raster-fade-duration"])}),aA={paint:nA},iA=function(D){function I(H){D.call(this,H,aA)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ri);function oA(D){var I=[],H=D.id;return H===void 0&&I.push({message:"layers."+H+': missing required property "id"'}),D.render===void 0&&I.push({message:"layers."+H+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&I.push({message:"layers."+H+': property "renderingMode" must be either "2d" or "3d"'}),I}var sA=function(D){function I(H){D.call(this,H,{}),this.implementation=H}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(ne){this.implementation.onAdd&&this.implementation.onAdd(ne,ne.painter.context.gl)},I.prototype.onRemove=function(ne){this.implementation.onRemove&&this.implementation.onRemove(ne,ne.painter.context.gl)},I}(Ri),lA={circle:Dw,heatmap:_w,hillshade:Bw,fill:f4,"fill-extrusion":D4,line:Z4,symbol:qT,background:rA,raster:iA};function uA(D){return D.type==="custom"?new sA(D):new lA[D.type](D)}var j1=s.HTMLImageElement,K1=s.HTMLCanvasElement,J1=s.HTMLVideoElement,Q1=s.ImageData,A0=s.ImageBitmap,bh=function(I,H,ne,he){this.context=I,this.format=ne,this.texture=I.gl.createTexture(),this.update(H,he)};bh.prototype.update=function(I,H,ne){var he=I.width,we=I.height,Ce=(!this.size||this.size[0]!==he||this.size[1]!==we)&&!ne,qe=this,vt=qe.context,Tt=vt.gl;if(this.useMipmap=!!(H&&H.useMipmap),Tt.bindTexture(Tt.TEXTURE_2D,this.texture),vt.pixelStoreUnpackFlipY.set(!1),vt.pixelStoreUnpack.set(1),vt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Tt.RGBA&&(!H||H.premultiply!==!1)),Ce)this.size=[he,we],I instanceof j1||I instanceof K1||I instanceof J1||I instanceof Q1||A0&&I instanceof A0?Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,this.format,Tt.UNSIGNED_BYTE,I):Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,he,we,0,this.format,Tt.UNSIGNED_BYTE,I.data);else{var Pt=ne||{x:0,y:0},Gt=Pt.x,er=Pt.y;I instanceof j1||I instanceof K1||I instanceof J1||I instanceof Q1||A0&&I instanceof A0?Tt.texSubImage2D(Tt.TEXTURE_2D,0,Gt,er,Tt.RGBA,Tt.UNSIGNED_BYTE,I):Tt.texSubImage2D(Tt.TEXTURE_2D,0,Gt,er,he,we,Tt.RGBA,Tt.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Tt.generateMipmap(Tt.TEXTURE_2D)},bh.prototype.bind=function(I,H,ne){var he=this,we=he.context,Ce=we.gl;Ce.bindTexture(Ce.TEXTURE_2D,this.texture),ne===Ce.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ne=Ce.LINEAR),I!==this.filter&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MAG_FILTER,I),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MIN_FILTER,ne||I),this.filter=I),H!==this.wrap&&(Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_S,H),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_T,H),this.wrap=H)},bh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},bh.prototype.destroy=function(){var I=this.context,H=I.gl;H.deleteTexture(this.texture),this.texture=null};var Lg=function(I){var H=this;this._callback=I,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){H._triggered=!1,H._callback()})};Lg.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},Lg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var sv=function(I,H,ne){this.target=I,this.parent=H,this.mapId=ne,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new Lg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=J()?I:s};sv.prototype.send=function(I,H,ne,he,we){var Ce=this;we===void 0&&(we=!1);var qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ne&&(this.callbacks[qe]=ne);var vt=ue(this.globalScope)?void 0:[];return this.target.postMessage({id:qe,type:I,hasCallback:!!ne,targetMapId:he,mustQueue:we,sourceMapId:this.mapId,data:le(H,vt)},vt),{cancel:function(){ne&&delete Ce.callbacks[qe],Ce.target.postMessage({id:qe,type:"<cancel>",targetMapId:he,sourceMapId:Ce.mapId})}}},sv.prototype.receive=function(I){var H=I.data,ne=H.id;if(ne&&!(H.targetMapId&&this.mapId!==H.targetMapId))if(H.type==="<cancel>"){delete this.tasks[ne];var he=this.cancelCallbacks[ne];delete this.cancelCallbacks[ne],he&&he()}else J()||H.mustQueue?(this.tasks[ne]=H,this.taskQueue.push(ne),this.invoker.trigger()):this.processTask(ne,H)},sv.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),H=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),H&&this.processTask(I,H)}},sv.prototype.processTask=function(I,H){var ne=this;if(H.type==="<response>"){var he=this.callbacks[I];delete this.callbacks[I],he&&(H.error?he(Me(H.error)):he(null,Me(H.data)))}else{var we=!1,Ce=ue(this.globalScope)?void 0:[],qe=H.hasCallback?function(er,Jt){we=!0,delete ne.cancelCallbacks[I],ne.target.postMessage({id:I,type:"<response>",sourceMapId:ne.mapId,error:er?le(er):null,data:le(Jt,Ce)},Ce)}:function(er){we=!0},vt=null,Tt=Me(H.data);if(this.parent[H.type])vt=this.parent[H.type](H.sourceMapId,Tt,qe);else if(this.parent.getWorkerSource){var Pt=H.type.split("."),Gt=this.parent.getWorkerSource(H.sourceMapId,Pt[0],Tt.source);vt=Gt[Pt[1]](Tt,qe)}else qe(new Error("Could not find function "+H.type));!we&&vt&&vt.cancel&&(this.cancelCallbacks[I]=vt.cancel)}},sv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function fA(D,I,H){I=Math.pow(2,H)-I-1;var ne=$1(D*256,I*256,H),he=$1((D+1)*256,(I+1)*256,H);return ne[0]+","+ne[1]+","+he[0]+","+he[1]}function $1(D,I,H){var ne=2*Math.PI*6378137/256/Math.pow(2,H),he=D*ne-2*Math.PI*6378137/2,we=I*ne-2*Math.PI*6378137/2;return[he,we]}var to=function(I,H){I&&(H?this.setSouthWest(I).setNorthEast(H):I.length===4?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};to.prototype.setNorthEast=function(I){return this._ne=I instanceof Ii?new Ii(I.lng,I.lat):Ii.convert(I),this},to.prototype.setSouthWest=function(I){return this._sw=I instanceof Ii?new Ii(I.lng,I.lat):Ii.convert(I),this},to.prototype.extend=function(I){var H=this._sw,ne=this._ne,he,we;if(I instanceof Ii)he=I,we=I;else if(I instanceof to){if(he=I._sw,we=I._ne,!he||!we)return this}else{if(Array.isArray(I))if(I.length===4||I.every(Array.isArray)){var Ce=I;return this.extend(to.convert(Ce))}else{var qe=I;return this.extend(Ii.convert(qe))}return this}return!H&&!ne?(this._sw=new Ii(he.lng,he.lat),this._ne=new Ii(we.lng,we.lat)):(H.lng=Math.min(he.lng,H.lng),H.lat=Math.min(he.lat,H.lat),ne.lng=Math.max(we.lng,ne.lng),ne.lat=Math.max(we.lat,ne.lat)),this},to.prototype.getCenter=function(){return new Ii((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},to.prototype.getSouthWest=function(){return this._sw},to.prototype.getNorthEast=function(){return this._ne},to.prototype.getNorthWest=function(){return new Ii(this.getWest(),this.getNorth())},to.prototype.getSouthEast=function(){return new Ii(this.getEast(),this.getSouth())},to.prototype.getWest=function(){return this._sw.lng},to.prototype.getSouth=function(){return this._sw.lat},to.prototype.getEast=function(){return this._ne.lng},to.prototype.getNorth=function(){return this._ne.lat},to.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},to.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},to.prototype.isEmpty=function(){return!(this._sw&&this._ne)},to.prototype.contains=function(I){var H=Ii.convert(I),ne=H.lng,he=H.lat,we=this._sw.lat<=he&&he<=this._ne.lat,Ce=this._sw.lng<=ne&&ne<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ce=this._sw.lng>=ne&&ne>=this._ne.lng),we&&Ce},to.convert=function(I){return!I||I instanceof to?I:new to(I)};var q1=63710088e-1,Ii=function(I,H){if(isNaN(I)||isNaN(H))throw new Error("Invalid LngLat object: ("+I+", "+H+")");if(this.lng=+I,this.lat=+H,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ii.prototype.wrap=function(){return new Ii(w(this.lng,-180,180),this.lat)},Ii.prototype.toArray=function(){return[this.lng,this.lat]},Ii.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ii.prototype.distanceTo=function(I){var H=Math.PI/180,ne=this.lat*H,he=I.lat*H,we=Math.sin(ne)*Math.sin(he)+Math.cos(ne)*Math.cos(he)*Math.cos((I.lng-this.lng)*H),Ce=q1*Math.acos(Math.min(we,1));return Ce},Ii.prototype.toBounds=function(I){I===void 0&&(I=0);var H=40075017,ne=360*I/H,he=ne/Math.cos(Math.PI/180*this.lat);return new to(new Ii(this.lng-he,this.lat-ne),new Ii(this.lng+he,this.lat+ne))},Ii.convert=function(I){if(I instanceof Ii)return I;if(Array.isArray(I)&&(I.length===2||I.length===3))return new Ii(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&typeof I=="object"&&I!==null)return new Ii(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ex=2*Math.PI*q1;function tx(D){return ex*Math.cos(D*Math.PI/180)}function rx(D){return(180+D)/360}function nx(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function ax(D,I){return D/tx(I)}function cA(D){return D*360-180}function Pg(D){var I=180-D*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function hA(D,I){return D*tx(Pg(I))}function vA(D){return 1/Math.cos(D*Math.PI/180)}var wh=function(I,H,ne){ne===void 0&&(ne=0),this.x=+I,this.y=+H,this.z=+ne};wh.fromLngLat=function(I,H){H===void 0&&(H=0);var ne=Ii.convert(I);return new wh(rx(ne.lng),nx(ne.lat),ax(H,ne.lat))},wh.prototype.toLngLat=function(){return new Ii(cA(this.x),Pg(this.y))},wh.prototype.toAltitude=function(){return hA(this.z,this.y)},wh.prototype.meterInMercatorCoordinateUnits=function(){return 1/ex*vA(Pg(this.y))};var Th=function(I,H,ne){this.z=I,this.x=H,this.y=ne,this.key=sd(0,I,I,H,ne)};Th.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},Th.prototype.url=function(I,H){var ne=fA(this.x,this.y,this.z),he=dA(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(H==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",he).replace("{bbox-epsg-3857}",ne)},Th.prototype.getTilePoint=function(I){var H=Math.pow(2,this.z);return new r((I.x*H-this.x)*Aa,(I.y*H-this.y)*Aa)},Th.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var ix=function(I,H){this.wrap=I,this.canonical=H,this.key=sd(I,H.z,H.z,H.x,H.y)},ro=function(I,H,ne,he,we){this.overscaledZ=I,this.wrap=H,this.canonical=new Th(ne,+he,+we),this.key=sd(H,I,ne,he,we)};ro.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},ro.prototype.scaledTo=function(I){var H=this.canonical.z-I;return I>this.canonical.z?new ro(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ro(I,this.wrap,I,this.canonical.x>>H,this.canonical.y>>H)},ro.prototype.calculateScaledKey=function(I,H){var ne=this.canonical.z-I;return I>this.canonical.z?sd(this.wrap*+H,I,this.canonical.z,this.canonical.x,this.canonical.y):sd(this.wrap*+H,I,I,this.canonical.x>>ne,this.canonical.y>>ne)},ro.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var H=this.canonical.z-I.canonical.z;return I.overscaledZ===0||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>H&&I.canonical.y===this.canonical.y>>H},ro.prototype.children=function(I){if(this.overscaledZ>=I)return[new ro(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var H=this.canonical.z+1,ne=this.canonical.x*2,he=this.canonical.y*2;return[new ro(H,this.wrap,H,ne,he),new ro(H,this.wrap,H,ne+1,he),new ro(H,this.wrap,H,ne,he+1),new ro(H,this.wrap,H,ne+1,he+1)]},ro.prototype.isLessThan=function(I){return this.wrap<I.wrap?!0:this.wrap>I.wrap?!1:this.overscaledZ<I.overscaledZ?!0:this.overscaledZ>I.overscaledZ?!1:this.canonical.x<I.canonical.x?!0:this.canonical.x>I.canonical.x?!1:this.canonical.y<I.canonical.y},ro.prototype.wrapped=function(){return new ro(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ro.prototype.unwrapTo=function(I){return new ro(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},ro.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ro.prototype.toUnwrapped=function(){return new ix(this.wrap,this.canonical)},ro.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ro.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new wh(I.x-this.wrap,I.y))};function sd(D,I,H,ne,he){D*=2,D<0&&(D=D*-1-1);var we=1<<H;return(we*we*D+we*he+ne).toString(36)+H.toString(36)+I.toString(36)}function dA(D,I,H){for(var ne="",he,we=D;we>0;we--)he=1<<we-1,ne+=(I&he?1:0)+(H&he?2:0);return ne}da("CanonicalTileID",Th),da("OverscaledTileID",ro,{omit:["posMatrix"]});var Bf=function(I,H,ne){if(this.uid=I,H.height!==H.width)throw new RangeError("DEM tiles must be square");if(ne&&ne!=="mapbox"&&ne!=="terrarium")return O('"'+ne+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=H.height;var he=this.dim=H.height-2;this.data=new Uint32Array(H.data.buffer),this.encoding=ne||"mapbox";for(var we=0;we<he;we++)this.data[this._idx(-1,we)]=this.data[this._idx(0,we)],this.data[this._idx(he,we)]=this.data[this._idx(he-1,we)],this.data[this._idx(we,-1)]=this.data[this._idx(we,0)],this.data[this._idx(we,he)]=this.data[this._idx(we,he-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(he,-1)]=this.data[this._idx(he-1,0)],this.data[this._idx(-1,he)]=this.data[this._idx(0,he-1)],this.data[this._idx(he,he)]=this.data[this._idx(he-1,he-1)]};Bf.prototype.get=function(I,H){var ne=new Uint8Array(this.data.buffer),he=this._idx(I,H)*4,we=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return we(ne[he],ne[he+1],ne[he+2])},Bf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Bf.prototype._idx=function(I,H){if(I<-1||I>=this.dim+1||H<-1||H>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(H+1)*this.stride+(I+1)},Bf.prototype._unpackMapbox=function(I,H,ne){return(I*256*256+H*256+ne)/10-1e4},Bf.prototype._unpackTerrarium=function(I,H,ne){return I*256+H+ne/256-32768},Bf.prototype.getPixels=function(){return new ys({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Bf.prototype.backfillBorder=function(I,H,ne){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var he=H*this.dim,we=H*this.dim+this.dim,Ce=ne*this.dim,qe=ne*this.dim+this.dim;switch(H){case-1:he=we-1;break;case 1:we=he+1;break}switch(ne){case-1:Ce=qe-1;break;case 1:qe=Ce+1;break}for(var vt=-H*this.dim,Tt=-ne*this.dim,Pt=Ce;Pt<qe;Pt++)for(var Gt=he;Gt<we;Gt++)this.data[this._idx(Gt,Pt)]=I.data[this._idx(Gt+vt,Pt+Tt)]},da("DEMData",Bf);function pA(D,I){var H={};if(!I)return H;for(var ne=function(){var Ce=we[he],qe=Ce.layerIds.map(function(Gt){return I.getLayer(Gt)}).filter(Boolean);if(qe.length!==0){Ce.layers=qe,Ce.stateDependentLayerIds&&(Ce.stateDependentLayers=Ce.stateDependentLayerIds.map(function(Gt){return qe.filter(function(er){return er.id===Gt})[0]}));for(var vt=0,Tt=qe;vt<Tt.length;vt+=1){var Pt=Tt[vt];H[Pt.id]=Ce}}},he=0,we=D;he<we.length;he+=1)ne();return H}var M0=function(I){this._stringToNumber={},this._numberToString=[];for(var H=0;H<I.length;H++){var ne=I[H];this._stringToNumber[ne]=H,this._numberToString[H]=ne}};M0.prototype.encode=function(I){return this._stringToNumber[I]},M0.prototype.decode=function(I){return this._numberToString[I]};var S0=function(I,H,ne,he,we){this.type="Feature",this._vectorTileFeature=I,I._z=H,I._x=ne,I._y=he,this.properties=I.properties,this.id=we},Rg={geometry:{configurable:!0}};Rg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Rg.geometry.set=function(D){this._geometry=D},S0.prototype.toJSON=function(){var I={geometry:this.geometry};for(var H in this)H==="_geometry"||H==="_vectorTileFeature"||(I[H]=this[H]);return I},Object.defineProperties(S0.prototype,Rg);var lv=function(){this.state={},this.stateChanges={},this.deletedStates={}};lv.prototype.updateState=function(I,H,ne){var he=String(H);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][he]=this.stateChanges[I][he]||{},A(this.stateChanges[I][he],ne),this.deletedStates[I]===null){this.deletedStates[I]={};for(var we in this.state[I])we!==he&&(this.deletedStates[I][we]=null)}else{var Ce=this.deletedStates[I]&&this.deletedStates[I][he]===null;if(Ce){this.deletedStates[I][he]={};for(var qe in this.state[I][he])ne[qe]||(this.deletedStates[I][he][qe]=null)}else for(var vt in ne){var Tt=this.deletedStates[I]&&this.deletedStates[I][he]&&this.deletedStates[I][he][vt]===null;Tt&&delete this.deletedStates[I][he][vt]}}},lv.prototype.removeFeatureState=function(I,H,ne){var he=this.deletedStates[I]===null;if(!he){var we=String(H);if(this.deletedStates[I]=this.deletedStates[I]||{},ne&&H!==void 0)this.deletedStates[I][we]!==null&&(this.deletedStates[I][we]=this.deletedStates[I][we]||{},this.deletedStates[I][we][ne]=null);else if(H!==void 0){var Ce=this.stateChanges[I]&&this.stateChanges[I][we];if(Ce){this.deletedStates[I][we]={};for(ne in this.stateChanges[I][we])this.deletedStates[I][we][ne]=null}else this.deletedStates[I][we]=null}else this.deletedStates[I]=null}},lv.prototype.getState=function(I,H){var ne=String(H),he=this.state[I]||{},we=this.stateChanges[I]||{},Ce=A({},he[ne],we[ne]);if(this.deletedStates[I]===null)return{};if(this.deletedStates[I]){var qe=this.deletedStates[I][H];if(qe===null)return{};for(var vt in qe)delete Ce[vt]}return Ce},lv.prototype.initializeTileState=function(I,H){I.setFeatureState(this.state,H)},lv.prototype.coalesceChanges=function(I,H){var ne={};for(var he in this.stateChanges){this.state[he]=this.state[he]||{};var we={};for(var Ce in this.stateChanges[he])this.state[he][Ce]||(this.state[he][Ce]={}),A(this.state[he][Ce],this.stateChanges[he][Ce]),we[Ce]=this.state[he][Ce];ne[he]=we}for(var qe in this.deletedStates){this.state[qe]=this.state[qe]||{};var vt={};if(this.deletedStates[qe]===null)for(var Tt in this.state[qe])vt[Tt]={},this.state[qe][Tt]={};else for(var Pt in this.deletedStates[qe]){var Gt=this.deletedStates[qe][Pt]===null;if(Gt)this.state[qe][Pt]={};else for(var er=0,Jt=Object.keys(this.deletedStates[qe][Pt]);er<Jt.length;er+=1){var xr=Jt[er];delete this.state[qe][Pt][xr]}vt[Pt]=this.state[qe][Pt]}ne[qe]=ne[qe]||{},A(ne[qe],vt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ne).length!==0)for(var kr in I){var un=I[kr];un.setFeatureState(ne,H)}};var Nf=function(I,H){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new Ca(Aa,16,0),this.grid3D=new Ca(Aa,16,0),this.featureIndexArray=new o0,this.promoteId=H};Nf.prototype.insert=function(I,H,ne,he,we,Ce){var qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ne,he,we);for(var vt=Ce?this.grid3D:this.grid,Tt=0;Tt<H.length;Tt++){for(var Pt=H[Tt],Gt=[1/0,1/0,-1/0,-1/0],er=0;er<Pt.length;er++){var Jt=Pt[er];Gt[0]=Math.min(Gt[0],Jt.x),Gt[1]=Math.min(Gt[1],Jt.y),Gt[2]=Math.max(Gt[2],Jt.x),Gt[3]=Math.max(Gt[3],Jt.y)}Gt[0]<Aa&&Gt[1]<Aa&&Gt[2]>=0&&Gt[3]>=0&&vt.insert(qe,Gt[0],Gt[1],Gt[2],Gt[3])}},Nf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Jh.VectorTile(new d0(this.rawTileData)).layers,this.sourceLayerCoder=new M0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Nf.prototype.query=function(I,H,ne,he){var we=this;this.loadVTLayers();for(var Ce=I.params||{},qe=Aa/I.tileSize/I.scale,vt=Wl(Ce.filter),Tt=I.queryGeometry,Pt=I.queryPadding*qe,Gt=sx(Tt),er=this.grid.query(Gt.minX-Pt,Gt.minY-Pt,Gt.maxX+Pt,Gt.maxY+Pt),Jt=sx(I.cameraQueryGeometry),xr=this.grid3D.query(Jt.minX-Pt,Jt.minY-Pt,Jt.maxX+Pt,Jt.maxY+Pt,function(Hn,Kn,Zn,xa){return Kl(I.cameraQueryGeometry,Hn-Pt,Kn-Pt,Zn+Pt,xa+Pt)}),kr=0,un=xr;kr<un.length;kr+=1){var en=un[kr];er.push(en)}er.sort(gA);for(var Sn={},pn,An=function(Hn){var Kn=er[Hn];if(Kn!==pn){pn=Kn;var Zn=we.featureIndexArray.get(Kn),xa=null;we.loadMatchingFeature(Sn,Zn.bucketIndex,Zn.sourceLayerIndex,Zn.featureIndex,vt,Ce.layers,Ce.availableImages,H,ne,he,function(fa,ya,Oa){return xa||(xa=$a(fa)),ya.queryIntersectsFeature(Tt,fa,Oa,xa,we.z,I.transform,qe,I.pixelPosMatrix)})}},In=0;In<er.length;In++)An(In);return Sn},Nf.prototype.loadMatchingFeature=function(I,H,ne,he,we,Ce,qe,vt,Tt,Pt,Gt){var er=this.bucketLayerIDs[H];if(!(Ce&&!F(Ce,er))){var Jt=this.sourceLayerCoder.decode(ne),xr=this.vtLayers[Jt],kr=xr.feature(he);if(we.needGeometry){var un=wi(kr,!0);if(!we.filter(new pa(this.tileID.overscaledZ),un,this.tileID.canonical))return}else if(!we.filter(new pa(this.tileID.overscaledZ),kr))return;for(var en=this.getId(kr,Jt),Sn=0;Sn<er.length;Sn++){var pn=er[Sn];if(!(Ce&&Ce.indexOf(pn)<0)){var An=vt[pn];if(An){var In={};en!==void 0&&Pt&&(In=Pt.getState(An.sourceLayer||"_geojsonTileLayer",en));var Hn=A({},Tt[pn]);Hn.paint=ox(Hn.paint,An.paint,kr,In,qe),Hn.layout=ox(Hn.layout,An.layout,kr,In,qe);var Kn=!Gt||Gt(kr,An,In);if(Kn){var Zn=new S0(kr,this.z,this.x,this.y,en);Zn.layer=Hn;var xa=I[pn];xa===void 0&&(xa=I[pn]=[]),xa.push({featureIndex:he,feature:Zn,intersectionZ:Kn})}}}}}},Nf.prototype.lookupSymbolFeatures=function(I,H,ne,he,we,Ce,qe,vt){var Tt={};this.loadVTLayers();for(var Pt=Wl(we),Gt=0,er=I;Gt<er.length;Gt+=1){var Jt=er[Gt];this.loadMatchingFeature(Tt,ne,he,Jt,Pt,Ce,qe,vt,H)}return Tt},Nf.prototype.hasLayer=function(I){for(var H=0,ne=this.bucketLayerIDs;H<ne.length;H+=1)for(var he=ne[H],we=0,Ce=he;we<Ce.length;we+=1){var qe=Ce[we];if(I===qe)return!0}return!1},Nf.prototype.getId=function(I,H){var ne=I.id;if(this.promoteId){var he=typeof this.promoteId=="string"?this.promoteId:this.promoteId[H];ne=I.properties[he],typeof ne=="boolean"&&(ne=Number(ne))}return ne},da("FeatureIndex",Nf,{omit:["rawTileData","sourceLayerCoder"]});function ox(D,I,H,ne,he){return k(D,function(we,Ce){var qe=I instanceof gi?I.get(Ce):null;return qe&&qe.evaluate?qe.evaluate(H,ne,he):qe})}function sx(D){for(var I=1/0,H=1/0,ne=-1/0,he=-1/0,we=0,Ce=D;we<Ce.length;we+=1){var qe=Ce[we];I=Math.min(I,qe.x),H=Math.min(H,qe.y),ne=Math.max(ne,qe.x),he=Math.max(he,qe.y)}return{minX:I,minY:H,maxX:ne,maxY:he}}function gA(D,I){return I-D}var yA=3e4,po=function(I,H){this.tileID=I,this.uid=m(),this.uses=0,this.tileSize=H,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};po.prototype.registerFadeDuration=function(I){var H=I+this.timeAdded;H<oe.now()||this.fadeEndTime&&H<this.fadeEndTime||(this.fadeEndTime=H)},po.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},po.prototype.loadVectorData=function(I,H,ne){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!I){this.collisionBoxArray=new Yv;return}I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=pA(I.buckets,H.style),this.hasSymbolBuckets=!1;for(var he in this.buckets){var we=this.buckets[he];if(we instanceof di)if(this.hasSymbolBuckets=!0,ne)we.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ce in this.buckets){var qe=this.buckets[Ce];if(qe instanceof di&&qe.hasRTLText){this.hasRTLText=!0,Ma();break}}this.queryPadding=0;for(var vt in this.buckets){var Tt=this.buckets[vt];this.queryPadding=Math.max(this.queryPadding,H.style.getLayer(vt).queryRadius(Tt))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)},po.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},po.prototype.getBucket=function(I){return this.buckets[I.id]},po.prototype.upload=function(I){for(var H in this.buckets){var ne=this.buckets[H];ne.uploadPending()&&ne.upload(I)}var he=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new bh(I,this.imageAtlas.image,he.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new bh(I,this.glyphAtlasImage,he.ALPHA),this.glyphAtlasImage=null)},po.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},po.prototype.queryRenderedFeatures=function(I,H,ne,he,we,Ce,qe,vt,Tt,Pt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:he,cameraQueryGeometry:we,scale:Ce,tileSize:this.tileSize,pixelPosMatrix:Pt,transform:vt,params:qe,queryPadding:this.queryPadding*Tt},I,H,ne)},po.prototype.querySourceFeatures=function(I,H){var ne=this.latestFeatureIndex;if(!(!ne||!ne.rawTileData)){var he=ne.loadVTLayers(),we=H?H.sourceLayer:"",Ce=he._geojsonTileLayer||he[we];if(Ce)for(var qe=Wl(H&&H.filter),vt=this.tileID.canonical,Tt=vt.z,Pt=vt.x,Gt=vt.y,er={z:Tt,x:Pt,y:Gt},Jt=0;Jt<Ce.length;Jt++){var xr=Ce.feature(Jt);if(qe.needGeometry){var kr=wi(xr,!0);if(!qe.filter(new pa(this.tileID.overscaledZ),kr,this.tileID.canonical))continue}else if(!qe.filter(new pa(this.tileID.overscaledZ),xr))continue;var un=ne.getId(xr,we),en=new S0(xr,Tt,Pt,Gt,un);en.tile=er,I.push(en)}}},po.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},po.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},po.prototype.setExpiryData=function(I){var H=this.expirationTime;if(I.cacheControl){var ne=ae(I.cacheControl);ne["max-age"]&&(this.expirationTime=Date.now()+ne["max-age"]*1e3)}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var he=Date.now(),we=!1;if(this.expirationTime>he)we=!1;else if(!H)we=!0;else if(this.expirationTime<H)we=!0;else{var Ce=this.expirationTime-H;Ce?this.expirationTime=he+Math.max(Ce,yA):we=!0}we?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},po.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},po.prototype.setFeatureState=function(I,H){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(I).length===0)){var ne=this.latestFeatureIndex.loadVTLayers();for(var he in this.buckets)if(H.style.hasLayer(he)){var we=this.buckets[he],Ce=we.layers[0].sourceLayer||"_geojsonTileLayer",qe=ne[Ce],vt=I[Ce];if(!(!qe||!vt||Object.keys(vt).length===0)){we.update(vt,qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Tt=H&&H.style&&H.style.getLayer(he);Tt&&(this.queryPadding=Math.max(this.queryPadding,Tt.queryRadius(we)))}}}},po.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},po.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<oe.now()},po.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},po.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=oe.now()+I},po.prototype.setDependencies=function(I,H){for(var ne={},he=0,we=H;he<we.length;he+=1){var Ce=we[he];ne[Ce]=!0}this.dependencies[I]=ne},po.prototype.hasDependency=function(I,H){for(var ne=0,he=I;ne<he.length;ne+=1){var we=he[ne],Ce=this.dependencies[we];if(Ce)for(var qe=0,vt=H;qe<vt.length;qe+=1){var Tt=vt[qe];if(Ce[Tt])return!0}}return!1};var mA=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Sc=s.performance,lx=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},Sc.mark(this._marks.start)};lx.prototype.finish=function(){Sc.mark(this._marks.end);var I=Sc.getEntriesByName(this._marks.measure);return I.length===0&&(Sc.measure(this._marks.measure,this._marks.start,this._marks.end),I=Sc.getEntriesByName(this._marks.measure),Sc.clearMarks(this._marks.start),Sc.clearMarks(this._marks.end),Sc.clearMeasures(this._marks.measure)),I},i.Actor=sv,i.AlphaImage=xh,i.CanonicalTileID=Th,i.CollisionBoxArray=Yv,i.Color=ai,i.DEMData=Bf,i.DataConstantProperty=qn,i.DictionaryCoder=M0,i.EXTENT=Aa,i.ErrorEvent=Ot,i.EvaluationParameters=pa,i.Event=qt,i.Evented=tr,i.FeatureIndex=Nf,i.FillBucket=Pu,i.FillExtrusionBucket=Ru,i.ImageAtlas=nd,i.ImagePosition=g0,i.LineBucket=Qo,i.LngLat=Ii,i.LngLatBounds=to,i.MercatorCoordinate=wh,i.ONE_EM=To,i.OverscaledTileID=ro,i.Point=r,i.Point$1=r,i.Properties=ci,i.Protobuf=d0,i.RGBAImage=ys,i.RequestManager=Ve,i.RequestPerformance=lx,i.ResourceType=gr,i.SegmentVector=qi,i.SourceFeatureState=lv,i.StructArrayLayout1ui2=yc,i.StructArrayLayout2f1f2i16=Eu,i.StructArrayLayout2i4=Zo,i.StructArrayLayout3ui6=Cu,i.StructArrayLayout4i8=Qs,i.SymbolBucket=di,i.Texture=bh,i.Tile=po,i.Transitionable=Va,i.Uniform1f=Wr,i.Uniform1i=Rr,i.Uniform2f=Hr,i.Uniform3f=Or,i.Uniform4f=jr,i.UniformColor=cn,i.UniformMatrix4f=_n,i.UnwrappedTileID=ix,i.ValidationError=Fr,i.WritingMode=el,i.ZoomHistory=_e,i.add=Zh,i.addDynamicAttributes=Eg,i.asyncAll=d,i.bezier=f,i.bindAll=E,i.browser=oe,i.cacheEntryPossiblyAdded=Et,i.clamp=h,i.clearTileCache=vr,i.clipLine=H1,i.clone=Wh,i.clone$1=B,i.clone$2=og,i.collisionCircleLayout=$4,i.config=te,i.create=Gh,i.create$1=ko,i.create$2=Hh,i.createCommonjsModule=L,i.createExpression=mu,i.createLayout=oi,i.createStyleLayer=uA,i.cross=Tw,i.deepEqual=n,i.dot=ww,i.dot$1=Cw,i.ease=g,i.emitValidationErrors=La,i.endsWith=p,i.enforceCacheSizeLimit=Wt,i.evaluateSizeForFeature=_1,i.evaluateSizeForZoom=z1,i.evaluateVariableOffset=Y1,i.evented=$n,i.extend=A,i.featureFilter=Wl,i.filterObject=R,i.fromRotation=bc,i.getAnchorAlignment=Tg,i.getAnchorJustification=Sg,i.getArrayBuffer=Ct,i.getImage=kt,i.getJSON=Vt,i.getRTLTextPluginStatus=ia,i.getReferrer=gt,i.getVideo=Zt,i.identity=Yh,i.invert=wc,i.isChar=je,i.isMapboxURL=Ze,i.keysDifference=v,i.makeRequest=Rt,i.mapObject=k,i.mercatorXfromLng=rx,i.mercatorYfromLat=nx,i.mercatorZfromAltitude=ax,i.mul=ig,i.multiply=Tc,i.mvt=Jh,i.nextPowerOfTwo=T,i.normalize=jv,i.number=_i,i.offscreenCanvasSupported=jt,i.ortho=ag,i.parseGlyphPBF=ST,i.pbf=d0,i.performSymbolLayout=GT,i.perspective=Zv,i.pick=b,i.plugin=Pa,i.polygonIntersectsPolygon=Na,i.postMapLoadEvent=Xe,i.postTurnstileEvent=Ge,i.potpack=C1,i.refProperties=mA,i.register=da,i.registerForPluginStateChange=na,i.renderColorRamp=i1,i.rotate=yh,i.rotateX=gs,i.rotateZ=Xh,i.scale=ps,i.scale$1=Ew,i.scale$2=lg,i.setCacheLimits=dt,i.setRTLTextPlugin=wa,i.sphericalToCartesian=Y,i.sqrLen=Rw,i.styleSpec=Tr,i.sub=Mw,i.symbolSize=FT,i.transformMat3=Aw,i.transformMat4=l0,i.translate=Yi,i.triggerPluginCompletionEvent=Zr,i.uniqueId=m,i.validateCustomStyleLayer=oA,i.validateLight=Dn,i.validateStyle=mn,i.values=o,i.vectorTile=Jh,i.version=C,i.warnOnce=O,i.webpSupported=fe,i.window=s,i.wrap=w}),P(["./shared"],function(i){"use strict";function L(gt){var st=typeof gt;if(st==="number"||st==="boolean"||st==="string"||gt===void 0||gt===null)return JSON.stringify(gt);if(Array.isArray(gt)){for(var xt="[",Mt=0,Rt=gt;Mt<Rt.length;Mt+=1){var Vt=Rt[Mt];xt+=L(Vt)+","}return xt+"]"}for(var Ct=Object.keys(gt).sort(),Bt="{",Xt=0;Xt<Ct.length;Xt++)Bt+=JSON.stringify(Ct[Xt])+":"+L(gt[Ct[Xt]])+",";return Bt+"}"}function C(gt){for(var st="",xt=0,Mt=i.refProperties;xt<Mt.length;xt+=1){var Rt=Mt[xt];st+="/"+L(gt[Rt])}return st}function c(gt,st){for(var xt={},Mt=0;Mt<gt.length;Mt++){var Rt=st&&st[gt[Mt].id]||C(gt[Mt]);st&&(st[gt[Mt].id]=Rt);var Vt=xt[Rt];Vt||(Vt=xt[Rt]=[]),Vt.push(gt[Mt])}var Ct=[];for(var Bt in xt)Ct.push(xt[Bt]);return Ct}var y=function(st){this.keyCache={},st&&this.replace(st)};y.prototype.replace=function(st){this._layerConfigs={},this._layers={},this.update(st,[])},y.prototype.update=function(st,xt){for(var Mt=this,Rt=0,Vt=st;Rt<Vt.length;Rt+=1){var Ct=Vt[Rt];this._layerConfigs[Ct.id]=Ct;var Bt=this._layers[Ct.id]=i.createStyleLayer(Ct);Bt._featureFilter=i.featureFilter(Bt.filter),this.keyCache[Ct.id]&&delete this.keyCache[Ct.id]}for(var Xt=0,ir=xt;Xt<ir.length;Xt+=1){var or=ir[Xt];delete this.keyCache[or],delete this._layerConfigs[or],delete this._layers[or]}this.familiesBySource={};for(var cr=c(i.values(this._layerConfigs),this.keyCache),We=0,Ue=cr;We<Ue.length;We+=1){var Ft=Ue[We],kt=Ft.map(function(tr){return Mt._layers[tr.id]}),Zt=kt[0];if(Zt.visibility!=="none"){var rr=Zt.source||"",lr=this.familiesBySource[rr];lr||(lr=this.familiesBySource[rr]={});var qt=Zt.sourceLayer||"_geojsonTileLayer",Ot=lr[qt];Ot||(Ot=lr[qt]=[]),Ot.push(kt)}}};var r=1,t=function(st){var xt={},Mt=[];for(var Rt in st){var Vt=st[Rt],Ct=xt[Rt]={};for(var Bt in Vt){var Xt=Vt[+Bt];if(!(!Xt||Xt.bitmap.width===0||Xt.bitmap.height===0)){var ir={x:0,y:0,w:Xt.bitmap.width+2*r,h:Xt.bitmap.height+2*r};Mt.push(ir),Ct[Bt]={rect:ir,metrics:Xt.metrics}}}}var or=i.potpack(Mt),cr=or.w,We=or.h,Ue=new i.AlphaImage({width:cr||1,height:We||1});for(var Ft in st){var kt=st[Ft];for(var Zt in kt){var rr=kt[+Zt];if(!(!rr||rr.bitmap.width===0||rr.bitmap.height===0)){var lr=xt[Ft][Zt].rect;i.AlphaImage.copy(rr.bitmap,Ue,{x:0,y:0},{x:lr.x+r,y:lr.y+r},rr.bitmap)}}}this.image=Ue,this.positions=xt};i.register("GlyphAtlas",t);var s=function(st){this.tileID=new i.OverscaledTileID(st.tileID.overscaledZ,st.tileID.wrap,st.tileID.canonical.z,st.tileID.canonical.x,st.tileID.canonical.y),this.uid=st.uid,this.zoom=st.zoom,this.pixelRatio=st.pixelRatio,this.tileSize=st.tileSize,this.source=st.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=st.showCollisionBoxes,this.collectResourceTiming=!!st.collectResourceTiming,this.returnDependencies=!!st.returnDependencies,this.promoteId=st.promoteId};s.prototype.parse=function(st,xt,Mt,Rt,Vt){var Ct=this;this.status="parsing",this.data=st,this.collisionBoxArray=new i.CollisionBoxArray;var Bt=new i.DictionaryCoder(Object.keys(st.layers).sort()),Xt=new i.FeatureIndex(this.tileID,this.promoteId);Xt.bucketLayerIDs=[];var ir={},or={featureIndex:Xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Mt},cr=xt.familiesBySource[this.source];for(var We in cr){var Ue=st.layers[We];if(Ue){Ue.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+We+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ft=Bt.encode(We),kt=[],Zt=0;Zt<Ue.length;Zt++){var rr=Ue.feature(Zt),lr=Xt.getId(rr,We);kt.push({feature:rr,id:lr,index:Zt,sourceLayerIndex:Ft})}for(var qt=0,Ot=cr[We];qt<Ot.length;qt+=1){var tr=Ot[qt],dr=tr[0];if(!(dr.minzoom&&this.zoom<Math.floor(dr.minzoom))&&!(dr.maxzoom&&this.zoom>=dr.maxzoom)&&dr.visibility!=="none"){n(tr,this.zoom,Mt);var mr=ir[dr.id]=dr.createBucket({index:Xt.bucketLayerIDs.length,layers:tr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ft,sourceID:this.source});mr.populate(kt,or,this.tileID.canonical),Xt.bucketLayerIDs.push(tr.map(function(fr){return fr.id}))}}}}var Cr,$r,yr,Gr,rn=i.mapObject(or.glyphDependencies,function(fr){return Object.keys(fr).map(Number)});Object.keys(rn).length?Rt.send("getGlyphs",{uid:this.uid,stacks:rn},function(fr,Dr){Cr||(Cr=fr,$r=Dr,xn.call(Ct))}):$r={};var _r=Object.keys(or.iconDependencies);_r.length?Rt.send("getImages",{icons:_r,source:this.source,tileID:this.tileID,type:"icons"},function(fr,Dr){Cr||(Cr=fr,yr=Dr,xn.call(Ct))}):yr={};var bn=Object.keys(or.patternDependencies);bn.length?Rt.send("getImages",{icons:bn,source:this.source,tileID:this.tileID,type:"patterns"},function(fr,Dr){Cr||(Cr=fr,Gr=Dr,xn.call(Ct))}):Gr={},xn.call(this);function xn(){if(Cr)return Vt(Cr);if($r&&yr&&Gr){var fr=new t($r),Dr=new i.ImageAtlas(yr,Gr);for(var Nr in ir){var Ur=ir[Nr];Ur instanceof i.SymbolBucket?(n(Ur.layers,this.zoom,Mt),i.performSymbolLayout(Ur,$r,fr.positions,yr,Dr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ur.hasPattern&&(Ur instanceof i.LineBucket||Ur instanceof i.FillBucket||Ur instanceof i.FillExtrusionBucket)&&(n(Ur.layers,this.zoom,Mt),Ur.addFeatures(or,this.tileID.canonical,Dr.patternPositions))}this.status="done",Vt(null,{buckets:i.values(ir).filter(function(on){return!on.isEmpty()}),featureIndex:Xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:fr.image,imageAtlas:Dr,glyphMap:this.returnDependencies?$r:null,iconMap:this.returnDependencies?yr:null,glyphPositions:this.returnDependencies?fr.positions:null})}}};function n(gt,st,xt){for(var Mt=new i.EvaluationParameters(st),Rt=0,Vt=gt;Rt<Vt.length;Rt+=1){var Ct=Vt[Rt];Ct.recalculate(Mt,xt)}}function u(gt,st){var xt=i.getArrayBuffer(gt.request,function(Mt,Rt,Vt,Ct){Mt?st(Mt):Rt&&st(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Rt)),rawData:Rt,cacheControl:Vt,expires:Ct})});return function(){xt.cancel(),st()}}var l=function(st,xt,Mt,Rt){this.actor=st,this.layerIndex=xt,this.availableImages=Mt,this.loadVectorData=Rt||u,this.loading={},this.loaded={}};l.prototype.loadTile=function(st,xt){var Mt=this,Rt=st.uid;this.loading||(this.loading={});var Vt=st&&st.request&&st.request.collectResourceTiming?new i.RequestPerformance(st.request):!1,Ct=this.loading[Rt]=new s(st);Ct.abort=this.loadVectorData(st,function(Bt,Xt){if(delete Mt.loading[Rt],Bt||!Xt)return Ct.status="done",Mt.loaded[Rt]=Ct,xt(Bt);var ir=Xt.rawData,or={};Xt.expires&&(or.expires=Xt.expires),Xt.cacheControl&&(or.cacheControl=Xt.cacheControl);var cr={};if(Vt){var We=Vt.finish();We&&(cr.resourceTiming=JSON.parse(JSON.stringify(We)))}Ct.vectorTile=Xt.vectorTile,Ct.parse(Xt.vectorTile,Mt.layerIndex,Mt.availableImages,Mt.actor,function(Ue,Ft){if(Ue||!Ft)return xt(Ue);xt(null,i.extend({rawTileData:ir.slice(0)},Ft,or,cr))}),Mt.loaded=Mt.loaded||{},Mt.loaded[Rt]=Ct})},l.prototype.reloadTile=function(st,xt){var Mt=this,Rt=this.loaded,Vt=st.uid,Ct=this;if(Rt&&Rt[Vt]){var Bt=Rt[Vt];Bt.showCollisionBoxes=st.showCollisionBoxes;var Xt=function(ir,or){var cr=Bt.reloadCallback;cr&&(delete Bt.reloadCallback,Bt.parse(Bt.vectorTile,Ct.layerIndex,Mt.availableImages,Ct.actor,cr)),xt(ir,or)};Bt.status==="parsing"?Bt.reloadCallback=Xt:Bt.status==="done"&&(Bt.vectorTile?Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,Xt):Xt())}},l.prototype.abortTile=function(st,xt){var Mt=this.loading,Rt=st.uid;Mt&&Mt[Rt]&&Mt[Rt].abort&&(Mt[Rt].abort(),delete Mt[Rt]),xt()},l.prototype.removeTile=function(st,xt){var Mt=this.loaded,Rt=st.uid;Mt&&Mt[Rt]&&delete Mt[Rt],xt()};var f=i.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(st,xt){var Mt=st.uid,Rt=st.encoding,Vt=st.rawImageData,Ct=f&&Vt instanceof f?this.getImageData(Vt):Vt,Bt=new i.DEMData(Mt,Ct,Rt);this.loaded=this.loaded||{},this.loaded[Mt]=Bt,xt(null,Bt)},g.prototype.getImageData=function(st){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(st.width,st.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=st.width,this.offscreenCanvas.height=st.height,this.offscreenCanvasContext.drawImage(st,0,0,st.width,st.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,st.width+2,st.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:xt.width,height:xt.height},xt.data)},g.prototype.removeTile=function(st){var xt=this.loaded,Mt=st.uid;xt&&xt[Mt]&&delete xt[Mt]};var h=w;function w(gt,st){var xt=gt&&gt.type,Mt;if(xt==="FeatureCollection")for(Mt=0;Mt<gt.features.length;Mt++)w(gt.features[Mt],st);else if(xt==="GeometryCollection")for(Mt=0;Mt<gt.geometries.length;Mt++)w(gt.geometries[Mt],st);else if(xt==="Feature")w(gt.geometry,st);else if(xt==="Polygon")d(gt.coordinates,st);else if(xt==="MultiPolygon")for(Mt=0;Mt<gt.coordinates.length;Mt++)d(gt.coordinates[Mt],st);return gt}function d(gt,st){if(gt.length!==0){o(gt[0],st);for(var xt=1;xt<gt.length;xt++)o(gt[xt],!st)}}function o(gt,st){for(var xt=0,Mt=0,Rt=gt.length,Vt=Rt-1;Mt<Rt;Vt=Mt++)xt+=(gt[Mt][0]-gt[Vt][0])*(gt[Vt][1]+gt[Mt][1]);xt>=0!=!!st&&gt.reverse()}var v=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,A=function(st){this._feature=st,this.extent=i.EXTENT,this.type=st.type,this.properties=st.tags,"id"in st&&!isNaN(st.id)&&(this.id=parseInt(st.id,10))};A.prototype.loadGeometry=function(){if(this._feature.type===1){for(var st=[],xt=0,Mt=this._feature.geometry;xt<Mt.length;xt+=1){var Rt=Mt[xt];st.push([new i.Point$1(Rt[0],Rt[1])])}return st}else{for(var Vt=[],Ct=0,Bt=this._feature.geometry;Ct<Bt.length;Ct+=1){for(var Xt=Bt[Ct],ir=[],or=0,cr=Xt;or<cr.length;or+=1){var We=cr[or];ir.push(new i.Point$1(We[0],We[1]))}Vt.push(ir)}return Vt}},A.prototype.toGeoJSON=function(st,xt,Mt){return v.call(this,st,xt,Mt)};var b=function(st){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=st.length,this._features=st};b.prototype.feature=function(st){return new A(this._features[st])};var M=i.vectorTile.VectorTileFeature,m=S;function S(gt,st){this.options=st||{},this.features=gt,this.length=gt.length}S.prototype.feature=function(gt){return new T(this.features[gt],this.options.extent)};function T(gt,st){this.id=typeof gt.id=="number"?gt.id:void 0,this.type=gt.type,this.rawGeometry=gt.type===1?[gt.geometry]:gt.geometry,this.properties=gt.tags,this.extent=st||4096}T.prototype.loadGeometry=function(){var gt=this.rawGeometry;this.geometry=[];for(var st=0;st<gt.length;st++){for(var xt=gt[st],Mt=[],Rt=0;Rt<xt.length;Rt++)Mt.push(new i.Point$1(xt[Rt][0],xt[Rt][1]));this.geometry.push(Mt)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var gt=this.geometry,st=1/0,xt=-1/0,Mt=1/0,Rt=-1/0,Vt=0;Vt<gt.length;Vt++)for(var Ct=gt[Vt],Bt=0;Bt<Ct.length;Bt++){var Xt=Ct[Bt];st=Math.min(st,Xt.x),xt=Math.max(xt,Xt.x),Mt=Math.min(Mt,Xt.y),Rt=Math.max(Rt,Xt.y)}return[st,Mt,xt,Rt]},T.prototype.toGeoJSON=M.prototype.toGeoJSON;var a=R,E=R,p=B,k=m;function R(gt){var st=new i.pbf;return F(gt,st),st.finish()}function B(gt,st){st=st||{};var xt={};for(var Mt in gt)xt[Mt]=new m(gt[Mt].features,st),xt[Mt].name=Mt,xt[Mt].version=st.version,xt[Mt].extent=st.extent;return R({layers:xt})}function F(gt,st){for(var xt in gt.layers)st.writeMessage(3,_,gt.layers[xt])}function _(gt,st){st.writeVarintField(15,gt.version||1),st.writeStringField(1,gt.name||""),st.writeVarintField(5,gt.extent||4096);var xt,Mt={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<gt.length;xt++)Mt.feature=gt.feature(xt),st.writeMessage(2,O,Mt);var Rt=Mt.keys;for(xt=0;xt<Rt.length;xt++)st.writeStringField(3,Rt[xt]);var Vt=Mt.values;for(xt=0;xt<Vt.length;xt++)st.writeMessage(4,ae,Vt[xt])}function O(gt,st){var xt=gt.feature;xt.id!==void 0&&st.writeVarintField(1,xt.id),st.writeMessage(2,z,gt),st.writeVarintField(3,xt.type),st.writeMessage(4,J,xt)}function z(gt,st){var xt=gt.feature,Mt=gt.keys,Rt=gt.values,Vt=gt.keycache,Ct=gt.valuecache;for(var Bt in xt.properties){var Xt=Vt[Bt];typeof Xt=="undefined"&&(Mt.push(Bt),Xt=Mt.length-1,Vt[Bt]=Xt),st.writeVarint(Xt);var ir=xt.properties[Bt],or=typeof ir;or!=="string"&&or!=="boolean"&&or!=="number"&&(ir=JSON.stringify(ir));var cr=or+":"+ir,We=Ct[cr];typeof We=="undefined"&&(Rt.push(ir),We=Rt.length-1,Ct[cr]=We),st.writeVarint(We)}}function N(gt,st){return(st<<3)+(gt&7)}function Y(gt){return gt<<1^gt>>31}function J(gt,st){for(var xt=gt.loadGeometry(),Mt=gt.type,Rt=0,Vt=0,Ct=xt.length,Bt=0;Bt<Ct;Bt++){var Xt=xt[Bt],ir=1;Mt===1&&(ir=Xt.length),st.writeVarint(N(1,ir));for(var or=Mt===3?Xt.length-1:Xt.length,cr=0;cr<or;cr++){cr===1&&Mt!==1&&st.writeVarint(N(2,or-1));var We=Xt[cr].x-Rt,Ue=Xt[cr].y-Vt;st.writeVarint(Y(We)),st.writeVarint(Y(Ue)),Rt+=We,Vt+=Ue}Mt===3&&st.writeVarint(N(7,1))}}function ae(gt,st){var xt=typeof gt;xt==="string"?st.writeStringField(1,gt):xt==="boolean"?st.writeBooleanField(7,gt):xt==="number"&&(gt%1!==0?st.writeDoubleField(3,gt):gt<0?st.writeSVarintField(6,gt):st.writeVarintField(5,gt))}a.fromVectorTileJs=E,a.fromGeojsonVt=p,a.GeoJSONWrapper=k;function se(gt,st,xt,Mt,Rt,Vt){if(!(Rt-Mt<=xt)){var Ct=Mt+Rt>>1;ue(gt,st,Ct,Mt,Rt,Vt%2),se(gt,st,xt,Mt,Ct-1,Vt+1),se(gt,st,xt,Ct+1,Rt,Vt+1)}}function ue(gt,st,xt,Mt,Rt,Vt){for(;Rt>Mt;){if(Rt-Mt>600){var Ct=Rt-Mt+1,Bt=xt-Mt+1,Xt=Math.log(Ct),ir=.5*Math.exp(2*Xt/3),or=.5*Math.sqrt(Xt*ir*(Ct-ir)/Ct)*(Bt-Ct/2<0?-1:1),cr=Math.max(Mt,Math.floor(xt-Bt*ir/Ct+or)),We=Math.min(Rt,Math.floor(xt+(Ct-Bt)*ir/Ct+or));ue(gt,st,xt,cr,We,Vt)}var Ue=st[2*xt+Vt],Ft=Mt,kt=Rt;for(K(gt,st,Mt,xt),st[2*Rt+Vt]>Ue&&K(gt,st,Mt,Rt);Ft<kt;){for(K(gt,st,Ft,kt),Ft++,kt--;st[2*Ft+Vt]<Ue;)Ft++;for(;st[2*kt+Vt]>Ue;)kt--}st[2*Mt+Vt]===Ue?K(gt,st,Mt,kt):(kt++,K(gt,st,kt,Rt)),kt<=xt&&(Mt=kt+1),xt<=kt&&(Rt=kt-1)}}function K(gt,st,xt,Mt){j(gt,xt,Mt),j(st,2*xt,2*Mt),j(st,2*xt+1,2*Mt+1)}function j(gt,st,xt){var Mt=gt[st];gt[st]=gt[xt],gt[xt]=Mt}function ie(gt,st,xt,Mt,Rt,Vt,Ct){for(var Bt=[0,gt.length-1,0],Xt=[],ir,or;Bt.length;){var cr=Bt.pop(),We=Bt.pop(),Ue=Bt.pop();if(We-Ue<=Ct){for(var Ft=Ue;Ft<=We;Ft++)ir=st[2*Ft],or=st[2*Ft+1],ir>=xt&&ir<=Rt&&or>=Mt&&or<=Vt&&Xt.push(gt[Ft]);continue}var kt=Math.floor((Ue+We)/2);ir=st[2*kt],or=st[2*kt+1],ir>=xt&&ir<=Rt&&or>=Mt&&or<=Vt&&Xt.push(gt[kt]);var Zt=(cr+1)%2;(cr===0?xt<=ir:Mt<=or)&&(Bt.push(Ue),Bt.push(kt-1),Bt.push(Zt)),(cr===0?Rt>=ir:Vt>=or)&&(Bt.push(kt+1),Bt.push(We),Bt.push(Zt))}return Xt}function W(gt,st,xt,Mt,Rt,Vt){for(var Ct=[0,gt.length-1,0],Bt=[],Xt=Rt*Rt;Ct.length;){var ir=Ct.pop(),or=Ct.pop(),cr=Ct.pop();if(or-cr<=Vt){for(var We=cr;We<=or;We++)Q(st[2*We],st[2*We+1],xt,Mt)<=Xt&&Bt.push(gt[We]);continue}var Ue=Math.floor((cr+or)/2),Ft=st[2*Ue],kt=st[2*Ue+1];Q(Ft,kt,xt,Mt)<=Xt&&Bt.push(gt[Ue]);var Zt=(ir+1)%2;(ir===0?xt-Rt<=Ft:Mt-Rt<=kt)&&(Ct.push(cr),Ct.push(Ue-1),Ct.push(Zt)),(ir===0?xt+Rt>=Ft:Mt+Rt>=kt)&&(Ct.push(Ue+1),Ct.push(or),Ct.push(Zt))}return Bt}function Q(gt,st,xt,Mt){var Rt=gt-xt,Vt=st-Mt;return Rt*Rt+Vt*Vt}var ee=function(gt){return gt[0]},$=function(gt){return gt[1]},X=function(st,xt,Mt,Rt,Vt){xt===void 0&&(xt=ee),Mt===void 0&&(Mt=$),Rt===void 0&&(Rt=64),Vt===void 0&&(Vt=Float64Array),this.nodeSize=Rt,this.points=st;for(var Ct=st.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Ct(st.length),Xt=this.coords=new Vt(st.length*2),ir=0;ir<st.length;ir++)Bt[ir]=ir,Xt[2*ir]=xt(st[ir]),Xt[2*ir+1]=Mt(st[ir]);se(Bt,Xt,Rt,0,Bt.length-1,0)};X.prototype.range=function(st,xt,Mt,Rt){return ie(this.ids,this.coords,st,xt,Mt,Rt,this.nodeSize)},X.prototype.within=function(st,xt,Mt){return W(this.ids,this.coords,st,xt,Mt,this.nodeSize)};var oe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(gt){return gt}},te=function(st){this.options=De(Object.create(oe),st),this.trees=new Array(this.options.maxZoom+1)};te.prototype.load=function(st){var xt=this.options,Mt=xt.log,Rt=xt.minZoom,Vt=xt.maxZoom,Ct=xt.nodeSize;Mt&&console.time("total time");var Bt="prepare "+st.length+" points";Mt&&console.time(Bt),this.points=st;for(var Xt=[],ir=0;ir<st.length;ir++)st[ir].geometry&&Xt.push(pe(st[ir],ir));this.trees[Vt+1]=new X(Xt,Ve,Ze,Ct,Float32Array),Mt&&console.timeEnd(Bt);for(var or=Vt;or>=Rt;or--){var cr=+Date.now();Xt=this._cluster(Xt,or),this.trees[or]=new X(Xt,Ve,Ze,Ct,Float32Array),Mt&&console.log("z%d: %d clusters in %dms",or,Xt.length,+Date.now()-cr)}return Mt&&console.timeEnd("total time"),this},te.prototype.getClusters=function(st,xt){var Mt=((st[0]+180)%360+360)%360-180,Rt=Math.max(-90,Math.min(90,st[1])),Vt=st[2]===180?180:((st[2]+180)%360+360)%360-180,Ct=Math.max(-90,Math.min(90,st[3]));if(st[2]-st[0]>=360)Mt=-180,Vt=180;else if(Mt>Vt){var Bt=this.getClusters([Mt,Rt,180,Ct],xt),Xt=this.getClusters([-180,Rt,Vt,Ct],xt);return Bt.concat(Xt)}for(var ir=this.trees[this._limitZoom(xt)],or=ir.range(Pe(Mt),me(Ct),Pe(Vt),me(Rt)),cr=[],We=0,Ue=or;We<Ue.length;We+=1){var Ft=Ue[We],kt=ir.points[Ft];cr.push(kt.numPoints?Ae(kt):this.points[kt.index])}return cr},te.prototype.getChildren=function(st){var xt=this._getOriginId(st),Mt=this._getOriginZoom(st),Rt="No cluster with the specified id.",Vt=this.trees[Mt];if(!Vt)throw new Error(Rt);var Ct=Vt.points[xt];if(!Ct)throw new Error(Rt);for(var Bt=this.options.radius/(this.options.extent*Math.pow(2,Mt-1)),Xt=Vt.within(Ct.x,Ct.y,Bt),ir=[],or=0,cr=Xt;or<cr.length;or+=1){var We=cr[or],Ue=Vt.points[We];Ue.parentId===st&&ir.push(Ue.numPoints?Ae(Ue):this.points[Ue.index])}if(ir.length===0)throw new Error(Rt);return ir},te.prototype.getLeaves=function(st,xt,Mt){xt=xt||10,Mt=Mt||0;var Rt=[];return this._appendLeaves(Rt,st,xt,Mt,0),Rt},te.prototype.getTile=function(st,xt,Mt){var Rt=this.trees[this._limitZoom(st)],Vt=Math.pow(2,st),Ct=this.options,Bt=Ct.extent,Xt=Ct.radius,ir=Xt/Bt,or=(Mt-ir)/Vt,cr=(Mt+1+ir)/Vt,We={features:[]};return this._addTileFeatures(Rt.range((xt-ir)/Vt,or,(xt+1+ir)/Vt,cr),Rt.points,xt,Mt,Vt,We),xt===0&&this._addTileFeatures(Rt.range(1-ir/Vt,or,1,cr),Rt.points,Vt,Mt,Vt,We),xt===Vt-1&&this._addTileFeatures(Rt.range(0,or,ir/Vt,cr),Rt.points,-1,Mt,Vt,We),We.features.length?We:null},te.prototype.getClusterExpansionZoom=function(st){for(var xt=this._getOriginZoom(st)-1;xt<=this.options.maxZoom;){var Mt=this.getChildren(st);if(xt++,Mt.length!==1)break;st=Mt[0].properties.cluster_id}return xt},te.prototype._appendLeaves=function(st,xt,Mt,Rt,Vt){for(var Ct=this.getChildren(xt),Bt=0,Xt=Ct;Bt<Xt.length;Bt+=1){var ir=Xt[Bt],or=ir.properties;if(or&&or.cluster?Vt+or.point_count<=Rt?Vt+=or.point_count:Vt=this._appendLeaves(st,or.cluster_id,Mt,Rt,Vt):Vt<Rt?Vt++:st.push(ir),st.length===Mt)break}return Vt},te.prototype._addTileFeatures=function(st,xt,Mt,Rt,Vt,Ct){for(var Bt=0,Xt=st;Bt<Xt.length;Bt+=1){var ir=Xt[Bt],or=xt[ir],cr=or.numPoints,We={type:1,geometry:[[Math.round(this.options.extent*(or.x*Vt-Mt)),Math.round(this.options.extent*(or.y*Vt-Rt))]],tags:cr?be(or):this.points[or.index].properties},Ue=void 0;cr?Ue=or.id:this.options.generateId?Ue=or.index:this.points[or.index].id&&(Ue=this.points[or.index].id),Ue!==void 0&&(We.id=Ue),Ct.features.push(We)}},te.prototype._limitZoom=function(st){return Math.max(this.options.minZoom,Math.min(+st,this.options.maxZoom+1))},te.prototype._cluster=function(st,xt){for(var Mt=[],Rt=this.options,Vt=Rt.radius,Ct=Rt.extent,Bt=Rt.reduce,Xt=Rt.minPoints,ir=Vt/(Ct*Math.pow(2,xt)),or=0;or<st.length;or++){var cr=st[or];if(!(cr.zoom<=xt)){cr.zoom=xt;for(var We=this.trees[xt+1],Ue=We.within(cr.x,cr.y,ir),Ft=cr.numPoints||1,kt=Ft,Zt=0,rr=Ue;Zt<rr.length;Zt+=1){var lr=rr[Zt],qt=We.points[lr];qt.zoom>xt&&(kt+=qt.numPoints||1)}if(kt>=Xt){for(var Ot=cr.x*Ft,tr=cr.y*Ft,dr=Bt&&Ft>1?this._map(cr,!0):null,mr=(or<<5)+(xt+1)+this.points.length,Cr=0,$r=Ue;Cr<$r.length;Cr+=1){var yr=$r[Cr],Gr=We.points[yr];if(!(Gr.zoom<=xt)){Gr.zoom=xt;var rn=Gr.numPoints||1;Ot+=Gr.x*rn,tr+=Gr.y*rn,Gr.parentId=mr,Bt&&(dr||(dr=this._map(cr,!0)),Bt(dr,this._map(Gr)))}}cr.parentId=mr,Mt.push(fe(Ot/kt,tr/kt,mr,kt,dr))}else if(Mt.push(cr),kt>1)for(var _r=0,bn=Ue;_r<bn.length;_r+=1){var xn=bn[_r],fr=We.points[xn];fr.zoom<=xt||(fr.zoom=xt,Mt.push(fr))}}}return Mt},te.prototype._getOriginId=function(st){return st-this.points.length>>5},te.prototype._getOriginZoom=function(st){return(st-this.points.length)%32},te.prototype._map=function(st,xt){if(st.numPoints)return xt?De({},st.properties):st.properties;var Mt=this.points[st.index].properties,Rt=this.options.map(Mt);return xt&&Rt===Mt?De({},Rt):Rt};function fe(gt,st,xt,Mt,Rt){return{x:gt,y:st,zoom:1/0,id:xt,parentId:-1,numPoints:Mt,properties:Rt}}function pe(gt,st){var xt=gt.geometry.coordinates,Mt=xt[0],Rt=xt[1];return{x:Pe(Mt),y:me(Rt),zoom:1/0,index:st,parentId:-1}}function Ae(gt){return{type:"Feature",id:gt.id,properties:be(gt),geometry:{type:"Point",coordinates:[Ee(gt.x),xe(gt.y)]}}}function be(gt){var st=gt.numPoints,xt=st>=1e4?Math.round(st/1e3)+"k":st>=1e3?Math.round(st/100)/10+"k":st;return De(De({},gt.properties),{cluster:!0,cluster_id:gt.id,point_count:st,point_count_abbreviated:xt})}function Pe(gt){return gt/360+.5}function me(gt){var st=Math.sin(gt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Ee(gt){return(gt-.5)*360}function xe(gt){var st=(180-gt*360)*Math.PI/180;return 360*Math.atan(Math.exp(st))/Math.PI-90}function De(gt,st){for(var xt in st)gt[xt]=st[xt];return gt}function Ve(gt){return gt.x}function Ze(gt){return gt.y}function ke(gt,st,xt,Mt){for(var Rt=Mt,Vt=xt-st>>1,Ct=xt-st,Bt,Xt=gt[st],ir=gt[st+1],or=gt[xt],cr=gt[xt+1],We=st+3;We<xt;We+=3){var Ue=Ye(gt[We],gt[We+1],Xt,ir,or,cr);if(Ue>Rt)Bt=We,Rt=Ue;else if(Ue===Rt){var Ft=Math.abs(We-Vt);Ft<Ct&&(Bt=We,Ct=Ft)}}Rt>Mt&&(Bt-st>3&&ke(gt,st,Bt,Mt),gt[Bt+2]=Rt,xt-Bt>3&&ke(gt,Bt,xt,Mt))}function Ye(gt,st,xt,Mt,Rt,Vt){var Ct=Rt-xt,Bt=Vt-Mt;if(Ct!==0||Bt!==0){var Xt=((gt-xt)*Ct+(st-Mt)*Bt)/(Ct*Ct+Bt*Bt);Xt>1?(xt=Rt,Mt=Vt):Xt>0&&(xt+=Ct*Xt,Mt+=Bt*Xt)}return Ct=gt-xt,Bt=st-Mt,Ct*Ct+Bt*Bt}function lt(gt,st,xt,Mt){var Rt={id:typeof gt=="undefined"?null:gt,type:st,geometry:xt,tags:Mt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return yt(Rt),Rt}function yt(gt){var st=gt.geometry,xt=gt.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")He(gt,st);else if(xt==="Polygon"||xt==="MultiLineString")for(var Mt=0;Mt<st.length;Mt++)He(gt,st[Mt]);else if(xt==="MultiPolygon")for(Mt=0;Mt<st.length;Mt++)for(var Rt=0;Rt<st[Mt].length;Rt++)He(gt,st[Mt][Rt])}function He(gt,st){for(var xt=0;xt<st.length;xt+=3)gt.minX=Math.min(gt.minX,st[xt]),gt.minY=Math.min(gt.minY,st[xt+1]),gt.maxX=Math.max(gt.maxX,st[xt]),gt.maxY=Math.max(gt.maxY,st[xt+1])}function Fe(gt,st){var xt=[];if(gt.type==="FeatureCollection")for(var Mt=0;Mt<gt.features.length;Mt++)nt(xt,gt.features[Mt],st,Mt);else gt.type==="Feature"?nt(xt,gt,st):nt(xt,{geometry:gt},st);return xt}function nt(gt,st,xt,Mt){if(st.geometry){var Rt=st.geometry.coordinates,Vt=st.geometry.type,Ct=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Bt=[],Xt=st.id;if(xt.promoteId?Xt=st.properties[xt.promoteId]:xt.generateId&&(Xt=Mt||0),Vt==="Point")ot(Rt,Bt);else if(Vt==="MultiPoint")for(var ir=0;ir<Rt.length;ir++)ot(Rt[ir],Bt);else if(Vt==="LineString")ct(Rt,Bt,Ct,!1);else if(Vt==="MultiLineString")if(xt.lineMetrics){for(ir=0;ir<Rt.length;ir++)Bt=[],ct(Rt[ir],Bt,Ct,!1),gt.push(lt(Xt,"LineString",Bt,st.properties));return}else ht(Rt,Bt,Ct,!1);else if(Vt==="Polygon")ht(Rt,Bt,Ct,!0);else if(Vt==="MultiPolygon")for(ir=0;ir<Rt.length;ir++){var or=[];ht(Rt[ir],or,Ct,!0),Bt.push(or)}else if(Vt==="GeometryCollection"){for(ir=0;ir<st.geometry.geometries.length;ir++)nt(gt,{id:Xt,geometry:st.geometry.geometries[ir],properties:st.properties},xt,Mt);return}else throw new Error("Input data is not a valid GeoJSON object.");gt.push(lt(Xt,Vt,Bt,st.properties))}}function ot(gt,st){st.push(mt(gt[0])),st.push(tt(gt[1])),st.push(0)}function ct(gt,st,xt,Mt){for(var Rt,Vt,Ct=0,Bt=0;Bt<gt.length;Bt++){var Xt=mt(gt[Bt][0]),ir=tt(gt[Bt][1]);st.push(Xt),st.push(ir),st.push(0),Bt>0&&(Mt?Ct+=(Rt*ir-Xt*Vt)/2:Ct+=Math.sqrt(Math.pow(Xt-Rt,2)+Math.pow(ir-Vt,2))),Rt=Xt,Vt=ir}var or=st.length-3;st[2]=1,ke(st,0,or,xt),st[or+2]=1,st.size=Math.abs(Ct),st.start=0,st.end=st.size}function ht(gt,st,xt,Mt){for(var Rt=0;Rt<gt.length;Rt++){var Vt=[];ct(gt[Rt],Vt,xt,Mt),st.push(Vt)}}function mt(gt){return gt/360+.5}function tt(gt){var st=Math.sin(gt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Re(gt,st,xt,Mt,Rt,Vt,Ct,Bt){if(xt/=st,Mt/=st,Vt>=xt&&Ct<Mt)return gt;if(Ct<xt||Vt>=Mt)return null;for(var Xt=[],ir=0;ir<gt.length;ir++){var or=gt[ir],cr=or.geometry,We=or.type,Ue=Rt===0?or.minX:or.minY,Ft=Rt===0?or.maxX:or.maxY;if(Ue>=xt&&Ft<Mt){Xt.push(or);continue}else if(Ft<xt||Ue>=Mt)continue;var kt=[];if(We==="Point"||We==="MultiPoint")Ge(cr,kt,xt,Mt,Rt);else if(We==="LineString")Je(cr,kt,xt,Mt,Rt,!1,Bt.lineMetrics);else if(We==="MultiLineString")Oe(cr,kt,xt,Mt,Rt,!1);else if(We==="Polygon")Oe(cr,kt,xt,Mt,Rt,!0);else if(We==="MultiPolygon")for(var Zt=0;Zt<cr.length;Zt++){var rr=[];Oe(cr[Zt],rr,xt,Mt,Rt,!0),rr.length&&kt.push(rr)}if(kt.length){if(Bt.lineMetrics&&We==="LineString"){for(Zt=0;Zt<kt.length;Zt++)Xt.push(lt(or.id,We,kt[Zt],or.tags));continue}(We==="LineString"||We==="MultiLineString")&&(kt.length===1?(We="LineString",kt=kt[0]):We="MultiLineString"),(We==="Point"||We==="MultiPoint")&&(We=kt.length===3?"Point":"MultiPoint"),Xt.push(lt(or.id,We,kt,or.tags))}}return Xt.length?Xt:null}function Ge(gt,st,xt,Mt,Rt){for(var Vt=0;Vt<gt.length;Vt+=3){var Ct=gt[Vt+Rt];Ct>=xt&&Ct<=Mt&&(st.push(gt[Vt]),st.push(gt[Vt+1]),st.push(gt[Vt+2]))}}function Je(gt,st,xt,Mt,Rt,Vt,Ct){for(var Bt=Xe(gt),Xt=Rt===0?ze:et,ir=gt.start,or,cr,We=0;We<gt.length-3;We+=3){var Ue=gt[We],Ft=gt[We+1],kt=gt[We+2],Zt=gt[We+3],rr=gt[We+4],lr=Rt===0?Ue:Ft,qt=Rt===0?Zt:rr,Ot=!1;Ct&&(or=Math.sqrt(Math.pow(Ue-Zt,2)+Math.pow(Ft-rr,2))),lr<xt?qt>xt&&(cr=Xt(Bt,Ue,Ft,Zt,rr,xt),Ct&&(Bt.start=ir+or*cr)):lr>Mt?qt<Mt&&(cr=Xt(Bt,Ue,Ft,Zt,rr,Mt),Ct&&(Bt.start=ir+or*cr)):Ne(Bt,Ue,Ft,kt),qt<xt&&lr>=xt&&(cr=Xt(Bt,Ue,Ft,Zt,rr,xt),Ot=!0),qt>Mt&&lr<=Mt&&(cr=Xt(Bt,Ue,Ft,Zt,rr,Mt),Ot=!0),!Vt&&Ot&&(Ct&&(Bt.end=ir+or*cr),st.push(Bt),Bt=Xe(gt)),Ct&&(ir+=or)}var tr=gt.length-3;Ue=gt[tr],Ft=gt[tr+1],kt=gt[tr+2],lr=Rt===0?Ue:Ft,lr>=xt&&lr<=Mt&&Ne(Bt,Ue,Ft,kt),tr=Bt.length-3,Vt&&tr>=3&&(Bt[tr]!==Bt[0]||Bt[tr+1]!==Bt[1])&&Ne(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&st.push(Bt)}function Xe(gt){var st=[];return st.size=gt.size,st.start=gt.start,st.end=gt.end,st}function Oe(gt,st,xt,Mt,Rt,Vt){for(var Ct=0;Ct<gt.length;Ct++)Je(gt[Ct],st,xt,Mt,Rt,Vt,!1)}function Ne(gt,st,xt,Mt){gt.push(st),gt.push(xt),gt.push(Mt)}function ze(gt,st,xt,Mt,Rt,Vt){var Ct=(Vt-st)/(Mt-st);return gt.push(Vt),gt.push(xt+(Rt-xt)*Ct),gt.push(1),Ct}function et(gt,st,xt,Mt,Rt,Vt){var Ct=(Vt-xt)/(Rt-xt);return gt.push(st+(Mt-st)*Ct),gt.push(Vt),gt.push(1),Ct}function Le(gt,st){var xt=st.buffer/st.extent,Mt=gt,Rt=Re(gt,1,-1-xt,xt,0,-1,2,st),Vt=Re(gt,1,1-xt,2+xt,0,-1,2,st);return(Rt||Vt)&&(Mt=Re(gt,1,-xt,1+xt,0,-1,2,st)||[],Rt&&(Mt=Te(Rt,1).concat(Mt)),Vt&&(Mt=Mt.concat(Te(Vt,-1)))),Mt}function Te(gt,st){for(var xt=[],Mt=0;Mt<gt.length;Mt++){var Rt=gt[Mt],Vt=Rt.type,Ct;if(Vt==="Point"||Vt==="MultiPoint"||Vt==="LineString")Ct=ye(Rt.geometry,st);else if(Vt==="MultiLineString"||Vt==="Polygon"){Ct=[];for(var Bt=0;Bt<Rt.geometry.length;Bt++)Ct.push(ye(Rt.geometry[Bt],st))}else if(Vt==="MultiPolygon")for(Ct=[],Bt=0;Bt<Rt.geometry.length;Bt++){for(var Xt=[],ir=0;ir<Rt.geometry[Bt].length;ir++)Xt.push(ye(Rt.geometry[Bt][ir],st));Ct.push(Xt)}xt.push(lt(Rt.id,Vt,Ct,Rt.tags))}return xt}function ye(gt,st){var xt=[];xt.size=gt.size,gt.start!==void 0&&(xt.start=gt.start,xt.end=gt.end);for(var Mt=0;Mt<gt.length;Mt+=3)xt.push(gt[Mt]+st,gt[Mt+1],gt[Mt+2]);return xt}function Se(gt,st){if(gt.transformed)return gt;var xt=1<<gt.z,Mt=gt.x,Rt=gt.y,Vt,Ct,Bt;for(Vt=0;Vt<gt.features.length;Vt++){var Xt=gt.features[Vt],ir=Xt.geometry,or=Xt.type;if(Xt.geometry=[],or===1)for(Ct=0;Ct<ir.length;Ct+=2)Xt.geometry.push(Ke(ir[Ct],ir[Ct+1],st,xt,Mt,Rt));else for(Ct=0;Ct<ir.length;Ct++){var cr=[];for(Bt=0;Bt<ir[Ct].length;Bt+=2)cr.push(Ke(ir[Ct][Bt],ir[Ct][Bt+1],st,xt,Mt,Rt));Xt.geometry.push(cr)}}return gt.transformed=!0,gt}function Ke(gt,st,xt,Mt,Rt,Vt){return[Math.round(xt*(gt*Mt-Rt)),Math.round(xt*(st*Mt-Vt))]}function rt(gt,st,xt,Mt,Rt){for(var Vt=st===Rt.maxZoom?0:Rt.tolerance/((1<<st)*Rt.extent),Ct={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:Mt,z:st,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<gt.length;Bt++){Ct.numFeatures++,Lt(Ct,gt[Bt],Vt,Rt);var Xt=gt[Bt].minX,ir=gt[Bt].minY,or=gt[Bt].maxX,cr=gt[Bt].maxY;Xt<Ct.minX&&(Ct.minX=Xt),ir<Ct.minY&&(Ct.minY=ir),or>Ct.maxX&&(Ct.maxX=or),cr>Ct.maxY&&(Ct.maxY=cr)}return Ct}function Lt(gt,st,xt,Mt){var Rt=st.geometry,Vt=st.type,Ct=[];if(Vt==="Point"||Vt==="MultiPoint")for(var Bt=0;Bt<Rt.length;Bt+=3)Ct.push(Rt[Bt]),Ct.push(Rt[Bt+1]),gt.numPoints++,gt.numSimplified++;else if(Vt==="LineString")It(Ct,Rt,gt,xt,!1,!1);else if(Vt==="MultiLineString"||Vt==="Polygon")for(Bt=0;Bt<Rt.length;Bt++)It(Ct,Rt[Bt],gt,xt,Vt==="Polygon",Bt===0);else if(Vt==="MultiPolygon")for(var Xt=0;Xt<Rt.length;Xt++){var ir=Rt[Xt];for(Bt=0;Bt<ir.length;Bt++)It(Ct,ir[Bt],gt,xt,!0,Bt===0)}if(Ct.length){var or=st.tags||null;if(Vt==="LineString"&&Mt.lineMetrics){or={};for(var cr in st.tags)or[cr]=st.tags[cr];or.mapbox_clip_start=Rt.start/Rt.size,or.mapbox_clip_end=Rt.end/Rt.size}var We={geometry:Ct,type:Vt==="Polygon"||Vt==="MultiPolygon"?3:Vt==="LineString"||Vt==="MultiLineString"?2:1,tags:or};st.id!==null&&(We.id=st.id),gt.features.push(We)}}function It(gt,st,xt,Mt,Rt,Vt){var Ct=Mt*Mt;if(Mt>0&&st.size<(Rt?Ct:Mt)){xt.numPoints+=st.length/3;return}for(var Bt=[],Xt=0;Xt<st.length;Xt+=3)(Mt===0||st[Xt+2]>Ct)&&(xt.numSimplified++,Bt.push(st[Xt]),Bt.push(st[Xt+1])),xt.numPoints++;Rt&&wt(Bt,Vt),gt.push(Bt)}function wt(gt,st){for(var xt=0,Mt=0,Rt=gt.length,Vt=Rt-2;Mt<Rt;Vt=Mt,Mt+=2)xt+=(gt[Mt]-gt[Vt])*(gt[Mt+1]+gt[Vt+1]);if(xt>0===st)for(Mt=0,Rt=gt.length;Mt<Rt/2;Mt+=2){var Ct=gt[Mt],Bt=gt[Mt+1];gt[Mt]=gt[Rt-2-Mt],gt[Mt+1]=gt[Rt-1-Mt],gt[Rt-2-Mt]=Ct,gt[Rt-1-Mt]=Bt}}function Et(gt,st){return new Wt(gt,st)}function Wt(gt,st){st=this.options=dt(Object.create(this.options),st);var xt=st.debug;if(xt&&console.time("preprocess data"),st.maxZoom<0||st.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(st.promoteId&&st.generateId)throw new Error("promoteId and generateId cannot be used together.");var Mt=Fe(gt,st);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",st.indexMaxZoom,st.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Mt=Le(Mt,st),Mt.length&&this.splitTile(Mt,0,0,0),xt&&(Mt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Wt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Wt.prototype.splitTile=function(gt,st,xt,Mt,Rt,Vt,Ct){for(var Bt=[gt,st,xt,Mt],Xt=this.options,ir=Xt.debug;Bt.length;){Mt=Bt.pop(),xt=Bt.pop(),st=Bt.pop(),gt=Bt.pop();var or=1<<st,cr=vr(st,xt,Mt),We=this.tiles[cr];if(!We&&(ir>1&&console.time("creation"),We=this.tiles[cr]=rt(gt,st,xt,Mt,Xt),this.tileCoords.push({z:st,x:xt,y:Mt}),ir)){ir>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",st,xt,Mt,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var Ue="z"+st;this.stats[Ue]=(this.stats[Ue]||0)+1,this.total++}if(We.source=gt,Rt){if(st===Xt.maxZoom||st===Rt)continue;var Ft=1<<Rt-st;if(xt!==Math.floor(Vt/Ft)||Mt!==Math.floor(Ct/Ft))continue}else if(st===Xt.indexMaxZoom||We.numPoints<=Xt.indexMaxPoints)continue;if(We.source=null,gt.length!==0){ir>1&&console.time("clipping");var kt=.5*Xt.buffer/Xt.extent,Zt=.5-kt,rr=.5+kt,lr=1+kt,qt,Ot,tr,dr,mr,Cr;qt=Ot=tr=dr=null,mr=Re(gt,or,xt-kt,xt+rr,0,We.minX,We.maxX,Xt),Cr=Re(gt,or,xt+Zt,xt+lr,0,We.minX,We.maxX,Xt),gt=null,mr&&(qt=Re(mr,or,Mt-kt,Mt+rr,1,We.minY,We.maxY,Xt),Ot=Re(mr,or,Mt+Zt,Mt+lr,1,We.minY,We.maxY,Xt),mr=null),Cr&&(tr=Re(Cr,or,Mt-kt,Mt+rr,1,We.minY,We.maxY,Xt),dr=Re(Cr,or,Mt+Zt,Mt+lr,1,We.minY,We.maxY,Xt),Cr=null),ir>1&&console.timeEnd("clipping"),Bt.push(qt||[],st+1,xt*2,Mt*2),Bt.push(Ot||[],st+1,xt*2,Mt*2+1),Bt.push(tr||[],st+1,xt*2+1,Mt*2),Bt.push(dr||[],st+1,xt*2+1,Mt*2+1)}}},Wt.prototype.getTile=function(gt,st,xt){var Mt=this.options,Rt=Mt.extent,Vt=Mt.debug;if(gt<0||gt>24)return null;var Ct=1<<gt;st=(st%Ct+Ct)%Ct;var Bt=vr(gt,st,xt);if(this.tiles[Bt])return Se(this.tiles[Bt],Rt);Vt>1&&console.log("drilling down to z%d-%d-%d",gt,st,xt);for(var Xt=gt,ir=st,or=xt,cr;!cr&&Xt>0;)Xt--,ir=Math.floor(ir/2),or=Math.floor(or/2),cr=this.tiles[vr(Xt,ir,or)];return!cr||!cr.source?null:(Vt>1&&console.log("found parent tile z%d-%d-%d",Xt,ir,or),Vt>1&&console.time("drilling down"),this.splitTile(cr.source,Xt,ir,or,gt,st,xt),Vt>1&&console.timeEnd("drilling down"),this.tiles[Bt]?Se(this.tiles[Bt],Rt):null)};function vr(gt,st,xt){return((1<<gt)*xt+st)*32+gt}function dt(gt,st){for(var xt in st)gt[xt]=st[xt];return gt}function Yt(gt,st){var xt=gt.tileID.canonical;if(!this._geoJSONIndex)return st(null,null);var Mt=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!Mt)return st(null,null);var Rt=new b(Mt.features),Vt=a(Rt);(Vt.byteOffset!==0||Vt.byteLength!==Vt.buffer.byteLength)&&(Vt=new Uint8Array(Vt)),st(null,{vectorTile:Rt,rawData:Vt.buffer})}var jt=function(gt){function st(xt,Mt,Rt,Vt){gt.call(this,xt,Mt,Rt,Yt),Vt&&(this.loadGeoJSON=Vt)}return gt&&(st.__proto__=gt),st.prototype=Object.create(gt&&gt.prototype),st.prototype.constructor=st,st.prototype.loadData=function(Mt,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Rt,this._pendingLoadDataParams=Mt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},st.prototype._loadData=function(){var Mt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Rt=this._pendingCallback,Vt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ct=Vt&&Vt.request&&Vt.request.collectResourceTiming?new i.RequestPerformance(Vt.request):!1;this.loadGeoJSON(Vt,function(Bt,Xt){if(Bt||!Xt)return Rt(Bt);if(typeof Xt!="object")return Rt(new Error("Input data given to '"+Vt.source+"' is not a valid GeoJSON object."));h(Xt,!0);try{if(Vt.filter){var ir=i.createExpression(Vt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ir.result==="error")throw new Error(ir.value.map(function(Ue){return Ue.key+": "+Ue.message}).join(", "));var or=Xt.features.filter(function(Ue){return ir.value.evaluate({zoom:0},Ue)});Xt={type:"FeatureCollection",features:or}}Mt._geoJSONIndex=Vt.cluster?new te(gr(Vt)).load(Xt.features):Et(Xt,Vt.geojsonVtOptions)}catch(Ue){return Rt(Ue)}Mt.loaded={};var cr={};if(Ct){var We=Ct.finish();We&&(cr.resourceTiming={},cr.resourceTiming[Vt.source]=JSON.parse(JSON.stringify(We)))}Rt(null,cr)})}},st.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},st.prototype.reloadTile=function(Mt,Rt){var Vt=this.loaded,Ct=Mt.uid;return Vt&&Vt[Ct]?gt.prototype.reloadTile.call(this,Mt,Rt):this.loadTile(Mt,Rt)},st.prototype.loadGeoJSON=function(Mt,Rt){if(Mt.request)i.getJSON(Mt.request,Rt);else if(typeof Mt.data=="string")try{return Rt(null,JSON.parse(Mt.data))}catch(Vt){return Rt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))}else return Rt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))},st.prototype.removeSource=function(Mt,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Rt()},st.prototype.getClusterExpansionZoom=function(Mt,Rt){try{Rt(null,this._geoJSONIndex.getClusterExpansionZoom(Mt.clusterId))}catch(Vt){Rt(Vt)}},st.prototype.getClusterChildren=function(Mt,Rt){try{Rt(null,this._geoJSONIndex.getChildren(Mt.clusterId))}catch(Vt){Rt(Vt)}},st.prototype.getClusterLeaves=function(Mt,Rt){try{Rt(null,this._geoJSONIndex.getLeaves(Mt.clusterId,Mt.limit,Mt.offset))}catch(Vt){Rt(Vt)}},st}(l);function gr(gt){var st=gt.superclusterOptions,xt=gt.clusterProperties;if(!xt||!st)return st;for(var Mt={},Rt={},Vt={accumulated:null,zoom:0},Ct={properties:null},Bt=Object.keys(xt),Xt=0,ir=Bt;Xt<ir.length;Xt+=1){var or=ir[Xt],cr=xt[or],We=cr[0],Ue=cr[1],Ft=i.createExpression(Ue),kt=i.createExpression(typeof We=="string"?[We,["accumulated"],["get",or]]:We);Mt[or]=Ft.value,Rt[or]=kt.value}return st.map=function(Zt){Ct.properties=Zt;for(var rr={},lr=0,qt=Bt;lr<qt.length;lr+=1){var Ot=qt[lr];rr[Ot]=Mt[Ot].evaluate(Vt,Ct)}return rr},st.reduce=function(Zt,rr){Ct.properties=rr;for(var lr=0,qt=Bt;lr<qt.length;lr+=1){var Ot=qt[lr];Vt.accumulated=Zt[Ot],Zt[Ot]=Rt[Ot].evaluate(Vt,Ct)}},st}var sr=function(st){var xt=this;this.self=st,this.actor=new i.Actor(st,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:jt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Mt,Rt){if(xt.workerSourceTypes[Mt])throw new Error('Worker source with name "'+Mt+'" already registered.');xt.workerSourceTypes[Mt]=Rt},this.self.registerRTLTextPlugin=function(Mt){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=Mt.applyArabicShaping,i.plugin.processBidirectionalText=Mt.processBidirectionalText,i.plugin.processStyledBidirectionalText=Mt.processStyledBidirectionalText}};return sr.prototype.setReferrer=function(st,xt){this.referrer=xt},sr.prototype.setImages=function(st,xt,Mt){this.availableImages[st]=xt;for(var Rt in this.workerSources[st]){var Vt=this.workerSources[st][Rt];for(var Ct in Vt)Vt[Ct].availableImages=xt}Mt()},sr.prototype.setLayers=function(st,xt,Mt){this.getLayerIndex(st).replace(xt),Mt()},sr.prototype.updateLayers=function(st,xt,Mt){this.getLayerIndex(st).update(xt.layers,xt.removedIds),Mt()},sr.prototype.loadTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).loadTile(xt,Mt)},sr.prototype.loadDEMTile=function(st,xt,Mt){this.getDEMWorkerSource(st,xt.source).loadTile(xt,Mt)},sr.prototype.reloadTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).reloadTile(xt,Mt)},sr.prototype.abortTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).abortTile(xt,Mt)},sr.prototype.removeTile=function(st,xt,Mt){this.getWorkerSource(st,xt.type,xt.source).removeTile(xt,Mt)},sr.prototype.removeDEMTile=function(st,xt){this.getDEMWorkerSource(st,xt.source).removeTile(xt)},sr.prototype.removeSource=function(st,xt,Mt){if(!(!this.workerSources[st]||!this.workerSources[st][xt.type]||!this.workerSources[st][xt.type][xt.source])){var Rt=this.workerSources[st][xt.type][xt.source];delete this.workerSources[st][xt.type][xt.source],Rt.removeSource!==void 0?Rt.removeSource(xt,Mt):Mt()}},sr.prototype.loadWorkerSource=function(st,xt,Mt){try{this.self.importScripts(xt.url),Mt()}catch(Rt){Mt(Rt.toString())}},sr.prototype.syncRTLPluginState=function(st,xt,Mt){try{i.plugin.setState(xt);var Rt=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Rt!=null){this.self.importScripts(Rt);var Vt=i.plugin.isParsed(),Ct=Vt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Rt);Mt(Ct,Vt)}}catch(Bt){Mt(Bt.toString())}},sr.prototype.getAvailableImages=function(st){var xt=this.availableImages[st];return xt||(xt=[]),xt},sr.prototype.getLayerIndex=function(st){var xt=this.layerIndexes[st];return xt||(xt=this.layerIndexes[st]=new y),xt},sr.prototype.getWorkerSource=function(st,xt,Mt){var Rt=this;if(this.workerSources[st]||(this.workerSources[st]={}),this.workerSources[st][xt]||(this.workerSources[st][xt]={}),!this.workerSources[st][xt][Mt]){var Vt={send:function(Ct,Bt,Xt){Rt.actor.send(Ct,Bt,Xt,st)}};this.workerSources[st][xt][Mt]=new this.workerSourceTypes[xt](Vt,this.getLayerIndex(st),this.getAvailableImages(st))}return this.workerSources[st][xt][Mt]},sr.prototype.getDEMWorkerSource=function(st,xt){return this.demWorkerSources[st]||(this.demWorkerSources[st]={}),this.demWorkerSources[st][xt]||(this.demWorkerSources[st][xt]=new g),this.demWorkerSources[st][xt]},sr.prototype.enforceCacheSizeLimit=function(st,xt){i.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new sr(self)),sr}),P(["./shared"],function(i){"use strict";var L=i.createCommonjsModule(function(ce){ce.exports?ce.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=ve);function Z(Or){return!ve(Or)}function ve(Or){if(!q())return"not a browser";if(!de())return"insufficent Array support";if(!Ie())return"insufficient Function support";if(!Qe())return"insufficient Object support";if(!ut())return"insufficient JSON support";if(!St())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!Kt())return"insufficient ArrayBuffer support";if(!ar())return"insufficient Canvas/getImageData support";if(!Rr(Or&&Or.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function q(){return typeof window!="undefined"&&typeof document!="undefined"}function de(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Ie(){return Function.prototype&&Function.prototype.bind}function Qe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ut(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function St(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Or=new Blob([""],{type:"text/javascript"}),jr=URL.createObjectURL(Or),cn,Rn;try{Rn=new Worker(jr),cn=!0}catch(_n){cn=!1}return Rn&&Rn.terminate(),URL.revokeObjectURL(jr),cn}function Ut(){return"Uint8ClampedArray"in window}function Kt(){return ArrayBuffer.isView}function ar(){var Or=document.createElement("canvas");Or.width=Or.height=1;var jr=Or.getContext("2d");if(!jr)return!1;var cn=jr.getImageData(0,0,1,1);return cn&&cn.width===Or.width}var nr={};function Rr(Or){return nr[Or]===void 0&&(nr[Or]=Hr(Or)),nr[Or]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Wr(Or){var jr=document.createElement("canvas"),cn=Object.create(Z.webGLContextAttributes);return cn.failIfMajorPerformanceCaveat=Or,jr.probablySupportsContext?jr.probablySupportsContext("webgl",cn)||jr.probablySupportsContext("experimental-webgl",cn):jr.supportsContext?jr.supportsContext("webgl",cn)||jr.supportsContext("experimental-webgl",cn):jr.getContext("webgl",cn)||jr.getContext("experimental-webgl",cn)}function Hr(Or){var jr=Wr(Or);if(!jr)return!1;var cn=jr.createShader(jr.VERTEX_SHADER);return!cn||jr.isContextLost()?!1:(jr.shaderSource(cn,"void main() {}"),jr.compileShader(cn),jr.getShaderParameter(cn,jr.COMPILE_STATUS)===!0)}}),C={};C.create=function(ce,Z,ve){var q=i.window.document.createElement(ce);return Z!==void 0&&(q.className=Z),ve&&ve.appendChild(q),q},C.createNS=function(ce,Z){var ve=i.window.document.createElementNS(ce,Z);return ve};var c=i.window.document&&i.window.document.documentElement.style;function y(ce){if(!c)return ce[0];for(var Z=0;Z<ce.length;Z++)if(ce[Z]in c)return ce[Z];return ce[0]}var r=y(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;C.disableDrag=function(){c&&r&&(t=c[r],c[r]="none")},C.enableDrag=function(){c&&r&&(c[r]=t)};var s=y(["transform","WebkitTransform"]);C.setTransform=function(ce,Z){ce.style[s]=Z};var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",u,u),i.window.removeEventListener("test",u,u)}catch(ce){n=!1}C.addEventListener=function(ce,Z,ve,q){q===void 0&&(q={}),"passive"in q&&n?ce.addEventListener(Z,ve,q):ce.addEventListener(Z,ve,q.capture)},C.removeEventListener=function(ce,Z,ve,q){q===void 0&&(q={}),"passive"in q&&n?ce.removeEventListener(Z,ve,q):ce.removeEventListener(Z,ve,q.capture)};var l=function(ce){ce.preventDefault(),ce.stopPropagation(),i.window.removeEventListener("click",l,!0)};C.suppressClick=function(){i.window.addEventListener("click",l,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",l,!0)},0)},C.mousePos=function(ce,Z){var ve=ce.getBoundingClientRect();return new i.Point(Z.clientX-ve.left-ce.clientLeft,Z.clientY-ve.top-ce.clientTop)},C.touchPos=function(ce,Z){for(var ve=ce.getBoundingClientRect(),q=[],de=0;de<Z.length;de++)q.push(new i.Point(Z[de].clientX-ve.left-ce.clientLeft,Z[de].clientY-ve.top-ce.clientTop));return q},C.mouseButton=function(ce){return typeof i.window.InstallTrigger!="undefined"&&ce.button===2&&ce.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ce.button},C.remove=function(ce){ce.parentNode&&ce.parentNode.removeChild(ce)};function f(ce,Z,ve){var q,de,Ie,Qe=i.browser.devicePixelRatio>1?"@2x":"",ut=i.getJSON(Z.transformRequest(Z.normalizeSpriteURL(ce,Qe,".json"),i.ResourceType.SpriteJSON),function(Kt,ar){ut=null,Ie||(Ie=Kt,q=ar,Ut())}),St=i.getImage(Z.transformRequest(Z.normalizeSpriteURL(ce,Qe,".png"),i.ResourceType.SpriteImage),function(Kt,ar){St=null,Ie||(Ie=Kt,de=ar,Ut())});function Ut(){if(Ie)ve(Ie);else if(q&&de){var Kt=i.browser.getImageData(de),ar={};for(var nr in q){var Rr=q[nr],Wr=Rr.width,Hr=Rr.height,Or=Rr.x,jr=Rr.y,cn=Rr.sdf,Rn=Rr.pixelRatio,_n=Rr.stretchX,Gn=Rr.stretchY,Yn=Rr.content,Vn=new i.RGBAImage({width:Wr,height:Hr});i.RGBAImage.copy(Kt,Vn,{x:Or,y:jr},{x:0,y:0},{width:Wr,height:Hr}),ar[nr]={data:Vn,pixelRatio:Rn,sdf:cn,stretchX:_n,stretchY:Gn,content:Yn}}ve(null,ar)}}return{cancel:function(){ut&&(ut.cancel(),ut=null),St&&(St.cancel(),St=null)}}}function g(ce){var Z=ce.userImage;if(Z&&Z.render){var ve=Z.render();if(ve)return ce.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var h=1,w=function(ce){function Z(){ce.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(q){if(this.loaded!==q&&(this.loaded=q,q)){for(var de=0,Ie=this.requestors;de<Ie.length;de+=1){var Qe=Ie[de],ut=Qe.ids,St=Qe.callback;this._notify(ut,St)}this.requestors=[]}},Z.prototype.getImage=function(q){return this.images[q]},Z.prototype.addImage=function(q,de){this._validate(q,de)&&(this.images[q]=de)},Z.prototype._validate=function(q,de){var Ie=!0;return this._validateStretch(de.stretchX,de.data&&de.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchX" value'))),Ie=!1),this._validateStretch(de.stretchY,de.data&&de.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchY" value'))),Ie=!1),this._validateContent(de.content,de)||(this.fire(new i.ErrorEvent(new Error('Image "'+q+'" has invalid "content" value'))),Ie=!1),Ie},Z.prototype._validateStretch=function(q,de){if(!q)return!0;for(var Ie=0,Qe=0,ut=q;Qe<ut.length;Qe+=1){var St=ut[Qe];if(St[0]<Ie||St[1]<St[0]||de<St[1])return!1;Ie=St[1]}return!0},Z.prototype._validateContent=function(q,de){return q?!(q.length!==4||q[0]<0||de.data.width<q[0]||q[1]<0||de.data.height<q[1]||q[2]<0||de.data.width<q[2]||q[3]<0||de.data.height<q[3]||q[2]<q[0]||q[3]<q[1]):!0},Z.prototype.updateImage=function(q,de){var Ie=this.images[q];de.version=Ie.version+1,this.images[q]=de,this.updatedImages[q]=!0},Z.prototype.removeImage=function(q){var de=this.images[q];delete this.images[q],delete this.patterns[q],de.userImage&&de.userImage.onRemove&&de.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(q,de){var Ie=!0;if(!this.isLoaded())for(var Qe=0,ut=q;Qe<ut.length;Qe+=1){var St=ut[Qe];this.images[St]||(Ie=!1)}this.isLoaded()||Ie?this._notify(q,de):this.requestors.push({ids:q,callback:de})},Z.prototype._notify=function(q,de){for(var Ie={},Qe=0,ut=q;Qe<ut.length;Qe+=1){var St=ut[Qe];this.images[St]||this.fire(new i.Event("styleimagemissing",{id:St}));var Ut=this.images[St];Ut?Ie[St]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:i.warnOnce('Image "'+St+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}de(null,Ie)},Z.prototype.getPixelSize=function(){var q=this.atlasImage,de=q.width,Ie=q.height;return{width:de,height:Ie}},Z.prototype.getPattern=function(q){var de=this.patterns[q],Ie=this.getImage(q);if(!Ie)return null;if(de&&de.position.version===Ie.version)return de.position;if(de)de.position.version=Ie.version;else{var Qe=Ie.data.width+h*2,ut=Ie.data.height+h*2,St={w:Qe,h:ut,x:0,y:0},Ut=new i.ImagePosition(St,Ie);this.patterns[q]={bin:St,position:Ut}}return this._updatePatternAtlas(),this.patterns[q].position},Z.prototype.bind=function(q){var de=q.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(q,this.atlasImage,de.RGBA),this.atlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var q=[];for(var de in this.patterns)q.push(this.patterns[de].bin);var Ie=i.potpack(q),Qe=Ie.w,ut=Ie.h,St=this.atlasImage;St.resize({width:Qe||1,height:ut||1});for(var Ut in this.patterns){var Kt=this.patterns[Ut],ar=Kt.bin,nr=ar.x+h,Rr=ar.y+h,Wr=this.images[Ut].data,Hr=Wr.width,Or=Wr.height;i.RGBAImage.copy(Wr,St,{x:0,y:0},{x:nr,y:Rr},{width:Hr,height:Or}),i.RGBAImage.copy(Wr,St,{x:0,y:Or-1},{x:nr,y:Rr-1},{width:Hr,height:1}),i.RGBAImage.copy(Wr,St,{x:0,y:0},{x:nr,y:Rr+Or},{width:Hr,height:1}),i.RGBAImage.copy(Wr,St,{x:Hr-1,y:0},{x:nr-1,y:Rr},{width:1,height:Or}),i.RGBAImage.copy(Wr,St,{x:0,y:0},{x:nr+Hr,y:Rr},{width:1,height:Or})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(q){for(var de=0,Ie=q;de<Ie.length;de+=1){var Qe=Ie[de];if(!this.callbackDispatchedThisFrame[Qe]){this.callbackDispatchedThisFrame[Qe]=!0;var ut=this.images[Qe],St=g(ut);St&&this.updateImage(Qe,ut)}}},Z}(i.Evented);function d(ce,Z,ve,q,de){var Ie=Z*256,Qe=Ie+255,ut=q.transformRequest(q.normalizeGlyphsURL(ve).replace("{fontstack}",ce).replace("{range}",Ie+"-"+Qe),i.ResourceType.Glyphs);i.getArrayBuffer(ut,function(St,Ut){if(St)de(St);else if(Ut){for(var Kt={},ar=0,nr=i.parseGlyphPBF(Ut);ar<nr.length;ar+=1){var Rr=nr[ar];Kt[Rr.id]=Rr}de(null,Kt)}})}var o=b,v=b,A=1e20;function b(ce,Z,ve,q,de,Ie){this.fontSize=ce||24,this.buffer=Z===void 0?3:Z,this.cutoff=q||.25,this.fontFamily=de||"sans-serif",this.fontWeight=Ie||"normal",this.radius=ve||8;var Qe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Qe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Qe*Qe),this.gridInner=new Float64Array(Qe*Qe),this.f=new Float64Array(Qe),this.d=new Float64Array(Qe),this.z=new Float64Array(Qe+1),this.v=new Int16Array(Qe),this.middle=Math.round(Qe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}b.prototype.draw=function(ce){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ce,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),ve=new Uint8ClampedArray(this.size*this.size),q=0;q<this.size*this.size;q++){var de=Z.data[q*4+3]/255;this.gridOuter[q]=de===1?0:de===0?A:Math.pow(Math.max(0,.5-de),2),this.gridInner[q]=de===1?A:de===0?0:Math.pow(Math.max(0,de-.5),2)}for(M(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),M(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),q=0;q<this.size*this.size;q++){var Ie=this.gridOuter[q]-this.gridInner[q];ve[q]=Math.max(0,Math.min(255,Math.round(255-255*(Ie/this.radius+this.cutoff))))}return ve};function M(ce,Z,ve,q,de,Ie,Qe){for(var ut=0;ut<Z;ut++){for(var St=0;St<ve;St++)q[St]=ce[St*Z+ut];for(m(q,de,Ie,Qe,ve),St=0;St<ve;St++)ce[St*Z+ut]=de[St]}for(St=0;St<ve;St++){for(ut=0;ut<Z;ut++)q[ut]=ce[St*Z+ut];for(m(q,de,Ie,Qe,Z),ut=0;ut<Z;ut++)ce[St*Z+ut]=Math.sqrt(de[ut])}}function m(ce,Z,ve,q,de){ve[0]=0,q[0]=-A,q[1]=+A;for(var Ie=1,Qe=0;Ie<de;Ie++){for(var ut=(ce[Ie]+Ie*Ie-(ce[ve[Qe]]+ve[Qe]*ve[Qe]))/(2*Ie-2*ve[Qe]);ut<=q[Qe];)Qe--,ut=(ce[Ie]+Ie*Ie-(ce[ve[Qe]]+ve[Qe]*ve[Qe]))/(2*Ie-2*ve[Qe]);Qe++,ve[Qe]=Ie,q[Qe]=ut,q[Qe+1]=+A}for(Ie=0,Qe=0;Ie<de;Ie++){for(;q[Qe+1]<Ie;)Qe++;Z[Ie]=(Ie-ve[Qe])*(Ie-ve[Qe])+ce[ve[Qe]]}}o.default=v;var S=function(Z,ve){this.requestManager=Z,this.localIdeographFontFamily=ve,this.entries={}};S.prototype.setURL=function(Z){this.url=Z},S.prototype.getGlyphs=function(Z,ve){var q=this,de=[];for(var Ie in Z)for(var Qe=0,ut=Z[Ie];Qe<ut.length;Qe+=1){var St=ut[Qe];de.push({stack:Ie,id:St})}i.asyncAll(de,function(Ut,Kt){var ar=Ut.stack,nr=Ut.id,Rr=q.entries[ar];Rr||(Rr=q.entries[ar]={glyphs:{},requests:{},ranges:{}});var Wr=Rr.glyphs[nr];if(Wr!==void 0){Kt(null,{stack:ar,id:nr,glyph:Wr});return}if(Wr=q._tinySDF(Rr,ar,nr),Wr){Rr.glyphs[nr]=Wr,Kt(null,{stack:ar,id:nr,glyph:Wr});return}var Hr=Math.floor(nr/256);if(Hr*256>65535){Kt(new Error("glyphs > 65535 not supported"));return}if(Rr.ranges[Hr]){Kt(null,{stack:ar,id:nr,glyph:Wr});return}var Or=Rr.requests[Hr];Or||(Or=Rr.requests[Hr]=[],S.loadGlyphRange(ar,Hr,q.url,q.requestManager,function(jr,cn){if(cn){for(var Rn in cn)q._doesCharSupportLocalGlyph(+Rn)||(Rr.glyphs[+Rn]=cn[+Rn]);Rr.ranges[Hr]=!0}for(var _n=0,Gn=Or;_n<Gn.length;_n+=1){var Yn=Gn[_n];Yn(jr,cn)}delete Rr.requests[Hr]})),Or.push(function(jr,cn){jr?Kt(jr):cn&&Kt(null,{stack:ar,id:nr,glyph:cn[nr]||null})})},function(Ut,Kt){if(Ut)ve(Ut);else if(Kt){for(var ar={},nr=0,Rr=Kt;nr<Rr.length;nr+=1){var Wr=Rr[nr],Hr=Wr.stack,Or=Wr.id,jr=Wr.glyph;(ar[Hr]||(ar[Hr]={}))[Or]=jr&&{id:jr.id,bitmap:jr.bitmap.clone(),metrics:jr.metrics}}ve(null,ar)}})},S.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](Z)||i.isChar["Hangul Syllables"](Z)||i.isChar.Hiragana(Z)||i.isChar.Katakana(Z))},S.prototype._tinySDF=function(Z,ve,q){var de=this.localIdeographFontFamily;if(de&&this._doesCharSupportLocalGlyph(q)){var Ie=Z.tinySDF;if(!Ie){var Qe="400";/bold/i.test(ve)?Qe="900":/medium/i.test(ve)?Qe="500":/light/i.test(ve)&&(Qe="200"),Ie=Z.tinySDF=new S.TinySDF(24,3,8,.25,de,Qe)}return{id:q,bitmap:new i.AlphaImage({width:30,height:30},Ie.draw(String.fromCharCode(q))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=d,S.TinySDF=o;var T=function(){this.specification=i.styleSpec.light.position};T.prototype.possiblyEvaluate=function(Z,ve){return i.sphericalToCartesian(Z.expression.evaluate(ve))},T.prototype.interpolate=function(Z,ve,q){return{x:i.number(Z.x,ve.x,q),y:i.number(Z.y,ve.y,q),z:i.number(Z.z,ve.z,q)}};var a=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new T,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),E="-transition",p=function(ce){function Z(ve){ce.call(this),this._transitionable=new i.Transitionable(a),this.setLight(ve),this._transitioning=this._transitionable.untransitioned()}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(q,de){if(de===void 0&&(de={}),!this._validate(i.validateLight,q,de))for(var Ie in q){var Qe=q[Ie];i.endsWith(Ie,E)?this._transitionable.setTransition(Ie.slice(0,-E.length),Qe):this._transitionable.setValue(Ie,Qe)}},Z.prototype.updateTransitions=function(q){this._transitioning=this._transitionable.transitioned(q,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(q){this.properties=this._transitioning.possiblyEvaluate(q)},Z.prototype._validate=function(q,de,Ie){return Ie&&Ie.validate===!1?!1:i.emitValidationErrors(this,q.call(i.validateStyle,i.extend({value:de,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},Z}(i.Evented),k=function(Z,ve){this.width=Z,this.height=ve,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(Z,ve){var q=Z.join(",")+String(ve);return this.dashEntry[q]||(this.dashEntry[q]=this.addDash(Z,ve)),this.dashEntry[q]},k.prototype.getDashRanges=function(Z,ve,q){var de=Z.length%2===1,Ie=[],Qe=de?-Z[Z.length-1]*q:0,ut=Z[0]*q,St=!0;Ie.push({left:Qe,right:ut,isDash:St,zeroLength:Z[0]===0});for(var Ut=Z[0],Kt=1;Kt<Z.length;Kt++){St=!St;var ar=Z[Kt];Qe=Ut*q,Ut+=ar,ut=Ut*q,Ie.push({left:Qe,right:ut,isDash:St,zeroLength:ar===0})}return Ie},k.prototype.addRoundDash=function(Z,ve,q){for(var de=ve/2,Ie=-q;Ie<=q;Ie++)for(var Qe=this.nextRow+q+Ie,ut=this.width*Qe,St=0,Ut=Z[St],Kt=0;Kt<this.width;Kt++){Kt/Ut.right>1&&(Ut=Z[++St]);var ar=Math.abs(Kt-Ut.left),nr=Math.abs(Kt-Ut.right),Rr=Math.min(ar,nr),Wr=void 0,Hr=Ie/q*(de+1);if(Ut.isDash){var Or=de-Math.abs(Hr);Wr=Math.sqrt(Rr*Rr+Or*Or)}else Wr=de-Math.sqrt(Rr*Rr+Hr*Hr);this.data[ut+Kt]=Math.max(0,Math.min(255,Wr+128))}},k.prototype.addRegularDash=function(Z){for(var ve=Z.length-1;ve>=0;--ve){var q=Z[ve],de=Z[ve+1];q.zeroLength?Z.splice(ve,1):de&&de.isDash===q.isDash&&(de.left=q.left,Z.splice(ve,1))}var Ie=Z[0],Qe=Z[Z.length-1];Ie.isDash===Qe.isDash&&(Ie.left=Qe.left-this.width,Qe.right=Ie.right+this.width);for(var ut=this.width*this.nextRow,St=0,Ut=Z[St],Kt=0;Kt<this.width;Kt++){Kt/Ut.right>1&&(Ut=Z[++St]);var ar=Math.abs(Kt-Ut.left),nr=Math.abs(Kt-Ut.right),Rr=Math.min(ar,nr),Wr=Ut.isDash?Rr:-Rr;this.data[ut+Kt]=Math.max(0,Math.min(255,Wr+128))}},k.prototype.addDash=function(Z,ve){var q=ve?7:0,de=2*q+1;if(this.nextRow+de>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var Ie=0,Qe=0;Qe<Z.length;Qe++)Ie+=Z[Qe];if(Ie!==0){var ut=this.width/Ie,St=this.getDashRanges(Z,this.width,ut);ve?this.addRoundDash(St,ut,q):this.addRegularDash(St)}var Ut={y:(this.nextRow+q+.5)/this.height,height:2*q/this.height,width:Ie};return this.nextRow+=de,this.dirty=!0,Ut},k.prototype.bind=function(Z){var ve=Z.gl;this.texture?(ve.bindTexture(ve.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ve.texSubImage2D(ve.TEXTURE_2D,0,0,0,this.width,this.height,ve.ALPHA,ve.UNSIGNED_BYTE,this.data))):(this.texture=ve.createTexture(),ve.bindTexture(ve.TEXTURE_2D,this.texture),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_S,ve.REPEAT),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_T,ve.REPEAT),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,ve.LINEAR),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MAG_FILTER,ve.LINEAR),ve.texImage2D(ve.TEXTURE_2D,0,ve.ALPHA,this.width,this.height,0,ve.ALPHA,ve.UNSIGNED_BYTE,this.data))};var R=function ce(Z,ve){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var q=this.workerPool.acquire(this.id),de=0;de<q.length;de++){var Ie=q[de],Qe=new ce.Actor(Ie,ve,this.id);Qe.name="Worker "+de,this.actors.push(Qe)}};R.prototype.broadcast=function(Z,ve,q){q=q||function(){},i.asyncAll(this.actors,function(de,Ie){de.send(Z,ve,Ie)},q)},R.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},R.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},R.Actor=i.Actor;function B(ce,Z,ve){var q=function(de,Ie){if(de)return ve(de);if(Ie){var Qe=i.pick(i.extend(Ie,ce),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ie.vector_layers&&(Qe.vectorLayers=Ie.vector_layers,Qe.vectorLayerIds=Qe.vectorLayers.map(function(ut){return ut.id})),Qe.tiles=Z.canonicalizeTileset(Qe,ce.url),ve(null,Qe)}};return ce.url?i.getJSON(Z.transformRequest(Z.normalizeSourceURL(ce.url),i.ResourceType.Source),q):i.browser.frame(function(){return q(null,ce)})}var F=function(Z,ve,q){this.bounds=i.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=ve||0,this.maxzoom=q||24};F.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},F.prototype.contains=function(Z){var ve=Math.pow(2,Z.z),q={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*ve),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*ve),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*ve),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*ve)},de=Z.x>=q.minX&&Z.x<q.maxX&&Z.y>=q.minY&&Z.y<q.maxY;return de};var _=function(ce){function Z(ve,q,de,Ie){if(ce.call(this),this.id=ve,this.dispatcher=de,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(q,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},q),this._collectResourceTiming=q.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ie)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(de,Ie){q._tileJSONRequest=null,q._loaded=!0,de?q.fire(new i.ErrorEvent(de)):Ie&&(i.extend(q,Ie),Ie.bounds&&(q.tileBounds=new F(Ie.bounds,q.minzoom,q.maxzoom)),i.postTurnstileEvent(Ie.tiles,q.map._requestManager._customAccessToken),i.postMapLoadEvent(Ie.tiles,q.map._getMapId(),q.map._requestManager._skuToken,q.map._requestManager._customAccessToken),q.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.setSourceProperty=function(q){this._tileJSONRequest&&this._tileJSONRequest.cancel(),q();var de=this.map.style.sourceCaches[this.id];de.clearTiles(),this.load()},Z.prototype.setTiles=function(q){var de=this;return this.setSourceProperty(function(){de._options.tiles=q}),this},Z.prototype.setUrl=function(q){var de=this;return this.setSourceProperty(function(){de.url=q,de._options.url=q}),this},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return i.extend({},this._options)},Z.prototype.loadTile=function(q,de){var Ie=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme)),Qe={request:this.map._requestManager.transformRequest(Ie,i.ResourceType.Tile),uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,tileSize:this.tileSize*q.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Qe.request.collectResourceTiming=this._collectResourceTiming,!q.actor||q.state==="expired"?(q.actor=this.dispatcher.getActor(),q.request=q.actor.send("loadTile",Qe,ut.bind(this))):q.state==="loading"?q.reloadCallback=de:q.request=q.actor.send("reloadTile",Qe,ut.bind(this));function ut(St,Ut){if(delete q.request,q.aborted)return de(null);if(St&&St.status!==404)return de(St);Ut&&Ut.resourceTiming&&(q.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&q.setExpiryData(Ut),q.loadVectorData(Ut,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),de(null),q.reloadCallback&&(this.loadTile(q,q.reloadCallback),q.reloadCallback=null)}},Z.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.actor&&q.actor.send("abortTile",{uid:q.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(q){q.unloadVectorData(),q.actor&&q.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),O=function(ce){function Z(ve,q,de,Ie){ce.call(this),this.id=ve,this.dispatcher=de,this.setEventedParent(Ie),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},q),i.extend(this,i.pick(q,["url","scheme","tileSize"]))}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(de,Ie){q._tileJSONRequest=null,q._loaded=!0,de?q.fire(new i.ErrorEvent(de)):Ie&&(i.extend(q,Ie),Ie.bounds&&(q.tileBounds=new F(Ie.bounds,q.minzoom,q.maxzoom)),i.postTurnstileEvent(Ie.tiles),i.postMapLoadEvent(Ie.tiles,q.map._getMapId(),q.map._requestManager._skuToken),q.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return i.extend({},this._options)},Z.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},Z.prototype.loadTile=function(q,de){var Ie=this,Qe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=i.getImage(this.map._requestManager.transformRequest(Qe,i.ResourceType.Tile),function(ut,St){if(delete q.request,q.aborted)q.state="unloaded",de(null);else if(ut)q.state="errored",de(ut);else if(St){Ie.map._refreshExpiredTiles&&q.setExpiryData(St),delete St.cacheControl,delete St.expires;var Ut=Ie.map.painter.context,Kt=Ut.gl;q.texture=Ie.map.painter.getTileTexture(St.width),q.texture?q.texture.update(St,{useMipmap:!0}):(q.texture=new i.Texture(Ut,St,Kt.RGBA,{useMipmap:!0}),q.texture.bind(Kt.LINEAR,Kt.CLAMP_TO_EDGE,Kt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&Kt.texParameterf(Kt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),q.state="loaded",i.cacheEntryPossiblyAdded(Ie.dispatcher),de(null)}})},Z.prototype.abortTile=function(q,de){q.request&&(q.request.cancel(),delete q.request),de()},Z.prototype.unloadTile=function(q,de){q.texture&&this.map.painter.saveTileTexture(q.texture),de()},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),z=function(ce){function Z(ve,q,de,Ie){ce.call(this,ve,q,de,Ie),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},q),this.encoding=q.encoding||"mapbox"}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(q,de){var Ie=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=i.getImage(this.map._requestManager.transformRequest(Ie,i.ResourceType.Tile),Qe.bind(this)),q.neighboringTiles=this._getNeighboringTiles(q.tileID);function Qe(St,Ut){if(delete q.request,q.aborted)q.state="unloaded",de(null);else if(St)q.state="errored",de(St);else if(Ut){this.map._refreshExpiredTiles&&q.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var Kt=i.window.ImageBitmap&&Ut instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),ar=Kt?Ut:i.browser.getImageData(Ut,1),nr={uid:q.uid,coord:q.tileID,source:this.id,rawImageData:ar,encoding:this.encoding};(!q.actor||q.state==="expired")&&(q.actor=this.dispatcher.getActor(),q.actor.send("loadDEMTile",nr,ut.bind(this)))}}function ut(St,Ut){St&&(q.state="errored",de(St)),Ut&&(q.dem=Ut,q.needsHillshadePrepare=!0,q.state="loaded",de(null))}},Z.prototype._getNeighboringTiles=function(q){var de=q.canonical,Ie=Math.pow(2,de.z),Qe=(de.x-1+Ie)%Ie,ut=de.x===0?q.wrap-1:q.wrap,St=(de.x+1+Ie)%Ie,Ut=de.x+1===Ie?q.wrap+1:q.wrap,Kt={};return Kt[new i.OverscaledTileID(q.overscaledZ,ut,de.z,Qe,de.y).key]={backfilled:!1},Kt[new i.OverscaledTileID(q.overscaledZ,Ut,de.z,St,de.y).key]={backfilled:!1},de.y>0&&(Kt[new i.OverscaledTileID(q.overscaledZ,ut,de.z,Qe,de.y-1).key]={backfilled:!1},Kt[new i.OverscaledTileID(q.overscaledZ,q.wrap,de.z,de.x,de.y-1).key]={backfilled:!1},Kt[new i.OverscaledTileID(q.overscaledZ,Ut,de.z,St,de.y-1).key]={backfilled:!1}),de.y+1<Ie&&(Kt[new i.OverscaledTileID(q.overscaledZ,ut,de.z,Qe,de.y+1).key]={backfilled:!1},Kt[new i.OverscaledTileID(q.overscaledZ,q.wrap,de.z,de.x,de.y+1).key]={backfilled:!1},Kt[new i.OverscaledTileID(q.overscaledZ,Ut,de.z,St,de.y+1).key]={backfilled:!1}),Kt},Z.prototype.unloadTile=function(q){q.demTexture&&this.map.painter.saveTileTexture(q.demTexture),q.fbo&&(q.fbo.destroy(),delete q.fbo),q.dem&&delete q.dem,delete q.neighboringTiles,q.state="unloaded",q.actor&&q.actor.send("removeDEMTile",{uid:q.uid,source:this.id})},Z}(O),N=function(ce){function Z(ve,q,de,Ie){ce.call(this),this.id=ve,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=de.getActor(),this.setEventedParent(Ie),this._data=q.data,this._options=i.extend({},q),this._collectResourceTiming=q.collectResourceTiming,this._resourceTiming=[],q.maxzoom!==void 0&&(this.maxzoom=q.maxzoom),q.type&&(this.type=q.type),q.attribution&&(this.attribution=q.attribution),this.promoteId=q.promoteId;var Qe=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:q.cluster||!1,geojsonVtOptions:{buffer:(q.buffer!==void 0?q.buffer:128)*Qe,tolerance:(q.tolerance!==void 0?q.tolerance:.375)*Qe,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:q.lineMetrics||!1,generateId:q.generateId||!1},superclusterOptions:{maxZoom:q.clusterMaxZoom!==void 0?Math.min(q.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,q.clusterMinPoints||2),extent:i.EXTENT,radius:(q.clusterRadius||50)*Qe,log:!1,generateId:q.generateId||!1},clusterProperties:q.clusterProperties,filter:q.filter},q.workerOptions)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(de){if(de){q.fire(new i.ErrorEvent(de));return}var Ie={dataType:"source",sourceDataType:"metadata"};q._collectResourceTiming&&q._resourceTiming&&q._resourceTiming.length>0&&(Ie.resourceTiming=q._resourceTiming,q._resourceTiming=[]),q.fire(new i.Event("data",Ie))})},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.setData=function(q){var de=this;return this._data=q,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Ie){if(Ie){de.fire(new i.ErrorEvent(Ie));return}var Qe={dataType:"source",sourceDataType:"content"};de._collectResourceTiming&&de._resourceTiming&&de._resourceTiming.length>0&&(Qe.resourceTiming=de._resourceTiming,de._resourceTiming=[]),de.fire(new i.Event("data",Qe))}),this},Z.prototype.getClusterExpansionZoom=function(q,de){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:q,source:this.id},de),this},Z.prototype.getClusterChildren=function(q,de){return this.actor.send("geojson.getClusterChildren",{clusterId:q,source:this.id},de),this},Z.prototype.getClusterLeaves=function(q,de,Ie,Qe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:q,limit:de,offset:Ie},Qe),this},Z.prototype._updateWorkerData=function(q){var de=this;this._loaded=!1;var Ie=i.extend({},this.workerOptions),Qe=this._data;typeof Qe=="string"?(Ie.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Qe),i.ResourceType.Source),Ie.request.collectResourceTiming=this._collectResourceTiming):Ie.data=JSON.stringify(Qe),this.actor.send(this.type+".loadData",Ie,function(ut,St){de._removed||St&&St.abandoned||(de._loaded=!0,St&&St.resourceTiming&&St.resourceTiming[de.id]&&(de._resourceTiming=St.resourceTiming[de.id].slice(0)),de.actor.send(de.type+".coalesce",{source:Ie.source},null),q(ut))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(q,de){var Ie=this,Qe=q.actor?"reloadTile":"loadTile";q.actor=this.actor;var ut={type:this.type,uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};q.request=this.actor.send(Qe,ut,function(St,Ut){return delete q.request,q.unloadVectorData(),q.aborted?de(null):St?de(St):(q.loadVectorData(Ut,Ie.map.painter,Qe==="reloadTile"),de(null))})},Z.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.aborted=!0},Z.prototype.unloadTile=function(q){q.unloadVectorData(),this.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),Y=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(ce){function Z(ve,q,de,Ie){ce.call(this),this.id=ve,this.dispatcher=de,this.coordinates=q.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ie),this.options=q}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(q,de){var Ie=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Qe,ut){Ie._loaded=!0,Qe?Ie.fire(new i.ErrorEvent(Qe)):ut&&(Ie.image=ut,q&&(Ie.coordinates=q),de&&de(),Ie._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(q){var de=this;return!this.image||!q.url?this:(this.options.url=q.url,this.load(q.coordinates,function(){de.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(q){this.map=q,this.load()},Z.prototype.setCoordinates=function(q){var de=this;this.coordinates=q;var Ie=q.map(i.MercatorCoordinate.fromLngLat);this.tileID=ae(Ie),this.minzoom=this.maxzoom=this.tileID.z;var Qe=Ie.map(function(ut){return de.tileID.getTilePoint(ut)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Qe[0].x,Qe[0].y,0,0),this._boundsArray.emplaceBack(Qe[1].x,Qe[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Qe[3].x,Qe[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Qe[2].x,Qe[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var q=this.map.painter.context,de=q.gl;this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(q,this.image,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var Ie in this.tiles){var Qe=this.tiles[Ie];Qe.state!=="loaded"&&(Qe.state="loaded",Qe.texture=this.texture)}}},Z.prototype.loadTile=function(q,de){this.tileID&&this.tileID.equals(q.tileID.canonical)?(this.tiles[String(q.tileID.wrap)]=q,q.buckets={},de(null)):(q.state="errored",de(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented);function ae(ce){for(var Z=1/0,ve=1/0,q=-1/0,de=-1/0,Ie=0,Qe=ce;Ie<Qe.length;Ie+=1){var ut=Qe[Ie];Z=Math.min(Z,ut.x),ve=Math.min(ve,ut.y),q=Math.max(q,ut.x),de=Math.max(de,ut.y)}var St=q-Z,Ut=de-ve,Kt=Math.max(St,Ut),ar=Math.max(0,Math.floor(-Math.log(Kt)/Math.LN2)),nr=Math.pow(2,ar);return new i.CanonicalTileID(ar,Math.floor((Z+q)/2*nr),Math.floor((ve+de)/2*nr))}var se=function(ce){function Z(ve,q,de,Ie){ce.call(this,ve,q,de,Ie),this.roundZoom=!0,this.type="video",this.options=q}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var q=this;this._loaded=!1;var de=this.options;this.urls=[];for(var Ie=0,Qe=de.urls;Ie<Qe.length;Ie+=1){var ut=Qe[Ie];this.urls.push(this.map._requestManager.transformRequest(ut,i.ResourceType.Source).url)}i.getVideo(this.urls,function(St,Ut){q._loaded=!0,St?q.fire(new i.ErrorEvent(St)):Ut&&(q.video=Ut,q.video.loop=!0,q.video.addEventListener("playing",function(){q.map.triggerRepaint()}),q.map&&q.video.play(),q._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(q){if(this.video){var de=this.video.seekable;q<de.start(0)||q>de.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+de.start(0)+" and "+de.end(0)+"-second mark."))):this.video.currentTime=q}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(q){this.map||(this.map=q,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var q=this.map.painter.context,de=q.gl;this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE),de.texSubImage2D(de.TEXTURE_2D,0,0,0,de.RGBA,de.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(q,this.video,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var Ie in this.tiles){var Qe=this.tiles[Ie];Qe.state!=="loaded"&&(Qe.state="loaded",Qe.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}(J),ue=function(ce){function Z(ve,q,de,Ie){ce.call(this,ve,q,de,Ie),q.coordinates?(!Array.isArray(q.coordinates)||q.coordinates.length!==4||q.coordinates.some(function(Qe){return!Array.isArray(Qe)||Qe.length!==2||Qe.some(function(ut){return typeof ut!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ve,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ve,null,'missing required property "coordinates"'))),q.animate&&typeof q.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ve,null,'optional "animate" property must be a boolean value'))),q.canvas?typeof q.canvas!="string"&&!(q.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ve,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ve,null,'missing required property "canvas"'))),this.options=q,this.animate=q.animate!==void 0?q.animate:!0}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(q){this.map=q,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var q=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,q=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,q=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var de=this.map.painter.context,Ie=de.gl;this.boundsBuffer||(this.boundsBuffer=de.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(q||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(de,this.canvas,Ie.RGBA,{premultiply:!0});for(var Qe in this.tiles){var ut=this.tiles[Qe];ut.state!=="loaded"&&(ut.state="loaded",ut.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var q=0,de=[this.canvas.width,this.canvas.height];q<de.length;q+=1){var Ie=de[q];if(isNaN(Ie)||Ie<=0)return!0}return!1},Z}(J),K={vector:_,raster:O,"raster-dem":z,geojson:N,video:se,image:J,canvas:ue},j=function(ce,Z,ve,q){var de=new K[Z.type](ce,Z,ve,q);if(de.id!==ce)throw new Error("Expected Source id to be "+ce+" instead of "+de.id);return i.bindAll(["load","abort","unload","serialize","prepare"],de),de},ie=function(ce){return K[ce]},W=function(ce,Z){K[ce]=Z};function Q(ce,Z){var ve=i.identity([]);return i.translate(ve,ve,[1,1,0]),i.scale(ve,ve,[ce.width*.5,ce.height*.5,1]),i.multiply(ve,ve,ce.calculatePosMatrix(Z.toUnwrapped()))}function ee(ce,Z,ve){if(ce)for(var q=0,de=ce;q<de.length;q+=1){var Ie=de[q],Qe=Z[Ie];if(Qe&&Qe.source===ve&&Qe.type==="fill-extrusion")return!0}else for(var ut in Z){var St=Z[ut];if(St.source===ve&&St.type==="fill-extrusion")return!0}return!1}function $(ce,Z,ve,q,de,Ie){var Qe=ee(de&&de.layers,Z,ce.id),ut=Ie.maxPitchScaleFactor(),St=ce.tilesIn(q,ut,Qe);St.sort(te);for(var Ut=[],Kt=0,ar=St;Kt<ar.length;Kt+=1){var nr=ar[Kt];Ut.push({wrappedTileID:nr.tileID.wrapped().key,queryResults:nr.tile.queryRenderedFeatures(Z,ve,ce._state,nr.queryGeometry,nr.cameraQueryGeometry,nr.scale,de,Ie,ut,Q(ce.transform,nr.tileID))})}var Rr=fe(Ut);for(var Wr in Rr)Rr[Wr].forEach(function(Hr){var Or=Hr.feature,jr=ce.getFeatureState(Or.layer["source-layer"],Or.id);Or.source=Or.layer.source,Or.layer["source-layer"]&&(Or.sourceLayer=Or.layer["source-layer"]),Or.state=jr});return Rr}function X(ce,Z,ve,q,de,Ie,Qe){for(var ut={},St=Ie.queryRenderedSymbols(q),Ut=[],Kt=0,ar=Object.keys(St).map(Number);Kt<ar.length;Kt+=1){var nr=ar[Kt];Ut.push(Qe[nr])}Ut.sort(te);for(var Rr=function(){var cn=Hr[Wr],Rn=cn.featureIndex.lookupSymbolFeatures(St[cn.bucketInstanceId],Z,cn.bucketIndex,cn.sourceLayerIndex,de.filter,de.layers,de.availableImages,ce);for(var _n in Rn){var Gn=ut[_n]=ut[_n]||[],Yn=Rn[_n];Yn.sort(function(aa,ga){var ua=cn.featureSortOrder;if(ua){var Fa=ua.indexOf(aa.featureIndex),Ja=ua.indexOf(ga.featureIndex);return Ja-Fa}else return ga.featureIndex-aa.featureIndex});for(var Vn=0,Xn=Yn;Vn<Xn.length;Vn+=1){var jn=Xn[Vn];Gn.push(jn)}}},Wr=0,Hr=Ut;Wr<Hr.length;Wr+=1)Rr();var Or=function(cn){ut[cn].forEach(function(Rn){var _n=Rn.feature,Gn=ce[cn],Yn=ve[Gn.source],Vn=Yn.getFeatureState(_n.layer["source-layer"],_n.id);_n.source=_n.layer.source,_n.layer["source-layer"]&&(_n.sourceLayer=_n.layer["source-layer"]),_n.state=Vn})};for(var jr in ut)Or(jr);return ut}function oe(ce,Z){for(var ve=ce.getRenderableIds().map(function(St){return ce.getTileByID(St)}),q=[],de={},Ie=0;Ie<ve.length;Ie++){var Qe=ve[Ie],ut=Qe.tileID.canonical.key;de[ut]||(de[ut]=!0,Qe.querySourceFeatures(q,Z))}return q}function te(ce,Z){var ve=ce.tileID,q=Z.tileID;return ve.overscaledZ-q.overscaledZ||ve.canonical.y-q.canonical.y||ve.wrap-q.wrap||ve.canonical.x-q.canonical.x}function fe(ce){for(var Z={},ve={},q=0,de=ce;q<de.length;q+=1){var Ie=de[q],Qe=Ie.queryResults,ut=Ie.wrappedTileID,St=ve[ut]=ve[ut]||{};for(var Ut in Qe)for(var Kt=Qe[Ut],ar=St[Ut]=St[Ut]||{},nr=Z[Ut]=Z[Ut]||[],Rr=0,Wr=Kt;Rr<Wr.length;Rr+=1){var Hr=Wr[Rr];ar[Hr.featureIndex]||(ar[Hr.featureIndex]=!0,nr.push(Hr))}}return Z}var pe=function(Z,ve){this.max=Z,this.onRemove=ve,this.reset()};pe.prototype.reset=function(){for(var Z in this.data)for(var ve=0,q=this.data[Z];ve<q.length;ve+=1){var de=q[ve];de.timeout&&clearTimeout(de.timeout),this.onRemove(de.value)}return this.data={},this.order=[],this},pe.prototype.add=function(Z,ve,q){var de=this,Ie=Z.wrapped().key;this.data[Ie]===void 0&&(this.data[Ie]=[]);var Qe={value:ve,timeout:void 0};if(q!==void 0&&(Qe.timeout=setTimeout(function(){de.remove(Z,Qe)},q)),this.data[Ie].push(Qe),this.order.push(Ie),this.order.length>this.max){var ut=this._getAndRemoveByKey(this.order[0]);ut&&this.onRemove(ut)}return this},pe.prototype.has=function(Z){return Z.wrapped().key in this.data},pe.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},pe.prototype._getAndRemoveByKey=function(Z){var ve=this.data[Z].shift();return ve.timeout&&clearTimeout(ve.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),ve.value},pe.prototype.getByKey=function(Z){var ve=this.data[Z];return ve?ve[0].value:null},pe.prototype.get=function(Z){if(!this.has(Z))return null;var ve=this.data[Z.wrapped().key][0];return ve.value},pe.prototype.remove=function(Z,ve){if(!this.has(Z))return this;var q=Z.wrapped().key,de=ve===void 0?0:this.data[q].indexOf(ve),Ie=this.data[q][de];return this.data[q].splice(de,1),Ie.timeout&&clearTimeout(Ie.timeout),this.data[q].length===0&&delete this.data[q],this.onRemove(Ie.value),this.order.splice(this.order.indexOf(q),1),this},pe.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var ve=this._getAndRemoveByKey(this.order[0]);ve&&this.onRemove(ve)}return this},pe.prototype.filter=function(Z){var ve=[];for(var q in this.data)for(var de=0,Ie=this.data[q];de<Ie.length;de+=1){var Qe=Ie[de];Z(Qe.value)||ve.push(Qe)}for(var ut=0,St=ve;ut<St.length;ut+=1){var Ut=St[ut];this.remove(Ut.value.tileID,Ut)}};var Ae=function(Z,ve,q){this.context=Z;var de=Z.gl;this.buffer=de.createBuffer(),this.dynamicDraw=!!q,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),de.bufferData(de.ELEMENT_ARRAY_BUFFER,ve.arrayBuffer,this.dynamicDraw?de.DYNAMIC_DRAW:de.STATIC_DRAW),this.dynamicDraw||delete ve.arrayBuffer};Ae.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ae.prototype.updateData=function(Z){var ve=this.context.gl;this.context.unbindVAO(),this.bind(),ve.bufferSubData(ve.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},Ae.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var be={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Pe=function(Z,ve,q,de){this.length=ve.length,this.attributes=q,this.itemSize=ve.bytesPerElement,this.dynamicDraw=de,this.context=Z;var Ie=Z.gl;this.buffer=Ie.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Ie.bufferData(Ie.ARRAY_BUFFER,ve.arrayBuffer,this.dynamicDraw?Ie.DYNAMIC_DRAW:Ie.STATIC_DRAW),this.dynamicDraw||delete ve.arrayBuffer};Pe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Pe.prototype.updateData=function(Z){var ve=this.context.gl;this.bind(),ve.bufferSubData(ve.ARRAY_BUFFER,0,Z.arrayBuffer)},Pe.prototype.enableAttributes=function(Z,ve){for(var q=0;q<this.attributes.length;q++){var de=this.attributes[q],Ie=ve.attributes[de.name];Ie!==void 0&&Z.enableVertexAttribArray(Ie)}},Pe.prototype.setVertexAttribPointers=function(Z,ve,q){for(var de=0;de<this.attributes.length;de++){var Ie=this.attributes[de],Qe=ve.attributes[Ie.name];Qe!==void 0&&Z.vertexAttribPointer(Qe,Ie.components,Z[be[Ie.type]],!1,this.itemSize,Ie.offset+this.itemSize*(q||0))}},Pe.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var me=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};me.prototype.get=function(){return this.current},me.prototype.set=function(Z){},me.prototype.getDefault=function(){return this.default},me.prototype.setDefault=function(){this.set(this.default)};var Ee=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return i.Color.transparent},Z.prototype.set=function(q){var de=this.current;q.r===de.r&&q.g===de.g&&q.b===de.b&&q.a===de.a&&!this.dirty||(this.gl.clearColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},Z}(me),xe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.clearDepth(q),this.current=q,this.dirty=!1)},Z}(me),De=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.clearStencil(q),this.current=q,this.dirty=!1)},Z}(me),Ve=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&q[2]===de[2]&&q[3]===de[3]&&!this.dirty||(this.gl.colorMask(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},Z}(me),Ze=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.depthMask(q),this.current=q,this.dirty=!1)},Z}(me),ke=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.stencilMask(q),this.current=q,this.dirty=!1)},Z}(me),Ye=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(q){var de=this.current;q.func===de.func&&q.ref===de.ref&&q.mask===de.mask&&!this.dirty||(this.gl.stencilFunc(q.func,q.ref,q.mask),this.current=q,this.dirty=!1)},Z}(me),lt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var q=this.gl;return[q.KEEP,q.KEEP,q.KEEP]},Z.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&q[2]===de[2]&&!this.dirty||(this.gl.stencilOp(q[0],q[1],q[2]),this.current=q,this.dirty=!1)},Z}(me),yt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.STENCIL_TEST):de.disable(de.STENCIL_TEST),this.current=q,this.dirty=!1}},Z}(me),He=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&!this.dirty||(this.gl.depthRange(q[0],q[1]),this.current=q,this.dirty=!1)},Z}(me),Fe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.DEPTH_TEST):de.disable(de.DEPTH_TEST),this.current=q,this.dirty=!1}},Z}(me),nt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.depthFunc(q),this.current=q,this.dirty=!1)},Z}(me),ot=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.BLEND):de.disable(de.BLEND),this.current=q,this.dirty=!1}},Z}(me),ct=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var q=this.gl;return[q.ONE,q.ZERO]},Z.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&!this.dirty||(this.gl.blendFunc(q[0],q[1]),this.current=q,this.dirty=!1)},Z}(me),ht=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return i.Color.transparent},Z.prototype.set=function(q){var de=this.current;q.r===de.r&&q.g===de.g&&q.b===de.b&&q.a===de.a&&!this.dirty||(this.gl.blendColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},Z}(me),mt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.blendEquation(q),this.current=q,this.dirty=!1)},Z}(me),tt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;q?de.enable(de.CULL_FACE):de.disable(de.CULL_FACE),this.current=q,this.dirty=!1}},Z}(me),Re=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.cullFace(q),this.current=q,this.dirty=!1)},Z}(me),Ge=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.frontFace(q),this.current=q,this.dirty=!1)},Z}(me),Je=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.useProgram(q),this.current=q,this.dirty=!1)},Z}(me),Xe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(q){q===this.current&&!this.dirty||(this.gl.activeTexture(q),this.current=q,this.dirty=!1)},Z}(me),Oe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var q=this.gl;return[0,0,q.drawingBufferWidth,q.drawingBufferHeight]},Z.prototype.set=function(q){var de=this.current;q[0]===de[0]&&q[1]===de[1]&&q[2]===de[2]&&q[3]===de[3]&&!this.dirty||(this.gl.viewport(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},Z}(me),Ne=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindFramebuffer(de.FRAMEBUFFER,q),this.current=q,this.dirty=!1}},Z}(me),ze=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindRenderbuffer(de.RENDERBUFFER,q),this.current=q,this.dirty=!1}},Z}(me),et=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindTexture(de.TEXTURE_2D,q),this.current=q,this.dirty=!1}},Z}(me),Le=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.bindBuffer(de.ARRAY_BUFFER,q),this.current=q,this.dirty=!1}},Z}(me),Te=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){var de=this.gl;de.bindBuffer(de.ELEMENT_ARRAY_BUFFER,q),this.current=q,this.dirty=!1},Z}(me),ye=function(ce){function Z(ve){ce.call(this,ve),this.vao=ve.extVertexArrayObject}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(q){!this.vao||q===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(q),this.current=q,this.dirty=!1)},Z}(me),Se=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_ALIGNMENT,q),this.current=q,this.dirty=!1}},Z}(me),Ke=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q),this.current=q,this.dirty=!1}},Z}(me),rt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,q),this.current=q,this.dirty=!1}},Z}(me),Lt=function(ce){function Z(ve,q){ce.call(this,ve),this.context=ve,this.parent=q}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(me),It=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,q,0),this.current=q,this.dirty=!1}},Z}(Lt),wt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(q){if(!(q===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferRenderbuffer(de.FRAMEBUFFER,de.DEPTH_ATTACHMENT,de.RENDERBUFFER,q),this.current=q,this.dirty=!1}},Z}(Lt),Et=function(Z,ve,q,de){this.context=Z,this.width=ve,this.height=q;var Ie=Z.gl,Qe=this.framebuffer=Ie.createFramebuffer();this.colorAttachment=new It(Z,Qe),de&&(this.depthAttachment=new wt(Z,Qe))};Et.prototype.destroy=function(){var Z=this.context.gl,ve=this.colorAttachment.get();if(ve&&Z.deleteTexture(ve),this.depthAttachment){var q=this.depthAttachment.get();q&&Z.deleteRenderbuffer(q)}Z.deleteFramebuffer(this.framebuffer)};var Wt=519,vr=function(Z,ve,q){this.func=Z,this.mask=ve,this.range=q};vr.ReadOnly=!1,vr.ReadWrite=!0,vr.disabled=new vr(Wt,vr.ReadOnly,[0,1]);var dt=519,Yt=7680,jt=function(Z,ve,q,de,Ie,Qe){this.test=Z,this.ref=ve,this.mask=q,this.fail=de,this.depthFail=Ie,this.pass=Qe};jt.disabled=new jt({func:dt,mask:0},0,0,Yt,Yt,Yt);var gr=0,sr=1,gt=771,st=function(Z,ve,q){this.blendFunction=Z,this.blendColor=ve,this.mask=q};st.Replace=[sr,gr],st.disabled=new st(st.Replace,i.Color.transparent,[!1,!1,!1,!1]),st.unblended=new st(st.Replace,i.Color.transparent,[!0,!0,!0,!0]),st.alphaBlended=new st([sr,gt],i.Color.transparent,[!0,!0,!0,!0]);var xt=1029,Mt=2305,Rt=function(Z,ve,q){this.enable=Z,this.mode=ve,this.frontFace=q};Rt.disabled=new Rt(!1,xt,Mt),Rt.backCCW=new Rt(!0,xt,Mt);var Vt=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new xe(this),this.clearStencil=new De(this),this.colorMask=new Ve(this),this.depthMask=new Ze(this),this.stencilMask=new ke(this),this.stencilFunc=new Ye(this),this.stencilOp=new lt(this),this.stencilTest=new yt(this),this.depthRange=new He(this),this.depthTest=new Fe(this),this.depthFunc=new nt(this),this.blend=new ot(this),this.blendFunc=new ct(this),this.blendColor=new ht(this),this.blendEquation=new mt(this),this.cullFace=new tt(this),this.cullFaceSide=new Re(this),this.frontFace=new Ge(this),this.program=new Je(this),this.activeTexture=new Xe(this),this.viewport=new Oe(this),this.bindFramebuffer=new Ne(this),this.bindRenderbuffer=new ze(this),this.bindTexture=new et(this),this.bindVertexBuffer=new Le(this),this.bindElementBuffer=new Te(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new Se(this),this.pixelStoreUnpackPremultiplyAlpha=new Ke(this),this.pixelStoreUnpackFlipY=new rt(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Z.getParameter(Z.MAX_TEXTURE_SIZE)};Vt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Vt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Vt.prototype.createIndexBuffer=function(Z,ve){return new Ae(this,Z,ve)},Vt.prototype.createVertexBuffer=function(Z,ve,q){return new Pe(this,Z,ve,q)},Vt.prototype.createRenderbuffer=function(Z,ve,q){var de=this.gl,Ie=de.createRenderbuffer();return this.bindRenderbuffer.set(Ie),de.renderbufferStorage(de.RENDERBUFFER,Z,ve,q),this.bindRenderbuffer.set(null),Ie},Vt.prototype.createFramebuffer=function(Z,ve,q){return new Et(this,Z,ve,q)},Vt.prototype.clear=function(Z){var ve=Z.color,q=Z.depth,de=this.gl,Ie=0;ve&&(Ie|=de.COLOR_BUFFER_BIT,this.clearColor.set(ve),this.colorMask.set([!0,!0,!0,!0])),typeof q!="undefined"&&(Ie|=de.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(q),this.depthMask.set(!0)),de.clear(Ie)},Vt.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Vt.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Vt.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Vt.prototype.setColorMode=function(Z){i.deepEqual(Z.blendFunction,st.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Vt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ct=function(ce){function Z(ve,q,de){var Ie=this;ce.call(this),this.id=ve,this.dispatcher=de,this.on("data",function(Qe){Qe.dataType==="source"&&Qe.sourceDataType==="metadata"&&(Ie._sourceLoaded=!0),Ie._sourceLoaded&&!Ie._paused&&Qe.dataType==="source"&&Qe.sourceDataType==="content"&&(Ie.reload(),Ie.transform&&Ie.update(Ie.transform))}),this.on("error",function(){Ie._sourceErrored=!0}),this._source=j(ve,q,de,this),this._tiles={},this._cache=new pe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(q){this.map=q,this._maxTileCacheSize=q?q._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(q)},Z.prototype.onRemove=function(q){this._source&&this._source.onRemove&&this._source.onRemove(q)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var q in this._tiles){var de=this._tiles[q];if(de.state!=="loaded"&&de.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var q=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,q&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(q,de){return this._source.loadTile(q,de)},Z.prototype._unloadTile=function(q){if(this._source.unloadTile)return this._source.unloadTile(q,function(){})},Z.prototype._abortTile=function(q){if(this._source.abortTile)return this._source.abortTile(q,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(q){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var de in this._tiles){var Ie=this._tiles[de];Ie.upload(q),Ie.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return i.values(this._tiles).map(function(q){return q.tileID}).sort(Bt).map(function(q){return q.key})},Z.prototype.getRenderableIds=function(q){var de=this,Ie=[];for(var Qe in this._tiles)this._isIdRenderable(Qe,q)&&Ie.push(this._tiles[Qe]);return q?Ie.sort(function(ut,St){var Ut=ut.tileID,Kt=St.tileID,ar=new i.Point(Ut.canonical.x,Ut.canonical.y)._rotate(de.transform.angle),nr=new i.Point(Kt.canonical.x,Kt.canonical.y)._rotate(de.transform.angle);return Ut.overscaledZ-Kt.overscaledZ||nr.y-ar.y||nr.x-ar.x}).map(function(ut){return ut.tileID.key}):Ie.map(function(ut){return ut.tileID}).sort(Bt).map(function(ut){return ut.key})},Z.prototype.hasRenderableParent=function(q){var de=this.findLoadedParent(q,0);return de?this._isIdRenderable(de.tileID.key):!1},Z.prototype._isIdRenderable=function(q,de){return this._tiles[q]&&this._tiles[q].hasData()&&!this._coveredTiles[q]&&(de||!this._tiles[q].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var q in this._tiles)this._tiles[q].state!=="errored"&&this._reloadTile(q,"reloading")},Z.prototype._reloadTile=function(q,de){var Ie=this._tiles[q];Ie&&(Ie.state!=="loading"&&(Ie.state=de),this._loadTile(Ie,this._tileLoaded.bind(this,Ie,q,de)))},Z.prototype._tileLoaded=function(q,de,Ie,Qe){if(Qe){q.state="errored",Qe.status!==404?this._source.fire(new i.ErrorEvent(Qe,{tile:q})):this.update(this.transform);return}q.timeAdded=i.browser.now(),Ie==="expired"&&(q.refreshedUponExpiration=!0),this._setTileReloadTimer(de,q),this.getSource().type==="raster-dem"&&q.dem&&this._backfillDEM(q),this._state.initializeTileState(q,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:q,coord:q.tileID}))},Z.prototype._backfillDEM=function(q){for(var de=this.getRenderableIds(),Ie=0;Ie<de.length;Ie++){var Qe=de[Ie];if(q.neighboringTiles&&q.neighboringTiles[Qe]){var ut=this.getTileByID(Qe);St(q,ut),St(ut,q)}}function St(Ut,Kt){Ut.needsHillshadePrepare=!0;var ar=Kt.tileID.canonical.x-Ut.tileID.canonical.x,nr=Kt.tileID.canonical.y-Ut.tileID.canonical.y,Rr=Math.pow(2,Ut.tileID.canonical.z),Wr=Kt.tileID.key;ar===0&&nr===0||Math.abs(nr)>1||(Math.abs(ar)>1&&(Math.abs(ar+Rr)===1?ar+=Rr:Math.abs(ar-Rr)===1&&(ar-=Rr)),!(!Kt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(Kt.dem,ar,nr),Ut.neighboringTiles&&Ut.neighboringTiles[Wr]&&(Ut.neighboringTiles[Wr].backfilled=!0)))}},Z.prototype.getTile=function(q){return this.getTileByID(q.key)},Z.prototype.getTileByID=function(q){return this._tiles[q]},Z.prototype._retainLoadedChildren=function(q,de,Ie,Qe){for(var ut in this._tiles){var St=this._tiles[ut];if(!(Qe[ut]||!St.hasData()||St.tileID.overscaledZ<=de||St.tileID.overscaledZ>Ie)){for(var Ut=St.tileID;St&&St.tileID.overscaledZ>de+1;){var Kt=St.tileID.scaledTo(St.tileID.overscaledZ-1);St=this._tiles[Kt.key],St&&St.hasData()&&(Ut=Kt)}for(var ar=Ut;ar.overscaledZ>de;)if(ar=ar.scaledTo(ar.overscaledZ-1),q[ar.key]){Qe[Ut.key]=Ut;break}}}},Z.prototype.findLoadedParent=function(q,de){if(q.key in this._loadedParentTiles){var Ie=this._loadedParentTiles[q.key];return Ie&&Ie.tileID.overscaledZ>=de?Ie:null}for(var Qe=q.overscaledZ-1;Qe>=de;Qe--){var ut=q.scaledTo(Qe),St=this._getLoadedTile(ut);if(St)return St}},Z.prototype._getLoadedTile=function(q){var de=this._tiles[q.key];if(de&&de.hasData())return de;var Ie=this._cache.getByKey(q.wrapped().key);return Ie},Z.prototype.updateCacheSize=function(q){var de=Math.ceil(q.width/this._source.tileSize)+1,Ie=Math.ceil(q.height/this._source.tileSize)+1,Qe=de*Ie,ut=5,St=Math.floor(Qe*ut),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,St):St;this._cache.setMaxSize(Ut)},Z.prototype.handleWrapJump=function(q){var de=this._prevLng===void 0?q:this._prevLng,Ie=q-de,Qe=Ie/360,ut=Math.round(Qe);if(this._prevLng=q,ut){var St={};for(var Ut in this._tiles){var Kt=this._tiles[Ut];Kt.tileID=Kt.tileID.unwrapTo(Kt.tileID.wrap+ut),St[Kt.tileID.key]=Kt}this._tiles=St;for(var ar in this._timers)clearTimeout(this._timers[ar]),delete this._timers[ar];for(var nr in this._tiles){var Rr=this._tiles[nr];this._setTileReloadTimer(nr,Rr)}}},Z.prototype.update=function(q){var de=this;if(this.transform=q,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(q),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Ie;this.used?this._source.tileID?Ie=q.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(aa){return new i.OverscaledTileID(aa.canonical.z,aa.wrap,aa.canonical.z,aa.canonical.x,aa.canonical.y)}):(Ie=q.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Ie=Ie.filter(function(aa){return de._source.hasTile(aa)}))):Ie=[];var Qe=q.coveringZoomLevel(this._source),ut=Math.max(Qe-Z.maxOverzooming,this._source.minzoom),St=Math.max(Qe+Z.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(Ie,Qe);if(Xt(this._source.type)){for(var Kt={},ar={},nr=Object.keys(Ut),Rr=0,Wr=nr;Rr<Wr.length;Rr+=1){var Hr=Wr[Rr],Or=Ut[Hr],jr=this._tiles[Hr];if(!(!jr||jr.fadeEndTime&&jr.fadeEndTime<=i.browser.now())){var cn=this.findLoadedParent(Or,ut);cn&&(this._addTile(cn.tileID),Kt[cn.tileID.key]=cn.tileID),ar[Hr]=Or}}this._retainLoadedChildren(ar,Qe,St,Ut);for(var Rn in Kt)Ut[Rn]||(this._coveredTiles[Rn]=!0,Ut[Rn]=Kt[Rn])}for(var _n in Ut)this._tiles[_n].clearFadeHold();for(var Gn=i.keysDifference(this._tiles,Ut),Yn=0,Vn=Gn;Yn<Vn.length;Yn+=1){var Xn=Vn[Yn],jn=this._tiles[Xn];jn.hasSymbolBuckets&&!jn.holdingForFade()?jn.setHoldDuration(this.map._fadeDuration):(!jn.hasSymbolBuckets||jn.symbolFadeFinished())&&this._removeTile(Xn)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var q in this._tiles)this._tiles[q].holdingForFade()&&this._removeTile(q)},Z.prototype._updateRetainedTiles=function(q,de){for(var Ie={},Qe={},ut=Math.max(de-Z.maxOverzooming,this._source.minzoom),St=Math.max(de+Z.maxUnderzooming,this._source.minzoom),Ut={},Kt=0,ar=q;Kt<ar.length;Kt+=1){var nr=ar[Kt],Rr=this._addTile(nr);Ie[nr.key]=nr,!Rr.hasData()&&de<this._source.maxzoom&&(Ut[nr.key]=nr)}this._retainLoadedChildren(Ut,de,St,Ie);for(var Wr=0,Hr=q;Wr<Hr.length;Wr+=1){var Or=Hr[Wr],jr=this._tiles[Or.key];if(!jr.hasData()){if(de+1>this._source.maxzoom){var cn=Or.children(this._source.maxzoom)[0],Rn=this.getTile(cn);if(Rn&&Rn.hasData()){Ie[cn.key]=cn;continue}}else{var _n=Or.children(this._source.maxzoom);if(Ie[_n[0].key]&&Ie[_n[1].key]&&Ie[_n[2].key]&&Ie[_n[3].key])continue}for(var Gn=jr.wasRequested(),Yn=Or.overscaledZ-1;Yn>=ut;--Yn){var Vn=Or.scaledTo(Yn);if(Qe[Vn.key]||(Qe[Vn.key]=!0,jr=this.getTile(Vn),!jr&&Gn&&(jr=this._addTile(Vn)),jr&&(Ie[Vn.key]=Vn,Gn=jr.wasRequested(),jr.hasData())))break}}}return Ie},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var q in this._tiles){for(var de=[],Ie=void 0,Qe=this._tiles[q].tileID;Qe.overscaledZ>0;){if(Qe.key in this._loadedParentTiles){Ie=this._loadedParentTiles[Qe.key];break}de.push(Qe.key);var ut=Qe.scaledTo(Qe.overscaledZ-1);if(Ie=this._getLoadedTile(ut),Ie)break;Qe=ut}for(var St=0,Ut=de;St<Ut.length;St+=1){var Kt=Ut[St];this._loadedParentTiles[Kt]=Ie}}},Z.prototype._addTile=function(q){var de=this._tiles[q.key];if(de)return de;de=this._cache.getAndRemove(q),de&&(this._setTileReloadTimer(q.key,de),de.tileID=q,this._state.initializeTileState(de,this.map?this.map.painter:null),this._cacheTimers[q.key]&&(clearTimeout(this._cacheTimers[q.key]),delete this._cacheTimers[q.key],this._setTileReloadTimer(q.key,de)));var Ie=!!de;return Ie||(de=new i.Tile(q,this._source.tileSize*q.overscaleFactor()),this._loadTile(de,this._tileLoaded.bind(this,de,q.key,de.state))),de?(de.uses++,this._tiles[q.key]=de,Ie||this._source.fire(new i.Event("dataloading",{tile:de,coord:de.tileID,dataType:"source"})),de):null},Z.prototype._setTileReloadTimer=function(q,de){var Ie=this;q in this._timers&&(clearTimeout(this._timers[q]),delete this._timers[q]);var Qe=de.getExpiryTimeout();Qe&&(this._timers[q]=setTimeout(function(){Ie._reloadTile(q,"expired"),delete Ie._timers[q]},Qe))},Z.prototype._removeTile=function(q){var de=this._tiles[q];de&&(de.uses--,delete this._tiles[q],this._timers[q]&&(clearTimeout(this._timers[q]),delete this._timers[q]),!(de.uses>0)&&(de.hasData()&&de.state!=="reloading"?this._cache.add(de.tileID,de,de.getExpiryTimeout()):(de.aborted=!0,this._abortTile(de),this._unloadTile(de))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var q in this._tiles)this._removeTile(q);this._cache.reset()},Z.prototype.tilesIn=function(q,de,Ie){var Qe=this,ut=[],St=this.transform;if(!St)return ut;for(var Ut=Ie?St.getCameraQueryGeometry(q):q,Kt=q.map(function(Yn){return St.pointCoordinate(Yn)}),ar=Ut.map(function(Yn){return St.pointCoordinate(Yn)}),nr=this.getIds(),Rr=1/0,Wr=1/0,Hr=-1/0,Or=-1/0,jr=0,cn=ar;jr<cn.length;jr+=1){var Rn=cn[jr];Rr=Math.min(Rr,Rn.x),Wr=Math.min(Wr,Rn.y),Hr=Math.max(Hr,Rn.x),Or=Math.max(Or,Rn.y)}for(var _n=function(Yn){var Vn=Qe._tiles[nr[Yn]];if(!Vn.holdingForFade()){var Xn=Vn.tileID,jn=Math.pow(2,St.zoom-Vn.tileID.overscaledZ),aa=de*Vn.queryPadding*i.EXTENT/Vn.tileSize/jn,ga=[Xn.getTilePoint(new i.MercatorCoordinate(Rr,Wr)),Xn.getTilePoint(new i.MercatorCoordinate(Hr,Or))];if(ga[0].x-aa<i.EXTENT&&ga[0].y-aa<i.EXTENT&&ga[1].x+aa>=0&&ga[1].y+aa>=0){var ua=Kt.map(function(Ja){return Xn.getTilePoint(Ja)}),Fa=ar.map(function(Ja){return Xn.getTilePoint(Ja)});ut.push({tile:Vn,tileID:Xn,queryGeometry:ua,cameraQueryGeometry:Fa,scale:jn})}}},Gn=0;Gn<nr.length;Gn++)_n(Gn);return ut},Z.prototype.getVisibleCoordinates=function(q){for(var de=this,Ie=this.getRenderableIds(q).map(function(Ut){return de._tiles[Ut].tileID}),Qe=0,ut=Ie;Qe<ut.length;Qe+=1){var St=ut[Qe];St.posMatrix=this.transform.calculatePosMatrix(St.toUnwrapped())}return Ie},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Xt(this._source.type))for(var q in this._tiles){var de=this._tiles[q];if(de.fadeEndTime!==void 0&&de.fadeEndTime>=i.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(q,de,Ie){q=q||"_geojsonTileLayer",this._state.updateState(q,de,Ie)},Z.prototype.removeFeatureState=function(q,de,Ie){q=q||"_geojsonTileLayer",this._state.removeFeatureState(q,de,Ie)},Z.prototype.getFeatureState=function(q,de){return q=q||"_geojsonTileLayer",this._state.getState(q,de)},Z.prototype.setDependencies=function(q,de,Ie){var Qe=this._tiles[q];Qe&&Qe.setDependencies(de,Ie)},Z.prototype.reloadTilesForDependencies=function(q,de){for(var Ie in this._tiles){var Qe=this._tiles[Ie];Qe.hasDependency(q,de)&&this._reloadTile(Ie,"reloading")}this._cache.filter(function(ut){return!ut.hasDependency(q,de)})},Z}(i.Evented);Ct.maxOverzooming=10,Ct.maxUnderzooming=3;function Bt(ce,Z){var ve=Math.abs(ce.wrap*2)-+(ce.wrap<0),q=Math.abs(Z.wrap*2)-+(Z.wrap<0);return ce.overscaledZ-Z.overscaledZ||q-ve||Z.canonical.y-ce.canonical.y||Z.canonical.x-ce.canonical.x}function Xt(ce){return ce==="raster"||ce==="image"||ce==="video"}function ir(){return new i.window.Worker(qi.workerUrl)}var or="mapboxgl_preloaded_worker_pool",cr=function(){this.active={}};cr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<cr.workerCount;)this.workers.push(new ir);return this.active[Z]=!0,this.workers.slice()},cr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(ve){ve.terminate()}),this.workers=null)},cr.prototype.isPreloaded=function(){return!!this.active[or]},cr.prototype.numActive=function(){return Object.keys(this.active).length};var We=Math.floor(i.browser.hardwareConcurrency/2);cr.workerCount=Math.max(Math.min(We,6),1);var Ue;function Ft(){return Ue||(Ue=new cr),Ue}function kt(){var ce=Ft();ce.acquire(or)}function Zt(){var ce=Ue;ce&&(ce.isPreloaded()&&ce.numActive()===1?(ce.release(or),Ue=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function rr(ce,Z){var ve={};for(var q in ce)q!=="ref"&&(ve[q]=ce[q]);return i.refProperties.forEach(function(de){de in Z&&(ve[de]=Z[de])}),ve}function lr(ce){ce=ce.slice();for(var Z=Object.create(null),ve=0;ve<ce.length;ve++)Z[ce[ve].id]=ce[ve];for(var q=0;q<ce.length;q++)"ref"in ce[q]&&(ce[q]=rr(ce[q],Z[ce[q].ref]));return ce}function qt(){var ce={},Z=i.styleSpec.$version;for(var ve in i.styleSpec.$root){var q=i.styleSpec.$root[ve];if(q.required){var de=null;ve==="version"?de=Z:q.type==="array"?de=[]:de={},de!=null&&(ce[ve]=de)}}return ce}var Ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function tr(ce,Z,ve){ve.push({command:Ot.addSource,args:[ce,Z[ce]]})}function dr(ce,Z,ve){Z.push({command:Ot.removeSource,args:[ce]}),ve[ce]=!0}function mr(ce,Z,ve,q){dr(ce,ve,q),tr(ce,Z,ve)}function Cr(ce,Z,ve){var q;for(q in ce[ve])if(ce[ve].hasOwnProperty(q)&&q!=="data"&&!i.deepEqual(ce[ve][q],Z[ve][q]))return!1;for(q in Z[ve])if(Z[ve].hasOwnProperty(q)&&q!=="data"&&!i.deepEqual(ce[ve][q],Z[ve][q]))return!1;return!0}function $r(ce,Z,ve,q){ce=ce||{},Z=Z||{};var de;for(de in ce)ce.hasOwnProperty(de)&&(Z.hasOwnProperty(de)||dr(de,ve,q));for(de in Z)Z.hasOwnProperty(de)&&(ce.hasOwnProperty(de)?i.deepEqual(ce[de],Z[de])||(ce[de].type==="geojson"&&Z[de].type==="geojson"&&Cr(ce,Z,de)?ve.push({command:Ot.setGeoJSONSourceData,args:[de,Z[de].data]}):mr(de,Z,ve,q)):tr(de,Z,ve))}function yr(ce,Z,ve,q,de,Ie){ce=ce||{},Z=Z||{};var Qe;for(Qe in ce)ce.hasOwnProperty(Qe)&&(i.deepEqual(ce[Qe],Z[Qe])||ve.push({command:Ie,args:[q,Qe,Z[Qe],de]}));for(Qe in Z)!Z.hasOwnProperty(Qe)||ce.hasOwnProperty(Qe)||i.deepEqual(ce[Qe],Z[Qe])||ve.push({command:Ie,args:[q,Qe,Z[Qe],de]})}function Gr(ce){return ce.id}function rn(ce,Z){return ce[Z.id]=Z,ce}function _r(ce,Z,ve){ce=ce||[],Z=Z||[];var q=ce.map(Gr),de=Z.map(Gr),Ie=ce.reduce(rn,{}),Qe=Z.reduce(rn,{}),ut=q.slice(),St=Object.create(null),Ut,Kt,ar,nr,Rr,Wr,Hr;for(Ut=0,Kt=0;Ut<q.length;Ut++)ar=q[Ut],Qe.hasOwnProperty(ar)?Kt++:(ve.push({command:Ot.removeLayer,args:[ar]}),ut.splice(ut.indexOf(ar,Kt),1));for(Ut=0,Kt=0;Ut<de.length;Ut++)ar=de[de.length-1-Ut],ut[ut.length-1-Ut]!==ar&&(Ie.hasOwnProperty(ar)?(ve.push({command:Ot.removeLayer,args:[ar]}),ut.splice(ut.lastIndexOf(ar,ut.length-Kt),1)):Kt++,Wr=ut[ut.length-Ut],ve.push({command:Ot.addLayer,args:[Qe[ar],Wr]}),ut.splice(ut.length-Ut,0,ar),St[ar]=!0);for(Ut=0;Ut<de.length;Ut++)if(ar=de[Ut],nr=Ie[ar],Rr=Qe[ar],!(St[ar]||i.deepEqual(nr,Rr))){if(!i.deepEqual(nr.source,Rr.source)||!i.deepEqual(nr["source-layer"],Rr["source-layer"])||!i.deepEqual(nr.type,Rr.type)){ve.push({command:Ot.removeLayer,args:[ar]}),Wr=ut[ut.lastIndexOf(ar)+1],ve.push({command:Ot.addLayer,args:[Rr,Wr]});continue}yr(nr.layout,Rr.layout,ve,ar,null,Ot.setLayoutProperty),yr(nr.paint,Rr.paint,ve,ar,null,Ot.setPaintProperty),i.deepEqual(nr.filter,Rr.filter)||ve.push({command:Ot.setFilter,args:[ar,Rr.filter]}),(!i.deepEqual(nr.minzoom,Rr.minzoom)||!i.deepEqual(nr.maxzoom,Rr.maxzoom))&&ve.push({command:Ot.setLayerZoomRange,args:[ar,Rr.minzoom,Rr.maxzoom]});for(Hr in nr)nr.hasOwnProperty(Hr)&&(Hr==="layout"||Hr==="paint"||Hr==="filter"||Hr==="metadata"||Hr==="minzoom"||Hr==="maxzoom"||(Hr.indexOf("paint.")===0?yr(nr[Hr],Rr[Hr],ve,ar,Hr.slice(6),Ot.setPaintProperty):i.deepEqual(nr[Hr],Rr[Hr])||ve.push({command:Ot.setLayerProperty,args:[ar,Hr,Rr[Hr]]})));for(Hr in Rr)!Rr.hasOwnProperty(Hr)||nr.hasOwnProperty(Hr)||Hr==="layout"||Hr==="paint"||Hr==="filter"||Hr==="metadata"||Hr==="minzoom"||Hr==="maxzoom"||(Hr.indexOf("paint.")===0?yr(nr[Hr],Rr[Hr],ve,ar,Hr.slice(6),Ot.setPaintProperty):i.deepEqual(nr[Hr],Rr[Hr])||ve.push({command:Ot.setLayerProperty,args:[ar,Hr,Rr[Hr]]}))}}function bn(ce,Z){if(!ce)return[{command:Ot.setStyle,args:[Z]}];var ve=[];try{if(!i.deepEqual(ce.version,Z.version))return[{command:Ot.setStyle,args:[Z]}];i.deepEqual(ce.center,Z.center)||ve.push({command:Ot.setCenter,args:[Z.center]}),i.deepEqual(ce.zoom,Z.zoom)||ve.push({command:Ot.setZoom,args:[Z.zoom]}),i.deepEqual(ce.bearing,Z.bearing)||ve.push({command:Ot.setBearing,args:[Z.bearing]}),i.deepEqual(ce.pitch,Z.pitch)||ve.push({command:Ot.setPitch,args:[Z.pitch]}),i.deepEqual(ce.sprite,Z.sprite)||ve.push({command:Ot.setSprite,args:[Z.sprite]}),i.deepEqual(ce.glyphs,Z.glyphs)||ve.push({command:Ot.setGlyphs,args:[Z.glyphs]}),i.deepEqual(ce.transition,Z.transition)||ve.push({command:Ot.setTransition,args:[Z.transition]}),i.deepEqual(ce.light,Z.light)||ve.push({command:Ot.setLight,args:[Z.light]});var q={},de=[];$r(ce.sources,Z.sources,de,q);var Ie=[];ce.layers&&ce.layers.forEach(function(Qe){q[Qe.source]?ve.push({command:Ot.removeLayer,args:[Qe.id]}):Ie.push(Qe)}),ve=ve.concat(de),_r(Ie,Z.layers,ve)}catch(Qe){console.warn("Unable to compute style diff:",Qe),ve=[{command:Ot.setStyle,args:[Z]}]}return ve}var xn=function(Z,ve){this.reset(Z,ve)};xn.prototype.reset=function(Z,ve){this.points=Z||[],this._distances=[0];for(var q=1;q<this.points.length;q++)this._distances[q]=this._distances[q-1]+this.points[q].dist(this.points[q-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ve||0,this.length*.5),this.paddedLength=this.length-this.padding*2},xn.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=i.clamp(Z,0,1);for(var ve=1,q=this._distances[ve],de=Z*this.paddedLength+this.padding;q<de&&ve<this._distances.length;)q=this._distances[++ve];var Ie=ve-1,Qe=this._distances[Ie],ut=q-Qe,St=ut>0?(de-Qe)/ut:0;return this.points[Ie].mult(1-St).add(this.points[ve].mult(St))};var fr=function(Z,ve,q){var de=this.boxCells=[],Ie=this.circleCells=[];this.xCellCount=Math.ceil(Z/q),this.yCellCount=Math.ceil(ve/q);for(var Qe=0;Qe<this.xCellCount*this.yCellCount;Qe++)de.push([]),Ie.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=ve,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/ve,this.boxUid=0,this.circleUid=0};fr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},fr.prototype.insert=function(Z,ve,q,de,Ie){this._forEachCell(ve,q,de,Ie,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(ve),this.bboxes.push(q),this.bboxes.push(de),this.bboxes.push(Ie)},fr.prototype.insertCircle=function(Z,ve,q,de){this._forEachCell(ve-de,q-de,ve+de,q+de,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(ve),this.circles.push(q),this.circles.push(de)},fr.prototype._insertBoxCell=function(Z,ve,q,de,Ie,Qe){this.boxCells[Ie].push(Qe)},fr.prototype._insertCircleCell=function(Z,ve,q,de,Ie,Qe){this.circleCells[Ie].push(Qe)},fr.prototype._query=function(Z,ve,q,de,Ie,Qe){if(q<0||Z>this.width||de<0||ve>this.height)return Ie?!1:[];var ut=[];if(Z<=0&&ve<=0&&this.width<=q&&this.height<=de){if(Ie)return!0;for(var St=0;St<this.boxKeys.length;St++)ut.push({key:this.boxKeys[St],x1:this.bboxes[St*4],y1:this.bboxes[St*4+1],x2:this.bboxes[St*4+2],y2:this.bboxes[St*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var Kt=this.circles[Ut*3],ar=this.circles[Ut*3+1],nr=this.circles[Ut*3+2];ut.push({key:this.circleKeys[Ut],x1:Kt-nr,y1:ar-nr,x2:Kt+nr,y2:ar+nr})}return Qe?ut.filter(Qe):ut}else{var Rr={hitTest:Ie,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,ve,q,de,this._queryCell,ut,Rr,Qe),Ie?ut.length>0:ut}},fr.prototype._queryCircle=function(Z,ve,q,de,Ie){var Qe=Z-q,ut=Z+q,St=ve-q,Ut=ve+q;if(ut<0||Qe>this.width||Ut<0||St>this.height)return de?!1:[];var Kt=[],ar={hitTest:de,circle:{x:Z,y:ve,radius:q},seenUids:{box:{},circle:{}}};return this._forEachCell(Qe,St,ut,Ut,this._queryCellCircle,Kt,ar,Ie),de?Kt.length>0:Kt},fr.prototype.query=function(Z,ve,q,de,Ie){return this._query(Z,ve,q,de,!1,Ie)},fr.prototype.hitTest=function(Z,ve,q,de,Ie){return this._query(Z,ve,q,de,!0,Ie)},fr.prototype.hitTestCircle=function(Z,ve,q,de){return this._queryCircle(Z,ve,q,!0,de)},fr.prototype._queryCell=function(Z,ve,q,de,Ie,Qe,ut,St){var Ut=ut.seenUids,Kt=this.boxCells[Ie];if(Kt!==null)for(var ar=this.bboxes,nr=0,Rr=Kt;nr<Rr.length;nr+=1){var Wr=Rr[nr];if(!Ut.box[Wr]){Ut.box[Wr]=!0;var Hr=Wr*4;if(Z<=ar[Hr+2]&&ve<=ar[Hr+3]&&q>=ar[Hr+0]&&de>=ar[Hr+1]&&(!St||St(this.boxKeys[Wr]))){if(ut.hitTest)return Qe.push(!0),!0;Qe.push({key:this.boxKeys[Wr],x1:ar[Hr],y1:ar[Hr+1],x2:ar[Hr+2],y2:ar[Hr+3]})}}}var Or=this.circleCells[Ie];if(Or!==null)for(var jr=this.circles,cn=0,Rn=Or;cn<Rn.length;cn+=1){var _n=Rn[cn];if(!Ut.circle[_n]){Ut.circle[_n]=!0;var Gn=_n*3;if(this._circleAndRectCollide(jr[Gn],jr[Gn+1],jr[Gn+2],Z,ve,q,de)&&(!St||St(this.circleKeys[_n]))){if(ut.hitTest)return Qe.push(!0),!0;var Yn=jr[Gn],Vn=jr[Gn+1],Xn=jr[Gn+2];Qe.push({key:this.circleKeys[_n],x1:Yn-Xn,y1:Vn-Xn,x2:Yn+Xn,y2:Vn+Xn})}}}},fr.prototype._queryCellCircle=function(Z,ve,q,de,Ie,Qe,ut,St){var Ut=ut.circle,Kt=ut.seenUids,ar=this.boxCells[Ie];if(ar!==null)for(var nr=this.bboxes,Rr=0,Wr=ar;Rr<Wr.length;Rr+=1){var Hr=Wr[Rr];if(!Kt.box[Hr]){Kt.box[Hr]=!0;var Or=Hr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,nr[Or+0],nr[Or+1],nr[Or+2],nr[Or+3])&&(!St||St(this.boxKeys[Hr])))return Qe.push(!0),!0}}var jr=this.circleCells[Ie];if(jr!==null)for(var cn=this.circles,Rn=0,_n=jr;Rn<_n.length;Rn+=1){var Gn=_n[Rn];if(!Kt.circle[Gn]){Kt.circle[Gn]=!0;var Yn=Gn*3;if(this._circlesCollide(cn[Yn],cn[Yn+1],cn[Yn+2],Ut.x,Ut.y,Ut.radius)&&(!St||St(this.circleKeys[Gn])))return Qe.push(!0),!0}}},fr.prototype._forEachCell=function(Z,ve,q,de,Ie,Qe,ut,St){for(var Ut=this._convertToXCellCoord(Z),Kt=this._convertToYCellCoord(ve),ar=this._convertToXCellCoord(q),nr=this._convertToYCellCoord(de),Rr=Ut;Rr<=ar;Rr++)for(var Wr=Kt;Wr<=nr;Wr++){var Hr=this.xCellCount*Wr+Rr;if(Ie.call(this,Z,ve,q,de,Hr,Qe,ut,St))return}},fr.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},fr.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},fr.prototype._circlesCollide=function(Z,ve,q,de,Ie,Qe){var ut=de-Z,St=Ie-ve,Ut=q+Qe;return Ut*Ut>ut*ut+St*St},fr.prototype._circleAndRectCollide=function(Z,ve,q,de,Ie,Qe,ut){var St=(Qe-de)/2,Ut=Math.abs(Z-(de+St));if(Ut>St+q)return!1;var Kt=(ut-Ie)/2,ar=Math.abs(ve-(Ie+Kt));if(ar>Kt+q)return!1;if(Ut<=St||ar<=Kt)return!0;var nr=Ut-St,Rr=ar-Kt;return nr*nr+Rr*Rr<=q*q};function Dr(ce,Z,ve,q,de){var Ie=i.create();return Z?(i.scale(Ie,Ie,[1/de,1/de,1]),ve||i.rotateZ(Ie,Ie,q.angle)):i.multiply(Ie,q.labelPlaneMatrix,ce),Ie}function Nr(ce,Z,ve,q,de){if(Z){var Ie=i.clone(ce);return i.scale(Ie,Ie,[de,de,1]),ve||i.rotateZ(Ie,Ie,-q.angle),Ie}else return q.glCoordMatrix}function Ur(ce,Z){var ve=[ce.x,ce.y,0,1];pr(ve,ve,Z);var q=ve[3];return{point:new i.Point(ve[0]/q,ve[1]/q),signedDistanceFromCamera:q}}function on(ce,Z){return .5+.5*(ce/Z)}function gn(ce,Z){var ve=ce[0]/ce[3],q=ce[1]/ce[3],de=ve>=-Z[0]&&ve<=Z[0]&&q>=-Z[1]&&q<=Z[1];return de}function yn(ce,Z,ve,q,de,Ie,Qe,ut){var St=q?ce.textSizeData:ce.iconSizeData,Ut=i.evaluateSizeForZoom(St,ve.transform.zoom),Kt=[256/ve.width*2+1,256/ve.height*2+1],ar=q?ce.text.dynamicLayoutVertexArray:ce.icon.dynamicLayoutVertexArray;ar.clear();for(var nr=ce.lineVertexArray,Rr=q?ce.text.placedSymbolArray:ce.icon.placedSymbolArray,Wr=ve.transform.width/ve.transform.height,Hr=!1,Or=0;Or<Rr.length;Or++){var jr=Rr.get(Or);if(jr.hidden||jr.writingMode===i.WritingMode.vertical&&!Hr){ea(jr.numGlyphs,ar);continue}Hr=!1;var cn=[jr.anchorX,jr.anchorY,0,1];if(i.transformMat4(cn,cn,Z),!gn(cn,Kt)){ea(jr.numGlyphs,ar);continue}var Rn=cn[3],_n=on(ve.transform.cameraToCenterDistance,Rn),Gn=i.evaluateSizeForFeature(St,Ut,jr),Yn=Qe?Gn/_n:Gn*_n,Vn=new i.Point(jr.anchorX,jr.anchorY),Xn=Ur(Vn,de).point,jn={},aa=ta(jr,Yn,!1,ut,Z,de,Ie,ce.glyphOffsetArray,nr,ar,Xn,Vn,jn,Wr);Hr=aa.useVertical,(aa.notEnoughRoom||Hr||aa.needsFlipping&&ta(jr,Yn,!0,ut,Z,de,Ie,ce.glyphOffsetArray,nr,ar,Xn,Vn,jn,Wr).notEnoughRoom)&&ea(jr.numGlyphs,ar)}q?ce.text.dynamicLayoutVertexBuffer.updateData(ar):ce.icon.dynamicLayoutVertexBuffer.updateData(ar)}function Pn(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt){var ar=ut.glyphStartIndex+ut.numGlyphs,nr=ut.lineStartIndex,Rr=ut.lineStartIndex+ut.lineLength,Wr=Z.getoffsetX(ut.glyphStartIndex),Hr=Z.getoffsetX(ar-1),Or=ra(ce*Wr,ve,q,de,Ie,Qe,ut.segment,nr,Rr,St,Ut,Kt);if(!Or)return null;var jr=ra(ce*Hr,ve,q,de,Ie,Qe,ut.segment,nr,Rr,St,Ut,Kt);return jr?{first:Or,last:jr}:null}function zn(ce,Z,ve,q){if(ce===i.WritingMode.horizontal){var de=Math.abs(ve.y-Z.y),Ie=Math.abs(ve.x-Z.x)*q;if(de>Ie)return{useVertical:!0}}return(ce===i.WritingMode.vertical?Z.y<ve.y:Z.x>ve.x)?{needsFlipping:!0}:null}function ta(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt,ar,nr,Rr){var Wr=Z/24,Hr=ce.lineOffsetX*Wr,Or=ce.lineOffsetY*Wr,jr;if(ce.numGlyphs>1){var cn=ce.glyphStartIndex+ce.numGlyphs,Rn=ce.lineStartIndex,_n=ce.lineStartIndex+ce.lineLength,Gn=Pn(Wr,ut,Hr,Or,ve,Kt,ar,ce,St,Ie,nr);if(!Gn)return{notEnoughRoom:!0};var Yn=Ur(Gn.first.point,Qe).point,Vn=Ur(Gn.last.point,Qe).point;if(q&&!ve){var Xn=zn(ce.writingMode,Yn,Vn,Rr);if(Xn)return Xn}jr=[Gn.first];for(var jn=ce.glyphStartIndex+1;jn<cn-1;jn++)jr.push(ra(Wr*ut.getoffsetX(jn),Hr,Or,ve,Kt,ar,ce.segment,Rn,_n,St,Ie,nr));jr.push(Gn.last)}else{if(q&&!ve){var aa=Ur(ar,de).point,ga=ce.lineStartIndex+ce.segment+1,ua=new i.Point(St.getx(ga),St.gety(ga)),Fa=Ur(ua,de),Ja=Fa.signedDistanceFromCamera>0?Fa.point:Un(ar,ua,aa,1,de),Ya=zn(ce.writingMode,aa,Ja,Rr);if(Ya)return Ya}var Aa=ra(Wr*ut.getoffsetX(ce.glyphStartIndex),Hr,Or,ve,Kt,ar,ce.segment,ce.lineStartIndex,ce.lineStartIndex+ce.lineLength,St,Ie,nr);if(!Aa)return{notEnoughRoom:!0};jr=[Aa]}for(var Xa=0,Ba=jr;Xa<Ba.length;Xa+=1){var ei=Ba[Xa];i.addDynamicAttributes(Ut,ei.point,ei.angle)}return{}}function Un(ce,Z,ve,q,de){var Ie=Ur(ce.add(ce.sub(Z)._unit()),de).point,Qe=ve.sub(Ie);return ve.add(Qe._mult(q/Qe.mag()))}function ra(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt,ar){var nr=q?ce-Z:ce+Z,Rr=nr>0?1:-1,Wr=0;q&&(Rr*=-1,Wr=Math.PI),Rr<0&&(Wr+=Math.PI);for(var Hr=Rr>0?ut+Qe:ut+Qe+1,Or=de,jr=de,cn=0,Rn=0,_n=Math.abs(nr),Gn=[];cn+Rn<=_n;){if(Hr+=Rr,Hr<ut||Hr>=St)return null;if(jr=Or,Gn.push(Or),Or=ar[Hr],Or===void 0){var Yn=new i.Point(Ut.getx(Hr),Ut.gety(Hr)),Vn=Ur(Yn,Kt);if(Vn.signedDistanceFromCamera>0)Or=ar[Hr]=Vn.point;else{var Xn=Hr-Rr,jn=cn===0?Ie:new i.Point(Ut.getx(Xn),Ut.gety(Xn));Or=Un(jn,Yn,jr,_n-cn+1,Kt)}}cn+=Rn,Rn=jr.dist(Or)}var aa=(_n-cn)/Rn,ga=Or.sub(jr),ua=ga.mult(aa)._add(jr);ua._add(ga._unit()._perp()._mult(ve*Rr));var Fa=Wr+Math.atan2(Or.y-jr.y,Or.x-jr.x);return Gn.push(ua),{point:ua,angle:Fa,path:Gn}}var Jn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ea(ce,Z){for(var ve=0;ve<ce;ve++){var q=Z.length;Z.resize(q+4),Z.float32.set(Jn,q*3)}}function pr(ce,Z,ve){var q=Z[0],de=Z[1];return ce[0]=ve[0]*q+ve[4]*de+ve[12],ce[1]=ve[1]*q+ve[5]*de+ve[13],ce[3]=ve[3]*q+ve[7]*de+ve[15],ce}var Jr=100,Xr=function(Z,ve,q){ve===void 0&&(ve=new fr(Z.width+2*Jr,Z.height+2*Jr,25)),q===void 0&&(q=new fr(Z.width+2*Jr,Z.height+2*Jr,25)),this.transform=Z,this.grid=ve,this.ignoredGrid=q,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+Jr,this.screenBottomBoundary=Z.height+Jr,this.gridRightBoundary=Z.width+2*Jr,this.gridBottomBoundary=Z.height+2*Jr};Xr.prototype.placeCollisionBox=function(Z,ve,q,de,Ie){var Qe=this.projectAndGetPerspectiveRatio(de,Z.anchorPointX,Z.anchorPointY),ut=q*Qe.perspectiveRatio,St=Z.x1*ut+Qe.point.x,Ut=Z.y1*ut+Qe.point.y,Kt=Z.x2*ut+Qe.point.x,ar=Z.y2*ut+Qe.point.y;return!this.isInsideGrid(St,Ut,Kt,ar)||!ve&&this.grid.hitTest(St,Ut,Kt,ar,Ie)?{box:[],offscreen:!1}:{box:[St,Ut,Kt,ar],offscreen:this.isOffscreen(St,Ut,Kt,ar)}},Xr.prototype.placeCollisionCircles=function(Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt,ar,nr,Rr){var Wr=[],Hr=new i.Point(ve.anchorX,ve.anchorY),Or=Ur(Hr,Qe),jr=on(this.transform.cameraToCenterDistance,Or.signedDistanceFromCamera),cn=Kt?Ie/jr:Ie*jr,Rn=cn/i.ONE_EM,_n=Ur(Hr,ut).point,Gn={},Yn=ve.lineOffsetX*Rn,Vn=ve.lineOffsetY*Rn,Xn=Pn(Rn,de,Yn,Vn,!1,_n,Hr,ve,q,ut,Gn),jn=!1,aa=!1,ga=!0;if(Xn){for(var ua=nr*.5*jr+Rr,Fa=new i.Point(-Jr,-Jr),Ja=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),Ya=new xn,Aa=Xn.first,Xa=Xn.last,Ba=[],ei=Aa.path.length-1;ei>=1;ei--)Ba.push(Aa.path[ei]);for(var $a=1;$a<Xa.path.length;$a++)Ba.push(Xa.path[$a]);var wi=ua*2.5;if(St){var Ka=Ba.map(function(bl){return Ur(bl,St)});Ka.some(function(bl){return bl.signedDistanceFromCamera<=0})?Ba=[]:Ba=Ka.map(function(bl){return bl.point})}var vi=[];if(Ba.length>0){for(var Na=Ba[0].clone(),Qa=Ba[0].clone(),Ui=1;Ui<Ba.length;Ui++)Na.x=Math.min(Na.x,Ba[Ui].x),Na.y=Math.min(Na.y,Ba[Ui].y),Qa.x=Math.max(Qa.x,Ba[Ui].x),Qa.y=Math.max(Qa.y,Ba[Ui].y);Na.x>=Fa.x&&Qa.x<=Ja.x&&Na.y>=Fa.y&&Qa.y<=Ja.y?vi=[Ba]:Qa.x<Fa.x||Na.x>Ja.x||Qa.y<Fa.y||Na.y>Ja.y?vi=[]:vi=i.clipLine([Ba],Fa.x,Fa.y,Ja.x,Ja.y)}for(var lo=0,$s=vi;lo<$s.length;lo+=1){var qs=$s[lo];Ya.reset(qs,ua*.25);var ml=0;Ya.length<=.5*ua?ml=1:ml=Math.ceil(Ya.paddedLength/wi)+1;for(var Zl=0;Zl<ml;Zl++){var zf=Zl/Math.max(ml-1,1),jl=Ya.lerp(zf),Ko=jl.x+Jr,Kl=jl.y+Jr;Wr.push(Ko,Kl,ua,0);var ds=Ko-ua,Jo=Kl-ua,xl=Ko+ua,Lu=Kl+ua;if(ga=ga&&this.isOffscreen(ds,Jo,xl,Lu),aa=aa||this.isInsideGrid(ds,Jo,xl,Lu),!Z&&this.grid.hitTestCircle(Ko,Kl,ua,ar)&&(jn=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:jn}}}}return{circles:!Ut&&jn||!aa?[]:Wr,offscreen:ga,collisionDetected:jn}},Xr.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ve=[],q=1/0,de=1/0,Ie=-1/0,Qe=-1/0,ut=0,St=Z;ut<St.length;ut+=1){var Ut=St[ut],Kt=new i.Point(Ut.x+Jr,Ut.y+Jr);q=Math.min(q,Kt.x),de=Math.min(de,Kt.y),Ie=Math.max(Ie,Kt.x),Qe=Math.max(Qe,Kt.y),ve.push(Kt)}for(var ar=this.grid.query(q,de,Ie,Qe).concat(this.ignoredGrid.query(q,de,Ie,Qe)),nr={},Rr={},Wr=0,Hr=ar;Wr<Hr.length;Wr+=1){var Or=Hr[Wr],jr=Or.key;if(nr[jr.bucketInstanceId]===void 0&&(nr[jr.bucketInstanceId]={}),!nr[jr.bucketInstanceId][jr.featureIndex]){var cn=[new i.Point(Or.x1,Or.y1),new i.Point(Or.x2,Or.y1),new i.Point(Or.x2,Or.y2),new i.Point(Or.x1,Or.y2)];i.polygonIntersectsPolygon(ve,cn)&&(nr[jr.bucketInstanceId][jr.featureIndex]=!0,Rr[jr.bucketInstanceId]===void 0&&(Rr[jr.bucketInstanceId]=[]),Rr[jr.bucketInstanceId].push(jr.featureIndex))}}return Rr},Xr.prototype.insertCollisionBox=function(Z,ve,q,de,Ie){var Qe=ve?this.ignoredGrid:this.grid,ut={bucketInstanceId:q,featureIndex:de,collisionGroupID:Ie};Qe.insert(ut,Z[0],Z[1],Z[2],Z[3])},Xr.prototype.insertCollisionCircles=function(Z,ve,q,de,Ie){for(var Qe=ve?this.ignoredGrid:this.grid,ut={bucketInstanceId:q,featureIndex:de,collisionGroupID:Ie},St=0;St<Z.length;St+=4)Qe.insertCircle(ut,Z[St],Z[St+1],Z[St+2])},Xr.prototype.projectAndGetPerspectiveRatio=function(Z,ve,q){var de=[ve,q,0,1];pr(de,de,Z);var Ie=new i.Point((de[0]/de[3]+1)/2*this.transform.width+Jr,(-de[1]/de[3]+1)/2*this.transform.height+Jr);return{point:Ie,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/de[3])}},Xr.prototype.isOffscreen=function(Z,ve,q,de){return q<Jr||Z>=this.screenRightBoundary||de<Jr||ve>this.screenBottomBoundary},Xr.prototype.isInsideGrid=function(Z,ve,q,de){return q>=0&&Z<this.gridRightBoundary&&de>=0&&ve<this.gridBottomBoundary},Xr.prototype.getViewportMatrix=function(){var Z=i.identity([]);return i.translate(Z,Z,[-Jr,-Jr,0]),Z};function vn(ce,Z,ve){return Z*(i.EXTENT/(ce.tileSize*Math.pow(2,ve-ce.tileID.overscaledZ)))}var Bn=function(Z,ve,q,de){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?ve:-ve))):this.opacity=de&&q?1:0,this.placed=q};Bn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Tn=function(Z,ve,q,de,Ie){this.text=new Bn(Z?Z.text:null,ve,q,Ie),this.icon=new Bn(Z?Z.icon:null,ve,de,Ie)};Tn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Mn=function(Z,ve,q){this.text=Z,this.icon=ve,this.skipFade=q},On=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},Wn=function(Z,ve,q,de,Ie){this.bucketInstanceId=Z,this.featureIndex=ve,this.sourceLayerIndex=q,this.bucketIndex=de,this.tileID=Ie},oa=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};oa.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var ve=++this.maxGroupID;this.collisionGroups[Z]={ID:ve,predicate:function(q){return q.collisionGroupID===ve}}}return this.collisionGroups[Z]};function Ra(ce,Z,ve,q,de){var Ie=i.getAnchorAlignment(ce),Qe=Ie.horizontalAlign,ut=Ie.verticalAlign,St=-(Qe-.5)*Z,Ut=-(ut-.5)*ve,Kt=i.evaluateVariableOffset(ce,q);return new i.Point(St+Kt[0]*de,Ut+Kt[1]*de)}function Ar(ce,Z,ve,q,de,Ie){var Qe=ce.x1,ut=ce.x2,St=ce.y1,Ut=ce.y2,Kt=ce.anchorPointX,ar=ce.anchorPointY,nr=new i.Point(Z,ve);return q&&nr._rotate(de?Ie:-Ie),{x1:Qe+nr.x,y1:St+nr.y,x2:ut+nr.x,y2:Ut+nr.y,anchorPointX:Kt,anchorPointY:ar}}var Ir=function(Z,ve,q,de){this.transform=Z.clone(),this.collisionIndex=new Xr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ve,this.retainedQueryData={},this.collisionGroups=new oa(q),this.collisionCircleArrays={},this.prevPlacement=de,de&&(de.prevPlacement=void 0),this.placedOrientations={}};Ir.prototype.getBucketParts=function(Z,ve,q,de){var Ie=q.getBucket(ve),Qe=q.latestFeatureIndex;if(!(!Ie||!Qe||ve.id!==Ie.layerIds[0])){var ut=q.collisionBoxArray,St=Ie.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-q.tileID.overscaledZ),Kt=q.tileSize/i.EXTENT,ar=this.transform.calculatePosMatrix(q.tileID.toUnwrapped()),nr=St.get("text-pitch-alignment")==="map",Rr=St.get("text-rotation-alignment")==="map",Wr=vn(q,1,this.transform.zoom),Hr=Dr(ar,nr,Rr,this.transform,Wr),Or=null;if(nr){var jr=Nr(ar,nr,Rr,this.transform,Wr);Or=i.multiply([],this.transform.labelPlaneMatrix,jr)}this.retainedQueryData[Ie.bucketInstanceId]=new Wn(Ie.bucketInstanceId,Qe,Ie.sourceLayerIndex,Ie.index,q.tileID);var cn={bucket:Ie,layout:St,posMatrix:ar,textLabelPlaneMatrix:Hr,labelToScreenMatrix:Or,scale:Ut,textPixelRatio:Kt,holdingForFade:q.holdingForFade(),collisionBoxArray:ut,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(Ie.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ie.sourceID)};if(de)for(var Rn=0,_n=Ie.sortKeyRanges;Rn<_n.length;Rn+=1){var Gn=_n[Rn],Yn=Gn.sortKey,Vn=Gn.symbolInstanceStart,Xn=Gn.symbolInstanceEnd;Z.push({sortKey:Yn,symbolInstanceStart:Vn,symbolInstanceEnd:Xn,parameters:cn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Ie.symbolInstances.length,parameters:cn})}},Ir.prototype.attemptAnchorPlacement=function(Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt,ar,nr,Rr,Wr,Hr){var Or=[nr.textOffset0,nr.textOffset1],jr=Ra(Z,q,de,Or,Ie),cn=this.collisionIndex.placeCollisionBox(Ar(ve,jr.x,jr.y,Qe,ut,this.transform.angle),ar,St,Ut,Kt.predicate);if(Hr){var Rn=this.collisionIndex.placeCollisionBox(Ar(Hr,jr.x,jr.y,Qe,ut,this.transform.angle),ar,St,Ut,Kt.predicate);if(Rn.box.length===0)return}if(cn.box.length>0){var _n;return this.prevPlacement&&this.prevPlacement.variableOffsets[nr.crossTileID]&&this.prevPlacement.placements[nr.crossTileID]&&this.prevPlacement.placements[nr.crossTileID].text&&(_n=this.prevPlacement.variableOffsets[nr.crossTileID].anchor),this.variableOffsets[nr.crossTileID]={textOffset:Or,width:q,height:de,anchor:Z,textBoxScale:Ie,prevAnchor:_n},this.markUsedJustification(Rr,Z,nr,Wr),Rr.allowVerticalPlacement&&(this.markUsedOrientation(Rr,Wr,nr),this.placedOrientations[nr.crossTileID]=Wr),{shift:jr,placedGlyphBoxes:cn}}},Ir.prototype.placeLayerBucketPart=function(Z,ve,q){var de=this,Ie=Z.parameters,Qe=Ie.bucket,ut=Ie.layout,St=Ie.posMatrix,Ut=Ie.textLabelPlaneMatrix,Kt=Ie.labelToScreenMatrix,ar=Ie.textPixelRatio,nr=Ie.holdingForFade,Rr=Ie.collisionBoxArray,Wr=Ie.partiallyEvaluatedTextSize,Hr=Ie.collisionGroup,Or=ut.get("text-optional"),jr=ut.get("icon-optional"),cn=ut.get("text-allow-overlap"),Rn=ut.get("icon-allow-overlap"),_n=ut.get("text-rotation-alignment")==="map",Gn=ut.get("text-pitch-alignment")==="map",Yn=ut.get("icon-text-fit")!=="none",Vn=ut.get("symbol-z-order")==="viewport-y",Xn=cn&&(Rn||!Qe.hasIconData()||jr),jn=Rn&&(cn||!Qe.hasTextData()||Or);!Qe.collisionArrays&&Rr&&Qe.deserializeCollisionBoxes(Rr);var aa=function(Aa,Xa){if(!ve[Aa.crossTileID]){if(nr){de.placements[Aa.crossTileID]=new Mn(!1,!1,!1);return}var Ba=!1,ei=!1,$a=!0,wi=null,Ka={box:null,offscreen:null},vi={box:null,offscreen:null},Na=null,Qa=null,Ui=null,lo=0,$s=0,qs=0;Xa.textFeatureIndex?lo=Xa.textFeatureIndex:Aa.useRuntimeCollisionCircles&&(lo=Aa.featureIndex),Xa.verticalTextFeatureIndex&&($s=Xa.verticalTextFeatureIndex);var ml=Xa.textBox;if(ml){var Zl=function(Yi){var ps=i.WritingMode.horizontal;if(Qe.allowVerticalPlacement&&!Yi&&de.prevPlacement){var gs=de.prevPlacement.placedOrientations[Aa.crossTileID];gs&&(de.placedOrientations[Aa.crossTileID]=gs,ps=gs,de.markUsedOrientation(Qe,ps,Aa))}return ps},zf=function(Yi,ps){if(Qe.allowVerticalPlacement&&Aa.numVerticalGlyphVertices>0&&Xa.verticalTextBox)for(var gs=0,Xh=Qe.writingModes;gs<Xh.length;gs+=1){var Zv=Xh[gs];if(Zv===i.WritingMode.vertical?(Ka=ps(),vi=Ka):Ka=Yi(),Ka&&Ka.box&&Ka.box.length)break}else Ka=Yi()};if(ut.get("text-variable-anchor")){var ds=ut.get("text-variable-anchor");if(de.prevPlacement&&de.prevPlacement.variableOffsets[Aa.crossTileID]){var Jo=de.prevPlacement.variableOffsets[Aa.crossTileID];ds.indexOf(Jo.anchor)>0&&(ds=ds.filter(function(Yi){return Yi!==Jo.anchor}),ds.unshift(Jo.anchor))}var xl=function(Yi,ps,gs){for(var Xh=Yi.x2-Yi.x1,Zv=Yi.y2-Yi.y1,ag=Aa.textBoxScale,ig=Yn&&!Rn?ps:null,mh={box:[],offscreen:!1},og=cn?ds.length*2:ds.length,Zh=0;Zh<og;++Zh){var sg=ds[Zh%ds.length],lg=Zh>=ds.length,jv=de.attemptAnchorPlacement(sg,Yi,Xh,Zv,ag,_n,Gn,ar,St,Hr,lg,Aa,Qe,gs,ig);if(jv&&(mh=jv.placedGlyphBoxes,mh&&mh.box&&mh.box.length)){Ba=!0,wi=jv.shift;break}}return mh},Lu=function(){return xl(ml,Xa.iconBox,i.WritingMode.horizontal)},bl=function(){var Yi=Xa.verticalTextBox,ps=Ka&&Ka.box&&Ka.box.length;return Qe.allowVerticalPlacement&&!ps&&Aa.numVerticalGlyphVertices>0&&Yi?xl(Yi,Xa.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};zf(Lu,bl),Ka&&(Ba=Ka.box,$a=Ka.offscreen);var Vh=Zl(Ka&&Ka.box);if(!Ba&&de.prevPlacement){var xc=de.prevPlacement.variableOffsets[Aa.crossTileID];xc&&(de.variableOffsets[Aa.crossTileID]=xc,de.markUsedJustification(Qe,xc.anchor,Aa,Vh))}}else{var jl=function(Yi,ps){var gs=de.collisionIndex.placeCollisionBox(Yi,cn,ar,St,Hr.predicate);return gs&&gs.box&&gs.box.length&&(de.markUsedOrientation(Qe,ps,Aa),de.placedOrientations[Aa.crossTileID]=ps),gs},Ko=function(){return jl(ml,i.WritingMode.horizontal)},Kl=function(){var Yi=Xa.verticalTextBox;return Qe.allowVerticalPlacement&&Aa.numVerticalGlyphVertices>0&&Yi?jl(Yi,i.WritingMode.vertical):{box:null,offscreen:null}};zf(Ko,Kl),Zl(Ka&&Ka.box&&Ka.box.length)}}if(Na=Ka,Ba=Na&&Na.box&&Na.box.length>0,$a=Na&&Na.offscreen,Aa.useRuntimeCollisionCircles){var vo=Qe.text.placedSymbolArray.get(Aa.centerJustifiedTextSymbolIndex),Hh=i.evaluateSizeForFeature(Qe.textSizeData,Wr,vo),yh=ut.get("text-padding"),ko=Aa.collisionCircleDiameter;Qa=de.collisionIndex.placeCollisionCircles(cn,vo,Qe.lineVertexArray,Qe.glyphOffsetArray,Hh,St,Ut,Kt,q,Gn,Hr.predicate,ko,yh),Ba=cn||Qa.circles.length>0&&!Qa.collisionDetected,$a=$a&&Qa.offscreen}if(Xa.iconFeatureIndex&&(qs=Xa.iconFeatureIndex),Xa.iconBox){var bc=function(Yi){var ps=Yn&&wi?Ar(Yi,wi.x,wi.y,_n,Gn,de.transform.angle):Yi;return de.collisionIndex.placeCollisionBox(ps,Rn,ar,St,Hr.predicate)};vi&&vi.box&&vi.box.length&&Xa.verticalIconBox?(Ui=bc(Xa.verticalIconBox),ei=Ui.box.length>0):(Ui=bc(Xa.iconBox),ei=Ui.box.length>0),$a=$a&&Ui.offscreen}var Gh=Or||Aa.numHorizontalGlyphVertices===0&&Aa.numVerticalGlyphVertices===0,Wh=jr||Aa.numIconVertices===0;if(!Gh&&!Wh?ei=Ba=ei&&Ba:Wh?Gh||(ei=ei&&Ba):Ba=ei&&Ba,Ba&&Na&&Na.box&&(vi&&vi.box&&$s?de.collisionIndex.insertCollisionBox(Na.box,ut.get("text-ignore-placement"),Qe.bucketInstanceId,$s,Hr.ID):de.collisionIndex.insertCollisionBox(Na.box,ut.get("text-ignore-placement"),Qe.bucketInstanceId,lo,Hr.ID)),ei&&Ui&&de.collisionIndex.insertCollisionBox(Ui.box,ut.get("icon-ignore-placement"),Qe.bucketInstanceId,qs,Hr.ID),Qa&&(Ba&&de.collisionIndex.insertCollisionCircles(Qa.circles,ut.get("text-ignore-placement"),Qe.bucketInstanceId,lo,Hr.ID),q)){var Yh=Qe.bucketInstanceId,wc=de.collisionCircleArrays[Yh];wc===void 0&&(wc=de.collisionCircleArrays[Yh]=new On);for(var Tc=0;Tc<Qa.circles.length;Tc+=4)wc.circles.push(Qa.circles[Tc+0]),wc.circles.push(Qa.circles[Tc+1]),wc.circles.push(Qa.circles[Tc+2]),wc.circles.push(Qa.collisionDetected?1:0)}de.placements[Aa.crossTileID]=new Mn(Ba||Xn,ei||jn,$a||Qe.justReloaded),ve[Aa.crossTileID]=!0}};if(Vn)for(var ga=Qe.getSortedSymbolIndexes(this.transform.angle),ua=ga.length-1;ua>=0;--ua){var Fa=ga[ua];aa(Qe.symbolInstances.get(Fa),Qe.collisionArrays[Fa])}else for(var Ja=Z.symbolInstanceStart;Ja<Z.symbolInstanceEnd;Ja++)aa(Qe.symbolInstances.get(Ja),Qe.collisionArrays[Ja]);if(q&&Qe.bucketInstanceId in this.collisionCircleArrays){var Ya=this.collisionCircleArrays[Qe.bucketInstanceId];i.invert(Ya.invProjMatrix,St),Ya.viewportMatrix=this.collisionIndex.getViewportMatrix()}Qe.justReloaded=!1},Ir.prototype.markUsedJustification=function(Z,ve,q,de){var Ie={left:q.leftJustifiedTextSymbolIndex,center:q.centerJustifiedTextSymbolIndex,right:q.rightJustifiedTextSymbolIndex},Qe;de===i.WritingMode.vertical?Qe=q.verticalPlacedTextSymbolIndex:Qe=Ie[i.getAnchorJustification(ve)];for(var ut=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex,q.verticalPlacedTextSymbolIndex],St=0,Ut=ut;St<Ut.length;St+=1){var Kt=Ut[St];Kt>=0&&(Qe>=0&&Kt!==Qe?Z.text.placedSymbolArray.get(Kt).crossTileID=0:Z.text.placedSymbolArray.get(Kt).crossTileID=q.crossTileID)}},Ir.prototype.markUsedOrientation=function(Z,ve,q){for(var de=ve===i.WritingMode.horizontal||ve===i.WritingMode.horizontalOnly?ve:0,Ie=ve===i.WritingMode.vertical?ve:0,Qe=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex],ut=0,St=Qe;ut<St.length;ut+=1){var Ut=St[ut];Z.text.placedSymbolArray.get(Ut).placedOrientation=de}q.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).placedOrientation=Ie)},Ir.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var ve=this.prevPlacement,q=!1;this.prevZoomAdjustment=ve?ve.zoomAdjustment(this.transform.zoom):0;var de=ve?ve.symbolFadeChange(Z):1,Ie=ve?ve.opacities:{},Qe=ve?ve.variableOffsets:{},ut=ve?ve.placedOrientations:{};for(var St in this.placements){var Ut=this.placements[St],Kt=Ie[St];Kt?(this.opacities[St]=new Tn(Kt,de,Ut.text,Ut.icon),q=q||Ut.text!==Kt.text.placed||Ut.icon!==Kt.icon.placed):(this.opacities[St]=new Tn(null,de,Ut.text,Ut.icon,Ut.skipFade),q=q||Ut.text||Ut.icon)}for(var ar in Ie){var nr=Ie[ar];if(!this.opacities[ar]){var Rr=new Tn(nr,de,!1,!1);Rr.isHidden()||(this.opacities[ar]=Rr,q=q||nr.text.placed||nr.icon.placed)}}for(var Wr in Qe)!this.variableOffsets[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.variableOffsets[Wr]=Qe[Wr]);for(var Hr in ut)!this.placedOrientations[Hr]&&this.opacities[Hr]&&!this.opacities[Hr].isHidden()&&(this.placedOrientations[Hr]=ut[Hr]);q?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ve?ve.lastPlacementChangeTime:Z)},Ir.prototype.updateLayerOpacities=function(Z,ve){for(var q={},de=0,Ie=ve;de<Ie.length;de+=1){var Qe=Ie[de],ut=Qe.getBucket(Z);ut&&Qe.latestFeatureIndex&&Z.id===ut.layerIds[0]&&this.updateBucketOpacities(ut,q,Qe.collisionBoxArray)}},Ir.prototype.updateBucketOpacities=function(Z,ve,q){var de=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Ie=Z.layers[0].layout,Qe=new Tn(null,0,!1,!1,!0),ut=Ie.get("text-allow-overlap"),St=Ie.get("icon-allow-overlap"),Ut=Ie.get("text-variable-anchor"),Kt=Ie.get("text-rotation-alignment")==="map",ar=Ie.get("text-pitch-alignment")==="map",nr=Ie.get("icon-text-fit")!=="none",Rr=new Tn(null,0,ut&&(St||!Z.hasIconData()||Ie.get("icon-optional")),St&&(ut||!Z.hasTextData()||Ie.get("text-optional")),!0);!Z.collisionArrays&&q&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(q);for(var Wr=function(cn,Rn,_n){for(var Gn=0;Gn<Rn/4;Gn++)cn.opacityVertexArray.emplaceBack(_n)},Hr=function(cn){var Rn=Z.symbolInstances.get(cn),_n=Rn.numHorizontalGlyphVertices,Gn=Rn.numVerticalGlyphVertices,Yn=Rn.crossTileID,Vn=ve[Yn],Xn=de.opacities[Yn];Vn?Xn=Qe:Xn||(Xn=Rr,de.opacities[Yn]=Xn),ve[Yn]=!0;var jn=_n>0||Gn>0,aa=Rn.numIconVertices>0,ga=de.placedOrientations[Rn.crossTileID],ua=ga===i.WritingMode.vertical,Fa=ga===i.WritingMode.horizontal||ga===i.WritingMode.horizontalOnly;if(jn){var Ja=Br(Xn.text),Ya=ua?Qr:Ja;Wr(Z.text,_n,Ya);var Aa=Fa?Qr:Ja;Wr(Z.text,Gn,Aa);var Xa=Xn.text.isHidden();[Rn.rightJustifiedTextSymbolIndex,Rn.centerJustifiedTextSymbolIndex,Rn.leftJustifiedTextSymbolIndex].forEach(function(qs){qs>=0&&(Z.text.placedSymbolArray.get(qs).hidden=Xa||ua?1:0)}),Rn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(Rn.verticalPlacedTextSymbolIndex).hidden=Xa||Fa?1:0);var Ba=de.variableOffsets[Rn.crossTileID];Ba&&de.markUsedJustification(Z,Ba.anchor,Rn,ga);var ei=de.placedOrientations[Rn.crossTileID];ei&&(de.markUsedJustification(Z,"left",Rn,ei),de.markUsedOrientation(Z,ei,Rn))}if(aa){var $a=Br(Xn.icon),wi=!(nr&&Rn.verticalPlacedIconSymbolIndex&&ua);if(Rn.placedIconSymbolIndex>=0){var Ka=wi?$a:Qr;Wr(Z.icon,Rn.numIconVertices,Ka),Z.icon.placedSymbolArray.get(Rn.placedIconSymbolIndex).hidden=Xn.icon.isHidden()}if(Rn.verticalPlacedIconSymbolIndex>=0){var vi=wi?Qr:$a;Wr(Z.icon,Rn.numVerticalIconVertices,vi),Z.icon.placedSymbolArray.get(Rn.verticalPlacedIconSymbolIndex).hidden=Xn.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var Na=Z.collisionArrays[cn];if(Na){var Qa=new i.Point(0,0);if(Na.textBox||Na.verticalTextBox){var Ui=!0;if(Ut){var lo=de.variableOffsets[Yn];lo?(Qa=Ra(lo.anchor,lo.width,lo.height,lo.textOffset,lo.textBoxScale),Kt&&Qa._rotate(ar?de.transform.angle:-de.transform.angle)):Ui=!1}Na.textBox&&Tr(Z.textCollisionBox.collisionVertexArray,Xn.text.placed,!Ui||ua,Qa.x,Qa.y),Na.verticalTextBox&&Tr(Z.textCollisionBox.collisionVertexArray,Xn.text.placed,!Ui||Fa,Qa.x,Qa.y)}var $s=!!(!Fa&&Na.verticalIconBox);Na.iconBox&&Tr(Z.iconCollisionBox.collisionVertexArray,Xn.icon.placed,$s,nr?Qa.x:0,nr?Qa.y:0),Na.verticalIconBox&&Tr(Z.iconCollisionBox.collisionVertexArray,Xn.icon.placed,!$s,nr?Qa.x:0,nr?Qa.y:0)}}},Or=0;Or<Z.symbolInstances.length;Or++)Hr(Or);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var jr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=jr.invProjMatrix,Z.placementViewportMatrix=jr.viewportMatrix,Z.collisionCircleArray=jr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},Ir.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ir.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},Ir.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},Ir.prototype.stillRecent=function(Z,ve){var q=this.zoomAtLastRecencyCheck===ve?1-this.zoomAdjustment(ve):1;return this.zoomAtLastRecencyCheck=ve,this.commitTime+this.fadeDuration*q>Z},Ir.prototype.setStale=function(){this.stale=!0};function Tr(ce,Z,ve,q,de){ce.emplaceBack(Z?1:0,ve?1:0,q||0,de||0),ce.emplaceBack(Z?1:0,ve?1:0,q||0,de||0),ce.emplaceBack(Z?1:0,ve?1:0,q||0,de||0),ce.emplaceBack(Z?1:0,ve?1:0,q||0,de||0)}var Fr=Math.pow(2,25),dn=Math.pow(2,24),Ln=Math.pow(2,17),hn=Math.pow(2,16),ln=Math.pow(2,9),Mr=Math.pow(2,8),Yr=Math.pow(2,1);function Br(ce){if(ce.opacity===0&&!ce.placed)return 0;if(ce.opacity===1&&ce.placed)return 4294967295;var Z=ce.placed?1:0,ve=Math.floor(ce.opacity*127);return ve*Fr+Z*dn+ve*Ln+Z*hn+ve*ln+Z*Mr+ve*Yr+Z}var Qr=0,wn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(Z,ve,q,de,Ie){for(var Qe=this._bucketParts;this._currentTileIndex<Z.length;){var ut=Z[this._currentTileIndex];if(ve.getBucketParts(Qe,de,ut,this._sortAcrossTiles),this._currentTileIndex++,Ie())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Qe.sort(function(Ut,Kt){return Ut.sortKey-Kt.sortKey}));this._currentPartIndex<Qe.length;){var St=Qe[this._currentPartIndex];if(ve.placeLayerBucketPart(St,this._seenCrossTileIDs,q),this._currentPartIndex++,Ie())return!0}return!1};var En=function(Z,ve,q,de,Ie,Qe,ut){this.placement=new Ir(Z,Ie,Qe,ut),this._currentPlacementIndex=ve.length-1,this._forceFullPlacement=q,this._showCollisionBoxes=de,this._done=!1};En.prototype.isDone=function(){return this._done},En.prototype.continuePlacement=function(Z,ve,q){for(var de=this,Ie=i.browser.now(),Qe=function(){var ar=i.browser.now()-Ie;return de._forceFullPlacement?!1:ar>2};this._currentPlacementIndex>=0;){var ut=Z[this._currentPlacementIndex],St=ve[ut],Ut=this.placement.collisionIndex.transform.zoom;if(St.type==="symbol"&&(!St.minzoom||St.minzoom<=Ut)&&(!St.maxzoom||St.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new wn(St));var Kt=this._inProgressLayer.continuePlacement(q[St.source],this.placement,this._showCollisionBoxes,St,Qe);if(Kt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},En.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var Cn=512/i.EXTENT/2,Fn=function(Z,ve,q){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=q;for(var de=0;de<ve.length;de++){var Ie=ve.get(de),Qe=Ie.key;this.indexedSymbolInstances[Qe]||(this.indexedSymbolInstances[Qe]=[]),this.indexedSymbolInstances[Qe].push({crossTileID:Ie.crossTileID,coord:this.getScaledCoordinates(Ie,Z)})}};Fn.prototype.getScaledCoordinates=function(Z,ve){var q=ve.canonical.z-this.tileID.canonical.z,de=Cn/Math.pow(2,q);return{x:Math.floor((ve.canonical.x*i.EXTENT+Z.anchorX)*de),y:Math.floor((ve.canonical.y*i.EXTENT+Z.anchorY)*de)}},Fn.prototype.findMatches=function(Z,ve,q){for(var de=this.tileID.canonical.z<ve.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ve.canonical.z),Ie=0;Ie<Z.length;Ie++){var Qe=Z.get(Ie);if(!Qe.crossTileID){var ut=this.indexedSymbolInstances[Qe.key];if(ut)for(var St=this.getScaledCoordinates(Qe,ve),Ut=0,Kt=ut;Ut<Kt.length;Ut+=1){var ar=Kt[Ut];if(Math.abs(ar.coord.x-St.x)<=de&&Math.abs(ar.coord.y-St.y)<=de&&!q[ar.crossTileID]){q[ar.crossTileID]=!0,Qe.crossTileID=ar.crossTileID;break}}}}};var kn=function(){this.maxCrossTileID=0};kn.prototype.generate=function(){return++this.maxCrossTileID};var ha=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ha.prototype.handleWrapJump=function(Z){var ve=Math.round((Z-this.lng)/360);if(ve!==0)for(var q in this.indexes){var de=this.indexes[q],Ie={};for(var Qe in de){var ut=de[Qe];ut.tileID=ut.tileID.unwrapTo(ut.tileID.wrap+ve),Ie[ut.tileID.key]=ut}this.indexes[q]=Ie}this.lng=Z},ha.prototype.addBucket=function(Z,ve,q){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===ve.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var de=0;de<ve.symbolInstances.length;de++){var Ie=ve.symbolInstances.get(de);Ie.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var Qe=this.usedCrossTileIDs[Z.overscaledZ];for(var ut in this.indexes){var St=this.indexes[ut];if(Number(ut)>Z.overscaledZ)for(var Ut in St){var Kt=St[Ut];Kt.tileID.isChildOf(Z)&&Kt.findMatches(ve.symbolInstances,Z,Qe)}else{var ar=Z.scaledTo(Number(ut)),nr=St[ar.key];nr&&nr.findMatches(ve.symbolInstances,Z,Qe)}}for(var Rr=0;Rr<ve.symbolInstances.length;Rr++){var Wr=ve.symbolInstances.get(Rr);Wr.crossTileID||(Wr.crossTileID=q.generate(),Qe[Wr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Fn(Z,ve.symbolInstances,ve.bucketInstanceId),!0},ha.prototype.removeBucketCrossTileIDs=function(Z,ve){for(var q in ve.indexedSymbolInstances)for(var de=0,Ie=ve.indexedSymbolInstances[q];de<Ie.length;de+=1){var Qe=Ie[de];delete this.usedCrossTileIDs[Z][Qe.crossTileID]}},ha.prototype.removeStaleBuckets=function(Z){var ve=!1;for(var q in this.indexes){var de=this.indexes[q];for(var Ie in de)Z[de[Ie].bucketInstanceId]||(this.removeBucketCrossTileIDs(q,de[Ie]),delete de[Ie],ve=!0)}return ve};var ca=function(){this.layerIndexes={},this.crossTileIDs=new kn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ca.prototype.addLayer=function(Z,ve,q){var de=this.layerIndexes[Z.id];de===void 0&&(de=this.layerIndexes[Z.id]=new ha);var Ie=!1,Qe={};de.handleWrapJump(q);for(var ut=0,St=ve;ut<St.length;ut+=1){var Ut=St[ut],Kt=Ut.getBucket(Z);!Kt||Z.id!==Kt.layerIds[0]||(Kt.bucketInstanceId||(Kt.bucketInstanceId=++this.maxBucketInstanceId),de.addBucket(Ut.tileID,Kt,this.crossTileIDs)&&(Ie=!0),Qe[Kt.bucketInstanceId]=!0)}return de.removeStaleBuckets(Qe)&&(Ie=!0),Ie},ca.prototype.pruneUnusedLayers=function(Z){var ve={};Z.forEach(function(de){ve[de]=!0});for(var q in this.layerIndexes)ve[q]||delete this.layerIndexes[q]};var sa=function(ce,Z){return i.emitValidationErrors(ce,Z&&Z.filter(function(ve){return ve.identifier!=="source.canvas"}))},Da=i.pick(Ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),si=i.pick(Ot,["setCenter","setZoom","setBearing","setPitch"]),ii=qt(),Lo=function(ce){function Z(ve,q){var de=this;q===void 0&&(q={}),ce.call(this),this.map=ve,this.dispatcher=new R(Ft(),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new S(ve._requestManager,q.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new ca,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var Ie=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(Qe){var ut={pluginStatus:Qe.pluginStatus,pluginURL:Qe.pluginURL};Ie.dispatcher.broadcast("syncRTLPluginState",ut,function(St,Ut){if(i.triggerPluginCompletionEvent(St),Ut){var Kt=Ut.every(function(nr){return nr});if(Kt)for(var ar in Ie.sourceCaches)Ie.sourceCaches[ar].reload()}})}),this.on("data",function(Qe){if(!(Qe.dataType!=="source"||Qe.sourceDataType!=="metadata")){var ut=de.sourceCaches[Qe.sourceId];if(ut){var St=ut.getSource();if(!(!St||!St.vectorLayerIds))for(var Ut in de._layers){var Kt=de._layers[Ut];Kt.source===St.id&&de._validateLayer(Kt)}}}})}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(q,de){var Ie=this;de===void 0&&(de={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Qe=typeof de.validate=="boolean"?de.validate:!i.isMapboxURL(q);q=this.map._requestManager.normalizeStyleURL(q,de.accessToken);var ut=this.map._requestManager.transformRequest(q,i.ResourceType.Style);this._request=i.getJSON(ut,function(St,Ut){Ie._request=null,St?Ie.fire(new i.ErrorEvent(St)):Ut&&Ie._load(Ut,Qe)})},Z.prototype.loadJSON=function(q,de){var Ie=this;de===void 0&&(de={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){Ie._request=null,Ie._load(q,de.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(ii,!1)},Z.prototype._load=function(q,de){if(!(de&&sa(this,i.validateStyle(q)))){this._loaded=!0,this.stylesheet=q;for(var Ie in q.sources)this.addSource(Ie,q.sources[Ie],{validate:!1});q.sprite?this._loadSprite(q.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(q.glyphs);var Qe=lr(this.stylesheet.layers);this._order=Qe.map(function(Kt){return Kt.id}),this._layers={},this._serializedLayers={};for(var ut=0,St=Qe;ut<St.length;ut+=1){var Ut=St[ut];Ut=i.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new p(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},Z.prototype._loadSprite=function(q){var de=this;this._spriteRequest=f(q,this.map._requestManager,function(Ie,Qe){if(de._spriteRequest=null,Ie)de.fire(new i.ErrorEvent(Ie));else if(Qe)for(var ut in Qe)de.imageManager.addImage(ut,Qe[ut]);de.imageManager.setLoaded(!0),de._availableImages=de.imageManager.listImages(),de.dispatcher.broadcast("setImages",de._availableImages),de.fire(new i.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(q){var de=this.sourceCaches[q.source];if(de){var Ie=q.sourceLayer;if(Ie){var Qe=de.getSource();(Qe.type==="geojson"||Qe.vectorLayerIds&&Qe.vectorLayerIds.indexOf(Ie)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+Ie+'" does not exist on source "'+Qe.id+'" as specified by style layer "'+q.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var q in this.sourceCaches)if(!this.sourceCaches[q].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(q){for(var de=[],Ie=0,Qe=q;Ie<Qe.length;Ie+=1){var ut=Qe[Ie],St=this._layers[ut];St.type!=="custom"&&de.push(St.serialize())}return de},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var q in this.sourceCaches)if(this.sourceCaches[q].hasTransition())return!0;for(var de in this._layers)if(this._layers[de].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(q){if(this._loaded){var de=this._changed;if(this._changed){var Ie=Object.keys(this._updatedLayers),Qe=Object.keys(this._removedLayers);(Ie.length||Qe.length)&&this._updateWorkerLayers(Ie,Qe);for(var ut in this._updatedSources){var St=this._updatedSources[ut];St==="reload"?this._reloadSource(ut):St==="clear"&&this._clearSource(ut)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(q);this.light.updateTransitions(q),this._resetUpdates()}var Kt={};for(var ar in this.sourceCaches){var nr=this.sourceCaches[ar];Kt[ar]=nr.used,nr.used=!1}for(var Rr=0,Wr=this._order;Rr<Wr.length;Rr+=1){var Hr=Wr[Rr],Or=this._layers[Hr];Or.recalculate(q,this._availableImages),!Or.isHidden(q.zoom)&&Or.source&&(this.sourceCaches[Or.source].used=!0)}for(var jr in Kt){var cn=this.sourceCaches[jr];Kt[jr]!==cn.used&&cn.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:jr}))}this.light.recalculate(q),this.z=q.zoom,de&&this.fire(new i.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var q=Object.keys(this._changedImages);if(q.length){for(var de in this.sourceCaches)this.sourceCaches[de].reloadTilesForDependencies(["icons","patterns"],q);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(q,de){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(q),removedIds:de})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(q){var de=this;if(this._checkLoaded(),sa(this,i.validateStyle(q)))return!1;q=i.clone$1(q),q.layers=lr(q.layers);var Ie=bn(this.serialize(),q).filter(function(ut){return!(ut.command in si)});if(Ie.length===0)return!1;var Qe=Ie.filter(function(ut){return!(ut.command in Da)});if(Qe.length>0)throw new Error("Unimplemented: "+Qe.map(function(ut){return ut.command}).join(", ")+".");return Ie.forEach(function(ut){ut.command!=="setTransition"&&de[ut.command].apply(de,ut.args)}),this.stylesheet=q,!0},Z.prototype.addImage=function(q,de){if(this.getImage(q))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(q,de),this._afterImageUpdated(q)},Z.prototype.updateImage=function(q,de){this.imageManager.updateImage(q,de)},Z.prototype.getImage=function(q){return this.imageManager.getImage(q)},Z.prototype.removeImage=function(q){if(!this.getImage(q))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(q),this._afterImageUpdated(q)},Z.prototype._afterImageUpdated=function(q){this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(q,de,Ie){var Qe=this;if(Ie===void 0&&(Ie={}),this._checkLoaded(),this.sourceCaches[q]!==void 0)throw new Error("There is already a source with this ID");if(!de.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(de).join(", ")+".");var ut=["vector","raster","geojson","video","image"],St=ut.indexOf(de.type)>=0;if(!(St&&this._validate(i.validateStyle.source,"sources."+q,de,null,Ie))){this.map&&this.map._collectResourceTiming&&(de.collectResourceTiming=!0);var Ut=this.sourceCaches[q]=new Ct(q,de,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Qe.loaded(),source:Ut.serialize(),sourceId:q}}),Ut.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(q){if(this._checkLoaded(),this.sourceCaches[q]===void 0)throw new Error("There is no source with this ID");for(var de in this._layers)if(this._layers[de].source===q)return this.fire(new i.ErrorEvent(new Error('Source "'+q+'" cannot be removed while layer "'+de+'" is using it.')));var Ie=this.sourceCaches[q];delete this.sourceCaches[q],delete this._updatedSources[q],Ie.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:q})),Ie.setEventedParent(null),Ie.clearTiles(),Ie.onRemove&&Ie.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(q,de){this._checkLoaded();var Ie=this.sourceCaches[q].getSource();Ie.setData(de),this._changed=!0},Z.prototype.getSource=function(q){return this.sourceCaches[q]&&this.sourceCaches[q].getSource()},Z.prototype.addLayer=function(q,de,Ie){Ie===void 0&&(Ie={}),this._checkLoaded();var Qe=q.id;if(this.getLayer(Qe)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+Qe+'" already exists on this map')));return}var ut;if(q.type==="custom"){if(sa(this,i.validateCustomStyleLayer(q)))return;ut=i.createStyleLayer(q)}else{if(typeof q.source=="object"&&(this.addSource(Qe,q.source),q=i.clone$1(q),q=i.extend(q,{source:Qe})),this._validate(i.validateStyle.layer,"layers."+Qe,q,{arrayIndex:-1},Ie))return;ut=i.createStyleLayer(q),this._validateLayer(ut),ut.setEventedParent(this,{layer:{id:Qe}}),this._serializedLayers[ut.id]=ut.serialize()}var St=de?this._order.indexOf(de):this._order.length;if(de&&St===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}if(this._order.splice(St,0,Qe),this._layerOrderChanged=!0,this._layers[Qe]=ut,this._removedLayers[Qe]&&ut.source&&ut.type!=="custom"){var Ut=this._removedLayers[Qe];delete this._removedLayers[Qe],Ut.type!==ut.type?this._updatedSources[ut.source]="clear":(this._updatedSources[ut.source]="reload",this.sourceCaches[ut.source].pause())}this._updateLayer(ut),ut.onAdd&&ut.onAdd(this.map)},Z.prototype.moveLayer=function(q,de){this._checkLoaded(),this._changed=!0;var Ie=this._layers[q];if(!Ie){this.fire(new i.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be moved.")));return}if(q!==de){var Qe=this._order.indexOf(q);this._order.splice(Qe,1);var ut=de?this._order.indexOf(de):this._order.length;if(de&&ut===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}this._order.splice(ut,0,q),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(q){this._checkLoaded();var de=this._layers[q];if(!de){this.fire(new i.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be removed.")));return}de.setEventedParent(null);var Ie=this._order.indexOf(q);this._order.splice(Ie,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[q]=de,delete this._layers[q],delete this._serializedLayers[q],delete this._updatedLayers[q],delete this._updatedPaintProps[q],de.onRemove&&de.onRemove(this.map)},Z.prototype.getLayer=function(q){return this._layers[q]},Z.prototype.hasLayer=function(q){return q in this._layers},Z.prototype.setLayerZoomRange=function(q,de,Ie){this._checkLoaded();var Qe=this.getLayer(q);if(!Qe){this.fire(new i.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot have zoom extent.")));return}Qe.minzoom===de&&Qe.maxzoom===Ie||(de!=null&&(Qe.minzoom=de),Ie!=null&&(Qe.maxzoom=Ie),this._updateLayer(Qe))},Z.prototype.setFilter=function(q,de,Ie){Ie===void 0&&(Ie={}),this._checkLoaded();var Qe=this.getLayer(q);if(!Qe){this.fire(new i.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(Qe.filter,de)){if(de==null){Qe.filter=void 0,this._updateLayer(Qe);return}this._validate(i.validateStyle.filter,"layers."+Qe.id+".filter",de,null,Ie)||(Qe.filter=i.clone$1(de),this._updateLayer(Qe))}},Z.prototype.getFilter=function(q){return i.clone$1(this.getLayer(q).filter)},Z.prototype.setLayoutProperty=function(q,de,Ie,Qe){Qe===void 0&&(Qe={}),this._checkLoaded();var ut=this.getLayer(q);if(!ut){this.fire(new i.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(ut.getLayoutProperty(de),Ie)||(ut.setLayoutProperty(de,Ie,Qe),this._updateLayer(ut))},Z.prototype.getLayoutProperty=function(q,de){var Ie=this.getLayer(q);if(!Ie){this.fire(new i.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style.")));return}return Ie.getLayoutProperty(de)},Z.prototype.setPaintProperty=function(q,de,Ie,Qe){Qe===void 0&&(Qe={}),this._checkLoaded();var ut=this.getLayer(q);if(!ut){this.fire(new i.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(ut.getPaintProperty(de),Ie)){var St=ut.setPaintProperty(de,Ie,Qe);St&&this._updateLayer(ut),this._changed=!0,this._updatedPaintProps[q]=!0}},Z.prototype.getPaintProperty=function(q,de){return this.getLayer(q).getPaintProperty(de)},Z.prototype.setFeatureState=function(q,de){this._checkLoaded();var Ie=q.source,Qe=q.sourceLayer,ut=this.sourceCaches[Ie];if(ut===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Ie+"' does not exist in the map's style.")));return}var St=ut.getSource().type;if(St==="geojson"&&Qe){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(St==="vector"&&!Qe){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}q.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),ut.setFeatureState(Qe,q.id,de)},Z.prototype.removeFeatureState=function(q,de){this._checkLoaded();var Ie=q.source,Qe=this.sourceCaches[Ie];if(Qe===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Ie+"' does not exist in the map's style.")));return}var ut=Qe.getSource().type,St=ut==="vector"?q.sourceLayer:void 0;if(ut==="vector"&&!St){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(de&&typeof q.id!="string"&&typeof q.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Qe.removeFeatureState(St,q.id,de)},Z.prototype.getFeatureState=function(q){this._checkLoaded();var de=q.source,Ie=q.sourceLayer,Qe=this.sourceCaches[de];if(Qe===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+de+"' does not exist in the map's style.")));return}var ut=Qe.getSource().type;if(ut==="vector"&&!Ie){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return q.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Qe.getFeatureState(Ie,q.id)},Z.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(q){return q.serialize()}),layers:this._serializeLayers(this._order)},function(q){return q!==void 0})},Z.prototype._updateLayer=function(q){this._updatedLayers[q.id]=!0,q.source&&!this._updatedSources[q.source]&&this.sourceCaches[q.source].getSource().type!=="raster"&&(this._updatedSources[q.source]="reload",this.sourceCaches[q.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(q){for(var de=this,Ie=function(Fa){return de._layers[Fa].type==="fill-extrusion"},Qe={},ut=[],St=this._order.length-1;St>=0;St--){var Ut=this._order[St];if(Ie(Ut)){Qe[Ut]=St;for(var Kt=0,ar=q;Kt<ar.length;Kt+=1){var nr=ar[Kt],Rr=nr[Ut];if(Rr)for(var Wr=0,Hr=Rr;Wr<Hr.length;Wr+=1){var Or=Hr[Wr];ut.push(Or)}}}}ut.sort(function(Fa,Ja){return Ja.intersectionZ-Fa.intersectionZ});for(var jr=[],cn=this._order.length-1;cn>=0;cn--){var Rn=this._order[cn];if(Ie(Rn))for(var _n=ut.length-1;_n>=0;_n--){var Gn=ut[_n].feature;if(Qe[Gn.layer.id]<cn)break;jr.push(Gn),ut.pop()}else for(var Yn=0,Vn=q;Yn<Vn.length;Yn+=1){var Xn=Vn[Yn],jn=Xn[Rn];if(jn)for(var aa=0,ga=jn;aa<ga.length;aa+=1){var ua=ga[aa];jr.push(ua.feature)}}}return jr},Z.prototype.queryRenderedFeatures=function(q,de,Ie){de&&de.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",de.filter,null,de);var Qe={};if(de&&de.layers){if(!Array.isArray(de.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ut=0,St=de.layers;ut<St.length;ut+=1){var Ut=St[ut],Kt=this._layers[Ut];if(!Kt)return this.fire(new i.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Qe[Kt.source]=!0}}var ar=[];de.availableImages=this._availableImages;for(var nr in this.sourceCaches)de.layers&&!Qe[nr]||ar.push($(this.sourceCaches[nr],this._layers,this._serializedLayers,q,de,Ie));return this.placement&&ar.push(X(this._layers,this._serializedLayers,this.sourceCaches,q,de,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ar)},Z.prototype.querySourceFeatures=function(q,de){de&&de.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",de.filter,null,de);var Ie=this.sourceCaches[q];return Ie?oe(Ie,de):[]},Z.prototype.addSourceType=function(q,de,Ie){if(Z.getSourceType(q))return Ie(new Error('A source type called "'+q+'" already exists.'));if(Z.setSourceType(q,de),!de.workerSourceURL)return Ie(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:q,url:de.workerSourceURL},Ie)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(q,de){de===void 0&&(de={}),this._checkLoaded();var Ie=this.light.getLight(),Qe=!1;for(var ut in q)if(!i.deepEqual(q[ut],Ie[ut])){Qe=!0;break}if(Qe){var St={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(q,de),this.light.updateTransitions(St)}},Z.prototype._validate=function(q,de,Ie,Qe,ut){return ut===void 0&&(ut={}),ut&&ut.validate===!1?!1:sa(this,q.call(i.validateStyle,i.extend({key:de,style:this.serialize(),value:Ie,styleSpec:i.styleSpec},Qe)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var q in this._layers){var de=this._layers[q];de.setEventedParent(null)}for(var Ie in this.sourceCaches)this.sourceCaches[Ie].clearTiles(),this.sourceCaches[Ie].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(q){this.sourceCaches[q].clearTiles()},Z.prototype._reloadSource=function(q){this.sourceCaches[q].resume(),this.sourceCaches[q].reload()},Z.prototype._updateSources=function(q){for(var de in this.sourceCaches)this.sourceCaches[de].update(q)},Z.prototype._generateCollisionBoxes=function(){for(var q in this.sourceCaches)this._reloadSource(q)},Z.prototype._updatePlacement=function(q,de,Ie,Qe,ut){ut===void 0&&(ut=!1);for(var St=!1,Ut=!1,Kt={},ar=0,nr=this._order;ar<nr.length;ar+=1){var Rr=nr[ar],Wr=this._layers[Rr];if(Wr.type==="symbol"){if(!Kt[Wr.source]){var Hr=this.sourceCaches[Wr.source];Kt[Wr.source]=Hr.getRenderableIds(!0).map(function(Yn){return Hr.getTileByID(Yn)}).sort(function(Yn,Vn){return Vn.tileID.overscaledZ-Yn.tileID.overscaledZ||(Yn.tileID.isLessThan(Vn.tileID)?-1:1)})}var Or=this.crossTileSymbolIndex.addLayer(Wr,Kt[Wr.source],q.center.lng);St=St||Or}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ut=ut||this._layerOrderChanged||Ie===0,(ut||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),q.zoom))&&(this.pauseablePlacement=new En(q,this._order,ut,de,Ie,Qe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Kt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Ut=!0),St&&this.pauseablePlacement.placement.setStale()),Ut||St)for(var jr=0,cn=this._order;jr<cn.length;jr+=1){var Rn=cn[jr],_n=this._layers[Rn];_n.type==="symbol"&&this.placement.updateLayerOpacities(_n,Kt[_n.source])}var Gn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return Gn},Z.prototype._releaseSymbolFadeTiles=function(){for(var q in this.sourceCaches)this.sourceCaches[q].releaseSymbolFadeTiles()},Z.prototype.getImages=function(q,de,Ie){this.imageManager.getImages(de.icons,Ie),this._updateTilesForChangedImages();var Qe=this.sourceCaches[de.source];Qe&&Qe.setDependencies(de.tileID.key,de.type,de.icons)},Z.prototype.getGlyphs=function(q,de,Ie){this.glyphManager.getGlyphs(de.stacks,Ie)},Z.prototype.getResource=function(q,de,Ie){return i.makeRequest(de,Ie)},Z}(i.Evented);Lo.getSourceType=ie,Lo.setSourceType=W,Lo.registerForPluginStateChange=i.registerForPluginStateChange;var xo=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),Gs=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,co=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,au=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ll="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ai=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sl="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",vf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Oi=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,bo="void main() {gl_FragColor=vec4(1.0);}",Qf="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Uu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bi=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,As=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,No="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Fi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Vu="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Ci="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",is="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Po="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",iu="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Ki=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pl=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Ms=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wi=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Qc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ss=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Es=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rl=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,$c=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$f=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Hu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,eh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,th="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",df=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",nh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,ah=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ih=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,ll=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ou=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,ul=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,su=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,pf=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gf="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",ec=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cs=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,oh=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Mo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,os=xi(Gs,co),Wu=xi(au,Ll),Ws=xi(ai,sl),Ys=xi(vf,Oi),Dl=xi(bo,Qf),Yu=xi(Uu,Bi),Uo=xi(As,No),_i=xi(Fi,Vu),yf=xi(Ci,is),mf=xi(Po,iu),lu=xi(Ki,Pl),rc=xi(Ms,Wi),nc=xi(Qc,Ss),ac=xi(Es,Rl),Ls=xi($c,$f),Ro=xi(Hu,qc),Vo=xi(eh,th),xf=xi(df,rh),sh=xi(nh,qf),lh=xi(ah,ih),uu=xi(ll,ou),Xu=xi(ul,su),bf=xi(pf,gf),Il=xi(ec,Cs),wf=xi(oh,tc),Tf=xi(Mo,Gu);function xi(ce,Z){var ve=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,q=Z.match(/attribute ([\w]+) ([\w]+)/g),de=ce.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ie=Z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Qe=Ie?Ie.concat(de):de,ut={};return ce=ce.replace(ve,function(St,Ut,Kt,ar,nr){return ut[nr]=!0,Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+nr+`
varying `+Kt+" "+ar+" "+nr+`;
#else
uniform `+Kt+" "+ar+" u_"+nr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+nr+`
    `+Kt+" "+ar+" "+nr+" = u_"+nr+`;
#endif
`}),Z=Z.replace(ve,function(St,Ut,Kt,ar,nr){var Rr=ar==="float"?"vec2":"vec4",Wr=nr.match(/color/)?"color":Rr;return ut[nr]?Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+nr+`
uniform lowp float u_`+nr+`_t;
attribute `+Kt+" "+Rr+" a_"+nr+`;
varying `+Kt+" "+ar+" "+nr+`;
#else
uniform `+Kt+" "+ar+" u_"+nr+`;
#endif
`:Wr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+nr+`
    `+nr+" = a_"+nr+`;
#else
    `+Kt+" "+ar+" "+nr+" = u_"+nr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+nr+`
    `+nr+" = unpack_mix_"+Wr+"(a_"+nr+", u_"+nr+`_t);
#else
    `+Kt+" "+ar+" "+nr+" = u_"+nr+`;
#endif
`:Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+nr+`
uniform lowp float u_`+nr+`_t;
attribute `+Kt+" "+Rr+" a_"+nr+`;
#else
uniform `+Kt+" "+ar+" u_"+nr+`;
#endif
`:Wr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+nr+`
    `+Kt+" "+ar+" "+nr+" = a_"+nr+`;
#else
    `+Kt+" "+ar+" "+nr+" = u_"+nr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+nr+`
    `+Kt+" "+ar+" "+nr+" = unpack_mix_"+Wr+"(a_"+nr+", u_"+nr+`_t);
#else
    `+Kt+" "+ar+" "+nr+" = u_"+nr+`;
#endif
`}),{fragmentSource:ce,vertexSource:Z,staticAttributes:q,staticUniforms:Qe}}var kl=Object.freeze({__proto__:null,prelude:os,background:Wu,backgroundPattern:Ws,circle:Ys,clippingMask:Dl,heatmap:Yu,heatmapTexture:Uo,collisionBox:_i,collisionCircle:yf,debug:mf,fill:lu,fillOutline:rc,fillOutlinePattern:nc,fillPattern:ac,fillExtrusion:Ls,fillExtrusionPattern:Ro,hillshadePrepare:Vo,hillshade:xf,line:sh,lineGradient:lh,linePattern:uu,lineSDF:Xu,raster:bf,symbolIcon:Il,symbolSDF:wf,symbolTextAndIcon:Tf}),fl=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};fl.prototype.bind=function(Z,ve,q,de,Ie,Qe,ut,St){this.context=Z;for(var Ut=this.boundPaintVertexBuffers.length!==de.length,Kt=0;!Ut&&Kt<de.length;Kt++)this.boundPaintVertexBuffers[Kt]!==de[Kt]&&(Ut=!0);var ar=!this.vao||this.boundProgram!==ve||this.boundLayoutVertexBuffer!==q||Ut||this.boundIndexBuffer!==Ie||this.boundVertexOffset!==Qe||this.boundDynamicVertexBuffer!==ut||this.boundDynamicVertexBuffer2!==St;!Z.extVertexArrayObject||ar?this.freshBind(ve,q,de,Ie,Qe,ut,St):(Z.bindVertexArrayOES.set(this.vao),ut&&ut.bind(),Ie&&Ie.dynamicDraw&&Ie.bind(),St&&St.bind())},fl.prototype.freshBind=function(Z,ve,q,de,Ie,Qe,ut){var St,Ut=Z.numAttributes,Kt=this.context,ar=Kt.gl;if(Kt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Kt.extVertexArrayObject.createVertexArrayOES(),Kt.bindVertexArrayOES.set(this.vao),St=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=ve,this.boundPaintVertexBuffers=q,this.boundIndexBuffer=de,this.boundVertexOffset=Ie,this.boundDynamicVertexBuffer=Qe,this.boundDynamicVertexBuffer2=ut;else{St=Kt.currentNumAttributes||0;for(var nr=Ut;nr<St;nr++)ar.disableVertexAttribArray(nr)}ve.enableAttributes(ar,Z);for(var Rr=0,Wr=q;Rr<Wr.length;Rr+=1){var Hr=Wr[Rr];Hr.enableAttributes(ar,Z)}Qe&&Qe.enableAttributes(ar,Z),ut&&ut.enableAttributes(ar,Z),ve.bind(),ve.setVertexAttribPointers(ar,Z,Ie);for(var Or=0,jr=q;Or<jr.length;Or+=1){var cn=jr[Or];cn.bind(),cn.setVertexAttribPointers(ar,Z,Ie)}Qe&&(Qe.bind(),Qe.setVertexAttribPointers(ar,Z,Ie)),de&&de.bind(),ut&&(ut.bind(),ut.setVertexAttribPointers(ar,Z,Ie)),Kt.currentNumAttributes=Ut},fl.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Ps(ce){for(var Z=[],ve=0;ve<ce.length;ve++)if(ce[ve]!==null){var q=ce[ve].split(" ");Z.push(q.pop())}return Z}var ic=function(Z,ve,q,de,Ie,Qe){var ut=Z.gl;this.program=ut.createProgram();for(var St=Ps(q.staticAttributes),Ut=de?de.getBinderAttributes():[],Kt=St.concat(Ut),ar=q.staticUniforms?Ps(q.staticUniforms):[],nr=de?de.getBinderUniforms():[],Rr=ar.concat(nr),Wr=[],Hr=0,Or=Rr;Hr<Or.length;Hr+=1){var jr=Or[Hr];Wr.indexOf(jr)<0&&Wr.push(jr)}var cn=de?de.defines():[];Qe&&cn.push("#define OVERDRAW_INSPECTOR;");var Rn=cn.concat(os.fragmentSource,q.fragmentSource).join(`
`),_n=cn.concat(os.vertexSource,q.vertexSource).join(`
`),Gn=ut.createShader(ut.FRAGMENT_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Gn,Rn),ut.compileShader(Gn),ut.attachShader(this.program,Gn);var Yn=ut.createShader(ut.VERTEX_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Yn,_n),ut.compileShader(Yn),ut.attachShader(this.program,Yn),this.attributes={};var Vn={};this.numAttributes=Kt.length;for(var Xn=0;Xn<this.numAttributes;Xn++)Kt[Xn]&&(ut.bindAttribLocation(this.program,Xn,Kt[Xn]),this.attributes[Kt[Xn]]=Xn);ut.linkProgram(this.program),ut.deleteShader(Yn),ut.deleteShader(Gn);for(var jn=0;jn<Wr.length;jn++){var aa=Wr[jn];if(aa&&!Vn[aa]){var ga=ut.getUniformLocation(this.program,aa);ga&&(Vn[aa]=ga)}}this.fixedUniforms=Ie(Z,Vn),this.binderUniforms=de?de.getUniforms(Z,Vn):[]};ic.prototype.draw=function(Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt,ar,nr,Rr,Wr,Hr,Or){var jr,cn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(q),Z.setStencilMode(de),Z.setColorMode(Ie),Z.setCullFace(Qe);for(var Rn in this.fixedUniforms)this.fixedUniforms[Rn].set(ut[Rn]);Wr&&Wr.setUniforms(Z,this.binderUniforms,nr,{zoom:Rr});for(var _n=(jr={},jr[cn.LINES]=2,jr[cn.TRIANGLES]=3,jr[cn.LINE_STRIP]=1,jr)[ve],Gn=0,Yn=ar.get();Gn<Yn.length;Gn+=1){var Vn=Yn[Gn],Xn=Vn.vaos||(Vn.vaos={}),jn=Xn[St]||(Xn[St]=new fl);jn.bind(Z,this,Ut,Wr?Wr.getPaintVertexBuffers():[],Kt,Vn.vertexOffset,Hr,Or),cn.drawElements(ve,Vn.primitiveLength*_n,cn.UNSIGNED_SHORT,Vn.primitiveOffset*_n*2)}}};function Fl(ce,Z,ve){var q=1/vn(ve,1,Z.transform.tileZoom),de=Math.pow(2,ve.tileID.overscaledZ),Ie=ve.tileSize*Math.pow(2,Z.transform.tileZoom)/de,Qe=Ie*(ve.tileID.canonical.x+ve.tileID.wrap*de),ut=Ie*ve.tileID.canonical.y;return{u_image:0,u_texsize:ve.imageAtlasTexture.size,u_scale:[q,ce.fromScale,ce.toScale],u_fade:ce.t,u_pixel_coord_upper:[Qe>>16,ut>>16],u_pixel_coord_lower:[Qe&65535,ut&65535]}}function _l(ce,Z,ve,q){var de=ve.imageManager.getPattern(ce.from.toString()),Ie=ve.imageManager.getPattern(ce.to.toString()),Qe=ve.imageManager.getPixelSize(),ut=Qe.width,St=Qe.height,Ut=Math.pow(2,q.tileID.overscaledZ),Kt=q.tileSize*Math.pow(2,ve.transform.tileZoom)/Ut,ar=Kt*(q.tileID.canonical.x+q.tileID.wrap*Ut),nr=Kt*q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:Ie.tl,u_pattern_br_b:Ie.br,u_texsize:[ut,St],u_mix:Z.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:Ie.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/vn(q,1,ve.transform.tileZoom),u_pixel_coord_upper:[ar>>16,nr>>16],u_pixel_coord_lower:[ar&65535,nr&65535]}}var zl=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_lightpos:new i.Uniform3f(ce,Z.u_lightpos),u_lightintensity:new i.Uniform1f(ce,Z.u_lightintensity),u_lightcolor:new i.Uniform3f(ce,Z.u_lightcolor),u_vertical_gradient:new i.Uniform1f(ce,Z.u_vertical_gradient),u_opacity:new i.Uniform1f(ce,Z.u_opacity)}},Ji=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_lightpos:new i.Uniform3f(ce,Z.u_lightpos),u_lightintensity:new i.Uniform1f(ce,Z.u_lightintensity),u_lightcolor:new i.Uniform3f(ce,Z.u_lightcolor),u_vertical_gradient:new i.Uniform1f(ce,Z.u_vertical_gradient),u_height_factor:new i.Uniform1f(ce,Z.u_height_factor),u_image:new i.Uniform1i(ce,Z.u_image),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(ce,Z.u_scale),u_fade:new i.Uniform1f(ce,Z.u_fade),u_opacity:new i.Uniform1f(ce,Z.u_opacity)}},cl=function(ce,Z,ve,q){var de=Z.style.light,Ie=de.properties.get("position"),Qe=[Ie.x,Ie.y,Ie.z],ut=i.create$1();de.properties.get("anchor")==="viewport"&&i.fromRotation(ut,-Z.transform.angle),i.transformMat3(Qe,Qe,ut);var St=de.properties.get("color");return{u_matrix:ce,u_lightpos:Qe,u_lightintensity:de.properties.get("intensity"),u_lightcolor:[St.r,St.g,St.b],u_vertical_gradient:+ve,u_opacity:q}},Ho=function(ce,Z,ve,q,de,Ie,Qe){return i.extend(cl(ce,Z,ve,q),Fl(Ie,Z,Qe),{u_height_factor:-Math.pow(2,de.overscaledZ)/Qe.tileSize/8})},ss=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix)}},Rs=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_image:new i.Uniform1i(ce,Z.u_image),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(ce,Z.u_scale),u_fade:new i.Uniform1f(ce,Z.u_fade)}},Xs=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_world:new i.Uniform2f(ce,Z.u_world)}},Zs=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_world:new i.Uniform2f(ce,Z.u_world),u_image:new i.Uniform1i(ce,Z.u_image),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(ce,Z.u_scale),u_fade:new i.Uniform1f(ce,Z.u_fade)}},ls=function(ce){return{u_matrix:ce}},Ds=function(ce,Z,ve,q){return i.extend(ls(ce),Fl(ve,Z,q))},us=function(ce,Z){return{u_matrix:ce,u_world:Z}},fu=function(ce,Z,ve,q,de){return i.extend(Ds(ce,Z,ve,q),{u_world:de})},Ol=function(ce,Z){return{u_camera_to_center_distance:new i.Uniform1f(ce,Z.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(ce,Z.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(ce,Z.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(ce,Z.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(ce,Z.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix)}},Af=function(ce,Z,ve,q){var de=ce.transform,Ie,Qe;if(q.paint.get("circle-pitch-alignment")==="map"){var ut=vn(ve,1,de.zoom);Ie=!0,Qe=[ut,ut]}else Ie=!1,Qe=de.pixelsToGLUnits;return{u_camera_to_center_distance:de.cameraToCenterDistance,u_scale_with_map:+(q.paint.get("circle-pitch-scale")==="map"),u_matrix:ce.translatePosMatrix(Z.posMatrix,ve,q.paint.get("circle-translate"),q.paint.get("circle-translate-anchor")),u_pitch_with_map:+Ie,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Qe}},uh=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_camera_to_center_distance:new i.Uniform1f(ce,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(ce,Z.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(ce,Z.u_extrude_scale),u_overscale_factor:new i.Uniform1f(ce,Z.u_overscale_factor)}},fh=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_inv_matrix:new i.UniformMatrix4f(ce,Z.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(ce,Z.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(ce,Z.u_viewport_size)}},ch=function(ce,Z,ve){var q=vn(ve,1,Z.zoom),de=Math.pow(2,Z.zoom-ve.tileID.overscaledZ),Ie=ve.tileID.overscaleFactor();return{u_matrix:ce,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:q,u_extrude_scale:[Z.pixelsToGLUnits[0]/(q*de),Z.pixelsToGLUnits[1]/(q*de)],u_overscale_factor:Ie}},oc=function(ce,Z,ve){return{u_matrix:ce,u_inv_matrix:Z,u_camera_to_center_distance:ve.cameraToCenterDistance,u_viewport_size:[ve.width,ve.height]}},sc=function(ce,Z){return{u_color:new i.UniformColor(ce,Z.u_color),u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_overlay:new i.Uniform1i(ce,Z.u_overlay),u_overlay_scale:new i.Uniform1f(ce,Z.u_overlay_scale)}},cu=function(ce,Z,ve){return ve===void 0&&(ve=1),{u_matrix:ce,u_color:Z,u_overlay:0,u_overlay_scale:ve}},$i=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix)}},So=function(ce){return{u_matrix:ce}},Mf=function(ce,Z){return{u_extrude_scale:new i.Uniform1f(ce,Z.u_extrude_scale),u_intensity:new i.Uniform1f(ce,Z.u_intensity),u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix)}},hu=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_world:new i.Uniform2f(ce,Z.u_world),u_image:new i.Uniform1i(ce,Z.u_image),u_color_ramp:new i.Uniform1i(ce,Z.u_color_ramp),u_opacity:new i.Uniform1f(ce,Z.u_opacity)}},Go=function(ce,Z,ve,q){return{u_matrix:ce,u_extrude_scale:vn(Z,1,ve),u_intensity:q}},Sf=function(ce,Z,ve,q){var de=i.create();i.ortho(de,0,ce.width,ce.height,0,0,1);var Ie=ce.context.gl;return{u_matrix:de,u_world:[Ie.drawingBufferWidth,Ie.drawingBufferHeight],u_image:ve,u_color_ramp:q,u_opacity:Z.paint.get("heatmap-opacity")}},Ef=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_image:new i.Uniform1i(ce,Z.u_image),u_latrange:new i.Uniform2f(ce,Z.u_latrange),u_light:new i.Uniform2f(ce,Z.u_light),u_shadow:new i.UniformColor(ce,Z.u_shadow),u_highlight:new i.UniformColor(ce,Z.u_highlight),u_accent:new i.UniformColor(ce,Z.u_accent)}},Cf=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_image:new i.Uniform1i(ce,Z.u_image),u_dimension:new i.Uniform2f(ce,Z.u_dimension),u_zoom:new i.Uniform1f(ce,Z.u_zoom),u_unpack:new i.Uniform4f(ce,Z.u_unpack)}},hh=function(ce,Z,ve){var q=ve.paint.get("hillshade-shadow-color"),de=ve.paint.get("hillshade-highlight-color"),Ie=ve.paint.get("hillshade-accent-color"),Qe=ve.paint.get("hillshade-illumination-direction")*(Math.PI/180);ve.paint.get("hillshade-illumination-anchor")==="viewport"&&(Qe-=ce.transform.angle);var ut=!ce.options.moving;return{u_matrix:ce.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),ut),u_image:0,u_latrange:uc(ce,Z.tileID),u_light:[ve.paint.get("hillshade-exaggeration"),Qe],u_shadow:q,u_highlight:de,u_accent:Ie}},lc=function(ce,Z){var ve=Z.stride,q=i.create();return i.ortho(q,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(q,q,[0,-i.EXTENT,0]),{u_matrix:q,u_image:1,u_dimension:[ve,ve],u_zoom:ce.overscaledZ,u_unpack:Z.getUnpackVector()}};function uc(ce,Z){var ve=Math.pow(2,Z.canonical.z),q=Z.canonical.y;return[new i.MercatorCoordinate(0,q/ve).toLngLat().lat,new i.MercatorCoordinate(0,(q+1)/ve).toLngLat().lat]}var Ni=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new i.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ce,Z.u_units_to_pixels)}},fs=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new i.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ce,Z.u_units_to_pixels),u_image:new i.Uniform1i(ce,Z.u_image),u_image_height:new i.Uniform1f(ce,Z.u_image_height)}},js=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_ratio:new i.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ce,Z.u_device_pixel_ratio),u_image:new i.Uniform1i(ce,Z.u_image),u_units_to_pixels:new i.Uniform2f(ce,Z.u_units_to_pixels),u_scale:new i.Uniform3f(ce,Z.u_scale),u_fade:new i.Uniform1f(ce,Z.u_fade)}},Zu=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new i.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ce,Z.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(ce,Z.u_patternscale_a),u_patternscale_b:new i.Uniform2f(ce,Z.u_patternscale_b),u_sdfgamma:new i.Uniform1f(ce,Z.u_sdfgamma),u_image:new i.Uniform1i(ce,Z.u_image),u_tex_y_a:new i.Uniform1f(ce,Z.u_tex_y_a),u_tex_y_b:new i.Uniform1f(ce,Z.u_tex_y_b),u_mix:new i.Uniform1f(ce,Z.u_mix)}},vu=function(ce,Z,ve){var q=ce.transform;return{u_matrix:cs(ce,Z,ve),u_ratio:1/vn(Z,1,q.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/q.pixelsToGLUnits[0],1/q.pixelsToGLUnits[1]]}},ju=function(ce,Z,ve,q){return i.extend(vu(ce,Z,ve),{u_image:0,u_image_height:q})},Lf=function(ce,Z,ve,q){var de=ce.transform,Ie=Bl(Z,de);return{u_matrix:cs(ce,Z,ve),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/vn(Z,1,de.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[Ie,q.fromScale,q.toScale],u_fade:q.t,u_units_to_pixels:[1/de.pixelsToGLUnits[0],1/de.pixelsToGLUnits[1]]}},Is=function(ce,Z,ve,q,de){var Ie=ce.transform,Qe=ce.lineAtlas,ut=Bl(Z,Ie),St=ve.layout.get("line-cap")==="round",Ut=Qe.getDash(q.from,St),Kt=Qe.getDash(q.to,St),ar=Ut.width*de.fromScale,nr=Kt.width*de.toScale;return i.extend(vu(ce,Z,ve),{u_patternscale_a:[ut/ar,-Ut.height/2],u_patternscale_b:[ut/nr,-Kt.height/2],u_sdfgamma:Qe.width/(Math.min(ar,nr)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:Kt.y,u_mix:de.t})};function Bl(ce,Z){return 1/vn(ce,1,Z.tileZoom)}function cs(ce,Z,ve){return ce.translatePosMatrix(Z.tileID.posMatrix,Z,ve.paint.get("line-translate"),ve.paint.get("line-translate-anchor"))}var hs=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_tl_parent:new i.Uniform2f(ce,Z.u_tl_parent),u_scale_parent:new i.Uniform1f(ce,Z.u_scale_parent),u_buffer_scale:new i.Uniform1f(ce,Z.u_buffer_scale),u_fade_t:new i.Uniform1f(ce,Z.u_fade_t),u_opacity:new i.Uniform1f(ce,Z.u_opacity),u_image0:new i.Uniform1i(ce,Z.u_image0),u_image1:new i.Uniform1i(ce,Z.u_image1),u_brightness_low:new i.Uniform1f(ce,Z.u_brightness_low),u_brightness_high:new i.Uniform1f(ce,Z.u_brightness_high),u_saturation_factor:new i.Uniform1f(ce,Z.u_saturation_factor),u_contrast_factor:new i.Uniform1f(ce,Z.u_contrast_factor),u_spin_weights:new i.Uniform3f(ce,Z.u_spin_weights)}},du=function(ce,Z,ve,q,de){return{u_matrix:ce,u_tl_parent:Z,u_scale_parent:ve,u_buffer_scale:1,u_fade_t:q.mix,u_opacity:q.opacity*de.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:de.paint.get("raster-brightness-min"),u_brightness_high:de.paint.get("raster-brightness-max"),u_saturation_factor:Nl(de.paint.get("raster-saturation")),u_contrast_factor:li(de.paint.get("raster-contrast")),u_spin_weights:pu(de.paint.get("raster-hue-rotate"))}};function pu(ce){ce*=Math.PI/180;var Z=Math.sin(ce),ve=Math.cos(ce);return[(2*ve+1)/3,(-Math.sqrt(3)*Z-ve+1)/3,(Math.sqrt(3)*Z-ve+1)/3]}function li(ce){return ce>0?1/(1-ce):1+ce}function Nl(ce){return ce>0?1-1/(1.001-ce):-ce}var Pf=function(ce,Z){return{u_is_size_zoom_constant:new i.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ce,Z.u_size_t),u_size:new i.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(ce,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new i.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_texture:new i.Uniform1i(ce,Z.u_texture)}},Rf=function(ce,Z){return{u_is_size_zoom_constant:new i.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ce,Z.u_size_t),u_size:new i.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(ce,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new i.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_texture:new i.Uniform1i(ce,Z.u_texture),u_gamma_scale:new i.Uniform1f(ce,Z.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(ce,Z.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(ce,Z.u_is_halo)}},Ul=function(ce,Z){return{u_is_size_zoom_constant:new i.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ce,Z.u_size_t),u_size:new i.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(ce,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new i.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_texsize_icon:new i.Uniform2f(ce,Z.u_texsize_icon),u_texture:new i.Uniform1i(ce,Z.u_texture),u_texture_icon:new i.Uniform1i(ce,Z.u_texture_icon),u_gamma_scale:new i.Uniform1f(ce,Z.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(ce,Z.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(ce,Z.u_is_halo)}},Ku=function(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut){var Kt=de.transform;return{u_is_size_zoom_constant:+(ce==="constant"||ce==="source"),u_is_size_feature_constant:+(ce==="constant"||ce==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:Kt.cameraToCenterDistance,u_pitch:Kt.pitch/360*2*Math.PI,u_rotate_symbol:+ve,u_aspect_ratio:Kt.width/Kt.height,u_fade_change:de.options.fadeDuration?de.symbolFadeChange:1,u_matrix:Ie,u_label_plane_matrix:Qe,u_coord_matrix:ut,u_is_text:+St,u_pitch_with_map:+q,u_texsize:Ut,u_texture:0}},gu=function(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt){var ar=de.transform;return i.extend(Ku(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut),{u_gamma_scale:q?Math.cos(ar._pitch)*ar.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+Kt})},Df=function(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut){return i.extend(gu(ce,Z,ve,q,de,Ie,Qe,ut,!0,St,!0),{u_texsize_icon:Ut,u_texture_icon:1})},yu=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_opacity:new i.Uniform1f(ce,Z.u_opacity),u_color:new i.UniformColor(ce,Z.u_color)}},fc=function(ce,Z){return{u_matrix:new i.UniformMatrix4f(ce,Z.u_matrix),u_opacity:new i.Uniform1f(ce,Z.u_opacity),u_image:new i.Uniform1i(ce,Z.u_image),u_pattern_tl_a:new i.Uniform2f(ce,Z.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(ce,Z.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(ce,Z.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(ce,Z.u_pattern_br_b),u_texsize:new i.Uniform2f(ce,Z.u_texsize),u_mix:new i.Uniform1f(ce,Z.u_mix),u_pattern_size_a:new i.Uniform2f(ce,Z.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(ce,Z.u_pattern_size_b),u_scale_a:new i.Uniform1f(ce,Z.u_scale_a),u_scale_b:new i.Uniform1f(ce,Z.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ce,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(ce,Z.u_tile_units_to_pixels)}},Vl=function(ce,Z,ve){return{u_matrix:ce,u_opacity:Z,u_color:ve}},hl=function(ce,Z,ve,q,de,Ie){return i.extend(_l(q,Ie,ve,de),{u_matrix:ce,u_opacity:Z})},mu={fillExtrusion:zl,fillExtrusionPattern:Ji,fill:ss,fillPattern:Rs,fillOutline:Xs,fillOutlinePattern:Zs,circle:Ol,collisionBox:uh,collisionCircle:fh,debug:sc,clippingMask:$i,heatmap:Mf,heatmapTexture:hu,hillshade:Ef,hillshadePrepare:Cf,line:Ni,lineGradient:fs,linePattern:js,lineSDF:Zu,raster:hs,symbolIcon:Pf,symbolSDF:Rf,symbolTextAndIcon:Ul,background:yu,backgroundPattern:fc},Wo;function Yo(ce,Z,ve,q,de,Ie,Qe){for(var ut=ce.context,St=ut.gl,Ut=ce.useProgram("collisionBox"),Kt=[],ar=0,nr=0,Rr=0;Rr<q.length;Rr++){var Wr=q[Rr],Hr=Z.getTile(Wr),Or=Hr.getBucket(ve);if(Or){var jr=Wr.posMatrix;(de[0]!==0||de[1]!==0)&&(jr=ce.translatePosMatrix(Wr.posMatrix,Hr,de,Ie));var cn=Qe?Or.textCollisionBox:Or.iconCollisionBox,Rn=Or.collisionCircleArray;if(Rn.length>0){var _n=i.create(),Gn=jr;i.mul(_n,Or.placementInvProjMatrix,ce.transform.glCoordMatrix),i.mul(_n,_n,Or.placementViewportMatrix),Kt.push({circleArray:Rn,circleOffset:nr,transform:Gn,invTransform:_n}),ar+=Rn.length/4,nr=ar}cn&&Ut.draw(ut,St.LINES,vr.disabled,jt.disabled,ce.colorModeForRenderPass(),Rt.disabled,ch(jr,ce.transform,Hr),ve.id,cn.layoutVertexBuffer,cn.indexBuffer,cn.segments,null,ce.transform.zoom,null,null,cn.collisionVertexBuffer)}}if(!(!Qe||!Kt.length)){var Yn=ce.useProgram("collisionCircle"),Vn=new i.StructArrayLayout2f1f2i16;Vn.resize(ar*4),Vn._trim();for(var Xn=0,jn=0,aa=Kt;jn<aa.length;jn+=1)for(var ga=aa[jn],ua=0;ua<ga.circleArray.length/4;ua++){var Fa=ua*4,Ja=ga.circleArray[Fa+0],Ya=ga.circleArray[Fa+1],Aa=ga.circleArray[Fa+2],Xa=ga.circleArray[Fa+3];Vn.emplace(Xn++,Ja,Ya,Aa,Xa,0),Vn.emplace(Xn++,Ja,Ya,Aa,Xa,1),Vn.emplace(Xn++,Ja,Ya,Aa,Xa,2),Vn.emplace(Xn++,Ja,Ya,Aa,Xa,3)}(!Wo||Wo.length<ar*2)&&(Wo=Hl(ar));for(var Ba=ut.createIndexBuffer(Wo,!0),ei=ut.createVertexBuffer(Vn,i.collisionCircleLayout.members,!0),$a=0,wi=Kt;$a<wi.length;$a+=1){var Ka=wi[$a],vi=oc(Ka.transform,Ka.invTransform,ce.transform);Yn.draw(ut,St.TRIANGLES,vr.disabled,jt.disabled,ce.colorModeForRenderPass(),Rt.disabled,vi,ve.id,ei,Ba,i.SegmentVector.simpleSegment(0,Ka.circleOffset*2,Ka.circleArray.length,Ka.circleArray.length/2),null,ce.transform.zoom,null,null,null)}ei.destroy(),Ba.destroy()}}function Hl(ce){var Z=ce*2,ve=new i.StructArrayLayout3ui6;ve.resize(Z),ve._trim();for(var q=0;q<Z;q++){var de=q*6;ve.uint16[de+0]=q*4+0,ve.uint16[de+1]=q*4+1,ve.uint16[de+2]=q*4+2,ve.uint16[de+3]=q*4+2,ve.uint16[de+4]=q*4+3,ve.uint16[de+5]=q*4+0}return ve}var vl=i.identity(new Float32Array(16));function cc(ce,Z,ve,q,de){if(ce.renderPass==="translucent"){var Ie=jt.disabled,Qe=ce.colorModeForRenderPass(),ut=ve.layout.get("text-variable-anchor");ut&&Do(q,ce,ve,Z,ve.layout.get("text-rotation-alignment"),ve.layout.get("text-pitch-alignment"),de),ve.paint.get("icon-opacity").constantOr(1)!==0&&pl(ce,Z,ve,q,!1,ve.paint.get("icon-translate"),ve.paint.get("icon-translate-anchor"),ve.layout.get("icon-rotation-alignment"),ve.layout.get("icon-pitch-alignment"),ve.layout.get("icon-keep-upright"),Ie,Qe),ve.paint.get("text-opacity").constantOr(1)!==0&&pl(ce,Z,ve,q,!0,ve.paint.get("text-translate"),ve.paint.get("text-translate-anchor"),ve.layout.get("text-rotation-alignment"),ve.layout.get("text-pitch-alignment"),ve.layout.get("text-keep-upright"),Ie,Qe),Z.map.showCollisionBoxes&&(Yo(ce,Z,ve,q,ve.paint.get("text-translate"),ve.paint.get("text-translate-anchor"),!0),Yo(ce,Z,ve,q,ve.paint.get("icon-translate"),ve.paint.get("icon-translate-anchor"),!1))}}function dl(ce,Z,ve,q,de,Ie){var Qe=i.getAnchorAlignment(ce),ut=Qe.horizontalAlign,St=Qe.verticalAlign,Ut=-(ut-.5)*Z,Kt=-(St-.5)*ve,ar=i.evaluateVariableOffset(ce,q);return new i.Point((Ut/de+ar[0])*Ie,(Kt/de+ar[1])*Ie)}function Do(ce,Z,ve,q,de,Ie,Qe){for(var ut=Z.transform,St=de==="map",Ut=Ie==="map",Kt=0,ar=ce;Kt<ar.length;Kt+=1){var nr=ar[Kt],Rr=q.getTile(nr),Wr=Rr.getBucket(ve);if(!(!Wr||!Wr.text||!Wr.text.segments.get().length)){var Hr=Wr.textSizeData,Or=i.evaluateSizeForZoom(Hr,ut.zoom),jr=vn(Rr,1,Z.transform.zoom),cn=Dr(nr.posMatrix,Ut,St,Z.transform,jr),Rn=ve.layout.get("icon-text-fit")!=="none"&&Wr.hasIconData();if(Or){var _n=Math.pow(2,ut.zoom-Rr.tileID.overscaledZ);hc(Wr,St,Ut,Qe,i.symbolSize,ut,cn,nr.posMatrix,_n,Or,Rn)}}}}function hc(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt){var ar=ce.text.placedSymbolArray,nr=ce.text.dynamicLayoutVertexArray,Rr=ce.icon.dynamicLayoutVertexArray,Wr={};nr.clear();for(var Hr=0;Hr<ar.length;Hr++){var Or=ar.get(Hr),jr=ce.allowVerticalPlacement&&!Or.placedOrientation,cn=!Or.hidden&&Or.crossTileID&&!jr?q[Or.crossTileID]:null;if(!cn)ea(Or.numGlyphs,nr);else{var Rn=new i.Point(Or.anchorX,Or.anchorY),_n=Ur(Rn,ve?ut:Qe),Gn=on(Ie.cameraToCenterDistance,_n.signedDistanceFromCamera),Yn=de.evaluateSizeForFeature(ce.textSizeData,Ut,Or)*Gn/i.ONE_EM;ve&&(Yn*=ce.tilePixelRatio/St);for(var Vn=cn.width,Xn=cn.height,jn=cn.anchor,aa=cn.textOffset,ga=cn.textBoxScale,ua=dl(jn,Vn,Xn,aa,ga,Yn),Fa=ve?Ur(Rn.add(ua),Qe).point:_n.point.add(Z?ua.rotate(-Ie.angle):ua),Ja=ce.allowVerticalPlacement&&Or.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,Ya=0;Ya<Or.numGlyphs;Ya++)i.addDynamicAttributes(nr,Fa,Ja);Kt&&Or.associatedIconIndex>=0&&(Wr[Or.associatedIconIndex]={shiftedAnchor:Fa,angle:Ja})}}if(Kt){Rr.clear();for(var Aa=ce.icon.placedSymbolArray,Xa=0;Xa<Aa.length;Xa++){var Ba=Aa.get(Xa);if(Ba.hidden)ea(Ba.numGlyphs,Rr);else{var ei=Wr[Xa];if(!ei)ea(Ba.numGlyphs,Rr);else for(var $a=0;$a<Ba.numGlyphs;$a++)i.addDynamicAttributes(Rr,ei.shiftedAnchor,ei.angle)}}ce.icon.dynamicLayoutVertexBuffer.updateData(Rr)}ce.text.dynamicLayoutVertexBuffer.updateData(nr)}function Io(ce,Z,ve){return ve.iconsInText&&Z?"symbolTextAndIcon":ce?"symbolSDF":"symbolIcon"}function pl(ce,Z,ve,q,de,Ie,Qe,ut,St,Ut,Kt,ar){for(var nr=ce.context,Rr=nr.gl,Wr=ce.transform,Hr=ut==="map",Or=St==="map",jr=Hr&&ve.layout.get("symbol-placement")!=="point",cn=Hr&&!Or&&!jr,Rn=ve.layout.get("symbol-sort-key").constantOr(1)!==void 0,_n=!1,Gn=ce.depthModeForSublayer(0,vr.ReadOnly),Yn=ve.layout.get("text-variable-anchor"),Vn=[],Xn=0,jn=q;Xn<jn.length;Xn+=1){var aa=jn[Xn],ga=Z.getTile(aa),ua=ga.getBucket(ve);if(ua){var Fa=de?ua.text:ua.icon;if(!(!Fa||!Fa.segments.get().length)){var Ja=Fa.programConfigurations.get(ve.id),Ya=de||ua.sdfIcons,Aa=de?ua.textSizeData:ua.iconSizeData,Xa=Or||Wr.pitch!==0,Ba=ce.useProgram(Io(Ya,de,ua),Ja),ei=i.evaluateSizeForZoom(Aa,Wr.zoom),$a=void 0,wi=[0,0],Ka=void 0,vi=void 0,Na=null,Qa=void 0;if(de){if(Ka=ga.glyphAtlasTexture,vi=Rr.LINEAR,$a=ga.glyphAtlasTexture.size,ua.iconsInText){wi=ga.imageAtlasTexture.size,Na=ga.imageAtlasTexture;var Ui=Aa.kind==="composite"||Aa.kind==="camera";Qa=Xa||ce.options.rotating||ce.options.zooming||Ui?Rr.LINEAR:Rr.NEAREST}}else{var lo=ve.layout.get("icon-size").constantOr(0)!==1||ua.iconsNeedLinear;Ka=ga.imageAtlasTexture,vi=Ya||ce.options.rotating||ce.options.zooming||lo||Xa?Rr.LINEAR:Rr.NEAREST,$a=ga.imageAtlasTexture.size}var $s=vn(ga,1,ce.transform.zoom),qs=Dr(aa.posMatrix,Or,Hr,ce.transform,$s),ml=Nr(aa.posMatrix,Or,Hr,ce.transform,$s),Zl=Yn&&ua.hasTextData(),zf=ve.layout.get("icon-text-fit")!=="none"&&Zl&&ua.hasIconData();jr&&yn(ua,aa.posMatrix,ce,de,qs,ml,Or,Ut);var jl=ce.translatePosMatrix(aa.posMatrix,ga,Ie,Qe),Ko=jr||de&&Yn||zf?vl:qs,Kl=ce.translatePosMatrix(ml,ga,Ie,Qe,!0),ds=Ya&&ve.paint.get(de?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Jo=void 0;Ya?ua.iconsInText?Jo=Df(Aa.kind,ei,cn,Or,ce,jl,Ko,Kl,$a,wi):Jo=gu(Aa.kind,ei,cn,Or,ce,jl,Ko,Kl,de,$a,!0):Jo=Ku(Aa.kind,ei,cn,Or,ce,jl,Ko,Kl,de,$a);var xl={program:Ba,buffers:Fa,uniformValues:Jo,atlasTexture:Ka,atlasTextureIcon:Na,atlasInterpolation:vi,atlasInterpolationIcon:Qa,isSDF:Ya,hasHalo:ds};if(Rn&&ua.canOverlap){_n=!0;for(var Lu=Fa.segments.get(),bl=0,Vh=Lu;bl<Vh.length;bl+=1){var xc=Vh[bl];Vn.push({segments:new i.SegmentVector([xc]),sortKey:xc.sortKey,state:xl})}}else Vn.push({segments:Fa.segments,sortKey:0,state:xl})}}}_n&&Vn.sort(function(Gh,Wh){return Gh.sortKey-Wh.sortKey});for(var vo=0,Hh=Vn;vo<Hh.length;vo+=1){var yh=Hh[vo],ko=yh.state;if(nr.activeTexture.set(Rr.TEXTURE0),ko.atlasTexture.bind(ko.atlasInterpolation,Rr.CLAMP_TO_EDGE),ko.atlasTextureIcon&&(nr.activeTexture.set(Rr.TEXTURE1),ko.atlasTextureIcon&&ko.atlasTextureIcon.bind(ko.atlasInterpolationIcon,Rr.CLAMP_TO_EDGE)),ko.isSDF){var bc=ko.uniformValues;ko.hasHalo&&(bc.u_is_halo=1,xu(ko.buffers,yh.segments,ve,ce,ko.program,Gn,Kt,ar,bc)),bc.u_is_halo=0}xu(ko.buffers,yh.segments,ve,ce,ko.program,Gn,Kt,ar,ko.uniformValues)}}function xu(ce,Z,ve,q,de,Ie,Qe,ut,St){var Ut=q.context,Kt=Ut.gl;de.draw(Ut,Kt.TRIANGLES,Ie,Qe,ut,Rt.disabled,St,ve.id,ce.layoutVertexBuffer,ce.indexBuffer,Z,ve.paint,q.transform.zoom,ce.programConfigurations.get(ve.id),ce.dynamicLayoutVertexBuffer,ce.opacityVertexBuffer)}function Ju(ce,Z,ve,q){if(ce.renderPass==="translucent"){var de=ve.paint.get("circle-opacity"),Ie=ve.paint.get("circle-stroke-width"),Qe=ve.paint.get("circle-stroke-opacity"),ut=ve.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(de.constantOr(1)===0&&(Ie.constantOr(1)===0||Qe.constantOr(1)===0))){for(var St=ce.context,Ut=St.gl,Kt=ce.depthModeForSublayer(0,vr.ReadOnly),ar=jt.disabled,nr=ce.colorModeForRenderPass(),Rr=[],Wr=0;Wr<q.length;Wr++){var Hr=q[Wr],Or=Z.getTile(Hr),jr=Or.getBucket(ve);if(jr){var cn=jr.programConfigurations.get(ve.id),Rn=ce.useProgram("circle",cn),_n=jr.layoutVertexBuffer,Gn=jr.indexBuffer,Yn=Af(ce,Hr,Or,ve),Vn={programConfiguration:cn,program:Rn,layoutVertexBuffer:_n,indexBuffer:Gn,uniformValues:Yn};if(ut)for(var Xn=jr.segments.get(),jn=0,aa=Xn;jn<aa.length;jn+=1){var ga=aa[jn];Rr.push({segments:new i.SegmentVector([ga]),sortKey:ga.sortKey,state:Vn})}else Rr.push({segments:jr.segments,sortKey:0,state:Vn})}}ut&&Rr.sort(function(Ka,vi){return Ka.sortKey-vi.sortKey});for(var ua=0,Fa=Rr;ua<Fa.length;ua+=1){var Ja=Fa[ua],Ya=Ja.state,Aa=Ya.programConfiguration,Xa=Ya.program,Ba=Ya.layoutVertexBuffer,ei=Ya.indexBuffer,$a=Ya.uniformValues,wi=Ja.segments;Xa.draw(St,Ut.TRIANGLES,Kt,ar,nr,Rt.disabled,$a,ve.id,Ba,ei,wi,ve.paint,ce.transform.zoom,Aa)}}}}function Gl(ce,Z,ve,q){if(ve.paint.get("heatmap-opacity")!==0)if(ce.renderPass==="offscreen"){var de=ce.context,Ie=de.gl,Qe=jt.disabled,ut=new st([Ie.ONE,Ie.ONE],i.Color.transparent,[!0,!0,!0,!0]);If(de,ce,ve),de.clear({color:i.Color.transparent});for(var St=0;St<q.length;St++){var Ut=q[St];if(!Z.hasRenderableParent(Ut)){var Kt=Z.getTile(Ut),ar=Kt.getBucket(ve);if(ar){var nr=ar.programConfigurations.get(ve.id),Rr=ce.useProgram("heatmap",nr),Wr=ce.transform,Hr=Wr.zoom;Rr.draw(de,Ie.TRIANGLES,vr.disabled,Qe,ut,Rt.disabled,Go(Ut.posMatrix,Kt,Hr,ve.paint.get("heatmap-intensity")),ve.id,ar.layoutVertexBuffer,ar.indexBuffer,ar.segments,ve.paint,ce.transform.zoom,nr)}}}de.viewport.set([0,0,ce.width,ce.height])}else ce.renderPass==="translucent"&&(ce.context.setColorMode(ce.colorModeForRenderPass()),Ks(ce,ve))}function If(ce,Z,ve){var q=ce.gl;ce.activeTexture.set(q.TEXTURE1),ce.viewport.set([0,0,Z.width/4,Z.height/4]);var de=ve.heatmapFbo;if(de)q.bindTexture(q.TEXTURE_2D,de.colorAttachment.get()),ce.bindFramebuffer.set(de.framebuffer);else{var Ie=q.createTexture();q.bindTexture(q.TEXTURE_2D,Ie),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),de=ve.heatmapFbo=ce.createFramebuffer(Z.width/4,Z.height/4,!1),Qu(ce,Z,Ie,de)}}function Qu(ce,Z,ve,q){var de=ce.gl,Ie=ce.extRenderToTextureHalfFloat?ce.extTextureHalfFloat.HALF_FLOAT_OES:de.UNSIGNED_BYTE;de.texImage2D(de.TEXTURE_2D,0,de.RGBA,Z.width/4,Z.height/4,0,de.RGBA,Ie,null),q.colorAttachment.set(ve)}function Ks(ce,Z){var ve=ce.context,q=ve.gl,de=Z.heatmapFbo;if(de){ve.activeTexture.set(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,de.colorAttachment.get()),ve.activeTexture.set(q.TEXTURE1);var Ie=Z.colorRampTexture;Ie||(Ie=Z.colorRampTexture=new i.Texture(ve,Z.colorRamp,q.RGBA)),Ie.bind(q.LINEAR,q.CLAMP_TO_EDGE),ce.useProgram("heatmapTexture").draw(ve,q.TRIANGLES,vr.disabled,jt.disabled,ce.colorModeForRenderPass(),Rt.disabled,Sf(ce,Z,0,1),Z.id,ce.viewportBuffer,ce.quadTriangleIndexBuffer,ce.viewportSegments,Z.paint,ce.transform.zoom)}}function $u(ce,Z,ve,q){if(ce.renderPass==="translucent"){var de=ve.paint.get("line-opacity"),Ie=ve.paint.get("line-width");if(!(de.constantOr(1)===0||Ie.constantOr(1)===0))for(var Qe=ce.depthModeForSublayer(0,vr.ReadOnly),ut=ce.colorModeForRenderPass(),St=ve.paint.get("line-dasharray"),Ut=ve.paint.get("line-pattern"),Kt=Ut.constantOr(1),ar=ve.paint.get("line-gradient"),nr=ve.getCrossfadeParameters(),Rr=Kt?"linePattern":St?"lineSDF":ar?"lineGradient":"line",Wr=ce.context,Hr=Wr.gl,Or=!0,jr=0,cn=q;jr<cn.length;jr+=1){var Rn=cn[jr],_n=Z.getTile(Rn);if(!(Kt&&!_n.patternsLoaded())){var Gn=_n.getBucket(ve);if(Gn){var Yn=Gn.programConfigurations.get(ve.id),Vn=ce.context.program.get(),Xn=ce.useProgram(Rr,Yn),jn=Or||Xn.program!==Vn,aa=Ut.constantOr(null);if(aa&&_n.imageAtlas){var ga=_n.imageAtlas,ua=ga.patternPositions[aa.to.toString()],Fa=ga.patternPositions[aa.from.toString()];ua&&Fa&&Yn.setConstantPatternPositions(ua,Fa)}var Ja=Kt?Lf(ce,_n,ve,nr):St?Is(ce,_n,ve,St,nr):ar?ju(ce,_n,ve,Gn.lineClipsArray.length):vu(ce,_n,ve);if(Kt)Wr.activeTexture.set(Hr.TEXTURE0),_n.imageAtlasTexture.bind(Hr.LINEAR,Hr.CLAMP_TO_EDGE),Yn.updatePaintBuffers(nr);else if(St&&(jn||ce.lineAtlas.dirty))Wr.activeTexture.set(Hr.TEXTURE0),ce.lineAtlas.bind(Wr);else if(ar){var Ya=Gn.gradients[ve.id],Aa=Ya.texture;if(ve.gradientVersion!==Ya.version){var Xa=256;if(ve.stepInterpolant){var Ba=Z.getSource().maxzoom,ei=Rn.canonical.z===Ba?Math.ceil(1<<ce.transform.maxZoom-Rn.canonical.z):1,$a=Gn.maxLineLength/i.EXTENT,wi=1024,Ka=$a*wi*ei;Xa=i.clamp(i.nextPowerOfTwo(Ka),256,Wr.maxTextureSize)}Ya.gradient=i.renderColorRamp({expression:ve.gradientExpression(),evaluationKey:"lineProgress",resolution:Xa,image:Ya.gradient||void 0,clips:Gn.lineClipsArray}),Ya.texture?Ya.texture.update(Ya.gradient):Ya.texture=new i.Texture(Wr,Ya.gradient,Hr.RGBA),Ya.version=ve.gradientVersion,Aa=Ya.texture}Wr.activeTexture.set(Hr.TEXTURE0),Aa.bind(ve.stepInterpolant?Hr.NEAREST:Hr.LINEAR,Hr.CLAMP_TO_EDGE)}Xn.draw(Wr,Hr.TRIANGLES,Qe,ce.stencilModeForClipping(Rn),ut,Rt.disabled,Ja,ve.id,Gn.layoutVertexBuffer,Gn.indexBuffer,Gn.segments,ve.paint,ce.transform.zoom,Yn,Gn.layoutVertexBuffer2),Or=!1}}}}}function vh(ce,Z,ve,q){var de=ve.paint.get("fill-color"),Ie=ve.paint.get("fill-opacity");if(Ie.constantOr(1)!==0){var Qe=ce.colorModeForRenderPass(),ut=ve.paint.get("fill-pattern"),St=ce.opaquePassEnabledForLayer()&&!ut.constantOr(1)&&de.constantOr(i.Color.transparent).a===1&&Ie.constantOr(0)===1?"opaque":"translucent";if(ce.renderPass===St){var Ut=ce.depthModeForSublayer(1,ce.renderPass==="opaque"?vr.ReadWrite:vr.ReadOnly);Wl(ce,Z,ve,q,Ut,Qe,!1)}if(ce.renderPass==="translucent"&&ve.paint.get("fill-antialias")){var Kt=ce.depthModeForSublayer(ve.getPaintProperty("fill-outline-color")?2:0,vr.ReadOnly);Wl(ce,Z,ve,q,Kt,Qe,!0)}}}function Wl(ce,Z,ve,q,de,Ie,Qe){var ut=ce.context.gl,St=ve.paint.get("fill-pattern"),Ut=St&&St.constantOr(1),Kt=ve.getCrossfadeParameters(),ar,nr,Rr,Wr,Hr;Qe?(nr=Ut&&!ve.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ar=ut.LINES):(nr=Ut?"fillPattern":"fill",ar=ut.TRIANGLES);for(var Or=0,jr=q;Or<jr.length;Or+=1){var cn=jr[Or],Rn=Z.getTile(cn);if(!(Ut&&!Rn.patternsLoaded())){var _n=Rn.getBucket(ve);if(_n){var Gn=_n.programConfigurations.get(ve.id),Yn=ce.useProgram(nr,Gn);Ut&&(ce.context.activeTexture.set(ut.TEXTURE0),Rn.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),Gn.updatePaintBuffers(Kt));var Vn=St.constantOr(null);if(Vn&&Rn.imageAtlas){var Xn=Rn.imageAtlas,jn=Xn.patternPositions[Vn.to.toString()],aa=Xn.patternPositions[Vn.from.toString()];jn&&aa&&Gn.setConstantPatternPositions(jn,aa)}var ga=ce.translatePosMatrix(cn.posMatrix,Rn,ve.paint.get("fill-translate"),ve.paint.get("fill-translate-anchor"));if(!Qe)Wr=_n.indexBuffer,Hr=_n.segments,Rr=Ut?Ds(ga,ce,Kt,Rn):ls(ga);else{Wr=_n.indexBuffer2,Hr=_n.segments2;var ua=[ut.drawingBufferWidth,ut.drawingBufferHeight];Rr=nr==="fillOutlinePattern"&&Ut?fu(ga,ce,Kt,Rn,ua):us(ga,ua)}Yn.draw(ce.context,ar,de,ce.stencilModeForClipping(cn),Ie,Rt.disabled,Rr,ve.id,_n.layoutVertexBuffer,Wr,Hr,ve.paint,ce.transform.zoom,Gn)}}}}function vc(ce,Z,ve,q){var de=ve.paint.get("fill-extrusion-opacity");if(de!==0&&ce.renderPass==="translucent"){var Ie=new vr(ce.context.gl.LEQUAL,vr.ReadWrite,ce.depthRangeFor3D);if(de===1&&!ve.paint.get("fill-extrusion-pattern").constantOr(1)){var Qe=ce.colorModeForRenderPass();ho(ce,Z,ve,q,Ie,jt.disabled,Qe)}else ho(ce,Z,ve,q,Ie,jt.disabled,st.disabled),ho(ce,Z,ve,q,Ie,ce.stencilModeFor3D(),ce.colorModeForRenderPass())}}function ho(ce,Z,ve,q,de,Ie,Qe){for(var ut=ce.context,St=ut.gl,Ut=ve.paint.get("fill-extrusion-pattern"),Kt=Ut.constantOr(1),ar=ve.getCrossfadeParameters(),nr=ve.paint.get("fill-extrusion-opacity"),Rr=0,Wr=q;Rr<Wr.length;Rr+=1){var Hr=Wr[Rr],Or=Z.getTile(Hr),jr=Or.getBucket(ve);if(jr){var cn=jr.programConfigurations.get(ve.id),Rn=ce.useProgram(Kt?"fillExtrusionPattern":"fillExtrusion",cn);Kt&&(ce.context.activeTexture.set(St.TEXTURE0),Or.imageAtlasTexture.bind(St.LINEAR,St.CLAMP_TO_EDGE),cn.updatePaintBuffers(ar));var _n=Ut.constantOr(null);if(_n&&Or.imageAtlas){var Gn=Or.imageAtlas,Yn=Gn.patternPositions[_n.to.toString()],Vn=Gn.patternPositions[_n.from.toString()];Yn&&Vn&&cn.setConstantPatternPositions(Yn,Vn)}var Xn=ce.translatePosMatrix(Hr.posMatrix,Or,ve.paint.get("fill-extrusion-translate"),ve.paint.get("fill-extrusion-translate-anchor")),jn=ve.paint.get("fill-extrusion-vertical-gradient"),aa=Kt?Ho(Xn,ce,jn,nr,Hr,ar,Or):cl(Xn,ce,jn,nr);Rn.draw(ut,ut.gl.TRIANGLES,de,Ie,Qe,Rt.backCCW,aa,ve.id,jr.layoutVertexBuffer,jr.indexBuffer,jr.segments,ve.paint,ce.transform.zoom,cn)}}}function Yl(ce,Z,ve,q){if(!(ce.renderPass!=="offscreen"&&ce.renderPass!=="translucent")){for(var de=ce.context,Ie=ce.depthModeForSublayer(0,vr.ReadOnly),Qe=ce.colorModeForRenderPass(),ut=ce.renderPass==="translucent"?ce.stencilConfigForOverlap(q):[{},q],St=ut[0],Ut=ut[1],Kt=0,ar=Ut;Kt<ar.length;Kt+=1){var nr=ar[Kt],Rr=Z.getTile(nr);Rr.needsHillshadePrepare&&ce.renderPass==="offscreen"?ks(ce,Rr,ve,Ie,jt.disabled,Qe):ce.renderPass==="translucent"&&bu(ce,Rr,ve,Ie,St[nr.overscaledZ],Qe)}de.viewport.set([0,0,ce.width,ce.height])}}function bu(ce,Z,ve,q,de,Ie){var Qe=ce.context,ut=Qe.gl,St=Z.fbo;if(St){var Ut=ce.useProgram("hillshade");Qe.activeTexture.set(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,St.colorAttachment.get());var Kt=hh(ce,Z,ve);Ut.draw(Qe,ut.TRIANGLES,q,de,Ie,Rt.disabled,Kt,ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function ks(ce,Z,ve,q,de,Ie){var Qe=ce.context,ut=Qe.gl,St=Z.dem;if(St&&St.data){var Ut=St.dim,Kt=St.stride,ar=St.getPixels();if(Qe.activeTexture.set(ut.TEXTURE1),Qe.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||ce.getTileTexture(Kt),Z.demTexture){var nr=Z.demTexture;nr.update(ar,{premultiply:!1}),nr.bind(ut.NEAREST,ut.CLAMP_TO_EDGE)}else Z.demTexture=new i.Texture(Qe,ar,ut.RGBA,{premultiply:!1}),Z.demTexture.bind(ut.NEAREST,ut.CLAMP_TO_EDGE);Qe.activeTexture.set(ut.TEXTURE0);var Rr=Z.fbo;if(!Rr){var Wr=new i.Texture(Qe,{width:Ut,height:Ut,data:null},ut.RGBA);Wr.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),Rr=Z.fbo=Qe.createFramebuffer(Ut,Ut,!0),Rr.colorAttachment.set(Wr.texture)}Qe.bindFramebuffer.set(Rr.framebuffer),Qe.viewport.set([0,0,Ut,Ut]),ce.useProgram("hillshadePrepare").draw(Qe,ut.TRIANGLES,q,de,Ie,Rt.disabled,lc(Z.tileID,St),ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function qu(ce,Z,ve,q){if(ce.renderPass==="translucent"&&ve.paint.get("raster-opacity")!==0&&q.length)for(var de=ce.context,Ie=de.gl,Qe=Z.getSource(),ut=ce.useProgram("raster"),St=ce.colorModeForRenderPass(),Ut=Qe instanceof J?[{},q]:ce.stencilConfigForOverlap(q),Kt=Ut[0],ar=Ut[1],nr=ar[ar.length-1].overscaledZ,Rr=!ce.options.moving,Wr=0,Hr=ar;Wr<Hr.length;Wr+=1){var Or=Hr[Wr],jr=ce.depthModeForSublayer(Or.overscaledZ-nr,ve.paint.get("raster-opacity")===1?vr.ReadWrite:vr.ReadOnly,Ie.LESS),cn=Z.getTile(Or),Rn=ce.transform.calculatePosMatrix(Or.toUnwrapped(),Rr);cn.registerFadeDuration(ve.paint.get("raster-fade-duration"));var _n=Z.findLoadedParent(Or,0),Gn=Xl(cn,_n,Z,ve,ce.transform),Yn=void 0,Vn=void 0,Xn=ve.paint.get("raster-resampling")==="nearest"?Ie.NEAREST:Ie.LINEAR;de.activeTexture.set(Ie.TEXTURE0),cn.texture.bind(Xn,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST),de.activeTexture.set(Ie.TEXTURE1),_n?(_n.texture.bind(Xn,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST),Yn=Math.pow(2,_n.tileID.overscaledZ-cn.tileID.overscaledZ),Vn=[cn.tileID.canonical.x*Yn%1,cn.tileID.canonical.y*Yn%1]):cn.texture.bind(Xn,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST);var jn=du(Rn,Vn||[0,0],Yn||1,Gn,ve);Qe instanceof J?ut.draw(de,Ie.TRIANGLES,jr,jt.disabled,St,Rt.disabled,jn,ve.id,Qe.boundsBuffer,ce.quadTriangleIndexBuffer,Qe.boundsSegments):ut.draw(de,Ie.TRIANGLES,jr,Kt[Or.overscaledZ],St,Rt.disabled,jn,ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function Xl(ce,Z,ve,q,de){var Ie=q.paint.get("raster-fade-duration");if(Ie>0){var Qe=i.browser.now(),ut=(Qe-ce.timeAdded)/Ie,St=Z?(Qe-Z.timeAdded)/Ie:-1,Ut=ve.getSource(),Kt=de.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),ar=!Z||Math.abs(Z.tileID.overscaledZ-Kt)>Math.abs(ce.tileID.overscaledZ-Kt),nr=ar&&ce.refreshedUponExpiration?1:i.clamp(ar?ut:1-St,0,1);return ce.refreshedUponExpiration&&ut>=1&&(ce.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-nr}:{opacity:nr,mix:0}}else return{opacity:1,mix:0}}function ef(ce,Z,ve){var q=ve.paint.get("background-color"),de=ve.paint.get("background-opacity");if(de!==0){var Ie=ce.context,Qe=Ie.gl,ut=ce.transform,St=ut.tileSize,Ut=ve.paint.get("background-pattern");if(!ce.isPatternMissing(Ut)){var Kt=!Ut&&q.a===1&&de===1&&ce.opaquePassEnabledForLayer()?"opaque":"translucent";if(ce.renderPass===Kt){var ar=jt.disabled,nr=ce.depthModeForSublayer(0,Kt==="opaque"?vr.ReadWrite:vr.ReadOnly),Rr=ce.colorModeForRenderPass(),Wr=ce.useProgram(Ut?"backgroundPattern":"background"),Hr=ut.coveringTiles({tileSize:St});Ut&&(Ie.activeTexture.set(Qe.TEXTURE0),ce.imageManager.bind(ce.context));for(var Or=ve.getCrossfadeParameters(),jr=0,cn=Hr;jr<cn.length;jr+=1){var Rn=cn[jr],_n=ce.transform.calculatePosMatrix(Rn.toUnwrapped()),Gn=Ut?hl(_n,de,ce,Ut,{tileID:Rn,tileSize:St},Or):Vl(_n,de,q);Wr.draw(Ie,Qe.TRIANGLES,nr,ar,Rr,Rt.disabled,Gn,ve.id,ce.tileExtentBuffer,ce.quadTriangleIndexBuffer,ce.tileExtentSegments)}}}}}var wu=new i.Color(1,0,0,1),dc=new i.Color(0,1,0,1),Tu=new i.Color(0,0,1,1),kf=new i.Color(1,0,1,1),$e=new i.Color(0,1,1,1);function it(ce){var Z=ce.transform.padding,ve=3;bt(ce,ce.transform.height-(Z.top||0),ve,wu),bt(ce,Z.bottom||0,ve,dc),zt(ce,Z.left||0,ve,Tu),zt(ce,ce.transform.width-(Z.right||0),ve,kf);var q=ce.transform.centerPoint;pt(ce,q.x,ce.transform.height-q.y,$e)}function pt(ce,Z,ve,q){var de=20,Ie=2;Dt(ce,Z-Ie/2,ve-de/2,Ie,de,q),Dt(ce,Z-de/2,ve-Ie/2,de,Ie,q)}function bt(ce,Z,ve,q){Dt(ce,0,Z+ve/2,ce.transform.width,ve,q)}function zt(ce,Z,ve,q){Dt(ce,Z-ve/2,0,ve,ce.transform.height,q)}function Dt(ce,Z,ve,q,de,Ie){var Qe=ce.context,ut=Qe.gl;ut.enable(ut.SCISSOR_TEST),ut.scissor(Z*i.browser.devicePixelRatio,ve*i.browser.devicePixelRatio,q*i.browser.devicePixelRatio,de*i.browser.devicePixelRatio),Qe.clear({color:Ie}),ut.disable(ut.SCISSOR_TEST)}function Nt(ce,Z,ve){for(var q=0;q<ve.length;q++)hr(ce,Z,ve[q])}function hr(ce,Z,ve){var q=ce.context,de=q.gl,Ie=ve.posMatrix,Qe=ce.useProgram("debug"),ut=vr.disabled,St=jt.disabled,Ut=ce.colorModeForRenderPass(),Kt="$debug";q.activeTexture.set(de.TEXTURE0),ce.emptyTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Qe.draw(q,de.LINE_STRIP,ut,St,Ut,Rt.disabled,cu(Ie,i.Color.red),Kt,ce.debugBuffer,ce.tileBorderIndexBuffer,ce.debugSegments);var ar=Z.getTileByID(ve.key).latestRawTileData,nr=ar&&ar.byteLength||0,Rr=Math.floor(nr/1024),Wr=Z.getTile(ve).tileSize,Hr=512/Math.min(Wr,512)*(ve.overscaledZ/ce.transform.zoom)*.5,Or=ve.canonical.toString();ve.overscaledZ!==ve.canonical.z&&(Or+=" => "+ve.overscaledZ);var jr=Or+" "+Rr+"kb";br(ce,jr),Qe.draw(q,de.TRIANGLES,ut,St,st.alphaBlended,Rt.disabled,cu(Ie,i.Color.transparent,Hr),Kt,ce.debugBuffer,ce.quadTriangleIndexBuffer,ce.debugSegments)}function br(ce,Z){ce.initDebugOverlayCanvas();var ve=ce.debugOverlayCanvas,q=ce.context.gl,de=ce.debugOverlayCanvas.getContext("2d");de.clearRect(0,0,ve.width,ve.height),de.shadowColor="white",de.shadowBlur=2,de.lineWidth=1.5,de.strokeStyle="white",de.textBaseline="top",de.font="bold 36px Open Sans, sans-serif",de.fillText(Z,5,5),de.strokeText(Z,5,5),ce.debugOverlayTexture.update(ve),ce.debugOverlayTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE)}function ur(ce,Z,ve){var q=ce.context,de=ve.implementation;if(ce.renderPass==="offscreen"){var Ie=de.prerender;Ie&&(ce.setCustomLayerDefaults(),q.setColorMode(ce.colorModeForRenderPass()),Ie.call(de,q.gl,ce.transform.customLayerMatrix()),q.setDirty(),ce.setBaseState())}else if(ce.renderPass==="translucent"){ce.setCustomLayerDefaults(),q.setColorMode(ce.colorModeForRenderPass()),q.setStencilMode(jt.disabled);var Qe=de.renderingMode==="3d"?new vr(ce.context.gl.LEQUAL,vr.ReadWrite,ce.depthRangeFor3D):ce.depthModeForSublayer(0,vr.ReadOnly);q.setDepthMode(Qe),de.render(q.gl,ce.transform.customLayerMatrix()),q.setDirty(),ce.setBaseState(),q.bindFramebuffer.set(null)}}var wr={symbol:cc,circle:Ju,heatmap:Gl,line:$u,fill:vh,"fill-extrusion":vc,hillshade:Yl,raster:qu,background:ef,debug:Nt,custom:ur},Lr=function(Z,ve){this.context=new Vt(Z),this.transform=ve,this._tileTextures={},this.setup(),this.numSublayers=Ct.maxUnderzooming+Ct.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ca,this.gpuTimers={}};Lr.prototype.resize=function(Z,ve){if(this.width=Z*i.browser.devicePixelRatio,this.height=ve*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var q=0,de=this.style._order;q<de.length;q+=1){var Ie=de[q];this.style._layers[Ie].resize()}},Lr.prototype.setup=function(){var Z=this.context,ve=new i.StructArrayLayout2i4;ve.emplaceBack(0,0),ve.emplaceBack(i.EXTENT,0),ve.emplaceBack(0,i.EXTENT),ve.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(ve,xo.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var q=new i.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(i.EXTENT,0),q.emplaceBack(0,i.EXTENT),q.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=Z.createVertexBuffer(q,xo.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var de=new i.StructArrayLayout4i8;de.emplaceBack(0,0,0,0),de.emplaceBack(i.EXTENT,0,i.EXTENT,0),de.emplaceBack(0,i.EXTENT,0,i.EXTENT),de.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(de,Y.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Ie=new i.StructArrayLayout2i4;Ie.emplaceBack(0,0),Ie.emplaceBack(1,0),Ie.emplaceBack(0,1),Ie.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Ie,xo.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Qe=new i.StructArrayLayout1ui2;Qe.emplaceBack(0),Qe.emplaceBack(1),Qe.emplaceBack(3),Qe.emplaceBack(2),Qe.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(Qe);var ut=new i.StructArrayLayout3ui6;ut.emplaceBack(0,1,2),ut.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(ut),this.emptyTexture=new i.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var St=this.context.gl;this.stencilClearMode=new jt({func:St.ALWAYS,mask:0},0,255,St.ZERO,St.ZERO,St.ZERO)},Lr.prototype.clearStencil=function(){var Z=this.context,ve=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var q=i.create();i.ortho(q,0,this.width,this.height,0,0,1),i.scale(q,q,[ve.drawingBufferWidth,ve.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,ve.TRIANGLES,vr.disabled,this.stencilClearMode,st.disabled,Rt.disabled,So(q),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Lr.prototype._renderTileClippingMasks=function(Z,ve){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!ve||!ve.length)){this.currentStencilSource=Z.source;var q=this.context,de=q.gl;this.nextStencilID+ve.length>256&&this.clearStencil(),q.setColorMode(st.disabled),q.setDepthMode(vr.disabled);var Ie=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Qe=0,ut=ve;Qe<ut.length;Qe+=1){var St=ut[Qe],Ut=this._tileClippingMaskIDs[St.key]=this.nextStencilID++;Ie.draw(q,de.TRIANGLES,vr.disabled,new jt({func:de.ALWAYS,mask:0},Ut,255,de.KEEP,de.KEEP,de.REPLACE),st.disabled,Rt.disabled,So(St.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Lr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,ve=this.context.gl;return new jt({func:ve.NOTEQUAL,mask:255},Z,255,ve.KEEP,ve.KEEP,ve.REPLACE)},Lr.prototype.stencilModeForClipping=function(Z){var ve=this.context.gl;return new jt({func:ve.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,ve.KEEP,ve.KEEP,ve.REPLACE)},Lr.prototype.stencilConfigForOverlap=function(Z){var ve,q=this.context.gl,de=Z.sort(function(Ut,Kt){return Kt.overscaledZ-Ut.overscaledZ}),Ie=de[de.length-1].overscaledZ,Qe=de[0].overscaledZ-Ie+1;if(Qe>1){this.currentStencilSource=void 0,this.nextStencilID+Qe>256&&this.clearStencil();for(var ut={},St=0;St<Qe;St++)ut[St+Ie]=new jt({func:q.GEQUAL,mask:255},St+this.nextStencilID,255,q.KEEP,q.KEEP,q.REPLACE);return this.nextStencilID+=Qe,[ut,de]}return[(ve={},ve[Ie]=jt.disabled,ve),de]},Lr.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var ve=8,q=1/ve;return new st([Z.CONSTANT_COLOR,Z.ONE],new i.Color(q,q,q,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?st.unblended:st.alphaBlended},Lr.prototype.depthModeForSublayer=function(Z,ve,q){if(!this.opaquePassEnabledForLayer())return vr.disabled;var de=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new vr(q||this.context.gl.LEQUAL,ve,[de,de])},Lr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Lr.prototype.render=function(Z,ve){var q=this;this.style=Z,this.options=ve,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var de=this.style._order,Ie=this.style.sourceCaches;for(var Qe in Ie){var ut=Ie[Qe];ut.used&&ut.prepare(this.context)}var St={},Ut={},Kt={};for(var ar in Ie){var nr=Ie[ar];St[ar]=nr.getVisibleCoordinates(),Ut[ar]=St[ar].slice().reverse(),Kt[ar]=nr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Rr=0;Rr<de.length;Rr++){var Wr=de[Rr];if(this.style._layers[Wr].is3D()){this.opaquePassCutoff=Rr;break}}this.renderPass="offscreen";for(var Hr=0,Or=de;Hr<Or.length;Hr+=1){var jr=Or[Hr],cn=this.style._layers[jr];if(!(!cn.hasOffscreenPass()||cn.isHidden(this.transform.zoom))){var Rn=Ut[cn.source];cn.type!=="custom"&&!Rn.length||this.renderLayer(this,Ie[cn.source],cn,Rn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ve.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ve.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=de.length-1;this.currentLayer>=0;this.currentLayer--){var _n=this.style._layers[de[this.currentLayer]],Gn=Ie[_n.source],Yn=St[_n.source];this._renderTileClippingMasks(_n,Yn),this.renderLayer(this,Gn,_n,Yn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<de.length;this.currentLayer++){var Vn=this.style._layers[de[this.currentLayer]],Xn=Ie[Vn.source],jn=(Vn.type==="symbol"?Kt:Ut)[Vn.source];this._renderTileClippingMasks(Vn,St[Vn.source]),this.renderLayer(this,Xn,Vn,jn)}if(this.options.showTileBoundaries){var aa,ga,ua=i.values(this.style._layers);ua.forEach(function(Fa){Fa.source&&!Fa.isHidden(q.transform.zoom)&&(Fa.source!==(ga&&ga.id)&&(ga=q.style.sourceCaches[Fa.source]),(!aa||aa.getSource().maxzoom<ga.getSource().maxzoom)&&(aa=ga))}),aa&&wr.debug(this,aa,aa.getVisibleCoordinates())}this.options.showPadding&&it(this),this.context.setDefault()},Lr.prototype.renderLayer=function(Z,ve,q,de){q.isHidden(this.transform.zoom)||q.type!=="background"&&q.type!=="custom"&&!de.length||(this.id=q.id,this.gpuTimingStart(q),wr[q.type](Z,ve,q,de,this.style.placement.variableOffsets),this.gpuTimingEnd())},Lr.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var ve=this.context.extTimerQuery,q=this.gpuTimers[Z.id];q||(q=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:ve.createQueryEXT()}),q.calls++,ve.beginQueryEXT(ve.TIME_ELAPSED_EXT,q.query)}},Lr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Lr.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Lr.prototype.queryGpuTimers=function(Z){var ve={};for(var q in Z){var de=Z[q],Ie=this.context.extTimerQuery,Qe=Ie.getQueryObjectEXT(de.query,Ie.QUERY_RESULT_EXT)/(1e3*1e3);Ie.deleteQueryEXT(de.query),ve[q]=Qe}return ve},Lr.prototype.translatePosMatrix=function(Z,ve,q,de,Ie){if(!q[0]&&!q[1])return Z;var Qe=Ie?de==="map"?this.transform.angle:0:de==="viewport"?-this.transform.angle:0;if(Qe){var ut=Math.sin(Qe),St=Math.cos(Qe);q=[q[0]*St-q[1]*ut,q[0]*ut+q[1]*St]}var Ut=[Ie?q[0]:vn(ve,q[0],this.transform.zoom),Ie?q[1]:vn(ve,q[1],this.transform.zoom),0],Kt=new Float32Array(16);return i.translate(Kt,Z,Ut),Kt},Lr.prototype.saveTileTexture=function(Z){var ve=this._tileTextures[Z.size[0]];ve?ve.push(Z):this._tileTextures[Z.size[0]]=[Z]},Lr.prototype.getTileTexture=function(Z){var ve=this._tileTextures[Z];return ve&&ve.length>0?ve.pop():null},Lr.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var ve=this.imageManager.getPattern(Z.from.toString()),q=this.imageManager.getPattern(Z.to.toString());return!ve||!q},Lr.prototype.useProgram=function(Z,ve){this.cache=this.cache||{};var q=""+Z+(ve?ve.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[q]||(this.cache[q]=new ic(this.context,Z,kl[Z],ve,mu[Z],this._showOverdrawInspector)),this.cache[q]},Lr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Lr.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Lr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Lr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Vr=function(Z,ve){this.points=Z,this.planes=ve};Vr.fromInvProjectionMatrix=function(Z,ve,q){var de=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Ie=Math.pow(2,q),Qe=de.map(function(Ut){return i.transformMat4([],Ut,Z)}).map(function(Ut){return i.scale$1([],Ut,1/Ut[3]/ve*Ie)}),ut=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],St=ut.map(function(Ut){var Kt=i.sub([],Qe[Ut[0]],Qe[Ut[1]]),ar=i.sub([],Qe[Ut[2]],Qe[Ut[1]]),nr=i.normalize([],i.cross([],Kt,ar)),Rr=-i.dot(nr,Qe[Ut[1]]);return nr.concat(Rr)});return new Vr(Qe,St)};var tn=function(Z,ve){this.min=Z,this.max=ve,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};tn.prototype.quadrant=function(Z){for(var ve=[Z%2===0,Z<2],q=i.clone$2(this.min),de=i.clone$2(this.max),Ie=0;Ie<ve.length;Ie++)q[Ie]=ve[Ie]?this.min[Ie]:this.center[Ie],de[Ie]=ve[Ie]?this.center[Ie]:this.max[Ie];return de[2]=this.max[2],new tn(q,de)},tn.prototype.distanceX=function(Z){var ve=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return ve-Z[0]},tn.prototype.distanceY=function(Z){var ve=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return ve-Z[1]},tn.prototype.intersects=function(Z){for(var ve=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],q=!0,de=0;de<Z.planes.length;de++){for(var Ie=Z.planes[de],Qe=0,ut=0;ut<ve.length;ut++)Qe+=i.dot$1(Ie,ve[ut])>=0;if(Qe===0)return 0;Qe!==ve.length&&(q=!1)}if(q)return 2;for(var St=0;St<3;St++){for(var Ut=Number.MAX_VALUE,Kt=-Number.MAX_VALUE,ar=0;ar<Z.points.length;ar++){var nr=Z.points[ar][St]-this.min[St];Ut=Math.min(Ut,nr),Kt=Math.max(Kt,nr)}if(Kt<0||Ut>this.max[St]-this.min[St])return 0}return 1};var sn=function(Z,ve,q,de){if(Z===void 0&&(Z=0),ve===void 0&&(ve=0),q===void 0&&(q=0),de===void 0&&(de=0),isNaN(Z)||Z<0||isNaN(ve)||ve<0||isNaN(q)||q<0||isNaN(de)||de<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=ve,this.left=q,this.right=de};sn.prototype.interpolate=function(Z,ve,q){return ve.top!=null&&Z.top!=null&&(this.top=i.number(Z.top,ve.top,q)),ve.bottom!=null&&Z.bottom!=null&&(this.bottom=i.number(Z.bottom,ve.bottom,q)),ve.left!=null&&Z.left!=null&&(this.left=i.number(Z.left,ve.left,q)),ve.right!=null&&Z.right!=null&&(this.right=i.number(Z.right,ve.right,q)),this},sn.prototype.getCenter=function(Z,ve){var q=i.clamp((this.left+Z-this.right)/2,0,Z),de=i.clamp((this.top+ve-this.bottom)/2,0,ve);return new i.Point(q,de)},sn.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},sn.prototype.clone=function(){return new sn(this.top,this.bottom,this.left,this.right)},sn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var mn=function(Z,ve,q,de,Ie){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Ie===void 0?!0:Ie,this._minZoom=Z||0,this._maxZoom=ve||22,this._minPitch=q==null?0:q,this._maxPitch=de==null?60:de,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new sn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Dn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};mn.prototype.clone=function(){var Z=new mn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Dn.minZoom.get=function(){return this._minZoom},Dn.minZoom.set=function(ce){this._minZoom!==ce&&(this._minZoom=ce,this.zoom=Math.max(this.zoom,ce))},Dn.maxZoom.get=function(){return this._maxZoom},Dn.maxZoom.set=function(ce){this._maxZoom!==ce&&(this._maxZoom=ce,this.zoom=Math.min(this.zoom,ce))},Dn.minPitch.get=function(){return this._minPitch},Dn.minPitch.set=function(ce){this._minPitch!==ce&&(this._minPitch=ce,this.pitch=Math.max(this.pitch,ce))},Dn.maxPitch.get=function(){return this._maxPitch},Dn.maxPitch.set=function(ce){this._maxPitch!==ce&&(this._maxPitch=ce,this.pitch=Math.min(this.pitch,ce))},Dn.renderWorldCopies.get=function(){return this._renderWorldCopies},Dn.renderWorldCopies.set=function(ce){ce===void 0?ce=!0:ce===null&&(ce=!1),this._renderWorldCopies=ce},Dn.worldSize.get=function(){return this.tileSize*this.scale},Dn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Dn.size.get=function(){return new i.Point(this.width,this.height)},Dn.bearing.get=function(){return-this.angle/Math.PI*180},Dn.bearing.set=function(ce){var Z=-i.wrap(ce,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Dn.pitch.get=function(){return this._pitch/Math.PI*180},Dn.pitch.set=function(ce){var Z=i.clamp(ce,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Dn.fov.get=function(){return this._fov/Math.PI*180},Dn.fov.set=function(ce){ce=Math.max(.01,Math.min(60,ce)),this._fov!==ce&&(this._unmodified=!1,this._fov=ce/180*Math.PI,this._calcMatrices())},Dn.zoom.get=function(){return this._zoom},Dn.zoom.set=function(ce){var Z=Math.min(Math.max(ce,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Dn.center.get=function(){return this._center},Dn.center.set=function(ce){ce.lat===this._center.lat&&ce.lng===this._center.lng||(this._unmodified=!1,this._center=ce,this._constrain(),this._calcMatrices())},Dn.padding.get=function(){return this._edgeInsets.toJSON()},Dn.padding.set=function(ce){this._edgeInsets.equals(ce)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ce,1),this._calcMatrices())},Dn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},mn.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},mn.prototype.interpolatePadding=function(Z,ve,q){this._unmodified=!1,this._edgeInsets.interpolate(Z,ve,q),this._constrain(),this._calcMatrices()},mn.prototype.coveringZoomLevel=function(Z){var ve=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,ve)},mn.prototype.getVisibleUnwrappedCoordinates=function(Z){var ve=[new i.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var q=this.pointCoordinate(new i.Point(0,0)),de=this.pointCoordinate(new i.Point(this.width,0)),Ie=this.pointCoordinate(new i.Point(this.width,this.height)),Qe=this.pointCoordinate(new i.Point(0,this.height)),ut=Math.floor(Math.min(q.x,de.x,Ie.x,Qe.x)),St=Math.floor(Math.max(q.x,de.x,Ie.x,Qe.x)),Ut=1,Kt=ut-Ut;Kt<=St+Ut;Kt++)Kt!==0&&ve.push(new i.UnwrappedTileID(Kt,Z));return ve},mn.prototype.coveringTiles=function(Z){var ve=this.coveringZoomLevel(Z),q=ve;if(Z.minzoom!==void 0&&ve<Z.minzoom)return[];Z.maxzoom!==void 0&&ve>Z.maxzoom&&(ve=Z.maxzoom);var de=i.MercatorCoordinate.fromLngLat(this.center),Ie=Math.pow(2,ve),Qe=[Ie*de.x,Ie*de.y,0],ut=Vr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ve),St=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(St=ve);var Ut=3,Kt=function(ua){return{aabb:new tn([ua*Ie,0,0],[(ua+1)*Ie,Ie,0]),zoom:0,x:0,y:0,wrap:ua,fullyVisible:!1}},ar=[],nr=[],Rr=ve,Wr=Z.reparseOverscaled?q:ve;if(this._renderWorldCopies)for(var Hr=1;Hr<=3;Hr++)ar.push(Kt(-Hr)),ar.push(Kt(Hr));for(ar.push(Kt(0));ar.length>0;){var Or=ar.pop(),jr=Or.x,cn=Or.y,Rn=Or.fullyVisible;if(!Rn){var _n=Or.aabb.intersects(ut);if(_n===0)continue;Rn=_n===2}var Gn=Or.aabb.distanceX(Qe),Yn=Or.aabb.distanceY(Qe),Vn=Math.max(Math.abs(Gn),Math.abs(Yn)),Xn=Ut+(1<<Rr-Or.zoom)-2;if(Or.zoom===Rr||Vn>Xn&&Or.zoom>=St){nr.push({tileID:new i.OverscaledTileID(Or.zoom===Rr?Wr:Or.zoom,Or.wrap,Or.zoom,jr,cn),distanceSq:i.sqrLen([Qe[0]-.5-jr,Qe[1]-.5-cn])});continue}for(var jn=0;jn<4;jn++){var aa=(jr<<1)+jn%2,ga=(cn<<1)+(jn>>1);ar.push({aabb:Or.aabb.quadrant(jn),zoom:Or.zoom+1,x:aa,y:ga,wrap:Or.wrap,fullyVisible:Rn})}}return nr.sort(function(ua,Fa){return ua.distanceSq-Fa.distanceSq}).map(function(ua){return ua.tileID})},mn.prototype.resize=function(Z,ve){this.width=Z,this.height=ve,this.pixelsToGLUnits=[2/Z,-2/ve],this._constrain(),this._calcMatrices()},Dn.unmodified.get=function(){return this._unmodified},mn.prototype.zoomScale=function(Z){return Math.pow(2,Z)},mn.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},mn.prototype.project=function(Z){var ve=i.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(Z.lng)*this.worldSize,i.mercatorYfromLat(ve)*this.worldSize)},mn.prototype.unproject=function(Z){return new i.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Dn.point.get=function(){return this.project(this.center)},mn.prototype.setLocationAtPoint=function(Z,ve){var q=this.pointCoordinate(ve),de=this.pointCoordinate(this.centerPoint),Ie=this.locationCoordinate(Z),Qe=new i.MercatorCoordinate(Ie.x-(q.x-de.x),Ie.y-(q.y-de.y));this.center=this.coordinateLocation(Qe),this._renderWorldCopies&&(this.center=this.center.wrap())},mn.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},mn.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},mn.prototype.locationCoordinate=function(Z){return i.MercatorCoordinate.fromLngLat(Z)},mn.prototype.coordinateLocation=function(Z){return Z.toLngLat()},mn.prototype.pointCoordinate=function(Z){var ve=0,q=[Z.x,Z.y,0,1],de=[Z.x,Z.y,1,1];i.transformMat4(q,q,this.pixelMatrixInverse),i.transformMat4(de,de,this.pixelMatrixInverse);var Ie=q[3],Qe=de[3],ut=q[0]/Ie,St=de[0]/Qe,Ut=q[1]/Ie,Kt=de[1]/Qe,ar=q[2]/Ie,nr=de[2]/Qe,Rr=ar===nr?0:(ve-ar)/(nr-ar);return new i.MercatorCoordinate(i.number(ut,St,Rr)/this.worldSize,i.number(Ut,Kt,Rr)/this.worldSize)},mn.prototype.coordinatePoint=function(Z){var ve=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return i.transformMat4(ve,ve,this.pixelMatrix),new i.Point(ve[0]/ve[3],ve[1]/ve[3])},mn.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},mn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},mn.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},mn.prototype.calculatePosMatrix=function(Z,ve){ve===void 0&&(ve=!1);var q=Z.key,de=ve?this._alignedPosMatrixCache:this._posMatrixCache;if(de[q])return de[q];var Ie=Z.canonical,Qe=this.worldSize/this.zoomScale(Ie.z),ut=Ie.x+Math.pow(2,Ie.z)*Z.wrap,St=i.identity(new Float64Array(16));return i.translate(St,St,[ut*Qe,Ie.y*Qe,0]),i.scale(St,St,[Qe/i.EXTENT,Qe/i.EXTENT,1]),i.multiply(St,ve?this.alignedProjMatrix:this.projMatrix,St),de[q]=new Float32Array(St),de[q]},mn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},mn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,ve=90,q=-180,de=180,Ie,Qe,ut,St,Ut=this.size,Kt=this._unmodified;if(this.latRange){var ar=this.latRange;Z=i.mercatorYfromLat(ar[1])*this.worldSize,ve=i.mercatorYfromLat(ar[0])*this.worldSize,Ie=ve-Z<Ut.y?Ut.y/(ve-Z):0}if(this.lngRange){var nr=this.lngRange;q=i.mercatorXfromLng(nr[0])*this.worldSize,de=i.mercatorXfromLng(nr[1])*this.worldSize,Qe=de-q<Ut.x?Ut.x/(de-q):0}var Rr=this.point,Wr=Math.max(Qe||0,Ie||0);if(Wr){this.center=this.unproject(new i.Point(Qe?(de+q)/2:Rr.x,Ie?(ve+Z)/2:Rr.y)),this.zoom+=this.scaleZoom(Wr),this._unmodified=Kt,this._constraining=!1;return}if(this.latRange){var Hr=Rr.y,Or=Ut.y/2;Hr-Or<Z&&(St=Z+Or),Hr+Or>ve&&(St=ve-Or)}if(this.lngRange){var jr=Rr.x,cn=Ut.x/2;jr-cn<q&&(ut=q+cn),jr+cn>de&&(ut=de-cn)}(ut!==void 0||St!==void 0)&&(this.center=this.unproject(new i.Point(ut!==void 0?ut:Rr.x,St!==void 0?St:Rr.y))),this._unmodified=Kt,this._constraining=!1}},mn.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,ve=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var q=Math.PI/2+this._pitch,de=this._fov*(.5+ve.y/this.height),Ie=Math.sin(de)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-q-de,.01,Math.PI-.01)),Qe=this.point,ut=Qe.x,St=Qe.y,Ut=Math.cos(Math.PI/2-this._pitch)*Ie+this.cameraToCenterDistance,Kt=Ut*1.01,ar=this.height/50,nr=new Float64Array(16);i.perspective(nr,this._fov,this.width/this.height,ar,Kt),nr[8]=-ve.x*2/this.width,nr[9]=ve.y*2/this.height,i.scale(nr,nr,[1,-1,1]),i.translate(nr,nr,[0,0,-this.cameraToCenterDistance]),i.rotateX(nr,nr,this._pitch),i.rotateZ(nr,nr,this.angle),i.translate(nr,nr,[-ut,-St,0]),this.mercatorMatrix=i.scale([],nr,[this.worldSize,this.worldSize,this.worldSize]),i.scale(nr,nr,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=nr,this.invProjMatrix=i.invert([],this.projMatrix);var Rr=this.width%2/2,Wr=this.height%2/2,Hr=Math.cos(this.angle),Or=Math.sin(this.angle),jr=ut-Math.round(ut)+Hr*Rr+Or*Wr,cn=St-Math.round(St)+Hr*Wr+Or*Rr,Rn=new Float64Array(nr);if(i.translate(Rn,Rn,[jr>.5?jr-1:jr,cn>.5?cn-1:cn,0]),this.alignedProjMatrix=Rn,nr=i.create(),i.scale(nr,nr,[this.width/2,-this.height/2,1]),i.translate(nr,nr,[1,-1,0]),this.labelPlaneMatrix=nr,nr=i.create(),i.scale(nr,nr,[1,-1,1]),i.translate(nr,nr,[-1,-1,0]),i.scale(nr,nr,[2/this.width,2/this.height,1]),this.glCoordMatrix=nr,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),nr=i.invert(new Float64Array(16),this.pixelMatrix),!nr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=nr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},mn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new i.Point(0,0)),ve=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],q=i.transformMat4(ve,ve,this.pixelMatrix);return q[3]/this.cameraToCenterDistance},mn.prototype.getCameraPoint=function(){var Z=this._pitch,ve=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,ve))},mn.prototype.getCameraQueryGeometry=function(Z){var ve=this.getCameraPoint();if(Z.length===1)return[Z[0],ve];for(var q=ve.x,de=ve.y,Ie=ve.x,Qe=ve.y,ut=0,St=Z;ut<St.length;ut+=1){var Ut=St[ut];q=Math.min(q,Ut.x),de=Math.min(de,Ut.y),Ie=Math.max(Ie,Ut.x),Qe=Math.max(Qe,Ut.y)}return[new i.Point(q,de),new i.Point(Ie,de),new i.Point(Ie,Qe),new i.Point(q,Qe),new i.Point(q,de)]},Object.defineProperties(mn.prototype,Dn);function la(ce,Z){var ve=!1,q=null,de=function(){q=null,ve&&(ce(),q=setTimeout(de,Z),ve=!1)};return function(){return ve=!0,q||de(),q}}var Ea=function(Z){this._hashName=Z&&encodeURIComponent(Z),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=la(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ea.prototype.addTo=function(Z){return this._map=Z,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ea.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ea.prototype.getHashString=function(Z){var ve=this._map.getCenter(),q=Math.round(this._map.getZoom()*100)/100,de=Math.ceil((q*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ie=Math.pow(10,de),Qe=Math.round(ve.lng*Ie)/Ie,ut=Math.round(ve.lat*Ie)/Ie,St=this._map.getBearing(),Ut=this._map.getPitch(),Kt="";if(Z?Kt+="/"+Qe+"/"+ut+"/"+q:Kt+=q+"/"+ut+"/"+Qe,(St||Ut)&&(Kt+="/"+Math.round(St*10)/10),Ut&&(Kt+="/"+Math.round(Ut)),this._hashName){var ar=this._hashName,nr=!1,Rr=i.window.location.hash.slice(1).split("&").map(function(Wr){var Hr=Wr.split("=")[0];return Hr===ar?(nr=!0,Hr+"="+Kt):Wr}).filter(function(Wr){return Wr});return nr||Rr.push(ar+"="+Kt),"#"+Rr.join("&")}return"#"+Kt},Ea.prototype._getCurrentHash=function(){var Z=this,ve=i.window.location.hash.replace("#","");if(this._hashName){var q;return ve.split("&").map(function(de){return de.split("=")}).forEach(function(de){de[0]===Z._hashName&&(q=de)}),(q&&q[1]||"").split("/")}return ve.split("/")},Ea.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(q){return isNaN(q)})){var ve=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:ve,pitch:+(Z[4]||0)}),!0}return!1},Ea.prototype._updateHashUnthrottled=function(){var Z=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,Z)}catch(ve){}};var La={linearity:.3,easing:i.bezier(0,0,.3,1)},Ca=i.extend({deceleration:2500,maxSpeed:1400},La),Ia=i.extend({deceleration:20,maxSpeed:1400},La),Za=i.extend({deceleration:1e3,maxSpeed:360},La),Li=i.extend({deceleration:1e3,maxSpeed:90},La),bi=function(Z){this._map=Z,this.clear()};bi.prototype.clear=function(){this._inertiaBuffer=[]},bi.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:Z})},bi.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,ve=i.browser.now(),q=160;Z.length>0&&ve-Z[0].time>q;)Z.shift()},bi.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ve={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},q=0,de=this._inertiaBuffer;q<de.length;q+=1){var Ie=de[q],Qe=Ie.settings;ve.zoom+=Qe.zoomDelta||0,ve.bearing+=Qe.bearingDelta||0,ve.pitch+=Qe.pitchDelta||0,Qe.panDelta&&ve.pan._add(Qe.panDelta),Qe.around&&(ve.around=Qe.around),Qe.pinchAround&&(ve.pinchAround=Qe.pinchAround)}var ut=this._inertiaBuffer[this._inertiaBuffer.length-1],St=ut.time-this._inertiaBuffer[0].time,Ut={};if(ve.pan.mag()){var Kt=da(ve.pan.mag(),St,i.extend({},Ca,Z||{}));Ut.offset=ve.pan.mult(Kt.amount/ve.pan.mag()),Ut.center=this._map.transform.center,fi(Ut,Kt)}if(ve.zoom){var ar=da(ve.zoom,St,Ia);Ut.zoom=this._map.transform.zoom+ar.amount,fi(Ut,ar)}if(ve.bearing){var nr=da(ve.bearing,St,Za);Ut.bearing=this._map.transform.bearing+i.clamp(nr.amount,-179,179),fi(Ut,nr)}if(ve.pitch){var Rr=da(ve.pitch,St,Li);Ut.pitch=this._map.transform.pitch+Rr.amount,fi(Ut,Rr)}if(Ut.zoom||Ut.bearing){var Wr=ve.pinchAround===void 0?ve.around:ve.pinchAround;Ut.around=Wr?this._map.unproject(Wr):this._map.getCenter()}return this.clear(),i.extend(Ut,{noMoveStart:!0})}};function fi(ce,Z){(!ce.duration||ce.duration<Z.duration)&&(ce.duration=Z.duration,ce.easing=Z.easing)}function da(ce,Z,ve){var q=ve.maxSpeed,de=ve.linearity,Ie=ve.deceleration,Qe=i.clamp(ce*de/(Z/1e3),-q,q),ut=Math.abs(Qe)/(Ie*de);return{easing:ve.easing,duration:ut*1e3,amount:Qe*(ut/2)}}var Ai=function(ce){function Z(q,de,Ie,Qe){Qe===void 0&&(Qe={});var ut=C.mousePos(de.getCanvasContainer(),Ie),St=de.unproject(ut);ce.call(this,q,i.extend({point:ut,lngLat:St,originalEvent:Ie},Qe)),this._defaultPrevented=!1,this.target=de}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ve),Z}(i.Event),Xo=function(ce){function Z(q,de,Ie){var Qe=q==="touchend"?Ie.changedTouches:Ie.touches,ut=C.touchPos(de.getCanvasContainer(),Qe),St=ut.map(function(ar){return de.unproject(ar)}),Ut=ut.reduce(function(ar,nr,Rr,Wr){return ar.add(nr.div(Wr.length))},new i.Point(0,0)),Kt=de.unproject(Ut);ce.call(this,q,{points:ut,point:Ut,lngLats:St,lngLat:Kt,originalEvent:Ie}),this._defaultPrevented=!1}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ve),Z}(i.Event),Js=function(ce){function Z(q,de,Ie){ce.call(this,q,{originalEvent:Ie}),this._defaultPrevented=!1}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ve),Z}(i.Event),le=function(Z,ve){this._map=Z,this._clickTolerance=ve.clickTolerance};le.prototype.reset=function(){delete this._mousedownPos},le.prototype.wheel=function(Z){return this._firePreventable(new Js(Z.type,this._map,Z))},le.prototype.mousedown=function(Z,ve){return this._mousedownPos=ve,this._firePreventable(new Ai(Z.type,this._map,Z))},le.prototype.mouseup=function(Z){this._map.fire(new Ai(Z.type,this._map,Z))},le.prototype.click=function(Z,ve){this._mousedownPos&&this._mousedownPos.dist(ve)>=this._clickTolerance||this._map.fire(new Ai(Z.type,this._map,Z))},le.prototype.dblclick=function(Z){return this._firePreventable(new Ai(Z.type,this._map,Z))},le.prototype.mouseover=function(Z){this._map.fire(new Ai(Z.type,this._map,Z))},le.prototype.mouseout=function(Z){this._map.fire(new Ai(Z.type,this._map,Z))},le.prototype.touchstart=function(Z){return this._firePreventable(new Xo(Z.type,this._map,Z))},le.prototype.touchmove=function(Z){this._map.fire(new Xo(Z.type,this._map,Z))},le.prototype.touchend=function(Z){this._map.fire(new Xo(Z.type,this._map,Z))},le.prototype.touchcancel=function(Z){this._map.fire(new Xo(Z.type,this._map,Z))},le.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},le.prototype.isEnabled=function(){return!0},le.prototype.isActive=function(){return!1},le.prototype.enable=function(){},le.prototype.disable=function(){};var Me=function(Z){this._map=Z};Me.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Me.prototype.mousemove=function(Z){this._map.fire(new Ai(Z.type,this._map,Z))},Me.prototype.mousedown=function(){this._delayContextMenu=!0},Me.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ai("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Me.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new Ai(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},Me.prototype.isEnabled=function(){return!0},Me.prototype.isActive=function(){return!1},Me.prototype.enable=function(){},Me.prototype.disable=function(){};var _e=function(Z,ve){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=ve.clickTolerance||1};_e.prototype.isEnabled=function(){return!!this._enabled},_e.prototype.isActive=function(){return!!this._active},_e.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},_e.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_e.prototype.mousedown=function(Z,ve){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(C.disableDrag(),this._startPos=this._lastPos=ve,this._active=!0)},_e.prototype.mousemoveWindow=function(Z,ve){if(this._active){var q=ve;if(!(this._lastPos.equals(q)||!this._box&&q.dist(this._startPos)<this._clickTolerance)){var de=this._startPos;this._lastPos=q,this._box||(this._box=C.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Ie=Math.min(de.x,q.x),Qe=Math.max(de.x,q.x),ut=Math.min(de.y,q.y),St=Math.max(de.y,q.y);C.setTransform(this._box,"translate("+Ie+"px,"+ut+"px)"),this._box.style.width=Qe-Ie+"px",this._box.style.height=St-ut+"px"}}},_e.prototype.mouseupWindow=function(Z,ve){var q=this;if(this._active&&Z.button===0){var de=this._startPos,Ie=ve;if(this.reset(),C.suppressClick(),de.x===Ie.x&&de.y===Ie.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(Qe){return Qe.fitScreenCoordinates(de,Ie,q._map.getBearing(),{linear:!0})}}}},_e.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},_e.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos},_e.prototype._fireEvent=function(Z,ve){return this._map.fire(new i.Event(Z,{originalEvent:ve}))};function je(ce,Z){for(var ve={},q=0;q<ce.length;q++)ve[ce[q].identifier]=Z[q];return ve}function at(ce){for(var Z=new i.Point(0,0),ve=0,q=ce;ve<q.length;ve+=1){var de=q[ve];Z._add(de)}return Z.div(ce.length)}var ft=500,_t=500,At=30,Ht=function(Z){this.reset(),this.numTouches=Z.numTouches};Ht.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ht.prototype.touchstart=function(Z,ve,q){(this.centroid||q.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),q.length===this.numTouches&&(this.centroid=at(ve),this.touches=je(q,ve)))},Ht.prototype.touchmove=function(Z,ve,q){if(!(this.aborted||!this.centroid)){var de=je(q,ve);for(var Ie in this.touches){var Qe=this.touches[Ie],ut=de[Ie];(!ut||ut.dist(Qe)>At)&&(this.aborted=!0)}}},Ht.prototype.touchend=function(Z,ve,q){if((!this.centroid||Z.timeStamp-this.startTime>_t)&&(this.aborted=!0),q.length===0){var de=!this.aborted&&this.centroid;if(this.reset(),de)return de}};var Qt=function(Z){this.singleTap=new Ht(Z),this.numTaps=Z.numTaps,this.reset()};Qt.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Qt.prototype.touchstart=function(Z,ve,q){this.singleTap.touchstart(Z,ve,q)},Qt.prototype.touchmove=function(Z,ve,q){this.singleTap.touchmove(Z,ve,q)},Qt.prototype.touchend=function(Z,ve,q){var de=this.singleTap.touchend(Z,ve,q);if(de){var Ie=Z.timeStamp-this.lastTime<ft,Qe=!this.lastTap||this.lastTap.dist(de)<At;if((!Ie||!Qe)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=de,this.count===this.numTaps)return this.reset(),de}};var $t=function(){this._zoomIn=new Qt({numTouches:1,numTaps:2}),this._zoomOut=new Qt({numTouches:2,numTaps:1}),this.reset()};$t.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},$t.prototype.touchstart=function(Z,ve,q){this._zoomIn.touchstart(Z,ve,q),this._zoomOut.touchstart(Z,ve,q)},$t.prototype.touchmove=function(Z,ve,q){this._zoomIn.touchmove(Z,ve,q),this._zoomOut.touchmove(Z,ve,q)},$t.prototype.touchend=function(Z,ve,q){var de=this,Ie=this._zoomIn.touchend(Z,ve,q),Qe=this._zoomOut.touchend(Z,ve,q);if(Ie)return this._active=!0,Z.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()+1,around:ut.unproject(Ie)},{originalEvent:Z})}};if(Qe)return this._active=!0,Z.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()-1,around:ut.unproject(Qe)},{originalEvent:Z})}}},$t.prototype.touchcancel=function(){this.reset()},$t.prototype.enable=function(){this._enabled=!0},$t.prototype.disable=function(){this._enabled=!1,this.reset()},$t.prototype.isEnabled=function(){return this._enabled},$t.prototype.isActive=function(){return this._active};var Sr=0,Er=2,qr={};qr[Sr]=1,qr[Er]=2;function fn(ce,Z){var ve=qr[Z];return ce.buttons===void 0||(ce.buttons&ve)!==ve}var Pr=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};Pr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Pr.prototype._correctButton=function(Z,ve){return!1},Pr.prototype._move=function(Z,ve){return{}},Pr.prototype.mousedown=function(Z,ve){if(!this._lastPoint){var q=C.mouseButton(Z);this._correctButton(Z,q)&&(this._lastPoint=ve,this._eventButton=q)}},Pr.prototype.mousemoveWindow=function(Z,ve){var q=this._lastPoint;if(q){if(Z.preventDefault(),fn(Z,this._eventButton)){this.reset();return}if(!(!this._moved&&ve.dist(q)<this._clickTolerance))return this._moved=!0,this._lastPoint=ve,this._move(q,ve)}},Pr.prototype.mouseupWindow=function(Z){if(this._lastPoint){var ve=C.mouseButton(Z);ve===this._eventButton&&(this._moved&&C.suppressClick(),this.reset())}},Pr.prototype.enable=function(){this._enabled=!0},Pr.prototype.disable=function(){this._enabled=!1,this.reset()},Pr.prototype.isEnabled=function(){return this._enabled},Pr.prototype.isActive=function(){return this._active};var zr=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(q,de){ce.prototype.mousedown.call(this,q,de),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(q,de){return de===Sr&&!q.ctrlKey},Z.prototype._move=function(q,de){return{around:de,panDelta:de.sub(q)}},Z}(Pr),Kr=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(q,de){return de===Sr&&q.ctrlKey||de===Er},Z.prototype._move=function(q,de){var Ie=.8,Qe=(de.x-q.x)*Ie;if(Qe)return this._active=!0,{bearingDelta:Qe}},Z.prototype.contextmenu=function(q){q.preventDefault()},Z}(Pr),an=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(q,de){return de===Sr&&q.ctrlKey||de===Er},Z.prototype._move=function(q,de){var Ie=-.5,Qe=(de.y-q.y)*Ie;if(Qe)return this._active=!0,{pitchDelta:Qe}},Z.prototype.contextmenu=function(q){q.preventDefault()},Z}(Pr),nn=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};nn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},nn.prototype.touchstart=function(Z,ve,q){return this._calculateTransform(Z,ve,q)},nn.prototype.touchmove=function(Z,ve,q){if(!(!this._active||q.length<this._minTouches))return Z.preventDefault(),this._calculateTransform(Z,ve,q)},nn.prototype.touchend=function(Z,ve,q){this._calculateTransform(Z,ve,q),this._active&&q.length<this._minTouches&&this.reset()},nn.prototype.touchcancel=function(){this.reset()},nn.prototype._calculateTransform=function(Z,ve,q){q.length>0&&(this._active=!0);var de=je(q,ve),Ie=new i.Point(0,0),Qe=new i.Point(0,0),ut=0;for(var St in de){var Ut=de[St],Kt=this._touches[St];Kt&&(Ie._add(Ut),Qe._add(Ut.sub(Kt)),ut++,de[St]=Ut)}if(this._touches=de,!(ut<this._minTouches||!Qe.mag())){var ar=Qe.div(ut);if(this._sum._add(ar),!(this._sum.mag()<this._clickTolerance)){var nr=Ie.div(ut);return{around:nr,panDelta:ar}}}},nn.prototype.enable=function(){this._enabled=!0},nn.prototype.disable=function(){this._enabled=!1,this.reset()},nn.prototype.isEnabled=function(){return this._enabled},nn.prototype.isActive=function(){return this._active};var Zr=function(){this.reset()};Zr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Zr.prototype._start=function(Z){},Zr.prototype._move=function(Z,ve,q){return{}},Zr.prototype.touchstart=function(Z,ve,q){this._firstTwoTouches||q.length<2||(this._firstTwoTouches=[q[0].identifier,q[1].identifier],this._start([ve[0],ve[1]]))},Zr.prototype.touchmove=function(Z,ve,q){if(this._firstTwoTouches){Z.preventDefault();var de=this._firstTwoTouches,Ie=de[0],Qe=de[1],ut=Nn(q,ve,Ie),St=Nn(q,ve,Qe);if(!(!ut||!St)){var Ut=this._aroundCenter?null:ut.add(St).div(2);return this._move([ut,St],Ut,Z)}}},Zr.prototype.touchend=function(Z,ve,q){if(this._firstTwoTouches){var de=this._firstTwoTouches,Ie=de[0],Qe=de[1],ut=Nn(q,ve,Ie),St=Nn(q,ve,Qe);ut&&St||(this._active&&C.suppressClick(),this.reset())}},Zr.prototype.touchcancel=function(){this.reset()},Zr.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},Zr.prototype.disable=function(){this._enabled=!1,this.reset()},Zr.prototype.isEnabled=function(){return this._enabled},Zr.prototype.isActive=function(){return this._active};function Nn(ce,Z,ve){for(var q=0;q<ce.length;q++)if(ce[q].identifier===ve)return Z[q]}var $n=.1;function ia(ce,Z){return Math.log(ce/Z)/Math.LN2}var na=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(q){this._startDistance=this._distance=q[0].dist(q[1])},Z.prototype._move=function(q,de){var Ie=this._distance;if(this._distance=q[0].dist(q[1]),!(!this._active&&Math.abs(ia(this._distance,this._startDistance))<$n))return this._active=!0,{zoomDelta:ia(this._distance,Ie),pinchAround:de}},Z}(Zr),wa=25;function ma(ce,Z){return ce.angleWith(Z)*180/Math.PI}var Pa=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(q){this._startVector=this._vector=q[0].sub(q[1]),this._minDiameter=q[0].dist(q[1])},Z.prototype._move=function(q,de){var Ie=this._vector;if(this._vector=q[0].sub(q[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ma(this._vector,Ie),pinchAround:de}},Z.prototype._isBelowThreshold=function(q){this._minDiameter=Math.min(this._minDiameter,q.mag());var de=Math.PI*this._minDiameter,Ie=wa/de*360,Qe=ma(q,this._startVector);return Math.abs(Qe)<Ie},Z}(Zr);function Ma(ce){return Math.abs(ce.y)>Math.abs(ce.x)}var pa=100,ja=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(q){this._lastPoints=q,Ma(q[0].sub(q[1]))&&(this._valid=!1)},Z.prototype._move=function(q,de,Ie){var Qe=q[0].sub(this._lastPoints[0]),ut=q[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Qe,ut,Ie.timeStamp),!!this._valid){this._lastPoints=q,this._active=!0;var St=(Qe.y+ut.y)/2,Ut=-.5;return{pitchDelta:St*Ut}}},Z.prototype.gestureBeginsVertically=function(q,de,Ie){if(this._valid!==void 0)return this._valid;var Qe=2,ut=q.mag()>=Qe,St=de.mag()>=Qe;if(!(!ut&&!St)){if(!ut||!St)return this._firstMove===void 0&&(this._firstMove=Ie),Ie-this._firstMove<pa?void 0:!1;var Ut=q.y>0==de.y>0;return Ma(q)&&Ma(de)&&Ut}},Z}(Zr),Mi={panStep:100,bearingStep:15,pitchStep:10},Va=function(){var Z=Mi;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep,this._rotationDisabled=!1};Va.prototype.reset=function(){this._active=!1},Va.prototype.keydown=function(Z){var ve=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var q=0,de=0,Ie=0,Qe=0,ut=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:q=1;break;case 189:case 109:case 173:q=-1;break;case 37:Z.shiftKey?de=-1:(Z.preventDefault(),Qe=-1);break;case 39:Z.shiftKey?de=1:(Z.preventDefault(),Qe=1);break;case 38:Z.shiftKey?Ie=1:(Z.preventDefault(),ut=-1);break;case 40:Z.shiftKey?Ie=-1:(Z.preventDefault(),ut=1);break;default:return}return this._rotationDisabled&&(de=0,Ie=0),{cameraAnimation:function(St){var Ut=St.getZoom();St.easeTo({duration:300,easeId:"keyboardHandler",easing:Qn,zoom:q?Math.round(Ut)+q*(Z.shiftKey?2:1):Ut,bearing:St.getBearing()+de*ve._bearingStep,pitch:St.getPitch()+Ie*ve._pitchStep,offset:[-Qe*ve._panStep,-ut*ve._panStep],center:St.getCenter()},{originalEvent:Z})}}}},Va.prototype.enable=function(){this._enabled=!0},Va.prototype.disable=function(){this._enabled=!1,this.reset()},Va.prototype.isEnabled=function(){return this._enabled},Va.prototype.isActive=function(){return this._active},Va.prototype.disableRotation=function(){this._rotationDisabled=!0},Va.prototype.enableRotation=function(){this._rotationDisabled=!1};function Qn(ce){return ce*(2-ce)}var za=4.000244140625,Ua=1/100,Ha=1/450,gi=2,qn=function(Z,ve){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=ve,this._delta=0,this._defaultZoomRate=Ua,this._wheelZoomRate=Ha,i.bindAll(["_onTimeout"],this)};qn.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},qn.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},qn.prototype.isEnabled=function(){return!!this._enabled},qn.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},qn.prototype.isZooming=function(){return!!this._zooming},qn.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},qn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},qn.prototype.wheel=function(Z){if(this.isEnabled()){var ve=Z.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,q=i.browser.now(),de=q-(this._lastWheelEventTime||0);this._lastWheelEventTime=q,ve!==0&&ve%za===0?this._type="wheel":ve!==0&&Math.abs(ve)<4?this._type="trackpad":de>400?(this._type=null,this._lastValue=ve,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(de*ve)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ve+=this._lastValue)),Z.shiftKey&&ve&&(ve=ve/4),this._type&&(this._lastWheelEvent=Z,this._delta-=ve,this._active||this._start(Z)),Z.preventDefault()}},qn.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},qn.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ve=C.mousePos(this._el,Z);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ve)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},qn.prototype.renderFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ve=this._map.transform;if(this._delta!==0){var q=this._type==="wheel"&&Math.abs(this._delta)>za?this._wheelZoomRate:this._defaultZoomRate,de=gi/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&de!==0&&(de=1/de);var Ie=typeof this._targetZoom=="number"?ve.zoomScale(this._targetZoom):ve.scale;this._targetZoom=Math.min(ve.maxZoom,Math.max(ve.minZoom,ve.scaleZoom(Ie*de))),this._type==="wheel"&&(this._startZoom=ve.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Qe=typeof this._targetZoom=="number"?this._targetZoom:ve.zoom,ut=this._startZoom,St=this._easing,Ut=!1,Kt;if(this._type==="wheel"&&ut&&St){var ar=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),nr=St(ar);Kt=i.number(ut,Qe,nr),ar<1?this._frameId||(this._frameId=!0):Ut=!0}else Kt=Qe,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:Kt-ve.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},qn.prototype._smoothOutEasing=function(Z){var ve=i.ease;if(this._prevEase){var q=this._prevEase,de=(i.browser.now()-q.start)/q.duration,Ie=q.easing(de+.01)-q.easing(de),Qe=.27/Math.sqrt(Ie*Ie+1e-4)*.01,ut=Math.sqrt(.27*.27-Qe*Qe);ve=i.bezier(Qe,ut,.25,1)}return this._prevEase={start:i.browser.now(),duration:Z,easing:ve},ve},qn.prototype.reset=function(){this._active=!1};var Ta=function(Z,ve){this._clickZoom=Z,this._tapZoom=ve};Ta.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ta.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ta.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ta.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Di=function(){this.reset()};Di.prototype.reset=function(){this._active=!1},Di.prototype.dblclick=function(Z,ve){return Z.preventDefault(),{cameraAnimation:function(q){q.easeTo({duration:300,zoom:q.getZoom()+(Z.shiftKey?-1:1),around:q.unproject(ve)},{originalEvent:Z})}}},Di.prototype.enable=function(){this._enabled=!0},Di.prototype.disable=function(){this._enabled=!1,this.reset()},Di.prototype.isEnabled=function(){return this._enabled},Di.prototype.isActive=function(){return this._active};var yi=function(){this._tap=new Qt({numTouches:1,numTaps:1}),this.reset()};yi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},yi.prototype.touchstart=function(Z,ve,q){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>ft&&this.reset(),this._tapTime?q.length>0&&(this._swipePoint=ve[0],this._swipeTouch=q[0].identifier):this._tap.touchstart(Z,ve,q))},yi.prototype.touchmove=function(Z,ve,q){if(!this._tapTime)this._tap.touchmove(Z,ve,q);else if(this._swipePoint){if(q[0].identifier!==this._swipeTouch)return;var de=ve[0],Ie=de.y-this._swipePoint.y;return this._swipePoint=de,Z.preventDefault(),this._active=!0,{zoomDelta:Ie/128}}},yi.prototype.touchend=function(Z,ve,q){if(this._tapTime)this._swipePoint&&q.length===0&&this.reset();else{var de=this._tap.touchend(Z,ve,q);de&&(this._tapTime=Z.timeStamp)}},yi.prototype.touchcancel=function(){this.reset()},yi.prototype.enable=function(){this._enabled=!0},yi.prototype.disable=function(){this._enabled=!1,this.reset()},yi.prototype.isEnabled=function(){return this._enabled},yi.prototype.isActive=function(){return this._active};var zi=function(Z,ve,q){this._el=Z,this._mousePan=ve,this._touchPan=q};zi.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},zi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},zi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},zi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ci=function(Z,ve,q){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=ve,this._mousePitch=q};ci.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ci.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ci.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ci.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Pi=function(Z,ve,q,de){this._el=Z,this._touchZoom=ve,this._touchRotate=q,this._tapDragZoom=de,this._rotationDisabled=!1,this._enabled=!0};Pi.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Pi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Pi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Pi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Pi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Pi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ri=function(ce){return ce.zoom||ce.drag||ce.pitch||ce.rotate},Au=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z}(i.Event);function tf(ce){return ce.panDelta&&ce.panDelta.mag()||ce.zoomDelta||ce.bearingDelta||ce.pitchDelta}var hi=function(Z,ve){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new bi(Z),this._bearingSnap=ve.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ve),i.bindAll(["handleEvent","handleWindowEvent"],this);var q=this._el;this._listeners=[[q,"touchstart",{passive:!0}],[q,"touchmove",{passive:!1}],[q,"touchend",void 0],[q,"touchcancel",void 0],[q,"mousedown",void 0],[q,"mousemove",void 0],[q,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[q,"mouseover",void 0],[q,"mouseout",void 0],[q,"dblclick",void 0],[q,"click",void 0],[q,"keydown",{capture:!1}],[q,"keyup",void 0],[q,"wheel",{passive:!1}],[q,"contextmenu",void 0],[i.window,"blur",void 0]];for(var de=0,Ie=this._listeners;de<Ie.length;de+=1){var Qe=Ie[de],ut=Qe[0],St=Qe[1],Ut=Qe[2];C.addEventListener(ut,St,ut===i.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};hi.prototype.destroy=function(){for(var Z=0,ve=this._listeners;Z<ve.length;Z+=1){var q=ve[Z],de=q[0],Ie=q[1],Qe=q[2];C.removeEventListener(de,Ie,de===i.window.document?this.handleWindowEvent:this.handleEvent,Qe)}},hi.prototype._addDefaultHandlers=function(Z){var ve=this._map,q=ve.getCanvasContainer();this._add("mapEvent",new le(ve,Z));var de=ve.boxZoom=new _e(ve,Z);this._add("boxZoom",de);var Ie=new $t,Qe=new Di;ve.doubleClickZoom=new Ta(Qe,Ie),this._add("tapZoom",Ie),this._add("clickZoom",Qe);var ut=new yi;this._add("tapDragZoom",ut);var St=ve.touchPitch=new ja;this._add("touchPitch",St);var Ut=new Kr(Z),Kt=new an(Z);ve.dragRotate=new ci(Z,Ut,Kt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",Kt,["mouseRotate"]);var ar=new zr(Z),nr=new nn(Z);ve.dragPan=new zi(q,ar,nr),this._add("mousePan",ar),this._add("touchPan",nr,["touchZoom","touchRotate"]);var Rr=new Pa,Wr=new na;ve.touchZoomRotate=new Pi(q,Wr,Rr,ut),this._add("touchRotate",Rr,["touchPan","touchZoom"]),this._add("touchZoom",Wr,["touchPan","touchRotate"]);var Hr=ve.scrollZoom=new qn(ve,this);this._add("scrollZoom",Hr,["mousePan"]);var Or=ve.keyboard=new Va;this._add("keyboard",Or),this._add("blockableMapEvent",new Me(ve));for(var jr=0,cn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];jr<cn.length;jr+=1){var Rn=cn[jr];Z.interactive&&Z[Rn]&&ve[Rn].enable(Z[Rn])}},hi.prototype._add=function(Z,ve,q){this._handlers.push({handlerName:Z,handler:ve,allowed:q}),this._handlersById[Z]=ve},hi.prototype.stop=function(Z){if(!this._updatingCamera){for(var ve=0,q=this._handlers;ve<q.length;ve+=1){var de=q[ve],Ie=de.handler;Ie.reset()}this._inertia.clear(),this._fireEvents({},{},Z),this._changes=[]}},hi.prototype.isActive=function(){for(var Z=0,ve=this._handlers;Z<ve.length;Z+=1){var q=ve[Z],de=q.handler;if(de.isActive())return!0}return!1},hi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},hi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},hi.prototype.isMoving=function(){return!!Ri(this._eventsInProgress)||this.isZooming()},hi.prototype._blockedByActive=function(Z,ve,q){for(var de in Z)if(de!==q&&(!ve||ve.indexOf(de)<0))return!0;return!1},hi.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},hi.prototype._getMapTouches=function(Z){for(var ve=[],q=0,de=Z;q<de.length;q+=1){var Ie=de[q],Qe=Ie.target;this._el.contains(Qe)&&ve.push(Ie)}return ve},hi.prototype.handleEvent=function(Z,ve){if(Z.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var q=Z.type==="renderFrame"?void 0:Z,de={needsRenderFrame:!1},Ie={},Qe={},ut=Z.touches?this._getMapTouches(Z.touches):void 0,St=ut?C.touchPos(this._el,ut):C.mousePos(this._el,Z),Ut=0,Kt=this._handlers;Ut<Kt.length;Ut+=1){var ar=Kt[Ut],nr=ar.handlerName,Rr=ar.handler,Wr=ar.allowed;if(Rr.isEnabled()){var Hr=void 0;this._blockedByActive(Qe,Wr,nr)?Rr.reset():Rr[ve||Z.type]&&(Hr=Rr[ve||Z.type](Z,St,ut),this.mergeHandlerResult(de,Ie,Hr,nr,q),Hr&&Hr.needsRenderFrame&&this._triggerRenderFrame()),(Hr||Rr.isActive())&&(Qe[nr]=Rr)}}var Or={};for(var jr in this._previousActiveHandlers)Qe[jr]||(Or[jr]=q);this._previousActiveHandlers=Qe,(Object.keys(Or).length||tf(de))&&(this._changes.push([de,Ie,Or]),this._triggerRenderFrame()),(Object.keys(Qe).length||tf(de))&&this._map._stop(!0),this._updatingCamera=!1;var cn=de.cameraAnimation;cn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],cn(this._map))},hi.prototype.mergeHandlerResult=function(Z,ve,q,de,Ie){if(q){i.extend(Z,q);var Qe={handlerName:de,originalEvent:q.originalEvent||Ie};q.zoomDelta!==void 0&&(ve.zoom=Qe),q.panDelta!==void 0&&(ve.drag=Qe),q.pitchDelta!==void 0&&(ve.pitch=Qe),q.bearingDelta!==void 0&&(ve.rotate=Qe)}},hi.prototype._applyChanges=function(){for(var Z={},ve={},q={},de=0,Ie=this._changes;de<Ie.length;de+=1){var Qe=Ie[de],ut=Qe[0],St=Qe[1],Ut=Qe[2];ut.panDelta&&(Z.panDelta=(Z.panDelta||new i.Point(0,0))._add(ut.panDelta)),ut.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+ut.zoomDelta),ut.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+ut.bearingDelta),ut.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+ut.pitchDelta),ut.around!==void 0&&(Z.around=ut.around),ut.pinchAround!==void 0&&(Z.pinchAround=ut.pinchAround),ut.noInertia&&(Z.noInertia=ut.noInertia),i.extend(ve,St),i.extend(q,Ut)}this._updateMapTransform(Z,ve,q),this._changes=[]},hi.prototype._updateMapTransform=function(Z,ve,q){var de=this._map,Ie=de.transform;if(!tf(Z))return this._fireEvents(ve,q,!0);var Qe=Z.panDelta,ut=Z.zoomDelta,St=Z.bearingDelta,Ut=Z.pitchDelta,Kt=Z.around,ar=Z.pinchAround;ar!==void 0&&(Kt=ar),de._stop(!0),Kt=Kt||de.transform.centerPoint;var nr=Ie.pointLocation(Qe?Kt.sub(Qe):Kt);St&&(Ie.bearing+=St),Ut&&(Ie.pitch+=Ut),ut&&(Ie.zoom+=ut),Ie.setLocationAtPoint(nr,Kt),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(ve,q,!0)},hi.prototype._fireEvents=function(Z,ve,q){var de=this,Ie=Ri(this._eventsInProgress),Qe=Ri(Z),ut={};for(var St in Z){var Ut=Z[St],Kt=Ut.originalEvent;this._eventsInProgress[St]||(ut[St+"start"]=Kt),this._eventsInProgress[St]=Z[St]}!Ie&&Qe&&this._fireEvent("movestart",Qe.originalEvent);for(var ar in ut)this._fireEvent(ar,ut[ar]);Qe&&this._fireEvent("move",Qe.originalEvent);for(var nr in Z){var Rr=Z[nr],Wr=Rr.originalEvent;this._fireEvent(nr,Wr)}var Hr={},Or;for(var jr in this._eventsInProgress){var cn=this._eventsInProgress[jr],Rn=cn.handlerName,_n=cn.originalEvent;this._handlersById[Rn].isActive()||(delete this._eventsInProgress[jr],Or=ve[Rn]||_n,Hr[jr+"end"]=Or)}for(var Gn in Hr)this._fireEvent(Gn,Hr[Gn]);var Yn=Ri(this._eventsInProgress);if(q&&(Ie||Qe)&&!Yn){this._updatingCamera=!0;var Vn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Xn=function(jn){return jn!==0&&-de._bearingSnap<jn&&jn<de._bearingSnap};Vn?(Xn(Vn.bearing||this._map.getBearing())&&(Vn.bearing=0),this._map.easeTo(Vn,{originalEvent:Or})):(this._map.fire(new i.Event("moveend",{originalEvent:Or})),Xn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},hi.prototype._fireEvent=function(Z,ve){this._map.fire(new i.Event(Z,ve?{originalEvent:ve}:{}))},hi.prototype._requestFrame=function(){var Z=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ve){delete Z._frameId,Z.handleEvent(new Au("renderFrame",{timeStamp:ve})),Z._applyChanges()})},hi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var so=function(ce){function Z(ve,q){ce.call(this),this._moving=!1,this._zooming=!1,this.transform=ve,this._bearingSnap=q.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(q,de){return this.jumpTo({center:q},de)},Z.prototype.panBy=function(q,de,Ie){return q=i.Point.convert(q).mult(-1),this.panTo(this.transform.center,i.extend({offset:q},de),Ie)},Z.prototype.panTo=function(q,de,Ie){return this.easeTo(i.extend({center:q},de),Ie)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(q,de){return this.jumpTo({zoom:q},de),this},Z.prototype.zoomTo=function(q,de,Ie){return this.easeTo(i.extend({zoom:q},de),Ie)},Z.prototype.zoomIn=function(q,de){return this.zoomTo(this.getZoom()+1,q,de),this},Z.prototype.zoomOut=function(q,de){return this.zoomTo(this.getZoom()-1,q,de),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(q,de){return this.jumpTo({bearing:q},de),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(q,de){return this.jumpTo({padding:q},de),this},Z.prototype.rotateTo=function(q,de,Ie){return this.easeTo(i.extend({bearing:q},de),Ie)},Z.prototype.resetNorth=function(q,de){return this.rotateTo(0,i.extend({duration:1e3},q),de),this},Z.prototype.resetNorthPitch=function(q,de){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},q),de),this},Z.prototype.snapToNorth=function(q,de){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(q,de):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(q,de){return this.jumpTo({pitch:q},de),this},Z.prototype.cameraForBounds=function(q,de){q=i.LngLatBounds.convert(q);var Ie=de&&de.bearing||0;return this._cameraForBoxAndBearing(q.getNorthWest(),q.getSouthEast(),Ie,de)},Z.prototype._cameraForBoxAndBearing=function(q,de,Ie,Qe){var ut={top:0,bottom:0,right:0,left:0};if(Qe=i.extend({padding:ut,offset:[0,0],maxZoom:this.transform.maxZoom},Qe),typeof Qe.padding=="number"){var St=Qe.padding;Qe.padding={top:St,bottom:St,right:St,left:St}}Qe.padding=i.extend(ut,Qe.padding);var Ut=this.transform,Kt=Ut.padding,ar=Ut.project(i.LngLat.convert(q)),nr=Ut.project(i.LngLat.convert(de)),Rr=ar.rotate(-Ie*Math.PI/180),Wr=nr.rotate(-Ie*Math.PI/180),Hr=new i.Point(Math.max(Rr.x,Wr.x),Math.max(Rr.y,Wr.y)),Or=new i.Point(Math.min(Rr.x,Wr.x),Math.min(Rr.y,Wr.y)),jr=Hr.sub(Or),cn=(Ut.width-(Kt.left+Kt.right+Qe.padding.left+Qe.padding.right))/jr.x,Rn=(Ut.height-(Kt.top+Kt.bottom+Qe.padding.top+Qe.padding.bottom))/jr.y;if(Rn<0||cn<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var _n=Math.min(Ut.scaleZoom(Ut.scale*Math.min(cn,Rn)),Qe.maxZoom),Gn=typeof Qe.offset.x=="number"?new i.Point(Qe.offset.x,Qe.offset.y):i.Point.convert(Qe.offset),Yn=(Qe.padding.left-Qe.padding.right)/2,Vn=(Qe.padding.top-Qe.padding.bottom)/2,Xn=new i.Point(Yn,Vn),jn=Xn.rotate(Ie*Math.PI/180),aa=Gn.add(jn),ga=aa.mult(Ut.scale/Ut.zoomScale(_n)),ua=Ut.unproject(ar.add(nr).div(2).sub(ga));return{center:ua,zoom:_n,bearing:Ie}},Z.prototype.fitBounds=function(q,de,Ie){return this._fitInternal(this.cameraForBounds(q,de),de,Ie)},Z.prototype.fitScreenCoordinates=function(q,de,Ie,Qe,ut){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(q)),this.transform.pointLocation(i.Point.convert(de)),Ie,Qe),Qe,ut)},Z.prototype._fitInternal=function(q,de,Ie){return q?(de=i.extend(q,de),delete de.padding,de.linear?this.easeTo(de,Ie):this.flyTo(de,Ie)):this},Z.prototype.jumpTo=function(q,de){this.stop();var Ie=this.transform,Qe=!1,ut=!1,St=!1;return"zoom"in q&&Ie.zoom!==+q.zoom&&(Qe=!0,Ie.zoom=+q.zoom),q.center!==void 0&&(Ie.center=i.LngLat.convert(q.center)),"bearing"in q&&Ie.bearing!==+q.bearing&&(ut=!0,Ie.bearing=+q.bearing),"pitch"in q&&Ie.pitch!==+q.pitch&&(St=!0,Ie.pitch=+q.pitch),q.padding!=null&&!Ie.isPaddingEqual(q.padding)&&(Ie.padding=q.padding),this.fire(new i.Event("movestart",de)).fire(new i.Event("move",de)),Qe&&this.fire(new i.Event("zoomstart",de)).fire(new i.Event("zoom",de)).fire(new i.Event("zoomend",de)),ut&&this.fire(new i.Event("rotatestart",de)).fire(new i.Event("rotate",de)).fire(new i.Event("rotateend",de)),St&&this.fire(new i.Event("pitchstart",de)).fire(new i.Event("pitch",de)).fire(new i.Event("pitchend",de)),this.fire(new i.Event("moveend",de))},Z.prototype.easeTo=function(q,de){var Ie=this;this._stop(!1,q.easeId),q=i.extend({offset:[0,0],duration:500,easing:i.ease},q),(q.animate===!1||!q.essential&&i.browser.prefersReducedMotion)&&(q.duration=0);var Qe=this.transform,ut=this.getZoom(),St=this.getBearing(),Ut=this.getPitch(),Kt=this.getPadding(),ar="zoom"in q?+q.zoom:ut,nr="bearing"in q?this._normalizeBearing(q.bearing,St):St,Rr="pitch"in q?+q.pitch:Ut,Wr="padding"in q?q.padding:Qe.padding,Hr=i.Point.convert(q.offset),Or=Qe.centerPoint.add(Hr),jr=Qe.pointLocation(Or),cn=i.LngLat.convert(q.center||jr);this._normalizeCenter(cn);var Rn=Qe.project(jr),_n=Qe.project(cn).sub(Rn),Gn=Qe.zoomScale(ar-ut),Yn,Vn;q.around&&(Yn=i.LngLat.convert(q.around),Vn=Qe.locationPoint(Yn));var Xn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ar!==ut,this._rotating=this._rotating||St!==nr,this._pitching=this._pitching||Rr!==Ut,this._padding=!Qe.isPaddingEqual(Wr),this._easeId=q.easeId,this._prepareEase(de,q.noMoveStart,Xn),this._ease(function(jn){if(Ie._zooming&&(Qe.zoom=i.number(ut,ar,jn)),Ie._rotating&&(Qe.bearing=i.number(St,nr,jn)),Ie._pitching&&(Qe.pitch=i.number(Ut,Rr,jn)),Ie._padding&&(Qe.interpolatePadding(Kt,Wr,jn),Or=Qe.centerPoint.add(Hr)),Yn)Qe.setLocationAtPoint(Yn,Vn);else{var aa=Qe.zoomScale(Qe.zoom-ut),ga=ar>ut?Math.min(2,Gn):Math.max(.5,Gn),ua=Math.pow(ga,1-jn),Fa=Qe.unproject(Rn.add(_n.mult(jn*ua)).mult(aa));Qe.setLocationAtPoint(Qe.renderWorldCopies?Fa.wrap():Fa,Or)}Ie._fireMoveEvents(de)},function(jn){Ie._afterEase(de,jn)},q),this},Z.prototype._prepareEase=function(q,de,Ie){Ie===void 0&&(Ie={}),this._moving=!0,!de&&!Ie.moving&&this.fire(new i.Event("movestart",q)),this._zooming&&!Ie.zooming&&this.fire(new i.Event("zoomstart",q)),this._rotating&&!Ie.rotating&&this.fire(new i.Event("rotatestart",q)),this._pitching&&!Ie.pitching&&this.fire(new i.Event("pitchstart",q))},Z.prototype._fireMoveEvents=function(q){this.fire(new i.Event("move",q)),this._zooming&&this.fire(new i.Event("zoom",q)),this._rotating&&this.fire(new i.Event("rotate",q)),this._pitching&&this.fire(new i.Event("pitch",q))},Z.prototype._afterEase=function(q,de){if(!(this._easeId&&de&&this._easeId===de)){delete this._easeId;var Ie=this._zooming,Qe=this._rotating,ut=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Ie&&this.fire(new i.Event("zoomend",q)),Qe&&this.fire(new i.Event("rotateend",q)),ut&&this.fire(new i.Event("pitchend",q)),this.fire(new i.Event("moveend",q))}},Z.prototype.flyTo=function(q,de){var Ie=this;if(!q.essential&&i.browser.prefersReducedMotion){var Qe=i.pick(q,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Qe,de)}this.stop(),q=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},q);var ut=this.transform,St=this.getZoom(),Ut=this.getBearing(),Kt=this.getPitch(),ar=this.getPadding(),nr="zoom"in q?i.clamp(+q.zoom,ut.minZoom,ut.maxZoom):St,Rr="bearing"in q?this._normalizeBearing(q.bearing,Ut):Ut,Wr="pitch"in q?+q.pitch:Kt,Hr="padding"in q?q.padding:ut.padding,Or=ut.zoomScale(nr-St),jr=i.Point.convert(q.offset),cn=ut.centerPoint.add(jr),Rn=ut.pointLocation(cn),_n=i.LngLat.convert(q.center||Rn);this._normalizeCenter(_n);var Gn=ut.project(Rn),Yn=ut.project(_n).sub(Gn),Vn=q.curve,Xn=Math.max(ut.width,ut.height),jn=Xn/Or,aa=Yn.mag();if("minZoom"in q){var ga=i.clamp(Math.min(q.minZoom,St,nr),ut.minZoom,ut.maxZoom),ua=Xn/ut.zoomScale(ga-St);Vn=Math.sqrt(ua/aa*2)}var Fa=Vn*Vn;function Ja(Na){var Qa=(jn*jn-Xn*Xn+(Na?-1:1)*Fa*Fa*aa*aa)/(2*(Na?jn:Xn)*Fa*aa);return Math.log(Math.sqrt(Qa*Qa+1)-Qa)}function Ya(Na){return(Math.exp(Na)-Math.exp(-Na))/2}function Aa(Na){return(Math.exp(Na)+Math.exp(-Na))/2}function Xa(Na){return Ya(Na)/Aa(Na)}var Ba=Ja(0),ei=function(Na){return Aa(Ba)/Aa(Ba+Vn*Na)},$a=function(Na){return Xn*((Aa(Ba)*Xa(Ba+Vn*Na)-Ya(Ba))/Fa)/aa},wi=(Ja(1)-Ba)/Vn;if(Math.abs(aa)<1e-6||!isFinite(wi)){if(Math.abs(Xn-jn)<1e-6)return this.easeTo(q,de);var Ka=jn<Xn?-1:1;wi=Math.abs(Math.log(jn/Xn))/Vn,$a=function(){return 0},ei=function(Na){return Math.exp(Ka*Vn*Na)}}if("duration"in q)q.duration=+q.duration;else{var vi="screenSpeed"in q?+q.screenSpeed/Vn:+q.speed;q.duration=1e3*wi/vi}return q.maxDuration&&q.duration>q.maxDuration&&(q.duration=0),this._zooming=!0,this._rotating=Ut!==Rr,this._pitching=Wr!==Kt,this._padding=!ut.isPaddingEqual(Hr),this._prepareEase(de,!1),this._ease(function(Na){var Qa=Na*wi,Ui=1/ei(Qa);ut.zoom=Na===1?nr:St+ut.scaleZoom(Ui),Ie._rotating&&(ut.bearing=i.number(Ut,Rr,Na)),Ie._pitching&&(ut.pitch=i.number(Kt,Wr,Na)),Ie._padding&&(ut.interpolatePadding(ar,Hr,Na),cn=ut.centerPoint.add(jr));var lo=Na===1?_n:ut.unproject(Gn.add(Yn.mult($a(Qa))).mult(Ui));ut.setLocationAtPoint(ut.renderWorldCopies?lo.wrap():lo,cn),Ie._fireMoveEvents(de)},function(){return Ie._afterEase(de)},q),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(q,de){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Ie=this._onEaseEnd;delete this._onEaseEnd,Ie.call(this,de)}if(!q){var Qe=this.handlers;Qe&&Qe.stop(!1)}return this},Z.prototype._ease=function(q,de,Ie){Ie.animate===!1||Ie.duration===0?(q(1),de()):(this._easeStart=i.browser.now(),this._easeOptions=Ie,this._onEaseFrame=q,this._onEaseEnd=de,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var q=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(q)),q<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(q,de){q=i.wrap(q,-180,180);var Ie=Math.abs(q-de);return Math.abs(q-360-de)<Ie&&(q-=360),Math.abs(q+360-de)<Ie&&(q+=360),q},Z.prototype._normalizeCenter=function(q){var de=this.transform;if(!(!de.renderWorldCopies||de.lngRange)){var Ie=q.lng-de.center.lng;q.lng+=Ie>180?-360:Ie<-180?360:0}},Z}(i.Evented),Ga=function(Z){Z===void 0&&(Z={}),this.options=Z,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ga.prototype.getDefaultPosition=function(){return"bottom-right"},Ga.prototype.onAdd=function(Z){var ve=this.options&&this.options.compact;return this._map=Z,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=C.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ve&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ve===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ga.prototype.onRemove=function(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ga.prototype._setElementTitle=function(Z,ve){var q=this._map._getUIString("AttributionControl."+ve);Z.title=q,Z.setAttribute("aria-label",q)},Ga.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ga.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ve=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(Z){var q=ve.reduce(function(de,Ie,Qe){return Ie.value&&(de+=Ie.key+"="+Ie.value+(Qe<ve.length-1?"&":"")),de},"?");Z.href=i.config.FEEDBACK_URL+"/"+q+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow",this._setElementTitle(Z,"MapFeedback")}},Ga.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.sourceDataType==="visibility"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ga.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(St){return typeof St!="string"?"":St})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var ve=this._map.style.stylesheet;this.styleOwner=ve.owner,this.styleId=ve.id}var q=this._map.style.sourceCaches;for(var de in q){var Ie=q[de];if(Ie.used){var Qe=Ie.getSource();Qe.attribution&&Z.indexOf(Qe.attribution)<0&&Z.push(Qe.attribution)}}Z.sort(function(St,Ut){return St.length-Ut.length}),Z=Z.filter(function(St,Ut){for(var Kt=Ut+1;Kt<Z.length;Kt++)if(Z[Kt].indexOf(St)>=0)return!1;return!0});var ut=Z.join(" | ");ut!==this._attribHTML&&(this._attribHTML=ut,Z.length?(this._innerContainer.innerHTML=ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ga.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var oi=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};oi.prototype.onAdd=function(Z){this._map=Z,this._container=C.create("div","mapboxgl-ctrl");var ve=C.create("a","mapboxgl-ctrl-logo");return ve.target="_blank",ve.rel="noopener nofollow",ve.href="https://www.mapbox.com/",ve.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ve.setAttribute("rel","noopener nofollow"),this._container.appendChild(ve),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},oi.prototype.onRemove=function(){C.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},oi.prototype.getDefaultPosition=function(){return"bottom-left"},oi.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},oi.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var ve in Z){var q=Z[ve].getSource();if(q.mapbox_logo)return!0}return!1}},oi.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var ve=Z[0];this._map.getCanvasContainer().offsetWidth<250?ve.classList.add("mapboxgl-compact"):ve.classList.remove("mapboxgl-compact")}};var wo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};wo.prototype.add=function(Z){var ve=++this._id,q=this._queue;return q.push({callback:Z,id:ve,cancelled:!1}),ve},wo.prototype.remove=function(Z){for(var ve=this._currentlyRunning,q=ve?this._queue.concat(ve):this._queue,de=0,Ie=q;de<Ie.length;de+=1){var Qe=Ie[de];if(Qe.id===Z){Qe.cancelled=!0;return}}},wo.prototype.run=function(Z){Z===void 0&&(Z=0);var ve=this._currentlyRunning=this._queue;this._queue=[];for(var q=0,de=ve;q<de.length;q+=1){var Ie=de[q];if(!Ie.cancelled&&(Ie.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},wo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Mu={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Zo=i.window.HTMLImageElement,Qs=i.window.HTMLElement,Fs=i.window.ImageBitmap,Su=-2,pc=22,jo=0,rf=60,Hv={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Su,maxZoom:pc,minPitch:jo,maxPitch:rf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Gv=function(ce){function Z(q){var de=this;if(q=i.extend({},Hv,q),q.minZoom!=null&&q.maxZoom!=null&&q.minZoom>q.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(q.minPitch!=null&&q.maxPitch!=null&&q.minPitch>q.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(q.minPitch!=null&&q.minPitch<jo)throw new Error("minPitch must be greater than or equal to "+jo);if(q.maxPitch!=null&&q.maxPitch>rf)throw new Error("maxPitch must be less than or equal to "+rf);var Ie=new mn(q.minZoom,q.maxZoom,q.minPitch,q.maxPitch,q.renderWorldCopies);if(ce.call(this,Ie,q),this._interactive=q.interactive,this._maxTileCacheSize=q.maxTileCacheSize,this._failIfMajorPerformanceCaveat=q.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=q.preserveDrawingBuffer,this._antialias=q.antialias,this._trackResize=q.trackResize,this._bearingSnap=q.bearingSnap,this._refreshExpiredTiles=q.refreshExpiredTiles,this._fadeDuration=q.fadeDuration,this._crossSourceCollisions=q.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=q.collectResourceTiming,this._renderTaskQueue=new wo,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},Mu,q.locale),this._clickTolerance=q.clickTolerance,this._requestManager=new i.RequestManager(q.transformRequest,q.accessToken),typeof q.container=="string"){if(this._container=i.window.document.getElementById(q.container),!this._container)throw new Error("Container '"+q.container+"' not found.")}else if(q.container instanceof Qs)this._container=q.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(q.maxBounds&&this.setMaxBounds(q.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return de._update(!1)}),this.on("moveend",function(){return de._update(!1)}),this.on("zoom",function(){return de._update(!0)}),typeof i.window!="undefined"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new hi(this,q);var Qe=typeof q.hash=="string"&&q.hash||void 0;this._hash=q.hash&&new Ea(Qe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:q.center,zoom:q.zoom,bearing:q.bearing,pitch:q.pitch}),q.bounds&&(this.resize(),this.fitBounds(q.bounds,i.extend({},q.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=q.localIdeographFontFamily,q.style&&this.setStyle(q.style,{localIdeographFontFamily:q.localIdeographFontFamily}),q.attributionControl&&this.addControl(new Ga({customAttribution:q.customAttribution})),this.addControl(new oi,q.logoPosition),this.on("style.load",function(){de.transform.unmodified&&de.jumpTo(de.style.stylesheet)}),this.on("data",function(ut){de._update(ut.dataType==="style"),de.fire(new i.Event(ut.dataType+"data",ut))}),this.on("dataloading",function(ut){de.fire(new i.Event(ut.dataType+"dataloading",ut))})}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(de,Ie){if(Ie===void 0&&(de.getDefaultPosition?Ie=de.getDefaultPosition():Ie="top-right"),!de||!de.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Qe=de.onAdd(this);this._controls.push(de);var ut=this._controlPositions[Ie];return Ie.indexOf("bottom")!==-1?ut.insertBefore(Qe,ut.firstChild):ut.appendChild(Qe),this},Z.prototype.removeControl=function(de){if(!de||!de.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Ie=this._controls.indexOf(de);return Ie>-1&&this._controls.splice(Ie,1),de.onRemove(this),this},Z.prototype.hasControl=function(de){return this._controls.indexOf(de)>-1},Z.prototype.resize=function(de){var Ie=this._containerDimensions(),Qe=Ie[0],ut=Ie[1];this._resizeCanvas(Qe,ut),this.transform.resize(Qe,ut),this.painter.resize(Qe,ut);var St=!this._moving;return St&&(this.stop(),this.fire(new i.Event("movestart",de)).fire(new i.Event("move",de))),this.fire(new i.Event("resize",de)),St&&this.fire(new i.Event("moveend",de)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(de){return this.transform.setMaxBounds(i.LngLatBounds.convert(de)),this._update()},Z.prototype.setMinZoom=function(de){if(de=de==null?Su:de,de>=Su&&de<=this.transform.maxZoom)return this.transform.minZoom=de,this._update(),this.getZoom()<de&&this.setZoom(de),this;throw new Error("minZoom must be between "+Su+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(de){if(de=de==null?pc:de,de>=this.transform.minZoom)return this.transform.maxZoom=de,this._update(),this.getZoom()>de&&this.setZoom(de),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(de){if(de=de==null?jo:de,de<jo)throw new Error("minPitch must be greater than or equal to "+jo);if(de>=jo&&de<=this.transform.maxPitch)return this.transform.minPitch=de,this._update(),this.getPitch()<de&&this.setPitch(de),this;throw new Error("minPitch must be between "+jo+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(de){if(de=de==null?rf:de,de>rf)throw new Error("maxPitch must be less than or equal to "+rf);if(de>=this.transform.minPitch)return this.transform.maxPitch=de,this._update(),this.getPitch()>de&&this.setPitch(de),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(de){return this.transform.renderWorldCopies=de,this._update()},Z.prototype.project=function(de){return this.transform.locationPoint(i.LngLat.convert(de))},Z.prototype.unproject=function(de){return this.transform.pointLocation(i.Point.convert(de))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(de,Ie,Qe){var ut=this,St;if(de==="mouseenter"||de==="mouseover"){var Ut=!1,Kt=function(Or){var jr=ut.getLayer(Ie)?ut.queryRenderedFeatures(Or.point,{layers:[Ie]}):[];jr.length?Ut||(Ut=!0,Qe.call(ut,new Ai(de,ut,Or.originalEvent,{features:jr}))):Ut=!1},ar=function(){Ut=!1};return{layer:Ie,listener:Qe,delegates:{mousemove:Kt,mouseout:ar}}}else if(de==="mouseleave"||de==="mouseout"){var nr=!1,Rr=function(Or){var jr=ut.getLayer(Ie)?ut.queryRenderedFeatures(Or.point,{layers:[Ie]}):[];jr.length?nr=!0:nr&&(nr=!1,Qe.call(ut,new Ai(de,ut,Or.originalEvent)))},Wr=function(Or){nr&&(nr=!1,Qe.call(ut,new Ai(de,ut,Or.originalEvent)))};return{layer:Ie,listener:Qe,delegates:{mousemove:Rr,mouseout:Wr}}}else{var Hr=function(Or){var jr=ut.getLayer(Ie)?ut.queryRenderedFeatures(Or.point,{layers:[Ie]}):[];jr.length&&(Or.features=jr,Qe.call(ut,Or),delete Or.features)};return{layer:Ie,listener:Qe,delegates:(St={},St[de]=Hr,St)}}},Z.prototype.on=function(de,Ie,Qe){if(Qe===void 0)return ce.prototype.on.call(this,de,Ie);var ut=this._createDelegatedListener(de,Ie,Qe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[de]=this._delegatedListeners[de]||[],this._delegatedListeners[de].push(ut);for(var St in ut.delegates)this.on(St,ut.delegates[St]);return this},Z.prototype.once=function(de,Ie,Qe){if(Qe===void 0)return ce.prototype.once.call(this,de,Ie);var ut=this._createDelegatedListener(de,Ie,Qe);for(var St in ut.delegates)this.once(St,ut.delegates[St]);return this},Z.prototype.off=function(de,Ie,Qe){var ut=this;if(Qe===void 0)return ce.prototype.off.call(this,de,Ie);var St=function(Ut){for(var Kt=Ut[de],ar=0;ar<Kt.length;ar++){var nr=Kt[ar];if(nr.layer===Ie&&nr.listener===Qe){for(var Rr in nr.delegates)ut.off(Rr,nr.delegates[Rr]);return Kt.splice(ar,1),ut}}};return this._delegatedListeners&&this._delegatedListeners[de]&&St(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(de,Ie){if(!this.style)return[];Ie===void 0&&de!==void 0&&!(de instanceof i.Point)&&!Array.isArray(de)&&(Ie=de,de=void 0),Ie=Ie||{},de=de||[[0,0],[this.transform.width,this.transform.height]];var Qe;if(de instanceof i.Point||typeof de[0]=="number")Qe=[i.Point.convert(de)];else{var ut=i.Point.convert(de[0]),St=i.Point.convert(de[1]);Qe=[ut,new i.Point(St.x,ut.y),St,new i.Point(ut.x,St.y),ut]}return this.style.queryRenderedFeatures(Qe,Ie,this.transform)},Z.prototype.querySourceFeatures=function(de,Ie){return this.style.querySourceFeatures(de,Ie)},Z.prototype.setStyle=function(de,Ie){return Ie=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Ie),Ie.diff!==!1&&Ie.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&de?(this._diffStyle(de,Ie),this):(this._localIdeographFontFamily=Ie.localIdeographFontFamily,this._updateStyle(de,Ie))},Z.prototype._getUIString=function(de){var Ie=this._locale[de];if(Ie==null)throw new Error("Missing UI string '"+de+"'");return Ie},Z.prototype._updateStyle=function(de,Ie){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),de)this.style=new Lo(this,Ie||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof de=="string"?this.style.loadURL(de):this.style.loadJSON(de),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Lo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(de,Ie){var Qe=this;if(typeof de=="string"){var ut=this._requestManager.normalizeStyleURL(de),St=this._requestManager.transformRequest(ut,i.ResourceType.Style);i.getJSON(St,function(Ut,Kt){Ut?Qe.fire(new i.ErrorEvent(Ut)):Kt&&Qe._updateDiff(Kt,Ie)})}else typeof de=="object"&&this._updateDiff(de,Ie)},Z.prototype._updateDiff=function(de,Ie){try{this.style.setState(de)&&this._update(!0)}catch(Qe){i.warnOnce("Unable to perform style diff: "+(Qe.message||Qe.error||Qe)+".  Rebuilding the style from scratch."),this._updateStyle(de,Ie)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(de,Ie){return this._lazyInitEmptyStyle(),this.style.addSource(de,Ie),this._update(!0)},Z.prototype.isSourceLoaded=function(de){var Ie=this.style&&this.style.sourceCaches[de];if(Ie===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+de+"'")));return}return Ie.loaded()},Z.prototype.areTilesLoaded=function(){var de=this.style&&this.style.sourceCaches;for(var Ie in de){var Qe=de[Ie],ut=Qe._tiles;for(var St in ut){var Ut=ut[St];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(de,Ie,Qe){return this._lazyInitEmptyStyle(),this.style.addSourceType(de,Ie,Qe)},Z.prototype.removeSource=function(de){return this.style.removeSource(de),this._update(!0)},Z.prototype.getSource=function(de){return this.style.getSource(de)},Z.prototype.addImage=function(de,Ie,Qe){Qe===void 0&&(Qe={});var ut=Qe.pixelRatio;ut===void 0&&(ut=1);var St=Qe.sdf;St===void 0&&(St=!1);var Ut=Qe.stretchX,Kt=Qe.stretchY,ar=Qe.content;this._lazyInitEmptyStyle();var nr=0;if(Ie instanceof Zo||Fs&&Ie instanceof Fs){var Rr=i.browser.getImageData(Ie),Wr=Rr.width,Hr=Rr.height,Or=Rr.data;this.style.addImage(de,{data:new i.RGBAImage({width:Wr,height:Hr},Or),pixelRatio:ut,stretchX:Ut,stretchY:Kt,content:ar,sdf:St,version:nr})}else{if(Ie.width===void 0||Ie.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var jr=Ie.width,cn=Ie.height,Rn=Ie.data,_n=Ie;this.style.addImage(de,{data:new i.RGBAImage({width:jr,height:cn},new Uint8Array(Rn)),pixelRatio:ut,stretchX:Ut,stretchY:Kt,content:ar,sdf:St,version:nr,userImage:_n}),_n.onAdd&&_n.onAdd(this,de)}},Z.prototype.updateImage=function(de,Ie){var Qe=this.style.getImage(de);if(!Qe)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ut=Ie instanceof Zo||Fs&&Ie instanceof Fs?i.browser.getImageData(Ie):Ie,St=ut.width,Ut=ut.height,Kt=ut.data;if(St===void 0||Ut===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(St!==Qe.data.width||Ut!==Qe.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ar=!(Ie instanceof Zo||Fs&&Ie instanceof Fs);Qe.data.replace(Kt,ar),this.style.updateImage(de,Qe)},Z.prototype.hasImage=function(de){return de?!!this.style.getImage(de):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(de){this.style.removeImage(de)},Z.prototype.loadImage=function(de,Ie){i.getImage(this._requestManager.transformRequest(de,i.ResourceType.Image),Ie)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(de,Ie){return this._lazyInitEmptyStyle(),this.style.addLayer(de,Ie),this._update(!0)},Z.prototype.moveLayer=function(de,Ie){return this.style.moveLayer(de,Ie),this._update(!0)},Z.prototype.removeLayer=function(de){return this.style.removeLayer(de),this._update(!0)},Z.prototype.getLayer=function(de){return this.style.getLayer(de)},Z.prototype.setLayerZoomRange=function(de,Ie,Qe){return this.style.setLayerZoomRange(de,Ie,Qe),this._update(!0)},Z.prototype.setFilter=function(de,Ie,Qe){return Qe===void 0&&(Qe={}),this.style.setFilter(de,Ie,Qe),this._update(!0)},Z.prototype.getFilter=function(de){return this.style.getFilter(de)},Z.prototype.setPaintProperty=function(de,Ie,Qe,ut){return ut===void 0&&(ut={}),this.style.setPaintProperty(de,Ie,Qe,ut),this._update(!0)},Z.prototype.getPaintProperty=function(de,Ie){return this.style.getPaintProperty(de,Ie)},Z.prototype.setLayoutProperty=function(de,Ie,Qe,ut){return ut===void 0&&(ut={}),this.style.setLayoutProperty(de,Ie,Qe,ut),this._update(!0)},Z.prototype.getLayoutProperty=function(de,Ie){return this.style.getLayoutProperty(de,Ie)},Z.prototype.setLight=function(de,Ie){return Ie===void 0&&(Ie={}),this._lazyInitEmptyStyle(),this.style.setLight(de,Ie),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(de,Ie){return this.style.setFeatureState(de,Ie),this._update()},Z.prototype.removeFeatureState=function(de,Ie){return this.style.removeFeatureState(de,Ie),this._update()},Z.prototype.getFeatureState=function(de){return this.style.getFeatureState(de)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var de=0,Ie=0;return this._container&&(de=this._container.clientWidth||400,Ie=this._container.clientHeight||300),[de,Ie]},Z.prototype._detectMissingCSS=function(){var de=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");de!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var de=this._container;de.classList.add("mapboxgl-map");var Ie=this._missingCSSCanary=C.create("div","mapboxgl-canary",de);Ie.style.visibility="hidden",this._detectMissingCSS();var Qe=this._canvasContainer=C.create("div","mapboxgl-canvas-container",de);this._interactive&&Qe.classList.add("mapboxgl-interactive"),this._canvas=C.create("canvas","mapboxgl-canvas",Qe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ut=this._containerDimensions();this._resizeCanvas(ut[0],ut[1]);var St=this._controlContainer=C.create("div","mapboxgl-control-container",de),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Kt){Ut[Kt]=C.create("div","mapboxgl-ctrl-"+Kt,St)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Z.prototype._resizeCanvas=function(de,Ie){var Qe=i.browser.devicePixelRatio||1;this._canvas.width=Qe*de,this._canvas.height=Qe*Ie,this._canvas.style.width=de+"px",this._canvas.style.height=Ie+"px"},Z.prototype._setupPainter=function(){var de=i.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Ie=this._canvas.getContext("webgl",de)||this._canvas.getContext("experimental-webgl",de);if(!Ie){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Lr(Ie,this.transform),i.webpSupported.testSupport(Ie)},Z.prototype._contextLost=function(de){de.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:de}))},Z.prototype._contextRestored=function(de){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:de}))},Z.prototype._onMapScroll=function(de){if(de.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(de){return this.style?(this._styleDirty=this._styleDirty||de,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(de){return this._update(),this._renderTaskQueue.add(de)},Z.prototype._cancelRenderFrame=function(de){this._renderTaskQueue.remove(de)},Z.prototype._render=function(de){var Ie=this,Qe,ut=0,St=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Qe=St.createQueryEXT(),St.beginQueryEXT(St.TIME_ELAPSED_EXT,Qe),ut=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(de),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Kt=this.transform.zoom,ar=i.browser.now();this.style.zoomHistory.update(Kt,ar);var nr=new i.EvaluationParameters(Kt,{now:ar,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Rr=nr.crossFadingFactor();(Rr!==1||Rr!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=Rr),this.style.update(nr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Wr=i.browser.now()-ut;St.endQueryEXT(St.TIME_ELAPSED_EXT,Qe),setTimeout(function(){var jr=St.getQueryObjectEXT(Qe,St.QUERY_RESULT_EXT)/1e6;St.deleteQueryEXT(Qe),Ie.fire(new i.Event("gpu-timing-frame",{cpuTime:Wr,gpuTime:jr}))},50)}if(this.listens("gpu-timing-layer")){var Hr=this.painter.collectGpuTimers();setTimeout(function(){var jr=Ie.painter.queryGpuTimers(Hr);Ie.fire(new i.Event("gpu-timing-layer",{layerTimes:jr}))},50)}var Or=this._sourcesDirty||this._styleDirty||this._placementDirty;return Or||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),this._loaded&&!this._fullyLoaded&&!Or&&(this._fullyLoaded=!0),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var de=0,Ie=this._controls;de<Ie.length;de+=1){var Qe=Ie[de];Qe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window!="undefined"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var ut=this.painter.context.gl.getExtension("WEBGL_lose_context");ut&&ut.loseContext&&ut.loseContext(),dh(this._canvasContainer),dh(this._controlContainer),dh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},Z.prototype.triggerRepaint=function(){var de=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(Ie){de._frame=null,de._render(Ie)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(de){this._trackResize&&this.resize({originalEvent:de})._update()},ve.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ve.showTileBoundaries.set=function(q){this._showTileBoundaries!==q&&(this._showTileBoundaries=q,this._update())},ve.showPadding.get=function(){return!!this._showPadding},ve.showPadding.set=function(q){this._showPadding!==q&&(this._showPadding=q,this._update())},ve.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ve.showCollisionBoxes.set=function(q){this._showCollisionBoxes!==q&&(this._showCollisionBoxes=q,q?this.style._generateCollisionBoxes():this._update())},ve.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ve.showOverdrawInspector.set=function(q){this._showOverdrawInspector!==q&&(this._showOverdrawInspector=q,this._update())},ve.repaint.get=function(){return!!this._repaint},ve.repaint.set=function(q){this._repaint!==q&&(this._repaint=q,this.triggerRepaint())},ve.vertices.get=function(){return!!this._vertices},ve.vertices.set=function(q){this._vertices=q,this._update()},Z.prototype._setCacheLimits=function(de,Ie){i.setCacheLimits(de,Ie)},ve.version.get=function(){return i.version},Object.defineProperties(Z.prototype,ve),Z}(so);function dh(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}var Nh={showCompass:!0,showZoom:!0,visualizePitch:!1},Eu=function(Z){var ve=this;this.options=i.extend({},Nh,Z),this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(q){return q.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(q){return ve._map.zoomIn({},{originalEvent:q})}),C.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(q){return ve._map.zoomOut({},{originalEvent:q})}),C.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(q){ve.options.visualizePitch?ve._map.resetNorthPitch({},{originalEvent:q}):ve._map.resetNorth({},{originalEvent:q})}),this._compassIcon=C.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Eu.prototype._updateZoomButtons=function(){var Z=this._map.getZoom(),ve=Z===this._map.getMaxZoom(),q=Z===this._map.getMinZoom();this._zoomInButton.disabled=ve,this._zoomOutButton.disabled=q,this._zoomInButton.setAttribute("aria-disabled",ve.toString()),this._zoomOutButton.setAttribute("aria-disabled",q.toString())},Eu.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},Eu.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new vs(this._map,this._compass,this.options.visualizePitch)),this._container},Eu.prototype.onRemove=function(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Eu.prototype._createButton=function(Z,ve){var q=C.create("button",Z,this._container);return q.type="button",q.addEventListener("click",ve),q},Eu.prototype._setButtonTitle=function(Z,ve){var q=this._map._getUIString("NavigationControl."+ve);Z.title=q,Z.setAttribute("aria-label",q)};var vs=function(Z,ve,q){q===void 0&&(q=!1),this._clickTolerance=10,this.element=ve,this.mouseRotate=new Kr({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,q&&(this.mousePitch=new an({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),C.addEventListener(ve,"mousedown",this.mousedown),C.addEventListener(ve,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(ve,"touchmove",this.touchmove),C.addEventListener(ve,"touchend",this.touchend),C.addEventListener(ve,"touchcancel",this.reset)};vs.prototype.down=function(Z,ve){this.mouseRotate.mousedown(Z,ve),this.mousePitch&&this.mousePitch.mousedown(Z,ve),C.disableDrag()},vs.prototype.move=function(Z,ve){var q=this.map,de=this.mouseRotate.mousemoveWindow(Z,ve);if(de&&de.bearingDelta&&q.setBearing(q.getBearing()+de.bearingDelta),this.mousePitch){var Ie=this.mousePitch.mousemoveWindow(Z,ve);Ie&&Ie.pitchDelta&&q.setPitch(q.getPitch()+Ie.pitchDelta)}},vs.prototype.off=function(){var Z=this.element;C.removeEventListener(Z,"mousedown",this.mousedown),C.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(Z,"touchmove",this.touchmove),C.removeEventListener(Z,"touchend",this.touchend),C.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},vs.prototype.offTemp=function(){C.enableDrag(),C.removeEventListener(i.window,"mousemove",this.mousemove),C.removeEventListener(i.window,"mouseup",this.mouseup)},vs.prototype.mousedown=function(Z){this.down(i.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),C.mousePos(this.element,Z)),C.addEventListener(i.window,"mousemove",this.mousemove),C.addEventListener(i.window,"mouseup",this.mouseup)},vs.prototype.mousemove=function(Z){this.move(Z,C.mousePos(this.element,Z))},vs.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},vs.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},vs.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=C.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},vs.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},vs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Cu(ce,Z,ve){if(ce=new i.LngLat(ce.lng,ce.lat),Z){var q=new i.LngLat(ce.lng-360,ce.lat),de=new i.LngLat(ce.lng+360,ce.lat),Ie=ve.locationPoint(ce).distSqr(Z);ve.locationPoint(q).distSqr(Z)<Ie?ce=q:ve.locationPoint(de).distSqr(Z)<Ie&&(ce=de)}for(;Math.abs(ce.lng-ve.center.lng)>180;){var Qe=ve.locationPoint(ce);if(Qe.x>=0&&Qe.y>=0&&Qe.x<=ve.width&&Qe.y<=ve.height)break;ce.lng>ve.center.lng?ce.lng-=360:ce.lng+=360}return ce}var ph={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Uh(ce,Z,ve){var q=ce.classList;for(var de in ph)q.remove("mapboxgl-"+ve+"-anchor-"+de);q.add("mapboxgl-"+ve+"-anchor-"+Z)}var gc=function(ce){function Z(ve,q){if(ce.call(this),(ve instanceof i.window.HTMLElement||q)&&(ve=i.extend({element:ve},q)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ve&&ve.anchor||"center",this._color=ve&&ve.color||"#3FB1CE",this._scale=ve&&ve.scale||1,this._draggable=ve&&ve.draggable||!1,this._clickTolerance=ve&&ve.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ve&&ve.rotation||0,this._rotationAlignment=ve&&ve.rotationAlignment||"auto",this._pitchAlignment=ve&&ve.pitchAlignment&&ve.pitchAlignment!=="auto"?ve.pitchAlignment:this._rotationAlignment,!ve||!ve.element){this._defaultMarker=!0,this._element=C.create("div"),this._element.setAttribute("aria-label","Map marker");var de=C.createNS("http://www.w3.org/2000/svg","svg"),Ie=41,Qe=27;de.setAttributeNS(null,"display","block"),de.setAttributeNS(null,"height",Ie+"px"),de.setAttributeNS(null,"width",Qe+"px"),de.setAttributeNS(null,"viewBox","0 0 "+Qe+" "+Ie);var ut=C.createNS("http://www.w3.org/2000/svg","g");ut.setAttributeNS(null,"stroke","none"),ut.setAttributeNS(null,"stroke-width","1"),ut.setAttributeNS(null,"fill","none"),ut.setAttributeNS(null,"fill-rule","evenodd");var St=C.createNS("http://www.w3.org/2000/svg","g");St.setAttributeNS(null,"fill-rule","nonzero");var Ut=C.createNS("http://www.w3.org/2000/svg","g");Ut.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ut.setAttributeNS(null,"fill","#000000");for(var Kt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ar=0,nr=Kt;ar<nr.length;ar+=1){var Rr=nr[ar],Wr=C.createNS("http://www.w3.org/2000/svg","ellipse");Wr.setAttributeNS(null,"opacity","0.04"),Wr.setAttributeNS(null,"cx","10.5"),Wr.setAttributeNS(null,"cy","5.80029008"),Wr.setAttributeNS(null,"rx",Rr.rx),Wr.setAttributeNS(null,"ry",Rr.ry),Ut.appendChild(Wr)}var Hr=C.createNS("http://www.w3.org/2000/svg","g");Hr.setAttributeNS(null,"fill",this._color);var Or=C.createNS("http://www.w3.org/2000/svg","path");Or.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Hr.appendChild(Or);var jr=C.createNS("http://www.w3.org/2000/svg","g");jr.setAttributeNS(null,"opacity","0.25"),jr.setAttributeNS(null,"fill","#000000");var cn=C.createNS("http://www.w3.org/2000/svg","path");cn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),jr.appendChild(cn);var Rn=C.createNS("http://www.w3.org/2000/svg","g");Rn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Rn.setAttributeNS(null,"fill","#FFFFFF");var _n=C.createNS("http://www.w3.org/2000/svg","g");_n.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Gn=C.createNS("http://www.w3.org/2000/svg","circle");Gn.setAttributeNS(null,"fill","#000000"),Gn.setAttributeNS(null,"opacity","0.25"),Gn.setAttributeNS(null,"cx","5.5"),Gn.setAttributeNS(null,"cy","5.5"),Gn.setAttributeNS(null,"r","5.4999962");var Yn=C.createNS("http://www.w3.org/2000/svg","circle");Yn.setAttributeNS(null,"fill","#FFFFFF"),Yn.setAttributeNS(null,"cx","5.5"),Yn.setAttributeNS(null,"cy","5.5"),Yn.setAttributeNS(null,"r","5.4999962"),_n.appendChild(Gn),_n.appendChild(Yn),St.appendChild(Ut),St.appendChild(Hr),St.appendChild(jr),St.appendChild(Rn),St.appendChild(_n),de.appendChild(St),de.setAttributeNS(null,"height",Ie*this._scale+"px"),de.setAttributeNS(null,"width",Qe*this._scale+"px"),this._element.appendChild(de),this._offset=i.Point.convert(ve&&ve.offset||[0,-14])}else this._element=ve.element,this._offset=i.Point.convert(ve&&ve.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Vn){Vn.preventDefault()}),this._element.addEventListener("mousedown",function(Vn){Vn.preventDefault()}),Uh(this._element,this._anchor,"marker"),this._popup=null}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(q){return this.remove(),this._map=q,q.getCanvasContainer().appendChild(this._element),q.on("move",this._update),q.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(q){return this._lngLat=i.LngLat.convert(q),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(q){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),q){if(!("offset"in q.options)){var de=38.1,Ie=13.5,Qe=Math.sqrt(Math.pow(Ie,2)/2);q.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-de],"bottom-left":[Qe,(de-Ie+Qe)*-1],"bottom-right":[-Qe,(de-Ie+Qe)*-1],left:[Ie,(de-Ie)*-1],right:[-Ie,(de-Ie)*-1]}:this._offset}this._popup=q,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(q){var de=q.code,Ie=q.charCode||q.keyCode;(de==="Space"||de==="Enter"||Ie===32||Ie===13)&&this.togglePopup()},Z.prototype._onMapClick=function(q){var de=q.originalEvent.target,Ie=this._element;this._popup&&(de===Ie||Ie.contains(de))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var q=this._popup;if(q)q.isOpen()?q.remove():q.addTo(this._map);else return this;return this},Z.prototype._update=function(q){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Cu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var de="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?de="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(de="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Ie="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Ie="rotateX(0deg)":this._pitchAlignment==="map"&&(Ie="rotateX("+this._map.getPitch()+"deg)"),(!q||q.type==="moveend")&&(this._pos=this._pos.round()),C.setTransform(this._element,ph[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Ie+" "+de)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(q){return this._offset=i.Point.convert(q),this._update(),this},Z.prototype._onMove=function(q){if(!this._isDragging){var de=this._clickTolerance||this._map._clickTolerance;this._isDragging=q.point.dist(this._pointerdownPos)>=de}this._isDragging&&(this._pos=q.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(q){this._element.contains(q.originalEvent.target)&&(q.preventDefault(),this._positionDelta=q.point.sub(this._pos).add(this._offset),this._pointerdownPos=q.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(q){return this._draggable=!!q,this._map&&(q?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(q){return this._rotation=q||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(q){return this._rotationAlignment=q||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(q){return this._pitchAlignment=q&&q!=="auto"?q:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(i.Evented),Wv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},nf;function gh(ce){nf!==void 0?ce(nf):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){nf=Z.state!=="denied",ce(nf)}):(nf=!!i.window.navigator.geolocation,ce(nf))}var yc=0,Ff=!1,r0=function(ce){function Z(ve){ce.call(this),this.options=i.extend({},Wv,ve),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(q){return this._map=q,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),gh(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,yc=0,Ff=!1},Z.prototype._isOutOfMapMaxBounds=function(q){var de=this._map.getMaxBounds(),Ie=q.coords;return de&&(Ie.longitude<de.getWest()||Ie.longitude>de.getEast()||Ie.latitude<de.getSouth()||Ie.latitude>de.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(q){if(this._map){if(this._isOutOfMapMaxBounds(q)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",q)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=q,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(q),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(q),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",q)),this._finish()}},Z.prototype._updateCamera=function(q){var de=new i.LngLat(q.coords.longitude,q.coords.latitude),Ie=q.coords.accuracy,Qe=this._map.getBearing(),ut=i.extend({bearing:Qe},this.options.fitBoundsOptions);this._map.fitBounds(de.toBounds(Ie),ut,{geolocateSource:!0})},Z.prototype._updateMarker=function(q){if(q){var de=new i.LngLat(q.coords.longitude,q.coords.latitude);this._accuracyCircleMarker.setLngLat(de).addTo(this._map),this._userLocationDotMarker.setLngLat(de).addTo(this._map),this._accuracy=q.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var q=this._map._container.clientHeight/2,de=this._map.unproject([0,q]),Ie=this._map.unproject([1,q]),Qe=de.distanceTo(Ie),ut=Math.ceil(2*this._accuracy/Qe);this._circleElement.style.width=ut+"px",this._circleElement.style.height=ut+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(q){if(this._map){if(this.options.trackUserLocation)if(q.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var de=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=de,this._geolocateButton.setAttribute("aria-label",de),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(q.code===3&&Ff)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",q)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(q){var de=this;if(this._container.addEventListener("contextmenu",function(ut){return ut.preventDefault()}),this._geolocateButton=C.create("button","mapboxgl-ctrl-geolocate",this._container),C.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",q===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Ie=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Ie,this._geolocateButton.setAttribute("aria-label",Ie)}else{var Qe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Qe,this._geolocateButton.setAttribute("aria-label",Qe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new gc(this._dotElement),this._circleElement=C.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new gc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ut){var St=ut.originalEvent&&ut.originalEvent.type==="resize";!ut.geolocateSource&&de._watchState==="ACTIVE_LOCK"&&!St&&(de._watchState="BACKGROUND",de._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),de._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),de.fire(new i.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":yc--,Ff=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),yc++;var q;yc>1?(q={maximumAge:6e5,timeout:0},Ff=!0):(q=this.options.positionOptions,Ff=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,q)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(i.Evented),Yv={maxWidth:100,unit:"metric"},_f=function(Z){this.options=i.extend({},Yv,Z),i.bindAll(["_onMove","setUnit"],this)};_f.prototype.getDefaultPosition=function(){return"bottom-left"},_f.prototype._onMove=function(){Xv(this._map,this._container,this.options)},_f.prototype.onAdd=function(Z){return this._map=Z,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},_f.prototype.onRemove=function(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},_f.prototype.setUnit=function(Z){this.options.unit=Z,Xv(this._map,this._container,this.options)};function Xv(ce,Z,ve){var q=ve&&ve.maxWidth||100,de=ce._container.clientHeight/2,Ie=ce.unproject([0,de]),Qe=ce.unproject([q,de]),ut=Ie.distanceTo(Qe);if(ve&&ve.unit==="imperial"){var St=3.2808*ut;if(St>5280){var Ut=St/5280;mc(Z,q,Ut,ce._getUIString("ScaleControl.Miles"))}else mc(Z,q,St,ce._getUIString("ScaleControl.Feet"))}else if(ve&&ve.unit==="nautical"){var Kt=ut/1852;mc(Z,q,Kt,ce._getUIString("ScaleControl.NauticalMiles"))}else ut>=1e3?mc(Z,q,ut/1e3,ce._getUIString("ScaleControl.Kilometers")):mc(Z,q,ut,ce._getUIString("ScaleControl.Meters"))}function mc(ce,Z,ve,q){var de=a0(ve),Ie=de/ve;ce.style.width=Z*Ie+"px",ce.innerHTML=de+"&nbsp;"+q}function n0(ce){var Z=Math.pow(10,Math.ceil(-Math.log(ce)/Math.LN10));return Math.round(ce*Z)/Z}function a0(ce){var Z=Math.pow(10,(""+Math.floor(ce)).length-1),ve=ce/Z;return ve=ve>=10?10:ve>=5?5:ve>=3?3:ve>=2?2:ve>=1?1:n0(ve),Z*ve}var yl=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof i.window.HTMLElement?this._container=Z.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};yl.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},yl.prototype.onRemove=function(){C.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},yl.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},yl.prototype._setupUI=function(){var Z=this._fullscreenButton=C.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);C.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},yl.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},yl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},yl.prototype._isFullscreen=function(){return this._fullscreen},yl.prototype._changeIcon=function(){var Z=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},yl.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var i0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},o0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),ng=function(ce){function Z(ve){ce.call(this),this.options=i.extend(Object.create(i0),ve),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(q){return this._map&&this.remove(),this._map=q,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(q){return this._lngLat=i.LngLat.convert(q),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(q){return this.setDOMContent(i.window.document.createTextNode(q))},Z.prototype.setHTML=function(q){var de=i.window.document.createDocumentFragment(),Ie=i.window.document.createElement("body"),Qe;for(Ie.innerHTML=q;Qe=Ie.firstChild,!!Qe;)de.appendChild(Qe);return this.setDOMContent(de)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(q){return this.options.maxWidth=q,this._update(),this},Z.prototype.setDOMContent=function(q){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=C.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(q),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Z.prototype.addClassName=function(q){this._container&&this._container.classList.add(q)},Z.prototype.removeClassName=function(q){this._container&&this._container.classList.remove(q)},Z.prototype.setOffset=function(q){return this.options.offset=q,this._update(),this},Z.prototype.toggleClassName=function(q){if(this._container)return this._container.classList.toggle(q)},Z.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=C.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(q){this._update(q.point)},Z.prototype._onMouseMove=function(q){this._update(q.point)},Z.prototype._onDrag=function(q){this._update(q.point)},Z.prototype._update=function(q){var de=this,Ie=this._lngLat||this._trackPointer;if(!(!this._map||!Ie||!this._content)&&(this._container||(this._container=C.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=C.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Rr){return de._container.classList.add(Rr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Cu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!q))){var Qe=this._pos=this._trackPointer&&q?q:this._map.project(this._lngLat),ut=this.options.anchor,St=s0(this.options.offset);if(!ut){var Ut=this._container.offsetWidth,Kt=this._container.offsetHeight,ar;Qe.y+St.bottom.y<Kt?ar=["top"]:Qe.y>this._map.transform.height-Kt?ar=["bottom"]:ar=[],Qe.x<Ut/2?ar.push("left"):Qe.x>this._map.transform.width-Ut/2&&ar.push("right"),ar.length===0?ut="bottom":ut=ar.join("-")}var nr=Qe.add(St[ut]).round();C.setTransform(this._container,ph[ut]+" translate("+nr.x+"px,"+nr.y+"px)"),Uh(this._container,ut,"popup")}},Z.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var q=this._container.querySelector(o0);q&&q.focus()}},Z.prototype._onClose=function(){this.remove()},Z}(i.Evented);function s0(ce){if(ce)if(typeof ce=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(ce,2)));return{center:new i.Point(0,0),top:new i.Point(0,ce),"top-left":new i.Point(Z,Z),"top-right":new i.Point(-Z,Z),bottom:new i.Point(0,-ce),"bottom-left":new i.Point(Z,-Z),"bottom-right":new i.Point(-Z,-Z),left:new i.Point(ce,0),right:new i.Point(-ce,0)}}else if(ce instanceof i.Point||Array.isArray(ce)){var ve=i.Point.convert(ce);return{center:ve,top:ve,"top-left":ve,"top-right":ve,bottom:ve,"bottom-left":ve,"bottom-right":ve,left:ve,right:ve}}else return{center:i.Point.convert(ce.center||[0,0]),top:i.Point.convert(ce.top||[0,0]),"top-left":i.Point.convert(ce["top-left"]||[0,0]),"top-right":i.Point.convert(ce["top-right"]||[0,0]),bottom:i.Point.convert(ce.bottom||[0,0]),"bottom-left":i.Point.convert(ce["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(ce["bottom-right"]||[0,0]),left:i.Point.convert(ce.left||[0,0]),right:i.Point.convert(ce.right||[0,0])};else return s0(new i.Point(0,0))}var qi={version:i.version,supported:L,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:Gv,NavigationControl:Eu,GeolocateControl:r0,AttributionControl:Ga,ScaleControl:_f,FullscreenControl:yl,Popup:ng,Marker:gc,Style:Lo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:kt,clearPrewarmedResources:Zt,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(ce){i.config.ACCESS_TOKEN=ce},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(ce){i.config.API_URL=ce},get workerCount(){return cr.workerCount},set workerCount(ce){cr.workerCount=ce},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ce){i.config.MAX_PARALLEL_IMAGE_REQUESTS=ce},clearStorage:function(Z){i.clearTileCache(Z)},workerUrl:""};return qi}),x})},3108:function(V,U,e){"use strict";V.exports=e(26099)},26099:function(V,U,e){"use strict";var x=e(64928),P=e(32420),i=e(51160),L=e(76752),C=e(55616),c=e(31264),y=e(47520),r=e(18400),t=e(72512),s=e(76244),n=1073741824;V.exports=function(f,g){g||(g={}),f=y(f,"float64"),g=C(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=c(g.maxDepth,255),w=c(g.bounds,L(f,2));w[0]===w[2]&&w[2]++,w[1]===w[3]&&w[3]++;var d=u(f,w),o=f.length>>>1,v;g.dtype||(g.dtype="array"),typeof g.dtype=="string"?v=new(t(g.dtype))(o):g.dtype&&(v=g.dtype,Array.isArray(v)&&(v.length=o));for(var A=0;A<o;++A)v[A]=A;var b=[],M=[],m=[],S=[];B(0,0,1,v,0,1);for(var T=0,a=0;a<b.length;a++){var E=b[a];if(v.set)v.set(E,T);else for(var p=0,k=E.length;p<k;p++)v[p+T]=E[p];var R=T+b[a].length;S[a]=[T,R],T=R}return v.range=F,v;function B(z,N,Y,J,ae,se){if(!J.length)return null;var ue=b[ae]||(b[ae]=[]),K=m[ae]||(m[ae]=[]),j=M[ae]||(M[ae]=[]),ie=ue.length;if(ae++,ae>h||se>n){for(var W=0;W<J.length;W++)ue.push(J[W]),K.push(se),j.push(null,null,null,null);return ie}if(ue.push(J[0]),K.push(se),J.length<=1)return j.push(null,null,null,null),ie;for(var Q=Y*.5,ee=z+Q,$=N+Q,X=[],oe=[],te=[],fe=[],pe=1,Ae=J.length;pe<Ae;pe++){var be=J[pe],Pe=d[be*2],me=d[be*2+1];Pe<ee?me<$?X.push(be):oe.push(be):me<$?te.push(be):fe.push(be)}return se<<=2,j.push(B(z,N,Q,X,ae,se),B(z,$,Q,oe,ae,se+1),B(ee,N,Q,te,ae,se+2),B(ee,$,Q,fe,ae,se+3)),ie}function F(){for(var z=[],N=arguments.length;N--;)z[N]=arguments[N];var Y;if(r(z[z.length-1])){var J=z.pop();!z.length&&(J.x!=null||J.l!=null||J.left!=null)&&(z=[J],Y={}),Y=C(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};z.length||(z=w);var ae=i.apply(void 0,z),se=[Math.min(ae.x,ae.x+ae.width),Math.min(ae.y,ae.y+ae.height),Math.max(ae.x,ae.x+ae.width),Math.max(ae.y,ae.y+ae.height)],ue=se[0],K=se[1],j=se[2],ie=se[3],W=u([ue,K,j,ie],w),Q=W[0],ee=W[1],$=W[2],X=W[3],oe=c(Y.level,b.length);if(Y.d!=null){var te;typeof Y.d=="number"?te=[Y.d,Y.d]:Y.d.length&&(te=Y.d),oe=Math.min(Math.max(Math.ceil(-s(Math.abs(te[0])/(w[2]-w[0]))),Math.ceil(-s(Math.abs(te[1])/(w[3]-w[1])))),oe)}if(oe=Math.min(oe,b.length),Y.lod)return _(Q,ee,$,X,oe);var fe=[];pe(0,0,1,0,0,1);function pe(be,Pe,me,Ee,xe,De){if(!(xe===null||De===null)){var Ve=be+me,Ze=Pe+me;if(!(Q>Ve||ee>Ze||$<be||X<Pe)&&!(Ee>=oe)&&xe!==De){var ke=b[Ee];De===void 0&&(De=ke.length);for(var Ye=xe;Ye<De;Ye++){var lt=ke[Ye],yt=f[lt*2],He=f[lt*2+1];yt>=ue&&yt<=j&&He>=K&&He<=ie&&fe.push(lt)}var Fe=M[Ee],nt=Fe[xe*4+0],ot=Fe[xe*4+1],ct=Fe[xe*4+2],ht=Fe[xe*4+3],mt=Ae(Fe,xe+1),tt=me*.5,Re=Ee+1;pe(be,Pe,tt,Re,nt,ot||ct||ht||mt),pe(be,Pe+tt,tt,Re,ot,ct||ht||mt),pe(be+tt,Pe,tt,Re,ct,ht||mt),pe(be+tt,Pe+tt,tt,Re,ht,mt)}}}function Ae(be,Pe){for(var me=null,Ee=0;me===null;)if(me=be[Pe*4+Ee],Ee++,Ee>be.length)return null;return me}return fe}function _(z,N,Y,J,ae){for(var se=[],ue=0;ue<ae;ue++){var K=m[ue],j=S[ue][0],ie=O(z,N,ue),W=O(Y,J,ue),Q=x.ge(K,ie),ee=x.gt(K,W,Q,K.length-1);se[ue]=[Q+j,ee+j]}return se}function O(z,N,Y){for(var J=1,ae=.5,se=.5,ue=.5,K=0;K<Y;K++)J<<=2,J+=z<ae?N<se?0:1:N<se?2:3,ue*=.5,ae+=z<ae?-ue:ue,se+=N<se?-ue:ue;return J}};function u(l,f){for(var g=f[0],h=f[1],w=f[2],d=f[3],o=1/(w-g),v=1/(d-h),A=new Array(l.length),b=0,M=l.length/2;b<M;b++)A[2*b]=P((l[2*b]-g)*o,0,1),A[2*b+1]=P((l[2*b+1]-h)*v,0,1);return A}},40440:function(V,U,e){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=e(3256),P=6378137;function i(r){return x.geomReduce(r,function(t,s){return t+L(s)},0)}U.default=i;function L(r){var t=0,s;switch(r.type){case"Polygon":return C(r.coordinates);case"MultiPolygon":for(s=0;s<r.coordinates.length;s++)t+=C(r.coordinates[s]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function C(r){var t=0;if(r&&r.length>0){t+=Math.abs(c(r[0]));for(var s=1;s<r.length;s++)t-=Math.abs(c(r[s]))}return t}function c(r){var t,s,n,u,l,f,g,h=0,w=r.length;if(w>2){for(g=0;g<w;g++)g===w-2?(u=w-2,l=w-1,f=0):g===w-1?(u=w-1,l=0,f=1):(u=g,l=g+1,f=g+2),t=r[u],s=r[l],n=r[f],h+=(y(n[0])-y(t[0]))*Math.sin(y(s[1]));h=h*P*P/2}return h}function y(r){return r*Math.PI/180}},46284:function(V,U){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,a,E){E===void 0&&(E={});var p={type:"Feature"};return(E.id===0||E.id)&&(p.id=E.id),E.bbox&&(p.bbox=E.bbox),p.properties=a||{},p.geometry=T,p}U.feature=e;function x(T,a,E){switch(E===void 0&&(E={}),T){case"Point":return P(a).geometry;case"LineString":return c(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return s(a).geometry;case"MultiLineString":return t(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(T+" is invalid")}}U.geometry=x;function P(T,a,E){if(E===void 0&&(E={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(T[0])||!b(T[1]))throw new Error("coordinates must contain numbers");var p={type:"Point",coordinates:T};return e(p,a,E)}U.point=P;function i(T,a,E){return E===void 0&&(E={}),r(T.map(function(p){return P(p,a)}),E)}U.points=i;function L(T,a,E){E===void 0&&(E={});for(var p=0,k=T;p<k.length;p++){var R=k[p];if(R.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<R[R.length-1].length;B++)if(R[R.length-1][B]!==R[0][B])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:T};return e(F,a,E)}U.polygon=L;function C(T,a,E){return E===void 0&&(E={}),r(T.map(function(p){return L(p,a)}),E)}U.polygons=C;function c(T,a,E){if(E===void 0&&(E={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var p={type:"LineString",coordinates:T};return e(p,a,E)}U.lineString=c;function y(T,a,E){return E===void 0&&(E={}),r(T.map(function(p){return c(p,a)}),E)}U.lineStrings=y;function r(T,a){a===void 0&&(a={});var E={type:"FeatureCollection"};return a.id&&(E.id=a.id),a.bbox&&(E.bbox=a.bbox),E.features=T,E}U.featureCollection=r;function t(T,a,E){E===void 0&&(E={});var p={type:"MultiLineString",coordinates:T};return e(p,a,E)}U.multiLineString=t;function s(T,a,E){E===void 0&&(E={});var p={type:"MultiPoint",coordinates:T};return e(p,a,E)}U.multiPoint=s;function n(T,a,E){E===void 0&&(E={});var p={type:"MultiPolygon",coordinates:T};return e(p,a,E)}U.multiPolygon=n;function u(T,a,E){E===void 0&&(E={});var p={type:"GeometryCollection",geometries:T};return e(p,a,E)}U.geometryCollection=u;function l(T,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,a||0);return Math.round(T*E)/E}U.round=l;function f(T,a){a===void 0&&(a="kilometers");var E=U.factors[a];if(!E)throw new Error(a+" units is invalid");return T*E}U.radiansToLength=f;function g(T,a){a===void 0&&(a="kilometers");var E=U.factors[a];if(!E)throw new Error(a+" units is invalid");return T/E}U.lengthToRadians=g;function h(T,a){return d(g(T,a))}U.lengthToDegrees=h;function w(T){var a=T%360;return a<0&&(a+=360),a}U.bearingToAzimuth=w;function d(T){var a=T%(2*Math.PI);return a*180/Math.PI}U.radiansToDegrees=d;function o(T){var a=T%360;return a*Math.PI/180}U.degreesToRadians=o;function v(T,a,E){if(a===void 0&&(a="kilometers"),E===void 0&&(E="kilometers"),!(T>=0))throw new Error("length must be a positive number");return f(g(T,a),E)}U.convertLength=v;function A(T,a,E){if(a===void 0&&(a="meters"),E===void 0&&(E="kilometers"),!(T>=0))throw new Error("area must be a positive number");var p=U.areaFactors[a];if(!p)throw new Error("invalid original units");var k=U.areaFactors[E];if(!k)throw new Error("invalid final units");return T/p*k}U.convertArea=A;function b(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}U.isNumber=b;function M(T){return!!T&&T.constructor===Object}U.isObject=M;function m(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(a){if(!b(a))throw new Error("bbox must only contain numbers")})}U.validateBBox=m;function S(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}U.validateId=S},3256:function(V,U,e){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=e(46284);function P(o,v,A){if(o!==null)for(var b,M,m,S,T,a,E,p=0,k=0,R,B=o.type,F=B==="FeatureCollection",_=B==="Feature",O=F?o.features.length:1,z=0;z<O;z++){E=F?o.features[z].geometry:_?o.geometry:o,R=E?E.type==="GeometryCollection":!1,T=R?E.geometries.length:1;for(var N=0;N<T;N++){var Y=0,J=0;if(S=R?E.geometries[N]:E,S!==null){a=S.coordinates;var ae=S.type;switch(p=A&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(v(a,k,z,Y,J)===!1)return!1;k++,Y++;break;case"LineString":case"MultiPoint":for(b=0;b<a.length;b++){if(v(a[b],k,z,Y,J)===!1)return!1;k++,ae==="MultiPoint"&&Y++}ae==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(b=0;b<a.length;b++){for(M=0;M<a[b].length-p;M++){if(v(a[b][M],k,z,Y,J)===!1)return!1;k++}ae==="MultiLineString"&&Y++,ae==="Polygon"&&J++}ae==="Polygon"&&Y++;break;case"MultiPolygon":for(b=0;b<a.length;b++){for(J=0,M=0;M<a[b].length;M++){for(m=0;m<a[b][M].length-p;m++){if(v(a[b][M][m],k,z,Y,J)===!1)return!1;k++}J++}Y++}break;case"GeometryCollection":for(b=0;b<S.geometries.length;b++)if(P(S.geometries[b],v,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,v,A,b){var M=A;return P(o,function(m,S,T,a,E){S===0&&A===void 0?M=m:M=v(M,m,S,T,a,E)},b),M}function L(o,v){var A;switch(o.type){case"FeatureCollection":for(A=0;A<o.features.length&&v(o.features[A].properties,A)!==!1;A++);break;case"Feature":v(o.properties,0);break}}function C(o,v,A){var b=A;return L(o,function(M,m){m===0&&A===void 0?b=M:b=v(b,M,m)}),b}function c(o,v){if(o.type==="Feature")v(o,0);else if(o.type==="FeatureCollection")for(var A=0;A<o.features.length&&v(o.features[A],A)!==!1;A++);}function y(o,v,A){var b=A;return c(o,function(M,m){m===0&&A===void 0?b=M:b=v(b,M,m)}),b}function r(o){var v=[];return P(o,function(A){v.push(A)}),v}function t(o,v){var A,b,M,m,S,T,a,E,p,k,R=0,B=o.type==="FeatureCollection",F=o.type==="Feature",_=B?o.features.length:1;for(A=0;A<_;A++){for(T=B?o.features[A].geometry:F?o.geometry:o,E=B?o.features[A].properties:F?o.properties:{},p=B?o.features[A].bbox:F?o.bbox:void 0,k=B?o.features[A].id:F?o.id:void 0,a=T?T.type==="GeometryCollection":!1,S=a?T.geometries.length:1,M=0;M<S;M++){if(m=a?T.geometries[M]:T,m===null){if(v(null,R,E,p,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(v(m,R,E,p,k)===!1)return!1;break}case"GeometryCollection":{for(b=0;b<m.geometries.length;b++)if(v(m.geometries[b],R,E,p,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}R++}}function s(o,v,A){var b=A;return t(o,function(M,m,S,T,a){m===0&&A===void 0?b=M:b=v(b,M,m,S,T,a)}),b}function n(o,v){t(o,function(A,b,M,m,S){var T=A===null?null:A.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return v(x.feature(A,M,{bbox:m,id:S}),b,0)===!1?!1:void 0}var a;switch(T){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var p=A.coordinates[E],k={type:a,coordinates:p};if(v(x.feature(k,M),b,E)===!1)return!1}})}function u(o,v,A){var b=A;return n(o,function(M,m,S){m===0&&S===0&&A===void 0?b=M:b=v(b,M,m,S)}),b}function l(o,v){n(o,function(A,b,M){var m=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var T,a=0,E=0,p=0;if(P(A,function(k,R,B,F,_){if(T===void 0||b>a||F>E||_>p){T=k,a=b,E=F,p=_,m=0;return}var O=x.lineString([T,k],A.properties);if(v(O,b,M,_,m)===!1)return!1;m++,T=k})===!1)return!1}}})}function f(o,v,A){var b=A,M=!1;return l(o,function(m,S,T,a,E){M===!1&&A===void 0?b=m:b=v(b,m,S,T,a,E),M=!0}),b}function g(o,v){if(!o)throw new Error("geojson is required");n(o,function(A,b,M){if(A.geometry!==null){var m=A.geometry.type,S=A.geometry.coordinates;switch(m){case"LineString":if(v(A,b,M,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(v(x.lineString(S[T],A.properties),b,M,T)===!1)return!1;break}}})}function h(o,v,A){var b=A;return g(o,function(M,m,S,T){m===0&&A===void 0?b=M:b=v(b,M,m,S,T)}),b}function w(o,v){if(v=v||{},!x.isObject(v))throw new Error("options is invalid");var A=v.featureIndex||0,b=v.multiFeatureIndex||0,M=v.geometryIndex||0,m=v.segmentIndex||0,S=v.properties,T;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,T=o.features[A].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var a=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=a.length+m-1),x.lineString([a[m],a[m+1]],S,v);case"Polygon":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m-1),x.lineString([a[M][m],a[M][m+1]],S,v);case"MultiLineString":return b<0&&(b=a.length+b),m<0&&(m=a[b].length+m-1),x.lineString([a[b][m],a[b][m+1]],S,v);case"MultiPolygon":return b<0&&(b=a.length+b),M<0&&(M=a[b].length+M),m<0&&(m=a[b][M].length-m-1),x.lineString([a[b][M][m],a[b][M][m+1]],S,v)}throw new Error("geojson is invalid")}function d(o,v){if(v=v||{},!x.isObject(v))throw new Error("options is invalid");var A=v.featureIndex||0,b=v.multiFeatureIndex||0,M=v.geometryIndex||0,m=v.coordIndex||0,S=v.properties,T;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,T=o.features[A].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var a=T.coordinates;switch(T.type){case"Point":return x.point(a,S,v);case"MultiPoint":return b<0&&(b=a.length+b),x.point(a[b],S,v);case"LineString":return m<0&&(m=a.length+m),x.point(a[m],S,v);case"Polygon":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m),x.point(a[M][m],S,v);case"MultiLineString":return b<0&&(b=a.length+b),m<0&&(m=a[b].length+m),x.point(a[b][m],S,v);case"MultiPolygon":return b<0&&(b=a.length+b),M<0&&(M=a[b].length+M),m<0&&(m=a[b][M].length-m),x.point(a[b][M][m],S,v)}throw new Error("geojson is invalid")}U.coordEach=P,U.coordReduce=i,U.propEach=L,U.propReduce=C,U.featureEach=c,U.featureReduce=y,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=n,U.flattenReduce=u,U.segmentEach=l,U.segmentReduce=f,U.lineEach=g,U.lineReduce=h,U.findSegment=w,U.findPoint=d},42428:function(V,U,e){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=e(84880);function P(i){var L=[1/0,1/0,-1/0,-1/0];return x.coordEach(i,function(C){L[0]>C[0]&&(L[0]=C[0]),L[1]>C[1]&&(L[1]=C[1]),L[2]<C[0]&&(L[2]=C[0]),L[3]<C[1]&&(L[3]=C[1])}),L}P.default=P,U.default=P},76796:function(V,U){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,a,E){E===void 0&&(E={});var p={type:"Feature"};return(E.id===0||E.id)&&(p.id=E.id),E.bbox&&(p.bbox=E.bbox),p.properties=a||{},p.geometry=T,p}U.feature=e;function x(T,a,E){switch(E===void 0&&(E={}),T){case"Point":return P(a).geometry;case"LineString":return c(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return s(a).geometry;case"MultiLineString":return t(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(T+" is invalid")}}U.geometry=x;function P(T,a,E){if(E===void 0&&(E={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(T[0])||!b(T[1]))throw new Error("coordinates must contain numbers");var p={type:"Point",coordinates:T};return e(p,a,E)}U.point=P;function i(T,a,E){return E===void 0&&(E={}),r(T.map(function(p){return P(p,a)}),E)}U.points=i;function L(T,a,E){E===void 0&&(E={});for(var p=0,k=T;p<k.length;p++){var R=k[p];if(R.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<R[R.length-1].length;B++)if(R[R.length-1][B]!==R[0][B])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:T};return e(F,a,E)}U.polygon=L;function C(T,a,E){return E===void 0&&(E={}),r(T.map(function(p){return L(p,a)}),E)}U.polygons=C;function c(T,a,E){if(E===void 0&&(E={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var p={type:"LineString",coordinates:T};return e(p,a,E)}U.lineString=c;function y(T,a,E){return E===void 0&&(E={}),r(T.map(function(p){return c(p,a)}),E)}U.lineStrings=y;function r(T,a){a===void 0&&(a={});var E={type:"FeatureCollection"};return a.id&&(E.id=a.id),a.bbox&&(E.bbox=a.bbox),E.features=T,E}U.featureCollection=r;function t(T,a,E){E===void 0&&(E={});var p={type:"MultiLineString",coordinates:T};return e(p,a,E)}U.multiLineString=t;function s(T,a,E){E===void 0&&(E={});var p={type:"MultiPoint",coordinates:T};return e(p,a,E)}U.multiPoint=s;function n(T,a,E){E===void 0&&(E={});var p={type:"MultiPolygon",coordinates:T};return e(p,a,E)}U.multiPolygon=n;function u(T,a,E){E===void 0&&(E={});var p={type:"GeometryCollection",geometries:T};return e(p,a,E)}U.geometryCollection=u;function l(T,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,a||0);return Math.round(T*E)/E}U.round=l;function f(T,a){a===void 0&&(a="kilometers");var E=U.factors[a];if(!E)throw new Error(a+" units is invalid");return T*E}U.radiansToLength=f;function g(T,a){a===void 0&&(a="kilometers");var E=U.factors[a];if(!E)throw new Error(a+" units is invalid");return T/E}U.lengthToRadians=g;function h(T,a){return d(g(T,a))}U.lengthToDegrees=h;function w(T){var a=T%360;return a<0&&(a+=360),a}U.bearingToAzimuth=w;function d(T){var a=T%(2*Math.PI);return a*180/Math.PI}U.radiansToDegrees=d;function o(T){var a=T%360;return a*Math.PI/180}U.degreesToRadians=o;function v(T,a,E){if(a===void 0&&(a="kilometers"),E===void 0&&(E="kilometers"),!(T>=0))throw new Error("length must be a positive number");return f(g(T,a),E)}U.convertLength=v;function A(T,a,E){if(a===void 0&&(a="meters"),E===void 0&&(E="kilometers"),!(T>=0))throw new Error("area must be a positive number");var p=U.areaFactors[a];if(!p)throw new Error("invalid original units");var k=U.areaFactors[E];if(!k)throw new Error("invalid final units");return T/p*k}U.convertArea=A;function b(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}U.isNumber=b;function M(T){return!!T&&T.constructor===Object}U.isObject=M;function m(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(a){if(!b(a))throw new Error("bbox must only contain numbers")})}U.validateBBox=m;function S(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}U.validateId=S},84880:function(V,U,e){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=e(76796);function P(o,v,A){if(o!==null)for(var b,M,m,S,T,a,E,p=0,k=0,R,B=o.type,F=B==="FeatureCollection",_=B==="Feature",O=F?o.features.length:1,z=0;z<O;z++){E=F?o.features[z].geometry:_?o.geometry:o,R=E?E.type==="GeometryCollection":!1,T=R?E.geometries.length:1;for(var N=0;N<T;N++){var Y=0,J=0;if(S=R?E.geometries[N]:E,S!==null){a=S.coordinates;var ae=S.type;switch(p=A&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(v(a,k,z,Y,J)===!1)return!1;k++,Y++;break;case"LineString":case"MultiPoint":for(b=0;b<a.length;b++){if(v(a[b],k,z,Y,J)===!1)return!1;k++,ae==="MultiPoint"&&Y++}ae==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(b=0;b<a.length;b++){for(M=0;M<a[b].length-p;M++){if(v(a[b][M],k,z,Y,J)===!1)return!1;k++}ae==="MultiLineString"&&Y++,ae==="Polygon"&&J++}ae==="Polygon"&&Y++;break;case"MultiPolygon":for(b=0;b<a.length;b++){for(J=0,M=0;M<a[b].length;M++){for(m=0;m<a[b][M].length-p;m++){if(v(a[b][M][m],k,z,Y,J)===!1)return!1;k++}J++}Y++}break;case"GeometryCollection":for(b=0;b<S.geometries.length;b++)if(P(S.geometries[b],v,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,v,A,b){var M=A;return P(o,function(m,S,T,a,E){S===0&&A===void 0?M=m:M=v(M,m,S,T,a,E)},b),M}function L(o,v){var A;switch(o.type){case"FeatureCollection":for(A=0;A<o.features.length&&v(o.features[A].properties,A)!==!1;A++);break;case"Feature":v(o.properties,0);break}}function C(o,v,A){var b=A;return L(o,function(M,m){m===0&&A===void 0?b=M:b=v(b,M,m)}),b}function c(o,v){if(o.type==="Feature")v(o,0);else if(o.type==="FeatureCollection")for(var A=0;A<o.features.length&&v(o.features[A],A)!==!1;A++);}function y(o,v,A){var b=A;return c(o,function(M,m){m===0&&A===void 0?b=M:b=v(b,M,m)}),b}function r(o){var v=[];return P(o,function(A){v.push(A)}),v}function t(o,v){var A,b,M,m,S,T,a,E,p,k,R=0,B=o.type==="FeatureCollection",F=o.type==="Feature",_=B?o.features.length:1;for(A=0;A<_;A++){for(T=B?o.features[A].geometry:F?o.geometry:o,E=B?o.features[A].properties:F?o.properties:{},p=B?o.features[A].bbox:F?o.bbox:void 0,k=B?o.features[A].id:F?o.id:void 0,a=T?T.type==="GeometryCollection":!1,S=a?T.geometries.length:1,M=0;M<S;M++){if(m=a?T.geometries[M]:T,m===null){if(v(null,R,E,p,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(v(m,R,E,p,k)===!1)return!1;break}case"GeometryCollection":{for(b=0;b<m.geometries.length;b++)if(v(m.geometries[b],R,E,p,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}R++}}function s(o,v,A){var b=A;return t(o,function(M,m,S,T,a){m===0&&A===void 0?b=M:b=v(b,M,m,S,T,a)}),b}function n(o,v){t(o,function(A,b,M,m,S){var T=A===null?null:A.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return v(x.feature(A,M,{bbox:m,id:S}),b,0)===!1?!1:void 0}var a;switch(T){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var p=A.coordinates[E],k={type:a,coordinates:p};if(v(x.feature(k,M),b,E)===!1)return!1}})}function u(o,v,A){var b=A;return n(o,function(M,m,S){m===0&&S===0&&A===void 0?b=M:b=v(b,M,m,S)}),b}function l(o,v){n(o,function(A,b,M){var m=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var T,a=0,E=0,p=0;if(P(A,function(k,R,B,F,_){if(T===void 0||b>a||F>E||_>p){T=k,a=b,E=F,p=_,m=0;return}var O=x.lineString([T,k],A.properties);if(v(O,b,M,_,m)===!1)return!1;m++,T=k})===!1)return!1}}})}function f(o,v,A){var b=A,M=!1;return l(o,function(m,S,T,a,E){M===!1&&A===void 0?b=m:b=v(b,m,S,T,a,E),M=!0}),b}function g(o,v){if(!o)throw new Error("geojson is required");n(o,function(A,b,M){if(A.geometry!==null){var m=A.geometry.type,S=A.geometry.coordinates;switch(m){case"LineString":if(v(A,b,M,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(v(x.lineString(S[T],A.properties),b,M,T)===!1)return!1;break}}})}function h(o,v,A){var b=A;return g(o,function(M,m,S,T){m===0&&A===void 0?b=M:b=v(b,M,m,S,T)}),b}function w(o,v){if(v=v||{},!x.isObject(v))throw new Error("options is invalid");var A=v.featureIndex||0,b=v.multiFeatureIndex||0,M=v.geometryIndex||0,m=v.segmentIndex||0,S=v.properties,T;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,T=o.features[A].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var a=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=a.length+m-1),x.lineString([a[m],a[m+1]],S,v);case"Polygon":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m-1),x.lineString([a[M][m],a[M][m+1]],S,v);case"MultiLineString":return b<0&&(b=a.length+b),m<0&&(m=a[b].length+m-1),x.lineString([a[b][m],a[b][m+1]],S,v);case"MultiPolygon":return b<0&&(b=a.length+b),M<0&&(M=a[b].length+M),m<0&&(m=a[b][M].length-m-1),x.lineString([a[b][M][m],a[b][M][m+1]],S,v)}throw new Error("geojson is invalid")}function d(o,v){if(v=v||{},!x.isObject(v))throw new Error("options is invalid");var A=v.featureIndex||0,b=v.multiFeatureIndex||0,M=v.geometryIndex||0,m=v.coordIndex||0,S=v.properties,T;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,T=o.features[A].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var a=T.coordinates;switch(T.type){case"Point":return x.point(a,S,v);case"MultiPoint":return b<0&&(b=a.length+b),x.point(a[b],S,v);case"LineString":return m<0&&(m=a.length+m),x.point(a[m],S,v);case"Polygon":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m),x.point(a[M][m],S,v);case"MultiLineString":return b<0&&(b=a.length+b),m<0&&(m=a[b].length+m),x.point(a[b][m],S,v);case"MultiPolygon":return b<0&&(b=a.length+b),M<0&&(M=a[b].length+M),m<0&&(m=a[b][M].length-m),x.point(a[b][M][m],S,v)}throw new Error("geojson is invalid")}U.coordEach=P,U.coordReduce=i,U.propEach=L,U.propReduce=C,U.featureEach=c,U.featureReduce=y,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=n,U.flattenReduce=u,U.segmentEach=l,U.segmentReduce=f,U.lineEach=g,U.lineReduce=h,U.findSegment=w,U.findPoint=d},77844:function(V,U,e){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=e(43752),P=e(49840);function i(L,C){C===void 0&&(C={});var c=0,y=0,r=0;return x.coordEach(L,function(t){c+=t[0],y+=t[1],r++}),P.point([c/r,y/r],C.properties)}U.default=i},49840:function(V,U){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,_,O){O===void 0&&(O={});var z={type:"Feature"};return(O.id===0||O.id)&&(z.id=O.id),O.bbox&&(z.bbox=O.bbox),z.properties=_||{},z.geometry=F,z}U.feature=e;function x(F,_,O){switch(O===void 0&&(O={}),F){case"Point":return P(_).geometry;case"LineString":return c(_).geometry;case"Polygon":return L(_).geometry;case"MultiPoint":return s(_).geometry;case"MultiLineString":return t(_).geometry;case"MultiPolygon":return n(_).geometry;default:throw new Error(F+" is invalid")}}U.geometry=x;function P(F,_,O){O===void 0&&(O={});var z={type:"Point",coordinates:F};return e(z,_,O)}U.point=P;function i(F,_,O){return O===void 0&&(O={}),r(F.map(function(z){return P(z,_)}),O)}U.points=i;function L(F,_,O){O===void 0&&(O={});for(var z=0,N=F;z<N.length;z++){var Y=N[z];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<Y[Y.length-1].length;J++)if(Y[Y.length-1][J]!==Y[0][J])throw new Error("First and last Position are not equivalent.")}var ae={type:"Polygon",coordinates:F};return e(ae,_,O)}U.polygon=L;function C(F,_,O){return O===void 0&&(O={}),r(F.map(function(z){return L(z,_)}),O)}U.polygons=C;function c(F,_,O){if(O===void 0&&(O={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:F};return e(z,_,O)}U.lineString=c;function y(F,_,O){return O===void 0&&(O={}),r(F.map(function(z){return c(z,_)}),O)}U.lineStrings=y;function r(F,_){_===void 0&&(_={});var O={type:"FeatureCollection"};return _.id&&(O.id=_.id),_.bbox&&(O.bbox=_.bbox),O.features=F,O}U.featureCollection=r;function t(F,_,O){O===void 0&&(O={});var z={type:"MultiLineString",coordinates:F};return e(z,_,O)}U.multiLineString=t;function s(F,_,O){O===void 0&&(O={});var z={type:"MultiPoint",coordinates:F};return e(z,_,O)}U.multiPoint=s;function n(F,_,O){O===void 0&&(O={});var z={type:"MultiPolygon",coordinates:F};return e(z,_,O)}U.multiPolygon=n;function u(F,_,O){O===void 0&&(O={});var z={type:"GeometryCollection",geometries:F};return e(z,_,O)}U.geometryCollection=u;function l(F,_){if(_===void 0&&(_=0),_&&!(_>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,_||0);return Math.round(F*O)/O}U.round=l;function f(F,_){_===void 0&&(_="kilometers");var O=U.factors[_];if(!O)throw new Error(_+" units is invalid");return F*O}U.radiansToLength=f;function g(F,_){_===void 0&&(_="kilometers");var O=U.factors[_];if(!O)throw new Error(_+" units is invalid");return F/O}U.lengthToRadians=g;function h(F,_){return d(g(F,_))}U.lengthToDegrees=h;function w(F){var _=F%360;return _<0&&(_+=360),_}U.bearingToAzimuth=w;function d(F){var _=F%(2*Math.PI);return _*180/Math.PI}U.radiansToDegrees=d;function o(F){var _=F%360;return _*Math.PI/180}U.degreesToRadians=o;function v(F,_,O){if(_===void 0&&(_="kilometers"),O===void 0&&(O="kilometers"),!(F>=0))throw new Error("length must be a positive number");return f(g(F,_),O)}U.convertLength=v;function A(F,_,O){if(_===void 0&&(_="meters"),O===void 0&&(O="kilometers"),!(F>=0))throw new Error("area must be a positive number");var z=U.areaFactors[_];if(!z)throw new Error("invalid original units");var N=U.areaFactors[O];if(!N)throw new Error("invalid final units");return F/z*N}U.convertArea=A;function b(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}U.isNumber=b;function M(F){return!!F&&F.constructor===Object}U.isObject=M;function m(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(_){if(!b(_))throw new Error("bbox must only contain numbers")})}U.validateBBox=m;function S(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}U.validateId=S;function T(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=T;function a(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=a;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=E;function p(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=p;function k(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=k;function R(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=R;function B(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=B},43752:function(V,U,e){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=e(49840);function P(o,v,A){if(o!==null)for(var b,M,m,S,T,a,E,p=0,k=0,R,B=o.type,F=B==="FeatureCollection",_=B==="Feature",O=F?o.features.length:1,z=0;z<O;z++){E=F?o.features[z].geometry:_?o.geometry:o,R=E?E.type==="GeometryCollection":!1,T=R?E.geometries.length:1;for(var N=0;N<T;N++){var Y=0,J=0;if(S=R?E.geometries[N]:E,S!==null){a=S.coordinates;var ae=S.type;switch(p=A&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(v(a,k,z,Y,J)===!1)return!1;k++,Y++;break;case"LineString":case"MultiPoint":for(b=0;b<a.length;b++){if(v(a[b],k,z,Y,J)===!1)return!1;k++,ae==="MultiPoint"&&Y++}ae==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(b=0;b<a.length;b++){for(M=0;M<a[b].length-p;M++){if(v(a[b][M],k,z,Y,J)===!1)return!1;k++}ae==="MultiLineString"&&Y++,ae==="Polygon"&&J++}ae==="Polygon"&&Y++;break;case"MultiPolygon":for(b=0;b<a.length;b++){for(J=0,M=0;M<a[b].length;M++){for(m=0;m<a[b][M].length-p;m++){if(v(a[b][M][m],k,z,Y,J)===!1)return!1;k++}J++}Y++}break;case"GeometryCollection":for(b=0;b<S.geometries.length;b++)if(P(S.geometries[b],v,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,v,A,b){var M=A;return P(o,function(m,S,T,a,E){S===0&&A===void 0?M=m:M=v(M,m,S,T,a,E)},b),M}function L(o,v){var A;switch(o.type){case"FeatureCollection":for(A=0;A<o.features.length&&v(o.features[A].properties,A)!==!1;A++);break;case"Feature":v(o.properties,0);break}}function C(o,v,A){var b=A;return L(o,function(M,m){m===0&&A===void 0?b=M:b=v(b,M,m)}),b}function c(o,v){if(o.type==="Feature")v(o,0);else if(o.type==="FeatureCollection")for(var A=0;A<o.features.length&&v(o.features[A],A)!==!1;A++);}function y(o,v,A){var b=A;return c(o,function(M,m){m===0&&A===void 0?b=M:b=v(b,M,m)}),b}function r(o){var v=[];return P(o,function(A){v.push(A)}),v}function t(o,v){var A,b,M,m,S,T,a,E,p,k,R=0,B=o.type==="FeatureCollection",F=o.type==="Feature",_=B?o.features.length:1;for(A=0;A<_;A++){for(T=B?o.features[A].geometry:F?o.geometry:o,E=B?o.features[A].properties:F?o.properties:{},p=B?o.features[A].bbox:F?o.bbox:void 0,k=B?o.features[A].id:F?o.id:void 0,a=T?T.type==="GeometryCollection":!1,S=a?T.geometries.length:1,M=0;M<S;M++){if(m=a?T.geometries[M]:T,m===null){if(v(null,R,E,p,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(v(m,R,E,p,k)===!1)return!1;break}case"GeometryCollection":{for(b=0;b<m.geometries.length;b++)if(v(m.geometries[b],R,E,p,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}R++}}function s(o,v,A){var b=A;return t(o,function(M,m,S,T,a){m===0&&A===void 0?b=M:b=v(b,M,m,S,T,a)}),b}function n(o,v){t(o,function(A,b,M,m,S){var T=A===null?null:A.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return v(x.feature(A,M,{bbox:m,id:S}),b,0)===!1?!1:void 0}var a;switch(T){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var p=A.coordinates[E],k={type:a,coordinates:p};if(v(x.feature(k,M),b,E)===!1)return!1}})}function u(o,v,A){var b=A;return n(o,function(M,m,S){m===0&&S===0&&A===void 0?b=M:b=v(b,M,m,S)}),b}function l(o,v){n(o,function(A,b,M){var m=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var T,a=0,E=0,p=0;if(P(A,function(k,R,B,F,_){if(T===void 0||b>a||F>E||_>p){T=k,a=b,E=F,p=_,m=0;return}var O=x.lineString([T,k],A.properties);if(v(O,b,M,_,m)===!1)return!1;m++,T=k})===!1)return!1}}})}function f(o,v,A){var b=A,M=!1;return l(o,function(m,S,T,a,E){M===!1&&A===void 0?b=m:b=v(b,m,S,T,a,E),M=!0}),b}function g(o,v){if(!o)throw new Error("geojson is required");n(o,function(A,b,M){if(A.geometry!==null){var m=A.geometry.type,S=A.geometry.coordinates;switch(m){case"LineString":if(v(A,b,M,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(v(x.lineString(S[T],A.properties),b,M,T)===!1)return!1;break}}})}function h(o,v,A){var b=A;return g(o,function(M,m,S,T){m===0&&A===void 0?b=M:b=v(b,M,m,S,T)}),b}function w(o,v){if(v=v||{},!x.isObject(v))throw new Error("options is invalid");var A=v.featureIndex||0,b=v.multiFeatureIndex||0,M=v.geometryIndex||0,m=v.segmentIndex||0,S=v.properties,T;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,T=o.features[A].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var a=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=a.length+m-1),x.lineString([a[m],a[m+1]],S,v);case"Polygon":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m-1),x.lineString([a[M][m],a[M][m+1]],S,v);case"MultiLineString":return b<0&&(b=a.length+b),m<0&&(m=a[b].length+m-1),x.lineString([a[b][m],a[b][m+1]],S,v);case"MultiPolygon":return b<0&&(b=a.length+b),M<0&&(M=a[b].length+M),m<0&&(m=a[b][M].length-m-1),x.lineString([a[b][M][m],a[b][M][m+1]],S,v)}throw new Error("geojson is invalid")}function d(o,v){if(v=v||{},!x.isObject(v))throw new Error("options is invalid");var A=v.featureIndex||0,b=v.multiFeatureIndex||0,M=v.geometryIndex||0,m=v.coordIndex||0,S=v.properties,T;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,T=o.features[A].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var a=T.coordinates;switch(T.type){case"Point":return x.point(a,S,v);case"MultiPoint":return b<0&&(b=a.length+b),x.point(a[b],S,v);case"LineString":return m<0&&(m=a.length+m),x.point(a[m],S,v);case"Polygon":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m),x.point(a[M][m],S,v);case"MultiLineString":return b<0&&(b=a.length+b),m<0&&(m=a[b].length+m),x.point(a[b][m],S,v);case"MultiPolygon":return b<0&&(b=a.length+b),M<0&&(M=a[b].length+M),m<0&&(m=a[b][M].length-m),x.point(a[b][M][m],S,v)}throw new Error("geojson is invalid")}U.coordEach=P,U.coordReduce=i,U.propEach=L,U.propReduce=C,U.featureEach=c,U.featureReduce=y,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=n,U.flattenReduce=u,U.segmentEach=l,U.segmentReduce=f,U.lineEach=g,U.lineReduce=h,U.findSegment=w,U.findPoint=d},49972:function(V){V.exports=U;function U(e){var x=0,P=0,i=0,L=0;return e.map(function(C){C=C.slice();var c=C[0],y=c.toUpperCase();if(c!=y)switch(C[0]=y,c){case"a":C[6]+=i,C[7]+=L;break;case"v":C[1]+=L;break;case"h":C[1]+=i;break;default:for(var r=1;r<C.length;)C[r++]+=i,C[r++]+=L}switch(y){case"Z":i=x,L=P;break;case"H":i=C[1];break;case"V":L=C[1];break;case"M":i=x=C[1],L=P=C[2];break;default:i=C[C.length-2],L=C[C.length-1]}return C})}},76752:function(V){"use strict";V.exports=U;function U(e,x){if(!e||e.length==null)throw Error("Argument should be an array");x==null?x=1:x=Math.floor(x);for(var P=Array(x*2),i=0;i<x;i++){for(var L=-1/0,C=1/0,c=i,y=e.length;c<y;c+=x)e[c]>L&&(L=e[c]),e[c]<C&&(C=e[c]);P[i]=C,P[x+i]=L}return P}},10272:function(V){"use strict";V.exports=function(U,e,x){if(typeof Array.prototype.findIndex=="function")return U.findIndex(e,x);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(U),i=P.length;if(i===0)return-1;for(var L=0;L<i;L++)if(e.call(x,P[L],L,P))return L;return-1}},71152:function(V,U,e){"use strict";var x=e(76752);V.exports=P;function P(i,L,C){if(!i||i.length==null)throw Error("Argument should be an array");L==null&&(L=1),C==null&&(C=x(i,L));for(var c=0;c<L;c++){var y=C[L+c],r=C[c],t=c,s=i.length;if(y===1/0&&r===-1/0)for(t=c;t<s;t+=L)i[t]=i[t]===y?1:i[t]===r?0:.5;else if(y===1/0)for(t=c;t<s;t+=L)i[t]=i[t]===y?1:0;else if(r===-1/0)for(t=c;t<s;t+=L)i[t]=i[t]===r?0:1;else{var n=y-r;for(t=c;t<s;t+=L)isNaN(i[t])||(i[t]=n===0?.5:(i[t]-r)/n)}}return i}},67752:function(V){V.exports=function(e,x){var P=typeof e=="number",i=typeof x=="number";P&&!i?(x=e,e=0):!P&&!i&&(e=0,x=0),e=e|0,x=x|0;var L=x-e;if(L<0)throw new Error("array length must be positive");for(var C=new Array(L),c=0,y=e;c<L;c++,y++)C[c]=y;return C}},45408:function(V,U,e){"use strict";var x=e(4168);function P(W){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ee){return typeof ee}:P=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},P(W)}function i(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}var L=e(86832),C=L.codes,c=C.ERR_AMBIGUOUS_ARGUMENT,y=C.ERR_INVALID_ARG_TYPE,r=C.ERR_INVALID_ARG_VALUE,t=C.ERR_INVALID_RETURN_VALUE,s=C.ERR_MISSING_ARGS,n=e(26144),u=e(35840),l=u.inspect,f=e(35840).types,g=f.isPromise,h=f.isRegExp,w=Object.assign?Object.assign:e(60964).assign,d=Object.is?Object.is:e(39896),o=new Map,v,A,b,M,m;function S(){var W=e(25116);v=W.isDeepEqual,A=W.isDeepStrictEqual}var T=/[\x00-\x08\x0b\x0c\x0e-\x1f]/g,a=null,E=function(Q){return a[Q.charCodeAt(0)]},p=!1,k=V.exports=O,R={};function B(W){throw W.message instanceof Error?W.message:new n(W)}function F(W,Q,ee,$,X){var oe=arguments.length,te;if(oe===0)te="Failed";else if(oe===1)ee=W,W=void 0;else{if(p===!1){p=!0;var fe=x.emitWarning?x.emitWarning:console.warn.bind(console);fe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}oe===2&&($="!=")}if(ee instanceof Error)throw ee;var pe={actual:W,expected:Q,operator:$===void 0?"fail":$,stackStartFn:X||F};ee!==void 0&&(pe.message=ee);var Ae=new n(pe);throw te&&(Ae.message=te,Ae.generatedMessage=!0),Ae}k.fail=F,k.AssertionError=n;function _(W,Q,ee,$){if(!ee){var X=!1;if(Q===0)X=!0,$="No value argument passed to `assert.ok()`";else if($ instanceof Error)throw $;var oe=new n({actual:ee,expected:!0,message:$,operator:"==",stackStartFn:W});throw oe.generatedMessage=X,oe}}function O(){for(var W=arguments.length,Q=new Array(W),ee=0;ee<W;ee++)Q[ee]=arguments[ee];_.apply(void 0,[O,Q.length].concat(Q))}k.ok=O,k.equal=function W(Q,ee,$){if(arguments.length<2)throw new s("actual","expected");Q!=ee&&B({actual:Q,expected:ee,message:$,operator:"==",stackStartFn:W})},k.notEqual=function W(Q,ee,$){if(arguments.length<2)throw new s("actual","expected");Q==ee&&B({actual:Q,expected:ee,message:$,operator:"!=",stackStartFn:W})},k.deepEqual=function W(Q,ee,$){if(arguments.length<2)throw new s("actual","expected");v===void 0&&S(),v(Q,ee)||B({actual:Q,expected:ee,message:$,operator:"deepEqual",stackStartFn:W})},k.notDeepEqual=function W(Q,ee,$){if(arguments.length<2)throw new s("actual","expected");v===void 0&&S(),v(Q,ee)&&B({actual:Q,expected:ee,message:$,operator:"notDeepEqual",stackStartFn:W})},k.deepStrictEqual=function W(Q,ee,$){if(arguments.length<2)throw new s("actual","expected");v===void 0&&S(),A(Q,ee)||B({actual:Q,expected:ee,message:$,operator:"deepStrictEqual",stackStartFn:W})},k.notDeepStrictEqual=z;function z(W,Q,ee){if(arguments.length<2)throw new s("actual","expected");v===void 0&&S(),A(W,Q)&&B({actual:W,expected:Q,message:ee,operator:"notDeepStrictEqual",stackStartFn:z})}k.strictEqual=function W(Q,ee,$){if(arguments.length<2)throw new s("actual","expected");d(Q,ee)||B({actual:Q,expected:ee,message:$,operator:"strictEqual",stackStartFn:W})},k.notStrictEqual=function W(Q,ee,$){if(arguments.length<2)throw new s("actual","expected");d(Q,ee)&&B({actual:Q,expected:ee,message:$,operator:"notStrictEqual",stackStartFn:W})};var N=function W(Q,ee,$){var X=this;i(this,W),ee.forEach(function(oe){oe in Q&&($!==void 0&&typeof $[oe]=="string"&&h(Q[oe])&&Q[oe].test($[oe])?X[oe]=$[oe]:X[oe]=Q[oe])})};function Y(W,Q,ee,$,X,oe){if(!(ee in W)||!A(W[ee],Q[ee])){if(!$){var te=new N(W,X),fe=new N(Q,X,W),pe=new n({actual:te,expected:fe,operator:"deepStrictEqual",stackStartFn:oe});throw pe.actual=W,pe.expected=Q,pe.operator=oe.name,pe}B({actual:W,expected:Q,message:$,operator:oe.name,stackStartFn:oe})}}function J(W,Q,ee,$){if(typeof Q!="function"){if(h(Q))return Q.test(W);if(arguments.length===2)throw new y("expected",["Function","RegExp"],Q);if(P(W)!=="object"||W===null){var X=new n({actual:W,expected:Q,message:ee,operator:"deepStrictEqual",stackStartFn:$});throw X.operator=$.name,X}var oe=Object.keys(Q);if(Q instanceof Error)oe.push("name","message");else if(oe.length===0)throw new r("error",Q,"may not be an empty object");return v===void 0&&S(),oe.forEach(function(te){typeof W[te]=="string"&&h(Q[te])&&Q[te].test(W[te])||Y(W,Q,te,ee,oe,$)}),!0}return Q.prototype!==void 0&&W instanceof Q?!0:Error.isPrototypeOf(Q)?!1:Q.call({},W)===!0}function ae(W){if(typeof W!="function")throw new y("fn","Function",W);try{W()}catch(Q){return Q}return R}function se(W){return g(W)||W!==null&&P(W)==="object"&&typeof W.then=="function"&&typeof W.catch=="function"}function ue(W){return Promise.resolve().then(function(){var Q;if(typeof W=="function"){if(Q=W(),!se(Q))throw new t("instance of Promise","promiseFn",Q)}else if(se(W))Q=W;else throw new y("promiseFn",["Function","Promise"],W);return Promise.resolve().then(function(){return Q}).then(function(){return R}).catch(function(ee){return ee})})}function K(W,Q,ee,$){if(typeof ee=="string"){if(arguments.length===4)throw new y("error",["Object","Error","Function","RegExp"],ee);if(P(Q)==="object"&&Q!==null){if(Q.message===ee)throw new c("error/message",'The error message "'.concat(Q.message,'" is identical to the message.'))}else if(Q===ee)throw new c("error/message",'The error "'.concat(Q,'" is identical to the message.'));$=ee,ee=void 0}else if(ee!=null&&P(ee)!=="object"&&typeof ee!="function")throw new y("error",["Object","Error","Function","RegExp"],ee);if(Q===R){var X="";ee&&ee.name&&(X+=" (".concat(ee.name,")")),X+=$?": ".concat($):".";var oe=W.name==="rejects"?"rejection":"exception";B({actual:void 0,expected:ee,operator:W.name,message:"Missing expected ".concat(oe).concat(X),stackStartFn:W})}if(ee&&!J(Q,ee,$,W))throw Q}function j(W,Q,ee,$){if(Q!==R){if(typeof ee=="string"&&($=ee,ee=void 0),!ee||J(Q,ee)){var X=$?": ".concat($):".",oe=W.name==="doesNotReject"?"rejection":"exception";B({actual:Q,expected:ee,operator:W.name,message:"Got unwanted ".concat(oe).concat(X,`
`)+'Actual message: "'.concat(Q&&Q.message,'"'),stackStartFn:W})}throw Q}}k.throws=function W(Q){for(var ee=arguments.length,$=new Array(ee>1?ee-1:0),X=1;X<ee;X++)$[X-1]=arguments[X];K.apply(void 0,[W,ae(Q)].concat($))},k.rejects=function W(Q){for(var ee=arguments.length,$=new Array(ee>1?ee-1:0),X=1;X<ee;X++)$[X-1]=arguments[X];return ue(Q).then(function(oe){return K.apply(void 0,[W,oe].concat($))})},k.doesNotThrow=function W(Q){for(var ee=arguments.length,$=new Array(ee>1?ee-1:0),X=1;X<ee;X++)$[X-1]=arguments[X];j.apply(void 0,[W,ae(Q)].concat($))},k.doesNotReject=function W(Q){for(var ee=arguments.length,$=new Array(ee>1?ee-1:0),X=1;X<ee;X++)$[X-1]=arguments[X];return ue(Q).then(function(oe){return j.apply(void 0,[W,oe].concat($))})},k.ifError=function W(Q){if(Q!=null){var ee="ifError got unwanted exception: ";P(Q)==="object"&&typeof Q.message=="string"?Q.message.length===0&&Q.constructor?ee+=Q.constructor.name:ee+=Q.message:ee+=l(Q);var $=new n({actual:Q,expected:null,operator:"ifError",message:ee,stackStartFn:W}),X=Q.stack;if(typeof X=="string"){var oe=X.split(`
`);oe.shift();for(var te=$.stack.split(`
`),fe=0;fe<oe.length;fe++){var pe=te.indexOf(oe[fe]);if(pe!==-1){te=te.slice(0,pe);break}}$.stack="".concat(te.join(`
`),`
`).concat(oe.join(`
`))}throw $}};function ie(){for(var W=arguments.length,Q=new Array(W),ee=0;ee<W;ee++)Q[ee]=arguments[ee];_.apply(void 0,[ie,Q.length].concat(Q))}k.strict=w(ie,k,{equal:k.strictEqual,deepEqual:k.deepStrictEqual,notEqual:k.notStrictEqual,notDeepEqual:k.notDeepStrictEqual}),k.strict.strict=k.strict},26144:function(V,U,e){"use strict";var x=e(4168);function P(F){for(var _=1;_<arguments.length;_++){var O=arguments[_]!=null?arguments[_]:{},z=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(O).filter(function(N){return Object.getOwnPropertyDescriptor(O,N).enumerable}))),z.forEach(function(N){i(F,N,O[N])})}return F}function i(F,_,O){return _ in F?Object.defineProperty(F,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):F[_]=O,F}function L(F,_){if(!(F instanceof _))throw new TypeError("Cannot call a class as a function")}function C(F,_){for(var O=0;O<_.length;O++){var z=_[O];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(F,z.key,z)}}function c(F,_,O){return _&&C(F.prototype,_),O&&C(F,O),F}function y(F,_){return _&&(h(_)==="object"||typeof _=="function")?_:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function t(F,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(_&&_.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),_&&f(F,_)}function s(F){var _=typeof Map=="function"?new Map:void 0;return s=function(z){if(z===null||!l(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof _!="undefined"){if(_.has(z))return _.get(z);_.set(z,N)}function N(){return u(z,arguments,g(this).constructor)}return N.prototype=Object.create(z.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),f(N,z)},s(F)}function n(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(F){return!1}}function u(F,_,O){return n()?u=Reflect.construct:u=function(N,Y,J){var ae=[null];ae.push.apply(ae,Y);var se=Function.bind.apply(N,ae),ue=new se;return J&&f(ue,J.prototype),ue},u.apply(null,arguments)}function l(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function f(F,_){return f=Object.setPrototypeOf||function(z,N){return z.__proto__=N,z},f(F,_)}function g(F){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},g(F)}function h(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(O){return typeof O}:h=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h(F)}var w=e(35840),d=w.inspect,o=e(86832),v=o.codes.ERR_INVALID_ARG_TYPE;function A(F,_,O){return(O===void 0||O>F.length)&&(O=F.length),F.substring(O-_.length,O)===_}function b(F,_){if(_=Math.floor(_),F.length==0||_==0)return"";var O=F.length*_;for(_=Math.floor(Math.log(_)/Math.log(2));_;)F+=F,_--;return F+=F.substring(0,O-F.length),F}var M="",m="",S="",T="",a={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function p(F){var _=Object.keys(F),O=Object.create(Object.getPrototypeOf(F));return _.forEach(function(z){O[z]=F[z]}),Object.defineProperty(O,"message",{value:F.message}),O}function k(F){return d(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function R(F,_,O){var z="",N="",Y=0,J="",ae=!1,se=k(F),ue=se.split(`
`),K=k(_).split(`
`),j=0,ie="";if(O==="strictEqual"&&h(F)==="object"&&h(_)==="object"&&F!==null&&_!==null&&(O="strictEqualObject"),ue.length===1&&K.length===1&&ue[0]!==K[0]){var W=ue[0].length+K[0].length;if(W<=E){if((h(F)!=="object"||F===null)&&(h(_)!=="object"||_===null)&&(F!==0||_!==0))return"".concat(a[O],`

`)+"".concat(ue[0]," !== ").concat(K[0],`
`)}else if(O!=="strictEqualObject"){var Q=x.stderr&&x.stderr.isTTY?x.stderr.columns:80;if(W<Q){for(;ue[0][j]===K[0][j];)j++;j>2&&(ie=`
  `.concat(b(" ",j),"^"),j=0)}}}for(var ee=ue[ue.length-1],$=K[K.length-1];ee===$&&(j++<2?J=`
  `.concat(ee).concat(J):z=ee,ue.pop(),K.pop(),!(ue.length===0||K.length===0));)ee=ue[ue.length-1],$=K[K.length-1];var X=Math.max(ue.length,K.length);if(X===0){var oe=se.split(`
`);if(oe.length>30)for(oe[26]="".concat(M,"...").concat(T);oe.length>27;)oe.pop();return"".concat(a.notIdentical,`

`).concat(oe.join(`
`),`
`)}j>3&&(J=`
`.concat(M,"...").concat(T).concat(J),ae=!0),z!==""&&(J=`
  `.concat(z).concat(J),z="");var te=0,fe=a[O]+`
`.concat(m,"+ actual").concat(T," ").concat(S,"- expected").concat(T),pe=" ".concat(M,"...").concat(T," Lines skipped");for(j=0;j<X;j++){var Ae=j-Y;if(ue.length<j+1)Ae>1&&j>2&&(Ae>4?(N+=`
`.concat(M,"...").concat(T),ae=!0):Ae>3&&(N+=`
  `.concat(K[j-2]),te++),N+=`
  `.concat(K[j-1]),te++),Y=j,z+=`
`.concat(S,"-").concat(T," ").concat(K[j]),te++;else if(K.length<j+1)Ae>1&&j>2&&(Ae>4?(N+=`
`.concat(M,"...").concat(T),ae=!0):Ae>3&&(N+=`
  `.concat(ue[j-2]),te++),N+=`
  `.concat(ue[j-1]),te++),Y=j,N+=`
`.concat(m,"+").concat(T," ").concat(ue[j]),te++;else{var be=K[j],Pe=ue[j],me=Pe!==be&&(!A(Pe,",")||Pe.slice(0,-1)!==be);me&&A(be,",")&&be.slice(0,-1)===Pe&&(me=!1,Pe+=","),me?(Ae>1&&j>2&&(Ae>4?(N+=`
`.concat(M,"...").concat(T),ae=!0):Ae>3&&(N+=`
  `.concat(ue[j-2]),te++),N+=`
  `.concat(ue[j-1]),te++),Y=j,N+=`
`.concat(m,"+").concat(T," ").concat(Pe),z+=`
`.concat(S,"-").concat(T," ").concat(be),te+=2):(N+=z,z="",(Ae===1||j===0)&&(N+=`
  `.concat(Pe),te++))}if(te>20&&j<X-2)return"".concat(fe).concat(pe,`
`).concat(N,`
`).concat(M,"...").concat(T).concat(z,`
`)+"".concat(M,"...").concat(T)}return"".concat(fe).concat(ae?pe:"",`
`).concat(N).concat(z).concat(J).concat(ie)}var B=function(F){t(_,F);function _(O){var z;if(L(this,_),h(O)!=="object"||O===null)throw new v("options","Object",O);var N=O.message,Y=O.operator,J=O.stackStartFn,ae=O.actual,se=O.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,N!=null)z=y(this,g(_).call(this,String(N)));else if(x.stderr&&x.stderr.isTTY&&(x.stderr&&x.stderr.getColorDepth&&x.stderr.getColorDepth()!==1?(M="\x1B[34m",m="\x1B[32m",T="\x1B[39m",S="\x1B[31m"):(M="",m="",T="",S="")),h(ae)==="object"&&ae!==null&&h(se)==="object"&&se!==null&&"stack"in ae&&ae instanceof Error&&"stack"in se&&se instanceof Error&&(ae=p(ae),se=p(se)),Y==="deepStrictEqual"||Y==="strictEqual")z=y(this,g(_).call(this,R(ae,se,Y)));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var K=a[Y],j=k(ae).split(`
`);if(Y==="notStrictEqual"&&h(ae)==="object"&&ae!==null&&(K=a.notStrictEqualObject),j.length>30)for(j[26]="".concat(M,"...").concat(T);j.length>27;)j.pop();j.length===1?z=y(this,g(_).call(this,"".concat(K," ").concat(j[0]))):z=y(this,g(_).call(this,"".concat(K,`

`).concat(j.join(`
`),`
`)))}else{var ie=k(ae),W="",Q=a[Y];Y==="notDeepEqual"||Y==="notEqual"?(ie="".concat(a[Y],`

`).concat(ie),ie.length>1024&&(ie="".concat(ie.slice(0,1021),"..."))):(W="".concat(k(se)),ie.length>512&&(ie="".concat(ie.slice(0,509),"...")),W.length>512&&(W="".concat(W.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?ie="".concat(Q,`

`).concat(ie,`

should equal

`):W=" ".concat(Y," ").concat(W)),z=y(this,g(_).call(this,"".concat(ie).concat(W)))}return Error.stackTraceLimit=ue,z.generatedMessage=!N,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=ae,z.expected=se,z.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(r(z),J),z.stack,z.name="AssertionError",y(z)}return c(_,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(z,N){return d(this,P({},N,{customInspect:!1,depth:0}))}}]),_}(s(Error));V.exports=B},86832:function(V,U,e){"use strict";function x(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(d){return typeof d}:x=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},x(h)}function P(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")}function i(h,w){return w&&(x(w)==="object"||typeof w=="function")?w:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function C(h){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},C(h)}function c(h,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(w&&w.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),w&&y(h,w)}function y(h,w){return y=Object.setPrototypeOf||function(o,v){return o.__proto__=v,o},y(h,w)}var r={},t,s;function n(h,w,d){d||(d=Error);function o(A,b,M){return typeof w=="string"?w:w(A,b,M)}var v=function(A){c(b,A);function b(M,m,S){var T;return P(this,b),T=i(this,C(b).call(this,o(M,m,S))),T.code=h,T}return b}(d);r[h]=v}function u(h,w){if(Array.isArray(h)){var d=h.length;return h=h.map(function(o){return String(o)}),d>2?"one of ".concat(w," ").concat(h.slice(0,d-1).join(", "),", or ")+h[d-1]:d===2?"one of ".concat(w," ").concat(h[0]," or ").concat(h[1]):"of ".concat(w," ").concat(h[0])}else return"of ".concat(w," ").concat(String(h))}function l(h,w,d){return h.substr(!d||d<0?0:+d,w.length)===w}function f(h,w,d){return(d===void 0||d>h.length)&&(d=h.length),h.substring(d-w.length,d)===w}function g(h,w,d){return typeof d!="number"&&(d=0),d+w.length>h.length?!1:h.indexOf(w,d)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,w,d){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var o;typeof w=="string"&&l(w,"not ")?(o="must not be",w=w.replace(/^not /,"")):o="must be";var v;if(f(h," argument"))v="The ".concat(h," ").concat(o," ").concat(u(w,"type"));else{var A=g(h,".")?"property":"argument";v='The "'.concat(h,'" ').concat(A," ").concat(o," ").concat(u(w,"type"))}return v+=". Received type ".concat(x(d)),v},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,w){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=e(35840));var o=s.inspect(w);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(d,". Received ").concat(o)},TypeError,RangeError),n("ERR_INVALID_RETURN_VALUE",function(h,w,d){var o;return d&&d.constructor&&d.constructor.name?o="instance of ".concat(d.constructor.name):o="type ".concat(x(d)),"Expected ".concat(h,' to be returned from the "').concat(w,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,w=new Array(h),d=0;d<h;d++)w[d]=arguments[d];t===void 0&&(t=e(45408)),t(w.length>0,"At least one arg needs to be specified");var o="The ",v=w.length;switch(w=w.map(function(A){return'"'.concat(A,'"')}),v){case 1:o+="".concat(w[0]," argument");break;case 2:o+="".concat(w[0]," and ").concat(w[1]," arguments");break;default:o+=w.slice(0,v-1).join(", "),o+=", and ".concat(w[v-1]," arguments");break}return"".concat(o," must be specified")},TypeError),V.exports.codes=r},25116:function(V,U,e){"use strict";function x(xe,De){return L(xe)||i(xe,De)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(xe,De){var Ve=[],Ze=!0,ke=!1,Ye=void 0;try{for(var lt=xe[Symbol.iterator](),yt;!(Ze=(yt=lt.next()).done)&&(Ve.push(yt.value),!(De&&Ve.length===De));Ze=!0);}catch(He){ke=!0,Ye=He}finally{try{!Ze&&lt.return!=null&&lt.return()}finally{if(ke)throw Ye}}return Ve}function L(xe){if(Array.isArray(xe))return xe}function C(xe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(Ve){return typeof Ve}:C=function(Ve){return Ve&&typeof Symbol=="function"&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":typeof Ve},C(xe)}var c=/a/g.flags!==void 0,y=function(De){var Ve=[];return De.forEach(function(Ze){return Ve.push(Ze)}),Ve},r=function(De){var Ve=[];return De.forEach(function(Ze,ke){return Ve.push([ke,Ze])}),Ve},t=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function u(xe){return xe.call.bind(xe)}var l=u(Object.prototype.hasOwnProperty),f=u(Object.prototype.propertyIsEnumerable),g=u(Object.prototype.toString),h=e(35840).types,w=h.isAnyArrayBuffer,d=h.isArrayBufferView,o=h.isDate,v=h.isMap,A=h.isRegExp,b=h.isSet,M=h.isNativeError,m=h.isBoxedPrimitive,S=h.isNumberObject,T=h.isStringObject,a=h.isBooleanObject,E=h.isBigIntObject,p=h.isSymbolObject,k=h.isFloat32Array,R=h.isFloat64Array;function B(xe){if(xe.length===0||xe.length>10)return!0;for(var De=0;De<xe.length;De++){var Ve=xe.charCodeAt(De);if(Ve<48||Ve>57)return!0}return xe.length===10&&xe>=Math.pow(2,32)}function F(xe){return Object.keys(xe).filter(B).concat(s(xe).filter(Object.prototype.propertyIsEnumerable.bind(xe)))}function _(xe,De){if(xe===De)return 0;for(var Ve=xe.length,Ze=De.length,ke=0,Ye=Math.min(Ve,Ze);ke<Ye;++ke)if(xe[ke]!==De[ke]){Ve=xe[ke],Ze=De[ke];break}return Ve<Ze?-1:Ze<Ve?1:0}var O=void 0,z=!0,N=!1,Y=0,J=1,ae=2,se=3;function ue(xe,De){return c?xe.source===De.source&&xe.flags===De.flags:RegExp.prototype.toString.call(xe)===RegExp.prototype.toString.call(De)}function K(xe,De){if(xe.byteLength!==De.byteLength)return!1;for(var Ve=0;Ve<xe.byteLength;Ve++)if(xe[Ve]!==De[Ve])return!1;return!0}function j(xe,De){return xe.byteLength!==De.byteLength?!1:_(new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength),new Uint8Array(De.buffer,De.byteOffset,De.byteLength))===0}function ie(xe,De){return xe.byteLength===De.byteLength&&_(new Uint8Array(xe),new Uint8Array(De))===0}function W(xe,De){return S(xe)?S(De)&&t(Number.prototype.valueOf.call(xe),Number.prototype.valueOf.call(De)):T(xe)?T(De)&&String.prototype.valueOf.call(xe)===String.prototype.valueOf.call(De):a(xe)?a(De)&&Boolean.prototype.valueOf.call(xe)===Boolean.prototype.valueOf.call(De):E(xe)?E(De)&&BigInt.prototype.valueOf.call(xe)===BigInt.prototype.valueOf.call(De):p(De)&&Symbol.prototype.valueOf.call(xe)===Symbol.prototype.valueOf.call(De)}function Q(xe,De,Ve,Ze){if(xe===De)return xe!==0?!0:Ve?t(xe,De):!0;if(Ve){if(C(xe)!=="object")return typeof xe=="number"&&n(xe)&&n(De);if(C(De)!=="object"||xe===null||De===null||Object.getPrototypeOf(xe)!==Object.getPrototypeOf(De))return!1}else{if(xe===null||C(xe)!=="object")return De===null||C(De)!=="object"?xe==De:!1;if(De===null||C(De)!=="object")return!1}var ke=g(xe),Ye=g(De);if(ke!==Ye)return!1;if(Array.isArray(xe)){if(xe.length!==De.length)return!1;var lt=F(xe,O),yt=F(De,O);return lt.length!==yt.length?!1:$(xe,De,Ve,Ze,J,lt)}if(ke==="[object Object]"&&(!v(xe)&&v(De)||!b(xe)&&b(De)))return!1;if(o(xe)){if(!o(De)||Date.prototype.getTime.call(xe)!==Date.prototype.getTime.call(De))return!1}else if(A(xe)){if(!A(De)||!ue(xe,De))return!1}else if(M(xe)||xe instanceof Error){if(xe.message!==De.message||xe.name!==De.name)return!1}else if(d(xe)){if(!Ve&&(k(xe)||R(xe))){if(!K(xe,De))return!1}else if(!j(xe,De))return!1;var He=F(xe,O),Fe=F(De,O);return He.length!==Fe.length?!1:$(xe,De,Ve,Ze,Y,He)}else{if(b(xe))return!b(De)||xe.size!==De.size?!1:$(xe,De,Ve,Ze,ae);if(v(xe))return!v(De)||xe.size!==De.size?!1:$(xe,De,Ve,Ze,se);if(w(xe)){if(!ie(xe,De))return!1}else if(m(xe)&&!W(xe,De))return!1}return $(xe,De,Ve,Ze,Y)}function ee(xe,De){return De.filter(function(Ve){return f(xe,Ve)})}function $(xe,De,Ve,Ze,ke,Ye){if(arguments.length===5){Ye=Object.keys(xe);var lt=Object.keys(De);if(Ye.length!==lt.length)return!1}for(var yt=0;yt<Ye.length;yt++)if(!l(De,Ye[yt]))return!1;if(Ve&&arguments.length===5){var He=s(xe);if(He.length!==0){var Fe=0;for(yt=0;yt<He.length;yt++){var nt=He[yt];if(f(xe,nt)){if(!f(De,nt))return!1;Ye.push(nt),Fe++}else if(f(De,nt))return!1}var ot=s(De);if(He.length!==ot.length&&ee(De,ot).length!==Fe)return!1}else{var ct=s(De);if(ct.length!==0&&ee(De,ct).length!==0)return!1}}if(Ye.length===0&&(ke===Y||ke===J&&xe.length===0||xe.size===0))return!0;if(Ze===void 0)Ze={val1:new Map,val2:new Map,position:0};else{var ht=Ze.val1.get(xe);if(ht!==void 0){var mt=Ze.val2.get(De);if(mt!==void 0)return ht===mt}Ze.position++}Ze.val1.set(xe,Ze.position),Ze.val2.set(De,Ze.position);var tt=Pe(xe,De,Ve,Ye,Ze,ke);return Ze.val1.delete(xe),Ze.val2.delete(De),tt}function X(xe,De,Ve,Ze){for(var ke=y(xe),Ye=0;Ye<ke.length;Ye++){var lt=ke[Ye];if(Q(De,lt,Ve,Ze))return xe.delete(lt),!0}return!1}function oe(xe){switch(C(xe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":xe=+xe;case"number":if(n(xe))return!1}return!0}function te(xe,De,Ve){var Ze=oe(Ve);return Ze!=null?Ze:De.has(Ze)&&!xe.has(Ze)}function fe(xe,De,Ve,Ze,ke){var Ye=oe(Ve);if(Ye!=null)return Ye;var lt=De.get(Ye);return lt===void 0&&!De.has(Ye)||!Q(Ze,lt,!1,ke)?!1:!xe.has(Ye)&&Q(Ze,lt,!1,ke)}function pe(xe,De,Ve,Ze){for(var ke=null,Ye=y(xe),lt=0;lt<Ye.length;lt++){var yt=Ye[lt];if(C(yt)==="object"&&yt!==null)ke===null&&(ke=new Set),ke.add(yt);else if(!De.has(yt)){if(Ve||!te(xe,De,yt))return!1;ke===null&&(ke=new Set),ke.add(yt)}}if(ke!==null){for(var He=y(De),Fe=0;Fe<He.length;Fe++){var nt=He[Fe];if(C(nt)==="object"&&nt!==null){if(!X(ke,nt,Ve,Ze))return!1}else if(!Ve&&!xe.has(nt)&&!X(ke,nt,Ve,Ze))return!1}return ke.size===0}return!0}function Ae(xe,De,Ve,Ze,ke,Ye){for(var lt=y(xe),yt=0;yt<lt.length;yt++){var He=lt[yt];if(Q(Ve,He,ke,Ye)&&Q(Ze,De.get(He),ke,Ye))return xe.delete(He),!0}return!1}function be(xe,De,Ve,Ze){for(var ke=null,Ye=r(xe),lt=0;lt<Ye.length;lt++){var yt=x(Ye[lt],2),He=yt[0],Fe=yt[1];if(C(He)==="object"&&He!==null)ke===null&&(ke=new Set),ke.add(He);else{var nt=De.get(He);if(nt===void 0&&!De.has(He)||!Q(Fe,nt,Ve,Ze)){if(Ve||!fe(xe,De,He,Fe,Ze))return!1;ke===null&&(ke=new Set),ke.add(He)}}}if(ke!==null){for(var ot=r(De),ct=0;ct<ot.length;ct++){var ht=x(ot[ct],2),He=ht[0],mt=ht[1];if(C(He)==="object"&&He!==null){if(!Ae(ke,xe,He,mt,Ve,Ze))return!1}else if(!Ve&&(!xe.has(He)||!Q(xe.get(He),mt,!1,Ze))&&!Ae(ke,xe,He,mt,!1,Ze))return!1}return ke.size===0}return!0}function Pe(xe,De,Ve,Ze,ke,Ye){var lt=0;if(Ye===ae){if(!pe(xe,De,Ve,ke))return!1}else if(Ye===se){if(!be(xe,De,Ve,ke))return!1}else if(Ye===J)for(;lt<xe.length;lt++)if(l(xe,lt)){if(!l(De,lt)||!Q(xe[lt],De[lt],Ve,ke))return!1}else{if(l(De,lt))return!1;for(var yt=Object.keys(xe);lt<yt.length;lt++){var He=yt[lt];if(!l(De,He)||!Q(xe[He],De[He],Ve,ke))return!1}return yt.length===Object.keys(De).length}for(lt=0;lt<Ze.length;lt++){var Fe=Ze[lt];if(!Q(xe[Fe],De[Fe],Ve,ke))return!1}return!0}function me(xe,De){return Q(xe,De,N)}function Ee(xe,De){return Q(xe,De,z)}V.exports={isDeepEqual:me,isDeepStrictEqual:Ee}},83160:function(V,U,e){"use strict";e.r(U),e.d(U,{decode:function(){return C},encode:function(){return L}});for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),i=0;i<x.length;i++)P[x.charCodeAt(i)]=i;var L=function(c){var y=new Uint8Array(c),r,t=y.length,s="";for(r=0;r<t;r+=3)s+=x[y[r]>>2],s+=x[(y[r]&3)<<4|y[r+1]>>4],s+=x[(y[r+1]&15)<<2|y[r+2]>>6],s+=x[y[r+2]&63];return t%3===2?s=s.substring(0,s.length-1)+"=":t%3===1&&(s=s.substring(0,s.length-2)+"=="),s},C=function(c){var y=c.length*.75,r=c.length,t,s=0,n,u,l,f;c[c.length-1]==="="&&(y--,c[c.length-2]==="="&&y--);var g=new ArrayBuffer(y),h=new Uint8Array(g);for(t=0;t<r;t+=4)n=P[c.charCodeAt(t)],u=P[c.charCodeAt(t+1)],l=P[c.charCodeAt(t+2)],f=P[c.charCodeAt(t+3)],h[s++]=n<<2|u>>4,h[s++]=(u&15)<<4|l>>2,h[s++]=(l&3)<<6|f&63;return g}},59968:function(V,U){"use strict";U.byteLength=y,U.toByteArray=t,U.fromByteArray=u;for(var e=[],x=[],P=typeof Uint8Array!="undefined"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,C=i.length;L<C;++L)e[L]=i[L],x[i.charCodeAt(L)]=L;x[45]=62,x[95]=63;function c(l){var f=l.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=l.indexOf("=");g===-1&&(g=f);var h=g===f?0:4-g%4;return[g,h]}function y(l){var f=c(l),g=f[0],h=f[1];return(g+h)*3/4-h}function r(l,f,g){return(f+g)*3/4-g}function t(l){var f,g=c(l),h=g[0],w=g[1],d=new P(r(l,h,w)),o=0,v=w>0?h-4:h,A;for(A=0;A<v;A+=4)f=x[l.charCodeAt(A)]<<18|x[l.charCodeAt(A+1)]<<12|x[l.charCodeAt(A+2)]<<6|x[l.charCodeAt(A+3)],d[o++]=f>>16&255,d[o++]=f>>8&255,d[o++]=f&255;return w===2&&(f=x[l.charCodeAt(A)]<<2|x[l.charCodeAt(A+1)]>>4,d[o++]=f&255),w===1&&(f=x[l.charCodeAt(A)]<<10|x[l.charCodeAt(A+1)]<<4|x[l.charCodeAt(A+2)]>>2,d[o++]=f>>8&255,d[o++]=f&255),d}function s(l){return e[l>>18&63]+e[l>>12&63]+e[l>>6&63]+e[l&63]}function n(l,f,g){for(var h,w=[],d=f;d<g;d+=3)h=(l[d]<<16&16711680)+(l[d+1]<<8&65280)+(l[d+2]&255),w.push(s(h));return w.join("")}function u(l){for(var f,g=l.length,h=g%3,w=[],d=16383,o=0,v=g-h;o<v;o+=d)w.push(n(l,o,o+d>v?v:o+d));return h===1?(f=l[g-1],w.push(e[f>>2]+e[f<<4&63]+"==")):h===2&&(f=(l[g-2]<<8)+l[g-1],w.push(e[f>>10]+e[f>>4&63]+e[f<<2&63]+"=")),w.join("")}},64928:function(V){"use strict";function U(C,c,y,r,t){for(var s=t+1;r<=t;){var n=r+t>>>1,u=C[n],l=y!==void 0?y(u,c):u-c;l>=0?(s=n,t=n-1):r=n+1}return s}function e(C,c,y,r,t){for(var s=t+1;r<=t;){var n=r+t>>>1,u=C[n],l=y!==void 0?y(u,c):u-c;l>0?(s=n,t=n-1):r=n+1}return s}function x(C,c,y,r,t){for(var s=r-1;r<=t;){var n=r+t>>>1,u=C[n],l=y!==void 0?y(u,c):u-c;l<0?(s=n,r=n+1):t=n-1}return s}function P(C,c,y,r,t){for(var s=r-1;r<=t;){var n=r+t>>>1,u=C[n],l=y!==void 0?y(u,c):u-c;l<=0?(s=n,r=n+1):t=n-1}return s}function i(C,c,y,r,t){for(;r<=t;){var s=r+t>>>1,n=C[s],u=y!==void 0?y(n,c):n-c;if(u===0)return s;u<=0?r=s+1:t=s-1}return-1}function L(C,c,y,r,t,s){return typeof y=="function"?s(C,c,y,r===void 0?0:r|0,t===void 0?C.length-1:t|0):s(C,c,void 0,y===void 0?0:y|0,r===void 0?C.length-1:r|0)}V.exports={ge:function(C,c,y,r,t){return L(C,c,y,r,t,U)},gt:function(C,c,y,r,t){return L(C,c,y,r,t,e)},lt:function(C,c,y,r,t){return L(C,c,y,r,t,x)},le:function(C,c,y,r,t){return L(C,c,y,r,t,P)},eq:function(C,c,y,r,t){return L(C,c,y,r,t,i)}}},308:function(V,U){"use strict";"use restrict";var e=32;U.INT_BITS=e,U.INT_MAX=2147483647,U.INT_MIN=-1<<e-1,U.sign=function(i){return(i>0)-(i<0)},U.abs=function(i){var L=i>>e-1;return(i^L)-L},U.min=function(i,L){return L^(i^L)&-(i<L)},U.max=function(i,L){return i^(i^L)&-(i<L)},U.isPow2=function(i){return!(i&i-1)&&!!i},U.log2=function(i){var L,C;return L=(i>65535)<<4,i>>>=L,C=(i>255)<<3,i>>>=C,L|=C,C=(i>15)<<2,i>>>=C,L|=C,C=(i>3)<<1,i>>>=C,L|=C,L|i>>1},U.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},U.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function x(i){var L=32;return i&=-i,i&&L--,i&65535&&(L-=16),i&16711935&&(L-=8),i&252645135&&(L-=4),i&858993459&&(L-=2),i&1431655765&&(L-=1),L}U.countTrailingZeros=x,U.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},U.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},U.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var P=new Array(256);(function(i){for(var L=0;L<256;++L){var C=L,c=L,y=7;for(C>>>=1;C;C>>>=1)c<<=1,c|=C&1,--y;i[L]=c<<y&255}})(P),U.reverse=function(i){return P[i&255]<<24|P[i>>>8&255]<<16|P[i>>>16&255]<<8|P[i>>>24&255]},U.interleave2=function(i,L){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,i|L<<1},U.deinterleave2=function(i,L){return i=i>>>L&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},U.interleave3=function(i,L,C){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,i|=L<<1,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,i|C<<2},U.deinterleave3=function(i,L){return i=i>>>L&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},U.nextCombination=function(i){var L=i|i-1;return L+1|(~L&-~L)-1>>>x(i)+1}},29620:function(V,U,e){"use strict";var x=e(32420);V.exports=i;var P=1e20;function i(c,y){y||(y={});var r=y.cutoff==null?.25:y.cutoff,t=y.radius==null?8:y.radius,s=y.channel||0,n,u,l,f,g,h,w,d,o,v,A;if(ArrayBuffer.isView(c)||Array.isArray(c)){if(!y.width||!y.height)throw Error("For raw data width and height should be provided by options");n=y.width,u=y.height,f=c,y.stride?h=y.stride:h=Math.floor(c.length/n/u)}else window.HTMLCanvasElement&&c instanceof window.HTMLCanvasElement?(d=c,w=d.getContext("2d"),n=d.width,u=d.height,o=w.getImageData(0,0,n,u),f=o.data,h=4):window.CanvasRenderingContext2D&&c instanceof window.CanvasRenderingContext2D?(d=c.canvas,w=c,n=d.width,u=d.height,o=w.getImageData(0,0,n,u),f=o.data,h=4):window.ImageData&&c instanceof window.ImageData&&(o=c,n=c.width,u=c.height,f=o.data,h=4);if(l=Math.max(n,u),window.Uint8ClampedArray&&f instanceof window.Uint8ClampedArray||window.Uint8Array&&f instanceof window.Uint8Array)for(g=f,f=Array(n*u),v=0,A=g.length;v<A;v++)f[v]=g[v*h+s]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var b=Array(n*u),M=Array(n*u),m=Array(l),S=Array(l),T=Array(l+1),a=Array(l);for(v=0,A=n*u;v<A;v++){var E=f[v];b[v]=E===1?0:E===0?P:Math.pow(Math.max(0,.5-E),2),M[v]=E===1?P:E===0?0:Math.pow(Math.max(0,E-.5),2)}L(b,n,u,m,S,a,T),L(M,n,u,m,S,a,T);var p=window.Float32Array?new Float32Array(n*u):new Array(n*u);for(v=0,A=n*u;v<A;v++)p[v]=x(1-((b[v]-M[v])/t+r),0,1);return p}function L(c,y,r,t,s,n,u){for(var l=0;l<y;l++){for(var f=0;f<r;f++)t[f]=c[f*y+l];for(C(t,s,n,u,r),f=0;f<r;f++)c[f*y+l]=s[f]}for(f=0;f<r;f++){for(l=0;l<y;l++)t[l]=c[f*y+l];for(C(t,s,n,u,y),l=0;l<y;l++)c[f*y+l]=Math.sqrt(s[l])}}function C(c,y,r,t,s){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,u=0;n<s;n++){for(var l=(c[n]+n*n-(c[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);l<=t[u];)u--,l=(c[n]+n*n-(c[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);u++,r[u]=n,t[u]=l,t[u+1]=+P}for(n=0,u=0;n<s;n++){for(;t[u+1]<n;)u++;y[n]=(n-r[u])*(n-r[u])+c[r[u]]}}},99676:function(V,U,e){"use strict";var x=e(53664),P=e(57916),i=P(x("String.prototype.indexOf"));V.exports=function(C,c){var y=x(C,!!c);return typeof y=="function"&&i(C,".prototype.")>-1?P(y):y}},57916:function(V,U,e){"use strict";var x=e(8844),P=e(53664),i=e(14500),L=P("%TypeError%"),C=P("%Function.prototype.apply%"),c=P("%Function.prototype.call%"),y=P("%Reflect.apply%",!0)||x.call(c,C),r=P("%Object.defineProperty%",!0),t=P("%Math.max%");if(r)try{r({},"a",{value:1})}catch(n){r=null}V.exports=function(u){if(typeof u!="function")throw new L("a function is required");var l=y(x,c,arguments);return i(l,1+t(0,u.length-(arguments.length-1)),!0)};var s=function(){return y(x,C,arguments)};r?r(V.exports,"apply",{value:s}):V.exports.apply=s},32420:function(V){V.exports=U;function U(e,x,P){return x<P?e<x?x:e>P?P:e:e<P?P:e>x?x:e}},3808:function(V,U,e){"use strict";var x=e(32420);V.exports=P,V.exports.to=P,V.exports.from=i;function P(L,C){C==null&&(C=!0);var c=L[0],y=L[1],r=L[2],t=L[3];t==null&&(t=C?1:255),C&&(c*=255,y*=255,r*=255,t*=255),c=x(c,0,255)&255,y=x(y,0,255)&255,r=x(r,0,255)&255,t=x(t,0,255)&255;var s=c*16777216+(y<<16)+(r<<8)+t;return s}function i(L,C){L=+L;var c=L>>>24,y=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return C===!1?[c,y,r,t]:[c/255,y/255,r/255,t/255]}},17592:function(V){"use strict";V.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(V,U,e){"use strict";var x=e(96824),P=e(32420),i=e(72512);V.exports=function(c,y){(y==="float"||!y)&&(y="array"),y==="uint"&&(y="uint8"),y==="uint_clamped"&&(y="uint8_clamped");var r=i(y),t=new r(4),s=y!=="uint8"&&y!=="uint8_clamped";return(!c.length||typeof c=="string")&&(c=x(c),c[0]/=255,c[1]/=255,c[2]/=255),L(c)?(t[0]=c[0],t[1]=c[1],t[2]=c[2],t[3]=c[3]!=null?c[3]:255,s&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(s?(t[0]=c[0],t[1]=c[1],t[2]=c[2],t[3]=c[3]!=null?c[3]:1):(t[0]=P(Math.floor(c[0]*255),0,255),t[1]=P(Math.floor(c[1]*255),0,255),t[2]=P(Math.floor(c[2]*255),0,255),t[3]=c[3]==null?255:P(Math.floor(c[3]*255),0,255)),t)};function L(C){return!!(C instanceof Uint8Array||C instanceof Uint8ClampedArray||Array.isArray(C)&&(C[0]>1||C[0]===0)&&(C[1]>1||C[1]===0)&&(C[2]>1||C[2]===0)&&(!C[3]||C[3]>1))}},96824:function(V,U,e){"use strict";var x=e(95532),P=e(53576),i=e(32420);V.exports=function(C){var c,y,r,t=x(C);return t.space?(c=Array(3),c[0]=i(t.values[0],0,255),c[1]=i(t.values[1],0,255),c[2]=i(t.values[2],0,255),t.space[0]==="h"&&(c=P.rgb(c)),c.push(i(t.alpha,0,1)),c):[]}},95532:function(V,U,e){"use strict";var x=e(17592);V.exports=i;var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function i(L){var C,c=[],y=1,r;if(typeof L=="string")if(L=L.toLowerCase(),x[L])c=x[L].slice(),r="rgb";else if(L==="transparent")y=0,r="rgb",c=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(L)){var t=L.slice(1),s=t.length,n=s<=4;y=1,n?(c=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],s===4&&(y=parseInt(t[3]+t[3],16)/255)):(c=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],s===8&&(y=parseInt(t[6]+t[7],16)/255)),c[0]||(c[0]=0),c[1]||(c[1]=0),c[2]||(c[2]=0),r="rgb"}else if(C=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(L)){var u=C[1],l=u==="rgb",t=u.replace(/a$/,"");r=t;var s=t==="cmyk"?4:t==="gray"?1:3;c=C[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,w){if(/%$/.test(h))return w===s?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[w]==="h"){if(/deg$/.test(h))return parseFloat(h);if(P[h]!==void 0)return P[h]}return parseFloat(h)}),u===t&&c.push(1),y=l||c[s]===void 0?1:c[s],c=c.slice(0,s)}else L.length>10&&/[0-9](?:\s|\/)/.test(L)&&(c=L.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=L.match(/([a-z])/ig).join("").toLowerCase());else isNaN(L)?Array.isArray(L)||L.length?(c=[L[0],L[1],L[2]],r="rgb",y=L.length===4?L[3]:1):L instanceof Object&&(L.r!=null||L.red!=null||L.R!=null?(r="rgb",c=[L.r||L.red||L.R||0,L.g||L.green||L.G||0,L.b||L.blue||L.B||0]):(r="hsl",c=[L.h||L.hue||L.H||0,L.s||L.saturation||L.S||0,L.l||L.lightness||L.L||L.b||L.brightness]),y=L.a||L.alpha||L.opacity||1,L.opacity!=null&&(y/=100)):(r="rgb",c=[L>>>16,(L&65280)>>>8,L&255]);return{space:r,values:c,alpha:y}}},53576:function(V,U,e){"use strict";var x=e(19336);V.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var i=P[0]/360,L=P[1]/100,C=P[2]/100,c,y,r,t,s;if(L===0)return s=C*255,[s,s,s];C<.5?y=C*(1+L):y=C+L-C*L,c=2*C-y,t=[0,0,0];for(var n=0;n<3;n++)r=i+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?s=c+(y-c)*6*r:2*r<1?s=y:3*r<2?s=c+(y-c)*(.6666666666666666-r)*6:s=c,t[n]=s*255;return t}},x.hsl=function(P){var i=P[0]/255,L=P[1]/255,C=P[2]/255,c=Math.min(i,L,C),y=Math.max(i,L,C),r=y-c,t,s,n;return y===c?t=0:i===y?t=(L-C)/r:L===y?t=2+(C-i)/r:C===y&&(t=4+(i-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(c+y)/2,y===c?s=0:n<=.5?s=r/(y+c):s=r/(2-y-c),[t,s*100,n*100]}},19336:function(V){"use strict";V.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(V){V.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xE7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xE9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xE9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xE3)o.?tom(e|\xE9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(V,U,e){"use strict";V.exports={parse:e(46416),stringify:e(49395)}},8744:function(V,U,e){"use strict";var x=e(30584);V.exports={isSize:function(i){return/^[\d\.]/.test(i)||i.indexOf("/")!==-1||x.indexOf(i)!==-1}}},46416:function(V,U,e){"use strict";var x=e(92384),P=e(68194),i=e(3748),L=e(2904),C=e(47916),c=e(7294),y=e(39956),r=e(8744).isSize;V.exports=s;var t=s.cache={};function s(u){if(typeof u!="string")throw new Error("Font argument must be a string.");if(t[u])return t[u];if(u==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(u)!==-1)return t[u]={system:u};for(var l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},f=y(u,/\s+/),g;g=f.shift();){if(P.indexOf(g)!==-1)return["style","variant","weight","stretch"].forEach(function(w){l[w]=g}),t[u]=l;if(C.indexOf(g)!==-1){l.style=g;continue}if(g==="normal"||g==="small-caps"){l.variant=g;continue}if(c.indexOf(g)!==-1){l.stretch=g;continue}if(L.indexOf(g)!==-1){l.weight=g;continue}if(r(g)){var h=y(g,"/");if(l.size=h[0],h[1]!=null?l.lineHeight=n(h[1]):f[0]==="/"&&(f.shift(),l.lineHeight=n(f.shift())),!f.length)throw new Error("Missing required font-family.");return l.family=y(f.join(" "),/\s*,\s*/).map(x),t[u]=l}throw new Error("Unknown or unsupported font token: "+g)}throw new Error("Missing required font-size.")}function n(u){var l=parseFloat(u);return l.toString()===u?l:u}},49395:function(V,U,e){"use strict";var x=e(55616),P=e(8744).isSize,i=u(e(68194)),L=u(e(3748)),C=u(e(2904)),c=u(e(47916)),y=u(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};V.exports=function(f){if(f=x(f,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),f.system)return f.system&&n(f.system,L),f.system;if(n(f.style,c),n(f.variant,r),n(f.weight,C),n(f.stretch,y),f.size==null&&(f.size=s.size),typeof f.size=="number"&&(f.size+="px"),!P)throw Error("Bad size value `"+f.size+"`");f.family||(f.family=s.family),Array.isArray(f.family)&&(f.family.length||(f.family=[s.family]),f.family=f.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var g=[];return g.push(f.style),f.variant!==f.style&&g.push(f.variant),f.weight!==f.variant&&f.weight!==f.style&&g.push(f.weight),f.stretch!==f.weight&&f.stretch!==f.variant&&f.stretch!==f.style&&g.push(f.stretch),g.push(f.size+(f.lineHeight==null||f.lineHeight==="normal"||f.lineHeight+""=="1"?"":"/"+f.lineHeight)),g.push(f.family),g.filter(Boolean).join(" ")};function n(l,f){if(l&&!f[l]&&!i[l])throw Error("Unknown keyword `"+l+"`");return l}function u(l){for(var f={},g=0;g<l.length;g++)f[l[g]]=1;return f}},27940:function(V,U,e){"use strict";var x=e(81680),P=e(18496),i=e(87396),L=e(95920),C=e(50868),c=e(84323),y=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,s;s=function(n,u,l){var f=P(u)&&i(u.value),g;return g=L(u),delete g.writable,delete g.value,g.get=function(){return!l.overwriteDefinition&&t.call(this,n)?f:(u.value=y.call(f,l.resolveContext?l.resolveContext(this):this),r(this,n,u),this[n])},g},V.exports=function(n){var u=C(arguments[1]);return x(u.resolveContext)&&i(u.resolveContext),c(n,function(l,f){return s(f,l,u)})}},21092:function(V,U,e){"use strict";var x=e(81680),P=e(85488),i=e(38452),L=e(50868),C=e(71056),c=V.exports=function(y,r){var t,s,n,u,l;return arguments.length<2||typeof y!="string"?(u=r,r=y,y=null):u=arguments[2],x(y)?(t=C.call(y,"c"),s=C.call(y,"e"),n=C.call(y,"w")):(t=n=!0,s=!1),l={value:r,configurable:t,enumerable:s,writable:n},u?i(L(u),l):l};c.gs=function(y,r,t){var s,n,u,l;return typeof y!="string"?(u=t,t=r,r=y,y=null):u=arguments[3],x(r)?P(r)?x(t)?P(t)||(u=t,t=void 0):t=void 0:(u=r,r=t=void 0):r=void 0,x(y)?(s=C.call(y,"c"),n=C.call(y,"e")):(s=!0,n=!1),l={get:r,set:t,configurable:s,enumerable:n},u?i(L(u),l):l}},84706:function(V,U,e){"use strict";e.d(U,{XE:function(){return x},kv:function(){return o},mo:function(){return A},Uf:function(){return b},SY:function(){return M},ik:function(){return m},oh:function(){return S}});function x(T,a){return T<a?-1:T>a?1:T>=a?0:NaN}function P(T){return T.length===1&&(T=i(T)),{left:function(a,E,p,k){for(p==null&&(p=0),k==null&&(k=a.length);p<k;){var R=p+k>>>1;T(a[R],E)<0?p=R+1:k=R}return p},right:function(a,E,p,k){for(p==null&&(p=0),k==null&&(k=a.length);p<k;){var R=p+k>>>1;T(a[R],E)>0?k=R:p=R+1}return p}}}function i(T){return function(a,E){return x(T(a),E)}}var L=P(x),C=L.right,c=L.left,y=null,r=Array.prototype,t=r.slice,s=r.map,n=Math.sqrt(50),u=Math.sqrt(10),l=Math.sqrt(2);function f(T,a,E){var p,k=-1,R,B,F;if(a=+a,T=+T,E=+E,T===a&&E>0)return[T];if((p=a<T)&&(R=T,T=a,a=R),(F=g(T,a,E))===0||!isFinite(F))return[];if(F>0)for(T=Math.ceil(T/F),a=Math.floor(a/F),B=new Array(R=Math.ceil(a-T+1));++k<R;)B[k]=(T+k)*F;else for(T=Math.floor(T*F),a=Math.ceil(a*F),B=new Array(R=Math.ceil(T-a+1));++k<R;)B[k]=(T-k)/F;return p&&B.reverse(),B}function g(T,a,E){var p=(a-T)/Math.max(0,E),k=Math.floor(Math.log(p)/Math.LN10),R=p/Math.pow(10,k);return k>=0?(R>=n?10:R>=u?5:R>=l?2:1)*Math.pow(10,k):-Math.pow(10,-k)/(R>=n?10:R>=u?5:R>=l?2:1)}function h(T,a,E){var p=Math.abs(a-T)/Math.max(0,E),k=Math.pow(10,Math.floor(Math.log(p)/Math.LN10)),R=p/k;return R>=n?k*=10:R>=u?k*=5:R>=l&&(k*=2),a<T?-k:k}function w(){var T=identity,a=extent,E=sturges;function p(k){var R,B=k.length,F,_=new Array(B);for(R=0;R<B;++R)_[R]=T(k[R],R,k);var O=a(_),z=O[0],N=O[1],Y=E(_,z,N);Array.isArray(Y)||(Y=tickStep(z,N,Y),Y=range(Math.ceil(z/Y)*Y,N,Y));for(var J=Y.length;Y[0]<=z;)Y.shift(),--J;for(;Y[J-1]>N;)Y.pop(),--J;var ae=new Array(J+1),se;for(R=0;R<=J;++R)se=ae[R]=[],se.x0=R>0?Y[R-1]:z,se.x1=R<J?Y[R]:N;for(R=0;R<B;++R)F=_[R],z<=F&&F<=N&&ae[bisect(Y,F,0,J)].push(k[R]);return ae}return p.value=function(k){return arguments.length?(T=typeof k=="function"?k:constant(k),p):T},p.domain=function(k){return arguments.length?(a=typeof k=="function"?k:constant([k[0],k[1]]),p):a},p.thresholds=function(k){return arguments.length?(E=typeof k=="function"?k:Array.isArray(k)?constant(slice.call(k)):constant(k),p):E},p}function d(T,a,E){return T=map.call(T,number).sort(ascending),Math.ceil((E-a)/(2*(quantile(T,.75)-quantile(T,.25))*Math.pow(T.length,-.3333333333333333)))}function o(T,a){var E=T.length,p=-1,k,R;if(a==null){for(;++p<E;)if((k=T[p])!=null&&k>=k)for(R=k;++p<E;)(k=T[p])!=null&&k>R&&(R=k)}else for(;++p<E;)if((k=a(T[p],p,T))!=null&&k>=k)for(R=k;++p<E;)(k=a(T[p],p,T))!=null&&k>R&&(R=k);return R}function v(T){return T===null?NaN:+T}function A(T,a){var E=T.length,p=E,k=-1,R,B=0;if(a==null)for(;++k<E;)isNaN(R=v(T[k]))?--p:B+=R;else for(;++k<E;)isNaN(R=v(a(T[k],k,T)))?--p:B+=R;if(p)return B/p}function b(T){for(var a=T.length,E,p=-1,k=0,R,B;++p<a;)k+=T[p].length;for(R=new Array(k);--a>=0;)for(B=T[a],E=B.length;--E>=0;)R[--k]=B[E];return R}function M(T,a){var E=T.length,p=-1,k,R;if(a==null){for(;++p<E;)if((k=T[p])!=null&&k>=k)for(R=k;++p<E;)(k=T[p])!=null&&R>k&&(R=k)}else for(;++p<E;)if((k=a(T[p],p,T))!=null&&k>=k)for(R=k;++p<E;)(k=a(T[p],p,T))!=null&&R>k&&(R=k);return R}function m(T,a,E){T=+T,a=+a,E=(k=arguments.length)<2?(a=T,T=0,1):k<3?1:+E;for(var p=-1,k=Math.max(0,Math.ceil((a-T)/E))|0,R=new Array(k);++p<k;)R[p]=T+p*E;return R}function S(T,a){var E=T.length,p=-1,k,R=0;if(a==null)for(;++p<E;)(k=+T[p])&&(R+=k);else for(;++p<E;)(k=+a(T[p],p,T))&&(R+=k);return R}},34712:function(V,U,e){"use strict";e.d(U,{kH:function(){return L},UJ:function(){return C}});var x="$";function P(){}P.prototype=i.prototype={constructor:P,has:function(f){return x+f in this},get:function(f){return this[x+f]},set:function(f,g){return this[x+f]=g,this},remove:function(f){var g=x+f;return g in this&&delete this[g]},clear:function(){for(var f in this)f[0]===x&&delete this[f]},keys:function(){var f=[];for(var g in this)g[0]===x&&f.push(g.slice(1));return f},values:function(){var f=[];for(var g in this)g[0]===x&&f.push(this[g]);return f},entries:function(){var f=[];for(var g in this)g[0]===x&&f.push({key:g.slice(1),value:this[g]});return f},size:function(){var f=0;for(var g in this)g[0]===x&&++f;return f},empty:function(){for(var f in this)if(f[0]===x)return!1;return!0},each:function(f){for(var g in this)g[0]===x&&f(this[g],g.slice(1),this)}};function i(f,g){var h=new P;if(f instanceof P)f.each(function(A,b){h.set(b,A)});else if(Array.isArray(f)){var w=-1,d=f.length,o;if(g==null)for(;++w<d;)h.set(w,f[w]);else for(;++w<d;)h.set(g(o=f[w],w,f),o)}else if(f)for(var v in f)h.set(v,f[v]);return h}var L=i;function C(){var f=[],g=[],h,w,d;function o(A,b,M,m){if(b>=f.length)return h!=null&&A.sort(h),w!=null?w(A):A;for(var S=-1,T=A.length,a=f[b++],E,p,k=L(),R,B=M();++S<T;)(R=k.get(E=a(p=A[S])+""))?R.push(p):k.set(E,[p]);return k.each(function(F,_){m(B,_,o(F,b,M,m))}),B}function v(A,b){if(++b>f.length)return A;var M,m=g[b-1];return w!=null&&b>=f.length?M=A.entries():(M=[],A.each(function(S,T){M.push({key:T,values:v(S,b)})})),m!=null?M.sort(function(S,T){return m(S.key,T.key)}):M}return d={object:function(A){return o(A,0,c,y)},map:function(A){return o(A,0,r,t)},entries:function(A){return v(o(A,0,r,t),0)},key:function(A){return f.push(A),d},sortKeys:function(A){return g[f.length-1]=A,d},sortValues:function(A){return h=A,d},rollup:function(A){return w=A,d}}}function c(){return{}}function y(f,g,h){f[g]=h}function r(){return L()}function t(f,g,h){f.set(g,h)}function s(){}var n=L.prototype;s.prototype=u.prototype={constructor:s,has:n.has,add:function(f){return f+="",this[x+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each};function u(f,g){var h=new s;if(f instanceof s)f.each(function(o){h.add(o)});else if(f){var w=-1,d=f.length;if(g==null)for(;++w<d;)h.add(f[w]);else for(;++w<d;)h.add(g(f[w],w,f))}return h}var l=null},49812:function(V,U,e){"use strict";e.r(U),e.d(U,{forceCenter:function(){return x},forceCollide:function(){return E},forceLink:function(){return B},forceManyBody:function(){return Ye},forceRadial:function(){return lt},forceSimulation:function(){return ke},forceX:function(){return yt},forceY:function(){return He}});function x(Fe,nt){var ot;Fe==null&&(Fe=0),nt==null&&(nt=0);function ct(){var ht,mt=ot.length,tt,Re=0,Ge=0;for(ht=0;ht<mt;++ht)tt=ot[ht],Re+=tt.x,Ge+=tt.y;for(Re=Re/mt-Fe,Ge=Ge/mt-nt,ht=0;ht<mt;++ht)tt=ot[ht],tt.x-=Re,tt.y-=Ge}return ct.initialize=function(ht){ot=ht},ct.x=function(ht){return arguments.length?(Fe=+ht,ct):Fe},ct.y=function(ht){return arguments.length?(nt=+ht,ct):nt},ct}function P(Fe){return function(){return Fe}}function i(){return(Math.random()-.5)*1e-6}function L(Fe){var nt=+this._x.call(null,Fe),ot=+this._y.call(null,Fe);return C(this.cover(nt,ot),nt,ot,Fe)}function C(Fe,nt,ot,ct){if(isNaN(nt)||isNaN(ot))return Fe;var ht,mt=Fe._root,tt={data:ct},Re=Fe._x0,Ge=Fe._y0,Je=Fe._x1,Xe=Fe._y1,Oe,Ne,ze,et,Le,Te,ye,Se;if(!mt)return Fe._root=tt,Fe;for(;mt.length;)if((Le=nt>=(Oe=(Re+Je)/2))?Re=Oe:Je=Oe,(Te=ot>=(Ne=(Ge+Xe)/2))?Ge=Ne:Xe=Ne,ht=mt,!(mt=mt[ye=Te<<1|Le]))return ht[ye]=tt,Fe;if(ze=+Fe._x.call(null,mt.data),et=+Fe._y.call(null,mt.data),nt===ze&&ot===et)return tt.next=mt,ht?ht[ye]=tt:Fe._root=tt,Fe;do ht=ht?ht[ye]=new Array(4):Fe._root=new Array(4),(Le=nt>=(Oe=(Re+Je)/2))?Re=Oe:Je=Oe,(Te=ot>=(Ne=(Ge+Xe)/2))?Ge=Ne:Xe=Ne;while((ye=Te<<1|Le)===(Se=(et>=Ne)<<1|ze>=Oe));return ht[Se]=mt,ht[ye]=tt,Fe}function c(Fe){var nt,ot,ct=Fe.length,ht,mt,tt=new Array(ct),Re=new Array(ct),Ge=1/0,Je=1/0,Xe=-1/0,Oe=-1/0;for(ot=0;ot<ct;++ot)isNaN(ht=+this._x.call(null,nt=Fe[ot]))||isNaN(mt=+this._y.call(null,nt))||(tt[ot]=ht,Re[ot]=mt,ht<Ge&&(Ge=ht),ht>Xe&&(Xe=ht),mt<Je&&(Je=mt),mt>Oe&&(Oe=mt));if(Ge>Xe||Je>Oe)return this;for(this.cover(Ge,Je).cover(Xe,Oe),ot=0;ot<ct;++ot)C(this,tt[ot],Re[ot],Fe[ot]);return this}function y(Fe,nt){if(isNaN(Fe=+Fe)||isNaN(nt=+nt))return this;var ot=this._x0,ct=this._y0,ht=this._x1,mt=this._y1;if(isNaN(ot))ht=(ot=Math.floor(Fe))+1,mt=(ct=Math.floor(nt))+1;else{for(var tt=ht-ot,Re=this._root,Ge,Je;ot>Fe||Fe>=ht||ct>nt||nt>=mt;)switch(Je=(nt<ct)<<1|Fe<ot,Ge=new Array(4),Ge[Je]=Re,Re=Ge,tt*=2,Je){case 0:ht=ot+tt,mt=ct+tt;break;case 1:ot=ht-tt,mt=ct+tt;break;case 2:ht=ot+tt,ct=mt-tt;break;case 3:ot=ht-tt,ct=mt-tt;break}this._root&&this._root.length&&(this._root=Re)}return this._x0=ot,this._y0=ct,this._x1=ht,this._y1=mt,this}function r(){var Fe=[];return this.visit(function(nt){if(!nt.length)do Fe.push(nt.data);while(nt=nt.next)}),Fe}function t(Fe){return arguments.length?this.cover(+Fe[0][0],+Fe[0][1]).cover(+Fe[1][0],+Fe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(Fe,nt,ot,ct,ht){this.node=Fe,this.x0=nt,this.y0=ot,this.x1=ct,this.y1=ht}function n(Fe,nt,ot){var ct,ht=this._x0,mt=this._y0,tt,Re,Ge,Je,Xe=this._x1,Oe=this._y1,Ne=[],ze=this._root,et,Le;for(ze&&Ne.push(new s(ze,ht,mt,Xe,Oe)),ot==null?ot=1/0:(ht=Fe-ot,mt=nt-ot,Xe=Fe+ot,Oe=nt+ot,ot*=ot);et=Ne.pop();)if(!(!(ze=et.node)||(tt=et.x0)>Xe||(Re=et.y0)>Oe||(Ge=et.x1)<ht||(Je=et.y1)<mt))if(ze.length){var Te=(tt+Ge)/2,ye=(Re+Je)/2;Ne.push(new s(ze[3],Te,ye,Ge,Je),new s(ze[2],tt,ye,Te,Je),new s(ze[1],Te,Re,Ge,ye),new s(ze[0],tt,Re,Te,ye)),(Le=(nt>=ye)<<1|Fe>=Te)&&(et=Ne[Ne.length-1],Ne[Ne.length-1]=Ne[Ne.length-1-Le],Ne[Ne.length-1-Le]=et)}else{var Se=Fe-+this._x.call(null,ze.data),Ke=nt-+this._y.call(null,ze.data),rt=Se*Se+Ke*Ke;if(rt<ot){var Lt=Math.sqrt(ot=rt);ht=Fe-Lt,mt=nt-Lt,Xe=Fe+Lt,Oe=nt+Lt,ct=ze.data}}return ct}function u(Fe){if(isNaN(Xe=+this._x.call(null,Fe))||isNaN(Oe=+this._y.call(null,Fe)))return this;var nt,ot=this._root,ct,ht,mt,tt=this._x0,Re=this._y0,Ge=this._x1,Je=this._y1,Xe,Oe,Ne,ze,et,Le,Te,ye;if(!ot)return this;if(ot.length)for(;;){if((et=Xe>=(Ne=(tt+Ge)/2))?tt=Ne:Ge=Ne,(Le=Oe>=(ze=(Re+Je)/2))?Re=ze:Je=ze,nt=ot,!(ot=ot[Te=Le<<1|et]))return this;if(!ot.length)break;(nt[Te+1&3]||nt[Te+2&3]||nt[Te+3&3])&&(ct=nt,ye=Te)}for(;ot.data!==Fe;)if(ht=ot,!(ot=ot.next))return this;return(mt=ot.next)&&delete ot.next,ht?(mt?ht.next=mt:delete ht.next,this):nt?(mt?nt[Te]=mt:delete nt[Te],(ot=nt[0]||nt[1]||nt[2]||nt[3])&&ot===(nt[3]||nt[2]||nt[1]||nt[0])&&!ot.length&&(ct?ct[ye]=ot:this._root=ot),this):(this._root=mt,this)}function l(Fe){for(var nt=0,ot=Fe.length;nt<ot;++nt)this.remove(Fe[nt]);return this}function f(){return this._root}function g(){var Fe=0;return this.visit(function(nt){if(!nt.length)do++Fe;while(nt=nt.next)}),Fe}function h(Fe){var nt=[],ot,ct=this._root,ht,mt,tt,Re,Ge;for(ct&&nt.push(new s(ct,this._x0,this._y0,this._x1,this._y1));ot=nt.pop();)if(!Fe(ct=ot.node,mt=ot.x0,tt=ot.y0,Re=ot.x1,Ge=ot.y1)&&ct.length){var Je=(mt+Re)/2,Xe=(tt+Ge)/2;(ht=ct[3])&&nt.push(new s(ht,Je,Xe,Re,Ge)),(ht=ct[2])&&nt.push(new s(ht,mt,Xe,Je,Ge)),(ht=ct[1])&&nt.push(new s(ht,Je,tt,Re,Xe)),(ht=ct[0])&&nt.push(new s(ht,mt,tt,Je,Xe))}return this}function w(Fe){var nt=[],ot=[],ct;for(this._root&&nt.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));ct=nt.pop();){var ht=ct.node;if(ht.length){var mt,tt=ct.x0,Re=ct.y0,Ge=ct.x1,Je=ct.y1,Xe=(tt+Ge)/2,Oe=(Re+Je)/2;(mt=ht[0])&&nt.push(new s(mt,tt,Re,Xe,Oe)),(mt=ht[1])&&nt.push(new s(mt,Xe,Re,Ge,Oe)),(mt=ht[2])&&nt.push(new s(mt,tt,Oe,Xe,Je)),(mt=ht[3])&&nt.push(new s(mt,Xe,Oe,Ge,Je))}ot.push(ct)}for(;ct=ot.pop();)Fe(ct.node,ct.x0,ct.y0,ct.x1,ct.y1);return this}function d(Fe){return Fe[0]}function o(Fe){return arguments.length?(this._x=Fe,this):this._x}function v(Fe){return Fe[1]}function A(Fe){return arguments.length?(this._y=Fe,this):this._y}function b(Fe,nt,ot){var ct=new M(nt==null?d:nt,ot==null?v:ot,NaN,NaN,NaN,NaN);return Fe==null?ct:ct.addAll(Fe)}function M(Fe,nt,ot,ct,ht,mt){this._x=Fe,this._y=nt,this._x0=ot,this._y0=ct,this._x1=ht,this._y1=mt,this._root=void 0}function m(Fe){for(var nt={data:Fe.data},ot=nt;Fe=Fe.next;)ot=ot.next={data:Fe.data};return nt}var S=b.prototype=M.prototype;S.copy=function(){var Fe=new M(this._x,this._y,this._x0,this._y0,this._x1,this._y1),nt=this._root,ot,ct;if(!nt)return Fe;if(!nt.length)return Fe._root=m(nt),Fe;for(ot=[{source:nt,target:Fe._root=new Array(4)}];nt=ot.pop();)for(var ht=0;ht<4;++ht)(ct=nt.source[ht])&&(ct.length?ot.push({source:ct,target:nt.target[ht]=new Array(4)}):nt.target[ht]=m(ct));return Fe},S.add=L,S.addAll=c,S.cover=y,S.data=r,S.extent=t,S.find=n,S.remove=u,S.removeAll=l,S.root=f,S.size=g,S.visit=h,S.visitAfter=w,S.x=o,S.y=A;function T(Fe){return Fe.x+Fe.vx}function a(Fe){return Fe.y+Fe.vy}function E(Fe){var nt,ot,ct=1,ht=1;typeof Fe!="function"&&(Fe=P(Fe==null?1:+Fe));function mt(){for(var Ge,Je=nt.length,Xe,Oe,Ne,ze,et,Le,Te=0;Te<ht;++Te)for(Xe=b(nt,T,a).visitAfter(tt),Ge=0;Ge<Je;++Ge)Oe=nt[Ge],et=ot[Oe.index],Le=et*et,Ne=Oe.x+Oe.vx,ze=Oe.y+Oe.vy,Xe.visit(ye);function ye(Se,Ke,rt,Lt,It){var wt=Se.data,Et=Se.r,Wt=et+Et;if(wt){if(wt.index>Oe.index){var vr=Ne-wt.x-wt.vx,dt=ze-wt.y-wt.vy,Yt=vr*vr+dt*dt;Yt<Wt*Wt&&(vr===0&&(vr=i(),Yt+=vr*vr),dt===0&&(dt=i(),Yt+=dt*dt),Yt=(Wt-(Yt=Math.sqrt(Yt)))/Yt*ct,Oe.vx+=(vr*=Yt)*(Wt=(Et*=Et)/(Le+Et)),Oe.vy+=(dt*=Yt)*Wt,wt.vx-=vr*(Wt=1-Wt),wt.vy-=dt*Wt)}return}return Ke>Ne+Wt||Lt<Ne-Wt||rt>ze+Wt||It<ze-Wt}}function tt(Ge){if(Ge.data)return Ge.r=ot[Ge.data.index];for(var Je=Ge.r=0;Je<4;++Je)Ge[Je]&&Ge[Je].r>Ge.r&&(Ge.r=Ge[Je].r)}function Re(){if(nt){var Ge,Je=nt.length,Xe;for(ot=new Array(Je),Ge=0;Ge<Je;++Ge)Xe=nt[Ge],ot[Xe.index]=+Fe(Xe,Ge,nt)}}return mt.initialize=function(Ge){nt=Ge,Re()},mt.iterations=function(Ge){return arguments.length?(ht=+Ge,mt):ht},mt.strength=function(Ge){return arguments.length?(ct=+Ge,mt):ct},mt.radius=function(Ge){return arguments.length?(Fe=typeof Ge=="function"?Ge:P(+Ge),Re(),mt):Fe},mt}var p=e(34712);function k(Fe){return Fe.index}function R(Fe,nt){var ot=Fe.get(nt);if(!ot)throw new Error("missing: "+nt);return ot}function B(Fe){var nt=k,ot=Xe,ct,ht=P(30),mt,tt,Re,Ge,Je=1;Fe==null&&(Fe=[]);function Xe(Le){return 1/Math.min(Re[Le.source.index],Re[Le.target.index])}function Oe(Le){for(var Te=0,ye=Fe.length;Te<Je;++Te)for(var Se=0,Ke,rt,Lt,It,wt,Et,Wt;Se<ye;++Se)Ke=Fe[Se],rt=Ke.source,Lt=Ke.target,It=Lt.x+Lt.vx-rt.x-rt.vx||i(),wt=Lt.y+Lt.vy-rt.y-rt.vy||i(),Et=Math.sqrt(It*It+wt*wt),Et=(Et-mt[Se])/Et*Le*ct[Se],It*=Et,wt*=Et,Lt.vx-=It*(Wt=Ge[Se]),Lt.vy-=wt*Wt,rt.vx+=It*(Wt=1-Wt),rt.vy+=wt*Wt}function Ne(){if(tt){var Le,Te=tt.length,ye=Fe.length,Se=(0,p.kH)(tt,nt),Ke;for(Le=0,Re=new Array(Te);Le<ye;++Le)Ke=Fe[Le],Ke.index=Le,typeof Ke.source!="object"&&(Ke.source=R(Se,Ke.source)),typeof Ke.target!="object"&&(Ke.target=R(Se,Ke.target)),Re[Ke.source.index]=(Re[Ke.source.index]||0)+1,Re[Ke.target.index]=(Re[Ke.target.index]||0)+1;for(Le=0,Ge=new Array(ye);Le<ye;++Le)Ke=Fe[Le],Ge[Le]=Re[Ke.source.index]/(Re[Ke.source.index]+Re[Ke.target.index]);ct=new Array(ye),ze(),mt=new Array(ye),et()}}function ze(){if(tt)for(var Le=0,Te=Fe.length;Le<Te;++Le)ct[Le]=+ot(Fe[Le],Le,Fe)}function et(){if(tt)for(var Le=0,Te=Fe.length;Le<Te;++Le)mt[Le]=+ht(Fe[Le],Le,Fe)}return Oe.initialize=function(Le){tt=Le,Ne()},Oe.links=function(Le){return arguments.length?(Fe=Le,Ne(),Oe):Fe},Oe.id=function(Le){return arguments.length?(nt=Le,Oe):nt},Oe.iterations=function(Le){return arguments.length?(Je=+Le,Oe):Je},Oe.strength=function(Le){return arguments.length?(ot=typeof Le=="function"?Le:P(+Le),ze(),Oe):ot},Oe.distance=function(Le){return arguments.length?(ht=typeof Le=="function"?Le:P(+Le),et(),Oe):ht},Oe}var F={value:function(){}};function _(){for(var Fe=0,nt=arguments.length,ot={},ct;Fe<nt;++Fe){if(!(ct=arguments[Fe]+"")||ct in ot||/[\s.]/.test(ct))throw new Error("illegal type: "+ct);ot[ct]=[]}return new O(ot)}function O(Fe){this._=Fe}function z(Fe,nt){return Fe.trim().split(/^|\s+/).map(function(ot){var ct="",ht=ot.indexOf(".");if(ht>=0&&(ct=ot.slice(ht+1),ot=ot.slice(0,ht)),ot&&!nt.hasOwnProperty(ot))throw new Error("unknown type: "+ot);return{type:ot,name:ct}})}O.prototype=_.prototype={constructor:O,on:function(Fe,nt){var ot=this._,ct=z(Fe+"",ot),ht,mt=-1,tt=ct.length;if(arguments.length<2){for(;++mt<tt;)if((ht=(Fe=ct[mt]).type)&&(ht=N(ot[ht],Fe.name)))return ht;return}if(nt!=null&&typeof nt!="function")throw new Error("invalid callback: "+nt);for(;++mt<tt;)if(ht=(Fe=ct[mt]).type)ot[ht]=Y(ot[ht],Fe.name,nt);else if(nt==null)for(ht in ot)ot[ht]=Y(ot[ht],Fe.name,null);return this},copy:function(){var Fe={},nt=this._;for(var ot in nt)Fe[ot]=nt[ot].slice();return new O(Fe)},call:function(Fe,nt){if((ht=arguments.length-2)>0)for(var ot=new Array(ht),ct=0,ht,mt;ct<ht;++ct)ot[ct]=arguments[ct+2];if(!this._.hasOwnProperty(Fe))throw new Error("unknown type: "+Fe);for(mt=this._[Fe],ct=0,ht=mt.length;ct<ht;++ct)mt[ct].value.apply(nt,ot)},apply:function(Fe,nt,ot){if(!this._.hasOwnProperty(Fe))throw new Error("unknown type: "+Fe);for(var ct=this._[Fe],ht=0,mt=ct.length;ht<mt;++ht)ct[ht].value.apply(nt,ot)}};function N(Fe,nt){for(var ot=0,ct=Fe.length,ht;ot<ct;++ot)if((ht=Fe[ot]).name===nt)return ht.value}function Y(Fe,nt,ot){for(var ct=0,ht=Fe.length;ct<ht;++ct)if(Fe[ct].name===nt){Fe[ct]=F,Fe=Fe.slice(0,ct).concat(Fe.slice(ct+1));break}return ot!=null&&Fe.push({name:nt,value:ot}),Fe}var J=_,ae=0,se=0,ue=0,K=1e3,j,ie,W=0,Q=0,ee=0,$=typeof performance=="object"&&performance.now?performance:Date,X=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Fe){setTimeout(Fe,17)};function oe(){return Q||(X(te),Q=$.now()+ee)}function te(){Q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=pe.prototype={constructor:fe,restart:function(Fe,nt,ot){if(typeof Fe!="function")throw new TypeError("callback is not a function");ot=(ot==null?oe():+ot)+(nt==null?0:+nt),!this._next&&ie!==this&&(ie?ie._next=this:j=this,ie=this),this._call=Fe,this._time=ot,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function pe(Fe,nt,ot){var ct=new fe;return ct.restart(Fe,nt,ot),ct}function Ae(){oe(),++ae;for(var Fe=j,nt;Fe;)(nt=Q-Fe._time)>=0&&Fe._call.call(null,nt),Fe=Fe._next;--ae}function be(){Q=(W=$.now())+ee,ae=se=0;try{Ae()}finally{ae=0,me(),Q=0}}function Pe(){var Fe=$.now(),nt=Fe-W;nt>K&&(ee-=nt,W=Fe)}function me(){for(var Fe,nt=j,ot,ct=1/0;nt;)nt._call?(ct>nt._time&&(ct=nt._time),Fe=nt,nt=nt._next):(ot=nt._next,nt._next=null,nt=Fe?Fe._next=ot:j=ot);ie=Fe,Ee(ct)}function Ee(Fe){if(!ae){se&&(se=clearTimeout(se));var nt=Fe-Q;nt>24?(Fe<1/0&&(se=setTimeout(be,Fe-$.now()-ee)),ue&&(ue=clearInterval(ue))):(ue||(W=$.now(),ue=setInterval(Pe,K)),ae=1,X(be))}}function xe(Fe){return Fe.x}function De(Fe){return Fe.y}var Ve=10,Ze=Math.PI*(3-Math.sqrt(5));function ke(Fe){var nt,ot=1,ct=.001,ht=1-Math.pow(ct,1/300),mt=0,tt=.6,Re=(0,p.kH)(),Ge=pe(Xe),Je=J("tick","end");Fe==null&&(Fe=[]);function Xe(){Oe(),Je.call("tick",nt),ot<ct&&(Ge.stop(),Je.call("end",nt))}function Oe(et){var Le,Te=Fe.length,ye;et===void 0&&(et=1);for(var Se=0;Se<et;++Se)for(ot+=(mt-ot)*ht,Re.each(function(Ke){Ke(ot)}),Le=0;Le<Te;++Le)ye=Fe[Le],ye.fx==null?ye.x+=ye.vx*=tt:(ye.x=ye.fx,ye.vx=0),ye.fy==null?ye.y+=ye.vy*=tt:(ye.y=ye.fy,ye.vy=0);return nt}function Ne(){for(var et=0,Le=Fe.length,Te;et<Le;++et){if(Te=Fe[et],Te.index=et,Te.fx!=null&&(Te.x=Te.fx),Te.fy!=null&&(Te.y=Te.fy),isNaN(Te.x)||isNaN(Te.y)){var ye=Ve*Math.sqrt(et),Se=et*Ze;Te.x=ye*Math.cos(Se),Te.y=ye*Math.sin(Se)}(isNaN(Te.vx)||isNaN(Te.vy))&&(Te.vx=Te.vy=0)}}function ze(et){return et.initialize&&et.initialize(Fe),et}return Ne(),nt={tick:Oe,restart:function(){return Ge.restart(Xe),nt},stop:function(){return Ge.stop(),nt},nodes:function(et){return arguments.length?(Fe=et,Ne(),Re.each(ze),nt):Fe},alpha:function(et){return arguments.length?(ot=+et,nt):ot},alphaMin:function(et){return arguments.length?(ct=+et,nt):ct},alphaDecay:function(et){return arguments.length?(ht=+et,nt):+ht},alphaTarget:function(et){return arguments.length?(mt=+et,nt):mt},velocityDecay:function(et){return arguments.length?(tt=1-et,nt):1-tt},force:function(et,Le){return arguments.length>1?(Le==null?Re.remove(et):Re.set(et,ze(Le)),nt):Re.get(et)},find:function(et,Le,Te){var ye=0,Se=Fe.length,Ke,rt,Lt,It,wt;for(Te==null?Te=1/0:Te*=Te,ye=0;ye<Se;++ye)It=Fe[ye],Ke=et-It.x,rt=Le-It.y,Lt=Ke*Ke+rt*rt,Lt<Te&&(wt=It,Te=Lt);return wt},on:function(et,Le){return arguments.length>1?(Je.on(et,Le),nt):Je.on(et)}}}function Ye(){var Fe,nt,ot,ct=P(-30),ht,mt=1,tt=1/0,Re=.81;function Ge(Ne){var ze,et=Fe.length,Le=b(Fe,xe,De).visitAfter(Xe);for(ot=Ne,ze=0;ze<et;++ze)nt=Fe[ze],Le.visit(Oe)}function Je(){if(Fe){var Ne,ze=Fe.length,et;for(ht=new Array(ze),Ne=0;Ne<ze;++Ne)et=Fe[Ne],ht[et.index]=+ct(et,Ne,Fe)}}function Xe(Ne){var ze=0,et,Le,Te=0,ye,Se,Ke;if(Ne.length){for(ye=Se=Ke=0;Ke<4;++Ke)(et=Ne[Ke])&&(Le=Math.abs(et.value))&&(ze+=et.value,Te+=Le,ye+=Le*et.x,Se+=Le*et.y);Ne.x=ye/Te,Ne.y=Se/Te}else{et=Ne,et.x=et.data.x,et.y=et.data.y;do ze+=ht[et.data.index];while(et=et.next)}Ne.value=ze}function Oe(Ne,ze,et,Le){if(!Ne.value)return!0;var Te=Ne.x-nt.x,ye=Ne.y-nt.y,Se=Le-ze,Ke=Te*Te+ye*ye;if(Se*Se/Re<Ke)return Ke<tt&&(Te===0&&(Te=i(),Ke+=Te*Te),ye===0&&(ye=i(),Ke+=ye*ye),Ke<mt&&(Ke=Math.sqrt(mt*Ke)),nt.vx+=Te*Ne.value*ot/Ke,nt.vy+=ye*Ne.value*ot/Ke),!0;if(Ne.length||Ke>=tt)return;(Ne.data!==nt||Ne.next)&&(Te===0&&(Te=i(),Ke+=Te*Te),ye===0&&(ye=i(),Ke+=ye*ye),Ke<mt&&(Ke=Math.sqrt(mt*Ke)));do Ne.data!==nt&&(Se=ht[Ne.data.index]*ot/Ke,nt.vx+=Te*Se,nt.vy+=ye*Se);while(Ne=Ne.next)}return Ge.initialize=function(Ne){Fe=Ne,Je()},Ge.strength=function(Ne){return arguments.length?(ct=typeof Ne=="function"?Ne:P(+Ne),Je(),Ge):ct},Ge.distanceMin=function(Ne){return arguments.length?(mt=Ne*Ne,Ge):Math.sqrt(mt)},Ge.distanceMax=function(Ne){return arguments.length?(tt=Ne*Ne,Ge):Math.sqrt(tt)},Ge.theta=function(Ne){return arguments.length?(Re=Ne*Ne,Ge):Math.sqrt(Re)},Ge}function lt(Fe,nt,ot){var ct,ht=P(.1),mt,tt;typeof Fe!="function"&&(Fe=P(+Fe)),nt==null&&(nt=0),ot==null&&(ot=0);function Re(Je){for(var Xe=0,Oe=ct.length;Xe<Oe;++Xe){var Ne=ct[Xe],ze=Ne.x-nt||1e-6,et=Ne.y-ot||1e-6,Le=Math.sqrt(ze*ze+et*et),Te=(tt[Xe]-Le)*mt[Xe]*Je/Le;Ne.vx+=ze*Te,Ne.vy+=et*Te}}function Ge(){if(ct){var Je,Xe=ct.length;for(mt=new Array(Xe),tt=new Array(Xe),Je=0;Je<Xe;++Je)tt[Je]=+Fe(ct[Je],Je,ct),mt[Je]=isNaN(tt[Je])?0:+ht(ct[Je],Je,ct)}}return Re.initialize=function(Je){ct=Je,Ge()},Re.strength=function(Je){return arguments.length?(ht=typeof Je=="function"?Je:P(+Je),Ge(),Re):ht},Re.radius=function(Je){return arguments.length?(Fe=typeof Je=="function"?Je:P(+Je),Ge(),Re):Fe},Re.x=function(Je){return arguments.length?(nt=+Je,Re):nt},Re.y=function(Je){return arguments.length?(ot=+Je,Re):ot},Re}function yt(Fe){var nt=P(.1),ot,ct,ht;typeof Fe!="function"&&(Fe=P(Fe==null?0:+Fe));function mt(Re){for(var Ge=0,Je=ot.length,Xe;Ge<Je;++Ge)Xe=ot[Ge],Xe.vx+=(ht[Ge]-Xe.x)*ct[Ge]*Re}function tt(){if(ot){var Re,Ge=ot.length;for(ct=new Array(Ge),ht=new Array(Ge),Re=0;Re<Ge;++Re)ct[Re]=isNaN(ht[Re]=+Fe(ot[Re],Re,ot))?0:+nt(ot[Re],Re,ot)}}return mt.initialize=function(Re){ot=Re,tt()},mt.strength=function(Re){return arguments.length?(nt=typeof Re=="function"?Re:P(+Re),tt(),mt):nt},mt.x=function(Re){return arguments.length?(Fe=typeof Re=="function"?Re:P(+Re),tt(),mt):Fe},mt}function He(Fe){var nt=P(.1),ot,ct,ht;typeof Fe!="function"&&(Fe=P(Fe==null?0:+Fe));function mt(Re){for(var Ge=0,Je=ot.length,Xe;Ge<Je;++Ge)Xe=ot[Ge],Xe.vy+=(ht[Ge]-Xe.y)*ct[Ge]*Re}function tt(){if(ot){var Re,Ge=ot.length;for(ct=new Array(Ge),ht=new Array(Ge),Re=0;Re<Ge;++Re)ct[Re]=isNaN(ht[Re]=+Fe(ot[Re],Re,ot))?0:+nt(ot[Re],Re,ot)}}return mt.initialize=function(Re){ot=Re,tt()},mt.strength=function(Re){return arguments.length?(nt=typeof Re=="function"?Re:P(+Re),tt(),mt):nt},mt.y=function(Re){return arguments.length?(Fe=typeof Re=="function"?Re:P(+Re),tt(),mt):Fe},mt}},57624:function(V,U,e){"use strict";e.d(U,{E9:function(){return o},SO:function(){return w}});function x(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function P(b,M){if((m=(b=M?b.toExponential(M-1):b.toExponential()).indexOf("e"))<0)return null;var m,S=b.slice(0,m);return[S.length>1?S[0]+S.slice(2):S,+b.slice(m+1)]}function i(b){return b=P(Math.abs(b)),b?b[1]:NaN}function L(b,M){return function(m,S){for(var T=m.length,a=[],E=0,p=b[0],k=0;T>0&&p>0&&(k+p+1>S&&(p=Math.max(1,S-k)),a.push(m.substring(T-=p,T+p)),!((k+=p+1)>S));)p=b[E=(E+1)%b.length];return a.reverse().join(M)}}function C(b){return function(M){return M.replace(/[0-9]/g,function(m){return b[+m]})}}var c=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y(b){if(!(M=c.exec(b)))throw new Error("invalid format: "+b);var M;return new r({fill:M[1],align:M[2],sign:M[3],symbol:M[4],zero:M[5],width:M[6],comma:M[7],precision:M[8]&&M[8].slice(1),trim:M[9],type:M[10]})}y.prototype=r.prototype;function r(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var M=b.length,m=1,S=-1,T;m<M;++m)switch(b[m]){case".":S=T=m;break;case"0":S===0&&(S=m),T=m;break;default:if(!+b[m])break e;S>0&&(S=0);break}return S>0?b.slice(0,S)+b.slice(T+1):b}var s;function n(b,M){var m=P(b,M);if(!m)return b+"";var S=m[0],T=m[1],a=T-(s=Math.max(-8,Math.min(8,Math.floor(T/3)))*3)+1,E=S.length;return a===E?S:a>E?S+new Array(a-E+1).join("0"):a>0?S.slice(0,a)+"."+S.slice(a):"0."+new Array(1-a).join("0")+P(b,Math.max(0,M+a-1))[0]}function u(b,M){var m=P(b,M);if(!m)return b+"";var S=m[0],T=m[1];return T<0?"0."+new Array(-T).join("0")+S:S.length>T+1?S.slice(0,T+1)+"."+S.slice(T+1):S+new Array(T-S.length+2).join("0")}var l={"%":function(b,M){return(b*100).toFixed(M)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:x,e:function(b,M){return b.toExponential(M)},f:function(b,M){return b.toFixed(M)},g:function(b,M){return b.toPrecision(M)},o:function(b){return Math.round(b).toString(8)},p:function(b,M){return u(b*100,M)},r:u,s:n,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function f(b){return b}var g=Array.prototype.map,h=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function w(b){var M=b.grouping===void 0||b.thousands===void 0?f:L(g.call(b.grouping,Number),b.thousands+""),m=b.currency===void 0?"":b.currency[0]+"",S=b.currency===void 0?"":b.currency[1]+"",T=b.decimal===void 0?".":b.decimal+"",a=b.numerals===void 0?f:C(g.call(b.numerals,String)),E=b.percent===void 0?"%":b.percent+"",p=b.minus===void 0?"-":b.minus+"",k=b.nan===void 0?"NaN":b.nan+"";function R(F){F=y(F);var _=F.fill,O=F.align,z=F.sign,N=F.symbol,Y=F.zero,J=F.width,ae=F.comma,se=F.precision,ue=F.trim,K=F.type;K==="n"?(ae=!0,K="g"):l[K]||(se===void 0&&(se=12),ue=!0,K="g"),(Y||_==="0"&&O==="=")&&(Y=!0,_="0",O="=");var j=N==="$"?m:N==="#"&&/[boxX]/.test(K)?"0"+K.toLowerCase():"",ie=N==="$"?S:/[%p]/.test(K)?E:"",W=l[K],Q=/[defgprs%]/.test(K);se=se===void 0?6:/[gprs]/.test(K)?Math.max(1,Math.min(21,se)):Math.max(0,Math.min(20,se));function ee($){var X=j,oe=ie,te,fe,pe;if(K==="c")oe=W($)+oe,$="";else{$=+$;var Ae=$<0||1/$<0;if($=isNaN($)?k:W(Math.abs($),se),ue&&($=t($)),Ae&&+$==0&&z!=="+"&&(Ae=!1),X=(Ae?z==="("?z:p:z==="-"||z==="("?"":z)+X,oe=(K==="s"?h[8+s/3]:"")+oe+(Ae&&z==="("?")":""),Q){for(te=-1,fe=$.length;++te<fe;)if(pe=$.charCodeAt(te),48>pe||pe>57){oe=(pe===46?T+$.slice(te+1):$.slice(te))+oe,$=$.slice(0,te);break}}}ae&&!Y&&($=M($,1/0));var be=X.length+$.length+oe.length,Pe=be<J?new Array(J-be+1).join(_):"";switch(ae&&Y&&($=M(Pe+$,Pe.length?J-oe.length:1/0),Pe=""),O){case"<":$=X+$+oe+Pe;break;case"=":$=X+Pe+$+oe;break;case"^":$=Pe.slice(0,be=Pe.length>>1)+X+$+oe+Pe.slice(be);break;default:$=Pe+X+$+oe;break}return a($)}return ee.toString=function(){return F+""},ee}function B(F,_){var O=R((F=y(F),F.type="f",F)),z=Math.max(-8,Math.min(8,Math.floor(i(_)/3)))*3,N=Math.pow(10,-z),Y=h[8+z/3];return function(J){return O(N*J)+Y}}return{format:R,formatPrefix:B}}var d,o,v;A({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function A(b){return d=w(b),o=d.format,v=d.formatPrefix,d}},87108:function(V,U,e){"use strict";e.r(U),e.d(U,{geoAiry:function(){return Y},geoAiryRaw:function(){return N},geoAitoff:function(){return ae},geoAitoffRaw:function(){return J},geoArmadillo:function(){return ue},geoArmadilloRaw:function(){return se},geoAugust:function(){return j},geoAugustRaw:function(){return K},geoBaker:function(){return ee},geoBakerRaw:function(){return Q},geoBerghaus:function(){return oe},geoBerghausRaw:function(){return X},geoBertin1953:function(){return Ee},geoBertin1953Raw:function(){return me},geoBoggs:function(){return yt},geoBoggsRaw:function(){return lt},geoBonne:function(){return ct},geoBonneRaw:function(){return ot},geoBottomley:function(){return mt},geoBottomleyRaw:function(){return ht},geoBromley:function(){return Re},geoBromleyRaw:function(){return tt},geoChamberlin:function(){return Te},geoChamberlinAfrica:function(){return Le},geoChamberlinRaw:function(){return ze},geoCollignon:function(){return Se},geoCollignonRaw:function(){return ye},geoCraig:function(){return rt},geoCraigRaw:function(){return Ke},geoCraster:function(){return wt},geoCrasterRaw:function(){return It},geoCylindricalEqualArea:function(){return Wt},geoCylindricalEqualAreaRaw:function(){return Et},geoCylindricalStereographic:function(){return dt},geoCylindricalStereographicRaw:function(){return vr},geoEckert1:function(){return jt},geoEckert1Raw:function(){return Yt},geoEckert2:function(){return sr},geoEckert2Raw:function(){return gr},geoEckert3:function(){return st},geoEckert3Raw:function(){return gt},geoEckert4:function(){return Mt},geoEckert4Raw:function(){return xt},geoEckert5:function(){return Vt},geoEckert5Raw:function(){return Rt},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Ct},geoEisenlohr:function(){return or},geoEisenlohrRaw:function(){return ir},geoFahey:function(){return Ue},geoFaheyRaw:function(){return We},geoFoucaut:function(){return kt},geoFoucautRaw:function(){return Ft},geoFoucautSinusoidal:function(){return rr},geoFoucautSinusoidalRaw:function(){return Zt},geoGilbert:function(){return dr},geoGingery:function(){return yr},geoGingeryRaw:function(){return mr},geoGinzburg4:function(){return _r},geoGinzburg4Raw:function(){return rn},geoGinzburg5:function(){return xn},geoGinzburg5Raw:function(){return bn},geoGinzburg6:function(){return Dr},geoGinzburg6Raw:function(){return fr},geoGinzburg8:function(){return Ur},geoGinzburg8Raw:function(){return Nr},geoGinzburg9:function(){return gn},geoGinzburg9Raw:function(){return on},geoGringorten:function(){return Un},geoGringortenQuincuncial:function(){return Ef},geoGringortenRaw:function(){return Pn},geoGuyou:function(){return Bn},geoGuyouRaw:function(){return Jr},geoHammer:function(){return Ae},geoHammerRaw:function(){return fe},geoHammerRetroazimuthal:function(){return Wn},geoHammerRetroazimuthalRaw:function(){return Mn},geoHealpix:function(){return Mr},geoHealpixRaw:function(){return Fr},geoHill:function(){return Br},geoHillRaw:function(){return Yr},geoHomolosine:function(){return kn},geoHomolosineRaw:function(){return Fn},geoHufnagel:function(){return ca},geoHufnagelRaw:function(){return ha},geoHyperelliptical:function(){return ii},geoHyperellipticalRaw:function(){return si},geoInterrupt:function(){return co},geoInterruptedBoggs:function(){return Ll},geoInterruptedHomolosine:function(){return sl},geoInterruptedMollweide:function(){return Oi},geoInterruptedMollweideHemispheres:function(){return Qf},geoInterruptedQuarticAuthalic:function(){return Ys},geoInterruptedSinuMollweide:function(){return Bi},geoInterruptedSinusoidal:function(){return No},geoKavrayskiy7:function(){return Vu},geoKavrayskiy7Raw:function(){return Fi},geoLagrange:function(){return is},geoLagrangeRaw:function(){return Ci},geoLarrivee:function(){return Ki},geoLarriveeRaw:function(){return iu},geoLaskowski:function(){return Ms},geoLaskowskiRaw:function(){return Pl},geoLittrow:function(){return Qc},geoLittrowRaw:function(){return Wi},geoLoximuthal:function(){return Es},geoLoximuthalRaw:function(){return Ss},geoMiller:function(){return $c},geoMillerRaw:function(){return Rl},geoModifiedStereographic:function(){return ll},geoModifiedStereographicAlaska:function(){return rh},geoModifiedStereographicGs48:function(){return nh},geoModifiedStereographicGs50:function(){return qf},geoModifiedStereographicLee:function(){return ih},geoModifiedStereographicMiller:function(){return ah},geoModifiedStereographicRaw:function(){return $f},geoMollweide:function(){return Ze},geoMollweideRaw:function(){return Ve},geoMtFlatPolarParabolic:function(){return pf},geoMtFlatPolarParabolicRaw:function(){return su},geoMtFlatPolarQuartic:function(){return ec},geoMtFlatPolarQuarticRaw:function(){return gf},geoMtFlatPolarSinusoidal:function(){return oh},geoMtFlatPolarSinusoidalRaw:function(){return Cs},geoNaturalEarth:function(){return tc.c},geoNaturalEarth2:function(){return Gu},geoNaturalEarth2Raw:function(){return Mo},geoNaturalEarthRaw:function(){return tc.g},geoNellHammer:function(){return Wu},geoNellHammerRaw:function(){return os},geoNicolosi:function(){return Yu},geoNicolosiRaw:function(){return Dl},geoPatterson:function(){return Vo},geoPattersonRaw:function(){return Ro},geoPeirceQuincuncial:function(){return Cf},geoPierceQuincuncial:function(){return Cf},geoPolyconic:function(){return sh},geoPolyconicRaw:function(){return xf},geoPolyhedral:function(){return kl},geoPolyhedralButterfly:function(){return Ho},geoPolyhedralCollignon:function(){return Xs},geoPolyhedralWaterman:function(){return Zs},geoProject:function(){return fh},geoQuantize:function(){return hh},geoQuincuncial:function(){return Sf},geoRectangularPolyconic:function(){return uc},geoRectangularPolyconicRaw:function(){return lc},geoRobinson:function(){return js},geoRobinsonRaw:function(){return fs},geoSatellite:function(){return ju},geoSatelliteRaw:function(){return vu},geoSinuMollweide:function(){return Cn},geoSinuMollweideRaw:function(){return En},geoSinusoidal:function(){return nt},geoSinusoidalRaw:function(){return Fe},geoStitch:function(){return mu},geoTimes:function(){return Yo},geoTimesRaw:function(){return Wo},geoTwoPointAzimuthal:function(){return dl},geoTwoPointAzimuthalRaw:function(){return vl},geoTwoPointAzimuthalUsa:function(){return cc},geoTwoPointEquidistant:function(){return Io},geoTwoPointEquidistantRaw:function(){return Do},geoTwoPointEquidistantUsa:function(){return hc},geoVanDerGrinten:function(){return xu},geoVanDerGrinten2:function(){return Gl},geoVanDerGrinten2Raw:function(){return Ju},geoVanDerGrinten3:function(){return Qu},geoVanDerGrinten3Raw:function(){return If},geoVanDerGrinten4:function(){return $u},geoVanDerGrinten4Raw:function(){return Ks},geoVanDerGrintenRaw:function(){return pl},geoWagner:function(){return vc},geoWagner4:function(){return qu},geoWagner4Raw:function(){return ks},geoWagner6:function(){return ef},geoWagner6Raw:function(){return Xl},geoWagner7:function(){return ho},geoWagnerRaw:function(){return Wl},geoWiechel:function(){return dc},geoWiechelRaw:function(){return wu},geoWinkel3:function(){return kf},geoWinkel3Raw:function(){return Tu}});var x=e(87952),P=Math.abs,i=Math.atan,L=Math.atan2,C=Math.ceil,c=Math.cos,y=Math.exp,r=Math.floor,t=Math.log,s=Math.max,n=Math.min,u=Math.pow,l=Math.round,f=Math.sign||function($e){return $e>0?1:$e<0?-1:0},g=Math.sin,h=Math.tan,w=1e-6,d=1e-12,o=Math.PI,v=o/2,A=o/4,b=Math.SQRT1_2,M=R(2),m=R(o),S=o*2,T=180/o,a=o/180;function E($e){return $e?$e/Math.sin($e):1}function p($e){return $e>1?v:$e<-1?-v:Math.asin($e)}function k($e){return $e>1?0:$e<-1?o:Math.acos($e)}function R($e){return $e>0?Math.sqrt($e):0}function B($e){return $e=y(2*$e),($e-1)/($e+1)}function F($e){return(y($e)-y(-$e))/2}function _($e){return(y($e)+y(-$e))/2}function O($e){return t($e+R($e*$e+1))}function z($e){return t($e+R($e*$e-1))}function N($e){var it=h($e/2),pt=2*t(c($e/2))/(it*it);function bt(zt,Dt){var Nt=c(zt),hr=c(Dt),br=g(Dt),ur=hr*Nt,wr=-((1-ur?t((1+ur)/2)/(1-ur):-.5)+pt/(1+ur));return[wr*hr*g(zt),wr*br]}return bt.invert=function(zt,Dt){var Nt=R(zt*zt+Dt*Dt),hr=-$e/2,br=50,ur;if(!Nt)return[0,0];do{var wr=hr/2,Lr=c(wr),Vr=g(wr),tn=Vr/Lr,sn=-t(P(Lr));hr-=ur=(2/tn*sn-pt*tn-Nt)/(-sn/(Vr*Vr)+1-pt/(2*Lr*Lr))*(Lr<0?.7:1)}while(P(ur)>w&&--br>0);var mn=g(hr);return[L(zt*mn,Nt*c(hr)),p(Dt*mn/Nt)]},bt}function Y(){var $e=v,it=(0,x.U)(N),pt=it($e);return pt.radius=function(bt){return arguments.length?it($e=bt*a):$e*T},pt.scale(179.976).clipAngle(147)}function J($e,it){var pt=c(it),bt=E(k(pt*c($e/=2)));return[2*pt*g($e)*bt,g(it)*bt]}J.invert=function($e,it){if(!($e*$e+4*it*it>o*o+w)){var pt=$e,bt=it,zt=25;do{var Dt=g(pt),Nt=g(pt/2),hr=c(pt/2),br=g(bt),ur=c(bt),wr=g(2*bt),Lr=br*br,Vr=ur*ur,tn=Nt*Nt,sn=1-Vr*hr*hr,mn=sn?k(ur*hr)*R(Dn=1/sn):Dn=0,Dn,la=2*mn*ur*Nt-$e,Ea=mn*br-it,La=Dn*(Vr*tn+mn*ur*hr*Lr),Ca=Dn*(.5*Dt*wr-mn*2*br*Nt),Ia=Dn*.25*(wr*Nt-mn*br*Vr*Dt),Za=Dn*(Lr*hr+mn*tn*ur),Li=Ca*Ia-Za*La;if(!Li)break;var bi=(Ea*Ca-la*Za)/Li,fi=(la*Ia-Ea*La)/Li;pt-=bi,bt-=fi}while((P(bi)>w||P(fi)>w)&&--zt>0);return[pt,bt]}};function ae(){return(0,x.c)(J).scale(152.63)}function se($e){var it=g($e),pt=c($e),bt=$e>=0?1:-1,zt=h(bt*$e),Dt=(1+it-pt)/2;function Nt(hr,br){var ur=c(br),wr=c(hr/=2);return[(1+ur)*g(hr),(bt*br>-L(wr,zt)-.001?0:-bt*10)+Dt+g(br)*pt-(1+ur)*it*wr]}return Nt.invert=function(hr,br){var ur=0,wr=0,Lr=50;do{var Vr=c(ur),tn=g(ur),sn=c(wr),mn=g(wr),Dn=1+sn,la=Dn*tn-hr,Ea=Dt+mn*pt-Dn*it*Vr-br,La=Dn*Vr/2,Ca=-tn*mn,Ia=it*Dn*tn/2,Za=pt*sn+it*Vr*mn,Li=Ca*Ia-Za*La,bi=(Ea*Ca-la*Za)/Li/2,fi=(la*Ia-Ea*La)/Li;P(fi)>2&&(fi/=2),ur-=bi,wr-=fi}while((P(bi)>w||P(fi)>w)&&--Lr>0);return bt*wr>-L(c(ur),zt)-.001?[ur*2,wr]:null},Nt}function ue(){var $e=20*a,it=$e>=0?1:-1,pt=h(it*$e),bt=(0,x.U)(se),zt=bt($e),Dt=zt.stream;return zt.parallel=function(Nt){return arguments.length?(pt=h((it=($e=Nt*a)>=0?1:-1)*$e),bt($e)):$e*T},zt.stream=function(Nt){var hr=zt.rotate(),br=Dt(Nt),ur=(zt.rotate([0,0]),Dt(Nt)),wr=zt.precision();return zt.rotate(hr),br.sphere=function(){ur.polygonStart(),ur.lineStart();for(var Lr=it*-180;it*Lr<180;Lr+=it*90)ur.point(Lr,it*90);if($e)for(;it*(Lr-=3*it*wr)>=-180;)ur.point(Lr,it*-L(c(Lr*a/2),pt)*T);ur.lineEnd(),ur.polygonEnd()},br},zt.scale(218.695).center([0,28.0974])}function K($e,it){var pt=h(it/2),bt=R(1-pt*pt),zt=1+bt*c($e/=2),Dt=g($e)*bt/zt,Nt=pt/zt,hr=Dt*Dt,br=Nt*Nt;return[1.3333333333333333*Dt*(3+hr-3*br),1.3333333333333333*Nt*(3+3*hr-br)]}K.invert=function($e,it){if($e*=.375,it*=.375,!$e&&P(it)>1)return null;var pt=$e*$e,bt=it*it,zt=1+pt+bt,Dt=R((zt-R(zt*zt-4*it*it))/2),Nt=p(Dt)/3,hr=Dt?z(P(it/Dt))/3:O(P($e))/3,br=c(Nt),ur=_(hr),wr=ur*ur-br*br;return[f($e)*2*L(F(hr)*br,.25-wr),f(it)*2*L(ur*g(Nt),.25+wr)]};function j(){return(0,x.c)(K).scale(66.1603)}var ie=R(8),W=t(1+M);function Q($e,it){var pt=P(it);return pt<A?[$e,t(h(A+it/2))]:[$e*c(pt)*(2*M-1/g(pt)),f(it)*(2*M*(pt-A)-t(h(pt/2)))]}Q.invert=function($e,it){if((Dt=P(it))<W)return[$e,2*i(y(it))-v];var pt=A,bt=25,zt,Dt;do{var Nt=c(pt/2),hr=h(pt/2);pt-=zt=(ie*(pt-A)-t(hr)-Dt)/(ie-Nt*Nt/(2*hr))}while(P(zt)>d&&--bt>0);return[$e/(c(pt)*(ie-1/g(pt))),f(it)*pt]};function ee(){return(0,x.c)(Q).scale(112.314)}var $=e(69020);function X($e){var it=2*o/$e;function pt(bt,zt){var Dt=(0,$.O)(bt,zt);if(P(bt)>v){var Nt=L(Dt[1],Dt[0]),hr=R(Dt[0]*Dt[0]+Dt[1]*Dt[1]),br=it*l((Nt-v)/it)+v,ur=L(g(Nt-=br),2-c(Nt));Nt=br+p(o/hr*g(ur))-ur,Dt[0]=hr*c(Nt),Dt[1]=hr*g(Nt)}return Dt}return pt.invert=function(bt,zt){var Dt=R(bt*bt+zt*zt);if(Dt>v){var Nt=L(zt,bt),hr=it*l((Nt-v)/it)+v,br=Nt>hr?-1:1,ur=Dt*c(hr-Nt),wr=1/h(br*k((ur-o)/R(o*(o-2*ur)+Dt*Dt)));Nt=hr+2*i((wr+br*R(wr*wr-3))/3),bt=Dt*c(Nt),zt=Dt*g(Nt)}return $.O.invert(bt,zt)},pt}function oe(){var $e=5,it=(0,x.U)(X),pt=it($e),bt=pt.stream,zt=.01,Dt=-c(zt*a),Nt=g(zt*a);return pt.lobes=function(hr){return arguments.length?it($e=+hr):$e},pt.stream=function(hr){var br=pt.rotate(),ur=bt(hr),wr=(pt.rotate([0,0]),bt(hr));return pt.rotate(br),ur.sphere=function(){wr.polygonStart(),wr.lineStart();for(var Lr=0,Vr=360/$e,tn=2*o/$e,sn=90-180/$e,mn=v;Lr<$e;++Lr,sn-=Vr,mn-=tn)wr.point(L(Nt*c(mn),Dt)*T,p(Nt*g(mn))*T),sn<-90?(wr.point(-90,-180-sn-zt),wr.point(-90,-180-sn+zt)):(wr.point(90,sn+zt),wr.point(90,sn-zt));wr.lineEnd(),wr.polygonEnd()},ur},pt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var te=e(54724);function fe($e,it){if(arguments.length<2&&(it=$e),it===1)return te.y;if(it===1/0)return pe;function pt(bt,zt){var Dt=(0,te.y)(bt/it,zt);return Dt[0]*=$e,Dt}return pt.invert=function(bt,zt){var Dt=te.y.invert(bt/$e,zt);return Dt[0]*=it,Dt},pt}function pe($e,it){return[$e*c(it)/c(it/=2),2*g(it)]}pe.invert=function($e,it){var pt=2*p(it/2);return[$e*c(pt/2)/c(pt),pt]};function Ae(){var $e=2,it=(0,x.U)(fe),pt=it($e);return pt.coefficient=function(bt){return arguments.length?it($e=+bt):$e},pt.scale(169.529)}function be($e,it,pt){var bt=100,zt,Dt,Nt;pt=pt===void 0?0:+pt,it=+it;do Dt=$e(pt),Nt=$e(pt+w),Dt===Nt&&(Nt=Dt+w),pt-=zt=-1*w*(Dt-it)/(Dt-Nt);while(bt-- >0&&P(zt)>w);return bt<0?NaN:pt}function Pe($e,it,pt){return it===void 0&&(it=40),pt===void 0&&(pt=d),function(bt,zt,Dt,Nt){var hr,br,ur;Dt=Dt===void 0?0:+Dt,Nt=Nt===void 0?0:+Nt;for(var wr=0;wr<it;wr++){var Lr=$e(Dt,Nt),Vr=Lr[0]-bt,tn=Lr[1]-zt;if(P(Vr)<pt&&P(tn)<pt)break;var sn=Vr*Vr+tn*tn;if(sn>hr){Dt-=br/=2,Nt-=ur/=2;continue}hr=sn;var mn=(Dt>0?-1:1)*pt,Dn=(Nt>0?-1:1)*pt,la=$e(Dt+mn,Nt),Ea=$e(Dt,Nt+Dn),La=(la[0]-Lr[0])/mn,Ca=(la[1]-Lr[1])/mn,Ia=(Ea[0]-Lr[0])/Dn,Za=(Ea[1]-Lr[1])/Dn,Li=Za*La-Ca*Ia,bi=(P(Li)<.5?.5:1)/Li;if(br=(tn*Ia-Vr*Za)*bi,ur=(Vr*Ca-tn*La)*bi,Dt+=br,Nt+=ur,P(br)<pt&&P(ur)<pt)break}return[Dt,Nt]}}function me(){var $e=fe(1.68,2),it=1.4,pt=12;function bt(zt,Dt){if(zt+Dt<-it){var Nt=(zt-Dt+1.6)*(zt+Dt+it)/8;zt+=Nt,Dt-=.8*Nt*g(Dt+o/2)}var hr=$e(zt,Dt),br=(1-c(zt*Dt))/pt;return hr[1]<0&&(hr[0]*=1+br),hr[1]>0&&(hr[1]*=1+br/1.5*hr[0]*hr[0]),hr}return bt.invert=Pe(bt),bt}function Ee(){return(0,x.c)(me()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function xe($e,it){var pt=$e*g(it),bt=30,zt;do it-=zt=(it+g(it)-pt)/(1+c(it));while(P(zt)>w&&--bt>0);return it/2}function De($e,it,pt){function bt(zt,Dt){return[$e*zt*c(Dt=xe(pt,Dt)),it*g(Dt)]}return bt.invert=function(zt,Dt){return Dt=p(Dt/it),[zt/($e*c(Dt)),p((2*Dt+g(2*Dt))/pt)]},bt}var Ve=De(M/v,M,o);function Ze(){return(0,x.c)(Ve).scale(169.529)}var ke=2.00276,Ye=1.11072;function lt($e,it){var pt=xe(o,it);return[ke*$e/(1/c(it)+Ye/c(pt)),(it+M*g(pt))/ke]}lt.invert=function($e,it){var pt=ke*it,bt=it<0?-A:A,zt=25,Dt,Nt;do Nt=pt-M*g(bt),bt-=Dt=(g(2*bt)+2*bt-o*g(Nt))/(2*c(2*bt)+2+o*c(Nt)*M*c(bt));while(P(Dt)>w&&--zt>0);return Nt=pt-M*g(bt),[$e*(1/c(Nt)+Ye/c(bt))/ke,Nt]};function yt(){return(0,x.c)(lt).scale(160.857)}function He($e){var it=0,pt=(0,x.U)($e),bt=pt(it);return bt.parallel=function(zt){return arguments.length?pt(it=zt*a):it*T},bt}function Fe($e,it){return[$e*c(it),it]}Fe.invert=function($e,it){return[$e/c(it),it]};function nt(){return(0,x.c)(Fe).scale(152.63)}function ot($e){if(!$e)return Fe;var it=1/h($e);function pt(bt,zt){var Dt=it+$e-zt,Nt=Dt&&bt*c(zt)/Dt;return[Dt*g(Nt),it-Dt*c(Nt)]}return pt.invert=function(bt,zt){var Dt=R(bt*bt+(zt=it-zt)*zt),Nt=it+$e-Dt;return[Dt/c(Nt)*L(bt,zt),Nt]},pt}function ct(){return He(ot).scale(123.082).center([0,26.1441]).parallel(45)}function ht($e){function it(pt,bt){var zt=v-bt,Dt=zt&&pt*$e*g(zt)/zt;return[zt*g(Dt)/$e,v-zt*c(Dt)]}return it.invert=function(pt,bt){var zt=pt*$e,Dt=v-bt,Nt=R(zt*zt+Dt*Dt),hr=L(zt,Dt);return[(Nt?Nt/g(Nt):1)*hr/$e,v-Nt]},it}function mt(){var $e=.5,it=(0,x.U)(ht),pt=it($e);return pt.fraction=function(bt){return arguments.length?it($e=+bt):$e},pt.scale(158.837)}var tt=De(1,4/o,o);function Re(){return(0,x.c)(tt).scale(152.63)}var Ge=e(24052),Je=e(92992);function Xe($e,it,pt,bt,zt,Dt){var Nt=c(Dt),hr;if(P($e)>1||P(Dt)>1)hr=k(pt*zt+it*bt*Nt);else{var br=g($e/2),ur=g(Dt/2);hr=2*p(R(br*br+it*bt*ur*ur))}return P(hr)>w?[hr,L(bt*g(Dt),it*zt-pt*bt*Nt)]:[0,0]}function Oe($e,it,pt){return k(($e*$e+it*it-pt*pt)/(2*$e*it))}function Ne($e){return $e-2*o*r(($e+o)/(2*o))}function ze($e,it,pt){for(var bt=[[$e[0],$e[1],g($e[1]),c($e[1])],[it[0],it[1],g(it[1]),c(it[1])],[pt[0],pt[1],g(pt[1]),c(pt[1])]],zt=bt[2],Dt,Nt=0;Nt<3;++Nt,zt=Dt)Dt=bt[Nt],zt.v=Xe(Dt[1]-zt[1],zt[3],zt[2],Dt[3],Dt[2],Dt[0]-zt[0]),zt.point=[0,0];var hr=Oe(bt[0].v[0],bt[2].v[0],bt[1].v[0]),br=Oe(bt[0].v[0],bt[1].v[0],bt[2].v[0]),ur=o-hr;bt[2].point[1]=0,bt[0].point[0]=-(bt[1].point[0]=bt[0].v[0]/2);var wr=[bt[2].point[0]=bt[0].point[0]+bt[2].v[0]*c(hr),2*(bt[0].point[1]=bt[1].point[1]=bt[2].v[0]*g(hr))];function Lr(Vr,tn){var sn=g(tn),mn=c(tn),Dn=new Array(3),la;for(la=0;la<3;++la){var Ea=bt[la];if(Dn[la]=Xe(tn-Ea[1],Ea[3],Ea[2],mn,sn,Vr-Ea[0]),!Dn[la][0])return Ea.point;Dn[la][1]=Ne(Dn[la][1]-Ea.v[1])}var La=wr.slice();for(la=0;la<3;++la){var Ca=la==2?0:la+1,Ia=Oe(bt[la].v[0],Dn[la][0],Dn[Ca][0]);Dn[la][1]<0&&(Ia=-Ia),la?la==1?(Ia=br-Ia,La[0]-=Dn[la][0]*c(Ia),La[1]-=Dn[la][0]*g(Ia)):(Ia=ur-Ia,La[0]+=Dn[la][0]*c(Ia),La[1]+=Dn[la][0]*g(Ia)):(La[0]+=Dn[la][0]*c(Ia),La[1]-=Dn[la][0]*g(Ia))}return La[0]/=3,La[1]/=3,La}return Lr}function et($e){return $e[0]*=a,$e[1]*=a,$e}function Le(){return Te([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Te($e,it,pt){var bt=(0,Ge.c)({type:"MultiPoint",coordinates:[$e,it,pt]}),zt=[-bt[0],-bt[1]],Dt=(0,Je.c)(zt),Nt=ze(et(Dt($e)),et(Dt(it)),et(Dt(pt)));Nt.invert=Pe(Nt);var hr=(0,x.c)(Nt).rotate(zt),br=hr.center;return delete hr.rotate,hr.center=function(ur){return arguments.length?br(Dt(ur)):Dt.invert(br())},hr.clipAngle(90)}function ye($e,it){var pt=R(1-g(it));return[2/m*$e*pt,m*(1-pt)]}ye.invert=function($e,it){var pt=(pt=it/m-1)*pt;return[pt>0?$e*R(o/pt)/2:0,p(1-pt)]};function Se(){return(0,x.c)(ye).scale(95.6464).center([0,30])}function Ke($e){var it=h($e);function pt(bt,zt){return[bt,(bt?bt/g(bt):1)*(g(zt)*c(bt)-it*c(zt))]}return pt.invert=it?function(bt,zt){bt&&(zt*=g(bt)/bt);var Dt=c(bt);return[bt,2*L(R(Dt*Dt+it*it-zt*zt)-Dt,it-zt)]}:function(bt,zt){return[bt,p(bt?zt*h(bt)/bt:zt)]},pt}function rt(){return He(Ke).scale(249.828).clipAngle(90)}var Lt=R(3);function It($e,it){return[Lt*$e*(2*c(2*it/3)-1)/m,Lt*m*g(it/3)]}It.invert=function($e,it){var pt=3*p(it/(Lt*m));return[m*$e/(Lt*(2*c(2*pt/3)-1)),pt]};function wt(){return(0,x.c)(It).scale(156.19)}function Et($e){var it=c($e);function pt(bt,zt){return[bt*it,g(zt)/it]}return pt.invert=function(bt,zt){return[bt/it,p(zt*it)]},pt}function Wt(){return He(Et).parallel(38.58).scale(195.044)}function vr($e){var it=c($e);function pt(bt,zt){return[bt*it,(1+it)*h(zt/2)]}return pt.invert=function(bt,zt){return[bt/it,i(zt/(1+it))*2]},pt}function dt(){return He(vr).scale(124.75)}function Yt($e,it){var pt=R(8/(3*o));return[pt*$e*(1-P(it)/o),pt*it]}Yt.invert=function($e,it){var pt=R(8/(3*o)),bt=it/pt;return[$e/(pt*(1-P(bt)/o)),bt]};function jt(){return(0,x.c)(Yt).scale(165.664)}function gr($e,it){var pt=R(4-3*g(P(it)));return[2/R(6*o)*$e*pt,f(it)*R(2*o/3)*(2-pt)]}gr.invert=function($e,it){var pt=2-P(it)/R(2*o/3);return[$e*R(6*o)/(2*pt),f(it)*p((4-pt*pt)/3)]};function sr(){return(0,x.c)(gr).scale(165.664)}function gt($e,it){var pt=R(o*(4+o));return[2/pt*$e*(1+R(1-4*it*it/(o*o))),4/pt*it]}gt.invert=function($e,it){var pt=R(o*(4+o))/2;return[$e*pt/(1+R(1-it*it*(4+o)/(4*o))),it*pt/2]};function st(){return(0,x.c)(gt).scale(180.739)}function xt($e,it){var pt=(2+v)*g(it);it/=2;for(var bt=0,zt=1/0;bt<10&&P(zt)>w;bt++){var Dt=c(it);it-=zt=(it+g(it)*(Dt+2)-pt)/(2*Dt*(1+Dt))}return[2/R(o*(4+o))*$e*(1+c(it)),2*R(o/(4+o))*g(it)]}xt.invert=function($e,it){var pt=it*R((4+o)/o)/2,bt=p(pt),zt=c(bt);return[$e/(2/R(o*(4+o))*(1+zt)),p((bt+pt*(zt+2))/(2+v))]};function Mt(){return(0,x.c)(xt).scale(180.739)}function Rt($e,it){return[$e*(1+c(it))/R(2+o),2*it/R(2+o)]}Rt.invert=function($e,it){var pt=R(2+o),bt=it*pt/2;return[pt*$e/(1+c(bt)),bt]};function Vt(){return(0,x.c)(Rt).scale(173.044)}function Ct($e,it){for(var pt=(1+v)*g(it),bt=0,zt=1/0;bt<10&&P(zt)>w;bt++)it-=zt=(it+g(it)-pt)/(1+c(it));return pt=R(2+o),[$e*(1+c(it))/pt,2*it/pt]}Ct.invert=function($e,it){var pt=1+v,bt=R(pt/2);return[$e*2*bt/(1+c(it*=bt)),p((it+g(it))/pt)]};function Bt(){return(0,x.c)(Ct).scale(173.044)}var Xt=3+2*M;function ir($e,it){var pt=g($e/=2),bt=c($e),zt=R(c(it)),Dt=c(it/=2),Nt=g(it)/(Dt+M*bt*zt),hr=R(2/(1+Nt*Nt)),br=R((M*Dt+(bt+pt)*zt)/(M*Dt+(bt-pt)*zt));return[Xt*(hr*(br-1/br)-2*t(br)),Xt*(hr*Nt*(br+1/br)-2*i(Nt))]}ir.invert=function($e,it){if(!(Dt=K.invert($e/1.2,it*1.065)))return null;var pt=Dt[0],bt=Dt[1],zt=20,Dt;$e/=Xt,it/=Xt;do{var Nt=pt/2,hr=bt/2,br=g(Nt),ur=c(Nt),wr=g(hr),Lr=c(hr),Vr=c(bt),tn=R(Vr),sn=wr/(Lr+M*ur*tn),mn=sn*sn,Dn=R(2/(1+mn)),la=M*Lr+(ur+br)*tn,Ea=M*Lr+(ur-br)*tn,La=la/Ea,Ca=R(La),Ia=Ca-1/Ca,Za=Ca+1/Ca,Li=Dn*Ia-2*t(Ca)-$e,bi=Dn*sn*Za-2*i(sn)-it,fi=wr&&b*tn*br*mn/wr,da=(M*ur*Lr+tn)/(2*(Lr+M*ur*tn)*(Lr+M*ur*tn)*tn),Ai=-.5*sn*Dn*Dn*Dn,Xo=Ai*fi,Js=Ai*da,le=(le=2*Lr+M*tn*(ur-br))*le*Ca,Me=(M*ur*Lr*tn+Vr)/le,_e=-(M*br*wr)/(tn*le),je=Ia*Xo-2*Me/Ca+Dn*(Me+Me/La),at=Ia*Js-2*_e/Ca+Dn*(_e+_e/La),ft=sn*Za*Xo-2*fi/(1+mn)+Dn*Za*fi+Dn*sn*(Me-Me/La),_t=sn*Za*Js-2*da/(1+mn)+Dn*Za*da+Dn*sn*(_e-_e/La),At=at*ft-_t*je;if(!At)break;var Ht=(bi*at-Li*_t)/At,Qt=(Li*ft-bi*je)/At;pt-=Ht,bt=s(-v,n(v,bt-Qt))}while((P(Ht)>w||P(Qt)>w)&&--zt>0);return P(P(bt)-v)<w?[0,bt]:zt&&[pt,bt]};function or(){return(0,x.c)(ir).scale(62.5271)}var cr=c(35*a);function We($e,it){var pt=h(it/2);return[$e*cr*R(1-pt*pt),(1+cr)*pt]}We.invert=function($e,it){var pt=it/(1+cr);return[$e&&$e/(cr*R(1-pt*pt)),2*i(pt)]};function Ue(){return(0,x.c)(We).scale(137.152)}function Ft($e,it){var pt=it/2,bt=c(pt);return[2*$e/m*c(it)*bt*bt,m*h(pt)]}Ft.invert=function($e,it){var pt=i(it/m),bt=c(pt),zt=2*pt;return[$e*m/2/(c(zt)*bt*bt),zt]};function kt(){return(0,x.c)(Ft).scale(135.264)}function Zt($e){var it=1-$e,pt=Dt(o,0)[0]-Dt(-o,0)[0],bt=Dt(0,v)[1]-Dt(0,-v)[1],zt=R(2*bt/pt);function Dt(br,ur){var wr=c(ur),Lr=g(ur);return[wr/(it+$e*wr)*br,it*ur+$e*Lr]}function Nt(br,ur){var wr=Dt(br,ur);return[wr[0]*zt,wr[1]/zt]}function hr(br){return Nt(0,br)[1]}return Nt.invert=function(br,ur){var wr=be(hr,ur),Lr=br/zt*($e+it/c(wr));return[Lr,wr]},Nt}function rr(){var $e=.5,it=(0,x.U)(Zt),pt=it($e);return pt.alpha=function(bt){return arguments.length?it($e=+bt):$e},pt.scale(168.725)}var lr=e(4888),qt=e(69604);function Ot($e){return[$e[0]/2,p(h($e[1]/2*a))*T]}function tr($e){return[$e[0]*2,2*i(g($e[1]*a))*T]}function dr($e){$e==null&&($e=lr.c);var it=$e(),pt=(0,qt.c)().scale(T).precision(0).clipAngle(null).translate([0,0]);function bt(Dt){return it(Ot(Dt))}it.invert&&(bt.invert=function(Dt){return tr(it.invert(Dt))}),bt.stream=function(Dt){var Nt=it.stream(Dt),hr=pt.stream({point:function(br,ur){Nt.point(br/2,p(h(-ur/2*a))*T)},lineStart:function(){Nt.lineStart()},lineEnd:function(){Nt.lineEnd()},polygonStart:function(){Nt.polygonStart()},polygonEnd:function(){Nt.polygonEnd()}});return hr.sphere=Nt.sphere,hr};function zt(Dt){bt[Dt]=function(){return arguments.length?(it[Dt].apply(it,arguments),bt):it[Dt]()}}return bt.rotate=function(Dt){return arguments.length?(pt.rotate(Dt),bt):pt.rotate()},bt.center=function(Dt){return arguments.length?(it.center(Ot(Dt)),bt):tr(it.center())},zt("angle"),zt("clipAngle"),zt("clipExtent"),zt("fitExtent"),zt("fitHeight"),zt("fitSize"),zt("fitWidth"),zt("scale"),zt("translate"),zt("precision"),bt.scale(249.5)}function mr($e,it){var pt=2*o/it,bt=$e*$e;function zt(Dt,Nt){var hr=(0,$.O)(Dt,Nt),br=hr[0],ur=hr[1],wr=br*br+ur*ur;if(wr>bt){var Lr=R(wr),Vr=L(ur,br),tn=pt*l(Vr/pt),sn=Vr-tn,mn=$e*c(sn),Dn=($e*g(sn)-sn*g(mn))/(v-mn),la=Cr(sn,Dn),Ea=(o-$e)/$r(la,mn,o);br=Lr;var La=50,Ca;do br-=Ca=($e+$r(la,mn,br)*Ea-Lr)/(la(br)*Ea);while(P(Ca)>w&&--La>0);ur=sn*g(br),br<v&&(ur-=Dn*(br-v));var Ia=g(tn),Za=c(tn);hr[0]=br*Za-ur*Ia,hr[1]=br*Ia+ur*Za}return hr}return zt.invert=function(Dt,Nt){var hr=Dt*Dt+Nt*Nt;if(hr>bt){var br=R(hr),ur=L(Nt,Dt),wr=pt*l(ur/pt),Lr=ur-wr;Dt=br*c(Lr),Nt=br*g(Lr);for(var Vr=Dt-v,tn=g(Dt),sn=Nt/tn,mn=Dt<v?1/0:0,Dn=10;;){var la=$e*g(sn),Ea=$e*c(sn),La=g(Ea),Ca=v-Ea,Ia=(la-sn*La)/Ca,Za=Cr(sn,Ia);if(P(mn)<d||!--Dn)break;sn-=mn=(sn*tn-Ia*Vr-Nt)/(tn-Vr*2*(Ca*(Ea+sn*la*c(Ea)-La)-la*(la-sn*La))/(Ca*Ca))}br=$e+$r(Za,Ea,Dt)*(o-$e)/$r(Za,Ea,o),ur=wr+sn,Dt=br*c(ur),Nt=br*g(ur)}return $.O.invert(Dt,Nt)},zt}function Cr($e,it){return function(pt){var bt=$e*c(pt);return pt<v&&(bt-=it),R(1+bt*bt)}}function $r($e,it,pt){for(var bt=50,zt=(pt-it)/bt,Dt=$e(it)+$e(pt),Nt=1,hr=it;Nt<bt;++Nt)Dt+=2*$e(hr+=zt);return Dt*.5*zt}function yr(){var $e=6,it=30*a,pt=c(it),bt=g(it),zt=(0,x.U)(mr),Dt=zt(it,$e),Nt=Dt.stream,hr=.01,br=-c(hr*a),ur=g(hr*a);return Dt.radius=function(wr){return arguments.length?(pt=c(it=wr*a),bt=g(it),zt(it,$e)):it*T},Dt.lobes=function(wr){return arguments.length?zt(it,$e=+wr):$e},Dt.stream=function(wr){var Lr=Dt.rotate(),Vr=Nt(wr),tn=(Dt.rotate([0,0]),Nt(wr));return Dt.rotate(Lr),Vr.sphere=function(){tn.polygonStart(),tn.lineStart();for(var sn=0,mn=2*o/$e,Dn=0;sn<$e;++sn,Dn-=mn)tn.point(L(ur*c(Dn),br)*T,p(ur*g(Dn))*T),tn.point(L(bt*c(Dn-mn/2),pt)*T,p(bt*g(Dn-mn/2))*T);tn.lineEnd(),tn.polygonEnd()},Vr},Dt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Gr($e,it,pt,bt,zt,Dt,Nt,hr){arguments.length<8&&(hr=0);function br(ur,wr){if(!wr)return[$e*ur/o,0];var Lr=wr*wr,Vr=$e+Lr*(it+Lr*(pt+Lr*bt)),tn=wr*(zt-1+Lr*(Dt-hr+Lr*Nt)),sn=(Vr*Vr+tn*tn)/(2*tn),mn=ur*p(Vr/sn)/o;return[sn*g(mn),wr*(1+Lr*hr)+sn*(1-c(mn))]}return br.invert=function(ur,wr){var Lr=o*ur/$e,Vr=wr,tn,sn,mn=50;do{var Dn=Vr*Vr,la=$e+Dn*(it+Dn*(pt+Dn*bt)),Ea=Vr*(zt-1+Dn*(Dt-hr+Dn*Nt)),La=la*la+Ea*Ea,Ca=2*Ea,Ia=La/Ca,Za=Ia*Ia,Li=p(la/Ia)/o,bi=Lr*Li,fi=la*la,da=(2*it+Dn*(4*pt+Dn*6*bt))*Vr,Ai=zt+Dn*(3*Dt+Dn*5*Nt),Xo=2*(la*da+Ea*(Ai-1)),Js=2*(Ai-1),le=(Xo*Ca-La*Js)/(Ca*Ca),Me=c(bi),_e=g(bi),je=Ia*Me,at=Ia*_e,ft=Lr/o*(1/R(1-fi/Za))*(da*Ia-la*le)/Za,_t=at-ur,At=Vr*(1+Dn*hr)+Ia-je-wr,Ht=le*_e+je*ft,Qt=je*Li,$t=1+le-(le*Me-at*ft),Sr=at*Li,Er=Ht*Sr-$t*Qt;if(!Er)break;Lr-=tn=(At*Ht-_t*$t)/Er,Vr-=sn=(_t*Sr-At*Qt)/Er}while((P(tn)>w||P(sn)>w)&&--mn>0);return[Lr,Vr]},br}var rn=Gr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function _r(){return(0,x.c)(rn).scale(149.995)}var bn=Gr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function xn(){return(0,x.c)(bn).scale(153.93)}var fr=Gr(5/6*o,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Dr(){return(0,x.c)(fr).scale(130.945)}function Nr($e,it){var pt=$e*$e,bt=it*it;return[$e*(1-.162388*bt)*(.87-952426e-9*pt*pt),it*(1+bt/12)]}Nr.invert=function($e,it){var pt=$e,bt=it,zt=50,Dt;do{var Nt=bt*bt;bt-=Dt=(bt*(1+Nt/12)-it)/(1+Nt/4)}while(P(Dt)>w&&--zt>0);zt=50,$e/=1-.162388*Nt;do{var hr=(hr=pt*pt)*hr;pt-=Dt=(pt*(.87-952426e-9*hr)-$e)/(.87-.00476213*hr)}while(P(Dt)>w&&--zt>0);return[pt,bt]};function Ur(){return(0,x.c)(Nr).scale(131.747)}var on=Gr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function gn(){return(0,x.c)(on).scale(131.087)}function yn($e){var it=$e(v,0)[0]-$e(-v,0)[0];function pt(bt,zt){var Dt=bt>0?-.5:.5,Nt=$e(bt+Dt*o,zt);return Nt[0]-=Dt*it,Nt}return $e.invert&&(pt.invert=function(bt,zt){var Dt=bt>0?-.5:.5,Nt=$e.invert(bt+Dt*it,zt),hr=Nt[0]-Dt*o;return hr<-o?hr+=2*o:hr>o&&(hr-=2*o),Nt[0]=hr,Nt}),pt}function Pn($e,it){var pt=f($e),bt=f(it),zt=c(it),Dt=c($e)*zt,Nt=g($e)*zt,hr=g(bt*it);$e=P(L(Nt,hr)),it=p(Dt),P($e-v)>w&&($e%=v);var br=zn($e>o/4?v-$e:$e,it);return $e>o/4&&(hr=br[0],br[0]=-br[1],br[1]=-hr),br[0]*=pt,br[1]*=-bt,br}Pn.invert=function($e,it){P($e)>1&&($e=f($e)*2-$e),P(it)>1&&(it=f(it)*2-it);var pt=f($e),bt=f(it),zt=-pt*$e,Dt=-bt*it,Nt=Dt/zt<1,hr=ta(Nt?Dt:zt,Nt?zt:Dt),br=hr[0],ur=hr[1],wr=c(ur);return Nt&&(br=-v-br),[pt*(L(g(br)*wr,-g(ur))+o),bt*p(c(br)*wr)]};function zn($e,it){if(it===v)return[0,0];var pt=g(it),bt=pt*pt,zt=bt*bt,Dt=1+zt,Nt=1+3*zt,hr=1-zt,br=p(1/R(Dt)),ur=hr+bt*Dt*br,wr=(1-pt)/ur,Lr=R(wr),Vr=wr*Dt,tn=R(Vr),sn=Lr*hr,mn,Dn;if($e===0)return[0,-(sn+bt*tn)];var la=c(it),Ea=1/la,La=2*pt*la,Ca=(-3*bt+br*Nt)*La,Ia=(-ur*la-(1-pt)*Ca)/(ur*ur),Za=.5*Ia/Lr,Li=hr*Za-2*bt*Lr*La,bi=bt*Dt*Ia+wr*Nt*La,fi=-Ea*La,da=-Ea*bi,Ai=-2*Ea*Li,Xo=4*$e/o,Js;if($e>.222*o||it<o/4&&$e>.175*o){if(mn=(sn+bt*R(Vr*(1+zt)-sn*sn))/(1+zt),$e>o/4)return[mn,mn];var le=mn,Me=.5*mn;mn=.5*(Me+le),Dn=50;do{var _e=R(Vr-mn*mn),je=mn*(Ai+fi*_e)+da*p(mn/tn)-Xo;if(!je)break;je<0?Me=mn:le=mn,mn=.5*(Me+le)}while(P(le-Me)>w&&--Dn>0)}else{mn=w,Dn=25;do{var at=mn*mn,ft=R(Vr-at),_t=Ai+fi*ft,At=mn*_t+da*p(mn/tn)-Xo,Ht=_t+(da-fi*at)/ft;mn-=Js=ft?At/Ht:0}while(P(Js)>w&&--Dn>0)}return[mn,-sn-bt*R(Vr-mn*mn)]}function ta($e,it){for(var pt=0,bt=1,zt=.5,Dt=50;;){var Nt=zt*zt,hr=R(zt),br=p(1/R(1+Nt)),ur=1-Nt+zt*(1+Nt)*br,wr=(1-hr)/ur,Lr=R(wr),Vr=wr*(1+Nt),tn=Lr*(1-Nt),sn=Vr-$e*$e,mn=R(sn),Dn=it+tn+zt*mn;if(P(bt-pt)<d||--Dt===0||Dn===0)break;Dn>0?pt=zt:bt=zt,zt=.5*(pt+bt)}if(!Dt)return null;var la=p(hr),Ea=c(la),La=1/Ea,Ca=2*hr*Ea,Ia=(-3*zt+br*(1+3*Nt))*Ca,Za=(-ur*Ea-(1-hr)*Ia)/(ur*ur),Li=.5*Za/Lr,bi=(1-Nt)*Li-2*zt*Lr*Ca,fi=-2*La*bi,da=-La*Ca,Ai=-La*(zt*(1+Nt)*Za+wr*(1+3*Nt)*Ca);return[o/4*($e*(fi+da*mn)+Ai*p($e/R(Vr))),la]}function Un(){return(0,x.c)(yn(Pn)).scale(239.75)}function ra($e,it,pt){var bt,zt,Dt;return $e?(bt=Jn($e,pt),it?(zt=Jn(it,1-pt),Dt=zt[1]*zt[1]+pt*bt[0]*bt[0]*zt[0]*zt[0],[[bt[0]*zt[2]/Dt,bt[1]*bt[2]*zt[0]*zt[1]/Dt],[bt[1]*zt[1]/Dt,-bt[0]*bt[2]*zt[0]*zt[2]/Dt],[bt[2]*zt[1]*zt[2]/Dt,-pt*bt[0]*bt[1]*zt[0]/Dt]]):[[bt[0],0],[bt[1],0],[bt[2],0]]):(zt=Jn(it,1-pt),[[0,zt[0]/zt[1]],[1/zt[1],0],[zt[2]/zt[1],0]])}function Jn($e,it){var pt,bt,zt,Dt,Nt;if(it<w)return Dt=g($e),bt=c($e),pt=it*($e-Dt*bt)/4,[Dt-pt*bt,bt+pt*Dt,1-it*Dt*Dt/2,$e-pt];if(it>=1-w)return pt=(1-it)/4,bt=_($e),Dt=B($e),zt=1/bt,Nt=bt*F($e),[Dt+pt*(Nt-$e)/(bt*bt),zt-pt*Dt*zt*(Nt-$e),zt+pt*Dt*zt*(Nt+$e),2*i(y($e))-v+pt*(Nt-$e)/bt];var hr=[1,0,0,0,0,0,0,0,0],br=[R(it),0,0,0,0,0,0,0,0],ur=0;for(bt=R(1-it),Nt=1;P(br[ur]/hr[ur])>w&&ur<8;)pt=hr[ur++],br[ur]=(pt-bt)/2,hr[ur]=(pt+bt)/2,bt=R(pt*bt),Nt*=2;zt=Nt*hr[ur]*$e;do Dt=br[ur]*g(bt=zt)/hr[ur],zt=(p(Dt)+zt)/2;while(--ur);return[g(zt),Dt=c(zt),Dt/c(zt-bt),zt]}function ea($e,it,pt){var bt=P($e),zt=P(it),Dt=F(zt);if(bt){var Nt=1/g(bt),hr=1/(h(bt)*h(bt)),br=-(hr+pt*(Dt*Dt*Nt*Nt)-1+pt),ur=(pt-1)*hr,wr=(-br+R(br*br-4*ur))/2;return[pr(i(1/R(wr)),pt)*f($e),pr(i(R((wr/hr-1)/pt)),1-pt)*f(it)]}return[0,pr(i(Dt),1-pt)*f(it)]}function pr($e,it){if(!it)return $e;if(it===1)return t(h($e/2+A));for(var pt=1,bt=R(1-it),zt=R(it),Dt=0;P(zt)>w;Dt++){if($e%o){var Nt=i(bt*h($e)/pt);Nt<0&&(Nt+=o),$e+=Nt+~~($e/o)*o}else $e+=$e;zt=(pt+bt)/2,bt=R(pt*bt),zt=((pt=zt)-bt)/2}return $e/(u(2,Dt)*pt)}function Jr($e,it){var pt=(M-1)/(M+1),bt=R(1-pt*pt),zt=pr(v,bt*bt),Dt=-1,Nt=t(h(o/4+P(it)/2)),hr=y(Dt*Nt)/R(pt),br=Xr(hr*c(Dt*$e),hr*g(Dt*$e)),ur=ea(br[0],br[1],bt*bt);return[-ur[1],(it>=0?1:-1)*(.5*zt-ur[0])]}function Xr($e,it){var pt=$e*$e,bt=it+1,zt=1-pt-it*it;return[.5*(($e>=0?v:-v)-L(zt,2*$e)),-.25*t(zt*zt+4*pt)+.5*t(bt*bt+pt)]}function vn($e,it){var pt=it[0]*it[0]+it[1]*it[1];return[($e[0]*it[0]+$e[1]*it[1])/pt,($e[1]*it[0]-$e[0]*it[1])/pt]}Jr.invert=function($e,it){var pt=(M-1)/(M+1),bt=R(1-pt*pt),zt=pr(v,bt*bt),Dt=-1,Nt=ra(.5*zt-it,-$e,bt*bt),hr=vn(Nt[0],Nt[1]),br=L(hr[1],hr[0])/Dt;return[br,2*i(y(.5/Dt*t(pt*hr[0]*hr[0]+pt*hr[1]*hr[1])))-v]};function Bn(){return(0,x.c)(yn(Jr)).scale(151.496)}var Tn=e(61780);function Mn($e){var it=g($e),pt=c($e),bt=On($e);bt.invert=On(-$e);function zt(Dt,Nt){var hr=bt(Dt,Nt);Dt=hr[0],Nt=hr[1];var br=g(Nt),ur=c(Nt),wr=c(Dt),Lr=k(it*br+pt*ur*wr),Vr=g(Lr),tn=P(Vr)>w?Lr/Vr:1;return[tn*pt*g(Dt),(P(Dt)>v?tn:-tn)*(it*ur-pt*br*wr)]}return zt.invert=function(Dt,Nt){var hr=R(Dt*Dt+Nt*Nt),br=-g(hr),ur=c(hr),wr=hr*ur,Lr=-Nt*br,Vr=hr*it,tn=R(wr*wr+Lr*Lr-Vr*Vr),sn=L(wr*Vr+Lr*tn,Lr*Vr-wr*tn),mn=(hr>v?-1:1)*L(Dt*br,hr*c(sn)*ur+Nt*g(sn)*br);return bt.invert(mn,sn)},zt}function On($e){var it=g($e),pt=c($e);return function(bt,zt){var Dt=c(zt),Nt=c(bt)*Dt,hr=g(bt)*Dt,br=g(zt);return[L(hr,Nt*pt-br*it),p(br*pt+Nt*it)]}}function Wn(){var $e=0,it=(0,x.U)(Mn),pt=it($e),bt=pt.rotate,zt=pt.stream,Dt=(0,Tn.c)();return pt.parallel=function(Nt){if(!arguments.length)return $e*T;var hr=pt.rotate();return it($e=Nt*a).rotate(hr)},pt.rotate=function(Nt){return arguments.length?(bt.call(pt,[Nt[0],Nt[1]-$e*T]),Dt.center([-Nt[0],-Nt[1]]),pt):(Nt=bt.call(pt),Nt[1]+=$e*T,Nt)},pt.stream=function(Nt){return Nt=zt(Nt),Nt.sphere=function(){Nt.polygonStart();var hr=.01,br=Dt.radius(90-hr)().coordinates[0],ur=br.length-1,wr=-1,Lr;for(Nt.lineStart();++wr<ur;)Nt.point((Lr=br[wr])[0],Lr[1]);for(Nt.lineEnd(),br=Dt.radius(90+hr)().coordinates[0],ur=br.length-1,Nt.lineStart();--wr>=0;)Nt.point((Lr=br[wr])[0],Lr[1]);Nt.lineEnd(),Nt.polygonEnd()},Nt},pt.scale(79.4187).parallel(45).clipAngle(179.999)}var oa=e(84706),Ra=e(16016),Ar=3,Ir=p(1-1/Ar)*T,Tr=Et(0);function Fr($e){var it=Ir*a,pt=ye(o,it)[0]-ye(-o,it)[0],bt=Tr(0,it)[1],zt=ye(0,it)[1],Dt=m-zt,Nt=S/$e,hr=4/S,br=bt+Dt*Dt*4/S;function ur(wr,Lr){var Vr,tn=P(Lr);if(tn>it){var sn=n($e-1,s(0,r((wr+o)/Nt)));wr+=o*($e-1)/$e-sn*Nt,Vr=ye(wr,tn),Vr[0]=Vr[0]*S/pt-S*($e-1)/(2*$e)+sn*S/$e,Vr[1]=bt+(Vr[1]-zt)*4*Dt/S,Lr<0&&(Vr[1]=-Vr[1])}else Vr=Tr(wr,Lr);return Vr[0]*=hr,Vr[1]/=br,Vr}return ur.invert=function(wr,Lr){wr/=hr,Lr*=br;var Vr=P(Lr);if(Vr>bt){var tn=n($e-1,s(0,r((wr+o)/Nt)));wr=(wr+o*($e-1)/$e-tn*Nt)*pt/S;var sn=ye.invert(wr,.25*(Vr-bt)*S/Dt+zt);return sn[0]-=o*($e-1)/$e-tn*Nt,Lr<0&&(sn[1]=-sn[1]),sn}return Tr.invert(wr,Lr)},ur}function dn($e,it){return[$e,it&1?90-w:Ir]}function Ln($e,it){return[$e,it&1?-90+w:-Ir]}function hn($e){return[$e[0]*(1-w),$e[1]]}function ln($e){var it=[].concat((0,oa.ik)(-180,180+$e/2,$e).map(dn),(0,oa.ik)(180,-180-$e/2,-$e).map(Ln));return{type:"Polygon",coordinates:[$e===180?it.map(hn):it]}}function Mr(){var $e=4,it=(0,x.U)(Fr),pt=it($e),bt=pt.stream;return pt.lobes=function(zt){return arguments.length?it($e=+zt):$e},pt.stream=function(zt){var Dt=pt.rotate(),Nt=bt(zt),hr=(pt.rotate([0,0]),bt(zt));return pt.rotate(Dt),Nt.sphere=function(){(0,Ra.c)(ln(180/$e),hr)},Nt},pt.scale(239.75)}function Yr($e){var it=1+$e,pt=g(1/it),bt=p(pt),zt=2*R(o/(Dt=o+4*bt*it)),Dt,Nt=.5*zt*(it+R($e*(2+$e))),hr=$e*$e,br=it*it;function ur(wr,Lr){var Vr=1-g(Lr),tn,sn;if(Vr&&Vr<2){var mn=v-Lr,Dn=25,la;do{var Ea=g(mn),La=c(mn),Ca=bt+L(Ea,it-La),Ia=1+br-2*it*La;mn-=la=(mn-hr*bt-it*Ea+Ia*Ca-.5*Vr*Dt)/(2*it*Ea*Ca)}while(P(la)>d&&--Dn>0);tn=zt*R(Ia),sn=wr*Ca/o}else tn=zt*($e+Vr),sn=wr*bt/o;return[tn*g(sn),Nt-tn*c(sn)]}return ur.invert=function(wr,Lr){var Vr=wr*wr+(Lr-=Nt)*Lr,tn=(1+br-Vr/(zt*zt))/(2*it),sn=k(tn),mn=g(sn),Dn=bt+L(mn,it-tn);return[p(wr/R(Vr))*o/Dn,p(1-2*(sn-hr*bt-it*mn+(1+br-2*it*tn)*Dn)/Dt)]},ur}function Br(){var $e=1,it=(0,x.U)(Yr),pt=it($e);return pt.ratio=function(bt){return arguments.length?it($e=+bt):$e},pt.scale(167.774).center([0,18.67])}var Qr=.7109889596207567,wn=.0528035274542;function En($e,it){return it>-Qr?($e=Ve($e,it),$e[1]+=wn,$e):Fe($e,it)}En.invert=function($e,it){return it>-Qr?Ve.invert($e,it-wn):Fe.invert($e,it)};function Cn(){return(0,x.c)(En).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Fn($e,it){return P(it)>Qr?($e=Ve($e,it),$e[1]-=it>0?wn:-wn,$e):Fe($e,it)}Fn.invert=function($e,it){return P(it)>Qr?Ve.invert($e,it+(it>0?wn:-wn)):Fe.invert($e,it)};function kn(){return(0,x.c)(Fn).scale(152.63)}function ha($e,it,pt,bt){var zt=R(4*o/(2*pt+(1+$e-it/2)*g(2*pt)+($e+it)/2*g(4*pt)+it/2*g(6*pt))),Dt=R(bt*g(pt)*R((1+$e*c(2*pt)+it*c(4*pt))/(1+$e+it))),Nt=pt*br(1);function hr(Lr){return R(1+$e*c(2*Lr)+it*c(4*Lr))}function br(Lr){var Vr=Lr*pt;return(2*Vr+(1+$e-it/2)*g(2*Vr)+($e+it)/2*g(4*Vr)+it/2*g(6*Vr))/pt}function ur(Lr){return hr(Lr)*g(Lr)}var wr=function(Lr,Vr){var tn=pt*be(br,Nt*g(Vr)/pt,Vr/o);isNaN(tn)&&(tn=pt*f(Vr));var sn=zt*hr(tn);return[sn*Dt*Lr/o*c(tn),sn/Dt*g(tn)]};return wr.invert=function(Lr,Vr){var tn=be(ur,Vr*Dt/zt);return[Lr*o/(c(tn)*zt*Dt*hr(tn)),p(pt*br(tn/pt)/Nt)]},pt===0&&(zt=R(bt/o),wr=function(Lr,Vr){return[Lr*zt,g(Vr)/zt]},wr.invert=function(Lr,Vr){return[Lr/zt,p(Vr*zt)]}),wr}function ca(){var $e=1,it=0,pt=45*a,bt=2,zt=(0,x.U)(ha),Dt=zt($e,it,pt,bt);return Dt.a=function(Nt){return arguments.length?zt($e=+Nt,it,pt,bt):$e},Dt.b=function(Nt){return arguments.length?zt($e,it=+Nt,pt,bt):it},Dt.psiMax=function(Nt){return arguments.length?zt($e,it,pt=+Nt*a,bt):pt*T},Dt.ratio=function(Nt){return arguments.length?zt($e,it,pt,bt=+Nt):bt},Dt.scale(180.739)}function sa($e,it,pt,bt,zt,Dt,Nt,hr,br,ur,wr){if(wr.nanEncountered)return NaN;var Lr,Vr,tn,sn,mn,Dn,la,Ea,La,Ca;if(Lr=pt-it,Vr=$e(it+Lr*.25),tn=$e(pt-Lr*.25),isNaN(Vr)){wr.nanEncountered=!0;return}if(isNaN(tn)){wr.nanEncountered=!0;return}return sn=Lr*(bt+4*Vr+zt)/12,mn=Lr*(zt+4*tn+Dt)/12,Dn=sn+mn,Ca=(Dn-Nt)/15,ur>br?(wr.maxDepthCount++,Dn+Ca):Math.abs(Ca)<hr?Dn+Ca:(la=it+Lr*.5,Ea=sa($e,it,la,bt,Vr,zt,sn,hr*.5,br,ur+1,wr),isNaN(Ea)?(wr.nanEncountered=!0,NaN):(La=sa($e,la,pt,zt,tn,Dt,mn,hr*.5,br,ur+1,wr),isNaN(La)?(wr.nanEncountered=!0,NaN):Ea+La))}function Da($e,it,pt,bt,zt){var Dt={maxDepthCount:0,nanEncountered:!1};bt===void 0&&(bt=1e-8),zt===void 0&&(zt=20);var Nt=$e(it),hr=$e(.5*(it+pt)),br=$e(pt),ur=(Nt+4*hr+br)*(pt-it)/6,wr=sa($e,it,pt,Nt,hr,br,ur,bt,zt,1,Dt);return wr}function si($e,it,pt){function bt(tn){return $e+(1-$e)*u(1-u(tn,it),1/it)}function zt(tn){return Da(bt,0,tn,1e-4)}for(var Dt=1/zt(1),Nt=1e3,hr=(1+1e-8)*Dt,br=[],ur=0;ur<=Nt;ur++)br.push(zt(ur/Nt)*hr);function wr(tn){var sn=0,mn=Nt,Dn=Nt>>1;do br[Dn]>tn?mn=Dn:sn=Dn,Dn=sn+mn>>1;while(Dn>sn);var la=br[Dn+1]-br[Dn];return la&&(la=(tn-br[Dn+1])/la),(Dn+1+la)/Nt}var Lr=2*wr(1)/o*Dt/pt,Vr=function(tn,sn){var mn=wr(P(g(sn))),Dn=bt(mn)*tn;return mn/=Lr,[Dn,sn>=0?mn:-mn]};return Vr.invert=function(tn,sn){var mn;return sn*=Lr,P(sn)<1&&(mn=f(sn)*p(zt(P(sn))*Dt)),[tn/bt(P(sn)),mn]},Vr}function ii(){var $e=0,it=2.5,pt=1.183136,bt=(0,x.U)(si),zt=bt($e,it,pt);return zt.alpha=function(Dt){return arguments.length?bt($e=+Dt,it,pt):$e},zt.k=function(Dt){return arguments.length?bt($e,it=+Dt,pt):it},zt.gamma=function(Dt){return arguments.length?bt($e,it,pt=+Dt):pt},zt.scale(152.63)}function Lo($e,it){return P($e[0]-it[0])<w&&P($e[1]-it[1])<w}function xo($e,it){for(var pt=-1,bt=$e.length,zt=$e[0],Dt,Nt,hr,br=[];++pt<bt;){Dt=$e[pt],Nt=(Dt[0]-zt[0])/it,hr=(Dt[1]-zt[1])/it;for(var ur=0;ur<it;++ur)br.push([zt[0]+ur*Nt,zt[1]+ur*hr]);zt=Dt}return br.push(Dt),br}function Gs($e){var it=[],pt,bt,zt,Dt,Nt,hr,br,ur=$e[0].length;for(br=0;br<ur;++br)pt=$e[0][br],bt=pt[0][0],zt=pt[0][1],Dt=pt[1][1],Nt=pt[2][0],hr=pt[2][1],it.push(xo([[bt+w,zt+w],[bt+w,Dt-w],[Nt-w,Dt-w],[Nt-w,hr+w]],30));for(br=$e[1].length-1;br>=0;--br)pt=$e[1][br],bt=pt[0][0],zt=pt[0][1],Dt=pt[1][1],Nt=pt[2][0],hr=pt[2][1],it.push(xo([[Nt-w,hr-w],[Nt-w,Dt+w],[bt+w,Dt+w],[bt+w,zt-w]],30));return{type:"Polygon",coordinates:[(0,oa.Uf)(it)]}}function co($e,it,pt){var bt,zt;function Dt(br,ur){for(var wr=ur<0?-1:1,Lr=it[+(ur<0)],Vr=0,tn=Lr.length-1;Vr<tn&&br>Lr[Vr][2][0];++Vr);var sn=$e(br-Lr[Vr][1][0],ur);return sn[0]+=$e(Lr[Vr][1][0],wr*ur>wr*Lr[Vr][0][1]?Lr[Vr][0][1]:ur)[0],sn}pt?Dt.invert=pt(Dt):$e.invert&&(Dt.invert=function(br,ur){for(var wr=zt[+(ur<0)],Lr=it[+(ur<0)],Vr=0,tn=wr.length;Vr<tn;++Vr){var sn=wr[Vr];if(sn[0][0]<=br&&br<sn[1][0]&&sn[0][1]<=ur&&ur<sn[1][1]){var mn=$e.invert(br-$e(Lr[Vr][1][0],0)[0],ur);return mn[0]+=Lr[Vr][1][0],Lo(Dt(mn[0],mn[1]),[br,ur])?mn:null}}});var Nt=(0,x.c)(Dt),hr=Nt.stream;return Nt.stream=function(br){var ur=Nt.rotate(),wr=hr(br),Lr=(Nt.rotate([0,0]),hr(br));return Nt.rotate(ur),wr.sphere=function(){(0,Ra.c)(bt,Lr)},wr},Nt.lobes=function(br){return arguments.length?(bt=Gs(br),it=br.map(function(ur){return ur.map(function(wr){return[[wr[0][0]*a,wr[0][1]*a],[wr[1][0]*a,wr[1][1]*a],[wr[2][0]*a,wr[2][1]*a]]})}),zt=it.map(function(ur){return ur.map(function(wr){var Lr=$e(wr[0][0],wr[0][1])[0],Vr=$e(wr[2][0],wr[2][1])[0],tn=$e(wr[1][0],wr[0][1])[1],sn=$e(wr[1][0],wr[1][1])[1],mn;return tn>sn&&(mn=tn,tn=sn,sn=mn),[[Lr,tn],[Vr,sn]]})}),Nt):it.map(function(ur){return ur.map(function(wr){return[[wr[0][0]*T,wr[0][1]*T],[wr[1][0]*T,wr[1][1]*T],[wr[2][0]*T,wr[2][1]*T]]})})},it!=null&&Nt.lobes(it),Nt}var au=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ll(){return co(lt,au).scale(160.857)}var ai=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function sl(){return co(Fn,ai).scale(152.63)}var vf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Oi(){return co(Ve,vf).scale(169.529)}var bo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Qf(){return co(Ve,bo).scale(169.529).rotate([20,0])}var Uu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Bi(){return co(En,Uu,Pe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var As=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function No(){return co(Fe,As).scale(152.63).rotate([-20,0])}function Fi($e,it){return[3/S*$e*R(o*o/3-it*it),it]}Fi.invert=function($e,it){return[S/3*$e/R(o*o/3-it*it),it]};function Vu(){return(0,x.c)(Fi).scale(158.837)}function Ci($e){function it(pt,bt){if(P(P(bt)-v)<w)return[0,bt<0?-2:2];var zt=g(bt),Dt=u((1+zt)/(1-zt),$e/2),Nt=.5*(Dt+1/Dt)+c(pt*=$e);return[2*g(pt)/Nt,(Dt-1/Dt)/Nt]}return it.invert=function(pt,bt){var zt=P(bt);if(P(zt-2)<w)return pt?null:[0,f(bt)*v];if(zt>2)return null;pt/=2,bt/=2;var Dt=pt*pt,Nt=bt*bt,hr=2*bt/(1+Dt+Nt);return hr=u((1+hr)/(1-hr),1/$e),[L(2*pt,1-Dt-Nt)/$e,p((hr-1)/(hr+1))]},it}function is(){var $e=.5,it=(0,x.U)(Ci),pt=it($e);return pt.spacing=function(bt){return arguments.length?it($e=+bt):$e},pt.scale(124.75)}var Po=o/M;function iu($e,it){return[$e*(1+R(c(it)))/2,it/(c(it/2)*c($e/6))]}iu.invert=function($e,it){var pt=P($e),bt=P(it),zt=w,Dt=v;bt<Po?Dt*=bt/Po:zt+=6*k(Po/bt);for(var Nt=0;Nt<25;Nt++){var hr=g(Dt),br=R(c(Dt)),ur=g(Dt/2),wr=c(Dt/2),Lr=g(zt/6),Vr=c(zt/6),tn=.5*zt*(1+br)-pt,sn=Dt/(wr*Vr)-bt,mn=br?-.25*zt*hr/br:0,Dn=.5*(1+br),la=(1+.5*Dt*ur/wr)/(wr*Vr),Ea=Dt/wr*(Lr/6)/(Vr*Vr),La=mn*Ea-la*Dn,Ca=(tn*Ea-sn*Dn)/La,Ia=(sn*mn-tn*la)/La;if(Dt-=Ca,zt-=Ia,P(Ca)<w&&P(Ia)<w)break}return[$e<0?-zt:zt,it<0?-Dt:Dt]};function Ki(){return(0,x.c)(iu).scale(97.2672)}function Pl($e,it){var pt=$e*$e,bt=it*it;return[$e*(.975534+bt*(-.119161+pt*-.0143059+bt*-.0547009)),it*(1.00384+pt*(.0802894+bt*-.02855+pt*199025e-9)+bt*(.0998909+bt*-.0491032))]}Pl.invert=function($e,it){var pt=f($e)*o,bt=it/2,zt=50;do{var Dt=pt*pt,Nt=bt*bt,hr=pt*bt,br=pt*(.975534+Nt*(-.119161+Dt*-.0143059+Nt*-.0547009))-$e,ur=bt*(1.00384+Dt*(.0802894+Nt*-.02855+Dt*199025e-9)+Nt*(.0998909+Nt*-.0491032))-it,wr=.975534-Nt*(.119161+3*Dt*.0143059+Nt*.0547009),Lr=-hr*(2*.119161+4*.0547009*Nt+2*.0143059*Dt),Vr=hr*(2*.0802894+4*199025e-9*Dt+2*-.02855*Nt),tn=1.00384+Dt*(.0802894+199025e-9*Dt)+Nt*(3*(.0998909-.02855*Dt)-5*.0491032*Nt),sn=Lr*Vr-tn*wr,mn=(ur*Lr-br*tn)/sn,Dn=(br*Vr-ur*wr)/sn;pt-=mn,bt-=Dn}while((P(mn)>w||P(Dn)>w)&&--zt>0);return zt&&[pt,bt]};function Ms(){return(0,x.c)(Pl).scale(139.98)}function Wi($e,it){return[g($e)/c(it),h(it)*c($e)]}Wi.invert=function($e,it){var pt=$e*$e,bt=it*it,zt=bt+1,Dt=pt+zt,Nt=$e?b*R((Dt-R(Dt*Dt-4*pt))/pt):1/R(zt);return[p($e*Nt),f(it)*k(Nt)]};function Qc(){return(0,x.c)(Wi).scale(144.049).clipAngle(89.999)}function Ss($e){var it=c($e),pt=h(A+$e/2);function bt(zt,Dt){var Nt=Dt-$e,hr=P(Nt)<w?zt*it:P(hr=A+Dt/2)<w||P(P(hr)-v)<w?0:zt*Nt/t(h(hr)/pt);return[hr,Nt]}return bt.invert=function(zt,Dt){var Nt,hr=Dt+$e;return[P(Dt)<w?zt/it:P(Nt=A+hr/2)<w||P(P(Nt)-v)<w?0:zt*t(h(Nt)/pt)/Dt,hr]},bt}function Es(){return He(Ss).parallel(40).scale(158.837)}function Rl($e,it){return[$e,1.25*t(h(A+.4*it))]}Rl.invert=function($e,it){return[$e,2.5*i(y(.8*it))-.625*o]};function $c(){return(0,x.c)(Rl).scale(108.318)}function $f($e){var it=$e.length-1;function pt(bt,zt){for(var Dt=c(zt),Nt=2/(1+Dt*c(bt)),hr=Nt*Dt*g(bt),br=Nt*g(zt),ur=it,wr=$e[ur],Lr=wr[0],Vr=wr[1],tn;--ur>=0;)wr=$e[ur],Lr=wr[0]+hr*(tn=Lr)-br*Vr,Vr=wr[1]+hr*Vr+br*tn;return Lr=hr*(tn=Lr)-br*Vr,Vr=hr*Vr+br*tn,[Lr,Vr]}return pt.invert=function(bt,zt){var Dt=20,Nt=bt,hr=zt;do{for(var br=it,ur=$e[br],wr=ur[0],Lr=ur[1],Vr=0,tn=0,sn;--br>=0;)ur=$e[br],Vr=wr+Nt*(sn=Vr)-hr*tn,tn=Lr+Nt*tn+hr*sn,wr=ur[0]+Nt*(sn=wr)-hr*Lr,Lr=ur[1]+Nt*Lr+hr*sn;Vr=wr+Nt*(sn=Vr)-hr*tn,tn=Lr+Nt*tn+hr*sn,wr=Nt*(sn=wr)-hr*Lr-bt,Lr=Nt*Lr+hr*sn-zt;var mn=Vr*Vr+tn*tn,Dn,la;Nt-=Dn=(wr*Vr+Lr*tn)/mn,hr-=la=(Lr*Vr-wr*tn)/mn}while(P(Dn)+P(la)>w*w&&--Dt>0);if(Dt){var Ea=R(Nt*Nt+hr*hr),La=2*i(Ea*.5),Ca=g(La);return[L(Nt*Ca,Ea*c(La)),Ea?p(hr*Ca/Ea):0]}},pt}var Hu=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],qc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],eh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],th=[[.9245,0],[0,0],[.01943,0]],df=[[.721316,0],[0,0],[-.00881625,-.00617325]];function rh(){return ll(Hu,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function nh(){return ll(qc,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function qf(){return ll(eh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function ah(){return ll(th,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function ih(){return ll(df,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ll($e,it){var pt=(0,x.c)($f($e)).rotate(it).clipAngle(90),bt=(0,Je.c)(it),zt=pt.center;return delete pt.rotate,pt.center=function(Dt){return arguments.length?zt(bt(Dt)):bt.invert(zt())},pt}var ou=R(6),ul=R(7);function su($e,it){var pt=p(7*g(it)/(3*ou));return[ou*$e*(2*c(2*pt/3)-1)/ul,9*g(pt/3)/ul]}su.invert=function($e,it){var pt=3*p(it*ul/9);return[$e*ul/(ou*(2*c(2*pt/3)-1)),p(g(pt)*3*ou/7)]};function pf(){return(0,x.c)(su).scale(164.859)}function gf($e,it){for(var pt=(1+b)*g(it),bt=it,zt=0,Dt;zt<25&&(bt-=Dt=(g(bt/2)+g(bt)-pt)/(.5*c(bt/2)+c(bt)),!(P(Dt)<w));zt++);return[$e*(1+2*c(bt)/c(bt/2))/(3*M),2*R(3)*g(bt/2)/R(2+M)]}gf.invert=function($e,it){var pt=it*R(2+M)/(2*R(3)),bt=2*p(pt);return[3*M*$e/(1+2*c(bt)/c(bt/2)),p((pt+g(bt))/(1+b))]};function ec(){return(0,x.c)(gf).scale(188.209)}function Cs($e,it){for(var pt=R(6/(4+o)),bt=(1+o/4)*g(it),zt=it/2,Dt=0,Nt;Dt<25&&(zt-=Nt=(zt/2+g(zt)-bt)/(.5+c(zt)),!(P(Nt)<w));Dt++);return[pt*(.5+c(zt))*$e/1.5,pt*zt]}Cs.invert=function($e,it){var pt=R(6/(4+o)),bt=it/pt;return P(P(bt)-v)<w&&(bt=bt<0?-v:v),[1.5*$e/(pt*(.5+c(bt))),p((bt/2+g(bt))/(1+o/4))]};function oh(){return(0,x.c)(Cs).scale(166.518)}var tc=e(47984);function Mo($e,it){var pt=it*it,bt=pt*pt,zt=pt*bt;return[$e*(.84719-.13063*pt+zt*zt*(-.04515+.05494*pt-.02326*bt+.00331*zt)),it*(1.01183+bt*bt*(-.02625+.01926*pt-.00396*bt))]}Mo.invert=function($e,it){var pt=it,bt=25,zt,Dt,Nt,hr;do Dt=pt*pt,Nt=Dt*Dt,pt-=zt=(pt*(1.01183+Nt*Nt*(-.02625+.01926*Dt-.00396*Nt))-it)/(1.01183+Nt*Nt*(-.23625+.21186*Dt+-.05148*Nt));while(P(zt)>d&&--bt>0);return Dt=pt*pt,Nt=Dt*Dt,hr=Dt*Nt,[$e/(.84719-.13063*Dt+hr*hr*(-.04515+.05494*Dt-.02326*Nt+.00331*hr)),pt]};function Gu(){return(0,x.c)(Mo).scale(175.295)}function os($e,it){return[$e*(1+c(it))/2,2*(it-h(it/2))]}os.invert=function($e,it){for(var pt=it/2,bt=0,zt=1/0;bt<10&&P(zt)>w;++bt){var Dt=c(it/2);it-=zt=(it-h(it/2)-pt)/(1-.5/(Dt*Dt))}return[2*$e/(1+c(it)),it]};function Wu(){return(0,x.c)(os).scale(152.63)}var Ws=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ys(){return co(fe(1/0),Ws).rotate([20,0]).scale(152.63)}function Dl($e,it){var pt=g(it),bt=c(it),zt=f($e);if($e===0||P(it)===v)return[0,it];if(it===0)return[$e,0];if(P($e)===v)return[$e*bt,v*pt];var Dt=o/(2*$e)-2*$e/o,Nt=2*it/o,hr=(1-Nt*Nt)/(pt-Nt),br=Dt*Dt,ur=hr*hr,wr=1+br/ur,Lr=1+ur/br,Vr=(Dt*pt/hr-Dt/2)/wr,tn=(ur*pt/br+hr/2)/Lr,sn=Vr*Vr+bt*bt/wr,mn=tn*tn-(ur*pt*pt/br+hr*pt-1)/Lr;return[v*(Vr+R(sn)*zt),v*(tn+R(mn<0?0:mn)*f(-it*Dt)*zt)]}Dl.invert=function($e,it){$e/=v,it/=v;var pt=$e*$e,bt=it*it,zt=pt+bt,Dt=o*o;return[$e?(zt-1+R((1-zt)*(1-zt)+4*pt))/(2*$e)*v:0,be(function(Nt){return zt*(o*g(Nt)-2*Nt)*o+4*Nt*Nt*(it-g(Nt))+2*o*Nt-Dt*it},0)]};function Yu(){return(0,x.c)(Dl).scale(127.267)}var Uo=1.0148,_i=.23185,yf=-.14499,mf=.02406,lu=Uo,rc=5*_i,nc=7*yf,ac=9*mf,Ls=1.790857183;function Ro($e,it){var pt=it*it;return[$e,it*(Uo+pt*pt*(_i+pt*(yf+mf*pt)))]}Ro.invert=function($e,it){it>Ls?it=Ls:it<-Ls&&(it=-Ls);var pt=it,bt;do{var zt=pt*pt;pt-=bt=(pt*(Uo+zt*zt*(_i+zt*(yf+mf*zt)))-it)/(lu+zt*zt*(rc+zt*(nc+ac*zt)))}while(P(bt)>w);return[$e,pt]};function Vo(){return(0,x.c)(Ro).scale(139.319)}function xf($e,it){if(P(it)<w)return[$e,0];var pt=h(it),bt=$e*g(it);return[g(bt)/pt,it+(1-c(bt))/pt]}xf.invert=function($e,it){if(P(it)<w)return[$e,0];var pt=$e*$e+it*it,bt=it*.5,zt=10,Dt;do{var Nt=h(bt),hr=1/c(bt),br=pt-2*it*bt+bt*bt;bt-=Dt=(Nt*br+2*(bt-it))/(2+br*hr*hr+2*(bt-it)*Nt)}while(P(Dt)>w&&--zt>0);return Nt=h(bt),[(P(it)<P(bt+1/Nt)?p($e*Nt):f(it)*f($e)*(k(P($e*Nt))+v))/g(bt),bt]};function sh(){return(0,x.c)(xf).scale(103.74)}var lh=e(13696),uu=e(27284);function Xu($e,it){var pt=wf($e[1],$e[0]),bt=wf(it[1],it[0]),zt=xi(pt,bt),Dt=Tf(pt)/Tf(bt);return Il([1,0,$e[0][0],0,1,$e[0][1]],Il([Dt,0,0,0,Dt,0],Il([c(zt),g(zt),0,-g(zt),c(zt),0],[1,0,-it[0][0],0,1,-it[0][1]])))}function bf($e){var it=1/($e[0]*$e[4]-$e[1]*$e[3]);return[it*$e[4],-it*$e[1],it*($e[1]*$e[5]-$e[2]*$e[4]),-it*$e[3],it*$e[0],it*($e[2]*$e[3]-$e[0]*$e[5])]}function Il($e,it){return[$e[0]*it[0]+$e[1]*it[3],$e[0]*it[1]+$e[1]*it[4],$e[0]*it[2]+$e[1]*it[5]+$e[2],$e[3]*it[0]+$e[4]*it[3],$e[3]*it[1]+$e[4]*it[4],$e[3]*it[2]+$e[4]*it[5]+$e[5]]}function wf($e,it){return[$e[0]-it[0],$e[1]-it[1]]}function Tf($e){return R($e[0]*$e[0]+$e[1]*$e[1])}function xi($e,it){return L($e[0]*it[1]-$e[1]*it[0],$e[0]*it[0]+$e[1]*it[1])}function kl($e,it,pt){bt($e,{transform:null});function bt(ur,wr){if(ur.edges=Fl(ur.face),wr.face){var Lr=ur.shared=ic(ur.face,wr.face),Vr=Xu(Lr.map(wr.project),Lr.map(ur.project));ur.transform=wr.transform?Il(wr.transform,Vr):Vr;for(var tn=wr.edges,sn=0,mn=tn.length;sn<mn;++sn)Ps(Lr[0],tn[sn][1])&&Ps(Lr[1],tn[sn][0])&&(tn[sn]=ur),Ps(Lr[0],tn[sn][0])&&Ps(Lr[1],tn[sn][1])&&(tn[sn]=ur);for(tn=ur.edges,sn=0,mn=tn.length;sn<mn;++sn)Ps(Lr[0],tn[sn][0])&&Ps(Lr[1],tn[sn][1])&&(tn[sn]=wr),Ps(Lr[0],tn[sn][1])&&Ps(Lr[1],tn[sn][0])&&(tn[sn]=wr)}else ur.transform=wr.transform;return ur.children&&ur.children.forEach(function(Dn){bt(Dn,ur)}),ur}function zt(ur,wr){var Lr=it(ur,wr),Vr=Lr.project([ur*T,wr*T]),tn;return(tn=Lr.transform)?[tn[0]*Vr[0]+tn[1]*Vr[1]+tn[2],-(tn[3]*Vr[0]+tn[4]*Vr[1]+tn[5])]:(Vr[1]=-Vr[1],Vr)}_l($e)&&(zt.invert=function(ur,wr){var Lr=Dt($e,[ur,-wr]);return Lr&&(Lr[0]*=a,Lr[1]*=a,Lr)});function Dt(ur,wr){var Lr=ur.project.invert,Vr=ur.transform,tn=wr;if(Vr&&(Vr=bf(Vr),tn=[Vr[0]*tn[0]+Vr[1]*tn[1]+Vr[2],Vr[3]*tn[0]+Vr[4]*tn[1]+Vr[5]]),Lr&&ur===Nt(sn=Lr(tn)))return sn;for(var sn,mn=ur.children,Dn=0,la=mn&&mn.length;Dn<la;++Dn)if(sn=Dt(mn[Dn],wr))return sn}function Nt(ur){return it(ur[0]*a,ur[1]*a)}var hr=(0,x.c)(zt),br=hr.stream;return hr.stream=function(ur){var wr=hr.rotate(),Lr=br(ur),Vr=(hr.rotate([0,0]),br(ur));return hr.rotate(wr),Lr.sphere=function(){Vr.polygonStart(),Vr.lineStart(),fl(Vr,$e),Vr.lineEnd(),Vr.polygonEnd()},Lr},hr.angle(pt==null?-30:pt*T)}function fl($e,it,pt){var bt,zt=it.edges,Dt=zt.length,Nt,hr={type:"MultiPoint",coordinates:it.face},br=it.face.filter(function(mn){return P(mn[1])!==90}),ur=(0,lh.c)({type:"MultiPoint",coordinates:br}),wr=!1,Lr=-1,Vr=ur[1][0]-ur[0][0],tn=Vr===180||Vr===360?[(ur[0][0]+ur[1][0])/2,(ur[0][1]+ur[1][1])/2]:(0,Ge.c)(hr);if(pt)for(;++Lr<Dt&&zt[Lr]!==pt;);++Lr;for(var sn=0;sn<Dt;++sn)Nt=zt[(sn+Lr)%Dt],Array.isArray(Nt)?(wr||($e.point((bt=(0,uu.c)(Nt[0],tn)(w))[0],bt[1]),wr=!0),$e.point((bt=(0,uu.c)(Nt[1],tn)(w))[0],bt[1])):(wr=!1,Nt!==pt&&fl($e,Nt,it))}function Ps($e,it){return $e&&it&&$e[0]===it[0]&&$e[1]===it[1]}function ic($e,it){for(var pt,bt,zt=$e.length,Dt=null,Nt=0;Nt<zt;++Nt){pt=$e[Nt];for(var hr=it.length;--hr>=0;)if(bt=it[hr],pt[0]===bt[0]&&pt[1]===bt[1]){if(Dt)return[Dt,pt];Dt=pt}}}function Fl($e){for(var it=$e.length,pt=[],bt=$e[it-1],zt=0;zt<it;++zt)pt.push([bt,bt=$e[zt]]);return pt}function _l($e){return $e.project.invert||$e.children&&$e.children.some(_l)}var zl=e(53285),Ji=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],cl=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($e){return $e.map(function(it){return Ji[it]})});function Ho($e){$e=$e||function(pt){var bt=(0,Ge.c)({type:"MultiPoint",coordinates:pt});return(0,zl.c)().scale(1).translate([0,0]).rotate([-bt[0],-bt[1]])};var it=cl.map(function(pt){return{face:pt,project:$e(pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(pt,bt){var zt=it[pt];zt&&(zt.children||(zt.children=[])).push(it[bt])}),kl(it[0],function(pt,bt){return it[pt<-o/2?bt<0?6:4:pt<0?bt<0?2:0:pt<o/2?bt<0?3:1:bt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ss=2/R(3);function Rs($e,it){var pt=ye($e,it);return[pt[0]*ss,pt[1]]}Rs.invert=function($e,it){return ye.invert($e/ss,it)};function Xs($e){$e=$e||function(pt){var bt=(0,Ge.c)({type:"MultiPoint",coordinates:pt});return(0,x.c)(Rs).translate([0,0]).scale(1).rotate(bt[1]>0?[-bt[0],0]:[180-bt[0],180])};var it=cl.map(function(pt){return{face:pt,project:$e(pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(pt,bt){var zt=it[pt];zt&&(zt.children||(zt.children=[])).push(it[bt])}),kl(it[0],function(pt,bt){return it[pt<-o/2?bt<0?6:4:pt<0?bt<0?2:0:pt<o/2?bt<0?3:1:bt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Zs($e){$e=$e||function(Nt){var hr=Nt.length===6?(0,Ge.c)({type:"MultiPoint",coordinates:Nt}):Nt[0];return(0,zl.c)().scale(1).translate([0,0]).rotate([-hr[0],-hr[1]])};var it=cl.map(function(Nt){for(var hr=Nt.map(fu),br=hr.length,ur=hr[br-1],wr,Lr=[],Vr=0;Vr<br;++Vr)wr=hr[Vr],Lr.push(us([ur[0]*.9486832980505138+wr[0]*.31622776601683794,ur[1]*.9486832980505138+wr[1]*.31622776601683794,ur[2]*.9486832980505138+wr[2]*.31622776601683794]),us([wr[0]*.9486832980505138+ur[0]*.31622776601683794,wr[1]*.9486832980505138+ur[1]*.31622776601683794,wr[2]*.9486832980505138+ur[2]*.31622776601683794])),ur=wr;return Lr}),pt=[],bt=[-1,0,0,1,0,1,4,5];it.forEach(function(Nt,hr){for(var br=cl[hr],ur=br.length,wr=pt[hr]=[],Lr=0;Lr<ur;++Lr)it.push([br[Lr],Nt[(Lr*2+2)%(2*ur)],Nt[(Lr*2+1)%(2*ur)]]),bt.push(hr),wr.push(Ds(fu(Nt[(Lr*2+2)%(2*ur)]),fu(Nt[(Lr*2+1)%(2*ur)])))});var zt=it.map(function(Nt){return{project:$e(Nt),face:Nt}});bt.forEach(function(Nt,hr){var br=zt[Nt];br&&(br.children||(br.children=[])).push(zt[hr])});function Dt(Nt,hr){var br=c(hr),ur=[br*c(Nt),br*g(Nt),g(hr)],wr=Nt<-o/2?hr<0?6:4:Nt<0?hr<0?2:0:Nt<o/2?hr<0?3:1:hr<0?7:5,Lr=pt[wr];return zt[ls(Lr[0],ur)<0?8+3*wr:ls(Lr[1],ur)<0?8+3*wr+1:ls(Lr[2],ur)<0?8+3*wr+2:wr]}return kl(zt[0],Dt).angle(-30).scale(110.625).center([0,45])}function ls($e,it){for(var pt=0,bt=$e.length,zt=0;pt<bt;++pt)zt+=$e[pt]*it[pt];return zt}function Ds($e,it){return[$e[1]*it[2]-$e[2]*it[1],$e[2]*it[0]-$e[0]*it[2],$e[0]*it[1]-$e[1]*it[0]]}function us($e){return[L($e[1],$e[0])*T,p(s(-1,n(1,$e[2])))*T]}function fu($e){var it=$e[0]*a,pt=$e[1]*a,bt=c(pt);return[bt*c(it),bt*g(it),g(pt)]}function Ol(){}function Af($e){if((pt=$e.length)<4)return!1;for(var it=0,pt,bt=$e[pt-1][1]*$e[0][0]-$e[pt-1][0]*$e[0][1];++it<pt;)bt+=$e[it-1][1]*$e[it][0]-$e[it-1][0]*$e[it][1];return bt<=0}function uh($e,it){for(var pt=it[0],bt=it[1],zt=!1,Dt=0,Nt=$e.length,hr=Nt-1;Dt<Nt;hr=Dt++){var br=$e[Dt],ur=br[0],wr=br[1],Lr=$e[hr],Vr=Lr[0],tn=Lr[1];wr>bt^tn>bt&&pt<(Vr-ur)*(bt-wr)/(tn-wr)+ur&&(zt=!zt)}return zt}function fh($e,it){var pt=it.stream,bt;if(!pt)throw new Error("invalid projection");switch($e&&$e.type){case"Feature":bt=oc;break;case"FeatureCollection":bt=ch;break;default:bt=cu;break}return bt($e,pt)}function ch($e,it){return{type:"FeatureCollection",features:$e.features.map(function(pt){return oc(pt,it)})}}function oc($e,it){return{type:"Feature",id:$e.id,properties:$e.properties,geometry:cu($e.geometry,it)}}function sc($e,it){return{type:"GeometryCollection",geometries:$e.geometries.map(function(pt){return cu(pt,it)})}}function cu($e,it){if(!$e)return null;if($e.type==="GeometryCollection")return sc($e,it);var pt;switch($e.type){case"Point":pt=Mf;break;case"MultiPoint":pt=Mf;break;case"LineString":pt=hu;break;case"MultiLineString":pt=hu;break;case"Polygon":pt=Go;break;case"MultiPolygon":pt=Go;break;case"Sphere":pt=Go;break;default:return null}return(0,Ra.c)($e,it(pt)),pt.result()}var $i=[],So=[],Mf={point:function($e,it){$i.push([$e,it])},result:function(){var $e=$i.length?$i.length<2?{type:"Point",coordinates:$i[0]}:{type:"MultiPoint",coordinates:$i}:null;return $i=[],$e}},hu={lineStart:Ol,point:function($e,it){$i.push([$e,it])},lineEnd:function(){$i.length&&(So.push($i),$i=[])},result:function(){var $e=So.length?So.length<2?{type:"LineString",coordinates:So[0]}:{type:"MultiLineString",coordinates:So}:null;return So=[],$e}},Go={polygonStart:Ol,lineStart:Ol,point:function($e,it){$i.push([$e,it])},lineEnd:function(){var $e=$i.length;if($e){do $i.push($i[0].slice());while(++$e<4);So.push($i),$i=[]}},polygonEnd:Ol,result:function(){if(!So.length)return null;var $e=[],it=[];return So.forEach(function(pt){Af(pt)?$e.push([pt]):it.push(pt)}),it.forEach(function(pt){var bt=pt[0];$e.some(function(zt){if(uh(zt[0],bt))return zt.push(pt),!0})||$e.push([pt])}),So=[],$e.length?$e.length>1?{type:"MultiPolygon",coordinates:$e}:{type:"Polygon",coordinates:$e[0]}:null}};function Sf($e){var it=$e(v,0)[0]-$e(-v,0)[0];function pt(bt,zt){var Dt=P(bt)<v,Nt=$e(Dt?bt:bt>0?bt-o:bt+o,zt),hr=(Nt[0]-Nt[1])*b,br=(Nt[0]+Nt[1])*b;if(Dt)return[hr,br];var ur=it*b,wr=hr>0^br>0?-1:1;return[wr*hr-f(br)*ur,wr*br-f(hr)*ur]}return $e.invert&&(pt.invert=function(bt,zt){var Dt=(bt+zt)*b,Nt=(zt-bt)*b,hr=P(Dt)<.5*it&&P(Nt)<.5*it;if(!hr){var br=it*b,ur=Dt>0^Nt>0?-1:1,wr=-ur*bt+(Nt>0?1:-1)*br,Lr=-ur*zt+(Dt>0?1:-1)*br;Dt=(-wr-Lr)*b,Nt=(wr-Lr)*b}var Vr=$e.invert(Dt,Nt);return hr||(Vr[0]+=Dt>0?o:-o),Vr}),(0,x.c)(pt).rotate([-90,-90,45]).clipAngle(179.999)}function Ef(){return Sf(Pn).scale(176.423)}function Cf(){return Sf(Jr).scale(111.48)}function hh($e,it){if(!(0<=(it=+it)&&it<=20))throw new Error("invalid digits");function pt(ur){var wr=ur.length,Lr=2,Vr=new Array(wr);for(Vr[0]=+ur[0].toFixed(it),Vr[1]=+ur[1].toFixed(it);Lr<wr;)Vr[Lr]=ur[Lr],++Lr;return Vr}function bt(ur){return ur.map(pt)}function zt(ur){for(var wr=pt(ur[0]),Lr=[wr],Vr=1;Vr<ur.length;Vr++){var tn=pt(ur[Vr]);(tn.length>2||tn[0]!=wr[0]||tn[1]!=wr[1])&&(Lr.push(tn),wr=tn)}return Lr.length===1&&ur.length>1&&Lr.push(pt(ur[ur.length-1])),Lr}function Dt(ur){return ur.map(zt)}function Nt(ur){if(ur==null)return ur;var wr;switch(ur.type){case"GeometryCollection":wr={type:"GeometryCollection",geometries:ur.geometries.map(Nt)};break;case"Point":wr={type:"Point",coordinates:pt(ur.coordinates)};break;case"MultiPoint":wr={type:ur.type,coordinates:bt(ur.coordinates)};break;case"LineString":wr={type:ur.type,coordinates:zt(ur.coordinates)};break;case"MultiLineString":case"Polygon":wr={type:ur.type,coordinates:Dt(ur.coordinates)};break;case"MultiPolygon":wr={type:"MultiPolygon",coordinates:ur.coordinates.map(Dt)};break;default:return ur}return ur.bbox!=null&&(wr.bbox=ur.bbox),wr}function hr(ur){var wr={type:"Feature",properties:ur.properties,geometry:Nt(ur.geometry)};return ur.id!=null&&(wr.id=ur.id),ur.bbox!=null&&(wr.bbox=ur.bbox),wr}if($e!=null)switch($e.type){case"Feature":return hr($e);case"FeatureCollection":{var br={type:"FeatureCollection",features:$e.features.map(hr)};return $e.bbox!=null&&(br.bbox=$e.bbox),br}default:return Nt($e)}return $e}function lc($e){var it=g($e);function pt(bt,zt){var Dt=it?h(bt*it/2)/it:bt/2;if(!zt)return[2*Dt,-$e];var Nt=2*i(Dt*g(zt)),hr=1/h(zt);return[g(Nt)*hr,zt+(1-c(Nt))*hr-$e]}return pt.invert=function(bt,zt){if(P(zt+=$e)<w)return[it?2*i(it*bt/2)/it:bt,0];var Dt=bt*bt+zt*zt,Nt=0,hr=10,br;do{var ur=h(Nt),wr=1/c(Nt),Lr=Dt-2*zt*Nt+Nt*Nt;Nt-=br=(ur*Lr+2*(Nt-zt))/(2+Lr*wr*wr+2*(Nt-zt)*ur)}while(P(br)>w&&--hr>0);var Vr=bt*(ur=h(Nt)),tn=h(P(zt)<P(Nt+1/ur)?p(Vr)*.5:k(Vr)*.5+o/4)/g(Nt);return[it?2*i(it*tn)/it:2*tn,Nt]},pt}function uc(){return He(lc).scale(131.215)}var Ni=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ni.forEach(function($e){$e[1]*=1.0144});function fs($e,it){var pt=n(18,P(it)*36/o),bt=r(pt),zt=pt-bt,Dt=(Lr=Ni[bt])[0],Nt=Lr[1],hr=(Lr=Ni[++bt])[0],br=Lr[1],ur=(Lr=Ni[n(19,++bt)])[0],wr=Lr[1],Lr;return[$e*(hr+zt*(ur-Dt)/2+zt*zt*(ur-2*hr+Dt)/2),(it>0?v:-v)*(br+zt*(wr-Nt)/2+zt*zt*(wr-2*br+Nt)/2)]}fs.invert=function($e,it){var pt=it/v,bt=pt*90,zt=n(18,P(bt/5)),Dt=s(0,r(zt));do{var Nt=Ni[Dt][1],hr=Ni[Dt+1][1],br=Ni[n(19,Dt+2)][1],ur=br-Nt,wr=br-2*hr+Nt,Lr=2*(P(pt)-hr)/ur,Vr=wr/ur,tn=Lr*(1-Vr*Lr*(1-2*Vr*Lr));if(tn>=0||Dt===1){bt=(it>=0?5:-5)*(tn+zt);var sn=50,mn;do zt=n(18,P(bt)/5),Dt=r(zt),tn=zt-Dt,Nt=Ni[Dt][1],hr=Ni[Dt+1][1],br=Ni[n(19,Dt+2)][1],bt-=(mn=(it>=0?v:-v)*(hr+tn*(br-Nt)/2+tn*tn*(br-2*hr+Nt)/2)-it)*T;while(P(mn)>d&&--sn>0);break}}while(--Dt>=0);var Dn=Ni[Dt][0],la=Ni[Dt+1][0],Ea=Ni[n(19,Dt+2)][0];return[$e/(la+tn*(Ea-Dn)/2+tn*tn*(Ea-2*la+Dn)/2),bt*a]};function js(){return(0,x.c)(fs).scale(152.63)}function Zu($e){function it(pt,bt){var zt=c(bt),Dt=($e-1)/($e-zt*c(pt));return[Dt*zt*g(pt),Dt*g(bt)]}return it.invert=function(pt,bt){var zt=pt*pt+bt*bt,Dt=R(zt),Nt=($e-R(1-zt*($e+1)/($e-1)))/(($e-1)/Dt+Dt/($e-1));return[L(pt*Nt,Dt*R(1-Nt*Nt)),Dt?p(bt*Nt/Dt):0]},it}function vu($e,it){var pt=Zu($e);if(!it)return pt;var bt=c(it),zt=g(it);function Dt(Nt,hr){var br=pt(Nt,hr),ur=br[1],wr=ur*zt/($e-1)+bt;return[br[0]*bt/wr,ur/wr]}return Dt.invert=function(Nt,hr){var br=($e-1)/($e-1-hr*zt);return pt.invert(br*Nt,br*hr*bt)},Dt}function ju(){var $e=2,it=0,pt=(0,x.U)(vu),bt=pt($e,it);return bt.distance=function(zt){return arguments.length?pt($e=+zt,it):$e},bt.tilt=function(zt){return arguments.length?pt($e,it=zt*a):it*T},bt.scale(432.147).clipAngle(k(1/$e)*T-1e-6)}var Lf=1e-4,Is=1e4,Bl=-180,cs=Bl+Lf,hs=180,du=hs-Lf,pu=-90,li=pu+Lf,Nl=90,Pf=Nl-Lf;function Rf($e){return $e.length>0}function Ul($e){return Math.floor($e*Is)/Is}function Ku($e){return $e===pu||$e===Nl?[0,$e]:[Bl,Ul($e)]}function gu($e){var it=$e[0],pt=$e[1],bt=!1;return it<=cs?(it=Bl,bt=!0):it>=du&&(it=hs,bt=!0),pt<=li?(pt=pu,bt=!0):pt>=Pf&&(pt=Nl,bt=!0),bt?[it,pt]:$e}function Df($e){return $e.map(gu)}function yu($e,it,pt){for(var bt=0,zt=$e.length;bt<zt;++bt){var Dt=$e[bt].slice();pt.push({index:-1,polygon:it,ring:Dt});for(var Nt=0,hr=Dt.length;Nt<hr;++Nt){var br=Dt[Nt],ur=br[0],wr=br[1];if(ur<=cs||ur>=du||wr<=li||wr>=Pf){Dt[Nt]=gu(br);for(var Lr=Nt+1;Lr<hr;++Lr){var Vr=Dt[Lr],tn=Vr[0],sn=Vr[1];if(tn>cs&&tn<du&&sn>li&&sn<Pf)break}if(Lr===Nt+1)continue;if(Nt){var mn={index:-1,polygon:it,ring:Dt.slice(0,Nt+1)};mn.ring[mn.ring.length-1]=Ku(wr),pt[pt.length-1]=mn}else pt.pop();if(Lr>=hr)break;pt.push({index:-1,polygon:it,ring:Dt=Dt.slice(Lr-1)}),Dt[0]=Ku(Dt[0][1]),Nt=-1,hr=Dt.length}}}}function fc($e){var it,pt=$e.length,bt={},zt={},Dt,Nt,hr,br,ur;for(it=0;it<pt;++it){if(Dt=$e[it],Nt=Dt.ring[0],br=Dt.ring[Dt.ring.length-1],Nt[0]===br[0]&&Nt[1]===br[1]){Dt.polygon.push(Dt.ring),$e[it]=null;continue}Dt.index=it,bt[Nt]=zt[br]=Dt}for(it=0;it<pt;++it)if(Dt=$e[it],Dt){if(Nt=Dt.ring[0],br=Dt.ring[Dt.ring.length-1],hr=zt[Nt],ur=bt[br],delete bt[Nt],delete zt[br],Nt[0]===br[0]&&Nt[1]===br[1]){Dt.polygon.push(Dt.ring);continue}hr?(delete zt[Nt],delete bt[hr.ring[0]],hr.ring.pop(),$e[hr.index]=null,Dt={index:-1,polygon:hr.polygon,ring:hr.ring.concat(Dt.ring)},hr===ur?Dt.polygon.push(Dt.ring):(Dt.index=pt++,$e.push(bt[Dt.ring[0]]=zt[Dt.ring[Dt.ring.length-1]]=Dt))):ur?(delete bt[br],delete zt[ur.ring[ur.ring.length-1]],Dt.ring.pop(),Dt={index:pt++,polygon:ur.polygon,ring:Dt.ring.concat(ur.ring)},$e[ur.index]=null,$e.push(bt[Dt.ring[0]]=zt[Dt.ring[Dt.ring.length-1]]=Dt)):(Dt.ring.push(Dt.ring[0]),Dt.polygon.push(Dt.ring))}}function Vl($e){var it={type:"Feature",geometry:hl($e.geometry)};return $e.id!=null&&(it.id=$e.id),$e.bbox!=null&&(it.bbox=$e.bbox),$e.properties!=null&&(it.properties=$e.properties),it}function hl($e){if($e==null)return $e;var it,pt,bt,zt;switch($e.type){case"GeometryCollection":it={type:"GeometryCollection",geometries:$e.geometries.map(hl)};break;case"Point":it={type:"Point",coordinates:gu($e.coordinates)};break;case"MultiPoint":case"LineString":it={type:$e.type,coordinates:Df($e.coordinates)};break;case"MultiLineString":it={type:"MultiLineString",coordinates:$e.coordinates.map(Df)};break;case"Polygon":{var Dt=[];yu($e.coordinates,Dt,pt=[]),fc(pt),it={type:"Polygon",coordinates:Dt};break}case"MultiPolygon":{pt=[],bt=-1,zt=$e.coordinates.length;for(var Nt=new Array(zt);++bt<zt;)yu($e.coordinates[bt],Nt[bt]=[],pt);fc(pt),it={type:"MultiPolygon",coordinates:Nt.filter(Rf)};break}default:return $e}return $e.bbox!=null&&(it.bbox=$e.bbox),it}function mu($e){if($e==null)return $e;switch($e.type){case"Feature":return Vl($e);case"FeatureCollection":{var it={type:"FeatureCollection",features:$e.features.map(Vl)};return $e.bbox!=null&&(it.bbox=$e.bbox),it}default:return hl($e)}}function Wo($e,it){var pt=h(it/2),bt=g(A*pt);return[$e*(.74482-.34588*bt*bt),1.70711*pt]}Wo.invert=function($e,it){var pt=it/1.70711,bt=g(A*pt);return[$e/(.74482-.34588*bt*bt),2*i(pt)]};function Yo(){return(0,x.c)(Wo).scale(146.153)}function Hl($e,it,pt){var bt=(0,uu.c)(it,pt),zt=bt(.5),Dt=(0,Je.c)([-zt[0],-zt[1]])(it),Nt=bt.distance/2,hr=-p(g(Dt[1]*a)/g(Nt)),br=[-zt[0],-zt[1],-(Dt[0]>0?o-hr:hr)*T],ur=(0,x.c)($e(Nt)).rotate(br),wr=(0,Je.c)(br),Lr=ur.center;return delete ur.rotate,ur.center=function(Vr){return arguments.length?Lr(wr(Vr)):wr.invert(Lr())},ur.clipAngle(90)}function vl($e){var it=c($e);function pt(bt,zt){var Dt=(0,zl.Y)(bt,zt);return Dt[0]*=it,Dt}return pt.invert=function(bt,zt){return zl.Y.invert(bt/it,zt)},pt}function cc(){return dl([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function dl($e,it){return Hl(vl,$e,it)}function Do($e){if(!($e*=2))return $.O;var it=-$e/2,pt=-it,bt=$e*$e,zt=h(pt),Dt=.5/g(pt);function Nt(hr,br){var ur=k(c(br)*c(hr-it)),wr=k(c(br)*c(hr-pt)),Lr=br<0?-1:1;return ur*=ur,wr*=wr,[(ur-wr)/(2*$e),Lr*R(4*bt*wr-(bt-ur+wr)*(bt-ur+wr))/(2*$e)]}return Nt.invert=function(hr,br){var ur=br*br,wr=c(R(ur+(Vr=hr+it)*Vr)),Lr=c(R(ur+(Vr=hr+pt)*Vr)),Vr,tn;return[L(tn=wr-Lr,Vr=(wr+Lr)*zt),(br<0?-1:1)*k(R(Vr*Vr+tn*tn)*Dt)]},Nt}function hc(){return Io([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Io($e,it){return Hl(Do,$e,it)}function pl($e,it){if(P(it)<w)return[$e,0];var pt=P(it/v),bt=p(pt);if(P($e)<w||P(P(it)-v)<w)return[0,f(it)*o*h(bt/2)];var zt=c(bt),Dt=P(o/$e-$e/o)/2,Nt=Dt*Dt,hr=zt/(pt+zt-1),br=hr*(2/pt-1),ur=br*br,wr=ur+Nt,Lr=hr-ur,Vr=Nt+hr;return[f($e)*o*(Dt*Lr+R(Nt*Lr*Lr-wr*(hr*hr-ur)))/wr,f(it)*o*(br*Vr-Dt*R((Nt+1)*wr-Vr*Vr))/wr]}pl.invert=function($e,it){if(P(it)<w)return[$e,0];if(P($e)<w)return[0,v*g(2*i(it/o))];var pt=($e/=o)*$e,bt=(it/=o)*it,zt=pt+bt,Dt=zt*zt,Nt=-P(it)*(1+zt),hr=Nt-2*bt+pt,br=-2*Nt+1+2*bt+Dt,ur=bt/br+(2*hr*hr*hr/(br*br*br)-9*Nt*hr/(br*br))/27,wr=(Nt-hr*hr/(3*br))/br,Lr=2*R(-wr/3),Vr=k(3*ur/(wr*Lr))/3;return[o*(zt-1+R(1+2*(pt-bt)+Dt))/(2*$e),f(it)*o*(-Lr*c(Vr+o/3)-hr/(3*br))]};function xu(){return(0,x.c)(pl).scale(79.4183)}function Ju($e,it){if(P(it)<w)return[$e,0];var pt=P(it/v),bt=p(pt);if(P($e)<w||P(P(it)-v)<w)return[0,f(it)*o*h(bt/2)];var zt=c(bt),Dt=P(o/$e-$e/o)/2,Nt=Dt*Dt,hr=zt*(R(1+Nt)-Dt*zt)/(1+Nt*pt*pt);return[f($e)*o*hr,f(it)*o*R(1-hr*(2*Dt+hr))]}Ju.invert=function($e,it){if(!$e)return[0,v*g(2*i(it/o))];var pt=P($e/o),bt=(1-pt*pt-(it/=o)*it)/(2*pt),zt=bt*bt,Dt=R(zt+1);return[f($e)*o*(Dt-bt),f(it)*v*g(2*L(R((1-2*bt*pt)*(bt+Dt)-pt),R(Dt+bt+pt)))]};function Gl(){return(0,x.c)(Ju).scale(79.4183)}function If($e,it){if(P(it)<w)return[$e,0];var pt=it/v,bt=p(pt);if(P($e)<w||P(P(it)-v)<w)return[0,o*h(bt/2)];var zt=(o/$e-$e/o)/2,Dt=pt/(1+c(bt));return[o*(f($e)*R(zt*zt+1-Dt*Dt)-zt),o*Dt]}If.invert=function($e,it){if(!it)return[$e,0];var pt=it/o,bt=(o*o*(1-pt*pt)-$e*$e)/(2*o*$e);return[$e?o*(f($e)*R(bt*bt+1)-bt):0,v*g(2*i(pt))]};function Qu(){return(0,x.c)(If).scale(79.4183)}function Ks($e,it){if(!it)return[$e,0];var pt=P(it);if(!$e||pt===v)return[0,it];var bt=pt/v,zt=bt*bt,Dt=(8*bt-zt*(zt+2)-5)/(2*zt*(bt-1)),Nt=Dt*Dt,hr=bt*Dt,br=zt+Nt+2*hr,ur=bt+3*Dt,wr=$e/v,Lr=wr+1/wr,Vr=f(P($e)-v)*R(Lr*Lr-4),tn=Vr*Vr,sn=br*(zt+Nt*tn-1)+(1-zt)*(zt*(ur*ur+4*Nt)+12*hr*Nt+4*Nt*Nt),mn=(Vr*(br+Nt-1)+2*R(sn))/(4*br+tn);return[f($e)*v*mn,f(it)*v*R(1+Vr*P(mn)-mn*mn)]}Ks.invert=function($e,it){var pt;if(!$e||!it)return[$e,it];it/=o;var bt=f($e)*$e/v,zt=(bt*bt-1+4*it*it)/P(bt),Dt=zt*zt,Nt=2*it,hr=50;do{var br=Nt*Nt,ur=(8*Nt-br*(br+2)-5)/(2*br*(Nt-1)),wr=(3*Nt-br*Nt-10)/(2*br*Nt),Lr=ur*ur,Vr=Nt*ur,tn=Nt+ur,sn=tn*tn,mn=Nt+3*ur,Dn=sn*(br+Lr*Dt-1)+(1-br)*(br*(mn*mn+4*Lr)+Lr*(12*Vr+4*Lr)),la=-2*tn*(4*Vr*Lr+(1-4*br+3*br*br)*(1+wr)+Lr*(-6+14*br-Dt+(-8+8*br-2*Dt)*wr)+Vr*(-8+12*br+(-10+10*br-Dt)*wr)),Ea=R(Dn),La=zt*(sn+Lr-1)+2*Ea-bt*(4*sn+Dt),Ca=zt*(2*ur*wr+2*tn*(1+wr))+la/Ea-8*tn*(zt*(-1+Lr+sn)+2*Ea)*(1+wr)/(Dt+4*sn);Nt-=pt=La/Ca}while(pt>w&&--hr>0);return[f($e)*(R(zt*zt+4)+zt)*o/4,v*Nt]};function $u(){return(0,x.c)(Ks).scale(127.16)}function vh($e,it,pt,bt,zt){function Dt(Nt,hr){var br=pt*g(bt*hr),ur=R(1-br*br),wr=R(2/(1+ur*c(Nt*=zt)));return[$e*ur*wr*g(Nt),it*br*wr]}return Dt.invert=function(Nt,hr){var br=Nt/$e,ur=hr/it,wr=R(br*br+ur*ur),Lr=2*p(wr/2);return[L(Nt*h(Lr),$e*wr)/zt,wr&&p(hr*g(Lr)/(it*pt*wr))/bt]},Dt}function Wl($e,it,pt,bt){var zt=o/3;$e=s($e,w),it=s(it,w),$e=n($e,v),it=n(it,o-w),pt=s(pt,0),pt=n(pt,100-w),bt=s(bt,w);var Dt=pt/100+1,Nt=bt/100,hr=k(Dt*c(zt))/zt,br=g($e)/g(hr*v),ur=it/o,wr=R(Nt*g($e/2)/g(it/2)),Lr=wr/R(ur*br*hr),Vr=1/(wr*R(ur*br*hr));return vh(Lr,Vr,br,hr,ur)}function vc(){var $e=65*a,it=60*a,pt=20,bt=200,zt=(0,x.U)(Wl),Dt=zt($e,it,pt,bt);return Dt.poleline=function(Nt){return arguments.length?zt($e=+Nt*a,it,pt,bt):$e*T},Dt.parallels=function(Nt){return arguments.length?zt($e,it=+Nt*a,pt,bt):it*T},Dt.inflation=function(Nt){return arguments.length?zt($e,it,pt=+Nt,bt):pt},Dt.ratio=function(Nt){return arguments.length?zt($e,it,pt,bt=+Nt):bt},Dt.scale(163.775)}function ho(){return vc().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Yl=4*o+3*R(3),bu=2*R(2*o*R(3)/Yl),ks=De(bu*R(3)/o,bu,Yl/6);function qu(){return(0,x.c)(ks).scale(176.84)}function Xl($e,it){return[$e*R(1-3*it*it/(o*o)),it]}Xl.invert=function($e,it){return[$e/R(1-3*it*it/(o*o)),it]};function ef(){return(0,x.c)(Xl).scale(152.63)}function wu($e,it){var pt=c(it),bt=c($e)*pt,zt=1-bt,Dt=c($e=L(g($e)*pt,-g(it))),Nt=g($e);return pt=R(1-bt*bt),[Nt*pt-Dt*zt,-Dt*pt-Nt*zt]}wu.invert=function($e,it){var pt=($e*$e+it*it)/-2,bt=R(-pt*(2+pt)),zt=it*pt+$e*bt,Dt=$e*pt-it*bt,Nt=R(Dt*Dt+zt*zt);return[L(bt*zt,Nt*(1+pt)),Nt?-p(bt*Dt/Nt):0]};function dc(){return(0,x.c)(wu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Tu($e,it){var pt=J($e,it);return[(pt[0]+$e/v)/2,(pt[1]+it)/2]}Tu.invert=function($e,it){var pt=$e,bt=it,zt=25;do{var Dt=c(bt),Nt=g(bt),hr=g(2*bt),br=Nt*Nt,ur=Dt*Dt,wr=g(pt),Lr=c(pt/2),Vr=g(pt/2),tn=Vr*Vr,sn=1-ur*Lr*Lr,mn=sn?k(Dt*Lr)*R(Dn=1/sn):Dn=0,Dn,la=.5*(2*mn*Dt*Vr+pt/v)-$e,Ea=.5*(mn*Nt+bt)-it,La=.5*Dn*(ur*tn+mn*Dt*Lr*br)+.5/v,Ca=Dn*(wr*hr/4-mn*Nt*Vr),Ia=.125*Dn*(hr*Vr-mn*Nt*ur*wr),Za=.5*Dn*(br*Lr+mn*tn*Dt)+.5,Li=Ca*Ia-Za*La,bi=(Ea*Ca-la*Za)/Li,fi=(la*Ia-Ea*La)/Li;pt-=bi,bt-=fi}while((P(bi)>w||P(fi)>w)&&--zt>0);return[pt,bt]};function kf(){return(0,x.c)(Tu).scale(158.837)}},88728:function(V,U,e){"use strict";e.d(U,{c:function(){return x}});function x(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(C){L(i,C,this.t),L(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new P;function L(C,c,y){var r=C.s=c+y,t=r-c,s=r-t;C.t=c-s+(y-t)}},95384:function(V,U,e){"use strict";e.d(U,{cp:function(){return w},mQ:function(){return C},oB:function(){return u}});var x=e(88728),P=e(64528),i=e(70932),L=e(16016),C=(0,x.c)(),c=(0,x.c)(),y,r,t,s,n,u={point:i.c,lineStart:i.c,lineEnd:i.c,polygonStart:function(){C.reset(),u.lineStart=l,u.lineEnd=f},polygonEnd:function(){var d=+C;c.add(d<0?P.kD+d:d),this.lineStart=this.lineEnd=this.point=i.c},sphere:function(){c.add(P.kD)}};function l(){u.point=g}function f(){h(y,r)}function g(d,o){u.point=h,y=d,r=o,d*=P.qw,o*=P.qw,t=d,s=(0,P.W8)(o=o/2+P.wL),n=(0,P.g$)(o)}function h(d,o){d*=P.qw,o*=P.qw,o=o/2+P.wL;var v=d-t,A=v>=0?1:-1,b=A*v,M=(0,P.W8)(o),m=(0,P.g$)(o),S=n*m,T=s*M+S*(0,P.W8)(b),a=S*A*(0,P.g$)(b);C.add((0,P.WE)(a,T)),t=d,s=M,n=m}function w(d){return c.reset(),(0,L.c)(d,u),c*2}},13696:function(V,U,e){"use strict";e.d(U,{c:function(){return E}});var x=e(88728),P=e(95384),i=e(84220),L=e(64528),C=e(16016),c,y,r,t,s,n,u,l,f=(0,x.c)(),g,h,w={point:d,lineStart:v,lineEnd:A,polygonStart:function(){w.point=b,w.lineStart=M,w.lineEnd=m,f.reset(),P.oB.polygonStart()},polygonEnd:function(){P.oB.polygonEnd(),w.point=d,w.lineStart=v,w.lineEnd=A,P.mQ<0?(c=-(r=180),y=-(t=90)):f>L.Gg?t=90:f<-L.Gg&&(y=-90),h[0]=c,h[1]=r},sphere:function(){c=-(r=180),y=-(t=90)}};function d(p,k){g.push(h=[c=p,r=p]),k<y&&(y=k),k>t&&(t=k)}function o(p,k){var R=(0,i.ux)([p*L.qw,k*L.qw]);if(l){var B=(0,i.CW)(l,R),F=[B[1],-B[0],0],_=(0,i.CW)(F,B);(0,i.cJ)(_),_=(0,i.G)(_);var O=p-s,z=O>0?1:-1,N=_[0]*L.oh*z,Y,J=(0,L.a2)(O)>180;J^(z*s<N&&N<z*p)?(Y=_[1]*L.oh,Y>t&&(t=Y)):(N=(N+360)%360-180,J^(z*s<N&&N<z*p)?(Y=-_[1]*L.oh,Y<y&&(y=Y)):(k<y&&(y=k),k>t&&(t=k))),J?p<s?S(c,p)>S(c,r)&&(r=p):S(p,r)>S(c,r)&&(c=p):r>=c?(p<c&&(c=p),p>r&&(r=p)):p>s?S(c,p)>S(c,r)&&(r=p):S(p,r)>S(c,r)&&(c=p)}else g.push(h=[c=p,r=p]);k<y&&(y=k),k>t&&(t=k),l=R,s=p}function v(){w.point=o}function A(){h[0]=c,h[1]=r,w.point=d,l=null}function b(p,k){if(l){var R=p-s;f.add((0,L.a2)(R)>180?R+(R>0?360:-360):R)}else n=p,u=k;P.oB.point(p,k),o(p,k)}function M(){P.oB.lineStart()}function m(){b(n,u),P.oB.lineEnd(),(0,L.a2)(f)>L.Gg&&(c=-(r=180)),h[0]=c,h[1]=r,l=null}function S(p,k){return(k-=p)<0?k+360:k}function T(p,k){return p[0]-k[0]}function a(p,k){return p[0]<=p[1]?p[0]<=k&&k<=p[1]:k<p[0]||p[1]<k}function E(p){var k,R,B,F,_,O,z;if(t=r=-(c=y=1/0),g=[],(0,C.c)(p,w),R=g.length){for(g.sort(T),k=1,B=g[0],_=[B];k<R;++k)F=g[k],a(B,F[0])||a(B,F[1])?(S(B[0],F[1])>S(B[0],B[1])&&(B[1]=F[1]),S(F[0],B[1])>S(B[0],B[1])&&(B[0]=F[0])):_.push(B=F);for(O=-1/0,R=_.length-1,k=0,B=_[R];k<=R;B=F,++k)F=_[k],(z=S(B[1],F[0]))>O&&(O=z,c=F[0],r=B[1])}return g=h=null,c===1/0||y===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,y],[r,t]]}},84220:function(V,U,e){"use strict";e.d(U,{CW:function(){return C},Ez:function(){return L},G:function(){return P},cJ:function(){return r},mg:function(){return c},ux:function(){return i},wx:function(){return y}});var x=e(64528);function P(t){return[(0,x.WE)(t[1],t[0]),(0,x.qR)(t[2])]}function i(t){var s=t[0],n=t[1],u=(0,x.W8)(n);return[u*(0,x.W8)(s),u*(0,x.g$)(s),(0,x.g$)(n)]}function L(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]}function C(t,s){return[t[1]*s[2]-t[2]*s[1],t[2]*s[0]-t[0]*s[2],t[0]*s[1]-t[1]*s[0]]}function c(t,s){t[0]+=s[0],t[1]+=s[1],t[2]+=s[2]}function y(t,s){return[t[0]*s,t[1]*s,t[2]*s]}function r(t){var s=(0,x._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=s,t[1]/=s,t[2]/=s}},24052:function(V,U,e){"use strict";e.d(U,{c:function(){return R}});var x=e(64528),P=e(70932),i=e(16016),L,C,c,y,r,t,s,n,u,l,f,g,h,w,d,o,v={sphere:P.c,point:A,lineStart:M,lineEnd:T,polygonStart:function(){v.lineStart=a,v.lineEnd=E},polygonEnd:function(){v.lineStart=M,v.lineEnd=T}};function A(B,F){B*=x.qw,F*=x.qw;var _=(0,x.W8)(F);b(_*(0,x.W8)(B),_*(0,x.g$)(B),(0,x.g$)(F))}function b(B,F,_){++L,c+=(B-c)/L,y+=(F-y)/L,r+=(_-r)/L}function M(){v.point=m}function m(B,F){B*=x.qw,F*=x.qw;var _=(0,x.W8)(F);w=_*(0,x.W8)(B),d=_*(0,x.g$)(B),o=(0,x.g$)(F),v.point=S,b(w,d,o)}function S(B,F){B*=x.qw,F*=x.qw;var _=(0,x.W8)(F),O=_*(0,x.W8)(B),z=_*(0,x.g$)(B),N=(0,x.g$)(F),Y=(0,x.WE)((0,x._I)((Y=d*N-o*z)*Y+(Y=o*O-w*N)*Y+(Y=w*z-d*O)*Y),w*O+d*z+o*N);C+=Y,t+=Y*(w+(w=O)),s+=Y*(d+(d=z)),n+=Y*(o+(o=N)),b(w,d,o)}function T(){v.point=A}function a(){v.point=p}function E(){k(g,h),v.point=A}function p(B,F){g=B,h=F,B*=x.qw,F*=x.qw,v.point=k;var _=(0,x.W8)(F);w=_*(0,x.W8)(B),d=_*(0,x.g$)(B),o=(0,x.g$)(F),b(w,d,o)}function k(B,F){B*=x.qw,F*=x.qw;var _=(0,x.W8)(F),O=_*(0,x.W8)(B),z=_*(0,x.g$)(B),N=(0,x.g$)(F),Y=d*N-o*z,J=o*O-w*N,ae=w*z-d*O,se=(0,x._I)(Y*Y+J*J+ae*ae),ue=(0,x.qR)(se),K=se&&-ue/se;u+=K*Y,l+=K*J,f+=K*ae,C+=ue,t+=ue*(w+(w=O)),s+=ue*(d+(d=z)),n+=ue*(o+(o=N)),b(w,d,o)}function R(B){L=C=c=y=r=t=s=n=u=l=f=0,(0,i.c)(B,v);var F=u,_=l,O=f,z=F*F+_*_+O*O;return z<x.a8&&(F=t,_=s,O=n,C<x.Gg&&(F=c,_=y,O=r),z=F*F+_*_+O*O,z<x.a8)?[NaN,NaN]:[(0,x.WE)(_,F)*x.oh,(0,x.qR)(O/(0,x._I)(z))*x.oh]}},61780:function(V,U,e){"use strict";e.d(U,{Q:function(){return C},c:function(){return y}});var x=e(84220);function P(r){return function(){return r}}var i=e(64528),L=e(92992);function C(r,t,s,n,u,l){if(s){var f=(0,i.W8)(t),g=(0,i.g$)(t),h=n*s;u==null?(u=t+n*i.kD,l=t-h/2):(u=c(f,u),l=c(f,l),(n>0?u<l:u>l)&&(u+=n*i.kD));for(var w,d=u;n>0?d>l:d<l;d-=h)w=(0,x.G)([f,-g*(0,i.W8)(d),-g*(0,i.g$)(d)]),r.point(w[0],w[1])}}function c(r,t){t=(0,x.ux)(t),t[0]-=r,(0,x.cJ)(t);var s=(0,i.mE)(-t[1]);return((-t[2]<0?-s:s)+i.kD-i.Gg)%i.kD}function y(){var r=P([0,0]),t=P(90),s=P(6),n,u,l={point:f};function f(h,w){n.push(h=u(h,w)),h[0]*=i.oh,h[1]*=i.oh}function g(){var h=r.apply(this,arguments),w=t.apply(this,arguments)*i.qw,d=s.apply(this,arguments)*i.qw;return n=[],u=(0,L.O)(-h[0]*i.qw,-h[1]*i.qw,0).invert,C(l,w,d,1),h={type:"Polygon",coordinates:[n]},n=u=null,h}return g.center=function(h){return arguments.length?(r=typeof h=="function"?h:P([+h[0],+h[1]]),g):r},g.radius=function(h){return arguments.length?(t=typeof h=="function"?h:P(+h),g):t},g.precision=function(h){return arguments.length?(s=typeof h=="function"?h:P(+h),g):s},g}},78284:function(V,U,e){"use strict";var x=e(14229),P=e(64528);U.c=(0,x.c)(function(){return!0},i,C,[-P.pi,-P.or]);function i(c){var y=NaN,r=NaN,t=NaN,s;return{lineStart:function(){c.lineStart(),s=1},point:function(n,u){var l=n>0?P.pi:-P.pi,f=(0,P.a2)(n-y);(0,P.a2)(f-P.pi)<P.Gg?(c.point(y,r=(r+u)/2>0?P.or:-P.or),c.point(t,r),c.lineEnd(),c.lineStart(),c.point(l,r),c.point(n,r),s=0):t!==l&&f>=P.pi&&((0,P.a2)(y-t)<P.Gg&&(y-=t*P.Gg),(0,P.a2)(n-l)<P.Gg&&(n-=l*P.Gg),r=L(y,r,n,u),c.point(t,r),c.lineEnd(),c.lineStart(),c.point(l,r),s=0),c.point(y=n,r=u),t=l},lineEnd:function(){c.lineEnd(),y=r=NaN},clean:function(){return 2-s}}}function L(c,y,r,t){var s,n,u=(0,P.g$)(c-r);return(0,P.a2)(u)>P.Gg?(0,P.MQ)(((0,P.g$)(y)*(n=(0,P.W8)(t))*(0,P.g$)(r)-(0,P.g$)(t)*(s=(0,P.W8)(y))*(0,P.g$)(c))/(s*n*u)):(y+t)/2}function C(c,y,r,t){var s;if(c==null)s=r*P.or,t.point(-P.pi,s),t.point(0,s),t.point(P.pi,s),t.point(P.pi,0),t.point(P.pi,-s),t.point(0,-s),t.point(-P.pi,-s),t.point(-P.pi,0),t.point(-P.pi,s);else if((0,P.a2)(c[0]-y[0])>P.Gg){var n=c[0]<y[0]?P.pi:-P.pi;s=r*n/2,t.point(-n,s),t.point(0,s),t.point(n,s)}else t.point(y[0],y[1])}},97208:function(V,U,e){"use strict";e.d(U,{c:function(){return P}});var x=e(70932);function P(){var i=[],L;return{point:function(C,c,y){L.push([C,c,y])},lineStart:function(){i.push(L=[])},lineEnd:x.c,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var C=i;return i=[],L=null,C}}}},2728:function(V,U,e){"use strict";e.d(U,{c:function(){return c}});var x=e(84220),P=e(61780),i=e(64528),L=e(41860),C=e(14229);function c(y){var r=(0,i.W8)(y),t=6*i.qw,s=r>0,n=(0,i.a2)(r)>i.Gg;function u(w,d,o,v){(0,P.Q)(v,y,t,o,w,d)}function l(w,d){return(0,i.W8)(w)*(0,i.W8)(d)>r}function f(w){var d,o,v,A,b;return{lineStart:function(){A=v=!1,b=1},point:function(M,m){var S=[M,m],T,a=l(M,m),E=s?a?0:h(M,m):a?h(M+(M<0?i.pi:-i.pi),m):0;if(!d&&(A=v=a)&&w.lineStart(),a!==v&&(T=g(d,S),(!T||(0,L.c)(d,T)||(0,L.c)(S,T))&&(S[2]=1)),a!==v)b=0,a?(w.lineStart(),T=g(S,d),w.point(T[0],T[1])):(T=g(d,S),w.point(T[0],T[1],2),w.lineEnd()),d=T;else if(n&&d&&s^a){var p;!(E&o)&&(p=g(S,d,!0))&&(b=0,s?(w.lineStart(),w.point(p[0][0],p[0][1]),w.point(p[1][0],p[1][1]),w.lineEnd()):(w.point(p[1][0],p[1][1]),w.lineEnd(),w.lineStart(),w.point(p[0][0],p[0][1],3)))}a&&(!d||!(0,L.c)(d,S))&&w.point(S[0],S[1]),d=S,v=a,o=E},lineEnd:function(){v&&w.lineEnd(),d=null},clean:function(){return b|(A&&v)<<1}}}function g(w,d,o){var v=(0,x.ux)(w),A=(0,x.ux)(d),b=[1,0,0],M=(0,x.CW)(v,A),m=(0,x.Ez)(M,M),S=M[0],T=m-S*S;if(!T)return!o&&w;var a=r*m/T,E=-r*S/T,p=(0,x.CW)(b,M),k=(0,x.wx)(b,a),R=(0,x.wx)(M,E);(0,x.mg)(k,R);var B=p,F=(0,x.Ez)(k,B),_=(0,x.Ez)(B,B),O=F*F-_*((0,x.Ez)(k,k)-1);if(!(O<0)){var z=(0,i._I)(O),N=(0,x.wx)(B,(-F-z)/_);if((0,x.mg)(N,k),N=(0,x.G)(N),!o)return N;var Y=w[0],J=d[0],ae=w[1],se=d[1],ue;J<Y&&(ue=Y,Y=J,J=ue);var K=J-Y,j=(0,i.a2)(K-i.pi)<i.Gg,ie=j||K<i.Gg;if(!j&&se<ae&&(ue=ae,ae=se,se=ue),ie?j?ae+se>0^N[1]<((0,i.a2)(N[0]-Y)<i.Gg?ae:se):ae<=N[1]&&N[1]<=se:K>i.pi^(Y<=N[0]&&N[0]<=J)){var W=(0,x.wx)(B,(-F+z)/_);return(0,x.mg)(W,k),[N,(0,x.G)(W)]}}}function h(w,d){var o=s?y:i.pi-y,v=0;return w<-o?v|=1:w>o&&(v|=2),d<-o?v|=4:d>o&&(v|=8),v}return(0,C.c)(l,f,u,s?[0,-y]:[-i.pi,y-i.pi])}},14229:function(V,U,e){"use strict";e.d(U,{c:function(){return c}});var x=e(97208),P=e(32232),i=e(64528),L=e(58196),C=e(84706);function c(t,s,n,u){return function(l){var f=s(l),g=(0,x.c)(),h=s(g),w=!1,d,o,v,A={point:b,lineStart:m,lineEnd:S,polygonStart:function(){A.point=T,A.lineStart=a,A.lineEnd=E,o=[],d=[]},polygonEnd:function(){A.point=b,A.lineStart=m,A.lineEnd=S,o=(0,C.Uf)(o);var p=(0,L.c)(d,u);o.length?(w||(l.polygonStart(),w=!0),(0,P.c)(o,r,p,n,l)):p&&(w||(l.polygonStart(),w=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),w&&(l.polygonEnd(),w=!1),o=d=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function b(p,k){t(p,k)&&l.point(p,k)}function M(p,k){f.point(p,k)}function m(){A.point=M,f.lineStart()}function S(){A.point=b,f.lineEnd()}function T(p,k){v.push([p,k]),h.point(p,k)}function a(){h.lineStart(),v=[]}function E(){T(v[0][0],v[0][1]),h.lineEnd();var p=h.clean(),k=g.result(),R,B=k.length,F,_,O;if(v.pop(),d.push(v),v=null,!!B){if(p&1){if(_=k[0],(F=_.length-1)>0){for(w||(l.polygonStart(),w=!0),l.lineStart(),R=0;R<F;++R)l.point((O=_[R])[0],O[1]);l.lineEnd()}return}B>1&&p&2&&k.push(k.pop().concat(k.shift())),o.push(k.filter(y))}}return A}}function y(t){return t.length>1}function r(t,s){return((t=t.x)[0]<0?t[1]-i.or-i.Gg:i.or-t[1])-((s=s.x)[0]<0?s[1]-i.or-i.Gg:i.or-s[1])}},21676:function(V,U,e){"use strict";e.d(U,{c:function(){return r}});var x=e(64528),P=e(97208);function i(t,s,n,u,l,f){var g=t[0],h=t[1],w=s[0],d=s[1],o=0,v=1,A=w-g,b=d-h,M;if(M=n-g,!(!A&&M>0)){if(M/=A,A<0){if(M<o)return;M<v&&(v=M)}else if(A>0){if(M>v)return;M>o&&(o=M)}if(M=l-g,!(!A&&M<0)){if(M/=A,A<0){if(M>v)return;M>o&&(o=M)}else if(A>0){if(M<o)return;M<v&&(v=M)}if(M=u-h,!(!b&&M>0)){if(M/=b,b<0){if(M<o)return;M<v&&(v=M)}else if(b>0){if(M>v)return;M>o&&(o=M)}if(M=f-h,!(!b&&M<0)){if(M/=b,b<0){if(M>v)return;M>o&&(o=M)}else if(b>0){if(M<o)return;M<v&&(v=M)}return o>0&&(t[0]=g+o*A,t[1]=h+o*b),v<1&&(s[0]=g+v*A,s[1]=h+v*b),!0}}}}}var L=e(32232),C=e(84706),c=1e9,y=-c;function r(t,s,n,u){function l(d,o){return t<=d&&d<=n&&s<=o&&o<=u}function f(d,o,v,A){var b=0,M=0;if(d==null||(b=g(d,v))!==(M=g(o,v))||w(d,o)<0^v>0)do A.point(b===0||b===3?t:n,b>1?u:s);while((b=(b+v+4)%4)!==M);else A.point(o[0],o[1])}function g(d,o){return(0,x.a2)(d[0]-t)<x.Gg?o>0?0:3:(0,x.a2)(d[0]-n)<x.Gg?o>0?2:1:(0,x.a2)(d[1]-s)<x.Gg?o>0?1:0:o>0?3:2}function h(d,o){return w(d.x,o.x)}function w(d,o){var v=g(d,1),A=g(o,1);return v!==A?v-A:v===0?o[1]-d[1]:v===1?d[0]-o[0]:v===2?d[1]-o[1]:o[0]-d[0]}return function(d){var o=d,v=(0,P.c)(),A,b,M,m,S,T,a,E,p,k,R,B={point:F,lineStart:N,lineEnd:Y,polygonStart:O,polygonEnd:z};function F(ae,se){l(ae,se)&&o.point(ae,se)}function _(){for(var ae=0,se=0,ue=b.length;se<ue;++se)for(var K=b[se],j=1,ie=K.length,W=K[0],Q,ee,$=W[0],X=W[1];j<ie;++j)Q=$,ee=X,W=K[j],$=W[0],X=W[1],ee<=u?X>u&&($-Q)*(u-ee)>(X-ee)*(t-Q)&&++ae:X<=u&&($-Q)*(u-ee)<(X-ee)*(t-Q)&&--ae;return ae}function O(){o=v,A=[],b=[],R=!0}function z(){var ae=_(),se=R&&ae,ue=(A=(0,C.Uf)(A)).length;(se||ue)&&(d.polygonStart(),se&&(d.lineStart(),f(null,null,1,d),d.lineEnd()),ue&&(0,L.c)(A,h,ae,f,d),d.polygonEnd()),o=d,A=b=M=null}function N(){B.point=J,b&&b.push(M=[]),k=!0,p=!1,a=E=NaN}function Y(){A&&(J(m,S),T&&p&&v.rejoin(),A.push(v.result())),B.point=F,p&&o.lineEnd()}function J(ae,se){var ue=l(ae,se);if(b&&M.push([ae,se]),k)m=ae,S=se,T=ue,k=!1,ue&&(o.lineStart(),o.point(ae,se));else if(ue&&p)o.point(ae,se);else{var K=[a=Math.max(y,Math.min(c,a)),E=Math.max(y,Math.min(c,E))],j=[ae=Math.max(y,Math.min(c,ae)),se=Math.max(y,Math.min(c,se))];i(K,j,t,s,n,u)?(p||(o.lineStart(),o.point(K[0],K[1])),o.point(j[0],j[1]),ue||o.lineEnd(),R=!1):ue&&(o.lineStart(),o.point(ae,se),R=!1)}a=ae,E=se,p=ue}return B}}},32232:function(V,U,e){"use strict";e.d(U,{c:function(){return L}});var x=e(41860),P=e(64528);function i(c,y,r,t){this.x=c,this.z=y,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(c,y,r,t,s){var n=[],u=[],l,f;if(c.forEach(function(v){if(!((A=v.length-1)<=0)){var A,b=v[0],M=v[A],m;if((0,x.c)(b,M)){if(!b[2]&&!M[2]){for(s.lineStart(),l=0;l<A;++l)s.point((b=v[l])[0],b[1]);s.lineEnd();return}M[0]+=2*P.Gg}n.push(m=new i(b,v,null,!0)),u.push(m.o=new i(b,null,m,!1)),n.push(m=new i(M,v,null,!1)),u.push(m.o=new i(M,null,m,!0))}}),!!n.length){for(u.sort(y),C(n),C(u),l=0,f=u.length;l<f;++l)u[l].e=r=!r;for(var g=n[0],h,w;;){for(var d=g,o=!0;d.v;)if((d=d.n)===g)return;h=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(o)for(l=0,f=h.length;l<f;++l)s.point((w=h[l])[0],w[1]);else t(d.x,d.n.x,1,s);d=d.n}else{if(o)for(h=d.p.z,l=h.length-1;l>=0;--l)s.point((w=h[l])[0],w[1]);else t(d.x,d.p.x,-1,s);d=d.p}d=d.o,h=d.z,o=!o}while(!d.v);s.lineEnd()}}}function C(c){if(y=c.length){for(var y,r=0,t=c[0],s;++r<y;)t.n=s=c[r],s.p=t,t=s;t.n=s=c[0],s.p=t}}},68120:function(V,U,e){"use strict";e.d(U,{c:function(){return x}});function x(P,i){function L(C,c){return C=P(C,c),i(C[0],C[1])}return P.invert&&i.invert&&(L.invert=function(C,c){return C=i.invert(C,c),C&&P.invert(C[0],C[1])}),L}},7376:function(V,U,e){"use strict";e.d(U,{c:function(){return x}});function x(P){return P}},83356:function(V,U,e){"use strict";e.r(U),e.d(U,{geoAlbers:function(){return gr},geoAlbersUsa:function(){return st},geoArea:function(){return x.cp},geoAzimuthalEqualArea:function(){return xt.c},geoAzimuthalEqualAreaRaw:function(){return xt.y},geoAzimuthalEquidistant:function(){return Mt.c},geoAzimuthalEquidistantRaw:function(){return Mt.O},geoBounds:function(){return P.c},geoCentroid:function(){return i.c},geoCircle:function(){return L.c},geoClipAntimeridian:function(){return C.c},geoClipCircle:function(){return c.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return y.c},geoConicConformal:function(){return or},geoConicConformalRaw:function(){return ir},geoConicEqualArea:function(){return jt},geoConicEqualAreaRaw:function(){return Yt},geoConicEquidistant:function(){return Ue},geoConicEquidistantRaw:function(){return We},geoContains:function(){return O},geoDistance:function(){return T},geoEqualEarth:function(){return tr},geoEqualEarthRaw:function(){return Ot},geoEquirectangular:function(){return cr.c},geoEquirectangularRaw:function(){return cr.u},geoGnomonic:function(){return dr.c},geoGnomonicRaw:function(){return dr.Y},geoGraticule:function(){return J},geoGraticule10:function(){return ae},geoIdentity:function(){return Cr},geoInterpolate:function(){return se.c},geoLength:function(){return M},geoMercator:function(){return Ct},geoMercatorRaw:function(){return Vt},geoNaturalEarth1:function(){return $r.c},geoNaturalEarth1Raw:function(){return $r.g},geoOrthographic:function(){return yr.c},geoOrthographicRaw:function(){return yr.t},geoPath:function(){return Et},geoProjection:function(){return Wt.c},geoProjectionMutator:function(){return Wt.U},geoRotation:function(){return Rt.c},geoStereographic:function(){return _r},geoStereographicRaw:function(){return rn},geoStream:function(){return l.c},geoTransform:function(){return mr.c},geoTransverseMercator:function(){return xn},geoTransverseMercatorRaw:function(){return bn}});var x=e(95384),P=e(13696),i=e(24052),L=e(61780),C=e(78284),c=e(2728),y=e(21676);function r(){var fr=0,Dr=0,Nr=960,Ur=500,on,gn,yn;return yn={stream:function(Pn){return on&&gn===Pn?on:on=(0,y.c)(fr,Dr,Nr,Ur)(gn=Pn)},extent:function(Pn){return arguments.length?(fr=+Pn[0][0],Dr=+Pn[0][1],Nr=+Pn[1][0],Ur=+Pn[1][1],on=gn=null,yn):[[fr,Dr],[Nr,Ur]]}}}var t=e(58196),s=e(88728),n=e(64528),u=e(70932),l=e(16016),f=(0,s.c)(),g,h,w,d={sphere:u.c,point:u.c,lineStart:o,lineEnd:u.c,polygonStart:u.c,polygonEnd:u.c};function o(){d.point=A,d.lineEnd=v}function v(){d.point=d.lineEnd=u.c}function A(fr,Dr){fr*=n.qw,Dr*=n.qw,g=fr,h=(0,n.g$)(Dr),w=(0,n.W8)(Dr),d.point=b}function b(fr,Dr){fr*=n.qw,Dr*=n.qw;var Nr=(0,n.g$)(Dr),Ur=(0,n.W8)(Dr),on=(0,n.a2)(fr-g),gn=(0,n.W8)(on),yn=(0,n.g$)(on),Pn=Ur*yn,zn=w*Nr-h*Ur*gn,ta=h*Nr+w*Ur*gn;f.add((0,n.WE)((0,n._I)(Pn*Pn+zn*zn),ta)),g=fr,h=Nr,w=Ur}function M(fr){return f.reset(),(0,l.c)(fr,d),+f}var m=[null,null],S={type:"LineString",coordinates:m};function T(fr,Dr){return m[0]=fr,m[1]=Dr,M(S)}var a={Feature:function(fr,Dr){return p(fr.geometry,Dr)},FeatureCollection:function(fr,Dr){for(var Nr=fr.features,Ur=-1,on=Nr.length;++Ur<on;)if(p(Nr[Ur].geometry,Dr))return!0;return!1}},E={Sphere:function(){return!0},Point:function(fr,Dr){return k(fr.coordinates,Dr)},MultiPoint:function(fr,Dr){for(var Nr=fr.coordinates,Ur=-1,on=Nr.length;++Ur<on;)if(k(Nr[Ur],Dr))return!0;return!1},LineString:function(fr,Dr){return R(fr.coordinates,Dr)},MultiLineString:function(fr,Dr){for(var Nr=fr.coordinates,Ur=-1,on=Nr.length;++Ur<on;)if(R(Nr[Ur],Dr))return!0;return!1},Polygon:function(fr,Dr){return B(fr.coordinates,Dr)},MultiPolygon:function(fr,Dr){for(var Nr=fr.coordinates,Ur=-1,on=Nr.length;++Ur<on;)if(B(Nr[Ur],Dr))return!0;return!1},GeometryCollection:function(fr,Dr){for(var Nr=fr.geometries,Ur=-1,on=Nr.length;++Ur<on;)if(p(Nr[Ur],Dr))return!0;return!1}};function p(fr,Dr){return fr&&E.hasOwnProperty(fr.type)?E[fr.type](fr,Dr):!1}function k(fr,Dr){return T(fr,Dr)===0}function R(fr,Dr){for(var Nr,Ur,on,gn=0,yn=fr.length;gn<yn;gn++){if(Ur=T(fr[gn],Dr),Ur===0||gn>0&&(on=T(fr[gn],fr[gn-1]),on>0&&Nr<=on&&Ur<=on&&(Nr+Ur-on)*(1-Math.pow((Nr-Ur)/on,2))<n.a8*on))return!0;Nr=Ur}return!1}function B(fr,Dr){return!!(0,t.c)(fr.map(F),_(Dr))}function F(fr){return fr=fr.map(_),fr.pop(),fr}function _(fr){return[fr[0]*n.qw,fr[1]*n.qw]}function O(fr,Dr){return(fr&&a.hasOwnProperty(fr.type)?a[fr.type]:p)(fr,Dr)}var z=e(84706);function N(fr,Dr,Nr){var Ur=(0,z.ik)(fr,Dr-n.Gg,Nr).concat(Dr);return function(on){return Ur.map(function(gn){return[on,gn]})}}function Y(fr,Dr,Nr){var Ur=(0,z.ik)(fr,Dr-n.Gg,Nr).concat(Dr);return function(on){return Ur.map(function(gn){return[gn,on]})}}function J(){var fr,Dr,Nr,Ur,on,gn,yn,Pn,zn=10,ta=zn,Un=90,ra=360,Jn,ea,pr,Jr,Xr=2.5;function vn(){return{type:"MultiLineString",coordinates:Bn()}}function Bn(){return(0,z.ik)((0,n.Km)(Ur/Un)*Un,Nr,Un).map(pr).concat((0,z.ik)((0,n.Km)(Pn/ra)*ra,yn,ra).map(Jr)).concat((0,z.ik)((0,n.Km)(Dr/zn)*zn,fr,zn).filter(function(Tn){return(0,n.a2)(Tn%Un)>n.Gg}).map(Jn)).concat((0,z.ik)((0,n.Km)(gn/ta)*ta,on,ta).filter(function(Tn){return(0,n.a2)(Tn%ra)>n.Gg}).map(ea))}return vn.lines=function(){return Bn().map(function(Tn){return{type:"LineString",coordinates:Tn}})},vn.outline=function(){return{type:"Polygon",coordinates:[pr(Ur).concat(Jr(yn).slice(1),pr(Nr).reverse().slice(1),Jr(Pn).reverse().slice(1))]}},vn.extent=function(Tn){return arguments.length?vn.extentMajor(Tn).extentMinor(Tn):vn.extentMinor()},vn.extentMajor=function(Tn){return arguments.length?(Ur=+Tn[0][0],Nr=+Tn[1][0],Pn=+Tn[0][1],yn=+Tn[1][1],Ur>Nr&&(Tn=Ur,Ur=Nr,Nr=Tn),Pn>yn&&(Tn=Pn,Pn=yn,yn=Tn),vn.precision(Xr)):[[Ur,Pn],[Nr,yn]]},vn.extentMinor=function(Tn){return arguments.length?(Dr=+Tn[0][0],fr=+Tn[1][0],gn=+Tn[0][1],on=+Tn[1][1],Dr>fr&&(Tn=Dr,Dr=fr,fr=Tn),gn>on&&(Tn=gn,gn=on,on=Tn),vn.precision(Xr)):[[Dr,gn],[fr,on]]},vn.step=function(Tn){return arguments.length?vn.stepMajor(Tn).stepMinor(Tn):vn.stepMinor()},vn.stepMajor=function(Tn){return arguments.length?(Un=+Tn[0],ra=+Tn[1],vn):[Un,ra]},vn.stepMinor=function(Tn){return arguments.length?(zn=+Tn[0],ta=+Tn[1],vn):[zn,ta]},vn.precision=function(Tn){return arguments.length?(Xr=+Tn,Jn=N(gn,on,90),ea=Y(Dr,fr,Xr),pr=N(Pn,yn,90),Jr=Y(Ur,Nr,Xr),vn):Xr},vn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function ae(){return J()()}var se=e(27284),ue=e(7376),K=(0,s.c)(),j=(0,s.c)(),ie,W,Q,ee,$={point:u.c,lineStart:u.c,lineEnd:u.c,polygonStart:function(){$.lineStart=X,$.lineEnd=fe},polygonEnd:function(){$.lineStart=$.lineEnd=$.point=u.c,K.add((0,n.a2)(j)),j.reset()},result:function(){var fr=K/2;return K.reset(),fr}};function X(){$.point=oe}function oe(fr,Dr){$.point=te,ie=Q=fr,W=ee=Dr}function te(fr,Dr){j.add(ee*fr-Q*Dr),Q=fr,ee=Dr}function fe(){te(ie,W)}var pe=$,Ae=e(73784),be=0,Pe=0,me=0,Ee=0,xe=0,De=0,Ve=0,Ze=0,ke=0,Ye,lt,yt,He,Fe={point:nt,lineStart:ot,lineEnd:mt,polygonStart:function(){Fe.lineStart=tt,Fe.lineEnd=Re},polygonEnd:function(){Fe.point=nt,Fe.lineStart=ot,Fe.lineEnd=mt},result:function(){var fr=ke?[Ve/ke,Ze/ke]:De?[Ee/De,xe/De]:me?[be/me,Pe/me]:[NaN,NaN];return be=Pe=me=Ee=xe=De=Ve=Ze=ke=0,fr}};function nt(fr,Dr){be+=fr,Pe+=Dr,++me}function ot(){Fe.point=ct}function ct(fr,Dr){Fe.point=ht,nt(yt=fr,He=Dr)}function ht(fr,Dr){var Nr=fr-yt,Ur=Dr-He,on=(0,n._I)(Nr*Nr+Ur*Ur);Ee+=on*(yt+fr)/2,xe+=on*(He+Dr)/2,De+=on,nt(yt=fr,He=Dr)}function mt(){Fe.point=nt}function tt(){Fe.point=Ge}function Re(){Je(Ye,lt)}function Ge(fr,Dr){Fe.point=Je,nt(Ye=yt=fr,lt=He=Dr)}function Je(fr,Dr){var Nr=fr-yt,Ur=Dr-He,on=(0,n._I)(Nr*Nr+Ur*Ur);Ee+=on*(yt+fr)/2,xe+=on*(He+Dr)/2,De+=on,on=He*fr-yt*Dr,Ve+=on*(yt+fr),Ze+=on*(He+Dr),ke+=on*3,nt(yt=fr,He=Dr)}var Xe=Fe;function Oe(fr){this._context=fr}Oe.prototype={_radius:4.5,pointRadius:function(fr){return this._radius=fr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(fr,Dr){switch(this._point){case 0:{this._context.moveTo(fr,Dr),this._point=1;break}case 1:{this._context.lineTo(fr,Dr);break}default:{this._context.moveTo(fr+this._radius,Dr),this._context.arc(fr,Dr,this._radius,0,n.kD);break}}},result:u.c};var Ne=(0,s.c)(),ze,et,Le,Te,ye,Se={point:u.c,lineStart:function(){Se.point=Ke},lineEnd:function(){ze&&rt(et,Le),Se.point=u.c},polygonStart:function(){ze=!0},polygonEnd:function(){ze=null},result:function(){var fr=+Ne;return Ne.reset(),fr}};function Ke(fr,Dr){Se.point=rt,et=Te=fr,Le=ye=Dr}function rt(fr,Dr){Te-=fr,ye-=Dr,Ne.add((0,n._I)(Te*Te+ye*ye)),Te=fr,ye=Dr}var Lt=Se;function It(){this._string=[]}It.prototype={_radius:4.5,_circle:wt(4.5),pointRadius:function(fr){return(fr=+fr)!==this._radius&&(this._radius=fr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(fr,Dr){switch(this._point){case 0:{this._string.push("M",fr,",",Dr),this._point=1;break}case 1:{this._string.push("L",fr,",",Dr);break}default:{this._circle==null&&(this._circle=wt(this._radius)),this._string.push("M",fr,",",Dr,this._circle);break}}},result:function(){if(this._string.length){var fr=this._string.join("");return this._string=[],fr}else return null}};function wt(fr){return"m0,"+fr+"a"+fr+","+fr+" 0 1,1 0,"+-2*fr+"a"+fr+","+fr+" 0 1,1 0,"+2*fr+"z"}function Et(fr,Dr){var Nr=4.5,Ur,on;function gn(yn){return yn&&(typeof Nr=="function"&&on.pointRadius(+Nr.apply(this,arguments)),(0,l.c)(yn,Ur(on))),on.result()}return gn.area=function(yn){return(0,l.c)(yn,Ur(pe)),pe.result()},gn.measure=function(yn){return(0,l.c)(yn,Ur(Lt)),Lt.result()},gn.bounds=function(yn){return(0,l.c)(yn,Ur(Ae.c)),Ae.c.result()},gn.centroid=function(yn){return(0,l.c)(yn,Ur(Xe)),Xe.result()},gn.projection=function(yn){return arguments.length?(Ur=yn==null?(fr=null,ue.c):(fr=yn).stream,gn):fr},gn.context=function(yn){return arguments.length?(on=yn==null?(Dr=null,new It):new Oe(Dr=yn),typeof Nr!="function"&&on.pointRadius(Nr),gn):Dr},gn.pointRadius=function(yn){return arguments.length?(Nr=typeof yn=="function"?yn:(on.pointRadius(+yn),+yn),gn):Nr},gn.projection(fr).context(Dr)}var Wt=e(87952);function vr(fr){var Dr=0,Nr=n.pi/3,Ur=(0,Wt.U)(fr),on=Ur(Dr,Nr);return on.parallels=function(gn){return arguments.length?Ur(Dr=gn[0]*n.qw,Nr=gn[1]*n.qw):[Dr*n.oh,Nr*n.oh]},on}function dt(fr){var Dr=(0,n.W8)(fr);function Nr(Ur,on){return[Ur*Dr,(0,n.g$)(on)/Dr]}return Nr.invert=function(Ur,on){return[Ur/Dr,(0,n.qR)(on*Dr)]},Nr}function Yt(fr,Dr){var Nr=(0,n.g$)(fr),Ur=(Nr+(0,n.g$)(Dr))/2;if((0,n.a2)(Ur)<n.Gg)return dt(fr);var on=1+Nr*(2*Ur-Nr),gn=(0,n._I)(on)/Ur;function yn(Pn,zn){var ta=(0,n._I)(on-2*Ur*(0,n.g$)(zn))/Ur;return[ta*(0,n.g$)(Pn*=Ur),gn-ta*(0,n.W8)(Pn)]}return yn.invert=function(Pn,zn){var ta=gn-zn,Un=(0,n.WE)(Pn,(0,n.a2)(ta))*(0,n.kq)(ta);return ta*Ur<0&&(Un-=n.pi*(0,n.kq)(Pn)*(0,n.kq)(ta)),[Un/Ur,(0,n.qR)((on-(Pn*Pn+ta*ta)*Ur*Ur)/(2*Ur))]},yn}function jt(){return vr(Yt).scale(155.424).center([0,33.6442])}function gr(){return jt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var sr=e(86420);function gt(fr){var Dr=fr.length;return{point:function(Nr,Ur){for(var on=-1;++on<Dr;)fr[on].point(Nr,Ur)},sphere:function(){for(var Nr=-1;++Nr<Dr;)fr[Nr].sphere()},lineStart:function(){for(var Nr=-1;++Nr<Dr;)fr[Nr].lineStart()},lineEnd:function(){for(var Nr=-1;++Nr<Dr;)fr[Nr].lineEnd()},polygonStart:function(){for(var Nr=-1;++Nr<Dr;)fr[Nr].polygonStart()},polygonEnd:function(){for(var Nr=-1;++Nr<Dr;)fr[Nr].polygonEnd()}}}function st(){var fr,Dr,Nr=gr(),Ur,on=jt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),gn,yn=jt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,zn,ta={point:function(Jn,ea){zn=[Jn,ea]}};function Un(Jn){var ea=Jn[0],pr=Jn[1];return zn=null,Ur.point(ea,pr),zn||(gn.point(ea,pr),zn)||(Pn.point(ea,pr),zn)}Un.invert=function(Jn){var ea=Nr.scale(),pr=Nr.translate(),Jr=(Jn[0]-pr[0])/ea,Xr=(Jn[1]-pr[1])/ea;return(Xr>=.12&&Xr<.234&&Jr>=-.425&&Jr<-.214?on:Xr>=.166&&Xr<.234&&Jr>=-.214&&Jr<-.115?yn:Nr).invert(Jn)},Un.stream=function(Jn){return fr&&Dr===Jn?fr:fr=gt([Nr.stream(Dr=Jn),on.stream(Jn),yn.stream(Jn)])},Un.precision=function(Jn){return arguments.length?(Nr.precision(Jn),on.precision(Jn),yn.precision(Jn),ra()):Nr.precision()},Un.scale=function(Jn){return arguments.length?(Nr.scale(Jn),on.scale(Jn*.35),yn.scale(Jn),Un.translate(Nr.translate())):Nr.scale()},Un.translate=function(Jn){if(!arguments.length)return Nr.translate();var ea=Nr.scale(),pr=+Jn[0],Jr=+Jn[1];return Ur=Nr.translate(Jn).clipExtent([[pr-.455*ea,Jr-.238*ea],[pr+.455*ea,Jr+.238*ea]]).stream(ta),gn=on.translate([pr-.307*ea,Jr+.201*ea]).clipExtent([[pr-.425*ea+n.Gg,Jr+.12*ea+n.Gg],[pr-.214*ea-n.Gg,Jr+.234*ea-n.Gg]]).stream(ta),Pn=yn.translate([pr-.205*ea,Jr+.212*ea]).clipExtent([[pr-.214*ea+n.Gg,Jr+.166*ea+n.Gg],[pr-.115*ea-n.Gg,Jr+.234*ea-n.Gg]]).stream(ta),ra()},Un.fitExtent=function(Jn,ea){return(0,sr.QX)(Un,Jn,ea)},Un.fitSize=function(Jn,ea){return(0,sr.UV)(Un,Jn,ea)},Un.fitWidth=function(Jn,ea){return(0,sr.Qx)(Un,Jn,ea)},Un.fitHeight=function(Jn,ea){return(0,sr.OW)(Un,Jn,ea)};function ra(){return fr=Dr=null,Un}return Un.scale(1070)}var xt=e(54724),Mt=e(69020),Rt=e(92992);function Vt(fr,Dr){return[fr,(0,n.Yz)((0,n.a6)((n.or+Dr)/2))]}Vt.invert=function(fr,Dr){return[fr,2*(0,n.MQ)((0,n.oN)(Dr))-n.or]};function Ct(){return Bt(Vt).scale(961/n.kD)}function Bt(fr){var Dr=(0,Wt.c)(fr),Nr=Dr.center,Ur=Dr.scale,on=Dr.translate,gn=Dr.clipExtent,yn=null,Pn,zn,ta;Dr.scale=function(ra){return arguments.length?(Ur(ra),Un()):Ur()},Dr.translate=function(ra){return arguments.length?(on(ra),Un()):on()},Dr.center=function(ra){return arguments.length?(Nr(ra),Un()):Nr()},Dr.clipExtent=function(ra){return arguments.length?(ra==null?yn=Pn=zn=ta=null:(yn=+ra[0][0],Pn=+ra[0][1],zn=+ra[1][0],ta=+ra[1][1]),Un()):yn==null?null:[[yn,Pn],[zn,ta]]};function Un(){var ra=n.pi*Ur(),Jn=Dr((0,Rt.c)(Dr.rotate()).invert([0,0]));return gn(yn==null?[[Jn[0]-ra,Jn[1]-ra],[Jn[0]+ra,Jn[1]+ra]]:fr===Vt?[[Math.max(Jn[0]-ra,yn),Pn],[Math.min(Jn[0]+ra,zn),ta]]:[[yn,Math.max(Jn[1]-ra,Pn)],[zn,Math.min(Jn[1]+ra,ta)]])}return Un()}function Xt(fr){return(0,n.a6)((n.or+fr)/2)}function ir(fr,Dr){var Nr=(0,n.W8)(fr),Ur=fr===Dr?(0,n.g$)(fr):(0,n.Yz)(Nr/(0,n.W8)(Dr))/(0,n.Yz)(Xt(Dr)/Xt(fr)),on=Nr*(0,n.g3)(Xt(fr),Ur)/Ur;if(!Ur)return Vt;function gn(yn,Pn){on>0?Pn<-n.or+n.Gg&&(Pn=-n.or+n.Gg):Pn>n.or-n.Gg&&(Pn=n.or-n.Gg);var zn=on/(0,n.g3)(Xt(Pn),Ur);return[zn*(0,n.g$)(Ur*yn),on-zn*(0,n.W8)(Ur*yn)]}return gn.invert=function(yn,Pn){var zn=on-Pn,ta=(0,n.kq)(Ur)*(0,n._I)(yn*yn+zn*zn),Un=(0,n.WE)(yn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Ur<0&&(Un-=n.pi*(0,n.kq)(yn)*(0,n.kq)(zn)),[Un/Ur,2*(0,n.MQ)((0,n.g3)(on/ta,1/Ur))-n.or]},gn}function or(){return vr(ir).scale(109.5).parallels([30,30])}var cr=e(69604);function We(fr,Dr){var Nr=(0,n.W8)(fr),Ur=fr===Dr?(0,n.g$)(fr):(Nr-(0,n.W8)(Dr))/(Dr-fr),on=Nr/Ur+fr;if((0,n.a2)(Ur)<n.Gg)return cr.u;function gn(yn,Pn){var zn=on-Pn,ta=Ur*yn;return[zn*(0,n.g$)(ta),on-zn*(0,n.W8)(ta)]}return gn.invert=function(yn,Pn){var zn=on-Pn,ta=(0,n.WE)(yn,(0,n.a2)(zn))*(0,n.kq)(zn);return zn*Ur<0&&(ta-=n.pi*(0,n.kq)(yn)*(0,n.kq)(zn)),[ta/Ur,on-(0,n.kq)(Ur)*(0,n._I)(yn*yn+zn*zn)]},gn}function Ue(){return vr(We).scale(131.154).center([0,13.9389])}var Ft=1.340264,kt=-.081106,Zt=893e-6,rr=.003796,lr=(0,n._I)(3)/2,qt=12;function Ot(fr,Dr){var Nr=(0,n.qR)(lr*(0,n.g$)(Dr)),Ur=Nr*Nr,on=Ur*Ur*Ur;return[fr*(0,n.W8)(Nr)/(lr*(Ft+3*kt*Ur+on*(7*Zt+9*rr*Ur))),Nr*(Ft+kt*Ur+on*(Zt+rr*Ur))]}Ot.invert=function(fr,Dr){for(var Nr=Dr,Ur=Nr*Nr,on=Ur*Ur*Ur,gn=0,yn,Pn,zn;gn<qt&&(Pn=Nr*(Ft+kt*Ur+on*(Zt+rr*Ur))-Dr,zn=Ft+3*kt*Ur+on*(7*Zt+9*rr*Ur),Nr-=yn=Pn/zn,Ur=Nr*Nr,on=Ur*Ur*Ur,!((0,n.a2)(yn)<n.a8));++gn);return[lr*fr*(Ft+3*kt*Ur+on*(7*Zt+9*rr*Ur))/(0,n.W8)(Nr),(0,n.qR)((0,n.g$)(Nr)/lr)]};function tr(){return(0,Wt.c)(Ot).scale(177.158)}var dr=e(53285),mr=e(15196);function Cr(){var fr=1,Dr=0,Nr=0,Ur=1,on=1,gn=0,yn,Pn,zn=null,ta,Un,ra,Jn=1,ea=1,pr=(0,mr.s)({point:function(Mn,On){var Wn=Tn([Mn,On]);this.stream.point(Wn[0],Wn[1])}}),Jr=ue.c,Xr,vn;function Bn(){return Jn=fr*Ur,ea=fr*on,Xr=vn=null,Tn}function Tn(Mn){var On=Mn[0]*Jn,Wn=Mn[1]*ea;if(gn){var oa=Wn*yn-On*Pn;On=On*yn+Wn*Pn,Wn=oa}return[On+Dr,Wn+Nr]}return Tn.invert=function(Mn){var On=Mn[0]-Dr,Wn=Mn[1]-Nr;if(gn){var oa=Wn*yn+On*Pn;On=On*yn-Wn*Pn,Wn=oa}return[On/Jn,Wn/ea]},Tn.stream=function(Mn){return Xr&&vn===Mn?Xr:Xr=pr(Jr(vn=Mn))},Tn.postclip=function(Mn){return arguments.length?(Jr=Mn,zn=ta=Un=ra=null,Bn()):Jr},Tn.clipExtent=function(Mn){return arguments.length?(Jr=Mn==null?(zn=ta=Un=ra=null,ue.c):(0,y.c)(zn=+Mn[0][0],ta=+Mn[0][1],Un=+Mn[1][0],ra=+Mn[1][1]),Bn()):zn==null?null:[[zn,ta],[Un,ra]]},Tn.scale=function(Mn){return arguments.length?(fr=+Mn,Bn()):fr},Tn.translate=function(Mn){return arguments.length?(Dr=+Mn[0],Nr=+Mn[1],Bn()):[Dr,Nr]},Tn.angle=function(Mn){return arguments.length?(gn=Mn%360*n.qw,Pn=(0,n.g$)(gn),yn=(0,n.W8)(gn),Bn()):gn*n.oh},Tn.reflectX=function(Mn){return arguments.length?(Ur=Mn?-1:1,Bn()):Ur<0},Tn.reflectY=function(Mn){return arguments.length?(on=Mn?-1:1,Bn()):on<0},Tn.fitExtent=function(Mn,On){return(0,sr.QX)(Tn,Mn,On)},Tn.fitSize=function(Mn,On){return(0,sr.UV)(Tn,Mn,On)},Tn.fitWidth=function(Mn,On){return(0,sr.Qx)(Tn,Mn,On)},Tn.fitHeight=function(Mn,On){return(0,sr.OW)(Tn,Mn,On)},Tn}var $r=e(47984),yr=e(4888),Gr=e(62280);function rn(fr,Dr){var Nr=(0,n.W8)(Dr),Ur=1+(0,n.W8)(fr)*Nr;return[Nr*(0,n.g$)(fr)/Ur,(0,n.g$)(Dr)/Ur]}rn.invert=(0,Gr.g)(function(fr){return 2*(0,n.MQ)(fr)});function _r(){return(0,Wt.c)(rn).scale(250).clipAngle(142)}function bn(fr,Dr){return[(0,n.Yz)((0,n.a6)((n.or+Dr)/2)),-fr]}bn.invert=function(fr,Dr){return[-Dr,2*(0,n.MQ)((0,n.oN)(fr))-n.or]};function xn(){var fr=Bt(bn),Dr=fr.center,Nr=fr.rotate;return fr.center=function(Ur){return arguments.length?Dr([-Ur[1],Ur[0]]):(Ur=Dr(),[Ur[1],-Ur[0]])},fr.rotate=function(Ur){return arguments.length?Nr([Ur[0],Ur[1],Ur.length>2?Ur[2]+90:90]):(Ur=Nr(),[Ur[0],Ur[1],Ur[2]-90])},Nr([0,0,90]).scale(159.155)}},27284:function(V,U,e){"use strict";e.d(U,{c:function(){return P}});var x=e(64528);function P(i,L){var C=i[0]*x.qw,c=i[1]*x.qw,y=L[0]*x.qw,r=L[1]*x.qw,t=(0,x.W8)(c),s=(0,x.g$)(c),n=(0,x.W8)(r),u=(0,x.g$)(r),l=t*(0,x.W8)(C),f=t*(0,x.g$)(C),g=n*(0,x.W8)(y),h=n*(0,x.g$)(y),w=2*(0,x.qR)((0,x._I)((0,x.SD)(r-c)+t*n*(0,x.SD)(y-C))),d=(0,x.g$)(w),o=w?function(v){var A=(0,x.g$)(v*=w)/d,b=(0,x.g$)(w-v)/d,M=b*l+A*g,m=b*f+A*h,S=b*s+A*u;return[(0,x.WE)(m,M)*x.oh,(0,x.WE)(S,(0,x._I)(M*M+m*m))*x.oh]}:function(){return[C*x.oh,c*x.oh]};return o.distance=w,o}},64528:function(V,U,e){"use strict";e.d(U,{Gg:function(){return x},Km:function(){return l},MQ:function(){return s},SD:function(){return m},W8:function(){return u},WE:function(){return n},Yz:function(){return h},_I:function(){return v},a2:function(){return t},a6:function(){return A},a8:function(){return P},g$:function(){return d},g3:function(){return w},kD:function(){return c},kq:function(){return o},mE:function(){return b},oN:function(){return f},oh:function(){return y},or:function(){return L},pi:function(){return i},qR:function(){return M},qw:function(){return r},wL:function(){return C}});var x=1e-6,P=1e-12,i=Math.PI,L=i/2,C=i/4,c=i*2,y=180/i,r=i/180,t=Math.abs,s=Math.atan,n=Math.atan2,u=Math.cos,l=Math.ceil,f=Math.exp,g=Math.floor,h=Math.log,w=Math.pow,d=Math.sin,o=Math.sign||function(S){return S>0?1:S<0?-1:0},v=Math.sqrt,A=Math.tan;function b(S){return S>1?0:S<-1?i:Math.acos(S)}function M(S){return S>1?L:S<-1?-L:Math.asin(S)}function m(S){return(S=d(S/2))*S}},70932:function(V,U,e){"use strict";e.d(U,{c:function(){return x}});function x(){}},73784:function(V,U,e){"use strict";var x=e(70932),P=1/0,i=P,L=-P,C=L,c={point:y,lineStart:x.c,lineEnd:x.c,polygonStart:x.c,polygonEnd:x.c,result:function(){var r=[[P,i],[L,C]];return L=C=-(i=P=1/0),r}};function y(r,t){r<P&&(P=r),r>L&&(L=r),t<i&&(i=t),t>C&&(C=t)}U.c=c},41860:function(V,U,e){"use strict";e.d(U,{c:function(){return P}});var x=e(64528);function P(i,L){return(0,x.a2)(i[0]-L[0])<x.Gg&&(0,x.a2)(i[1]-L[1])<x.Gg}},58196:function(V,U,e){"use strict";e.d(U,{c:function(){return c}});var x=e(88728),P=e(84220),i=e(64528),L=(0,x.c)();function C(y){return(0,i.a2)(y[0])<=i.pi?y[0]:(0,i.kq)(y[0])*(((0,i.a2)(y[0])+i.pi)%i.kD-i.pi)}function c(y,r){var t=C(r),s=r[1],n=(0,i.g$)(s),u=[(0,i.g$)(t),-(0,i.W8)(t),0],l=0,f=0;L.reset(),n===1?s=i.or+i.Gg:n===-1&&(s=-i.or-i.Gg);for(var g=0,h=y.length;g<h;++g)if(d=(w=y[g]).length)for(var w,d,o=w[d-1],v=C(o),A=o[1]/2+i.wL,b=(0,i.g$)(A),M=(0,i.W8)(A),m=0;m<d;++m,v=T,b=E,M=p,o=S){var S=w[m],T=C(S),a=S[1]/2+i.wL,E=(0,i.g$)(a),p=(0,i.W8)(a),k=T-v,R=k>=0?1:-1,B=R*k,F=B>i.pi,_=b*E;if(L.add((0,i.WE)(_*R*(0,i.g$)(B),M*p+_*(0,i.W8)(B))),l+=F?k+R*i.kD:k,F^v>=t^T>=t){var O=(0,P.CW)((0,P.ux)(o),(0,P.ux)(S));(0,P.cJ)(O);var z=(0,P.CW)(u,O);(0,P.cJ)(z);var N=(F^k>=0?-1:1)*(0,i.qR)(z[2]);(s>N||s===N&&(O[0]||O[1]))&&(f+=F^k>=0?1:-1)}}return(l<-i.Gg||l<i.Gg&&L<-i.Gg)^f&1}},62280:function(V,U,e){"use strict";e.d(U,{a:function(){return P},g:function(){return i}});var x=e(64528);function P(L){return function(C,c){var y=(0,x.W8)(C),r=(0,x.W8)(c),t=L(y*r);return[t*r*(0,x.g$)(C),t*(0,x.g$)(c)]}}function i(L){return function(C,c){var y=(0,x._I)(C*C+c*c),r=L(y),t=(0,x.g$)(r),s=(0,x.W8)(r);return[(0,x.WE)(C*t,y*s),(0,x.qR)(y&&c*t/y)]}}},54724:function(V,U,e){"use strict";e.d(U,{c:function(){return C},y:function(){return L}});var x=e(64528),P=e(62280),i=e(87952),L=(0,P.a)(function(c){return(0,x._I)(2/(1+c))});L.invert=(0,P.g)(function(c){return 2*(0,x.qR)(c/2)});function C(){return(0,i.c)(L).scale(124.75).clipAngle(179.999)}},69020:function(V,U,e){"use strict";e.d(U,{O:function(){return L},c:function(){return C}});var x=e(64528),P=e(62280),i=e(87952),L=(0,P.a)(function(c){return(c=(0,x.mE)(c))&&c/(0,x.g$)(c)});L.invert=(0,P.g)(function(c){return c});function C(){return(0,i.c)(L).scale(79.4188).clipAngle(179.999)}},69604:function(V,U,e){"use strict";e.d(U,{c:function(){return i},u:function(){return P}});var x=e(87952);function P(L,C){return[L,C]}P.invert=P;function i(){return(0,x.c)(P).scale(152.63)}},86420:function(V,U,e){"use strict";e.d(U,{OW:function(){return y},QX:function(){return L},Qx:function(){return c},UV:function(){return C}});var x=e(16016),P=e(73784);function i(r,t,s){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,x.c)(s,r.stream(P.c)),t(P.c.result()),n!=null&&r.clipExtent(n),r}function L(r,t,s){return i(r,function(n){var u=t[1][0]-t[0][0],l=t[1][1]-t[0][1],f=Math.min(u/(n[1][0]-n[0][0]),l/(n[1][1]-n[0][1])),g=+t[0][0]+(u-f*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(l-f*(n[1][1]+n[0][1]))/2;r.scale(150*f).translate([g,h])},s)}function C(r,t,s){return L(r,[[0,0],t],s)}function c(r,t,s){return i(r,function(n){var u=+t,l=u/(n[1][0]-n[0][0]),f=(u-l*(n[1][0]+n[0][0]))/2,g=-l*n[0][1];r.scale(150*l).translate([f,g])},s)}function y(r,t,s){return i(r,function(n){var u=+t,l=u/(n[1][1]-n[0][1]),f=-l*n[0][0],g=(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([f,g])},s)}},53285:function(V,U,e){"use strict";e.d(U,{Y:function(){return L},c:function(){return C}});var x=e(64528),P=e(62280),i=e(87952);function L(c,y){var r=(0,x.W8)(y),t=(0,x.W8)(c)*r;return[r*(0,x.g$)(c)/t,(0,x.g$)(y)/t]}L.invert=(0,P.g)(x.MQ);function C(){return(0,i.c)(L).scale(144.049).clipAngle(60)}},87952:function(V,U,e){"use strict";e.d(U,{c:function(){return v},U:function(){return A}});var x=e(78284),P=e(2728),i=e(21676),L=e(68120),C=e(7376),c=e(64528),y=e(92992),r=e(15196),t=e(86420),s=e(84220),n=16,u=(0,c.W8)(30*c.qw);function l(b,M){return+M?g(b,M):f(b)}function f(b){return(0,r.s)({point:function(M,m){M=b(M,m),this.stream.point(M[0],M[1])}})}function g(b,M){function m(S,T,a,E,p,k,R,B,F,_,O,z,N,Y){var J=R-S,ae=B-T,se=J*J+ae*ae;if(se>4*M&&N--){var ue=E+_,K=p+O,j=k+z,ie=(0,c._I)(ue*ue+K*K+j*j),W=(0,c.qR)(j/=ie),Q=(0,c.a2)((0,c.a2)(j)-1)<c.Gg||(0,c.a2)(a-F)<c.Gg?(a+F)/2:(0,c.WE)(K,ue),ee=b(Q,W),$=ee[0],X=ee[1],oe=$-S,te=X-T,fe=ae*oe-J*te;(fe*fe/se>M||(0,c.a2)((J*oe+ae*te)/se-.5)>.3||E*_+p*O+k*z<u)&&(m(S,T,a,E,p,k,$,X,Q,ue/=ie,K/=ie,j,N,Y),Y.point($,X),m($,X,Q,ue,K,j,R,B,F,_,O,z,N,Y))}}return function(S){var T,a,E,p,k,R,B,F,_,O,z,N,Y={point:J,lineStart:ae,lineEnd:ue,polygonStart:function(){S.polygonStart(),Y.lineStart=K},polygonEnd:function(){S.polygonEnd(),Y.lineStart=ae}};function J(W,Q){W=b(W,Q),S.point(W[0],W[1])}function ae(){F=NaN,Y.point=se,S.lineStart()}function se(W,Q){var ee=(0,s.ux)([W,Q]),$=b(W,Q);m(F,_,B,O,z,N,F=$[0],_=$[1],B=W,O=ee[0],z=ee[1],N=ee[2],n,S),S.point(F,_)}function ue(){Y.point=J,S.lineEnd()}function K(){ae(),Y.point=j,Y.lineEnd=ie}function j(W,Q){se(T=W,Q),a=F,E=_,p=O,k=z,R=N,Y.point=se}function ie(){m(F,_,B,O,z,N,a,E,T,p,k,R,n,S),Y.lineEnd=ue,ue()}return Y}}var h=(0,r.s)({point:function(b,M){this.stream.point(b*c.qw,M*c.qw)}});function w(b){return(0,r.s)({point:function(M,m){var S=b(M,m);return this.stream.point(S[0],S[1])}})}function d(b,M,m,S,T){function a(E,p){return E*=S,p*=T,[M+b*E,m-b*p]}return a.invert=function(E,p){return[(E-M)/b*S,(m-p)/b*T]},a}function o(b,M,m,S,T,a){var E=(0,c.W8)(a),p=(0,c.g$)(a),k=E*b,R=p*b,B=E/b,F=p/b,_=(p*m-E*M)/b,O=(p*M+E*m)/b;function z(N,Y){return N*=S,Y*=T,[k*N-R*Y+M,m-R*N-k*Y]}return z.invert=function(N,Y){return[S*(B*N-F*Y+_),T*(O-F*N-B*Y)]},z}function v(b){return A(function(){return b})()}function A(b){var M,m=150,S=480,T=250,a=0,E=0,p=0,k=0,R=0,B,F=0,_=1,O=1,z=null,N=x.c,Y=null,J,ae,se,ue=C.c,K=.5,j,ie,W,Q,ee;function $(fe){return W(fe[0]*c.qw,fe[1]*c.qw)}function X(fe){return fe=W.invert(fe[0],fe[1]),fe&&[fe[0]*c.oh,fe[1]*c.oh]}$.stream=function(fe){return Q&&ee===fe?Q:Q=h(w(B)(N(j(ue(ee=fe)))))},$.preclip=function(fe){return arguments.length?(N=fe,z=void 0,te()):N},$.postclip=function(fe){return arguments.length?(ue=fe,Y=J=ae=se=null,te()):ue},$.clipAngle=function(fe){return arguments.length?(N=+fe?(0,P.c)(z=fe*c.qw):(z=null,x.c),te()):z*c.oh},$.clipExtent=function(fe){return arguments.length?(ue=fe==null?(Y=J=ae=se=null,C.c):(0,i.c)(Y=+fe[0][0],J=+fe[0][1],ae=+fe[1][0],se=+fe[1][1]),te()):Y==null?null:[[Y,J],[ae,se]]},$.scale=function(fe){return arguments.length?(m=+fe,oe()):m},$.translate=function(fe){return arguments.length?(S=+fe[0],T=+fe[1],oe()):[S,T]},$.center=function(fe){return arguments.length?(a=fe[0]%360*c.qw,E=fe[1]%360*c.qw,oe()):[a*c.oh,E*c.oh]},$.rotate=function(fe){return arguments.length?(p=fe[0]%360*c.qw,k=fe[1]%360*c.qw,R=fe.length>2?fe[2]%360*c.qw:0,oe()):[p*c.oh,k*c.oh,R*c.oh]},$.angle=function(fe){return arguments.length?(F=fe%360*c.qw,oe()):F*c.oh},$.reflectX=function(fe){return arguments.length?(_=fe?-1:1,oe()):_<0},$.reflectY=function(fe){return arguments.length?(O=fe?-1:1,oe()):O<0},$.precision=function(fe){return arguments.length?(j=l(ie,K=fe*fe),te()):(0,c._I)(K)},$.fitExtent=function(fe,pe){return(0,t.QX)($,fe,pe)},$.fitSize=function(fe,pe){return(0,t.UV)($,fe,pe)},$.fitWidth=function(fe,pe){return(0,t.Qx)($,fe,pe)},$.fitHeight=function(fe,pe){return(0,t.OW)($,fe,pe)};function oe(){var fe=o(m,0,0,_,O,F).apply(null,M(a,E)),pe=(F?o:d)(m,S-fe[0],T-fe[1],_,O,F);return B=(0,y.O)(p,k,R),ie=(0,L.c)(M,pe),W=(0,L.c)(B,ie),j=l(ie,K),te()}function te(){return Q=ee=null,$}return function(){return M=b.apply(this,arguments),$.invert=M.invert&&X,oe()}}},47984:function(V,U,e){"use strict";e.d(U,{c:function(){return L},g:function(){return i}});var x=e(87952),P=e(64528);function i(C,c){var y=c*c,r=y*y;return[C*(.8707-.131979*y+r*(-.013791+r*(.003971*y-.001529*r))),c*(1.007226+y*(.015085+r*(-.044475+.028874*y-.005916*r)))]}i.invert=function(C,c){var y=c,r=25,t;do{var s=y*y,n=s*s;y-=t=(y*(1.007226+s*(.015085+n*(-.044475+.028874*s-.005916*n)))-c)/(1.007226+s*(.045255+n*(-.311325+.259866*s-.06507600000000001*n)))}while((0,P.a2)(t)>P.Gg&&--r>0);return[C/(.8707+(s=y*y)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),y]};function L(){return(0,x.c)(i).scale(175.295)}},4888:function(V,U,e){"use strict";e.d(U,{c:function(){return C},t:function(){return L}});var x=e(64528),P=e(62280),i=e(87952);function L(c,y){return[(0,x.W8)(y)*(0,x.g$)(c),(0,x.g$)(y)]}L.invert=(0,P.g)(x.qR);function C(){return(0,i.c)(L).scale(249.5).clipAngle(90+x.Gg)}},92992:function(V,U,e){"use strict";e.d(U,{O:function(){return L},c:function(){return r}});var x=e(68120),P=e(64528);function i(t,s){return[(0,P.a2)(t)>P.pi?t+Math.round(-t/P.kD)*P.kD:t,s]}i.invert=i;function L(t,s,n){return(t%=P.kD)?s||n?(0,x.c)(c(t),y(s,n)):c(t):s||n?y(s,n):i}function C(t){return function(s,n){return s+=t,[s>P.pi?s-P.kD:s<-P.pi?s+P.kD:s,n]}}function c(t){var s=C(t);return s.invert=C(-t),s}function y(t,s){var n=(0,P.W8)(t),u=(0,P.g$)(t),l=(0,P.W8)(s),f=(0,P.g$)(s);function g(h,w){var d=(0,P.W8)(w),o=(0,P.W8)(h)*d,v=(0,P.g$)(h)*d,A=(0,P.g$)(w),b=A*n+o*u;return[(0,P.WE)(v*l-b*f,o*n-A*u),(0,P.qR)(b*l+v*f)]}return g.invert=function(h,w){var d=(0,P.W8)(w),o=(0,P.W8)(h)*d,v=(0,P.g$)(h)*d,A=(0,P.g$)(w),b=A*l-v*f;return[(0,P.WE)(v*l+A*f,o*n+b*u),(0,P.qR)(b*n-o*u)]},g}function r(t){t=L(t[0]*P.qw,t[1]*P.qw,t.length>2?t[2]*P.qw:0);function s(n){return n=t(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n}return s.invert=function(n){return n=t.invert(n[0]*P.qw,n[1]*P.qw),n[0]*=P.oh,n[1]*=P.oh,n},s}},16016:function(V,U,e){"use strict";e.d(U,{c:function(){return c}});function x(y,r){y&&i.hasOwnProperty(y.type)&&i[y.type](y,r)}var P={Feature:function(y,r){x(y.geometry,r)},FeatureCollection:function(y,r){for(var t=y.features,s=-1,n=t.length;++s<n;)x(t[s].geometry,r)}},i={Sphere:function(y,r){r.sphere()},Point:function(y,r){y=y.coordinates,r.point(y[0],y[1],y[2])},MultiPoint:function(y,r){for(var t=y.coordinates,s=-1,n=t.length;++s<n;)y=t[s],r.point(y[0],y[1],y[2])},LineString:function(y,r){L(y.coordinates,r,0)},MultiLineString:function(y,r){for(var t=y.coordinates,s=-1,n=t.length;++s<n;)L(t[s],r,0)},Polygon:function(y,r){C(y.coordinates,r)},MultiPolygon:function(y,r){for(var t=y.coordinates,s=-1,n=t.length;++s<n;)C(t[s],r)},GeometryCollection:function(y,r){for(var t=y.geometries,s=-1,n=t.length;++s<n;)x(t[s],r)}};function L(y,r,t){var s=-1,n=y.length-t,u;for(r.lineStart();++s<n;)u=y[s],r.point(u[0],u[1],u[2]);r.lineEnd()}function C(y,r){var t=-1,s=y.length;for(r.polygonStart();++t<s;)L(y[t],r,1);r.polygonEnd()}function c(y,r){y&&P.hasOwnProperty(y.type)?P[y.type](y,r):x(y,r)}},15196:function(V,U,e){"use strict";e.d(U,{c:function(){return x},s:function(){return P}});function x(L){return{stream:P(L)}}function P(L){return function(C){var c=new i;for(var y in L)c[y]=L[y];return c.stream=C,c}}function i(){}i.prototype={constructor:i,point:function(L,C){this.stream.point(L,C)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(V,U,e){"use strict";e.r(U),e.d(U,{cluster:function(){return r},hierarchy:function(){return b},pack:function(){return X},packEnclose:function(){return k},packSiblings:function(){return j},partition:function(){return be},stratify:function(){return Ve},tree:function(){return ot},treemap:function(){return Re},treemapBinary:function(){return Ge},treemapDice:function(){return Ae},treemapResquarify:function(){return Xe},treemapSlice:function(){return ct},treemapSliceDice:function(){return Je},treemapSquarify:function(){return tt}});function x(Oe,Ne){return Oe.parent===Ne.parent?1:2}function P(Oe){return Oe.reduce(i,0)/Oe.length}function i(Oe,Ne){return Oe+Ne.x}function L(Oe){return 1+Oe.reduce(C,0)}function C(Oe,Ne){return Math.max(Oe,Ne.y)}function c(Oe){for(var Ne;Ne=Oe.children;)Oe=Ne[0];return Oe}function y(Oe){for(var Ne;Ne=Oe.children;)Oe=Ne[Ne.length-1];return Oe}function r(){var Oe=x,Ne=1,ze=1,et=!1;function Le(Te){var ye,Se=0;Te.eachAfter(function(wt){var Et=wt.children;Et?(wt.x=P(Et),wt.y=L(Et)):(wt.x=ye?Se+=Oe(wt,ye):0,wt.y=0,ye=wt)});var Ke=c(Te),rt=y(Te),Lt=Ke.x-Oe(Ke,rt)/2,It=rt.x+Oe(rt,Ke)/2;return Te.eachAfter(et?function(wt){wt.x=(wt.x-Te.x)*Ne,wt.y=(Te.y-wt.y)*ze}:function(wt){wt.x=(wt.x-Lt)/(It-Lt)*Ne,wt.y=(1-(Te.y?wt.y/Te.y:1))*ze})}return Le.separation=function(Te){return arguments.length?(Oe=Te,Le):Oe},Le.size=function(Te){return arguments.length?(et=!1,Ne=+Te[0],ze=+Te[1],Le):et?null:[Ne,ze]},Le.nodeSize=function(Te){return arguments.length?(et=!0,Ne=+Te[0],ze=+Te[1],Le):et?[Ne,ze]:null},Le}function t(Oe){var Ne=0,ze=Oe.children,et=ze&&ze.length;if(!et)Ne=1;else for(;--et>=0;)Ne+=ze[et].value;Oe.value=Ne}function s(){return this.eachAfter(t)}function n(Oe){var Ne=this,ze,et=[Ne],Le,Te,ye;do for(ze=et.reverse(),et=[];Ne=ze.pop();)if(Oe(Ne),Le=Ne.children,Le)for(Te=0,ye=Le.length;Te<ye;++Te)et.push(Le[Te]);while(et.length);return this}function u(Oe){for(var Ne=this,ze=[Ne],et,Le;Ne=ze.pop();)if(Oe(Ne),et=Ne.children,et)for(Le=et.length-1;Le>=0;--Le)ze.push(et[Le]);return this}function l(Oe){for(var Ne=this,ze=[Ne],et=[],Le,Te,ye;Ne=ze.pop();)if(et.push(Ne),Le=Ne.children,Le)for(Te=0,ye=Le.length;Te<ye;++Te)ze.push(Le[Te]);for(;Ne=et.pop();)Oe(Ne);return this}function f(Oe){return this.eachAfter(function(Ne){for(var ze=+Oe(Ne.data)||0,et=Ne.children,Le=et&&et.length;--Le>=0;)ze+=et[Le].value;Ne.value=ze})}function g(Oe){return this.eachBefore(function(Ne){Ne.children&&Ne.children.sort(Oe)})}function h(Oe){for(var Ne=this,ze=w(Ne,Oe),et=[Ne];Ne!==ze;)Ne=Ne.parent,et.push(Ne);for(var Le=et.length;Oe!==ze;)et.splice(Le,0,Oe),Oe=Oe.parent;return et}function w(Oe,Ne){if(Oe===Ne)return Oe;var ze=Oe.ancestors(),et=Ne.ancestors(),Le=null;for(Oe=ze.pop(),Ne=et.pop();Oe===Ne;)Le=Oe,Oe=ze.pop(),Ne=et.pop();return Le}function d(){for(var Oe=this,Ne=[Oe];Oe=Oe.parent;)Ne.push(Oe);return Ne}function o(){var Oe=[];return this.each(function(Ne){Oe.push(Ne)}),Oe}function v(){var Oe=[];return this.eachBefore(function(Ne){Ne.children||Oe.push(Ne)}),Oe}function A(){var Oe=this,Ne=[];return Oe.each(function(ze){ze!==Oe&&Ne.push({source:ze.parent,target:ze})}),Ne}function b(Oe,Ne){var ze=new a(Oe),et=+Oe.value&&(ze.value=Oe.value),Le,Te=[ze],ye,Se,Ke,rt;for(Ne==null&&(Ne=m);Le=Te.pop();)if(et&&(Le.value=+Le.data.value),(Se=Ne(Le.data))&&(rt=Se.length))for(Le.children=new Array(rt),Ke=rt-1;Ke>=0;--Ke)Te.push(ye=Le.children[Ke]=new a(Se[Ke])),ye.parent=Le,ye.depth=Le.depth+1;return ze.eachBefore(T)}function M(){return b(this).eachBefore(S)}function m(Oe){return Oe.children}function S(Oe){Oe.data=Oe.data.data}function T(Oe){var Ne=0;do Oe.height=Ne;while((Oe=Oe.parent)&&Oe.height<++Ne)}function a(Oe){this.data=Oe,this.depth=this.height=0,this.parent=null}a.prototype=b.prototype={constructor:a,count:s,each:n,eachAfter:l,eachBefore:u,sum:f,sort:g,path:h,ancestors:d,descendants:o,leaves:v,links:A,copy:M};var E=Array.prototype.slice;function p(Oe){for(var Ne=Oe.length,ze,et;Ne;)et=Math.random()*Ne--|0,ze=Oe[Ne],Oe[Ne]=Oe[et],Oe[et]=ze;return Oe}function k(Oe){for(var Ne=0,ze=(Oe=p(E.call(Oe))).length,et=[],Le,Te;Ne<ze;)Le=Oe[Ne],Te&&F(Te,Le)?++Ne:(Te=O(et=R(et,Le)),Ne=0);return Te}function R(Oe,Ne){var ze,et;if(_(Ne,Oe))return[Ne];for(ze=0;ze<Oe.length;++ze)if(B(Ne,Oe[ze])&&_(N(Oe[ze],Ne),Oe))return[Oe[ze],Ne];for(ze=0;ze<Oe.length-1;++ze)for(et=ze+1;et<Oe.length;++et)if(B(N(Oe[ze],Oe[et]),Ne)&&B(N(Oe[ze],Ne),Oe[et])&&B(N(Oe[et],Ne),Oe[ze])&&_(Y(Oe[ze],Oe[et],Ne),Oe))return[Oe[ze],Oe[et],Ne];throw new Error}function B(Oe,Ne){var ze=Oe.r-Ne.r,et=Ne.x-Oe.x,Le=Ne.y-Oe.y;return ze<0||ze*ze<et*et+Le*Le}function F(Oe,Ne){var ze=Oe.r-Ne.r+1e-6,et=Ne.x-Oe.x,Le=Ne.y-Oe.y;return ze>0&&ze*ze>et*et+Le*Le}function _(Oe,Ne){for(var ze=0;ze<Ne.length;++ze)if(!F(Oe,Ne[ze]))return!1;return!0}function O(Oe){switch(Oe.length){case 1:return z(Oe[0]);case 2:return N(Oe[0],Oe[1]);case 3:return Y(Oe[0],Oe[1],Oe[2])}}function z(Oe){return{x:Oe.x,y:Oe.y,r:Oe.r}}function N(Oe,Ne){var ze=Oe.x,et=Oe.y,Le=Oe.r,Te=Ne.x,ye=Ne.y,Se=Ne.r,Ke=Te-ze,rt=ye-et,Lt=Se-Le,It=Math.sqrt(Ke*Ke+rt*rt);return{x:(ze+Te+Ke/It*Lt)/2,y:(et+ye+rt/It*Lt)/2,r:(It+Le+Se)/2}}function Y(Oe,Ne,ze){var et=Oe.x,Le=Oe.y,Te=Oe.r,ye=Ne.x,Se=Ne.y,Ke=Ne.r,rt=ze.x,Lt=ze.y,It=ze.r,wt=et-ye,Et=et-rt,Wt=Le-Se,vr=Le-Lt,dt=Ke-Te,Yt=It-Te,jt=et*et+Le*Le-Te*Te,gr=jt-ye*ye-Se*Se+Ke*Ke,sr=jt-rt*rt-Lt*Lt+It*It,gt=Et*Wt-wt*vr,st=(Wt*sr-vr*gr)/(gt*2)-et,xt=(vr*dt-Wt*Yt)/gt,Mt=(Et*gr-wt*sr)/(gt*2)-Le,Rt=(wt*Yt-Et*dt)/gt,Vt=xt*xt+Rt*Rt-1,Ct=2*(Te+st*xt+Mt*Rt),Bt=st*st+Mt*Mt-Te*Te,Xt=-(Vt?(Ct+Math.sqrt(Ct*Ct-4*Vt*Bt))/(2*Vt):Bt/Ct);return{x:et+st+xt*Xt,y:Le+Mt+Rt*Xt,r:Xt}}function J(Oe,Ne,ze){var et=Oe.x-Ne.x,Le,Te,ye=Oe.y-Ne.y,Se,Ke,rt=et*et+ye*ye;rt?(Te=Ne.r+ze.r,Te*=Te,Ke=Oe.r+ze.r,Ke*=Ke,Te>Ke?(Le=(rt+Ke-Te)/(2*rt),Se=Math.sqrt(Math.max(0,Ke/rt-Le*Le)),ze.x=Oe.x-Le*et-Se*ye,ze.y=Oe.y-Le*ye+Se*et):(Le=(rt+Te-Ke)/(2*rt),Se=Math.sqrt(Math.max(0,Te/rt-Le*Le)),ze.x=Ne.x+Le*et-Se*ye,ze.y=Ne.y+Le*ye+Se*et)):(ze.x=Ne.x+ze.r,ze.y=Ne.y)}function ae(Oe,Ne){var ze=Oe.r+Ne.r-1e-6,et=Ne.x-Oe.x,Le=Ne.y-Oe.y;return ze>0&&ze*ze>et*et+Le*Le}function se(Oe){var Ne=Oe._,ze=Oe.next._,et=Ne.r+ze.r,Le=(Ne.x*ze.r+ze.x*Ne.r)/et,Te=(Ne.y*ze.r+ze.y*Ne.r)/et;return Le*Le+Te*Te}function ue(Oe){this._=Oe,this.next=null,this.previous=null}function K(Oe){if(!(Le=Oe.length))return 0;var Ne,ze,et,Le,Te,ye,Se,Ke,rt,Lt,It;if(Ne=Oe[0],Ne.x=0,Ne.y=0,!(Le>1))return Ne.r;if(ze=Oe[1],Ne.x=-ze.r,ze.x=Ne.r,ze.y=0,!(Le>2))return Ne.r+ze.r;J(ze,Ne,et=Oe[2]),Ne=new ue(Ne),ze=new ue(ze),et=new ue(et),Ne.next=et.previous=ze,ze.next=Ne.previous=et,et.next=ze.previous=Ne;e:for(Se=3;Se<Le;++Se){J(Ne._,ze._,et=Oe[Se]),et=new ue(et),Ke=ze.next,rt=Ne.previous,Lt=ze._.r,It=Ne._.r;do if(Lt<=It){if(ae(Ke._,et._)){ze=Ke,Ne.next=ze,ze.previous=Ne,--Se;continue e}Lt+=Ke._.r,Ke=Ke.next}else{if(ae(rt._,et._)){Ne=rt,Ne.next=ze,ze.previous=Ne,--Se;continue e}It+=rt._.r,rt=rt.previous}while(Ke!==rt.next);for(et.previous=Ne,et.next=ze,Ne.next=ze.previous=ze=et,Te=se(Ne);(et=et.next)!==ze;)(ye=se(et))<Te&&(Ne=et,Te=ye);ze=Ne.next}for(Ne=[ze._],et=ze;(et=et.next)!==ze;)Ne.push(et._);for(et=k(Ne),Se=0;Se<Le;++Se)Ne=Oe[Se],Ne.x-=et.x,Ne.y-=et.y;return et.r}function j(Oe){return K(Oe),Oe}function ie(Oe){return Oe==null?null:W(Oe)}function W(Oe){if(typeof Oe!="function")throw new Error;return Oe}function Q(){return 0}function ee(Oe){return function(){return Oe}}function $(Oe){return Math.sqrt(Oe.value)}function X(){var Oe=null,Ne=1,ze=1,et=Q;function Le(Te){return Te.x=Ne/2,Te.y=ze/2,Oe?Te.eachBefore(oe(Oe)).eachAfter(te(et,.5)).eachBefore(fe(1)):Te.eachBefore(oe($)).eachAfter(te(Q,1)).eachAfter(te(et,Te.r/Math.min(Ne,ze))).eachBefore(fe(Math.min(Ne,ze)/(2*Te.r))),Te}return Le.radius=function(Te){return arguments.length?(Oe=ie(Te),Le):Oe},Le.size=function(Te){return arguments.length?(Ne=+Te[0],ze=+Te[1],Le):[Ne,ze]},Le.padding=function(Te){return arguments.length?(et=typeof Te=="function"?Te:ee(+Te),Le):et},Le}function oe(Oe){return function(Ne){Ne.children||(Ne.r=Math.max(0,+Oe(Ne)||0))}}function te(Oe,Ne){return function(ze){if(et=ze.children){var et,Le,Te=et.length,ye=Oe(ze)*Ne||0,Se;if(ye)for(Le=0;Le<Te;++Le)et[Le].r+=ye;if(Se=K(et),ye)for(Le=0;Le<Te;++Le)et[Le].r-=ye;ze.r=Se+ye}}}function fe(Oe){return function(Ne){var ze=Ne.parent;Ne.r*=Oe,ze&&(Ne.x=ze.x+Oe*Ne.x,Ne.y=ze.y+Oe*Ne.y)}}function pe(Oe){Oe.x0=Math.round(Oe.x0),Oe.y0=Math.round(Oe.y0),Oe.x1=Math.round(Oe.x1),Oe.y1=Math.round(Oe.y1)}function Ae(Oe,Ne,ze,et,Le){for(var Te=Oe.children,ye,Se=-1,Ke=Te.length,rt=Oe.value&&(et-Ne)/Oe.value;++Se<Ke;)ye=Te[Se],ye.y0=ze,ye.y1=Le,ye.x0=Ne,ye.x1=Ne+=ye.value*rt}function be(){var Oe=1,Ne=1,ze=0,et=!1;function Le(ye){var Se=ye.height+1;return ye.x0=ye.y0=ze,ye.x1=Oe,ye.y1=Ne/Se,ye.eachBefore(Te(Ne,Se)),et&&ye.eachBefore(pe),ye}function Te(ye,Se){return function(Ke){Ke.children&&Ae(Ke,Ke.x0,ye*(Ke.depth+1)/Se,Ke.x1,ye*(Ke.depth+2)/Se);var rt=Ke.x0,Lt=Ke.y0,It=Ke.x1-ze,wt=Ke.y1-ze;It<rt&&(rt=It=(rt+It)/2),wt<Lt&&(Lt=wt=(Lt+wt)/2),Ke.x0=rt,Ke.y0=Lt,Ke.x1=It,Ke.y1=wt}}return Le.round=function(ye){return arguments.length?(et=!!ye,Le):et},Le.size=function(ye){return arguments.length?(Oe=+ye[0],Ne=+ye[1],Le):[Oe,Ne]},Le.padding=function(ye){return arguments.length?(ze=+ye,Le):ze},Le}var Pe="$",me={depth:-1},Ee={};function xe(Oe){return Oe.id}function De(Oe){return Oe.parentId}function Ve(){var Oe=xe,Ne=De;function ze(et){var Le,Te,ye=et.length,Se,Ke,rt,Lt=new Array(ye),It,wt,Et={};for(Te=0;Te<ye;++Te)Le=et[Te],rt=Lt[Te]=new a(Le),(It=Oe(Le,Te,et))!=null&&(It+="")&&(wt=Pe+(rt.id=It),Et[wt]=wt in Et?Ee:rt);for(Te=0;Te<ye;++Te)if(rt=Lt[Te],It=Ne(et[Te],Te,et),It==null||!(It+="")){if(Se)throw new Error("multiple roots");Se=rt}else{if(Ke=Et[Pe+It],!Ke)throw new Error("missing: "+It);if(Ke===Ee)throw new Error("ambiguous: "+It);Ke.children?Ke.children.push(rt):Ke.children=[rt],rt.parent=Ke}if(!Se)throw new Error("no root");if(Se.parent=me,Se.eachBefore(function(Wt){Wt.depth=Wt.parent.depth+1,--ye}).eachBefore(T),Se.parent=null,ye>0)throw new Error("cycle");return Se}return ze.id=function(et){return arguments.length?(Oe=W(et),ze):Oe},ze.parentId=function(et){return arguments.length?(Ne=W(et),ze):Ne},ze}function Ze(Oe,Ne){return Oe.parent===Ne.parent?1:2}function ke(Oe){var Ne=Oe.children;return Ne?Ne[0]:Oe.t}function Ye(Oe){var Ne=Oe.children;return Ne?Ne[Ne.length-1]:Oe.t}function lt(Oe,Ne,ze){var et=ze/(Ne.i-Oe.i);Ne.c-=et,Ne.s+=ze,Oe.c+=et,Ne.z+=ze,Ne.m+=ze}function yt(Oe){for(var Ne=0,ze=0,et=Oe.children,Le=et.length,Te;--Le>=0;)Te=et[Le],Te.z+=Ne,Te.m+=Ne,Ne+=Te.s+(ze+=Te.c)}function He(Oe,Ne,ze){return Oe.a.parent===Ne.parent?Oe.a:ze}function Fe(Oe,Ne){this._=Oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ne}Fe.prototype=Object.create(a.prototype);function nt(Oe){for(var Ne=new Fe(Oe,0),ze,et=[Ne],Le,Te,ye,Se;ze=et.pop();)if(Te=ze._.children)for(ze.children=new Array(Se=Te.length),ye=Se-1;ye>=0;--ye)et.push(Le=ze.children[ye]=new Fe(Te[ye],ye)),Le.parent=ze;return(Ne.parent=new Fe(null,0)).children=[Ne],Ne}function ot(){var Oe=Ze,Ne=1,ze=1,et=null;function Le(rt){var Lt=nt(rt);if(Lt.eachAfter(Te),Lt.parent.m=-Lt.z,Lt.eachBefore(ye),et)rt.eachBefore(Ke);else{var It=rt,wt=rt,Et=rt;rt.eachBefore(function(jt){jt.x<It.x&&(It=jt),jt.x>wt.x&&(wt=jt),jt.depth>Et.depth&&(Et=jt)});var Wt=It===wt?1:Oe(It,wt)/2,vr=Wt-It.x,dt=Ne/(wt.x+Wt+vr),Yt=ze/(Et.depth||1);rt.eachBefore(function(jt){jt.x=(jt.x+vr)*dt,jt.y=jt.depth*Yt})}return rt}function Te(rt){var Lt=rt.children,It=rt.parent.children,wt=rt.i?It[rt.i-1]:null;if(Lt){yt(rt);var Et=(Lt[0].z+Lt[Lt.length-1].z)/2;wt?(rt.z=wt.z+Oe(rt._,wt._),rt.m=rt.z-Et):rt.z=Et}else wt&&(rt.z=wt.z+Oe(rt._,wt._));rt.parent.A=Se(rt,wt,rt.parent.A||It[0])}function ye(rt){rt._.x=rt.z+rt.parent.m,rt.m+=rt.parent.m}function Se(rt,Lt,It){if(Lt){for(var wt=rt,Et=rt,Wt=Lt,vr=wt.parent.children[0],dt=wt.m,Yt=Et.m,jt=Wt.m,gr=vr.m,sr;Wt=Ye(Wt),wt=ke(wt),Wt&&wt;)vr=ke(vr),Et=Ye(Et),Et.a=rt,sr=Wt.z+jt-wt.z-dt+Oe(Wt._,wt._),sr>0&&(lt(He(Wt,rt,It),rt,sr),dt+=sr,Yt+=sr),jt+=Wt.m,dt+=wt.m,gr+=vr.m,Yt+=Et.m;Wt&&!Ye(Et)&&(Et.t=Wt,Et.m+=jt-Yt),wt&&!ke(vr)&&(vr.t=wt,vr.m+=dt-gr,It=rt)}return It}function Ke(rt){rt.x*=Ne,rt.y=rt.depth*ze}return Le.separation=function(rt){return arguments.length?(Oe=rt,Le):Oe},Le.size=function(rt){return arguments.length?(et=!1,Ne=+rt[0],ze=+rt[1],Le):et?null:[Ne,ze]},Le.nodeSize=function(rt){return arguments.length?(et=!0,Ne=+rt[0],ze=+rt[1],Le):et?[Ne,ze]:null},Le}function ct(Oe,Ne,ze,et,Le){for(var Te=Oe.children,ye,Se=-1,Ke=Te.length,rt=Oe.value&&(Le-ze)/Oe.value;++Se<Ke;)ye=Te[Se],ye.x0=Ne,ye.x1=et,ye.y0=ze,ye.y1=ze+=ye.value*rt}var ht=(1+Math.sqrt(5))/2;function mt(Oe,Ne,ze,et,Le,Te){for(var ye=[],Se=Ne.children,Ke,rt,Lt=0,It=0,wt=Se.length,Et,Wt,vr=Ne.value,dt,Yt,jt,gr,sr,gt,st;Lt<wt;){Et=Le-ze,Wt=Te-et;do dt=Se[It++].value;while(!dt&&It<wt);for(Yt=jt=dt,gt=Math.max(Wt/Et,Et/Wt)/(vr*Oe),st=dt*dt*gt,sr=Math.max(jt/st,st/Yt);It<wt;++It){if(dt+=rt=Se[It].value,rt<Yt&&(Yt=rt),rt>jt&&(jt=rt),st=dt*dt*gt,gr=Math.max(jt/st,st/Yt),gr>sr){dt-=rt;break}sr=gr}ye.push(Ke={value:dt,dice:Et<Wt,children:Se.slice(Lt,It)}),Ke.dice?Ae(Ke,ze,et,Le,vr?et+=Wt*dt/vr:Te):ct(Ke,ze,et,vr?ze+=Et*dt/vr:Le,Te),vr-=dt,Lt=It}return ye}var tt=function Oe(Ne){function ze(et,Le,Te,ye,Se){mt(Ne,et,Le,Te,ye,Se)}return ze.ratio=function(et){return Oe((et=+et)>1?et:1)},ze}(ht);function Re(){var Oe=tt,Ne=!1,ze=1,et=1,Le=[0],Te=Q,ye=Q,Se=Q,Ke=Q,rt=Q;function Lt(wt){return wt.x0=wt.y0=0,wt.x1=ze,wt.y1=et,wt.eachBefore(It),Le=[0],Ne&&wt.eachBefore(pe),wt}function It(wt){var Et=Le[wt.depth],Wt=wt.x0+Et,vr=wt.y0+Et,dt=wt.x1-Et,Yt=wt.y1-Et;dt<Wt&&(Wt=dt=(Wt+dt)/2),Yt<vr&&(vr=Yt=(vr+Yt)/2),wt.x0=Wt,wt.y0=vr,wt.x1=dt,wt.y1=Yt,wt.children&&(Et=Le[wt.depth+1]=Te(wt)/2,Wt+=rt(wt)-Et,vr+=ye(wt)-Et,dt-=Se(wt)-Et,Yt-=Ke(wt)-Et,dt<Wt&&(Wt=dt=(Wt+dt)/2),Yt<vr&&(vr=Yt=(vr+Yt)/2),Oe(wt,Wt,vr,dt,Yt))}return Lt.round=function(wt){return arguments.length?(Ne=!!wt,Lt):Ne},Lt.size=function(wt){return arguments.length?(ze=+wt[0],et=+wt[1],Lt):[ze,et]},Lt.tile=function(wt){return arguments.length?(Oe=W(wt),Lt):Oe},Lt.padding=function(wt){return arguments.length?Lt.paddingInner(wt).paddingOuter(wt):Lt.paddingInner()},Lt.paddingInner=function(wt){return arguments.length?(Te=typeof wt=="function"?wt:ee(+wt),Lt):Te},Lt.paddingOuter=function(wt){return arguments.length?Lt.paddingTop(wt).paddingRight(wt).paddingBottom(wt).paddingLeft(wt):Lt.paddingTop()},Lt.paddingTop=function(wt){return arguments.length?(ye=typeof wt=="function"?wt:ee(+wt),Lt):ye},Lt.paddingRight=function(wt){return arguments.length?(Se=typeof wt=="function"?wt:ee(+wt),Lt):Se},Lt.paddingBottom=function(wt){return arguments.length?(Ke=typeof wt=="function"?wt:ee(+wt),Lt):Ke},Lt.paddingLeft=function(wt){return arguments.length?(rt=typeof wt=="function"?wt:ee(+wt),Lt):rt},Lt}function Ge(Oe,Ne,ze,et,Le){var Te=Oe.children,ye,Se=Te.length,Ke,rt=new Array(Se+1);for(rt[0]=Ke=ye=0;ye<Se;++ye)rt[ye+1]=Ke+=Te[ye].value;Lt(0,Se,Oe.value,Ne,ze,et,Le);function Lt(It,wt,Et,Wt,vr,dt,Yt){if(It>=wt-1){var jt=Te[It];jt.x0=Wt,jt.y0=vr,jt.x1=dt,jt.y1=Yt;return}for(var gr=rt[It],sr=Et/2+gr,gt=It+1,st=wt-1;gt<st;){var xt=gt+st>>>1;rt[xt]<sr?gt=xt+1:st=xt}sr-rt[gt-1]<rt[gt]-sr&&It+1<gt&&--gt;var Mt=rt[gt]-gr,Rt=Et-Mt;if(dt-Wt>Yt-vr){var Vt=(Wt*Rt+dt*Mt)/Et;Lt(It,gt,Mt,Wt,vr,Vt,Yt),Lt(gt,wt,Rt,Vt,vr,dt,Yt)}else{var Ct=(vr*Rt+Yt*Mt)/Et;Lt(It,gt,Mt,Wt,vr,dt,Ct),Lt(gt,wt,Rt,Wt,Ct,dt,Yt)}}}function Je(Oe,Ne,ze,et,Le){(Oe.depth&1?ct:Ae)(Oe,Ne,ze,et,Le)}var Xe=function Oe(Ne){function ze(et,Le,Te,ye,Se){if((Ke=et._squarify)&&Ke.ratio===Ne)for(var Ke,rt,Lt,It,wt=-1,Et,Wt=Ke.length,vr=et.value;++wt<Wt;){for(rt=Ke[wt],Lt=rt.children,It=rt.value=0,Et=Lt.length;It<Et;++It)rt.value+=Lt[It].value;rt.dice?Ae(rt,Le,Te,ye,Te+=(Se-Te)*rt.value/vr):ct(rt,Le,Te,Le+=(ye-Le)*rt.value/vr,Se),vr-=rt.value}else et._squarify=Ke=mt(Ne,et,Le,Te,ye,Se),Ke.ratio=Ne}return ze.ratio=function(et){return Oe((et=+et)>1?et:1)},ze}(ht)},10132:function(V,U,e){"use strict";e.d(U,{ak:function(){return d}});var x=Math.PI,P=2*x,i=1e-6,L=P-i;function C(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function c(){return new C}C.prototype=c.prototype={constructor:C,moveTo:function(A,b){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+b)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(A,b){this._+="L"+(this._x1=+A)+","+(this._y1=+b)},quadraticCurveTo:function(A,b,M,m){this._+="Q"+ +A+","+ +b+","+(this._x1=+M)+","+(this._y1=+m)},bezierCurveTo:function(A,b,M,m,S,T){this._+="C"+ +A+","+ +b+","+ +M+","+ +m+","+(this._x1=+S)+","+(this._y1=+T)},arcTo:function(A,b,M,m,S){A=+A,b=+b,M=+M,m=+m,S=+S;var T=this._x1,a=this._y1,E=M-A,p=m-b,k=T-A,R=a-b,B=k*k+R*R;if(S<0)throw new Error("negative radius: "+S);if(this._x1===null)this._+="M"+(this._x1=A)+","+(this._y1=b);else if(B>i)if(!(Math.abs(R*E-p*k)>i)||!S)this._+="L"+(this._x1=A)+","+(this._y1=b);else{var F=M-T,_=m-a,O=E*E+p*p,z=F*F+_*_,N=Math.sqrt(O),Y=Math.sqrt(B),J=S*Math.tan((x-Math.acos((O+B-z)/(2*N*Y)))/2),ae=J/Y,se=J/N;Math.abs(ae-1)>i&&(this._+="L"+(A+ae*k)+","+(b+ae*R)),this._+="A"+S+","+S+",0,0,"+ +(R*F>k*_)+","+(this._x1=A+se*E)+","+(this._y1=b+se*p)}},arc:function(A,b,M,m,S,T){A=+A,b=+b,M=+M,T=!!T;var a=M*Math.cos(m),E=M*Math.sin(m),p=A+a,k=b+E,R=1^T,B=T?m-S:S-m;if(M<0)throw new Error("negative radius: "+M);this._x1===null?this._+="M"+p+","+k:(Math.abs(this._x1-p)>i||Math.abs(this._y1-k)>i)&&(this._+="L"+p+","+k),M&&(B<0&&(B=B%P+P),B>L?this._+="A"+M+","+M+",0,1,"+R+","+(A-a)+","+(b-E)+"A"+M+","+M+",0,1,"+R+","+(this._x1=p)+","+(this._y1=k):B>i&&(this._+="A"+M+","+M+",0,"+ +(B>=x)+","+R+","+(this._x1=A+M*Math.cos(S))+","+(this._y1=b+M*Math.sin(S))))},rect:function(A,b,M,m){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+b)+"h"+ +M+"v"+ +m+"h"+-M+"Z"},toString:function(){return this._}};var y=c,r=Array.prototype.slice;function t(A){return function(){return A}}function s(A){return A[0]}function n(A){return A[1]}function u(A){return A.source}function l(A){return A.target}function f(A){var b=u,M=l,m=s,S=n,T=null;function a(){var E,p=r.call(arguments),k=b.apply(this,p),R=M.apply(this,p);if(T||(T=E=y()),A(T,+m.apply(this,(p[0]=k,p)),+S.apply(this,p),+m.apply(this,(p[0]=R,p)),+S.apply(this,p)),E)return T=null,E+""||null}return a.source=function(E){return arguments.length?(b=E,a):b},a.target=function(E){return arguments.length?(M=E,a):M},a.x=function(E){return arguments.length?(m=typeof E=="function"?E:t(+E),a):m},a.y=function(E){return arguments.length?(S=typeof E=="function"?E:t(+E),a):S},a.context=function(E){return arguments.length?(T=E==null?null:E,a):T},a}function g(A,b,M,m,S){A.moveTo(b,M),A.bezierCurveTo(b=(b+m)/2,M,b,S,m,S)}function h(A,b,M,m,S){A.moveTo(b,M),A.bezierCurveTo(b,M=(M+S)/2,m,M,m,S)}function w(A,b,M,m,S){var T=pointRadial(b,M),a=pointRadial(b,M=(M+S)/2),E=pointRadial(m,M),p=pointRadial(m,S);A.moveTo(T[0],T[1]),A.bezierCurveTo(a[0],a[1],E[0],E[1],p[0],p[1])}function d(){return f(g)}function o(){return f(h)}function v(){var A=f(w);return A.angle=A.x,delete A.x,A.radius=A.y,delete A.y,A}},94336:function(V,U,e){"use strict";e.d(U,{Yn:function(){return Ge},m_:function(){return s},E9:function(){return Xe}});var x=e(8208),P=e(58931),i=e(46192),L=e(68936),C=e(32171),c=e(53528);function y(ze){if(0<=ze.y&&ze.y<100){var et=new Date(-1,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L);return et.setFullYear(ze.y),et}return new Date(ze.y,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L)}function r(ze){if(0<=ze.y&&ze.y<100){var et=new Date(Date.UTC(-1,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L));return et.setUTCFullYear(ze.y),et}return new Date(Date.UTC(ze.y,ze.m,ze.d,ze.H,ze.M,ze.S,ze.L))}function t(ze,et,Le){return{y:ze,m:et,d:Le,H:0,M:0,S:0,L:0}}function s(ze){var et=ze.dateTime,Le=ze.date,Te=ze.time,ye=ze.periods,Se=ze.days,Ke=ze.shortDays,rt=ze.months,Lt=ze.shortMonths,It=w(ye),wt=d(ye),Et=w(Se),Wt=d(Se),vr=w(Ke),dt=d(Ke),Yt=w(rt),jt=d(rt),gr=w(Lt),sr=d(Lt),gt={a:Ft,A:kt,b:Zt,B:rr,c:null,d:J,e:J,f:j,H:ae,I:se,j:ue,L:K,m:ie,M:W,p:lr,q:qt,Q:mt,s:tt,S:Q,u:ee,U:$,V:X,w:oe,W:te,x:null,X:null,y:fe,Y:pe,Z:Ae,"%":ht},st={a:Ot,A:tr,b:dr,B:mr,c:null,d:be,e:be,f:De,H:Pe,I:me,j:Ee,L:xe,m:Ve,M:Ze,p:Cr,q:$r,Q:mt,s:tt,S:ke,u:Ye,U:lt,V:yt,w:He,W:Fe,x:null,X:null,y:nt,Y:ot,Z:ct,"%":ht},xt={a:Bt,A:Xt,b:ir,B:or,c:cr,d:p,e:p,f:O,H:R,I:R,j:k,L:_,m:E,M:B,p:Ct,q:a,Q:N,s:Y,S:F,u:v,U:A,V:b,w:o,W:M,x:We,X:Ue,y:S,Y:m,Z:T,"%":z};gt.x=Mt(Le,gt),gt.X=Mt(Te,gt),gt.c=Mt(et,gt),st.x=Mt(Le,st),st.X=Mt(Te,st),st.c=Mt(et,st);function Mt(yr,Gr){return function(rn){var _r=[],bn=-1,xn=0,fr=yr.length,Dr,Nr,Ur;for(rn instanceof Date||(rn=new Date(+rn));++bn<fr;)yr.charCodeAt(bn)===37&&(_r.push(yr.slice(xn,bn)),(Nr=n[Dr=yr.charAt(++bn)])!=null?Dr=yr.charAt(++bn):Nr=Dr==="e"?" ":"0",(Ur=Gr[Dr])&&(Dr=Ur(rn,Nr)),_r.push(Dr),xn=bn+1);return _r.push(yr.slice(xn,bn)),_r.join("")}}function Rt(yr,Gr){return function(rn){var _r=t(1900,void 0,1),bn=Vt(_r,yr,rn+="",0),xn,fr;if(bn!=rn.length)return null;if("Q"in _r)return new Date(_r.Q);if("s"in _r)return new Date(_r.s*1e3+("L"in _r?_r.L:0));if(Gr&&!("Z"in _r)&&(_r.Z=0),"p"in _r&&(_r.H=_r.H%12+_r.p*12),_r.m===void 0&&(_r.m="q"in _r?_r.q:0),"V"in _r){if(_r.V<1||_r.V>53)return null;"w"in _r||(_r.w=1),"Z"in _r?(xn=r(t(_r.y,0,1)),fr=xn.getUTCDay(),xn=fr>4||fr===0?x.ot.ceil(xn):(0,x.ot)(xn),xn=P.c.offset(xn,(_r.V-1)*7),_r.y=xn.getUTCFullYear(),_r.m=xn.getUTCMonth(),_r.d=xn.getUTCDate()+(_r.w+6)%7):(xn=y(t(_r.y,0,1)),fr=xn.getDay(),xn=fr>4||fr===0?i.qT.ceil(xn):(0,i.qT)(xn),xn=L.c.offset(xn,(_r.V-1)*7),_r.y=xn.getFullYear(),_r.m=xn.getMonth(),_r.d=xn.getDate()+(_r.w+6)%7)}else("W"in _r||"U"in _r)&&("w"in _r||(_r.w="u"in _r?_r.u%7:"W"in _r?1:0),fr="Z"in _r?r(t(_r.y,0,1)).getUTCDay():y(t(_r.y,0,1)).getDay(),_r.m=0,_r.d="W"in _r?(_r.w+6)%7+_r.W*7-(fr+5)%7:_r.w+_r.U*7-(fr+6)%7);return"Z"in _r?(_r.H+=_r.Z/100|0,_r.M+=_r.Z%100,r(_r)):y(_r)}}function Vt(yr,Gr,rn,_r){for(var bn=0,xn=Gr.length,fr=rn.length,Dr,Nr;bn<xn;){if(_r>=fr)return-1;if(Dr=Gr.charCodeAt(bn++),Dr===37){if(Dr=Gr.charAt(bn++),Nr=xt[Dr in n?Gr.charAt(bn++):Dr],!Nr||(_r=Nr(yr,rn,_r))<0)return-1}else if(Dr!=rn.charCodeAt(_r++))return-1}return _r}function Ct(yr,Gr,rn){var _r=It.exec(Gr.slice(rn));return _r?(yr.p=wt[_r[0].toLowerCase()],rn+_r[0].length):-1}function Bt(yr,Gr,rn){var _r=vr.exec(Gr.slice(rn));return _r?(yr.w=dt[_r[0].toLowerCase()],rn+_r[0].length):-1}function Xt(yr,Gr,rn){var _r=Et.exec(Gr.slice(rn));return _r?(yr.w=Wt[_r[0].toLowerCase()],rn+_r[0].length):-1}function ir(yr,Gr,rn){var _r=gr.exec(Gr.slice(rn));return _r?(yr.m=sr[_r[0].toLowerCase()],rn+_r[0].length):-1}function or(yr,Gr,rn){var _r=Yt.exec(Gr.slice(rn));return _r?(yr.m=jt[_r[0].toLowerCase()],rn+_r[0].length):-1}function cr(yr,Gr,rn){return Vt(yr,et,Gr,rn)}function We(yr,Gr,rn){return Vt(yr,Le,Gr,rn)}function Ue(yr,Gr,rn){return Vt(yr,Te,Gr,rn)}function Ft(yr){return Ke[yr.getDay()]}function kt(yr){return Se[yr.getDay()]}function Zt(yr){return Lt[yr.getMonth()]}function rr(yr){return rt[yr.getMonth()]}function lr(yr){return ye[+(yr.getHours()>=12)]}function qt(yr){return 1+~~(yr.getMonth()/3)}function Ot(yr){return Ke[yr.getUTCDay()]}function tr(yr){return Se[yr.getUTCDay()]}function dr(yr){return Lt[yr.getUTCMonth()]}function mr(yr){return rt[yr.getUTCMonth()]}function Cr(yr){return ye[+(yr.getUTCHours()>=12)]}function $r(yr){return 1+~~(yr.getUTCMonth()/3)}return{format:function(yr){var Gr=Mt(yr+="",gt);return Gr.toString=function(){return yr},Gr},parse:function(yr){var Gr=Rt(yr+="",!1);return Gr.toString=function(){return yr},Gr},utcFormat:function(yr){var Gr=Mt(yr+="",st);return Gr.toString=function(){return yr},Gr},utcParse:function(yr){var Gr=Rt(yr+="",!0);return Gr.toString=function(){return yr},Gr}}}var n={"-":"",_:" ",0:"0"},u=/^\s*\d+/,l=/^%/,f=/[\\^$*+?|[\]().{}]/g;function g(ze,et,Le){var Te=ze<0?"-":"",ye=(Te?-ze:ze)+"",Se=ye.length;return Te+(Se<Le?new Array(Le-Se+1).join(et)+ye:ye)}function h(ze){return ze.replace(f,"\\$&")}function w(ze){return new RegExp("^(?:"+ze.map(h).join("|")+")","i")}function d(ze){for(var et={},Le=-1,Te=ze.length;++Le<Te;)et[ze[Le].toLowerCase()]=Le;return et}function o(ze,et,Le){var Te=u.exec(et.slice(Le,Le+1));return Te?(ze.w=+Te[0],Le+Te[0].length):-1}function v(ze,et,Le){var Te=u.exec(et.slice(Le,Le+1));return Te?(ze.u=+Te[0],Le+Te[0].length):-1}function A(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.U=+Te[0],Le+Te[0].length):-1}function b(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.V=+Te[0],Le+Te[0].length):-1}function M(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.W=+Te[0],Le+Te[0].length):-1}function m(ze,et,Le){var Te=u.exec(et.slice(Le,Le+4));return Te?(ze.y=+Te[0],Le+Te[0].length):-1}function S(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.y=+Te[0]+(+Te[0]>68?1900:2e3),Le+Te[0].length):-1}function T(ze,et,Le){var Te=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice(Le,Le+6));return Te?(ze.Z=Te[1]?0:-(Te[2]+(Te[3]||"00")),Le+Te[0].length):-1}function a(ze,et,Le){var Te=u.exec(et.slice(Le,Le+1));return Te?(ze.q=Te[0]*3-3,Le+Te[0].length):-1}function E(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.m=Te[0]-1,Le+Te[0].length):-1}function p(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.d=+Te[0],Le+Te[0].length):-1}function k(ze,et,Le){var Te=u.exec(et.slice(Le,Le+3));return Te?(ze.m=0,ze.d=+Te[0],Le+Te[0].length):-1}function R(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.H=+Te[0],Le+Te[0].length):-1}function B(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.M=+Te[0],Le+Te[0].length):-1}function F(ze,et,Le){var Te=u.exec(et.slice(Le,Le+2));return Te?(ze.S=+Te[0],Le+Te[0].length):-1}function _(ze,et,Le){var Te=u.exec(et.slice(Le,Le+3));return Te?(ze.L=+Te[0],Le+Te[0].length):-1}function O(ze,et,Le){var Te=u.exec(et.slice(Le,Le+6));return Te?(ze.L=Math.floor(Te[0]/1e3),Le+Te[0].length):-1}function z(ze,et,Le){var Te=l.exec(et.slice(Le,Le+1));return Te?Le+Te[0].length:-1}function N(ze,et,Le){var Te=u.exec(et.slice(Le));return Te?(ze.Q=+Te[0],Le+Te[0].length):-1}function Y(ze,et,Le){var Te=u.exec(et.slice(Le));return Te?(ze.s=+Te[0],Le+Te[0].length):-1}function J(ze,et){return g(ze.getDate(),et,2)}function ae(ze,et){return g(ze.getHours(),et,2)}function se(ze,et){return g(ze.getHours()%12||12,et,2)}function ue(ze,et){return g(1+L.c.count((0,C.c)(ze),ze),et,3)}function K(ze,et){return g(ze.getMilliseconds(),et,3)}function j(ze,et){return K(ze,et)+"000"}function ie(ze,et){return g(ze.getMonth()+1,et,2)}function W(ze,et){return g(ze.getMinutes(),et,2)}function Q(ze,et){return g(ze.getSeconds(),et,2)}function ee(ze){var et=ze.getDay();return et===0?7:et}function $(ze,et){return g(i.uU.count((0,C.c)(ze)-1,ze),et,2)}function X(ze,et){var Le=ze.getDay();return ze=Le>=4||Le===0?(0,i.kD)(ze):i.kD.ceil(ze),g(i.kD.count((0,C.c)(ze),ze)+((0,C.c)(ze).getDay()===4),et,2)}function oe(ze){return ze.getDay()}function te(ze,et){return g(i.qT.count((0,C.c)(ze)-1,ze),et,2)}function fe(ze,et){return g(ze.getFullYear()%100,et,2)}function pe(ze,et){return g(ze.getFullYear()%1e4,et,4)}function Ae(ze){var et=ze.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+g(et/60|0,"0",2)+g(et%60,"0",2)}function be(ze,et){return g(ze.getUTCDate(),et,2)}function Pe(ze,et){return g(ze.getUTCHours(),et,2)}function me(ze,et){return g(ze.getUTCHours()%12||12,et,2)}function Ee(ze,et){return g(1+P.c.count((0,c.c)(ze),ze),et,3)}function xe(ze,et){return g(ze.getUTCMilliseconds(),et,3)}function De(ze,et){return xe(ze,et)+"000"}function Ve(ze,et){return g(ze.getUTCMonth()+1,et,2)}function Ze(ze,et){return g(ze.getUTCMinutes(),et,2)}function ke(ze,et){return g(ze.getUTCSeconds(),et,2)}function Ye(ze){var et=ze.getUTCDay();return et===0?7:et}function lt(ze,et){return g(x.EV.count((0,c.c)(ze)-1,ze),et,2)}function yt(ze,et){var Le=ze.getUTCDay();return ze=Le>=4||Le===0?(0,x.yA)(ze):x.yA.ceil(ze),g(x.yA.count((0,c.c)(ze),ze)+((0,c.c)(ze).getUTCDay()===4),et,2)}function He(ze){return ze.getUTCDay()}function Fe(ze,et){return g(x.ot.count((0,c.c)(ze)-1,ze),et,2)}function nt(ze,et){return g(ze.getUTCFullYear()%100,et,2)}function ot(ze,et){return g(ze.getUTCFullYear()%1e4,et,4)}function ct(){return"+0000"}function ht(){return"%"}function mt(ze){return+ze}function tt(ze){return Math.floor(+ze/1e3)}var Re,Ge,Je,Xe,Oe;Ne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ne(ze){return Re=s(ze),Ge=Re.format,Je=Re.parse,Xe=Re.utcFormat,Oe=Re.utcParse,Re}},68936:function(V,U,e){"use strict";e.d(U,{m:function(){return L}});var x=e(81628),P=e(69792),i=(0,x.c)(function(C){C.setHours(0,0,0,0)},function(C,c){C.setDate(C.getDate()+c)},function(C,c){return(c-C-(c.getTimezoneOffset()-C.getTimezoneOffset())*P.iy)/P.SK},function(C){return C.getDate()-1});U.c=i;var L=i.range},69792:function(V,U,e){"use strict";e.d(U,{KK:function(){return C},SK:function(){return L},cg:function(){return i},iy:function(){return P},yc:function(){return x}});var x=1e3,P=6e4,i=36e5,L=864e5,C=6048e5},73220:function(V,U,e){"use strict";e.r(U),e.d(U,{timeDay:function(){return g.c},timeDays:function(){return g.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return l},timeHours:function(){return f},timeInterval:function(){return x.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return L},timeMinute:function(){return s},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return d},timeMonths:function(){return o},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return y},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return v.c},timeYears:function(){return v.Q},utcDay:function(){return a.c},utcDays:function(){return a.o},utcFriday:function(){return E.od},utcFridays:function(){return E.iG},utcHour:function(){return S},utcHours:function(){return T},utcMillisecond:function(){return i},utcMilliseconds:function(){return L},utcMinute:function(){return b},utcMinutes:function(){return M},utcMonday:function(){return E.ot},utcMondays:function(){return E.iO},utcMonth:function(){return k},utcMonths:function(){return R},utcSaturday:function(){return E.Ad},utcSaturdays:function(){return E.K8},utcSecond:function(){return y},utcSeconds:function(){return r},utcSunday:function(){return E.EV},utcSundays:function(){return E.Wq},utcThursday:function(){return E.yA},utcThursdays:function(){return E.ob},utcTuesday:function(){return E.sG},utcTuesdays:function(){return E.kl},utcWednesday:function(){return E._6},utcWednesdays:function(){return E.W_},utcWeek:function(){return E.EV},utcWeeks:function(){return E.Wq},utcYear:function(){return B.c},utcYears:function(){return B.i}});var x=e(81628),P=(0,x.c)(function(){},function(F,_){F.setTime(+F+_)},function(F,_){return _-F});P.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,x.c)(function(_){_.setTime(Math.floor(_/F)*F)},function(_,O){_.setTime(+_+O*F)},function(_,O){return(O-_)/F}):P};var i=P,L=P.range,C=e(69792),c=(0,x.c)(function(F){F.setTime(F-F.getMilliseconds())},function(F,_){F.setTime(+F+_*C.yc)},function(F,_){return(_-F)/C.yc},function(F){return F.getUTCSeconds()}),y=c,r=c.range,t=(0,x.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*C.yc)},function(F,_){F.setTime(+F+_*C.iy)},function(F,_){return(_-F)/C.iy},function(F){return F.getMinutes()}),s=t,n=t.range,u=(0,x.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*C.yc-F.getMinutes()*C.iy)},function(F,_){F.setTime(+F+_*C.cg)},function(F,_){return(_-F)/C.cg},function(F){return F.getHours()}),l=u,f=u.range,g=e(68936),h=e(46192),w=(0,x.c)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,_){F.setMonth(F.getMonth()+_)},function(F,_){return _.getMonth()-F.getMonth()+(_.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),d=w,o=w.range,v=e(32171),A=(0,x.c)(function(F){F.setUTCSeconds(0,0)},function(F,_){F.setTime(+F+_*C.iy)},function(F,_){return(_-F)/C.iy},function(F){return F.getUTCMinutes()}),b=A,M=A.range,m=(0,x.c)(function(F){F.setUTCMinutes(0,0,0)},function(F,_){F.setTime(+F+_*C.cg)},function(F,_){return(_-F)/C.cg},function(F){return F.getUTCHours()}),S=m,T=m.range,a=e(58931),E=e(8208),p=(0,x.c)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,_){F.setUTCMonth(F.getUTCMonth()+_)},function(F,_){return _.getUTCMonth()-F.getUTCMonth()+(_.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),k=p,R=p.range,B=e(53528)},81628:function(V,U,e){"use strict";e.d(U,{c:function(){return i}});var x=new Date,P=new Date;function i(L,C,c,y){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),C(t,1),L(t),t},r.round=function(t){var s=r(t),n=r.ceil(t);return t-s<n-t?s:n},r.offset=function(t,s){return C(t=new Date(+t),s==null?1:Math.floor(s)),t},r.range=function(t,s,n){var u=[],l;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<s)||!(n>0))return u;do u.push(l=new Date(+t)),C(t,n),L(t);while(l<t&&t<s);return u},r.filter=function(t){return i(function(s){if(s>=s)for(;L(s),!t(s);)s.setTime(s-1)},function(s,n){if(s>=s)if(n<0)for(;++n<=0;)for(;C(s,-1),!t(s););else for(;--n>=0;)for(;C(s,1),!t(s););})},c&&(r.count=function(t,s){return x.setTime(+t),P.setTime(+s),L(x),L(P),Math.floor(c(x,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(y?function(s){return y(s)%t===0}:function(s){return r.count(0,s)%t===0}):r}),r}},58931:function(V,U,e){"use strict";e.d(U,{o:function(){return L}});var x=e(81628),P=e(69792),i=(0,x.c)(function(C){C.setUTCHours(0,0,0,0)},function(C,c){C.setUTCDate(C.getUTCDate()+c)},function(C,c){return(c-C)/P.SK},function(C){return C.getUTCDate()-1});U.c=i;var L=i.range},8208:function(V,U,e){"use strict";e.d(U,{Ad:function(){return s},EV:function(){return L},K8:function(){return w},W_:function(){return f},Wq:function(){return n},_6:function(){return y},iG:function(){return h},iO:function(){return u},kl:function(){return l},ob:function(){return g},od:function(){return t},ot:function(){return C},sG:function(){return c},yA:function(){return r}});var x=e(81628),P=e(69792);function i(d){return(0,x.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-d)%7),o.setUTCHours(0,0,0,0)},function(o,v){o.setUTCDate(o.getUTCDate()+v*7)},function(o,v){return(v-o)/P.KK})}var L=i(0),C=i(1),c=i(2),y=i(3),r=i(4),t=i(5),s=i(6),n=L.range,u=C.range,l=c.range,f=y.range,g=r.range,h=t.range,w=s.range},53528:function(V,U,e){"use strict";e.d(U,{i:function(){return i}});var x=e(81628),P=(0,x.c)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,C){L.setUTCFullYear(L.getUTCFullYear()+C)},function(L,C){return C.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,x.c)(function(C){C.setUTCFullYear(Math.floor(C.getUTCFullYear()/L)*L),C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,c){C.setUTCFullYear(C.getUTCFullYear()+c*L)})},U.c=P;var i=P.range},46192:function(V,U,e){"use strict";e.d(U,{Ab:function(){return n},Mf:function(){return c},Oc:function(){return l},QP:function(){return u},Wc:function(){return s},aI:function(){return w},eC:function(){return g},eg:function(){return y},iB:function(){return t},kD:function(){return r},qT:function(){return C},sJ:function(){return h},sn:function(){return f},uU:function(){return L}});var x=e(81628),P=e(69792);function i(d){return(0,x.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-d)%7),o.setHours(0,0,0,0)},function(o,v){o.setDate(o.getDate()+v*7)},function(o,v){return(v-o-(v.getTimezoneOffset()-o.getTimezoneOffset())*P.iy)/P.KK})}var L=i(0),C=i(1),c=i(2),y=i(3),r=i(4),t=i(5),s=i(6),n=L.range,u=C.range,l=c.range,f=y.range,g=r.range,h=t.range,w=s.range},32171:function(V,U,e){"use strict";e.d(U,{Q:function(){return i}});var x=e(81628),P=(0,x.c)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,C){L.setFullYear(L.getFullYear()+C)},function(L,C){return C.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,x.c)(function(C){C.setFullYear(Math.floor(C.getFullYear()/L)*L),C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,c){C.setFullYear(C.getFullYear()+c*L)})},U.c=P;var i=P.range},64348:function(V,U,e){"use strict";var x=e(39640)(),P=e(53664),i=x&&P("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch(y){i=!1}var L=P("%SyntaxError%"),C=P("%TypeError%"),c=e(2304);V.exports=function(r,t,s){if(!r||typeof r!="object"&&typeof r!="function")throw new C("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new C("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new C("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new C("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new C("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new C("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,g=!!c&&c(r,t);if(i)i(r,t,{configurable:l===null&&g?g.configurable:!l,enumerable:n===null&&g?g.enumerable:!n,value:s,writable:u===null&&g?g.writable:!u});else if(f||!n&&!u&&!l)r[t]=s;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(V,U,e){"use strict";var x=e(41820),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,L=Array.prototype.concat,C=Object.defineProperty,c=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},y=e(39640)(),r=C&&y,t=function(n,u,l,f){if(u in n){if(f===!0){if(n[u]===l)return}else if(!c(f)||!f())return}r?C(n,u,{configurable:!0,enumerable:!1,value:l,writable:!0}):n[u]=l},s=function(n,u){var l=arguments.length>2?arguments[2]:{},f=x(u);P&&(f=L.call(f,Object.getOwnPropertySymbols(u)));for(var g=0;g<f.length;g+=1)t(n,f[g],u[f[g]],l[f[g]])};s.supportsDescriptors=!!r,V.exports=s},31264:function(V){V.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},63768:function(V){"use strict";V.exports=P;var U=P.canvas=document.createElement("canvas"),e=U.getContext("2d"),x=i([32,126]);P.createPairs=i,P.ascii=x;function P(L,C){Array.isArray(L)&&(L=L.join(", "));var c={},y,r=16,t=.05;C&&(C.length===2&&typeof C[0]=="number"?y=i(C):Array.isArray(C)?y=C:(C.o?y=i(C.o):C.pairs&&(y=C.pairs),C.fontSize&&(r=C.fontSize),C.threshold!=null&&(t=C.threshold))),y||(y=x),e.font=r+"px "+L;for(var s=0;s<y.length;s++){var n=y[s],u=e.measureText(n[0]).width+e.measureText(n[1]).width,l=e.measureText(n).width;if(Math.abs(u-l)>r*t){var f=(l-u)/r;c[n]=f*1e3}}return c}function i(L){for(var C=[],c=L[0];c<=L[1];c++)for(var y=String.fromCharCode(c),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),s=y+t;C.push(s)}return C}},22235:function(V,U,e){var x=e(49972),P=e(48816),i={M:"moveTo",C:"bezierCurveTo"};V.exports=function(L,C){L.beginPath(),P(x(C)).forEach(function(c){var y=c[0],r=c.slice(1);L[i[y]].apply(L,r)}),L.closePath()}},72512:function(V){V.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(V){"use strict";function U(P,i,L){var C=P[L]|0;if(C<=0)return[];var c=new Array(C),y;if(L===P.length-1)for(y=0;y<C;++y)c[y]=i;else for(y=0;y<C;++y)c[y]=U(P,i,L+1);return c}function e(P,i){var L,C;for(L=new Array(P),C=0;C<P;++C)L[C]=i;return L}function x(P,i){switch(typeof i=="undefined"&&(i=0),typeof P){case"number":if(P>0)return e(P|0,i);break;case"object":if(typeof P.length=="number")return U(P,i,0);break}return[]}V.exports=x},28912:function(V){"use strict";V.exports=U,V.exports.default=U;function U(R,B,F){F=F||2;var _=B&&B.length,O=_?B[0]*F:R.length,z=e(R,0,O,F,!0),N=[];if(!z||z.next===z.prev)return N;var Y,J,ae,se,ue,K,j;if(_&&(z=y(R,B,z,F)),R.length>80*F){Y=ae=R[0],J=se=R[1];for(var ie=F;ie<O;ie+=F)ue=R[ie],K=R[ie+1],ue<Y&&(Y=ue),K<J&&(J=K),ue>ae&&(ae=ue),K>se&&(se=K);j=Math.max(ae-Y,se-J),j=j!==0?1/j:0}return P(z,N,F,Y,J,j),N}function e(R,B,F,_,O){var z,N;if(O===k(R,B,F,_)>0)for(z=B;z<F;z+=_)N=a(z,R[z],R[z+1],N);else for(z=F-_;z>=B;z-=_)N=a(z,R[z],R[z+1],N);return N&&o(N,N.next)&&(E(N),N=N.next),N}function x(R,B){if(!R)return R;B||(B=R);var F=R,_;do if(_=!1,!F.steiner&&(o(F,F.next)||d(F.prev,F,F.next)===0)){if(E(F),F=B=F.prev,F===F.next)break;_=!0}else F=F.next;while(_||F!==B);return B}function P(R,B,F,_,O,z,N){if(R){!N&&z&&u(R,_,O,z);for(var Y=R,J,ae;R.prev!==R.next;){if(J=R.prev,ae=R.next,z?L(R,_,O,z):i(R)){B.push(J.i/F),B.push(R.i/F),B.push(ae.i/F),E(R),R=ae.next,Y=ae.next;continue}if(R=ae,R===Y){N?N===1?(R=C(x(R),B,F),P(R,B,F,_,O,z,2)):N===2&&c(R,B,F,_,O,z):P(x(R),B,F,_,O,z,1);break}}}}function i(R){var B=R.prev,F=R,_=R.next;if(d(B,F,_)>=0)return!1;for(var O=R.next.next;O!==R.prev;){if(h(B.x,B.y,F.x,F.y,_.x,_.y,O.x,O.y)&&d(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function L(R,B,F,_){var O=R.prev,z=R,N=R.next;if(d(O,z,N)>=0)return!1;for(var Y=O.x<z.x?O.x<N.x?O.x:N.x:z.x<N.x?z.x:N.x,J=O.y<z.y?O.y<N.y?O.y:N.y:z.y<N.y?z.y:N.y,ae=O.x>z.x?O.x>N.x?O.x:N.x:z.x>N.x?z.x:N.x,se=O.y>z.y?O.y>N.y?O.y:N.y:z.y>N.y?z.y:N.y,ue=f(Y,J,B,F,_),K=f(ae,se,B,F,_),j=R.prevZ,ie=R.nextZ;j&&j.z>=ue&&ie&&ie.z<=K;){if(j!==R.prev&&j!==R.next&&h(O.x,O.y,z.x,z.y,N.x,N.y,j.x,j.y)&&d(j.prev,j,j.next)>=0||(j=j.prevZ,ie!==R.prev&&ie!==R.next&&h(O.x,O.y,z.x,z.y,N.x,N.y,ie.x,ie.y)&&d(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;j&&j.z>=ue;){if(j!==R.prev&&j!==R.next&&h(O.x,O.y,z.x,z.y,N.x,N.y,j.x,j.y)&&d(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;ie&&ie.z<=K;){if(ie!==R.prev&&ie!==R.next&&h(O.x,O.y,z.x,z.y,N.x,N.y,ie.x,ie.y)&&d(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function C(R,B,F){var _=R;do{var O=_.prev,z=_.next.next;!o(O,z)&&v(O,_,_.next,z)&&m(O,z)&&m(z,O)&&(B.push(O.i/F),B.push(_.i/F),B.push(z.i/F),E(_),E(_.next),_=R=z),_=_.next}while(_!==R);return x(_)}function c(R,B,F,_,O,z){var N=R;do{for(var Y=N.next.next;Y!==N.prev;){if(N.i!==Y.i&&w(N,Y)){var J=T(N,Y);N=x(N,N.next),J=x(J,J.next),P(N,B,F,_,O,z),P(J,B,F,_,O,z);return}Y=Y.next}N=N.next}while(N!==R)}function y(R,B,F,_){var O=[],z,N,Y,J,ae;for(z=0,N=B.length;z<N;z++)Y=B[z]*_,J=z<N-1?B[z+1]*_:R.length,ae=e(R,Y,J,_,!1),ae===ae.next&&(ae.steiner=!0),O.push(g(ae));for(O.sort(r),z=0;z<O.length;z++)t(O[z],F),F=x(F,F.next);return F}function r(R,B){return R.x-B.x}function t(R,B){if(B=s(R,B),B){var F=T(B,R);x(B,B.next),x(F,F.next)}}function s(R,B){var F=B,_=R.x,O=R.y,z=-1/0,N;do{if(O<=F.y&&O>=F.next.y&&F.next.y!==F.y){var Y=F.x+(O-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(Y<=_&&Y>z){if(z=Y,Y===_){if(O===F.y)return F;if(O===F.next.y)return F.next}N=F.x<F.next.x?F:F.next}}F=F.next}while(F!==B);if(!N)return null;if(_===z)return N;var J=N,ae=N.x,se=N.y,ue=1/0,K;F=N;do _>=F.x&&F.x>=ae&&_!==F.x&&h(O<se?_:z,O,ae,se,O<se?z:_,O,F.x,F.y)&&(K=Math.abs(O-F.y)/(_-F.x),m(F,R)&&(K<ue||K===ue&&(F.x>N.x||F.x===N.x&&n(N,F)))&&(N=F,ue=K)),F=F.next;while(F!==J);return N}function n(R,B){return d(R.prev,R,B.prev)<0&&d(B.next,R,R.next)<0}function u(R,B,F,_){var O=R;do O.z===null&&(O.z=f(O.x,O.y,B,F,_)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next;while(O!==R);O.prevZ.nextZ=null,O.prevZ=null,l(O)}function l(R){var B,F,_,O,z,N,Y,J,ae=1;do{for(F=R,R=null,z=null,N=0;F;){for(N++,_=F,Y=0,B=0;B<ae&&(Y++,_=_.nextZ,!!_);B++);for(J=ae;Y>0||J>0&&_;)Y!==0&&(J===0||!_||F.z<=_.z)?(O=F,F=F.nextZ,Y--):(O=_,_=_.nextZ,J--),z?z.nextZ=O:R=O,O.prevZ=z,z=O;F=_}z.nextZ=null,ae*=2}while(N>1);return R}function f(R,B,F,_,O){return R=32767*(R-F)*O,B=32767*(B-_)*O,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,R|B<<1}function g(R){var B=R,F=R;do(B.x<F.x||B.x===F.x&&B.y<F.y)&&(F=B),B=B.next;while(B!==R);return F}function h(R,B,F,_,O,z,N,Y){return(O-N)*(B-Y)-(R-N)*(z-Y)>=0&&(R-N)*(_-Y)-(F-N)*(B-Y)>=0&&(F-N)*(z-Y)-(O-N)*(_-Y)>=0}function w(R,B){return R.next.i!==B.i&&R.prev.i!==B.i&&!M(R,B)&&(m(R,B)&&m(B,R)&&S(R,B)&&(d(R.prev,R,B.prev)||d(R,B.prev,B))||o(R,B)&&d(R.prev,R,R.next)>0&&d(B.prev,B,B.next)>0)}function d(R,B,F){return(B.y-R.y)*(F.x-B.x)-(B.x-R.x)*(F.y-B.y)}function o(R,B){return R.x===B.x&&R.y===B.y}function v(R,B,F,_){var O=b(d(R,B,F)),z=b(d(R,B,_)),N=b(d(F,_,R)),Y=b(d(F,_,B));return!!(O!==z&&N!==Y||O===0&&A(R,F,B)||z===0&&A(R,_,B)||N===0&&A(F,R,_)||Y===0&&A(F,B,_))}function A(R,B,F){return B.x<=Math.max(R.x,F.x)&&B.x>=Math.min(R.x,F.x)&&B.y<=Math.max(R.y,F.y)&&B.y>=Math.min(R.y,F.y)}function b(R){return R>0?1:R<0?-1:0}function M(R,B){var F=R;do{if(F.i!==R.i&&F.next.i!==R.i&&F.i!==B.i&&F.next.i!==B.i&&v(F,F.next,R,B))return!0;F=F.next}while(F!==R);return!1}function m(R,B){return d(R.prev,R,R.next)<0?d(R,B,R.next)>=0&&d(R,R.prev,B)>=0:d(R,B,R.prev)<0||d(R,R.next,B)<0}function S(R,B){var F=R,_=!1,O=(R.x+B.x)/2,z=(R.y+B.y)/2;do F.y>z!=F.next.y>z&&F.next.y!==F.y&&O<(F.next.x-F.x)*(z-F.y)/(F.next.y-F.y)+F.x&&(_=!_),F=F.next;while(F!==R);return _}function T(R,B){var F=new p(R.i,R.x,R.y),_=new p(B.i,B.x,B.y),O=R.next,z=B.prev;return R.next=B,B.prev=R,F.next=O,O.prev=F,_.next=F,F.prev=_,z.next=_,_.prev=z,_}function a(R,B,F,_){var O=new p(R,B,F);return _?(O.next=_.next,O.prev=_,_.next.prev=O,_.next=O):(O.prev=O,O.next=O),O}function E(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function p(R,B,F){this.i=R,this.x=B,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(R,B,F,_){var O=B&&B.length,z=O?B[0]*F:R.length,N=Math.abs(k(R,0,z,F));if(O)for(var Y=0,J=B.length;Y<J;Y++){var ae=B[Y]*F,se=Y<J-1?B[Y+1]*F:R.length;N-=Math.abs(k(R,ae,se,F))}var ue=0;for(Y=0;Y<_.length;Y+=3){var K=_[Y]*F,j=_[Y+1]*F,ie=_[Y+2]*F;ue+=Math.abs((R[K]-R[ie])*(R[j+1]-R[K+1])-(R[K]-R[j])*(R[ie+1]-R[K+1]))}return N===0&&ue===0?0:Math.abs((ue-N)/N)};function k(R,B,F,_){for(var O=0,z=B,N=F-_;z<F;z+=_)O+=(R[N]-R[z])*(R[z+1]+R[N+1]),N=z;return O}U.flatten=function(R){for(var B=R[0][0].length,F={vertices:[],holes:[],dimensions:B},_=0,O=0;O<R.length;O++){for(var z=0;z<R[O].length;z++)for(var N=0;N<B;N++)F.vertices.push(R[O][z][N]);O>0&&(_+=R[O-1].length,F.holes.push(_))}return F}},6688:function(V,U,e){var x=e(78484);V.exports=function(i,L){var C=[],c=[],y=[],r={},t=[],s;function n(A){y[A]=!1,r.hasOwnProperty(A)&&Object.keys(r[A]).forEach(function(b){delete r[A][b],y[b]&&n(b)})}function u(A){var b=!1;c.push(A),y[A]=!0;var M,m;for(M=0;M<t[A].length;M++)m=t[A][M],m===s?(l(s,c),b=!0):y[m]||(b=u(m));if(b)n(A);else for(M=0;M<t[A].length;M++){m=t[A][M];var S=r[m];S||(S={},r[m]=S),S[m]=!0}return c.pop(),b}function l(A,b){var M=[].concat(b).concat(A);L?L(u):C.push(M)}function f(A){for(var b=0;b<i.length;b++)b<A&&(i[b]=[]),i[b]=i[b].filter(function(M){return M>=A})}function g(A){f(A);for(var b=i,M=x(b),m=M.components.filter(function(R){return R.length>1}),S=1/0,T,a=0;a<m.length;a++)for(var E=0;E<m[a].length;E++)m[a][E]<S&&(S=m[a][E],T=a);var p=m[T];if(!p)return!1;var k=i.map(function(R,B){return p.indexOf(B)===-1?[]:R.filter(function(F){return p.indexOf(F)!==-1})});return{leastVertex:S,adjList:k}}s=0;for(var h=i.length;s<h;){var w=g(s);if(s=w.leastVertex,t=w.adjList,t){for(var d=0;d<t.length;d++)for(var o=0;o<t[d].length;o++){var v=t[d][o];y[+v]=!1,r[v]={}}u(s),s=s+1}else s=h}if(!L)return C}},41476:function(V,U,e){"use strict";var x=e(9252);V.exports=function(){return x(this).length=0,this}},74772:function(V,U,e){"use strict";V.exports=e(44716)()?Array.from:e(80816)},44716:function(V){"use strict";V.exports=function(){var U=Array.from,e,x;return typeof U!="function"?!1:(e=["raz","dwa"],x=U(e),!!(x&&x!==e&&x[1]==="dwa"))}},80816:function(V,U,e){"use strict";var x=e(92664).iterator,P=e(60948),i=e(17024),L=e(81304),C=e(34044),c=e(9252),y=e(42584),r=e(29768),t=Array.isArray,s=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;V.exports=function(l){var f=arguments[1],g=arguments[2],h,w,d,o,v,A,b,M,m,S;if(l=Object(c(l)),y(f)&&C(f),!this||this===Array||!i(this)){if(!f){if(P(l))return v=l.length,v!==1?Array.apply(null,l):(o=new Array(1),o[0]=l[0],o);if(t(l)){for(o=new Array(v=l.length),w=0;w<v;++w)o[w]=l[w];return o}}o=[]}else h=this;if(!t(l)){if((m=l[x])!==void 0){for(b=C(m).call(l),h&&(o=new h),M=b.next(),w=0;!M.done;)S=f?s.call(f,g,M.value,w):M.value,h?(n.value=S,u(o,w,n)):o[w]=S,M=b.next(),++w;v=w}else if(r(l)){for(v=l.length,h&&(o=new h),w=0,d=0;w<v;++w)S=l[w],w+1<v&&(A=S.charCodeAt(0),A>=55296&&A<=56319&&(S+=l[++w])),S=f?s.call(f,g,S,d):S,h?(n.value=S,u(o,d,n)):o[d]=S,++d;v=d}}if(v===void 0)for(v=L(l.length),h&&(o=new h(v)),w=0;w<v;++w)S=f?s.call(f,g,l[w],w):l[w],h?(n.value=S,u(o,w,n)):o[w]=S;return h&&(n.value=null,o.length=v),o}},60948:function(V){"use strict";var U=Object.prototype.toString,e=U.call(function(){return arguments}());V.exports=function(x){return U.call(x)===e}},17024:function(V){"use strict";var U=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);V.exports=function(x){return typeof x=="function"&&e(U.call(x))}},33208:function(V){"use strict";V.exports=function(){}},85608:function(V,U,e){"use strict";V.exports=e(37328)()?Math.sign:e(92928)},37328:function(V){"use strict";V.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},92928:function(V){"use strict";V.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},96936:function(V,U,e){"use strict";var x=e(85608),P=Math.abs,i=Math.floor;V.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:x(L)*i(P(L)))}},81304:function(V,U,e){"use strict";var x=e(96936),P=Math.max;V.exports=function(i){return P(0,x(i))}},14428:function(V,U,e){"use strict";var x=e(34044),P=e(9252),i=Function.prototype.bind,L=Function.prototype.call,C=Object.keys,c=Object.prototype.propertyIsEnumerable;V.exports=function(y,r){return function(t,s){var n,u=arguments[2],l=arguments[3];return t=Object(P(t)),x(s),n=C(t),l&&n.sort(typeof l=="function"?i.call(l,t):void 0),typeof y!="function"&&(y=n[y]),L.call(y,n,function(f,g){return c.call(t,f)?L.call(s,u,t[f],f,t,g):r})}}},38452:function(V,U,e){"use strict";V.exports=e(96276)()?Object.assign:e(81892)},96276:function(V){"use strict";V.exports=function(){var U=Object.assign,e;return typeof U!="function"?!1:(e={foo:"raz"},U(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(V,U,e){"use strict";var x=e(54768),P=e(9252),i=Math.max;V.exports=function(L,C){var c,y,r=i(arguments.length,2),t;for(L=Object(P(L)),t=function(s){try{L[s]=C[s]}catch(n){c||(c=n)}},y=1;y<r;++y)C=arguments[y],x(C).forEach(t);if(c!==void 0)throw c;return L}},95920:function(V,U,e){"use strict";var x=e(74772),P=e(38452),i=e(9252);V.exports=function(L){var C=Object(i(L)),c=arguments[1],y=Object(arguments[2]);if(C!==L&&!c)return C;var r={};return c?x(c,function(t){(y.ensure||t in L)&&(r[t]=L[t])}):P(r,L),r}},14452:function(V,U,e){"use strict";var x=Object.create,P;e(63092)()||(P=e(8672)),V.exports=function(){var i,L,C;return!P||P.level!==1?x:(i={},L={},C={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(c){if(c==="__proto__"){L[c]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[c]=C}),Object.defineProperties(i,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(c,y){return x(c===null?i:c,y)})}()},42748:function(V,U,e){"use strict";V.exports=e(14428)("forEach")},69127:function(V,U,e){"use strict";var x=e(42584),P={function:!0,object:!0};V.exports=function(i){return x(i)&&P[typeof i]||!1}},42584:function(V,U,e){"use strict";var x=e(33208)();V.exports=function(P){return P!==x&&P!==null}},54768:function(V,U,e){"use strict";V.exports=e(87888)()?Object.keys:e(89592)},87888:function(V){"use strict";V.exports=function(){try{return Object.keys("primitive"),!0}catch(U){return!1}}},89592:function(V,U,e){"use strict";var x=e(42584),P=Object.keys;V.exports=function(i){return P(x(i)?Object(i):i)}},84323:function(V,U,e){"use strict";var x=e(34044),P=e(42748),i=Function.prototype.call;V.exports=function(L,C){var c={},y=arguments[2];return x(C),P(L,function(r,t,s,n){c[t]=i.call(C,y,r,t,s,n)}),c}},50868:function(V,U,e){"use strict";var x=e(42584),P=Array.prototype.forEach,i=Object.create,L=function(C,c){var y;for(y in C)c[y]=C[y]};V.exports=function(C){var c=i(null);return P.call(arguments,function(y){x(y)&&L(Object(y),c)}),c}},69932:function(V,U,e){"use strict";V.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(V){"use strict";var U=Object.create,e=Object.getPrototypeOf,x={};V.exports=function(){var P=Object.setPrototypeOf,i=arguments[0]||U;return typeof P!="function"?!1:e(P(i(null),x))===x}},8672:function(V,U,e){"use strict";var x=e(69127),P=e(9252),i=Object.prototype.isPrototypeOf,L=Object.defineProperty,C={configurable:!0,enumerable:!1,writable:!0,value:void 0},c;c=function(y,r){if(P(y),r===null||x(r))return y;throw new TypeError("Prototype must be null or an object")},V.exports=function(y){var r,t;return y?(y.level===2?y.set?(t=y.set,r=function(s,n){return t.call(c(s,n),n),s}):r=function(s,n){return c(s,n).__proto__=n,s}:r=function s(n,u){var l;return c(n,u),l=i.call(s.nullPolyfill,n),l&&delete s.nullPolyfill.__proto__,u===null&&(u=s.nullPolyfill),n.__proto__=u,l&&L(s.nullPolyfill,"__proto__",C),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:y.level})):null}(function(){var y=Object.create(null),r={},t,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{t=s.set,t.call(y,r)}catch(n){}if(Object.getPrototypeOf(y)===r)return{set:t,level:2}}return y.__proto__=r,Object.getPrototypeOf(y)===r?{level:2}:(y={},y.__proto__=r,Object.getPrototypeOf(y)===r?{level:1}:!1)}()),e(14452)},34044:function(V){"use strict";V.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},92584:function(V,U,e){"use strict";var x=e(69127);V.exports=function(P){if(!x(P))throw new TypeError(P+" is not an Object");return P}},9252:function(V,U,e){"use strict";var x=e(42584);V.exports=function(P){if(!x(P))throw new TypeError("Cannot use null or undefined");return P}},71056:function(V,U,e){"use strict";V.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(V){"use strict";var U="razdwatrzy";V.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},93040:function(V){"use strict";var U=String.prototype.indexOf;V.exports=function(e){return U.call(this,e,arguments[1])>-1}},29768:function(V){"use strict";var U=Object.prototype.toString,e=U.call("");V.exports=function(x){return typeof x=="string"||x&&typeof x=="object"&&(x instanceof String||U.call(x)===e)||!1}},82252:function(V){"use strict";var U=Object.create(null),e=Math.random;V.exports=function(){var x;do x=e().toString(36).slice(2);while(U[x]);return x}},52104:function(V,U,e){"use strict";var x=e(69932),P=e(71056),i=e(21092),L=e(92664),C=e(85512),c=Object.defineProperty,y;y=V.exports=function(r,t){if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");C.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",c(this,"__kind__",i("",t))},x&&x(y,C),delete y.prototype.constructor,y.prototype=Object.create(C.prototype,{_resolve:i(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),c(y.prototype,L.toStringTag,i("c","Array Iterator"))},76024:function(V,U,e){"use strict";var x=e(60948),P=e(34044),i=e(29768),L=e(76252),C=Array.isArray,c=Function.prototype.call,y=Array.prototype.some;V.exports=function(r,t){var s,n=arguments[2],u,l,f,g,h,w,d;if(C(r)||x(r)?s="array":i(r)?s="string":r=L(r),P(t),l=function(){f=!0},s==="array"){y.call(r,function(o){return c.call(t,n,o,l),f});return}if(s==="string"){for(h=r.length,g=0;g<h&&(w=r[g],g+1<h&&(d=w.charCodeAt(0),d>=55296&&d<=56319&&(w+=r[++g])),c.call(t,n,w,l),!f);++g);return}for(u=r.next();!u.done;){if(c.call(t,n,u.value,l),f)return;u=r.next()}}},76252:function(V,U,e){"use strict";var x=e(60948),P=e(29768),i=e(52104),L=e(80940),C=e(52891),c=e(92664).iterator;V.exports=function(y){return typeof C(y)[c]=="function"?y[c]():x(y)?new i(y):P(y)?new L(y):new i(y)}},85512:function(V,U,e){"use strict";var x=e(41476),P=e(38452),i=e(34044),L=e(9252),C=e(21092),c=e(27940),y=e(92664),r=Object.defineProperty,t=Object.defineProperties,s;V.exports=s=function(n,u){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");t(this,{__list__:C("w",L(n)),__context__:C("w",u),__nextIndex__:C("w",0)}),u&&(i(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete s.prototype.constructor,t(s.prototype,P({_next:C(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:C(function(){return this._createResult(this._next())}),_createResult:C(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:C(function(n){return this.__list__[n]}),_unBind:C(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:C(function(){return"[object "+(this[y.toStringTag]||"Object")+"]"})},c({_onAdd:C(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",C("c",[n]));return}this.__redo__.forEach(function(u,l){u>=n&&(this.__redo__[l]=++u)},this),this.__redo__.push(n)}}),_onDelete:C(function(n){var u;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(u=this.__redo__.indexOf(n),u!==-1&&this.__redo__.splice(u,1),this.__redo__.forEach(function(l,f){l>n&&(this.__redo__[f]=--l)},this)))}),_onClear:C(function(){this.__redo__&&x.call(this.__redo__),this.__nextIndex__=0})}))),r(s.prototype,y.iterator,C(function(){return this}))},76368:function(V,U,e){"use strict";var x=e(60948),P=e(42584),i=e(29768),L=e(92664).iterator,C=Array.isArray;V.exports=function(c){return P(c)?C(c)||i(c)||x(c)?!0:typeof c[L]=="function":!1}},80940:function(V,U,e){"use strict";var x=e(69932),P=e(21092),i=e(92664),L=e(85512),C=Object.defineProperty,c;c=V.exports=function(y){if(!(this instanceof c))throw new TypeError("Constructor requires 'new'");y=String(y),L.call(this,y),C(this,"__length__",P("",y.length))},x&&x(c,L),delete c.prototype.constructor,c.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(y){var r=this.__list__[y],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),C(c.prototype,i.toStringTag,P("c","String Iterator"))},52891:function(V,U,e){"use strict";var x=e(76368);V.exports=function(P){if(!x(P))throw new TypeError(P+" is not iterable");return P}},60964:function(V){"use strict";function U(x,P){if(x==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(x),L=1;L<arguments.length;L++){var C=arguments[L];if(C!=null)for(var c=Object.keys(Object(C)),y=0,r=c.length;y<r;y++){var t=c[y],s=Object.getOwnPropertyDescriptor(C,t);s!==void 0&&s.enumerable&&(i[t]=C[t])}}return i}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}V.exports={assign:U,polyfill:e}},92664:function(V,U,e){"use strict";V.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(V,U,e){"use strict";var x=e(12296),P={object:!0,symbol:!0};V.exports=function(){var i=x.Symbol,L;if(typeof i!="function")return!1;L=i("test symbol");try{String(L)}catch(C){return!1}return!(!P[typeof i.iterator]||!P[typeof i.toPrimitive]||!P[typeof i.toStringTag])}},53908:function(V){"use strict";V.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},96863:function(V,U,e){"use strict";var x=e(21092),P=Object.create,i=Object.defineProperty,L=Object.prototype,C=P(null);V.exports=function(c){for(var y=0,r,t;C[c+(y||"")];)++y;return c+=y||"",C[c]=!0,r="@@"+c,i(L,r,x.gs(null,function(s){t||(t=!0,i(this,r,x(s)),t=!1)})),r}},53540:function(V,U,e){"use strict";var x=e(21092),P=e(12296).Symbol;V.exports=function(i){return Object.defineProperties(i,{hasInstance:x("",P&&P.hasInstance||i("hasInstance")),isConcatSpreadable:x("",P&&P.isConcatSpreadable||i("isConcatSpreadable")),iterator:x("",P&&P.iterator||i("iterator")),match:x("",P&&P.match||i("match")),replace:x("",P&&P.replace||i("replace")),search:x("",P&&P.search||i("search")),species:x("",P&&P.species||i("species")),split:x("",P&&P.split||i("split")),toPrimitive:x("",P&&P.toPrimitive||i("toPrimitive")),toStringTag:x("",P&&P.toStringTag||i("toStringTag")),unscopables:x("",P&&P.unscopables||i("unscopables"))})}},73852:function(V,U,e){"use strict";var x=e(21092),P=e(63948),i=Object.create(null);V.exports=function(L){return Object.defineProperties(L,{for:x(function(C){return i[C]?i[C]:i[C]=L(String(C))}),keyFor:x(function(C){var c;P(C);for(c in i)if(i[c]===C)return c})})}},18376:function(V,U,e){"use strict";var x=e(21092),P=e(63948),i=e(12296).Symbol,L=e(96863),C=e(53540),c=e(73852),y=Object.create,r=Object.defineProperties,t=Object.defineProperty,s,n,u;if(typeof i=="function")try{String(i()),u=!0}catch(l){}else i=null;n=function(f){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return s(f)},V.exports=s=function l(f){var g;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return u?i(f):(g=y(n.prototype),f=f===void 0?"":String(f),r(g,{__description__:x("",f),__name__:x("",L(f))}))},C(s),c(s),r(n.prototype,{constructor:x(s),toString:x("",function(){return this.__name__})}),r(s.prototype,{toString:x(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:x(function(){return P(this)})}),t(s.prototype,s.toPrimitive,x("",function(){var l=P(this);return typeof l=="symbol"?l:l.toString()})),t(s.prototype,s.toStringTag,x("c","Symbol")),t(n.prototype,s.toStringTag,x("c",s.prototype[s.toStringTag])),t(n.prototype,s.toPrimitive,x("c",s.prototype[s.toPrimitive]))},63948:function(V,U,e){"use strict";var x=e(53908);V.exports=function(P){if(!x(P))throw new TypeError(P+" is not a symbol");return P}},60463:function(V,U,e){"use strict";V.exports=e(96979)()?WeakMap:e(64864)},96979:function(V){"use strict";V.exports=function(){var U,e;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch(x){return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(e)!=="one")}},69876:function(V){"use strict";V.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(V,U,e){"use strict";var x=e(42584),P=e(69932),i=e(92584),L=e(9252),C=e(82252),c=e(21092),y=e(76252),r=e(76024),t=e(92664).toStringTag,s=e(69876),n=Array.isArray,u=Object.defineProperty,l=Object.prototype.hasOwnProperty,f=Object.getPrototypeOf,g;V.exports=g=function(){var h=arguments[0],w;if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return w=s&&P&&WeakMap!==g?P(new WeakMap,f(this)):this,x(h)&&(n(h)||(h=y(h))),u(w,"__weakMapData__",c("c","$weakMap$"+C())),h&&r(h,function(d){L(d),w.set(d[0],d[1])}),w},s&&(P&&P(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:c(g)})),Object.defineProperties(g.prototype,{delete:c(function(h){return l.call(i(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:c(function(h){if(l.call(i(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:c(function(h){return l.call(i(h),this.__weakMapData__)}),set:c(function(h,w){return u(i(h),this.__weakMapData__,c("c",w)),this}),toString:c(function(){return"[object WeakMap]"})}),u(g.prototype,t,c("c","WeakMap"))},61252:function(V){"use strict";var U=typeof Reflect=="object"?Reflect:null,e=U&&typeof U.apply=="function"?U.apply:function(v,A,b){return Function.prototype.apply.call(v,A,b)},x;U&&typeof U.ownKeys=="function"?x=U.ownKeys:Object.getOwnPropertySymbols?x=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:x=function(v){return Object.getOwnPropertyNames(v)};function P(o){console&&console.warn&&console.warn(o)}var i=Number.isNaN||function(v){return v!==v};function L(){L.init.call(this)}V.exports=L,V.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var C=10;function c(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(o){if(typeof o!="number"||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");C=o}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||i(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function y(o){return o._maxListeners===void 0?L.defaultMaxListeners:o._maxListeners}L.prototype.getMaxListeners=function(){return y(this)},L.prototype.emit=function(v){for(var A=[],b=1;b<arguments.length;b++)A.push(arguments[b]);var M=v==="error",m=this._events;if(m!==void 0)M=M&&m.error===void 0;else if(!M)return!1;if(M){var S;if(A.length>0&&(S=A[0]),S instanceof Error)throw S;var T=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw T.context=S,T}var a=m[v];if(a===void 0)return!1;if(typeof a=="function")e(a,this,A);else for(var E=a.length,p=l(a,E),b=0;b<E;++b)e(p[b],this,A);return!0};function r(o,v,A,b){var M,m,S;if(c(A),m=o._events,m===void 0?(m=o._events=Object.create(null),o._eventsCount=0):(m.newListener!==void 0&&(o.emit("newListener",v,A.listener?A.listener:A),m=o._events),S=m[v]),S===void 0)S=m[v]=A,++o._eventsCount;else if(typeof S=="function"?S=m[v]=b?[A,S]:[S,A]:b?S.unshift(A):S.push(A),M=y(o),M>0&&S.length>M&&!S.warned){S.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=o,T.type=v,T.count=S.length,P(T)}return o}L.prototype.addListener=function(v,A){return r(this,v,A,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(v,A){return r(this,v,A,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(o,v,A){var b={fired:!1,wrapFn:void 0,target:o,type:v,listener:A},M=t.bind(b);return M.listener=A,b.wrapFn=M,M}L.prototype.once=function(v,A){return c(A),this.on(v,s(this,v,A)),this},L.prototype.prependOnceListener=function(v,A){return c(A),this.prependListener(v,s(this,v,A)),this},L.prototype.removeListener=function(v,A){var b,M,m,S,T;if(c(A),M=this._events,M===void 0)return this;if(b=M[v],b===void 0)return this;if(b===A||b.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete M[v],M.removeListener&&this.emit("removeListener",v,b.listener||A));else if(typeof b!="function"){for(m=-1,S=b.length-1;S>=0;S--)if(b[S]===A||b[S].listener===A){T=b[S].listener,m=S;break}if(m<0)return this;m===0?b.shift():f(b,m),b.length===1&&(M[v]=b[0]),M.removeListener!==void 0&&this.emit("removeListener",v,T||A)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(v){var A,b,M;if(b=this._events,b===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[v]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete b[v]),this;if(arguments.length===0){var m=Object.keys(b),S;for(M=0;M<m.length;++M)S=m[M],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=b[v],typeof A=="function")this.removeListener(v,A);else if(A!==void 0)for(M=A.length-1;M>=0;M--)this.removeListener(v,A[M]);return this};function n(o,v,A){var b=o._events;if(b===void 0)return[];var M=b[v];return M===void 0?[]:typeof M=="function"?A?[M.listener||M]:[M]:A?g(M):l(M,M.length)}L.prototype.listeners=function(v){return n(this,v,!0)},L.prototype.rawListeners=function(v){return n(this,v,!1)},L.listenerCount=function(o,v){return typeof o.listenerCount=="function"?o.listenerCount(v):u.call(o,v)},L.prototype.listenerCount=u;function u(o){var v=this._events;if(v!==void 0){var A=v[o];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?x(this._events):[]};function l(o,v){for(var A=new Array(v),b=0;b<v;++b)A[b]=o[b];return A}function f(o,v){for(;v+1<o.length;v++)o[v]=o[v+1];o.pop()}function g(o){for(var v=new Array(o.length),A=0;A<v.length;++A)v[A]=o[A].listener||o[A];return v}function h(o,v){return new Promise(function(A,b){function M(S){o.removeListener(v,m),b(S)}function m(){typeof o.removeListener=="function"&&o.removeListener("error",M),A([].slice.call(arguments))}d(o,v,m,{once:!0}),v!=="error"&&w(o,M,{once:!0})})}function w(o,v,A){typeof o.on=="function"&&d(o,"error",v,A)}function d(o,v,A,b){if(typeof o.on=="function")b.once?o.once(v,A):o.on(v,A);else if(typeof o.addEventListener=="function")o.addEventListener(v,function M(m){b.once&&o.removeEventListener(v,M),A(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(V){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};V.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},12296:function(V,U,e){"use strict";V.exports=e(45072)()?globalThis:e(39072)},45072:function(V){"use strict";V.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(V,U,e){"use strict";var x=e(94576);V.exports=function(P){var i=typeof P;if(i==="string"){var L=P;if(P=+P,P===0&&x(L))return!1}else if(i!=="number")return!1;return P-P<1}},47520:function(V,U,e){var x=e(72512);V.exports=P;function P(i,L,C){if(!i)throw new TypeError("must specify data as first parameter");if(C=+(C||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var c=i[0].length,y=i.length*c,r,t,s,n;(!L||typeof L=="string")&&(L=new(x(L||"float32"))(y+C));var u=L.length-C;if(y!==u)throw new Error("source length "+y+" ("+c+"x"+i.length+") does not match destination length "+u);for(r=0,s=C;r<i.length;r++)for(t=0;t<c;t++)L[s++]=i[r][t]===null?NaN:i[r][t]}else if(!L||typeof L=="string"){var l=x(L||"float32");if(Array.isArray(i)||L==="array")for(L=new l(i.length+C),r=0,s=C,n=L.length;s<n;s++,r++)L[s]=i[r]===null?NaN:i[r];else C===0?L=new l(i):(L=new l(i.length+C),L.set(i,C))}else L.set(i,C);return L}},33888:function(V,U,e){"use strict";var x=e(49395),P=[32,126];V.exports=i;function i(L){L=L||{};var C=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],c=L.canvas||document.createElement("canvas"),y=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||P;if(y&&typeof y!="string"&&(y=x(y)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var s=[],n=t[0],u=0;n<=t[1];n++)s[u++]=String.fromCharCode(n);t=s}C=C.slice(),c.width=C[0],c.height=C[1];var l=c.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,c.width,c.height),l.font=y,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(var f=r[0]/2,g=r[1]/2,n=0;n<t.length;n++)l.fillText(t[n],f,g),(f+=r[0])>C[0]-r[0]/2&&(f=r[0]/2,g+=r[1]);return c}},71920:function(V){"use strict";V.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var C=Array.isArray(L.family)?L.family.join(", "):L.family;if(!C)throw Error("`family` must be defined");var c=L.size||L.fontSize||L.em||48,y=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,y,c].join(" ")+"px "+C,s=L.origin||"top";if(U.cache[C]&&c<=U.cache[C].em)return e(U.cache[C],s);var n=L.canvas||U.canvas,u=n.getContext("2d"),l={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},f=Math.ceil(c*1.5);n.height=f,n.width=f*.5,u.font=t;var g="H",h={top:0};u.clearRect(0,0,f,f),u.textBaseline="top",u.fillStyle="black",u.fillText(g,0,0);var w=x(u.getImageData(0,0,f,f));u.clearRect(0,0,f,f),u.textBaseline="bottom",u.fillText(g,0,f);var d=x(u.getImageData(0,0,f,f));h.lineHeight=h.bottom=f-d+w,u.clearRect(0,0,f,f),u.textBaseline="alphabetic",u.fillText(g,0,f);var o=x(u.getImageData(0,0,f,f)),v=f-o-1+w;h.baseline=h.alphabetic=v,u.clearRect(0,0,f,f),u.textBaseline="middle",u.fillText(g,0,f*.5);var A=x(u.getImageData(0,0,f,f));h.median=h.middle=f-A-1+w-f*.5,u.clearRect(0,0,f,f),u.textBaseline="hanging",u.fillText(g,0,f*.5);var b=x(u.getImageData(0,0,f,f));h.hanging=f-b-1+w-f*.5,u.clearRect(0,0,f,f),u.textBaseline="ideographic",u.fillText(g,0,f);var M=x(u.getImageData(0,0,f,f));if(h.ideographic=f-M-1+w,l.upper&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(l.upper,0,0),h.upper=x(u.getImageData(0,0,f,f)),h.capHeight=h.baseline-h.upper),l.lower&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(l.lower,0,0),h.lower=x(u.getImageData(0,0,f,f)),h.xHeight=h.baseline-h.lower),l.tittle&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(l.tittle,0,0),h.tittle=x(u.getImageData(0,0,f,f))),l.ascent&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(l.ascent,0,0),h.ascent=x(u.getImageData(0,0,f,f))),l.descent&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(l.descent,0,0),h.descent=P(u.getImageData(0,0,f,f))),l.overshoot){u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(l.overshoot,0,0);var m=P(u.getImageData(0,0,f,f));h.overshoot=m-v}for(var S in h)h[S]/=c;return h.em=c,U.cache[C]=h,e(h,s)}function e(i,L){var C={};typeof L=="string"&&(L=i[L]);for(var c in i)c!=="em"&&(C[c]=i[c]-L);return C}function x(i){for(var L=i.height,C=i.data,c=3;c<C.length;c+=4)if(C[c]!==0)return Math.floor((c-3)*.25/L)}function P(i){for(var L=i.height,C=i.data,c=C.length-1;c>0;c-=4)if(C[c]!==0)return Math.floor((c-3)*.25/L)}},46492:function(V,U,e){"use strict";var x=e(90720),P=Object.prototype.toString,i=Object.prototype.hasOwnProperty,L=function(t,s,n){for(var u=0,l=t.length;u<l;u++)i.call(t,u)&&(n==null?s(t[u],u,t):s.call(n,t[u],u,t))},C=function(t,s,n){for(var u=0,l=t.length;u<l;u++)n==null?s(t.charAt(u),u,t):s.call(n,t.charAt(u),u,t)},c=function(t,s,n){for(var u in t)i.call(t,u)&&(n==null?s(t[u],u,t):s.call(n,t[u],u,t))},y=function(t,s,n){if(!x(s))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=n),P.call(t)==="[object Array]"?L(t,s,u):typeof t=="string"?C(t,s,u):c(t,s,u)};V.exports=y},74336:function(V){"use strict";var U="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,x=Math.max,P="[object Function]",i=function(y,r){for(var t=[],s=0;s<y.length;s+=1)t[s]=y[s];for(var n=0;n<r.length;n+=1)t[n+y.length]=r[n];return t},L=function(y,r){for(var t=[],s=r||0,n=0;s<y.length;s+=1,n+=1)t[n]=y[s];return t},C=function(c,y){for(var r="",t=0;t<c.length;t+=1)r+=c[t],t+1<c.length&&(r+=y);return r};V.exports=function(y){var r=this;if(typeof r!="function"||e.apply(r)!==P)throw new TypeError(U+r);for(var t=L(arguments,1),s,n=function(){if(this instanceof s){var h=r.apply(this,i(t,arguments));return Object(h)===h?h:this}return r.apply(y,i(t,arguments))},u=x(0,r.length-t.length),l=[],f=0;f<u;f++)l[f]="$"+f;if(s=Function("binder","return function ("+C(l,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var g=function(){};g.prototype=r.prototype,s.prototype=new g,g.prototype=null}return s}},8844:function(V,U,e){"use strict";var x=e(74336);V.exports=Function.prototype.bind||x},13380:function(V){V.exports=U;function U(e,x){if(typeof e!="string")throw new TypeError("must specify type string");if(x=x||{},typeof document=="undefined"&&!x.canvas)return null;var P=x.canvas||document.createElement("canvas");typeof x.width=="number"&&(P.width=x.width),typeof x.height=="number"&&(P.height=x.height);var i=x,L;try{var C=[e];e.indexOf("webgl")===0&&C.push("experimental-"+e);for(var c=0;c<C.length;c++)if(L=P.getContext(C[c],i),L)return L}catch(y){L=null}return L||null}},53664:function(V,U,e){"use strict";var x,P=SyntaxError,i=Function,L=TypeError,C=function(p){try{return i('"use strict"; return ('+p+").constructor;")()}catch(k){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(p){c=null}var y=function(){throw new L},r=c?function(){try{return arguments.callee,y}catch(p){try{return c(arguments,"callee").get}catch(k){return y}}}():y,t=e(71080)(),s=e(69572)(),n=Object.getPrototypeOf||(s?function(p){return p.__proto__}:null),u={},l=typeof Uint8Array=="undefined"||!n?x:n(Uint8Array),f={"%AggregateError%":typeof AggregateError=="undefined"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?x:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics=="undefined"?x:Atomics,"%BigInt%":typeof BigInt=="undefined"?x:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?x:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?x:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?x:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?x:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array=="undefined"?x:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?x:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map=="undefined"?x:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!t||!n?x:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?x:Promise,"%Proxy%":typeof Proxy=="undefined"?x:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?x:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!t||!n?x:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):x,"%Symbol%":t?Symbol:x,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":l,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array=="undefined"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?x:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?x:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?x:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?x:WeakSet};if(n)try{null.error}catch(p){var g=n(n(p));f["%Error.prototype%"]=g}var h=function p(k){var R;if(k==="%AsyncFunction%")R=C("async function () {}");else if(k==="%GeneratorFunction%")R=C("function* () {}");else if(k==="%AsyncGeneratorFunction%")R=C("async function* () {}");else if(k==="%AsyncGenerator%"){var B=p("%AsyncGeneratorFunction%");B&&(R=B.prototype)}else if(k==="%AsyncIteratorPrototype%"){var F=p("%AsyncGenerator%");F&&n&&(R=n(F.prototype))}return f[k]=R,R},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},d=e(8844),o=e(92064),v=d.call(Function.call,Array.prototype.concat),A=d.call(Function.apply,Array.prototype.splice),b=d.call(Function.call,String.prototype.replace),M=d.call(Function.call,String.prototype.slice),m=d.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,a=function(k){var R=M(k,0,1),B=M(k,-1);if(R==="%"&&B!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&R!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var F=[];return b(k,S,function(_,O,z,N){F[F.length]=z?b(N,T,"$1"):O||_}),F},E=function(k,R){var B=k,F;if(o(w,B)&&(F=w[B],B="%"+F[0]+"%"),o(f,B)){var _=f[B];if(_===u&&(_=h(B)),typeof _=="undefined"&&!R)throw new L("intrinsic "+k+" exists, but is not available. Please file an issue!");return{alias:F,name:B,value:_}}throw new P("intrinsic "+k+" does not exist!")};V.exports=function(k,R){if(typeof k!="string"||k.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof R!="boolean")throw new L('"allowMissing" argument must be a boolean');if(m(/^%?[^%]*%?$/,k)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=a(k),F=B.length>0?B[0]:"",_=E("%"+F+"%",R),O=_.name,z=_.value,N=!1,Y=_.alias;Y&&(F=Y[0],A(B,v([0,1],Y)));for(var J=1,ae=!0;J<B.length;J+=1){var se=B[J],ue=M(se,0,1),K=M(se,-1);if((ue==='"'||ue==="'"||ue==="`"||K==='"'||K==="'"||K==="`")&&ue!==K)throw new P("property names with quotes must have matching quotes");if((se==="constructor"||!ae)&&(N=!0),F+="."+se,O="%"+F+"%",o(f,O))z=f[O];else if(z!=null){if(!(se in z)){if(!R)throw new L("base intrinsic for "+k+" exists, but the property is not available.");return}if(c&&J+1>=B.length){var j=c(z,se);ae=!!j,ae&&"get"in j&&!("originalValue"in j.get)?z=j.get:z=z[se]}else ae=o(z,se),z=z[se];ae&&!N&&(f[O]=z)}}return z}},12408:function(V){V.exports=U;function U(e,x){var P=x[0],i=x[1],L=x[2],C=x[3],c=x[4],y=x[5],r=x[6],t=x[7],s=x[8],n=x[9],u=x[10],l=x[11],f=x[12],g=x[13],h=x[14],w=x[15];return e[0]=y*(u*w-l*h)-n*(r*w-t*h)+g*(r*l-t*u),e[1]=-(i*(u*w-l*h)-n*(L*w-C*h)+g*(L*l-C*u)),e[2]=i*(r*w-t*h)-y*(L*w-C*h)+g*(L*t-C*r),e[3]=-(i*(r*l-t*u)-y*(L*l-C*u)+n*(L*t-C*r)),e[4]=-(c*(u*w-l*h)-s*(r*w-t*h)+f*(r*l-t*u)),e[5]=P*(u*w-l*h)-s*(L*w-C*h)+f*(L*l-C*u),e[6]=-(P*(r*w-t*h)-c*(L*w-C*h)+f*(L*t-C*r)),e[7]=P*(r*l-t*u)-c*(L*l-C*u)+s*(L*t-C*r),e[8]=c*(n*w-l*g)-s*(y*w-t*g)+f*(y*l-t*n),e[9]=-(P*(n*w-l*g)-s*(i*w-C*g)+f*(i*l-C*n)),e[10]=P*(y*w-t*g)-c*(i*w-C*g)+f*(i*t-C*y),e[11]=-(P*(y*l-t*n)-c*(i*l-C*n)+s*(i*t-C*y)),e[12]=-(c*(n*h-u*g)-s*(y*h-r*g)+f*(y*u-r*n)),e[13]=P*(n*h-u*g)-s*(i*h-L*g)+f*(i*u-L*n),e[14]=-(P*(y*h-r*g)-c*(i*h-L*g)+f*(i*r-L*y)),e[15]=P*(y*u-r*n)-c*(i*u-L*n)+s*(i*r-L*y),e}},76860:function(V){V.exports=U;function U(e){var x=new Float32Array(16);return x[0]=e[0],x[1]=e[1],x[2]=e[2],x[3]=e[3],x[4]=e[4],x[5]=e[5],x[6]=e[6],x[7]=e[7],x[8]=e[8],x[9]=e[9],x[10]=e[10],x[11]=e[11],x[12]=e[12],x[13]=e[13],x[14]=e[14],x[15]=e[15],x}},64492:function(V){V.exports=U;function U(e,x){return e[0]=x[0],e[1]=x[1],e[2]=x[2],e[3]=x[3],e[4]=x[4],e[5]=x[5],e[6]=x[6],e[7]=x[7],e[8]=x[8],e[9]=x[9],e[10]=x[10],e[11]=x[11],e[12]=x[12],e[13]=x[13],e[14]=x[14],e[15]=x[15],e}},54212:function(V){V.exports=U;function U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(V){V.exports=U;function U(e){var x=e[0],P=e[1],i=e[2],L=e[3],C=e[4],c=e[5],y=e[6],r=e[7],t=e[8],s=e[9],n=e[10],u=e[11],l=e[12],f=e[13],g=e[14],h=e[15],w=x*c-P*C,d=x*y-i*C,o=x*r-L*C,v=P*y-i*c,A=P*r-L*c,b=i*r-L*y,M=t*f-s*l,m=t*g-n*l,S=t*h-u*l,T=s*g-n*f,a=s*h-u*f,E=n*h-u*g;return w*E-d*a+o*T+v*S-A*m+b*M}},61784:function(V){V.exports=U;function U(e,x){var P=x[0],i=x[1],L=x[2],C=x[3],c=P+P,y=i+i,r=L+L,t=P*c,s=i*c,n=i*y,u=L*c,l=L*y,f=L*r,g=C*c,h=C*y,w=C*r;return e[0]=1-n-f,e[1]=s+w,e[2]=u-h,e[3]=0,e[4]=s-w,e[5]=1-t-f,e[6]=l+g,e[7]=0,e[8]=u+h,e[9]=l-g,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(V){V.exports=U;function U(e,x,P){var i,L,C,c=P[0],y=P[1],r=P[2],t=Math.sqrt(c*c+y*y+r*r);return Math.abs(t)<1e-6?null:(t=1/t,c*=t,y*=t,r*=t,i=Math.sin(x),L=Math.cos(x),C=1-L,e[0]=c*c*C+L,e[1]=y*c*C+r*i,e[2]=r*c*C-y*i,e[3]=0,e[4]=c*y*C-r*i,e[5]=y*y*C+L,e[6]=r*y*C+c*i,e[7]=0,e[8]=c*r*C+y*i,e[9]=y*r*C-c*i,e[10]=r*r*C+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(V){V.exports=U;function U(e,x,P){var i=x[0],L=x[1],C=x[2],c=x[3],y=i+i,r=L+L,t=C+C,s=i*y,n=i*r,u=i*t,l=L*r,f=L*t,g=C*t,h=c*y,w=c*r,d=c*t;return e[0]=1-(l+g),e[1]=n+d,e[2]=u-w,e[3]=0,e[4]=n-d,e[5]=1-(s+g),e[6]=f+h,e[7]=0,e[8]=u+w,e[9]=f-h,e[10]=1-(s+l),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},69444:function(V){V.exports=U;function U(e,x){return e[0]=x[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=x[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=x[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(V){V.exports=U;function U(e,x){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=x[0],e[13]=x[1],e[14]=x[2],e[15]=1,e}},21856:function(V){V.exports=U;function U(e,x){var P=Math.sin(x),i=Math.cos(x);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(V){V.exports=U;function U(e,x){var P=Math.sin(x),i=Math.cos(x);return e[0]=i,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(V){V.exports=U;function U(e,x){var P=Math.sin(x),i=Math.cos(x);return e[0]=i,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(V){V.exports=U;function U(e,x,P,i,L,C,c){var y=1/(P-x),r=1/(L-i),t=1/(C-c);return e[0]=C*2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=C*2*r,e[6]=0,e[7]=0,e[8]=(P+x)*y,e[9]=(L+i)*r,e[10]=(c+C)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=c*C*2*t,e[15]=0,e}},36635:function(V){V.exports=U;function U(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(V,U,e){V.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(V){V.exports=U;function U(e,x){var P=x[0],i=x[1],L=x[2],C=x[3],c=x[4],y=x[5],r=x[6],t=x[7],s=x[8],n=x[9],u=x[10],l=x[11],f=x[12],g=x[13],h=x[14],w=x[15],d=P*y-i*c,o=P*r-L*c,v=P*t-C*c,A=i*r-L*y,b=i*t-C*y,M=L*t-C*r,m=s*g-n*f,S=s*h-u*f,T=s*w-l*f,a=n*h-u*g,E=n*w-l*g,p=u*w-l*h,k=d*p-o*E+v*a+A*T-b*S+M*m;return k?(k=1/k,e[0]=(y*p-r*E+t*a)*k,e[1]=(L*E-i*p-C*a)*k,e[2]=(g*M-h*b+w*A)*k,e[3]=(u*b-n*M-l*A)*k,e[4]=(r*T-c*p-t*S)*k,e[5]=(P*p-L*T+C*S)*k,e[6]=(h*v-f*M-w*o)*k,e[7]=(s*M-u*v+l*o)*k,e[8]=(c*E-y*T+t*m)*k,e[9]=(i*T-P*E-C*m)*k,e[10]=(f*b-g*v+w*d)*k,e[11]=(n*v-s*b-l*d)*k,e[12]=(y*S-c*a-r*m)*k,e[13]=(P*a-i*S+L*m)*k,e[14]=(g*o-f*A-h*d)*k,e[15]=(s*A-n*o+u*d)*k,e):null}},56508:function(V,U,e){var x=e(36635);V.exports=P;function P(i,L,C,c){var y,r,t,s,n,u,l,f,g,h,w=L[0],d=L[1],o=L[2],v=c[0],A=c[1],b=c[2],M=C[0],m=C[1],S=C[2];return Math.abs(w-M)<1e-6&&Math.abs(d-m)<1e-6&&Math.abs(o-S)<1e-6?x(i):(l=w-M,f=d-m,g=o-S,h=1/Math.sqrt(l*l+f*f+g*g),l*=h,f*=h,g*=h,y=A*g-b*f,r=b*l-v*g,t=v*f-A*l,h=Math.sqrt(y*y+r*r+t*t),h?(h=1/h,y*=h,r*=h,t*=h):(y=0,r=0,t=0),s=f*t-g*r,n=g*y-l*t,u=l*r-f*y,h=Math.sqrt(s*s+n*n+u*u),h?(h=1/h,s*=h,n*=h,u*=h):(s=0,n=0,u=0),i[0]=y,i[1]=s,i[2]=l,i[3]=0,i[4]=r,i[5]=n,i[6]=f,i[7]=0,i[8]=t,i[9]=u,i[10]=g,i[11]=0,i[12]=-(y*w+r*d+t*o),i[13]=-(s*w+n*d+u*o),i[14]=-(l*w+f*d+g*o),i[15]=1,i)}},80944:function(V){V.exports=U;function U(e,x,P){var i=x[0],L=x[1],C=x[2],c=x[3],y=x[4],r=x[5],t=x[6],s=x[7],n=x[8],u=x[9],l=x[10],f=x[11],g=x[12],h=x[13],w=x[14],d=x[15],o=P[0],v=P[1],A=P[2],b=P[3];return e[0]=o*i+v*y+A*n+b*g,e[1]=o*L+v*r+A*u+b*h,e[2]=o*C+v*t+A*l+b*w,e[3]=o*c+v*s+A*f+b*d,o=P[4],v=P[5],A=P[6],b=P[7],e[4]=o*i+v*y+A*n+b*g,e[5]=o*L+v*r+A*u+b*h,e[6]=o*C+v*t+A*l+b*w,e[7]=o*c+v*s+A*f+b*d,o=P[8],v=P[9],A=P[10],b=P[11],e[8]=o*i+v*y+A*n+b*g,e[9]=o*L+v*r+A*u+b*h,e[10]=o*C+v*t+A*l+b*w,e[11]=o*c+v*s+A*f+b*d,o=P[12],v=P[13],A=P[14],b=P[15],e[12]=o*i+v*y+A*n+b*g,e[13]=o*L+v*r+A*u+b*h,e[14]=o*C+v*t+A*l+b*w,e[15]=o*c+v*s+A*f+b*d,e}},97688:function(V){V.exports=U;function U(e,x,P,i,L,C,c){var y=1/(x-P),r=1/(i-L),t=1/(C-c);return e[0]=-2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(x+P)*y,e[13]=(L+i)*r,e[14]=(c+C)*t,e[15]=1,e}},51296:function(V){V.exports=U;function U(e,x,P,i,L){var C=1/Math.tan(x/2),c=1/(i-L);return e[0]=C/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=C,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*i*c,e[15]=0,e}},63688:function(V){V.exports=U;function U(e,x,P,i){var L=Math.tan(x.upDegrees*Math.PI/180),C=Math.tan(x.downDegrees*Math.PI/180),c=Math.tan(x.leftDegrees*Math.PI/180),y=Math.tan(x.rightDegrees*Math.PI/180),r=2/(c+y),t=2/(L+C);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((c-y)*r*.5),e[9]=(L-C)*t*.5,e[10]=i/(P-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*P/(P-i),e[15]=0,e}},30016:function(V){V.exports=U;function U(e,x,P,i){var L=i[0],C=i[1],c=i[2],y=Math.sqrt(L*L+C*C+c*c),r,t,s,n,u,l,f,g,h,w,d,o,v,A,b,M,m,S,T,a,E,p,k,R;return Math.abs(y)<1e-6?null:(y=1/y,L*=y,C*=y,c*=y,r=Math.sin(P),t=Math.cos(P),s=1-t,n=x[0],u=x[1],l=x[2],f=x[3],g=x[4],h=x[5],w=x[6],d=x[7],o=x[8],v=x[9],A=x[10],b=x[11],M=L*L*s+t,m=C*L*s+c*r,S=c*L*s-C*r,T=L*C*s-c*r,a=C*C*s+t,E=c*C*s+L*r,p=L*c*s+C*r,k=C*c*s-L*r,R=c*c*s+t,e[0]=n*M+g*m+o*S,e[1]=u*M+h*m+v*S,e[2]=l*M+w*m+A*S,e[3]=f*M+d*m+b*S,e[4]=n*T+g*a+o*E,e[5]=u*T+h*a+v*E,e[6]=l*T+w*a+A*E,e[7]=f*T+d*a+b*E,e[8]=n*p+g*k+o*R,e[9]=u*p+h*k+v*R,e[10]=l*p+w*k+A*R,e[11]=f*p+d*k+b*R,x!==e&&(e[12]=x[12],e[13]=x[13],e[14]=x[14],e[15]=x[15]),e)}},15456:function(V){V.exports=U;function U(e,x,P){var i=Math.sin(P),L=Math.cos(P),C=x[4],c=x[5],y=x[6],r=x[7],t=x[8],s=x[9],n=x[10],u=x[11];return x!==e&&(e[0]=x[0],e[1]=x[1],e[2]=x[2],e[3]=x[3],e[12]=x[12],e[13]=x[13],e[14]=x[14],e[15]=x[15]),e[4]=C*L+t*i,e[5]=c*L+s*i,e[6]=y*L+n*i,e[7]=r*L+u*i,e[8]=t*L-C*i,e[9]=s*L-c*i,e[10]=n*L-y*i,e[11]=u*L-r*i,e}},64840:function(V){V.exports=U;function U(e,x,P){var i=Math.sin(P),L=Math.cos(P),C=x[0],c=x[1],y=x[2],r=x[3],t=x[8],s=x[9],n=x[10],u=x[11];return x!==e&&(e[4]=x[4],e[5]=x[5],e[6]=x[6],e[7]=x[7],e[12]=x[12],e[13]=x[13],e[14]=x[14],e[15]=x[15]),e[0]=C*L-t*i,e[1]=c*L-s*i,e[2]=y*L-n*i,e[3]=r*L-u*i,e[8]=C*i+t*L,e[9]=c*i+s*L,e[10]=y*i+n*L,e[11]=r*i+u*L,e}},4192:function(V){V.exports=U;function U(e,x,P){var i=Math.sin(P),L=Math.cos(P),C=x[0],c=x[1],y=x[2],r=x[3],t=x[4],s=x[5],n=x[6],u=x[7];return x!==e&&(e[8]=x[8],e[9]=x[9],e[10]=x[10],e[11]=x[11],e[12]=x[12],e[13]=x[13],e[14]=x[14],e[15]=x[15]),e[0]=C*L+t*i,e[1]=c*L+s*i,e[2]=y*L+n*i,e[3]=r*L+u*i,e[4]=t*L-C*i,e[5]=s*L-c*i,e[6]=n*L-y*i,e[7]=u*L-r*i,e}},68152:function(V){V.exports=U;function U(e,x,P){var i=P[0],L=P[1],C=P[2];return e[0]=x[0]*i,e[1]=x[1]*i,e[2]=x[2]*i,e[3]=x[3]*i,e[4]=x[4]*L,e[5]=x[5]*L,e[6]=x[6]*L,e[7]=x[7]*L,e[8]=x[8]*C,e[9]=x[9]*C,e[10]=x[10]*C,e[11]=x[11]*C,e[12]=x[12],e[13]=x[13],e[14]=x[14],e[15]=x[15],e}},89412:function(V){V.exports=U;function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(V){V.exports=U;function U(e,x,P){var i=P[0],L=P[1],C=P[2],c,y,r,t,s,n,u,l,f,g,h,w;return x===e?(e[12]=x[0]*i+x[4]*L+x[8]*C+x[12],e[13]=x[1]*i+x[5]*L+x[9]*C+x[13],e[14]=x[2]*i+x[6]*L+x[10]*C+x[14],e[15]=x[3]*i+x[7]*L+x[11]*C+x[15]):(c=x[0],y=x[1],r=x[2],t=x[3],s=x[4],n=x[5],u=x[6],l=x[7],f=x[8],g=x[9],h=x[10],w=x[11],e[0]=c,e[1]=y,e[2]=r,e[3]=t,e[4]=s,e[5]=n,e[6]=u,e[7]=l,e[8]=f,e[9]=g,e[10]=h,e[11]=w,e[12]=c*i+s*L+f*C+x[12],e[13]=y*i+n*L+g*C+x[13],e[14]=r*i+u*L+h*C+x[14],e[15]=t*i+l*L+w*C+x[15]),e}},86520:function(V){V.exports=U;function U(e,x){if(e===x){var P=x[1],i=x[2],L=x[3],C=x[6],c=x[7],y=x[11];e[1]=x[4],e[2]=x[8],e[3]=x[12],e[4]=P,e[6]=x[9],e[7]=x[13],e[8]=i,e[9]=C,e[11]=x[14],e[12]=L,e[13]=c,e[14]=y}else e[0]=x[0],e[1]=x[4],e[2]=x[8],e[3]=x[12],e[4]=x[1],e[5]=x[5],e[6]=x[9],e[7]=x[13],e[8]=x[2],e[9]=x[6],e[10]=x[10],e[11]=x[14],e[12]=x[3],e[13]=x[7],e[14]=x[11],e[15]=x[15];return e}},23352:function(V,U,e){"use strict";var x=e(42771),P=e(55616),i=e(28624),L=e(55212),C=e(60463),c=e(72160),y=e(33888),r=e(14144),t=e(51160),s=e(58908),n=e(65819),u=e(23464),l=e(63768),f=e(50896),g=e(71920),h=e(47520),w=e(308),d=w.nextPow2,o=new C,v=!1;if(document.body){var A=document.body.appendChild(document.createElement("div"));A.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(A).fontStretch&&(v=!0),document.body.removeChild(A)}var b=function(S){M(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=L(S),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(S)?S:{})};b.prototype.createShader=function(){var S=this.regl,T=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(E,p){return[p.atlas.width,p.atlas.height]},atlasDim:function(E,p){return[p.atlas.cols,p.atlas.rows]},atlas:function(E,p){return p.atlas.texture},charStep:function(E,p){return p.atlas.step},em:function(E,p){return p.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),a={};return{regl:S,draw:T,atlas:a}},b.prototype.update=function(S){var T=this;if(typeof S=="string")S={text:S};else if(!S)return;S=P(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(ke){return parseFloat(ke)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=t(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=h(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=b.baseFontSize+"px sans-serif");var a=!1,E=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(ke,Ye){if(typeof ke=="string")try{ke=x.parse(ke)}catch(ot){ke=x.parse(b.baseFontSize+"px "+ke)}else ke=x.parse(x.stringify(ke));var lt=x.stringify({size:b.baseFontSize,family:ke.family,stretch:v?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style}),yt=n(ke.size),He=Math.round(yt[0]*u(yt[1]));if(He!==T.fontSize[Ye]&&(E=!0,T.fontSize[Ye]=He),(!T.font[Ye]||lt!=T.font[Ye].baseString)&&(a=!0,T.font[Ye]=b.fonts[lt],!T.font[Ye])){var Fe=ke.family.join(", "),nt=[ke.style];ke.style!=ke.variant&&nt.push(ke.variant),ke.variant!=ke.weight&&nt.push(ke.weight),v&&ke.weight!=ke.stretch&&nt.push(ke.stretch),T.font[Ye]={baseString:lt,family:Fe,weight:ke.weight,stretch:ke.stretch,style:ke.style,variant:ke.variant,width:{},kerning:{},metrics:g(Fe,{origin:"top",fontSize:b.baseFontSize,fontStyle:nt.join(" ")})},b.fonts[lt]=T.font[Ye]}}),(a||E)&&this.font.forEach(function(ke,Ye){var lt=x.stringify({size:T.fontSize[Ye],family:ke.family,stretch:v?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style});if(T.fontAtlas[Ye]=T.shader.atlas[lt],!T.fontAtlas[Ye]){var yt=ke.metrics;T.shader.atlas[lt]=T.fontAtlas[Ye]={fontString:lt,step:Math.ceil(T.fontSize[Ye]*yt.bottom*.5)*2,em:T.fontSize[Ye],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}}S.text==null&&(S.text=T.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var p=Array(S.position.length*.5),k=0;k<p.length;k++)p[k]=S.text;S.text=p}var R;if(S.text!=null||a){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var B=1;B<S.text.length;B++)this.textOffsets[B]=this.textOffsets[B-1]+S.text[B-1].length,this.count+=S.text[B].length,this.counts.push(S.text[B].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];R=[],this.font.forEach(function(ke,Ye){b.atlasContext.font=ke.baseString;for(var lt=T.fontAtlas[Ye],yt=0;yt<T.text.length;yt++){var He=T.text.charAt(yt);if(lt.ids[He]==null&&(lt.ids[He]=lt.chars.length,lt.chars.push(He),R.push(He)),ke.width[He]==null&&(ke.width[He]=b.atlasContext.measureText(He).width/b.baseFontSize,T.kerning)){var Fe=[];for(var nt in ke.width)Fe.push(nt+He,He+nt);f(ke.kerning,l(ke.family,{pairs:Fe}))}}})}if(S.position)if(S.position.length>2){for(var F=!S.position[0].length,_=r.mallocFloat(this.count*2),O=0,z=0;O<this.counts.length;O++){var N=this.counts[O];if(F)for(var Y=0;Y<N;Y++)_[z++]=S.position[O*2],_[z++]=S.position[O*2+1];else for(var J=0;J<N;J++)_[z++]=S.position[O][0],_[z++]=S.position[O][1]}this.position.call?this.position({type:"float",data:_}):this.position=this.regl.buffer({type:"float",data:_}),r.freeFloat(_)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||a){var ae=r.mallocUint8(this.count),se=r.mallocFloat(this.count*2);this.textWidth=[];for(var ue=0,K=0;ue<this.counts.length;ue++){for(var j=this.counts[ue],ie=this.font[ue]||this.font[0],W=this.fontAtlas[ue]||this.fontAtlas[0],Q=0;Q<j;Q++){var ee=this.text.charAt(K),$=this.text.charAt(K-1);if(ae[K]=W.ids[ee],se[K*2]=ie.width[ee],Q){var X=se[K*2-2],oe=se[K*2],te=se[K*2-1],fe=te+X*.5+oe*.5;if(this.kerning){var pe=ie.kerning[$+ee];pe&&(fe+=pe*.001)}se[K*2+1]=fe}else se[K*2+1]=se[K*2]*.5;K++}this.textWidth.push(se.length?se[K*2-2]*.5+se[K*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:ae,type:"uint8",usage:"stream"}),this.sizeBuffer({data:se,type:"float",usage:"stream"}),r.freeUint8(ae),r.freeFloat(se),R.length&&this.font.forEach(function(ke,Ye){var lt=T.fontAtlas[Ye],yt=lt.step,He=Math.floor(b.maxAtlasSize/yt),Fe=Math.min(He,lt.chars.length),nt=Math.ceil(lt.chars.length/Fe),ot=d(Fe*yt),ct=d(nt*yt);lt.width=ot,lt.height=ct,lt.rows=nt,lt.cols=Fe,lt.em&&lt.texture({data:y({canvas:b.atlasCanvas,font:lt.fontString,chars:lt.chars,shape:[ot,ct],step:[yt,yt]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(ke,Ye){var lt=Array.isArray(T.align)?T.align.length>1?T.align[Ye]:T.align[0]:T.align;if(typeof lt=="number")return lt;switch(lt){case"right":case"end":return-ke;case"center":case"centre":case"middle":return-ke*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ke,Ye){var lt=(T.font[Ye]||T.font[0]).metrics,yt=0;return yt+=lt.bottom*.5,typeof ke=="number"?yt+=ke-lt.baseline:yt+=-lt[ke],yt*=-1,yt})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=c(S.color,"uint8");else{var Ae;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var be=S.color.length;Ae=r.mallocUint8(be);for(var Pe=(S.color.subarray||S.color.slice).bind(S.color),me=0;me<be;me+=4)Ae.set(c(Pe(me,me+4),"uint8"),me)}else{var Ee=S.color.length;Ae=r.mallocUint8(Ee*4);for(var xe=0;xe<Ee;xe++)Ae.set(c(S.color[xe]||0,"uint8"),xe*4)}this.color=Ae}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var De=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(De){var Ve=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ve);for(var Ze=0;Ze<this.batch.length;Ze++)this.batch[Ze]={count:this.counts.length>1?this.counts[Ze]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ze]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ze*4,Ze*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ze]:this.opacity,baseline:this.baselineOffset[Ze]!=null?this.baselineOffset[Ze]:this.baselineOffset[0],align:this.align?this.alignOffset[Ze]!=null?this.alignOffset[Ze]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ze]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ze*2,Ze*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},b.prototype.destroy=function(){},b.prototype.kerning=!0,b.prototype.position={constant:new Float32Array(2)},b.prototype.translate=null,b.prototype.scale=null,b.prototype.font=null,b.prototype.text="",b.prototype.positionOffset=[0,0],b.prototype.opacity=1,b.prototype.color=new Uint8Array([0,0,0,255]),b.prototype.alignOffset=[0,0],b.maxAtlasSize=1024,b.atlasCanvas=document.createElement("canvas"),b.atlasContext=b.atlasCanvas.getContext("2d",{alpha:!1}),b.baseFontSize=64,b.fonts={};function M(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}V.exports=b},55212:function(V,U,e){"use strict";var x=e(55616);V.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},i(r)?r={container:r}:L(r)?r={container:r}:C(r)?r={gl:r}:r=x(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}i(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=c(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document!="undefined")r.container=document.body||document.documentElement,r.canvas=c(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{r.gl=r.canvas.getContext(s,r.attrs)}catch(n){}return r.gl}),r.gl};function P(y){if(y.container)if(y.container==document.body)document.body.style.width||(y.canvas.width=y.width||y.pixelRatio*e.g.innerWidth),document.body.style.height||(y.canvas.height=y.height||y.pixelRatio*e.g.innerHeight);else{var r=y.container.getBoundingClientRect();y.canvas.width=y.width||r.right-r.left,y.canvas.height=y.height||r.bottom-r.top}}function i(y){return typeof y.getContext=="function"&&"width"in y&&"height"in y}function L(y){return typeof y.nodeName=="string"&&typeof y.appendChild=="function"&&typeof y.getBoundingClientRect=="function"}function C(y){return typeof y.drawArrays=="function"||typeof y.drawElements=="function"}function c(){var y=document.createElement("canvas");return y.style.position="absolute",y.style.top=0,y.style.left=0,y}},26444:function(V){V.exports=function(U){typeof U=="string"&&(U=[U]);for(var e=[].slice.call(arguments,1),x=[],P=0;P<U.length-1;P++)x.push(U[P],e[P]||"");return x.push(U[P]),x.join("")}},2304:function(V,U,e){"use strict";var x=e(53664),P=x("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch(i){P=null}V.exports=P},52264:function(V,U,e){"use strict";var x=e(24200),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=x,V.exports=P},89184:function(V,U,e){"use strict";var x=e(24200);function P(){var i=!1;try{var L=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch(C){i=!1}return i}V.exports=x&&P()},39640:function(V,U,e){"use strict";var x=e(53664),P=x("%Object.defineProperty%",!0),i=function(){if(P)try{return P({},"a",{value:1}),!0}catch(C){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return P([],"length",{value:1}).length!==1}catch(C){return!0}},V.exports=i},69572:function(V){"use strict";var U={foo:{}},e=Object;V.exports=function(){return{__proto__:U}.foo===U.foo&&!({__proto__:null}instanceof e)}},71080:function(V,U,e){"use strict";var x=typeof Symbol!="undefined"&&Symbol,P=e(89320);V.exports=function(){return typeof x!="function"||typeof Symbol!="function"||typeof x("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},89320:function(V){"use strict";V.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},x=Symbol("test"),P=Object(x);if(typeof x=="string"||Object.prototype.toString.call(x)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var i=42;e[x]=i;for(x in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==x||!Object.prototype.propertyIsEnumerable.call(e,x))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var C=Object.getOwnPropertyDescriptor(e,x);if(C.value!==i||C.enumerable!==!0)return!1}return!0}},46672:function(V,U,e){"use strict";var x=e(89320);V.exports=function(){return x()&&!!Symbol.toStringTag}},92064:function(V,U,e){"use strict";var x=Function.prototype.call,P=Object.prototype.hasOwnProperty,i=e(8844);V.exports=i.call(x,P)},35984:function(V,U){U.read=function(e,x,P,i,L){var C,c,y=L*8-i-1,r=(1<<y)-1,t=r>>1,s=-7,n=P?L-1:0,u=P?-1:1,l=e[x+n];for(n+=u,C=l&(1<<-s)-1,l>>=-s,s+=y;s>0;C=C*256+e[x+n],n+=u,s-=8);for(c=C&(1<<-s)-1,C>>=-s,s+=i;s>0;c=c*256+e[x+n],n+=u,s-=8);if(C===0)C=1-t;else{if(C===r)return c?NaN:(l?-1:1)*(1/0);c=c+Math.pow(2,i),C=C-t}return(l?-1:1)*c*Math.pow(2,C-i)},U.write=function(e,x,P,i,L,C){var c,y,r,t=C*8-L-1,s=(1<<t)-1,n=s>>1,u=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:C-1,f=i?1:-1,g=x<0||x===0&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(y=isNaN(x)?1:0,c=s):(c=Math.floor(Math.log(x)/Math.LN2),x*(r=Math.pow(2,-c))<1&&(c--,r*=2),c+n>=1?x+=u/r:x+=u*Math.pow(2,1-n),x*r>=2&&(c++,r/=2),c+n>=s?(y=0,c=s):c+n>=1?(y=(x*r-1)*Math.pow(2,L),c=c+n):(y=x*Math.pow(2,n-1)*Math.pow(2,L),c=0));L>=8;e[P+l]=y&255,l+=f,y/=256,L-=8);for(c=c<<L|y,t+=L;t>0;e[P+l]=c&255,l+=f,c/=256,t-=8);e[P+l-f]|=g*128}},6768:function(V){typeof Object.create=="function"?V.exports=function(e,x){x&&(e.super_=x,e.prototype=Object.create(x.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:V.exports=function(e,x){if(x){e.super_=x;var P=function(){};P.prototype=x.prototype,e.prototype=new P,e.prototype.constructor=e}}},91148:function(V,U,e){"use strict";var x=e(46672)(),P=e(99676),i=P("Object.prototype.toString"),L=function(r){return x&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:i(r)==="[object Arguments]"},C=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&i(r)!=="[object Array]"&&i(r.callee)==="[object Function]"},c=function(){return L(arguments)}();L.isLegacyArguments=C,V.exports=c?L:C},24200:function(V){V.exports=!0},90720:function(V){"use strict";var U=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,x,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{x=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,x)}catch(w){w!==P&&(e=null)}else e=null;var i=/^\s*class\b/,L=function(d){try{var o=U.call(d);return i.test(o)}catch(v){return!1}},C=function(d){try{return L(d)?!1:(U.call(d),!0)}catch(o){return!1}},c=Object.prototype.toString,y="[object Object]",r="[object Function]",t="[object GeneratorFunction]",s="[object HTMLAllCollection]",n="[object HTML document.all class]",u="[object HTMLCollection]",l=typeof Symbol=="function"&&!!Symbol.toStringTag,f=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var h=document.all;c.call(h)===c.call(document.all)&&(g=function(d){if((f||!d)&&(typeof d=="undefined"||typeof d=="object"))try{var o=c.call(d);return(o===s||o===n||o===u||o===y)&&d("")==null}catch(v){}return!1})}V.exports=e?function(d){if(g(d))return!0;if(!d||typeof d!="function"&&typeof d!="object")return!1;try{e(d,null,x)}catch(o){if(o!==P)return!1}return!L(d)&&C(d)}:function(d){if(g(d))return!0;if(!d||typeof d!="function"&&typeof d!="object")return!1;if(l)return C(d);if(L(d))return!1;var o=c.call(d);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:C(d)}},84420:function(V,U,e){"use strict";var x=Object.prototype.toString,P=Function.prototype.toString,i=/^\s*(?:function)?\*/,L=e(46672)(),C=Object.getPrototypeOf,c=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch(r){}},y;V.exports=function(t){if(typeof t!="function")return!1;if(i.test(P.call(t)))return!0;if(!L){var s=x.call(t);return s==="[object GeneratorFunction]"}if(!C)return!1;if(typeof y=="undefined"){var n=c();y=n?C(n):!1}return C(t)===y}},96604:function(V){"use strict";V.exports=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(V){"use strict";V.exports=function(e){return e!==e}},1560:function(V,U,e){"use strict";var x=e(57916),P=e(81288),i=e(85992),L=e(57740),C=e(59736),c=x(L(),Number);P(c,{getPolyfill:L,implementation:i,shim:C}),V.exports=c},57740:function(V,U,e){"use strict";var x=e(85992);V.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:x}},59736:function(V,U,e){"use strict";var x=e(81288),P=e(57740);V.exports=function(){var L=P();return x(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},18400:function(V){"use strict";V.exports=function(U){var e=typeof U;return U!==null&&(e==="object"||e==="function")}},58908:function(V){"use strict";var U=Object.prototype.toString;V.exports=function(e){var x;return U.call(e)==="[object Object]"&&(x=Object.getPrototypeOf(e),x===null||x===Object.getPrototypeOf({}))}},94576:function(V){"use strict";V.exports=function(U){for(var e=U.length,x,P=0;P<e;P++)if(x=U.charCodeAt(P),(x<9||x>13)&&x!==32&&x!==133&&x!==160&&x!==5760&&x!==6158&&(x<8192||x>8205)&&x!==8232&&x!==8233&&x!==8239&&x!==8287&&x!==8288&&x!==12288&&x!==65279)return!1;return!0}},53520:function(V){"use strict";V.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(V,U,e){"use strict";var x=e(46492),P=e(63436),i=e(99676),L=i("Object.prototype.toString"),C=e(46672)(),c=e(2304),y=typeof globalThis=="undefined"?e.g:globalThis,r=P(),t=i("Array.prototype.indexOf",!0)||function(g,h){for(var w=0;w<g.length;w+=1)if(g[w]===h)return w;return-1},s=i("String.prototype.slice"),n={},u=Object.getPrototypeOf;C&&c&&u&&x(r,function(f){var g=new y[f];if(Symbol.toStringTag in g){var h=u(g),w=c(h,Symbol.toStringTag);if(!w){var d=u(h);w=c(d,Symbol.toStringTag)}n[f]=w.get}});var l=function(g){var h=!1;return x(n,function(w,d){if(!h)try{h=w.call(g)===d}catch(o){}}),h};V.exports=function(g){if(!g||typeof g!="object")return!1;if(!C||!(Symbol.toStringTag in g)){var h=s(L(g),8,-1);return t(r,h)>-1}return c?l(g):!1}},76244:function(V){"use strict";V.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},62644:function(V,U,e){"use strict";V.exports=P;var x=e(93784);function P(i,L){L||(L=i,i=window);var C=0,c=0,y=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function s(A){var b=!1;return"altKey"in A&&(b=b||A.altKey!==r.alt,r.alt=!!A.altKey),"shiftKey"in A&&(b=b||A.shiftKey!==r.shift,r.shift=!!A.shiftKey),"ctrlKey"in A&&(b=b||A.ctrlKey!==r.control,r.control=!!A.ctrlKey),"metaKey"in A&&(b=b||A.metaKey!==r.meta,r.meta=!!A.metaKey),b}function n(A,b){var M=x.x(b),m=x.y(b);"buttons"in b&&(A=b.buttons|0),(A!==C||M!==c||m!==y||s(b))&&(C=A|0,c=M||0,y=m||0,L&&L(C,c,y,r))}function u(A){n(0,A)}function l(){(C||c||y||r.shift||r.alt||r.meta||r.control)&&(c=y=0,C=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function f(A){s(A)&&L&&L(C,c,y,r)}function g(A){x.buttons(A)===0?n(0,A):n(C,A)}function h(A){n(C|x.buttons(A),A)}function w(A){n(C&~x.buttons(A),A)}function d(){t||(t=!0,i.addEventListener("mousemove",g),i.addEventListener("mousedown",h),i.addEventListener("mouseup",w),i.addEventListener("mouseleave",u),i.addEventListener("mouseenter",u),i.addEventListener("mouseout",u),i.addEventListener("mouseover",u),i.addEventListener("blur",l),i.addEventListener("keyup",f),i.addEventListener("keydown",f),i.addEventListener("keypress",f),i!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",f),window.addEventListener("keydown",f),window.addEventListener("keypress",f)))}function o(){t&&(t=!1,i.removeEventListener("mousemove",g),i.removeEventListener("mousedown",h),i.removeEventListener("mouseup",w),i.removeEventListener("mouseleave",u),i.removeEventListener("mouseenter",u),i.removeEventListener("mouseout",u),i.removeEventListener("mouseover",u),i.removeEventListener("blur",l),i.removeEventListener("keyup",f),i.removeEventListener("keydown",f),i.removeEventListener("keypress",f),i!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",f),window.removeEventListener("keydown",f),window.removeEventListener("keypress",f)))}d();var v={element:i};return Object.defineProperties(v,{enabled:{get:function(){return t},set:function(A){A?d():o()},enumerable:!0},buttons:{get:function(){return C},enumerable:!0},x:{get:function(){return c},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),v}},29128:function(V){var U={left:0,top:0};V.exports=e;function e(P,i,L){i=i||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var C=P.clientX||0,c=P.clientY||0,y=x(i);return L[0]=C-y.left,L[1]=c-y.top,L}function x(P){return P===window||P===document||P===document.body?U:P.getBoundingClientRect()}},93784:function(V,U){"use strict";function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var C=L.which;if(C===2)return 4;if(C===3)return 2;if(C>0)return 1<<C-1}else if("button"in L){var C=L.button;if(C===1)return 4;if(C===2)return 2;if(C>=0)return 1<<C}}return 0}U.buttons=e;function x(L){return L.target||L.srcElement||window}U.element=x;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var C=x(L),c=C.getBoundingClientRect();return L.clientX-c.left}return 0}U.x=P;function i(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var C=x(L),c=C.getBoundingClientRect();return L.clientY-c.top}return 0}U.y=i},97264:function(V,U,e){"use strict";var x=e(23464);V.exports=P;function P(i,L,C){typeof i=="function"&&(C=!!L,L=i,i=window);var c=x("ex",i),y=function(r){C&&r.preventDefault();var t=r.deltaX||0,s=r.deltaY||0,n=r.deltaZ||0,u=r.deltaMode,l=1;switch(u){case 1:l=c;break;case 2:l=window.innerHeight;break}if(t*=l,s*=l,n*=l,t||s||n)return L(t,s,n,r)};return i.addEventListener("wheel",y),y}},88324:function(V,U,e){var x;(function(i,L,C){L[i]=L[i]||C(),V.exports?V.exports=L[i]:(x=function(){return L[i]}.call(U,e,U,V),x!==void 0&&(V.exports=x))})("Promise",typeof e.g!="undefined"?e.g:this,function(){"use strict";var i,L,C,c=Object.prototype.toString,y=typeof setImmediate!="undefined"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(v,A,b,M){return Object.defineProperty(v,A,{value:b,writable:!0,configurable:M!==!1})}}catch(o){i=function(A,b,M){return A[b]=M,A}}C=function(){var v,A,b;function M(m,S){this.fn=m,this.self=S,this.next=void 0}return{add:function(S,T){b=new M(S,T),A?A.next=b:v=b,A=b,b=void 0},drain:function(){var S=v;for(v=A=L=void 0;S;)S.fn.call(S.self),S=S.next}}}();function r(o,v){C.add(o,v),L||(L=y(C.drain))}function t(o){var v,A=typeof o;return o!=null&&(A=="object"||A=="function")&&(v=o.then),typeof v=="function"?v:!1}function s(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,v,A){var b,M;try{v===!1?A.reject(o.msg):(v===!0?b=o.msg:b=v.call(void 0,o.msg),b===A.promise?A.reject(TypeError("Promise-chain cycle")):(M=t(b))?M.call(b,A.resolve,A.reject):A.resolve(b))}catch(m){A.reject(m)}}function u(o){var v,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(v=t(o))?r(function(){var b=new g(A);try{v.call(o,function(){u.apply(b,arguments)},function(){l.apply(b,arguments)})}catch(M){l.call(b,M)}}):(A.msg=o,A.state=1,A.chain.length>0&&r(s,A))}catch(b){l.call(new g(A),b)}}}function l(o){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=o,v.state=2,v.chain.length>0&&r(s,v))}function f(o,v,A,b){for(var M=0;M<v.length;M++)(function(S){o.resolve(v[S]).then(function(a){A(S,a)},b)})(M)}function g(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var v=new h(this);this.then=function(b,M){var m={success:typeof b=="function"?b:!0,failure:typeof M=="function"?M:!1};return m.promise=new this.constructor(function(T,a){if(typeof T!="function"||typeof a!="function")throw TypeError("Not a function");m.resolve=T,m.reject=a}),v.chain.push(m),v.state!==0&&r(s,v),m.promise},this.catch=function(b){return this.then(void 0,b)};try{o.call(void 0,function(b){u.call(v,b)},function(b){l.call(v,b)})}catch(A){l.call(v,A)}}var d=i({},"constructor",w,!1);return w.prototype=d,i(d,"__NPO__",0,!1),i(w,"resolve",function(v){var A=this;return v&&typeof v=="object"&&v.__NPO__===1?v:new A(function(M,m){if(typeof M!="function"||typeof m!="function")throw TypeError("Not a function");M(v)})}),i(w,"reject",function(v){return new this(function(b,M){if(typeof b!="function"||typeof M!="function")throw TypeError("Not a function");M(v)})}),i(w,"all",function(v){var A=this;return c.call(v)!="[object Array]"?A.reject(TypeError("Not an array")):v.length===0?A.resolve([]):new A(function(M,m){if(typeof M!="function"||typeof m!="function")throw TypeError("Not a function");var S=v.length,T=Array(S),a=0;f(A,v,function(p,k){T[p]=k,++a===S&&M(T)},m)})}),i(w,"race",function(v){var A=this;return c.call(v)!="[object Array]"?A.reject(TypeError("Not an array")):new A(function(M,m){if(typeof M!="function"||typeof m!="function")throw TypeError("Not a function");f(A,v,function(T,a){M(a)},m)})}),w})},48816:function(V){var U=Math.PI,e=c(120);V.exports=x;function x(y){for(var r,t=[],s=0,n=0,u=0,l=0,f=null,g=null,h=0,w=0,d=0,o=y.length;d<o;d++){var v=y[d],A=v[0];switch(A){case"M":u=v[1],l=v[2];break;case"A":v=L(h,w,v[1],v[2],c(v[3]),v[4],v[5],v[6],v[7]),v.unshift("C"),v.length>7&&(t.push(v.splice(0,7)),v.unshift("C"));break;case"S":var b=h,M=w;(r=="C"||r=="S")&&(b+=b-s,M+=M-n),v=["C",b,M,v[1],v[2],v[3],v[4]];break;case"T":r=="Q"||r=="T"?(f=h*2-f,g=w*2-g):(f=h,g=w),v=i(h,w,f,g,v[1],v[2]);break;case"Q":f=v[1],g=v[2],v=i(h,w,v[1],v[2],v[3],v[4]);break;case"L":v=P(h,w,v[1],v[2]);break;case"H":v=P(h,w,v[1],w);break;case"V":v=P(h,w,h,v[1]);break;case"Z":v=P(h,w,u,l);break}r=A,h=v[v.length-2],w=v[v.length-1],v.length>4?(s=v[v.length-4],n=v[v.length-3]):(s=h,n=w),t.push(v)}return t}function P(y,r,t,s){return["C",y,r,t,s,t,s]}function i(y,r,t,s,n,u){return["C",y/3+.6666666666666666*t,r/3+.6666666666666666*s,n/3+.6666666666666666*t,u/3+.6666666666666666*s,n,u]}function L(y,r,t,s,n,u,l,f,g,h){if(h)T=h[0],a=h[1],m=h[2],S=h[3];else{var w=C(y,r,-n);y=w.x,r=w.y,w=C(f,g,-n),f=w.x,g=w.y;var d=(y-f)/2,o=(r-g)/2,v=d*d/(t*t)+o*o/(s*s);v>1&&(v=Math.sqrt(v),t=v*t,s=v*s);var A=t*t,b=s*s,M=(u==l?-1:1)*Math.sqrt(Math.abs((A*b-A*o*o-b*d*d)/(A*o*o+b*d*d)));M==1/0&&(M=1);var m=M*t*o/s+(y+f)/2,S=M*-s*d/t+(r+g)/2,T=Math.asin(((r-S)/s).toFixed(9)),a=Math.asin(((g-S)/s).toFixed(9));T=y<m?U-T:T,a=f<m?U-a:a,T<0&&(T=U*2+T),a<0&&(a=U*2+a),l&&T>a&&(T=T-U*2),!l&&a>T&&(a=a-U*2)}if(Math.abs(a-T)>e){var E=a,p=f,k=g;a=T+e*(l&&a>T?1:-1),f=m+t*Math.cos(a),g=S+s*Math.sin(a);var R=L(f,g,t,s,n,0,l,p,k,[a,E,m,S])}var B=Math.tan((a-T)/4),F=4/3*t*B,_=4/3*s*B,O=[2*y-(y+F*Math.sin(T)),2*r-(r-_*Math.cos(T)),f+F*Math.sin(a),g-_*Math.cos(a),f,g];if(h)return O;R&&(O=O.concat(R));for(var z=0;z<O.length;){var N=C(O[z],O[z+1],n);O[z++]=N.x,O[z++]=N.y}return O}function C(y,r,t){return{x:y*Math.cos(t)-r*Math.sin(t),y:y*Math.sin(t)+r*Math.cos(t)}}function c(y){return y*(U/180)}},50896:function(V){"use strict";var U=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function i(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var C={},c=0;c<10;c++)C["_"+String.fromCharCode(c)]=c;var y=Object.getOwnPropertyNames(C).map(function(t){return C[t]});if(y.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch(t){return!1}}V.exports=i()?Object.assign:function(L,C){for(var c,y=P(L),r,t=1;t<arguments.length;t++){c=Object(arguments[t]);for(var s in c)e.call(c,s)&&(y[s]=c[s]);if(U){r=U(c);for(var n=0;n<r.length;n++)x.call(c,r[n])&&(y[r[n]]=c[r[n]])}}return y}},76835:function(V){"use strict";var U=function(e){return e!==e};V.exports=function(x,P){return x===0&&P===0?1/x===1/P:!!(x===P||U(x)&&U(P))}},39896:function(V,U,e){"use strict";var x=e(81288),P=e(57916),i=e(76835),L=e(66148),C=e(16408),c=P(L(),Object);x(c,{getPolyfill:L,implementation:i,shim:C}),V.exports=c},66148:function(V,U,e){"use strict";var x=e(76835);V.exports=function(){return typeof Object.is=="function"?Object.is:x}},16408:function(V,U,e){"use strict";var x=e(66148),P=e(81288);V.exports=function(){var L=x();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},32764:function(V,U,e){"use strict";var x;if(!Object.keys){var P=Object.prototype.hasOwnProperty,i=Object.prototype.toString,L=e(97344),C=Object.prototype.propertyIsEnumerable,c=!C.call({toString:null},"toString"),y=C.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(l){var f=l.constructor;return f&&f.prototype===l},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window=="undefined")return!1;for(var l in window)try{if(!s["$"+l]&&P.call(window,l)&&window[l]!==null&&typeof window[l]=="object")try{t(window[l])}catch(f){return!0}}catch(f){return!0}return!1}(),u=function(l){if(typeof window=="undefined"||!n)return t(l);try{return t(l)}catch(f){return!1}};x=function(f){var g=f!==null&&typeof f=="object",h=i.call(f)==="[object Function]",w=L(f),d=g&&i.call(f)==="[object String]",o=[];if(!g&&!h&&!w)throw new TypeError("Object.keys called on a non-object");var v=y&&h;if(d&&f.length>0&&!P.call(f,0))for(var A=0;A<f.length;++A)o.push(String(A));if(w&&f.length>0)for(var b=0;b<f.length;++b)o.push(String(b));else for(var M in f)!(v&&M==="prototype")&&P.call(f,M)&&o.push(String(M));if(c)for(var m=u(f),S=0;S<r.length;++S)!(m&&r[S]==="constructor")&&P.call(f,r[S])&&o.push(r[S]);return o}}V.exports=x},41820:function(V,U,e){"use strict";var x=Array.prototype.slice,P=e(97344),i=Object.keys,L=i?function(y){return i(y)}:e(32764),C=Object.keys;L.shim=function(){if(Object.keys){var y=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);y||(Object.keys=function(t){return P(t)?C(x.call(t)):C(t)})}else Object.keys=L;return Object.keys||L},V.exports=L},97344:function(V){"use strict";var U=Object.prototype.toString;V.exports=function(x){var P=U.call(x),i=P==="[object Arguments]";return i||(i=P!=="[object Array]"&&x!==null&&typeof x=="object"&&typeof x.length=="number"&&x.length>=0&&U.call(x.callee)==="[object Function]"),i}},32868:function(V){"use strict";function U(P,i){if(typeof P!="string")return[P];var L=[P];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var C=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],c=i.escape||"___",y=!!i.flat;C.forEach(function(s){var n=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),u=[];function l(f,g,h){var w=L.push(f.slice(s[0].length,-s[1].length))-1;return u.push(w),c+w+c}L.forEach(function(f,g){for(var h,w=0;f!=h;)if(h=f,f=f.replace(n,l),w++>1e4)throw Error("References have circular dependency. Please, check them.");L[g]=f}),u=u.reverse(),L=L.map(function(f){return u.forEach(function(g){f=f.replace(new RegExp("(\\"+c+g+"\\"+c+")","g"),s[0]+"$1"+s[1])}),f})});var r=new RegExp("\\"+c+"([0-9]+)\\"+c);function t(s,n,u){for(var l=[],f,g=0;f=r.exec(s);){if(g++>1e4)throw Error("Circular references in parenthesis");l.push(s.slice(0,f.index)),l.push(t(n[f[1]],n)),s=s.slice(f.index+f[0].length)}return l.push(s),l}return y?L:t(L[0],L)}function e(P,i){if(i&&i.flat){var L=i&&i.escape||"___",C=P[0],c;if(!C)return"";for(var y=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;C!=c;){if(r++>1e4)throw Error("Circular references in "+P);c=C,C=C.replace(y,t)}return C}return P.reduce(function s(n,u){return Array.isArray(u)&&(u=u.reduce(s,"")),n+u},"");function t(s,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function x(P,i){return Array.isArray(P)?e(P,i):U(P,i)}x.parse=U,x.stringify=e,V.exports=x},51160:function(V,U,e){"use strict";var x=e(55616);V.exports=P;function P(i){var L;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?L={width:i[0],height:i[0],x:0,y:0}:i.length===2?L={width:i[0],height:i[1],x:0,y:0}:L={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=x(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:i.left||0,y:i.top||0},i.width==null?i.right?L.width=i.right-L.x:L.width=0:L.width=i.width,i.height==null?i.bottom?L.height=i.bottom-L.y:L.height=0:L.height=i.height),L}},21984:function(V){V.exports=x;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function x(L){var C=[];return L.replace(e,function(c,y,r){var t=y.toLowerCase();for(r=i(r),t=="m"&&r.length>2&&(C.push([y].concat(r.splice(0,2))),t="l",y=y=="m"?"l":"L");;){if(r.length==U[t])return r.unshift(y),C.push(r);if(r.length<U[t])throw new Error("malformed path data");C.push([y].concat(r.splice(0,U[t])))}}),C}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(L){var C=L.match(P);return C?C.map(Number):[]}},65819:function(V){V.exports=function(e,x){x||(x=[0,""]),e=String(e);var P=parseFloat(e,10);return x[0]=P,x[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",x}},41984:function(V,U,e){var x=e(4168);(function(){var P,i,L,C,c,y;typeof performance!="undefined"&&performance!==null&&performance.now?V.exports=function(){return performance.now()}:typeof x!="undefined"&&x!==null&&x.hrtime?(V.exports=function(){return(P()-c)/1e6},i=x.hrtime,P=function(){var r;return r=i(),r[0]*1e9+r[1]},C=P(),y=x.uptime()*1e9,c=C-y):Date.now?(V.exports=function(){return Date.now()-L},L=Date.now()):(V.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},55616:function(V){"use strict";V.exports=function(P,i,L){var C={},c,y;if(typeof i=="string"&&(i=e(i)),Array.isArray(i)){var r={};for(y=0;y<i.length;y++)r[i[y]]=!0;i=r}for(c in i)i[c]=e(i[c]);var t={};for(c in i){var s=i[c];if(Array.isArray(s))for(y=0;y<s.length;y++){var n=s[y];if(L&&(t[n]=!0),n in P){if(C[c]=P[n],L)for(var u=y;u<s.length;u++)t[s[u]]=!0;break}}else c in P&&(i[c]&&(C[c]=P[c]),L&&(t[c]=!0))}if(L)for(c in P)t[c]||(C[c]=P[c]);return C};var U={};function e(x){return U[x]?U[x]:(typeof x=="string"&&(x=U[x]=x.split(/\s*,\s*|\s+/)),x)}},61456:function(V){V.exports=function(e,x,P,i){var L=e[0],C=e[1],c=!1;P===void 0&&(P=0),i===void 0&&(i=x.length);for(var y=i-P,r=0,t=y-1;r<y;t=r++){var s=x[r+P][0],n=x[r+P][1],u=x[t+P][0],l=x[t+P][1],f=n>C!=l>C&&L<(u-s)*(C-n)/(l-n)+s;f&&(c=!c)}return c}},14756:function(V,U,e){var x=e(7688),P=e(28648),i=e(72200),L=e(11403),C=e(82368),c=e(17792),y=!1,r=P(),t;t={buildLog:function(n){return n===!0?y=x():n===!1&&(y=!1),y===!1?!1:y.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var u=i(!0,r,y);return n.regions.forEach(u.addRegion),{segments:u.calculate(n.inverted),inverted:n.inverted}},combine:function(n,u){var l=i(!1,r,y);return{combined:l.calculate(n.segments,n.inverted,u.segments,u.inverted),inverted1:n.inverted,inverted2:u.inverted}},selectUnion:function(n){return{segments:C.union(n.combined,y),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:C.intersect(n.combined,y),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:C.difference(n.combined,y),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:C.differenceRev(n.combined,y),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:C.xor(n.combined,y),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,y),inverted:n.inverted}},polygonFromGeoJSON:function(n){return c.toPolygon(t,n)},polygonToGeoJSON:function(n){return c.fromPolygon(t,r,n)},union:function(n,u){return s(n,u,t.selectUnion)},intersect:function(n,u){return s(n,u,t.selectIntersect)},difference:function(n,u){return s(n,u,t.selectDifference)},differenceRev:function(n,u){return s(n,u,t.selectDifferenceRev)},xor:function(n,u){return s(n,u,t.selectXor)}};function s(n,u,l){var f=t.segments(n),g=t.segments(u),h=t.combine(f,g),w=l(h);return t.polygon(w)}typeof window=="object"&&(window.PolyBool=t),V.exports=t},7688:function(V){function U(){var e,x=0,P=!1;function i(L,C){return e.list.push({type:L,data:C?JSON.parse(JSON.stringify(C)):void 0}),e}return e={list:[],segmentId:function(){return x++},checkIntersection:function(L,C){return i("check",{seg1:L,seg2:C})},segmentChop:function(L,C){return i("div_seg",{seg:L,pt:C}),i("chop",{seg:L,pt:C})},statusRemove:function(L){return i("pop_seg",{seg:L})},segmentUpdate:function(L){return i("seg_update",{seg:L})},segmentNew:function(L,C){return i("new_seg",{seg:L,primary:C})},segmentRemove:function(L){return i("rem_seg",{seg:L})},tempStatus:function(L,C,c){return i("temp_status",{seg:L,above:C,below:c})},rewind:function(L){return i("rewind",{seg:L})},status:function(L,C,c){return i("status",{seg:L,above:C,below:c})},vert:function(L){return L===P?e:(P=L,i("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),i("log",{txt:L})},reset:function(){return i("reset")},selected:function(L){return i("selected",{segs:L})},chainStart:function(L){return i("chain_start",{seg:L})},chainRemoveHead:function(L,C){return i("chain_rem_head",{index:L,pt:C})},chainRemoveTail:function(L,C){return i("chain_rem_tail",{index:L,pt:C})},chainNew:function(L,C){return i("chain_new",{pt1:L,pt2:C})},chainMatch:function(L){return i("chain_match",{index:L})},chainClose:function(L){return i("chain_close",{index:L})},chainAddHead:function(L,C){return i("chain_add_head",{index:L,pt:C})},chainAddTail:function(L,C){return i("chain_add_tail",{index:L,pt:C})},chainConnect:function(L,C){return i("chain_con",{index1:L,index2:C})},chainReverse:function(L){return i("chain_rev",{index:L})},chainJoin:function(L,C){return i("chain_join",{index1:L,index2:C})},done:function(){return i("done")}},e}V.exports=U},28648:function(V){function U(e){typeof e!="number"&&(e=1e-10);var x={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,i,L){var C=i[0],c=i[1],y=L[0],r=L[1],t=P[0],s=P[1];return(y-C)*(s-c)-(r-c)*(t-C)>=-e},pointBetween:function(P,i,L){var C=P[1]-i[1],c=L[0]-i[0],y=P[0]-i[0],r=L[1]-i[1],t=y*c+C*r;if(t<e)return!1;var s=c*c+r*r;return!(t-s>-e)},pointsSameX:function(P,i){return Math.abs(P[0]-i[0])<e},pointsSameY:function(P,i){return Math.abs(P[1]-i[1])<e},pointsSame:function(P,i){return x.pointsSameX(P,i)&&x.pointsSameY(P,i)},pointsCompare:function(P,i){return x.pointsSameX(P,i)?x.pointsSameY(P,i)?0:P[1]<i[1]?-1:1:P[0]<i[0]?-1:1},pointsCollinear:function(P,i,L){var C=P[0]-i[0],c=P[1]-i[1],y=i[0]-L[0],r=i[1]-L[1];return Math.abs(C*r-y*c)<e},linesIntersect:function(P,i,L,C){var c=i[0]-P[0],y=i[1]-P[1],r=C[0]-L[0],t=C[1]-L[1],s=c*t-y*r;if(Math.abs(s)<e)return!1;var n=P[0]-L[0],u=P[1]-L[1],l=(r*u-t*n)/s,f=(c*u-y*n)/s,g={alongA:0,alongB:0,pt:[P[0]+l*c,P[1]+l*y]};return l<=-e?g.alongA=-2:l<e?g.alongA=-1:l-1<=-e?g.alongA=0:l-1<e?g.alongA=1:g.alongA=2,f<=-e?g.alongB=-2:f<e?g.alongB=-1:f-1<=-e?g.alongB=0:f-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(P,i){for(var L=P[0],C=P[1],c=i[i.length-1][0],y=i[i.length-1][1],r=!1,t=0;t<i.length;t++){var s=i[t][0],n=i[t][1];n-C>e!=y-C>e&&(c-s)*(C-n)/(y-n)+s-L>e&&(r=!r),c=s,y=n}return r}};return x}V.exports=U},17792:function(V){var U={toPolygon:function(e,x){function P(C){if(C.length<=0)return e.segments({inverted:!1,regions:[]});function c(t){var s=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[s]})}for(var y=c(C[0]),r=1;r<C.length;r++)y=e.selectDifference(e.combine(y,c(C[r])));return y}if(x.type==="Polygon")return e.polygon(P(x.coordinates));if(x.type==="MultiPolygon"){for(var i=e.segments({inverted:!1,regions:[]}),L=0;L<x.coordinates.length;L++)i=e.selectUnion(e.combine(i,P(x.coordinates[L])));return e.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,x,P){P=e.polygon(e.segments(P));function i(l,f){return x.pointInsideRegion([(l[0][0]+l[1][0])*.5,(l[0][1]+l[1][1])*.5],f)}function L(l){return{region:l,children:[]}}var C=L(null);function c(l,f){for(var g=0;g<l.children.length;g++){var h=l.children[g];if(i(f,h.region)){c(h,f);return}}for(var w=L(f),g=0;g<l.children.length;g++){var h=l.children[g];i(h.region,f)&&(w.children.push(h),l.children.splice(g,1),g--)}l.children.push(w)}for(var y=0;y<P.regions.length;y++){var r=P.regions[y];r.length<3||c(C,r)}function t(l,f){for(var g=0,h=l[l.length-1][0],w=l[l.length-1][1],d=[],o=0;o<l.length;o++){var v=l[o][0],A=l[o][1];d.push([v,A]),g+=A*h-v*w,h=v,w=A}var b=g<0;return b!==f&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var s=[];function n(l){var f=[t(l.region,!1)];s.push(f);for(var g=0;g<l.children.length;g++)f.push(u(l.children[g]))}function u(l){for(var f=0;f<l.children.length;f++)n(l.children[f]);return t(l.region,!0)}for(var y=0;y<C.children.length;y++)n(C.children[y]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};V.exports=U},72200:function(V,U,e){var x=e(48088);function P(i,L,C){function c(w,d){return{id:C?C.segmentId():-1,start:w,end:d,myFill:{above:null,below:null},otherFill:null}}function y(w,d,o){return{id:C?C.segmentId():-1,start:w,end:d,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=x.create();function t(w,d,o,v,A,b){var M=L.pointsCompare(d,A);return M!==0?M:L.pointsSame(o,b)?0:w!==v?w?1:-1:L.pointAboveOrOnLine(o,v?A:b,v?b:A)?1:-1}function s(w,d){r.insertBefore(w,function(o){var v=t(w.isStart,w.pt,d,o.isStart,o.pt,o.other.pt);return v<0})}function n(w,d){var o=x.node({isStart:!0,pt:w.start,seg:w,primary:d,other:null,status:null});return s(o,w.end),o}function u(w,d,o){var v=x.node({isStart:!1,pt:d.end,seg:d,primary:o,other:w,status:null});w.other=v,s(v,w.pt)}function l(w,d){var o=n(w,d);return u(o,w,d),o}function f(w,d){C&&C.segmentChop(w.seg,d),w.other.remove(),w.seg.end=d,w.other.pt=d,s(w.other,w.pt)}function g(w,d){var o=y(d,w.seg.end,w.seg);return f(w,d),l(o,w.primary)}function h(w,d){var o=x.create();function v(_,O){var z=_.seg.start,N=_.seg.end,Y=O.seg.start,J=O.seg.end;return L.pointsCollinear(z,Y,J)?L.pointsCollinear(N,Y,J)||L.pointAboveOrOnLine(N,Y,J)?1:-1:L.pointAboveOrOnLine(z,Y,J)?1:-1}function A(_){return o.findTransition(function(O){var z=v(_,O.ev);return z>0})}function b(_,O){var z=_.seg,N=O.seg,Y=z.start,J=z.end,ae=N.start,se=N.end;C&&C.checkIntersection(z,N);var ue=L.linesIntersect(Y,J,ae,se);if(ue===!1){if(!L.pointsCollinear(Y,J,ae)||L.pointsSame(Y,se)||L.pointsSame(J,ae))return!1;var K=L.pointsSame(Y,ae),j=L.pointsSame(J,se);if(K&&j)return O;var ie=!K&&L.pointBetween(Y,ae,se),W=!j&&L.pointBetween(J,ae,se);if(K)return W?g(O,J):g(_,se),O;ie&&(j||(W?g(O,J):g(_,se)),g(O,Y))}else ue.alongA===0&&(ue.alongB===-1?g(_,ae):ue.alongB===0?g(_,ue.pt):ue.alongB===1&&g(_,se)),ue.alongB===0&&(ue.alongA===-1?g(O,Y):ue.alongA===0?g(O,ue.pt):ue.alongA===1&&g(O,J));return!1}for(var M=[];!r.isEmpty();){var m=r.getHead();if(C&&C.vert(m.pt[0]),m.isStart){let _=function(){if(T){var O=b(m,T);if(O)return O}return a?b(m,a):!1};var F=_;C&&C.segmentNew(m.seg,m.primary);var S=A(m),T=S.before?S.before.ev:null,a=S.after?S.after.ev:null;C&&C.tempStatus(m.seg,T?T.seg:!1,a?a.seg:!1);var E=_();if(E){if(i){var p;m.seg.myFill.below===null?p=!0:p=m.seg.myFill.above!==m.seg.myFill.below,p&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=m.seg.myFill;C&&C.segmentUpdate(E.seg),m.other.remove(),m.remove()}if(r.getHead()!==m){C&&C.rewind(m.seg);continue}if(i){var p;m.seg.myFill.below===null?p=!0:p=m.seg.myFill.above!==m.seg.myFill.below,a?m.seg.myFill.below=a.seg.myFill.above:m.seg.myFill.below=w,p?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var k;a?m.primary===a.primary?k=a.seg.otherFill.above:k=a.seg.myFill.above:k=m.primary?d:w,m.seg.otherFill={above:k,below:k}}C&&C.status(m.seg,T?T.seg:!1,a?a.seg:!1),m.other.status=S.insert(x.node({ev:m}))}else{var R=m.status;if(R===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(R.prev)&&o.exists(R.next)&&b(R.prev.ev,R.next.ev),C&&C.statusRemove(R.ev.seg),R.remove(),!m.primary){var B=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=B}M.push(m.seg)}r.getHead().remove()}return C&&C.done(),M}return i?{addRegion:function(w){for(var d,o=w[w.length-1],v=0;v<w.length;v++){d=o,o=w[v];var A=L.pointsCompare(d,o);A!==0&&l(c(A<0?d:o,A<0?o:d),!0)}},calculate:function(w){return h(w,!1)}}:{calculate:function(w,d,o,v){return w.forEach(function(A){l(y(A.start,A.end,A),!0)}),o.forEach(function(A){l(y(A.start,A.end,A),!1)}),h(d,v)}}}V.exports=P},48088:function(V){var U={create:function(){var e={root:{root:!0,next:null},exists:function(x){return!(x===null||x===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(x,P){for(var i=e.root,L=e.root.next;L!==null;){if(P(L)){x.prev=L.prev,x.next=L,L.prev.next=x,L.prev=x;return}i=L,L=L.next}i.next=x,x.prev=i,x.next=null},findTransition:function(x){for(var P=e.root,i=e.root.next;i!==null&&!x(i);)P=i,i=i.next;return{before:P===e.root?null:P,after:i,insert:function(L){return L.prev=P,L.next=i,P.next=L,i!==null&&(i.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};V.exports=U},11403:function(V){function U(e,x,P){var i=[],L=[];return e.forEach(function(C){var c=C.start,y=C.end;if(x.pointsSame(c,y)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(C);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},s=r;function n(k,R,B){return s.index=k,s.matches_head=R,s.matches_pt1=B,s===r?(s=t,!1):(s=null,!0)}for(var u=0;u<i.length;u++){var l=i[u],f=l[0],g=l[1],h=l[l.length-1],w=l[l.length-2];if(x.pointsSame(f,c)){if(n(u,!0,!0))break}else if(x.pointsSame(f,y)){if(n(u,!0,!1))break}else if(x.pointsSame(h,c)){if(n(u,!1,!0))break}else if(x.pointsSame(h,y)&&n(u,!1,!1))break}if(s===r){i.push([c,y]),P&&P.chainNew(c,y);return}if(s===t){P&&P.chainMatch(r.index);var d=r.index,o=r.matches_pt1?y:c,v=r.matches_head,l=i[d],A=v?l[0]:l[l.length-1],b=v?l[1]:l[l.length-2],M=v?l[l.length-1]:l[0],m=v?l[l.length-2]:l[1];if(x.pointsCollinear(b,A,o)&&(v?(P&&P.chainRemoveHead(r.index,o),l.shift()):(P&&P.chainRemoveTail(r.index,o),l.pop()),A=b),x.pointsSame(M,o)){i.splice(d,1),x.pointsCollinear(m,M,A)&&(v?(P&&P.chainRemoveTail(r.index,A),l.pop()):(P&&P.chainRemoveHead(r.index,A),l.shift())),P&&P.chainClose(r.index),L.push(l);return}v?(P&&P.chainAddHead(r.index,o),l.unshift(o)):(P&&P.chainAddTail(r.index,o),l.push(o));return}function S(k){P&&P.chainReverse(k),i[k].reverse()}function T(k,R){var B=i[k],F=i[R],_=B[B.length-1],O=B[B.length-2],z=F[0],N=F[1];x.pointsCollinear(O,_,z)&&(P&&P.chainRemoveTail(k,_),B.pop(),_=O),x.pointsCollinear(_,z,N)&&(P&&P.chainRemoveHead(R,z),F.shift()),P&&P.chainJoin(k,R),i[k]=B.concat(F),i.splice(R,1)}var a=r.index,E=t.index;P&&P.chainConnect(a,E);var p=i[a].length<i[E].length;r.matches_head?t.matches_head?p?(S(a),T(a,E)):(S(E),T(E,a)):T(E,a):t.matches_head?T(a,E):p?(S(a),T(E,a)):(S(E),T(a,E))}),L}V.exports=U},82368:function(V){function U(x,P,i){var L=[];return x.forEach(function(C){var c=(C.myFill.above?8:0)+(C.myFill.below?4:0)+(C.otherFill&&C.otherFill.above?2:0)+(C.otherFill&&C.otherFill.below?1:0);P[c]!==0&&L.push({id:i?i.segmentId():-1,start:C.start,end:C.end,myFill:{above:P[c]===1,below:P[c]===2},otherFill:null})}),i&&i.selected(L),L}var e={union:function(x,P){return U(x,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(x,P){return U(x,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(x,P){return U(x,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(x,P){return U(x,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(x,P){return U(x,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};V.exports=e},9696:function(V,U,e){"use strict";var x,P=e(29936).Transform,i=e(55619);function L(){P.call(this,{readableObjectMode:!0})}L.prototype=Object.create(P.prototype),L.prototype.constructor=L,i(L.prototype),x=L,U.gS=function(c,y,r){for(var t=y,s=0;s<r.length;)if(c[t++]!==r[s++])return!1;return!0},U.wR=function(c,y){var r=[],t=0;if(y&&y==="hex")for(;t<c.length;)r.push(parseInt(c.slice(t,t+2),16)),t+=2;else for(;t<c.length;t++)r.push(c.charCodeAt(t)&255);return r},U.Bz=function(c,y){return c[y]|c[y+1]<<8},U.eW=function(c,y){return c[y+1]|c[y]<<8},U.st=function(c,y){return c[y]|c[y+1]<<8|c[y+2]<<16|c[y+3]*16777216},U.eI=function(c,y){return c[y+3]|c[y+2]<<8|c[y+1]<<16|c[y]*16777216};function C(c,y,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=c,y&&(this.code=y),r&&(this.statusCode=r)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C,x=C},11688:function(V){"use strict";function U(P,i){var L=new Error(P);return L.code=i,L}function e(P){try{return decodeURIComponent(escape(P))}catch(i){return P}}function x(P,i,L){this.input=P.subarray(i,L),this.start=i;var C=String.fromCharCode.apply(null,this.input.subarray(0,4));if(C!=="II*\0"&&C!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=C[0]==="M"}x.prototype.each=function(P){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},x.prototype.read_uint16=function(P){var i=this.input;if(P+2>i.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?i[P]*256+i[P+1]:i[P]+i[P+1]*256},x.prototype.read_uint32=function(P){var i=this.input;if(P+4>i.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?i[P]*16777216+i[P+1]*65536+i[P+2]*256+i[P+3]:i[P]+i[P+1]*256+i[P+2]*65536+i[P+3]*16777216},x.prototype.is_subifd_link=function(P,i){return P===0&&i===34665||P===0&&i===34853||P===34665&&i===40965},x.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},x.prototype.exif_format_read=function(P,i){var L;switch(P){case 1:case 2:return L=this.input[i],L;case 6:return L=this.input[i],L|(L&128)*33554430;case 3:return L=this.read_uint16(i),L;case 8:return L=this.read_uint16(i),L|(L&32768)*131070;case 4:return L=this.read_uint32(i),L;case 9:return L=this.read_uint32(i),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},x.prototype.scan_ifd=function(P,i,L){var C=this.read_uint16(i);i+=2;for(var c=0;c<C;c++){var y=this.read_uint16(i),r=this.read_uint16(i+2),t=this.read_uint32(i+4),s=this.exif_format_length(r),n=t*s,u=n<=4?i+8:this.read_uint32(i+8),l=!1;if(u+n>this.input.length)throw U("unexpected EOF","EBADDATA");for(var f=[],g=u,h=0;h<t;h++,g+=s){var w=this.exif_format_read(r,g);if(w===null){f=null;break}f.push(w)}Array.isArray(f)&&r===2&&(f=e(String.fromCharCode.apply(null,f)),f&&f[f.length-1]==="\0"&&(f=f.slice(0,-1))),this.is_subifd_link(P,y)&&Array.isArray(f)&&Number.isInteger(f[0])&&f[0]>0&&(this.ifds_to_read.push({id:y,offset:f[0]}),l=!0);var d={is_big_endian:this.big_endian,ifd:P,tag:y,format:r,count:t,entry_offset:i+this.start,data_length:n,data_offset:u+this.start,value:f,is_subifd_link:l};if(L(d)===!1){this.aborted=!0;return}i+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},V.exports.ExifParser=x,V.exports.get_orientation=function(P){var i=0;try{return new x(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return i=L.value[0],!1}),i}catch(L){return-1}}},44600:function(V,U,e){"use strict";var x=e(9696).eW,P=e(9696).eI;function i(n,u){if(n.length<4+u)return null;var l=P(n,u);return n.length<l+u||l<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(u+4,u+8)),data:n.slice(u+8,u+l),end:u+l}}V.exports.unbox=i;function L(n,u){for(var l=0;;){var f=i(n,l);if(!f)break;switch(f.boxtype){case"ispe":u.sizes.push({width:P(f.data,4),height:P(f.data,8)});break;case"irot":u.transforms.push({type:"irot",value:f.data[0]&3});break;case"imir":u.transforms.push({type:"imir",value:f.data[0]&1});break}l=f.end}}function C(n,u,l){for(var f=0,g=0;g<l;g++)f=f*256+(n[u+g]||0);return f}function c(n,u){for(var l=n[4]>>4&15,f=n[4]&15,g=n[5]>>4&15,h=x(n,6),w=8,d=0;d<h;d++){var o=x(n,w);w+=2;var v=x(n,w);w+=2;var A=C(n,w,g);w+=g;var b=x(n,w);if(w+=2,v===0&&b===1){var M=C(n,w,l),m=C(n,w+l,f);u.item_loc[o]={length:m,offset:M+A}}w+=b*(l+f)}}function y(n,u){for(var l=x(n,4),f=6,g=0;g<l;g++){var h=i(n,f);if(!h)break;if(h.boxtype==="infe"){for(var w=x(h.data,4),d="",o=8;o<h.data.length&&h.data[o];o++)d+=String.fromCharCode(h.data[o]);u.item_inf[d]=w}f=h.end}}function r(n,u){for(var l=0;;){var f=i(n,l);if(!f)break;f.boxtype==="ipco"&&L(f.data,u),l=f.end}}function t(n,u){for(var l=4;;){var f=i(n,l);if(!f)break;f.boxtype==="iprp"&&r(f.data,u),f.boxtype==="iloc"&&c(f.data,u),f.boxtype==="iinf"&&y(f.data,u),l=f.end}}function s(n){var u=n.reduce(function(g,h){return g.width>h.width||g.width===h.width&&g.height>h.height?g:h}),l=n.reduce(function(g,h){return g.height>h.height||g.height===h.height&&g.width>h.width?g:h}),f;return u.width>l.height||u.width===l.height&&u.height>l.width?f=u:f=l,f}V.exports.readSizeFromMeta=function(n){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,u),!!u.sizes.length){var l=s(u.sizes),f=1;u.transforms.forEach(function(h){var w={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},d={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?f=d[f]:(f=d[f],f=w[f],f=w[f])),h.type==="irot")for(var o=0;o<h.value;o++)f=w[f]});var g=null;return u.item_inf.Exif&&(g=u.item_loc[u.item_inf.Exif]),{width:l.width,height:l.height,orientation:u.transforms.length?f:null,variants:u.sizes,exif_location:g}}},V.exports.getMimeType=function(n){var u=String.fromCharCode.apply(null,n.slice(0,4)),l={};l[u]=!0;for(var f=8;f<n.length;f+=4)l[String.fromCharCode.apply(null,n.slice(f,f+4))]=!0;if(!(!l.mif1&&!l.msf1&&!l.miaf))return u==="avif"||u==="avis"||u==="avio"?{type:"avif",mime:"image/avif"}:u==="heic"||u==="heix"?{type:"heic",mime:"image/heic"}:u==="hevc"||u==="hevx"?{type:"heic",mime:"image/heic-sequence"}:l.avif||l.avis?{type:"avif",mime:"image/avif"}:l.heic||l.heix||l.hevc||l.hevx||l.heis?l.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(V,U,e){"use strict";var x=e(9696).wR,P=e(9696).gS,i=e(9696).eI,L=e(44600),C=e(11688),c=x("ftyp");V.exports=function(y){if(P(y,4,c)){var r=L.unbox(y,0);if(r){var t=L.getMimeType(r.data);if(t){for(var s,n=r.end;;){var u=L.unbox(y,n);if(!u)break;if(n=u.end,u.boxtype==="mdat")return;if(u.boxtype==="meta"){s=u.data;break}}if(s){var l=L.readSizeFromMeta(s);if(l){var f={width:l.width,height:l.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(f.variants=l.variants),l.orientation&&(f.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=y.length){var g=i(y,l.exif_location.offset),h=y.slice(l.exif_location.offset+g+4,l.exif_location.offset+l.exif_location.length),w=C.get_orientation(h);w>0&&(f.orientation=w)}return f}}}}}}},38728:function(V,U,e){"use strict";var x=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=x("BM");V.exports=function(C){if(!(C.length<26)&&P(C,0,L))return{width:i(C,18),height:i(C,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(V,U,e){"use strict";var x=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=x("GIF87a"),C=x("GIF89a");V.exports=function(c){if(!(c.length<10)&&!(!P(c,0,L)&&!P(c,0,C)))return{width:i(c,6),height:i(c,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(V,U,e){"use strict";var x=e(9696).Bz,P=0,i=1,L=16;V.exports=function(C){var c=x(C,0),y=x(C,2),r=x(C,4);if(!(c!==P||y!==i||!r)){for(var t=[],s={width:0,height:0},n=0;n<r;n++){var u=C[6+L*n]||256,l=C[6+L*n+1]||256,f={width:u,height:l};t.push(f),(u>s.width||l>s.height)&&(s=f)}return{width:s.width,height:s.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(V,U,e){"use strict";var x=e(9696).eW,P=e(9696).wR,i=e(9696).gS,L=e(11688),C=P("Exif\0\0");V.exports=function(c){if(!(c.length<2)&&!(c[0]!==255||c[1]!==216||c[2]!==255))for(var y=2;;){for(;;){if(c.length-y<2)return;if(c[y++]===255)break}for(var r=c[y++],t;r===255;)r=c[y++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(c.length-y<2)return;t=x(c,y)-2,y+=2}else return;if(r===217||r===218)return;var s;if(r===225&&t>=10&&i(c,y,C)&&(s=L.get_orientation(c.slice(y+6,y+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(c.length-y<t)return;var n={width:x(c,y+3),height:x(c,y+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}y+=t}}},37276:function(V,U,e){"use strict";var x=e(9696).wR,P=e(9696).gS,i=e(9696).eI,L=x(`\x89PNG\r

`),C=x("IHDR");V.exports=function(c){if(!(c.length<24)&&P(c,0,L)&&P(c,12,C))return{width:i(c,16),height:i(c,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(V,U,e){"use strict";var x=e(9696).wR,P=e(9696).gS,i=e(9696).eI,L=x("8BPS\0");V.exports=function(C){if(!(C.length<22)&&P(C,0,L))return{width:i(C,18),height:i(C,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(V){"use strict";function U(s){return s===32||s===9||s===13||s===10}function e(s){return typeof s=="number"&&isFinite(s)&&s>0}function x(s){var n=0,u=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(n=3);n<u&&U(s[n]);)n++;return n===u?!1:s[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,C=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,c=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,y=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(s){var n=s.match(L),u=s.match(C),l=s.match(c);return{width:n&&(n[1]||n[2]),height:u&&(u[1]||u[2]),viewbox:l&&(l[1]||l[2])}}function t(s){return y.test(s)?s.match(y)[0]:"px"}V.exports=function(s){if(x(s)){for(var n="",u=0;u<s.length;u++)n+=String.fromCharCode(s[u]);var l=(n.match(P)||[""])[0];if(i.test(l)){var f=r(l),g=parseFloat(f.width),h=parseFloat(f.height);if(f.width&&f.height)return!e(g)||!e(h)?void 0:{width:g,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(f.width),hUnits:t(f.height)};var w=(f.viewbox||"").split(" "),d={width:w[2],height:w[3]},o=parseFloat(d.width),v=parseFloat(d.height);if(!(!e(o)||!e(v))&&t(d.width)===t(d.height)){var A=o/v;return f.width?e(g)?{width:g,height:g/A,type:"svg",mime:"image/svg+xml",wUnits:t(f.width),hUnits:t(f.width)}:void 0:f.height?e(h)?{width:h*A,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(f.height),hUnits:t(f.height)}:void 0:{width:o,height:v,type:"svg",mime:"image/svg+xml",wUnits:t(d.width),hUnits:t(d.height)}}}}}},98792:function(V,U,e){"use strict";var x=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=e(9696).eW,C=e(9696).st,c=e(9696).eI,y=x("II*\0"),r=x("MM\0*");function t(u,l,f){return f?L(u,l):i(u,l)}function s(u,l,f){return f?c(u,l):C(u,l)}function n(u,l,f){var g=t(u,l+2,f),h=s(u,l+4,f);return h!==1||g!==3&&g!==4?null:g===3?t(u,l+8,f):s(u,l+8,f)}V.exports=function(u){if(!(u.length<8)&&!(!P(u,0,y)&&!P(u,0,r))){var l=u[0]===77,f=s(u,4,l)-8;if(!(f<0)){var g=f+8;if(!(u.length-g<2)){var h=t(u,g+0,l)*12;if(!(h<=0)&&(g+=2,!(u.length-g<h))){var w,d,o,v;for(w=0;w<h;w+=12)v=t(u,g+w,l),v===256?d=n(u,g+w,l):v===257&&(o=n(u,g+w,l));if(d&&o)return{width:d,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(V,U,e){"use strict";var x=e(9696).wR,P=e(9696).gS,i=e(9696).Bz,L=e(9696).st,C=e(11688),c=x("RIFF"),y=x("WEBP");function r(n,u){if(!(n[u+3]!==157||n[u+4]!==1||n[u+5]!==42))return{width:i(n,u+6)&16383,height:i(n,u+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,u){if(n[u]===47){var l=L(n,u+1);return{width:(l&16383)+1,height:(l>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(n,u){return{width:(n[u+6]<<16|n[u+5]<<8|n[u+4])+1,height:(n[u+9]<<u|n[u+8]<<8|n[u+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}V.exports=function(n){if(!(n.length<16)&&!(!P(n,0,c)&&!P(n,8,y))){var u=12,l=null,f=0,g=L(n,4)+8;if(!(g>n.length)){for(;u+8<g;){if(n[u]===0){u++;continue}var h=String.fromCharCode.apply(null,n.slice(u,u+4)),w=L(n,u+4);h==="VP8 "&&w>=10?l=l||r(n,u+8):h==="VP8L"&&w>=9?l=l||t(n,u+8):h==="VP8X"&&w>=10?l=l||s(n,u+8):h==="EXIF"&&(f=C.get_orientation(n.slice(u+8,u+8+w)),u=1/0),u+=8+w}if(l)return f>0&&(l.orientation=f),l}}}},87480:function(V,U,e){"use strict";V.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(V,U,e){"use strict";var x=e(87480);function P(i){for(var L=Object.keys(x),C=0;C<L.length;C++){var c=x[L[C]](i);if(c)return c}return null}V.exports=function(L){return P(L)},V.exports.parsers=x},4168:function(V){var U=V.exports={},e,x;function P(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch(f){e=P}try{typeof clearTimeout=="function"?x=clearTimeout:x=i}catch(f){x=i}})();function L(f){if(e===setTimeout)return setTimeout(f,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(f,0);try{return e(f,0)}catch(g){try{return e.call(null,f,0)}catch(h){return e.call(this,f,0)}}}function C(f){if(x===clearTimeout)return clearTimeout(f);if((x===i||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(f);try{return x(f)}catch(g){try{return x.call(null,f)}catch(h){return x.call(this,f)}}}var c=[],y=!1,r,t=-1;function s(){!y||!r||(y=!1,r.length?c=r.concat(c):t=-1,c.length&&n())}function n(){if(!y){var f=L(s);y=!0;for(var g=c.length;g;){for(r=c,c=[];++t<g;)r&&r[t].run();t=-1,g=c.length}r=null,y=!1,C(f)}}U.nextTick=function(f){var g=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)g[h-1]=arguments[h];c.push(new u(f,g)),c.length===1&&!y&&L(n)};function u(f,g){this.fun=f,this.array=g}u.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function l(){}U.on=l,U.addListener=l,U.once=l,U.off=l,U.removeListener=l,U.removeAllListeners=l,U.emit=l,U.prependListener=l,U.prependOnceListener=l,U.listeners=function(f){return[]},U.binding=function(f){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(f){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},3951:function(V,U,e){for(var x=e(41984),P=typeof window=="undefined"?e.g:window,i=["moz","webkit"],L="AnimationFrame",C=P["request"+L],c=P["cancel"+L]||P["cancelRequest"+L],y=0;!C&&y<i.length;y++)C=P[i[y]+"Request"+L],c=P[i[y]+"Cancel"+L]||P[i[y]+"CancelRequest"+L];if(!C||!c){var r=0,t=0,s=[],n=1e3/60;C=function(u){if(s.length===0){var l=x(),f=Math.max(0,n-(l-r));r=f+l,setTimeout(function(){var g=s.slice(0);s.length=0;for(var h=0;h<g.length;h++)if(!g[h].cancelled)try{g[h].callback(r)}catch(w){setTimeout(function(){throw w},0)}},Math.round(f))}return s.push({handle:++t,callback:u,cancelled:!1}),t},c=function(u){for(var l=0;l<s.length;l++)s[l].handle===u&&(s[l].cancelled=!0)}}V.exports=function(u){return C.call(P,u)},V.exports.cancel=function(){c.apply(P,arguments)},V.exports.polyfill=function(u){u||(u=P),u.requestAnimationFrame=C,u.cancelAnimationFrame=c}},24544:function(V,U,e){"use strict";var x=e(76752),P=e(72160),i=e(45223),L=e(55616),C=e(50896),c=e(47520),y=e(37816),r=y.float32,t=y.fract32;V.exports=n;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(u,l){if(typeof u=="function"?(l||(l={}),l.regl=u):l=u,l.length&&(l.positions=l),u=l.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var f=u._gl,g,h,w,d,o,v,A={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},b=[];return d=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),v=u.buffer({usage:"static",type:"float",data:s}),T(l),g=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(E,p){return[p.viewport.x,p.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:d,offset:function(E,p){return p.offset*4},divisor:1},position:{buffer:h,offset:function(E,p){return p.offset*8},divisor:1},positionFract:{buffer:w,offset:function(E,p){return p.offset*8},divisor:1},error:{buffer:o,offset:function(E,p){return p.offset*16},divisor:1},direction:{buffer:v,stride:24,offset:0},lineOffset:{buffer:v,stride:24,offset:8},capOffset:{buffer:v,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:s.length}),C(M,{update:T,draw:m,destroy:a,regl:u,gl:f,canvas:f.canvas,groups:b}),M;function M(E){E?T(E):E===null&&a(),m()}function m(E){if(typeof E=="number")return S(E);E&&!Array.isArray(E)&&(E=[E]),u._refresh(),b.forEach(function(p,k){if(p){if(E&&(E[k]?p.draw=!0:p.draw=!1),!p.draw){p.draw=!0;return}S(k)}})}function S(E){typeof E=="number"&&(E=b[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],g(E),E.after&&E.after(E))}function T(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var p=0,k=0;if(M.groups=b=E.map(function(N,Y){var J=b[Y];if(N)typeof N=="function"?N={after:N}:typeof N[0]=="number"&&(N={positions:N});else return J;return N=L(N,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(b[Y]=J={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},N=C({},A,N)),i(J,N,[{lineWidth:function(ae){return+ae*.5},capSize:function(ae){return+ae*.5},opacity:parseFloat,errors:function(ae){return ae=c(ae),k+=ae.length,ae},positions:function(ae,se){return ae=c(ae,"float64"),se.count=Math.floor(ae.length/2),se.bounds=x(ae,2),se.offset=p,p+=se.count,ae}},{color:function(ae,se){var ue=se.count;if(ae||(ae="transparent"),!Array.isArray(ae)||typeof ae[0]=="number"){var K=ae;ae=Array(ue);for(var j=0;j<ue;j++)ae[j]=K}if(ae.length<ue)throw Error("Not enough colors");for(var ie=new Uint8Array(ue*4),W=0;W<ue;W++){var Q=P(ae[W],"uint8");ie.set(Q,W*4)}return ie},range:function(ae,se,ue){var K=se.bounds;return ae||(ae=K),se.scale=[1/(ae[2]-ae[0]),1/(ae[3]-ae[1])],se.translate=[-ae[0],-ae[1]],se.scaleFract=t(se.scale),se.translateFract=t(se.translate),ae},viewport:function(ae){var se;return Array.isArray(ae)?se={x:ae[0],y:ae[1],width:ae[2]-ae[0],height:ae[3]-ae[1]}:ae?(se={x:ae.x||ae.left||0,y:ae.y||ae.top||0},ae.right?se.width=ae.right-se.x:se.width=ae.w||ae.width||0,ae.bottom?se.height=ae.bottom-se.y:se.height=ae.h||ae.height||0):se={x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight},se}}]),J}),p||k){var R=b.reduce(function(N,Y,J){return N+(Y?Y.count:0)},0),B=new Float64Array(R*2),F=new Uint8Array(R*4),_=new Float32Array(R*4);b.forEach(function(N,Y){if(N){var J=N.positions,ae=N.count,se=N.offset,ue=N.color,K=N.errors;ae&&(F.set(ue,se*4),_.set(K,se*4),B.set(J,se*2))}});var O=r(B);h(O);var z=t(B,O);w(z),d(F),o(_)}}}function a(){h.destroy(),w.destroy(),d.destroy(),o.destroy(),v.destroy()}}},13472:function(V,U,e){"use strict";var x=e(72160),P=e(76752),i=e(50896),L=e(55616),C=e(47520),c=e(28912),y=e(71152),r=e(37816),t=r.float32,s=r.fract32,n=e(60463),u=e(51160),l=e(10272),f=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,g=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,w=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,d=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;V.exports=v;function v(A,b){if(!(this instanceof v))return new v(A,b);if(typeof A=="function"?(b||(b={}),b.regl=A):b=A,b.length&&(b.positions=b),A=b.regl,!A.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=A._gl,this.regl=A,this.passes=[],this.shaders=v.shaders.has(A)?v.shaders.get(A):v.shaders.set(A,v.createShaders(A)).get(A),this.update(b)}v.dashMult=2,v.maxPatternLength=256,v.precisionThreshold=3e6,v.maxPoints=1e4,v.maxLines=2048,v.shaders=new n,v.createShaders=function(A){var b=A.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),M={primitive:"triangle strip",instances:A.prop("count"),count:4,offset:0,uniforms:{miterMode:function(a,E){return E.join==="round"?2:1},miterLimit:A.prop("miterLimit"),scale:A.prop("scale"),scaleFract:A.prop("scaleFract"),translateFract:A.prop("translateFract"),translate:A.prop("translate"),thickness:A.prop("thickness"),dashTexture:A.prop("dashTexture"),opacity:A.prop("opacity"),pixelRatio:A.context("pixelRatio"),id:A.prop("id"),dashLength:A.prop("dashLength"),viewport:function(a,E){return[E.viewport.x,E.viewport.y,a.viewportWidth,a.viewportHeight]},depth:A.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(a,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:A.prop("viewport")},viewport:A.prop("viewport")},m=A(i({vert:f,frag:g,attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:A.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:A.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:A.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:A.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:A.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},M)),S;try{S=A(i({cull:{enable:!0,face:"back"},vert:d,frag:o,attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:A.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:A.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:A.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:A.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:A.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:A.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},M))}catch(a){S=m}var T=A({primitive:"triangle",elements:function(a,E){return E.triangles},offset:0,vert:h,frag:w,uniforms:{scale:A.prop("scale"),color:A.prop("fill"),scaleFract:A.prop("scaleFract"),translateFract:A.prop("translateFract"),translate:A.prop("translate"),opacity:A.prop("opacity"),pixelRatio:A.context("pixelRatio"),id:A.prop("id"),viewport:function(a,E){return[E.viewport.x,E.viewport.y,a.viewportWidth,a.viewportHeight]}},attributes:{position:{buffer:A.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:A.prop("positionFractBuffer"),stride:8,offset:8}},blend:M.blend,depth:{enable:!1},scissor:M.scissor,stencil:M.stencil,viewport:M.viewport});return{fill:T,rect:m,miter:S}},v.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},v.prototype.render=function(){for(var A,b=[],M=arguments.length;M--;)b[M]=arguments[M];b.length&&(A=this).update.apply(A,b),this.draw()},v.prototype.draw=function(){for(var A=this,b=[],M=arguments.length;M--;)b[M]=arguments[M];return(b.length?b:this.passes).forEach(function(m,S){var T;if(m&&Array.isArray(m))return(T=A).draw.apply(T,m);typeof m=="number"&&(m=A.passes[m]),m&&m.count>1&&m.opacity&&(A.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&A.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>v.precisionThreshold||m.scale[1]*m.viewport.height>v.precisionThreshold||m.join==="rect"||!m.join&&(m.thickness<=2||m.count>=v.maxPoints)?A.shaders.rect(m):A.shaders.miter(m)))}),this},v.prototype.update=function(A){var b=this;if(A){A.length!=null?typeof A[0]=="number"&&(A=[{positions:A}]):Array.isArray(A)||(A=[A]);var M=this,m=M.regl,S=M.gl;if(A.forEach(function(k,R){var B=b.passes[R];if(k!==void 0){if(k===null){b.passes[R]=null;return}if(typeof k[0]=="number"&&(k={positions:k}),k=L(k,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),B||(b.passes[R]=B={id:R,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},k=i({},v.defaults,k)),k.thickness!=null&&(B.thickness=parseFloat(k.thickness)),k.opacity!=null&&(B.opacity=parseFloat(k.opacity)),k.miterLimit!=null&&(B.miterLimit=parseFloat(k.miterLimit)),k.overlay!=null&&(B.overlay=!!k.overlay,R<v.maxLines&&(B.depth=2*(v.maxLines-1-R%v.maxLines)/v.maxLines-1)),k.join!=null&&(B.join=k.join),k.hole!=null&&(B.hole=k.hole),k.fill!=null&&(B.fill=k.fill?x(k.fill,"uint8"):null),k.viewport!=null&&(B.viewport=u(k.viewport)),B.viewport||(B.viewport=u([S.drawingBufferWidth,S.drawingBufferHeight])),k.close!=null&&(B.close=k.close),k.positions===null&&(k.positions=[]),k.positions){var F,_;if(k.positions.x&&k.positions.y){var O=k.positions.x,z=k.positions.y;_=B.count=Math.max(O.length,z.length),F=new Float64Array(_*2);for(var N=0;N<_;N++)F[N*2]=O[N],F[N*2+1]=z[N]}else F=C(k.positions,"float64"),_=B.count=Math.floor(F.length/2);var Y=B.bounds=P(F,2);if(B.fill){for(var J=[],ae={},se=0,ue=0,K=0,j=B.count;ue<j;ue++){var ie=F[ue*2],W=F[ue*2+1];isNaN(ie)||isNaN(W)||ie==null||W==null?(ie=F[se*2],W=F[se*2+1],ae[ue]=se):se=ue,J[K++]=ie,J[K++]=W}if(k.splitNull){B.count-1 in ae||(ae[B.count]=B.count-1);var Q=Object.keys(ae).map(Number).sort(function(Le,Te){return Le-Te}),ee=[],$=0,X=B.hole!=null?B.hole[0]:null;if(X!=null){var oe=l(Q,function(Le){return Le>=X});Q=Q.slice(0,oe),Q.push(X)}for(var te=function(Le){var Te=J.slice($*2,Q[Le]*2).concat(X?J.slice(X*2):[]),ye=(B.hole||[]).map(function(Ke){return Ke-X+(Q[Le]-$)}),Se=c(Te,ye);Se=Se.map(function(Ke){return Ke+$+(Ke+$<Q[Le]?0:X-Q[Le])}),ee.push.apply(ee,Se),$=Q[Le]+1},fe=0;fe<Q.length;fe++)te(fe);for(var pe=0,Ae=ee.length;pe<Ae;pe++)ae[ee[pe]]!=null&&(ee[pe]=ae[ee[pe]]);B.triangles=ee}else{for(var be=c(J,B.hole||[]),Pe=0,me=be.length;Pe<me;Pe++)ae[be[Pe]]!=null&&(be[Pe]=ae[be[Pe]]);B.triangles=be}}var Ee=new Float64Array(F);y(Ee,2,Y);var xe=new Float64Array(_*2+6);B.close?F[0]===F[_*2-2]&&F[1]===F[_*2-1]?(xe[0]=Ee[_*2-4],xe[1]=Ee[_*2-3]):(xe[0]=Ee[_*2-2],xe[1]=Ee[_*2-1]):(xe[0]=Ee[0],xe[1]=Ee[1]),xe.set(Ee,2),B.close?F[0]===F[_*2-2]&&F[1]===F[_*2-1]?(xe[_*2+2]=Ee[2],xe[_*2+3]=Ee[3],B.count-=1):(xe[_*2+2]=Ee[0],xe[_*2+3]=Ee[1],xe[_*2+4]=Ee[2],xe[_*2+5]=Ee[3]):(xe[_*2+2]=Ee[_*2-2],xe[_*2+3]=Ee[_*2-1],xe[_*2+4]=Ee[_*2-2],xe[_*2+5]=Ee[_*2-1]);var De=t(xe);B.positionBuffer(De);var Ve=s(xe,De);B.positionFractBuffer(Ve)}if(k.range?B.range=k.range:B.range||(B.range=B.bounds),(k.range||k.positions)&&B.count){var Ze=B.bounds,ke=Ze[2]-Ze[0],Ye=Ze[3]-Ze[1],lt=B.range[2]-B.range[0],yt=B.range[3]-B.range[1];B.scale=[ke/lt,Ye/yt],B.translate=[-B.range[0]/lt+Ze[0]/lt||0,-B.range[1]/yt+Ze[1]/yt||0],B.scaleFract=s(B.scale),B.translateFract=s(B.translate)}if(k.dashes){var He=0,Fe;if(!k.dashes||k.dashes.length<2)He=1,Fe=new Uint8Array([255,255,255,255,255,255,255,255]);else{He=0;for(var nt=0;nt<k.dashes.length;++nt)He+=k.dashes[nt];Fe=new Uint8Array(He*v.dashMult);for(var ot=0,ct=255,ht=0;ht<2;ht++)for(var mt=0;mt<k.dashes.length;++mt){for(var tt=0,Re=k.dashes[mt]*v.dashMult*.5;tt<Re;++tt)Fe[ot++]=ct;ct^=255}}B.dashLength=He,B.dashTexture({channels:1,data:Fe,width:Fe.length,height:1,mag:"linear",min:"linear"},0,0)}if(k.color){var Ge=B.count,Je=k.color;Je||(Je="transparent");var Xe=new Uint8Array(Ge*4+4);if(!Array.isArray(Je)||typeof Je[0]=="number")for(var Oe=x(Je,"uint8"),Ne=0;Ne<Ge+1;Ne++)Xe.set(Oe,Ne*4);else{for(var ze=0;ze<Ge;ze++){var et=x(Je[ze],"uint8");Xe.set(et,ze*4)}Xe.set(x(Je[0],"uint8"),Ge*4)}B.colorBuffer({usage:"dynamic",type:"uint8",data:Xe})}}}),A.length<this.passes.length){for(var T=A.length;T<this.passes.length;T++){var a=this.passes[T];a&&(a.colorBuffer.destroy(),a.positionBuffer.destroy(),a.dashTexture.destroy())}this.passes.length=A.length}for(var E=[],p=0;p<this.passes.length;p++)this.passes[p]!==null&&E.push(this.passes[p]);return this.passes=E,this}},v.prototype.destroy=function(){return this.passes.forEach(function(A){A.colorBuffer.destroy(),A.positionBuffer.destroy(),A.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(V,U,e){"use strict";function x(a,E){var p=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var k,R,B,F,_=[],O=!0,z=!1;try{if(B=(p=p.call(a)).next,E===0){if(Object(p)!==p)return;O=!1}else for(;!(O=(k=B.call(p)).done)&&(_.push(k.value),_.length!==E);O=!0);}catch(N){z=!0,R=N}finally{try{if(!O&&p.return!=null&&(F=p.return(),Object(F)!==F))return}finally{if(z)throw R}}return _}}function P(a,E){return C(a)||x(a,E)||y(a,E)||s()}function i(a){return L(a)||c(a)||y(a)||t()}function L(a){if(Array.isArray(a))return r(a)}function C(a){if(Array.isArray(a))return a}function c(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function y(a,E){if(a){if(typeof a=="string")return r(a,E);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return r(a,E)}}function r(a,E){(E==null||E>a.length)&&(E=a.length);for(var p=0,k=new Array(E);p<E;p++)k[p]=a[p];return k}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),u=e(76752),l=e(3808),f=e(3108),g=e(50896),h=e(26444),w=e(55616),d=e(45223),o=e(47520),v=e(96604),A=e(37816),b=e(51160),M=m;function m(a,E){var p=this;if(!(this instanceof m))return new m(a,E);typeof a=="function"?(E||(E={}),E.regl=a):(E=a,a=null),E&&E.length&&(E.positions=E),a=E.regl;var k=a._gl,R,B=[],F={},_=[],O=[null],z=[null],N=255,Y=100;this.tooManyColors=v,R=a.texture({data:new Uint8Array(N*4),width:N,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:a,gl:k,groups:_,markerCache:z,markerTextures:O,palette:B,paletteIds:F,paletteTexture:R,maxColors:N,maxSize:Y,canvas:k.canvas}),this.update(E);var J={uniforms:{constPointSize:!!E.constPointSize,opacity:a.prop("opacity"),paletteSize:function(K,j){return[p.tooManyColors?0:N,R.height]},pixelRatio:a.context("pixelRatio"),scale:a.prop("scale"),scaleFract:a.prop("scaleFract"),translate:a.prop("translate"),translateFract:a.prop("translateFract"),markerTexture:a.prop("markerTexture"),paletteTexture:R},attributes:{x:function(K,j){return j.xAttr||{buffer:j.positionBuffer,stride:8,offset:0}},y:function(K,j){return j.yAttr||{buffer:j.positionBuffer,stride:8,offset:4}},xFract:function(K,j){return j.xAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:0}},yFract:function(K,j){return j.yAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:4}},size:function(K,j){return j.size.length?{buffer:j.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(j.size*255/p.maxSize)]}},borderSize:function(K,j){return j.borderSize.length?{buffer:j.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(j.borderSize*255/p.maxSize)]}},colorId:function(K,j){return j.color.length?{buffer:j.colorBuffer,stride:p.tooManyColors?8:4,offset:0}:{constant:p.tooManyColors?B.slice(j.color*4,j.color*4+4):[j.color]}},borderColorId:function(K,j){return j.borderColor.length?{buffer:j.colorBuffer,stride:p.tooManyColors?8:4,offset:p.tooManyColors?4:2}:{constant:p.tooManyColors?B.slice(j.borderColor*4,j.borderColor*4+4):[j.borderColor]}},isActive:function(K,j){return j.activation===!0?{constant:[1]}:j.activation?j.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:a.prop("viewport")},viewport:a.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:a.prop("elements"),count:a.prop("count"),offset:a.prop("offset"),primitive:"points"},ae=g({},J);ae.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ae.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=a(ae);var se=g({},J);se.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),se.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),v&&(se.frag=se.frag.replace("smoothstep","smoothStep"),ae.frag=ae.frag.replace("smoothstep","smoothStep")),this.drawCircle=a(se)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var a=this,E=arguments.length,p=new Array(E),k=0;k<E;k++)p[k]=arguments[k];var R=this.groups;if(p.length===1&&Array.isArray(p[0])&&(p[0][0]===null||Array.isArray(p[0][0]))&&(p=p[0]),this.regl._refresh(),p.length)for(var B=0;B<p.length;B++)this.drawItem(B,p[B]);else R.forEach(function(F,_){a.drawItem(_)});return this},m.prototype.drawItem=function(a,E){var p=this.groups,k=p[a];if(typeof E=="number"&&(a=E,k=p[E],E=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,E));for(var R=[],B=1;B<k.activation.length;B++)!k.activation[B]||k.activation[B]!==!0&&!k.activation[B].data.length||R.push.apply(R,i(this.getMarkerDrawOptions(B,k,E)));R.length&&this.drawMarker(R)}},m.prototype.getMarkerDrawOptions=function(a,E,p){var k=E.range,R=E.tree,B=E.viewport,F=E.activation,_=E.selectionBuffer,O=E.count,z=this.regl;if(!R)return p?[g({},E,{markerTexture:this.markerTextures[a],activation:F[a],count:p.length,elements:p,offset:0})]:[g({},E,{markerTexture:this.markerTextures[a],activation:F[a],offset:0})];var N=[],Y=R.range(k,{lod:!0,px:[(k[2]-k[0])/B.width,(k[3]-k[1])/B.height]});if(p){for(var J=F[a],ae=J.data,se=new Uint8Array(O),ue=0;ue<p.length;ue++){var K=p[ue];se[K]=ae?ae[K]:1}_.subdata(se)}for(var j=Y.length;j--;){var ie=P(Y[j],2),W=ie[0],Q=ie[1];N.push(g({},E,{markerTexture:this.markerTextures[a],activation:p?_:F[a],offset:W,count:Q-W}))}return N},m.prototype.update=function(){for(var a=this,E=arguments.length,p=new Array(E),k=0;k<E;k++)p[k]=arguments[k];if(p.length){p.length===1&&Array.isArray(p[0])&&(p=p[0]);var R=this.groups,B=this.gl,F=this.regl,_=this.maxSize,O=this.maxColors,z=this.palette;this.groups=R=p.map(function(N,Y){var J=R[Y];if(N===void 0)return J;N===null?N={positions:null}:typeof N=="function"?N={ondraw:N}:typeof N[0]=="number"&&(N={positions:N}),N=w(N,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),N.positions===null&&(N.positions=[]),N.tooManyColors!=null&&(a.tooManyColors=N.tooManyColors),J||(R[Y]=J={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},N=g({},m.defaults,N)),N.positions&&!("marker"in N)&&(N.marker=J.marker,delete J.marker),N.marker&&!("positions"in N)&&(N.positions=J.positions,delete J.positions);var ae=0,se=0;if(d(J,N,[{snap:!0,size:function(xe,De){return xe==null&&(xe=m.defaults.size),ae+=xe&&xe.length?1:0,xe},borderSize:function(xe,De){return xe==null&&(xe=m.defaults.borderSize),ae+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,De){return xe==null&&(xe=m.defaults.color),xe=a.updateColor(xe),se++,xe},borderColor:function(xe,De){return xe==null&&(xe=m.defaults.borderColor),xe=a.updateColor(xe),se++,xe},bounds:function(xe,De,Ve){return"range"in Ve||(Ve.range=null),xe},positions:function(xe,De,Ve){var Ze=De.snap,ke=De.positionBuffer,Ye=De.positionFractBuffer,lt=De.selectionBuffer;if(xe.x||xe.y)return xe.x.length?De.xAttr={buffer:F.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:De.xAttr={buffer:xe.x.buffer,offset:xe.x.offset*4||0,stride:(xe.x.stride||1)*4,count:xe.x.count},xe.y.length?De.yAttr={buffer:F.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:De.yAttr={buffer:xe.y.buffer,offset:xe.y.offset*4||0,stride:(xe.y.stride||1)*4,count:xe.y.count},De.count=Math.max(De.xAttr.count,De.yAttr.count),xe;xe=o(xe,"float64");var yt=De.count=Math.floor(xe.length/2),He=De.bounds=yt?u(xe,2):null;if(!Ve.range&&!De.range&&(delete De.range,Ve.range=He),!Ve.marker&&!De.marker&&(delete De.marker,Ve.marker=null),Ze&&(Ze===!0||yt>Ze)?De.tree=f(xe,{bounds:He}):Ze&&Ze.length&&(De.tree=Ze),De.tree){var Fe={primitive:"points",usage:"static",data:De.tree,type:"uint32"};De.elements?De.elements(Fe):De.elements=F.elements(Fe)}var nt=A.float32(xe);ke({data:nt,usage:"dynamic"});var ot=A.fract32(xe,nt);return Ye({data:ot,usage:"dynamic"}),lt({data:new Uint8Array(yt),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,De,Ve){var Ze=De.activation;if(Ze.forEach(function(ot){return ot&&ot.destroy&&ot.destroy()}),Ze.length=0,!xe||typeof xe[0]=="number"){var ke=a.addMarker(xe);Ze[ke]=!0}else{for(var Ye=[],lt=0,yt=Math.min(xe.length,De.count);lt<yt;lt++){var He=a.addMarker(xe[lt]);Ye[He]||(Ye[He]=new Uint8Array(De.count)),Ye[He][lt]=1}for(var Fe=0;Fe<Ye.length;Fe++)if(Ye[Fe]){var nt={data:Ye[Fe],type:"uint8",usage:"static"};Ze[Fe]?Ze[Fe](nt):Ze[Fe]=F.buffer(nt),Ze[Fe].data=Ye[Fe]}}return xe},range:function(xe,De,Ve){var Ze=De.bounds;if(Ze)return xe||(xe=Ze),De.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],De.translate=[-xe[0],-xe[1]],De.scaleFract=A.fract(De.scale),De.translateFract=A.fract(De.translate),xe},viewport:function(xe){var De=b(xe||[B.drawingBufferWidth,B.drawingBufferHeight]);return De}}]),ae){var ue=J,K=ue.count,j=ue.size,ie=ue.borderSize,W=ue.sizeBuffer,Q=new Uint8Array(K*2);if(j.length||ie.length)for(var ee=0;ee<K;ee++)Q[ee*2]=Math.round((j[ee]==null?j:j[ee])*255/_),Q[ee*2+1]=Math.round((ie[ee]==null?ie:ie[ee])*255/_);W({data:Q,usage:"dynamic"})}if(se){var $=J,X=$.count,oe=$.color,te=$.borderColor,fe=$.colorBuffer,pe;if(a.tooManyColors){if(oe.length||te.length){pe=new Uint8Array(X*8);for(var Ae=0;Ae<X;Ae++){var be=oe[Ae];pe[Ae*8]=z[be*4],pe[Ae*8+1]=z[be*4+1],pe[Ae*8+2]=z[be*4+2],pe[Ae*8+3]=z[be*4+3];var Pe=te[Ae];pe[Ae*8+4]=z[Pe*4],pe[Ae*8+5]=z[Pe*4+1],pe[Ae*8+6]=z[Pe*4+2],pe[Ae*8+7]=z[Pe*4+3]}}}else if(oe.length||te.length){pe=new Uint8Array(X*4+2);for(var me=0;me<X;me++)oe[me]!=null&&(pe[me*4]=oe[me]%O,pe[me*4+1]=Math.floor(oe[me]/O)),te[me]!=null&&(pe[me*4+2]=te[me]%O,pe[me*4+3]=Math.floor(te[me]/O))}fe({data:pe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},m.prototype.addMarker=function(a){var E=this.markerTextures,p=this.regl,k=this.markerCache,R=a==null?0:k.indexOf(a);if(R>=0)return R;var B;if(a instanceof Uint8Array||a instanceof Uint8ClampedArray)B=a;else{B=new Uint8Array(a.length);for(var F=0,_=a.length;F<_;F++)B[F]=a[F]*255}var O=Math.floor(Math.sqrt(B.length));return R=E.length,k.push(a),E.push(p.texture({channels:1,data:B,radius:O,mag:"linear",min:"linear"})),R},m.prototype.updateColor=function(a){var E=this.paletteIds,p=this.palette,k=this.maxColors;Array.isArray(a)||(a=[a]);var R=[];if(typeof a[0]=="number"){var B=[];if(Array.isArray(a))for(var F=0;F<a.length;F+=4)B.push(a.slice(F,F+4));else for(var _=0;_<a.length;_+=4)B.push(a.subarray(_,_+4));a=B}for(var O=0;O<a.length;O++){var z=a[O];z=n(z,"uint8");var N=l(z,!1);if(E[N]==null){var Y=p.length;E[N]=Math.floor(Y/4),p[Y]=z[0],p[Y+1]=z[1],p[Y+2]=z[2],p[Y+3]=z[3]}R[O]=E[N]}return!this.tooManyColors&&p.length>k*4&&(this.tooManyColors=!0),this.updatePalette(p),R.length===1?R[0]:R},m.prototype.updatePalette=function(a){if(!this.tooManyColors){var E=this.maxColors,p=this.paletteTexture,k=Math.ceil(a.length*.25/E);if(k>1){a=a.slice();for(var R=a.length*.25%E;R<k*E;R++)a.push(0,0,0,0)}p.height<k&&p.resize(E,k),p.subimage({width:Math.min(a.length*.25,E),height:k,data:a},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(a){a.sizeBuffer.destroy(),a.positionBuffer.destroy(),a.positionFractBuffer.destroy(),a.colorBuffer.destroy(),a.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),a.selectionBuffer.destroy(),a.elements&&a.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(a){return a&&a.destroy&&a.destroy()}),this};var S=e(50896),T=function(E,p){var k=new M(E,p),R=k.render.bind(k);return S(R,{render:R,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),R};V.exports=T},55795:function(V,U,e){"use strict";var x=e(38540),P=e(55616),i=e(76752),L=e(3951),C=e(67752),c=e(51160),y=e(47520);V.exports=r;function r(u,l){if(!(this instanceof r))return new r(u,l);this.traces=[],this.passes={},this.regl=u,this.scatter=x(u),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var u=this,l,f=[],g=arguments.length;g--;)f[g]=arguments[g];return f.length&&(l=this).update.apply(l,f),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,L(function(){u.dirty=!1})),this)},r.prototype.update=function(){for(var u,l=[],f=arguments.length;f--;)l[f]=arguments[f];if(l.length){for(var g=0;g<l.length;g++)this.updateItem(g,l[g]);this.traces=this.traces.filter(Boolean);for(var h=[],w=0,d=0;d<this.traces.length;d++){for(var o=this.traces[d],v=this.traces[d].passes,A=0;A<v.length;A++)h.push(this.passes[v[A]]);o.passOffset=w,w+=o.passes.length}return(u=this.scatter).update.apply(u,h),this}},r.prototype.updateItem=function(u,l){var f=this,g=f.regl;if(l===null)return this.traces[u]=null,this;if(!l)return this;var h=P(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[u]||(this.traces[u]={id:u,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:c([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(w.color=h.color),h.size!=null&&(w.size=h.size),h.marker!=null&&(w.marker=h.marker),h.borderColor!=null&&(w.borderColor=h.borderColor),h.borderSize!=null&&(w.borderSize=h.borderSize),h.opacity!=null&&(w.opacity=h.opacity),h.viewport&&(w.viewport=c(h.viewport)),h.diagonal!=null&&(w.diagonal=h.diagonal),h.upper!=null&&(w.upper=h.upper),h.lower!=null&&(w.lower=h.lower),h.data){w.buffer(y(h.data)),w.columns=h.data.length,w.count=h.data[0].length,w.bounds=[];for(var d=0;d<w.columns;d++)w.bounds[d]=i(h.data[d],1)}var o;h.range&&(w.range=h.range,o=w.range&&typeof w.range[0]!="number"),h.domain&&(w.domain=h.domain);var v=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===w.columns&&typeof h.padding[h.padding.length-1]=="number"?(w.padding=h.padding.map(n),v=!0):w.padding=n(h.padding));var A=w.columns,b=w.count,M=w.viewport.width,m=w.viewport.height,S=w.viewport.x,T=w.viewport.y,a=M/A,E=m/A;w.passes=[];for(var p=0;p<A;p++)for(var k=0;k<A;k++)if(!(!w.diagonal&&k===p)&&!(!w.upper&&p>k)&&!(!w.lower&&p<k)){var R=t(w.id,p,k),B=this.passes[R]||(this.passes[R]={});if(h.data&&(h.transpose?B.positions={x:{buffer:w.buffer,offset:k,count:b,stride:A},y:{buffer:w.buffer,offset:p,count:b,stride:A}}:B.positions={x:{buffer:w.buffer,offset:k*b,count:b},y:{buffer:w.buffer,offset:p*b,count:b}},B.bounds=s(w.bounds,p,k)),h.domain||h.viewport||h.data){var F=v?s(w.padding,p,k):w.padding;if(w.domain){var _=s(w.domain,p,k),O=_[0],z=_[1],N=_[2],Y=_[3];B.viewport=[S+O*M+F[0],T+z*m+F[1],S+N*M-F[2],T+Y*m-F[3]]}else B.viewport=[S+k*a+a*F[0],T+p*E+E*F[1],S+(k+1)*a-a*F[2],T+(p+1)*E-E*F[3]]}h.color&&(B.color=w.color),h.size&&(B.size=w.size),h.marker&&(B.marker=w.marker),h.borderSize&&(B.borderSize=w.borderSize),h.borderColor&&(B.borderColor=w.borderColor),h.opacity&&(B.opacity=w.opacity),h.range&&(B.range=o?s(w.range,p,k):w.range||B.bounds),w.passes.push(R)}return this},r.prototype.draw=function(){for(var u,l=[],f=arguments.length;f--;)l[f]=arguments[f];if(!l.length)this.scatter.draw();else{for(var g=[],h=0;h<l.length;h++)if(typeof l[h]=="number"){var w=this.traces[l[h]],d=w.passes,o=w.passOffset;g.push.apply(g,C(o,o+d.length))}else if(l[h].length){var v=l[h],A=this.traces[h],b=A.passes,M=A.passOffset;b=b.map(function(m,S){g[M+S]=v})}(u=this.scatter).draw.apply(u,g)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(u,l,f){var g=u.id!=null?u.id:u,h=l,w=f,d=g<<16|(h&255)<<8|w&255;return d}function s(u,l,f){var g,h,w,d,o,v,A,b,M=u[l],m=u[f];return M.length>2?(g=M[0],w=M[2],h=M[1],d=M[3]):M.length?(g=h=M[0],w=d=M[1]):(g=M.x,h=M.y,w=M.x+M.width,d=M.y+M.height),m.length>2?(o=m[0],A=m[2],v=m[1],b=m[3]):m.length?(o=v=m[0],A=b=m[1]):(o=m.x,v=m.y,A=m.x+m.width,b=m.y+m.height),[o,h,A,d]}function n(u){if(typeof u=="number")return[u,u,u,u];if(u.length===2)return[u[0],u[1],u[0],u[1]];var l=c(u);return[l.x,l.y,l.x+l.width,l.y+l.height]}},28624:function(V){(function(U,e){V.exports=e()})(this,function(){function U(dt,Yt){this.id=fe++,this.type=dt,this.data=Yt}function e(dt){if(dt.length===0)return[];var Yt=dt.charAt(0),jt=dt.charAt(dt.length-1);if(1<dt.length&&Yt===jt&&(Yt==='"'||Yt==="'"))return['"'+dt.substr(1,dt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Yt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(dt))return e(dt.substr(0,Yt.index)).concat(e(Yt[1])).concat(e(dt.substr(Yt.index+Yt[0].length)));if(Yt=dt.split("."),Yt.length===1)return['"'+dt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(dt=[],jt=0;jt<Yt.length;++jt)dt=dt.concat(e(Yt[jt]));return dt}function x(dt){return"["+e(dt).join("][")+"]"}function P(dt,Yt){if(typeof dt=="function")return new U(0,dt);if(typeof dt=="number"||typeof dt=="boolean")return new U(5,dt);if(Array.isArray(dt))return new U(6,dt.map(function(jt,gr){return P(jt,Yt+"["+gr+"]")}));if(dt instanceof U)return dt}function i(){var dt={"":0},Yt=[""];return{id:function(jt){var gr=dt[jt];return gr||(gr=dt[jt]=Yt.length,Yt.push(jt),gr)},str:function(jt){return Yt[jt]}}}function L(dt,Yt,jt){function gr(){var st=window.innerWidth,xt=window.innerHeight;dt!==document.body&&(xt=sr.getBoundingClientRect(),st=xt.right-xt.left,xt=xt.bottom-xt.top),sr.width=jt*st,sr.height=jt*xt}var sr=document.createElement("canvas");te(sr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),dt.appendChild(sr),dt===document.body&&(sr.style.position="absolute",te(dt.style,{margin:0,padding:0}));var gt;return dt!==document.body&&typeof ResizeObserver=="function"?(gt=new ResizeObserver(function(){setTimeout(gr)}),gt.observe(dt)):window.addEventListener("resize",gr,!1),gr(),{canvas:sr,onDestroy:function(){gt?gt.disconnect():window.removeEventListener("resize",gr),dt.removeChild(sr)}}}function C(dt,Yt){function jt(gr){try{return dt.getContext(gr,Yt)}catch(sr){return null}}return jt("webgl")||jt("experimental-webgl")||jt("webgl-experimental")}function c(dt){return typeof dt=="string"?dt.split():dt}function y(dt){return typeof dt=="string"?document.querySelector(dt):dt}function r(dt){var Yt=dt||{},jt,gr,sr,gt;dt={};var st=[],xt=[],Mt=typeof window=="undefined"?1:window.devicePixelRatio,Rt=!1,Vt={},Ct=function(Xt){},Bt=function(){};if(typeof Yt=="string"?jt=document.querySelector(Yt):typeof Yt=="object"&&(typeof Yt.nodeName=="string"&&typeof Yt.appendChild=="function"&&typeof Yt.getBoundingClientRect=="function"?jt=Yt:typeof Yt.drawArrays=="function"||typeof Yt.drawElements=="function"?(gt=Yt,sr=gt.canvas):("gl"in Yt?gt=Yt.gl:"canvas"in Yt?sr=y(Yt.canvas):"container"in Yt&&(gr=y(Yt.container)),"attributes"in Yt&&(dt=Yt.attributes),"extensions"in Yt&&(st=c(Yt.extensions)),"optionalExtensions"in Yt&&(xt=c(Yt.optionalExtensions)),"onDone"in Yt&&(Ct=Yt.onDone),"profile"in Yt&&(Rt=!!Yt.profile),"pixelRatio"in Yt&&(Mt=+Yt.pixelRatio),"cachedCode"in Yt&&(Vt=Yt.cachedCode))),jt&&(jt.nodeName.toLowerCase()==="canvas"?sr=jt:gr=jt),!gt){if(!sr){if(jt=L(gr||document.body,Ct,Mt),!jt)return null;sr=jt.canvas,Bt=jt.onDestroy}dt.premultipliedAlpha===void 0&&(dt.premultipliedAlpha=!0),gt=C(sr,dt)}return gt?{gl:gt,canvas:sr,container:gr,extensions:st,optionalExtensions:xt,pixelRatio:Mt,profile:Rt,cachedCode:Vt,onDone:Ct,onDestroy:Bt}:(Bt(),Ct("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(dt,Yt){function jt(st){st=st.toLowerCase();var xt;try{xt=gr[st]=dt.getExtension(st)}catch(Mt){}return!!xt}for(var gr={},sr=0;sr<Yt.extensions.length;++sr){var gt=Yt.extensions[sr];if(!jt(gt))return Yt.onDestroy(),Yt.onDone('"'+gt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Yt.optionalExtensions.forEach(jt),{extensions:gr,restore:function(){Object.keys(gr).forEach(function(st){if(gr[st]&&!jt(st))throw Error("(regl): error restoring extension "+st)})}}}function s(dt,Yt){for(var jt=Array(dt),gr=0;gr<dt;++gr)jt[gr]=Yt(gr);return jt}function n(dt){var Yt,jt;return Yt=(65535<dt)<<4,dt>>>=Yt,jt=(255<dt)<<3,dt>>>=jt,Yt|=jt,jt=(15<dt)<<2,dt>>>=jt,Yt|=jt,jt=(3<dt)<<1,Yt|jt|dt>>>jt>>1}function u(){function dt(gr){e:{for(var sr=16;268435456>=sr;sr*=16)if(gr<=sr){gr=sr;break e}gr=0}return sr=jt[n(gr)>>2],0<sr.length?sr.pop():new ArrayBuffer(gr)}function Yt(gr){jt[n(gr.byteLength)>>2].push(gr)}var jt=s(8,function(){return[]});return{alloc:dt,free:Yt,allocType:function(gr,sr){var gt=null;switch(gr){case 5120:gt=new Int8Array(dt(sr),0,sr);break;case 5121:gt=new Uint8Array(dt(sr),0,sr);break;case 5122:gt=new Int16Array(dt(2*sr),0,sr);break;case 5123:gt=new Uint16Array(dt(2*sr),0,sr);break;case 5124:gt=new Int32Array(dt(4*sr),0,sr);break;case 5125:gt=new Uint32Array(dt(4*sr),0,sr);break;case 5126:gt=new Float32Array(dt(4*sr),0,sr);break;default:return null}return gt.length!==sr?gt.subarray(0,sr):gt},freeType:function(gr){Yt(gr.buffer)}}}function l(dt){return!!dt&&typeof dt=="object"&&Array.isArray(dt.shape)&&Array.isArray(dt.stride)&&typeof dt.offset=="number"&&dt.shape.length===dt.stride.length&&(Array.isArray(dt.data)||Ee(dt.data))}function f(dt,Yt,jt,gr,sr,gt){for(var st=0;st<Yt;++st)for(var xt=dt[st],Mt=0;Mt<jt;++Mt)for(var Rt=xt[Mt],Vt=0;Vt<gr;++Vt)sr[gt++]=Rt[Vt]}function g(dt,Yt,jt,gr,sr){for(var gt=1,st=jt+1;st<Yt.length;++st)gt*=Yt[st];var xt=Yt[jt];if(Yt.length-jt===4){var Mt=Yt[jt+1],Rt=Yt[jt+2];for(Yt=Yt[jt+3],st=0;st<xt;++st)f(dt[st],Mt,Rt,Yt,gr,sr),sr+=gt}else for(st=0;st<xt;++st)g(dt[st],Yt,jt+1,gr,sr),sr+=gt}function h(dt){return Ve[Object.prototype.toString.call(dt)]|0}function w(dt,Yt){for(var jt=0;jt<Yt.length;++jt)dt[jt]=Yt[jt]}function d(dt,Yt,jt,gr,sr,gt,st){for(var xt=0,Mt=0;Mt<jt;++Mt)for(var Rt=0;Rt<gr;++Rt)dt[xt++]=Yt[sr*Mt+gt*Rt+st]}function o(dt,Yt,jt,gr){function sr(Ct){this.id=Mt++,this.buffer=dt.createBuffer(),this.type=Ct,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,jt.profile&&(this.stats={size:0})}function gt(Ct,Bt,Xt){Ct.byteLength=Bt.byteLength,dt.bufferData(Ct.type,Bt,Xt)}function st(Ct,Bt,Xt,ir,or,cr){if(Ct.usage=Xt,Array.isArray(Bt)){if(Ct.dtype=ir||5126,0<Bt.length)if(Array.isArray(Bt[0])){or=lt(Bt);for(var We=ir=1;We<or.length;++We)ir*=or[We];Ct.dimension=ir,Bt=Ye(Bt,or,Ct.dtype),gt(Ct,Bt,Xt),cr?Ct.persistentData=Bt:Pe.freeType(Bt)}else typeof Bt[0]=="number"?(Ct.dimension=or,or=Pe.allocType(Ct.dtype,Bt.length),w(or,Bt),gt(Ct,or,Xt),cr?Ct.persistentData=or:Pe.freeType(or)):Ee(Bt[0])&&(Ct.dimension=Bt[0].length,Ct.dtype=ir||h(Bt[0])||5126,Bt=Ye(Bt,[Bt.length,Bt[0].length],Ct.dtype),gt(Ct,Bt,Xt),cr?Ct.persistentData=Bt:Pe.freeType(Bt))}else if(Ee(Bt))Ct.dtype=ir||h(Bt),Ct.dimension=or,gt(Ct,Bt,Xt),cr&&(Ct.persistentData=new Uint8Array(new Uint8Array(Bt.buffer)));else if(l(Bt)){or=Bt.shape;var Ue=Bt.stride,We=Bt.offset,Ft=0,kt=0,Zt=0,rr=0;or.length===1?(Ft=or[0],kt=1,Zt=Ue[0],rr=0):or.length===2&&(Ft=or[0],kt=or[1],Zt=Ue[0],rr=Ue[1]),Ct.dtype=ir||h(Bt.data)||5126,Ct.dimension=kt,or=Pe.allocType(Ct.dtype,Ft*kt),d(or,Bt.data,Ft,kt,Zt,rr,We),gt(Ct,or,Xt),cr?Ct.persistentData=or:Pe.freeType(or)}else Bt instanceof ArrayBuffer&&(Ct.dtype=5121,Ct.dimension=or,gt(Ct,Bt,Xt),cr&&(Ct.persistentData=new Uint8Array(new Uint8Array(Bt))))}function xt(Ct){Yt.bufferCount--,gr(Ct),dt.deleteBuffer(Ct.buffer),Ct.buffer=null,delete Rt[Ct.id]}var Mt=0,Rt={};sr.prototype.bind=function(){dt.bindBuffer(this.type,this.buffer)},sr.prototype.destroy=function(){xt(this)};var Vt=[];return jt.profile&&(Yt.getTotalBufferSize=function(){var Ct=0;return Object.keys(Rt).forEach(function(Bt){Ct+=Rt[Bt].stats.size}),Ct}),{create:function(Ct,Bt,Xt,ir){function or(We){var Ue=35044,Ft=null,kt=0,Zt=0,rr=1;return Array.isArray(We)||Ee(We)||l(We)||We instanceof ArrayBuffer?Ft=We:typeof We=="number"?kt=We|0:We&&("data"in We&&(Ft=We.data),"usage"in We&&(Ue=ke[We.usage]),"type"in We&&(Zt=Ze[We.type]),"dimension"in We&&(rr=We.dimension|0),"length"in We&&(kt=We.length|0)),cr.bind(),Ft?st(cr,Ft,Ue,Zt,rr,ir):(kt&&dt.bufferData(cr.type,kt,Ue),cr.dtype=Zt||5121,cr.usage=Ue,cr.dimension=rr,cr.byteLength=kt),jt.profile&&(cr.stats.size=cr.byteLength*yt[cr.dtype]),or}Yt.bufferCount++;var cr=new sr(Bt);return Rt[cr.id]=cr,Xt||or(Ct),or._reglType="buffer",or._buffer=cr,or.subdata=function(We,Ue){var Ft=(Ue||0)|0,kt;if(cr.bind(),Ee(We)||We instanceof ArrayBuffer)dt.bufferSubData(cr.type,Ft,We);else if(Array.isArray(We)){if(0<We.length)if(typeof We[0]=="number"){var Zt=Pe.allocType(cr.dtype,We.length);w(Zt,We),dt.bufferSubData(cr.type,Ft,Zt),Pe.freeType(Zt)}else(Array.isArray(We[0])||Ee(We[0]))&&(kt=lt(We),Zt=Ye(We,kt,cr.dtype),dt.bufferSubData(cr.type,Ft,Zt),Pe.freeType(Zt))}else if(l(We)){kt=We.shape;var rr=We.stride,lr=Zt=0,qt=0,Ot=0;kt.length===1?(Zt=kt[0],lr=1,qt=rr[0],Ot=0):kt.length===2&&(Zt=kt[0],lr=kt[1],qt=rr[0],Ot=rr[1]),kt=Array.isArray(We.data)?cr.dtype:h(We.data),kt=Pe.allocType(kt,Zt*lr),d(kt,We.data,Zt,lr,qt,Ot,We.offset),dt.bufferSubData(cr.type,Ft,kt),Pe.freeType(kt)}return or},jt.profile&&(or.stats=cr.stats),or.destroy=function(){xt(cr)},or},createStream:function(Ct,Bt){var Xt=Vt.pop();return Xt||(Xt=new sr(Ct)),Xt.bind(),st(Xt,Bt,35040,0,1,!1),Xt},destroyStream:function(Ct){Vt.push(Ct)},clear:function(){xe(Rt).forEach(xt),Vt.forEach(xt)},getBuffer:function(Ct){return Ct&&Ct._buffer instanceof sr?Ct._buffer:null},restore:function(){xe(Rt).forEach(function(Ct){Ct.buffer=dt.createBuffer(),dt.bindBuffer(Ct.type,Ct.buffer),dt.bufferData(Ct.type,Ct.persistentData||Ct.byteLength,Ct.usage)})},_initBuffer:st}}function v(dt,Yt,jt,gr){function sr(Ct){this.id=Mt++,xt[this.id]=this,this.buffer=Ct,this.primType=4,this.type=this.vertCount=0}function gt(Ct,Bt,Xt,ir,or,cr,We){Ct.buffer.bind();var Ue;if(Bt?((Ue=We)||Ee(Bt)&&(!l(Bt)||Ee(Bt.data))||(Ue=Yt.oes_element_index_uint?5125:5123),jt._initBuffer(Ct.buffer,Bt,Xt,Ue,3)):(dt.bufferData(34963,cr,Xt),Ct.buffer.dtype=Ue||5121,Ct.buffer.usage=Xt,Ct.buffer.dimension=3,Ct.buffer.byteLength=cr),Ue=We,!We){switch(Ct.buffer.dtype){case 5121:case 5120:Ue=5121;break;case 5123:case 5122:Ue=5123;break;case 5125:case 5124:Ue=5125}Ct.buffer.dtype=Ue}Ct.type=Ue,Bt=or,0>Bt&&(Bt=Ct.buffer.byteLength,Ue===5123?Bt>>=1:Ue===5125&&(Bt>>=2)),Ct.vertCount=Bt,Bt=ir,0>ir&&(Bt=4,ir=Ct.buffer.dimension,ir===1&&(Bt=0),ir===2&&(Bt=1),ir===3&&(Bt=4)),Ct.primType=Bt}function st(Ct){gr.elementsCount--,delete xt[Ct.id],Ct.buffer.destroy(),Ct.buffer=null}var xt={},Mt=0,Rt={uint8:5121,uint16:5123};Yt.oes_element_index_uint&&(Rt.uint32=5125),sr.prototype.bind=function(){this.buffer.bind()};var Vt=[];return{create:function(Ct,Bt){function Xt(cr){if(cr)if(typeof cr=="number")ir(cr),or.primType=4,or.vertCount=cr|0,or.type=5121;else{var We=null,Ue=35044,Ft=-1,kt=-1,Zt=0,rr=0;Array.isArray(cr)||Ee(cr)||l(cr)?We=cr:("data"in cr&&(We=cr.data),"usage"in cr&&(Ue=ke[cr.usage]),"primitive"in cr&&(Ft=He[cr.primitive]),"count"in cr&&(kt=cr.count|0),"type"in cr&&(rr=Rt[cr.type]),"length"in cr?Zt=cr.length|0:(Zt=kt,rr===5123||rr===5122?Zt*=2:(rr===5125||rr===5124)&&(Zt*=4))),gt(or,We,Ue,Ft,kt,Zt,rr)}else ir(),or.primType=4,or.vertCount=0,or.type=5121;return Xt}var ir=jt.create(null,34963,!0),or=new sr(ir._buffer);return gr.elementsCount++,Xt(Ct),Xt._reglType="elements",Xt._elements=or,Xt.subdata=function(cr,We){return ir.subdata(cr,We),Xt},Xt.destroy=function(){st(or)},Xt},createStream:function(Ct){var Bt=Vt.pop();return Bt||(Bt=new sr(jt.create(null,34963,!0,!1)._buffer)),gt(Bt,Ct,35040,-1,-1,0,0),Bt},destroyStream:function(Ct){Vt.push(Ct)},getElements:function(Ct){return typeof Ct=="function"&&Ct._elements instanceof sr?Ct._elements:null},clear:function(){xe(xt).forEach(st)}}}function A(dt){for(var Yt=Pe.allocType(5123,dt.length),jt=0;jt<dt.length;++jt)if(isNaN(dt[jt]))Yt[jt]=65535;else if(dt[jt]===1/0)Yt[jt]=31744;else if(dt[jt]===-1/0)Yt[jt]=64512;else{Fe[0]=dt[jt];var gt=nt[0],gr=gt>>>31<<15,sr=(gt<<1>>>24)-127,gt=gt>>13&1023;Yt[jt]=-24>sr?gr:-14>sr?gr+(gt+1024>>-14-sr):15<sr?gr+31744:gr+(sr+15<<10)+gt}return Yt}function b(dt){return Array.isArray(dt)||Ee(dt)}function M(dt){return"[object "+dt+"]"}function m(dt){return Array.isArray(dt)&&(dt.length===0||typeof dt[0]=="number")}function S(dt){return!!(Array.isArray(dt)&&dt.length!==0&&b(dt[0]))}function T(dt){return Object.prototype.toString.call(dt)}function a(dt){if(!dt)return!1;var Yt=T(dt);return 0<=Oe.indexOf(Yt)?!0:m(dt)||S(dt)||l(dt)}function E(dt,Yt){dt.type===36193?(dt.data=A(Yt),Pe.freeType(Yt)):dt.data=Yt}function p(dt,Yt,jt,gr,sr,gt){if(dt=typeof ze[dt]!="undefined"?ze[dt]:ht[dt]*Ne[Yt],gt&&(dt*=6),sr){for(gr=0;1<=jt;)gr+=dt*jt*jt,jt/=2;return gr}return dt*jt*gr}function k(dt,Yt,jt,gr,sr,gt,st){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Mt(pr,Jr){pr.internalformat=Jr.internalformat,pr.format=Jr.format,pr.type=Jr.type,pr.compressed=Jr.compressed,pr.premultiplyAlpha=Jr.premultiplyAlpha,pr.flipY=Jr.flipY,pr.unpackAlignment=Jr.unpackAlignment,pr.colorSpace=Jr.colorSpace,pr.width=Jr.width,pr.height=Jr.height,pr.channels=Jr.channels}function Rt(pr,Jr){if(typeof Jr=="object"&&Jr){"premultiplyAlpha"in Jr&&(pr.premultiplyAlpha=Jr.premultiplyAlpha),"flipY"in Jr&&(pr.flipY=Jr.flipY),"alignment"in Jr&&(pr.unpackAlignment=Jr.alignment),"colorSpace"in Jr&&(pr.colorSpace=rn[Jr.colorSpace]),"type"in Jr&&(pr.type=_r[Jr.type]);var Xr=pr.width,vn=pr.height,Bn=pr.channels,Tn=!1;"shape"in Jr?(Xr=Jr.shape[0],vn=Jr.shape[1],Jr.shape.length===3&&(Bn=Jr.shape[2],Tn=!0)):("radius"in Jr&&(Xr=vn=Jr.radius),"width"in Jr&&(Xr=Jr.width),"height"in Jr&&(vn=Jr.height),"channels"in Jr&&(Bn=Jr.channels,Tn=!0)),pr.width=Xr|0,pr.height=vn|0,pr.channels=Bn|0,Xr=!1,"format"in Jr&&(Xr=Jr.format,vn=pr.internalformat=bn[Xr],pr.format=Pn[vn],Xr in _r&&!("type"in Jr)&&(pr.type=_r[Xr]),Xr in xn&&(pr.compressed=!0),Xr=!0),!Tn&&Xr?pr.channels=ht[pr.format]:Tn&&!Xr&&pr.channels!==ct[pr.format]&&(pr.format=pr.internalformat=ct[pr.channels])}}function Vt(pr){dt.pixelStorei(37440,pr.flipY),dt.pixelStorei(37441,pr.premultiplyAlpha),dt.pixelStorei(37443,pr.colorSpace),dt.pixelStorei(3317,pr.unpackAlignment)}function Ct(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bt(pr,Jr){var Xr=null;if(a(Jr)?Xr=Jr:Jr&&(Rt(pr,Jr),"x"in Jr&&(pr.xOffset=Jr.x|0),"y"in Jr&&(pr.yOffset=Jr.y|0),a(Jr.data)&&(Xr=Jr.data)),Jr.copy){var vn=sr.viewportWidth,Bn=sr.viewportHeight;pr.width=pr.width||vn-pr.xOffset,pr.height=pr.height||Bn-pr.yOffset,pr.needsCopy=!0}else if(!Xr)pr.width=pr.width||1,pr.height=pr.height||1,pr.channels=pr.channels||4;else if(Ee(Xr))pr.channels=pr.channels||4,pr.data=Xr,"type"in Jr||pr.type!==5121||(pr.type=Ve[Object.prototype.toString.call(Xr)]|0);else if(m(Xr)){switch(pr.channels=pr.channels||4,vn=Xr,Bn=vn.length,pr.type){case 5121:case 5123:case 5125:case 5126:Bn=Pe.allocType(pr.type,Bn),Bn.set(vn),pr.data=Bn;break;case 36193:pr.data=A(vn)}pr.alignment=1,pr.needsFree=!0}else if(l(Xr)){vn=Xr.data,Array.isArray(vn)||pr.type!==5121||(pr.type=Ve[Object.prototype.toString.call(vn)]|0);var Bn=Xr.shape,Tn=Xr.stride,Mn,On,Wn,oa;Bn.length===3?(Wn=Bn[2],oa=Tn[2]):oa=Wn=1,Mn=Bn[0],On=Bn[1],Bn=Tn[0],Tn=Tn[1],pr.alignment=1,pr.width=Mn,pr.height=On,pr.channels=Wn,pr.format=pr.internalformat=ct[Wn],pr.needsFree=!0,Mn=oa,Xr=Xr.offset,Wn=pr.width,oa=pr.height,On=pr.channels;for(var Ra=Pe.allocType(pr.type===36193?5126:pr.type,Wn*oa*On),Ar=0,Ir=0;Ir<oa;++Ir)for(var Tr=0;Tr<Wn;++Tr)for(var Fr=0;Fr<On;++Fr)Ra[Ar++]=vn[Bn*Tr+Tn*Ir+Mn*Fr+Xr];E(pr,Ra)}else if(T(Xr)===mt||T(Xr)===tt||T(Xr)===Re)T(Xr)===mt||T(Xr)===tt?pr.element=Xr:pr.element=Xr.canvas,pr.width=pr.element.width,pr.height=pr.element.height,pr.channels=4;else if(T(Xr)===Ge)pr.element=Xr,pr.width=Xr.width,pr.height=Xr.height,pr.channels=4;else if(T(Xr)===Je)pr.element=Xr,pr.width=Xr.naturalWidth,pr.height=Xr.naturalHeight,pr.channels=4;else if(T(Xr)===Xe)pr.element=Xr,pr.width=Xr.videoWidth,pr.height=Xr.videoHeight,pr.channels=4;else if(S(Xr)){for(vn=pr.width||Xr[0].length,Bn=pr.height||Xr.length,Tn=pr.channels,Tn=b(Xr[0][0])?Tn||Xr[0][0].length:Tn||1,Mn=De.shape(Xr),Wn=1,oa=0;oa<Mn.length;++oa)Wn*=Mn[oa];Wn=Pe.allocType(pr.type===36193?5126:pr.type,Wn),De.flatten(Xr,Mn,"",Wn),E(pr,Wn),pr.alignment=1,pr.width=vn,pr.height=Bn,pr.channels=Tn,pr.format=pr.internalformat=ct[Tn],pr.needsFree=!0}}function Xt(pr,Jr,Xr,vn,Bn){var Tn=pr.element,Mn=pr.data,On=pr.internalformat,Wn=pr.format,oa=pr.type,Ra=pr.width,Ar=pr.height;Vt(pr),Tn?dt.texSubImage2D(Jr,Bn,Xr,vn,Wn,oa,Tn):pr.compressed?dt.compressedTexSubImage2D(Jr,Bn,Xr,vn,On,Ra,Ar,Mn):pr.needsCopy?(gr(),dt.copyTexSubImage2D(Jr,Bn,Xr,vn,pr.xOffset,pr.yOffset,Ra,Ar)):dt.texSubImage2D(Jr,Bn,Xr,vn,Ra,Ar,Wn,oa,Mn)}function ir(){return zn.pop()||new Ct}function or(pr){pr.needsFree&&Pe.freeType(pr.data),Ct.call(pr),zn.push(pr)}function cr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function We(pr,Jr,Xr){var vn=pr.images[0]=ir();pr.mipmask=1,vn.width=pr.width=Jr,vn.height=pr.height=Xr,vn.channels=pr.channels=4}function Ue(pr,Jr){var Xr=null;if(a(Jr))Xr=pr.images[0]=ir(),Mt(Xr,pr),Bt(Xr,Jr),pr.mipmask=1;else if(Rt(pr,Jr),Array.isArray(Jr.mipmap))for(var vn=Jr.mipmap,Bn=0;Bn<vn.length;++Bn)Xr=pr.images[Bn]=ir(),Mt(Xr,pr),Xr.width>>=Bn,Xr.height>>=Bn,Bt(Xr,vn[Bn]),pr.mipmask|=1<<Bn;else Xr=pr.images[0]=ir(),Mt(Xr,pr),Bt(Xr,Jr),pr.mipmask=1;Mt(pr,pr.images[0])}function Ft(pr,Jr){for(var Xr=pr.images,vn=0;vn<Xr.length&&Xr[vn];++vn){var Bn=Xr[vn],Tn=Jr,Mn=vn,On=Bn.element,Wn=Bn.data,oa=Bn.internalformat,Ra=Bn.format,Ar=Bn.type,Ir=Bn.width,Tr=Bn.height;Vt(Bn),On?dt.texImage2D(Tn,Mn,Ra,Ra,Ar,On):Bn.compressed?dt.compressedTexImage2D(Tn,Mn,oa,Ir,Tr,0,Wn):Bn.needsCopy?(gr(),dt.copyTexImage2D(Tn,Mn,Ra,Bn.xOffset,Bn.yOffset,Ir,Tr,0)):dt.texImage2D(Tn,Mn,Ra,Ir,Tr,0,Ra,Ar,Wn||null)}}function kt(){var pr=ta.pop()||new cr;xt.call(pr);for(var Jr=pr.mipmask=0;16>Jr;++Jr)pr.images[Jr]=null;return pr}function Zt(pr){for(var Jr=pr.images,Xr=0;Xr<Jr.length;++Xr)Jr[Xr]&&or(Jr[Xr]),Jr[Xr]=null;ta.push(pr)}function rr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function lr(pr,Jr){"min"in Jr&&(pr.minFilter=Gr[Jr.min],0<=ot.indexOf(pr.minFilter)&&!("faces"in Jr)&&(pr.genMipmaps=!0)),"mag"in Jr&&(pr.magFilter=yr[Jr.mag]);var Xr=pr.wrapS,vn=pr.wrapT;if("wrap"in Jr){var Bn=Jr.wrap;typeof Bn=="string"?Xr=vn=$r[Bn]:Array.isArray(Bn)&&(Xr=$r[Bn[0]],vn=$r[Bn[1]])}else"wrapS"in Jr&&(Xr=$r[Jr.wrapS]),"wrapT"in Jr&&(vn=$r[Jr.wrapT]);if(pr.wrapS=Xr,pr.wrapT=vn,"anisotropic"in Jr&&(pr.anisotropic=Jr.anisotropic),"mipmap"in Jr){switch(Xr=!1,typeof Jr.mipmap){case"string":pr.mipmapHint=Cr[Jr.mipmap],Xr=pr.genMipmaps=!0;break;case"boolean":Xr=pr.genMipmaps=Jr.mipmap;break;case"object":pr.genMipmaps=!1,Xr=!0}!Xr||"min"in Jr||(pr.minFilter=9984)}}function qt(pr,Jr){dt.texParameteri(Jr,10241,pr.minFilter),dt.texParameteri(Jr,10240,pr.magFilter),dt.texParameteri(Jr,10242,pr.wrapS),dt.texParameteri(Jr,10243,pr.wrapT),Yt.ext_texture_filter_anisotropic&&dt.texParameteri(Jr,34046,pr.anisotropic),pr.genMipmaps&&(dt.hint(33170,pr.mipmapHint),dt.generateMipmap(Jr))}function Ot(pr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Un++,this.refCount=1,this.target=pr,this.texture=dt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rr,st.profile&&(this.stats={size:0})}function tr(pr){dt.activeTexture(33984),dt.bindTexture(pr.target,pr.texture)}function dr(){var pr=ea[0];pr?dt.bindTexture(pr.target,pr.texture):dt.bindTexture(3553,null)}function mr(pr){var Jr=pr.texture,Xr=pr.unit,vn=pr.target;0<=Xr&&(dt.activeTexture(33984+Xr),dt.bindTexture(vn,null),ea[Xr]=null),dt.deleteTexture(Jr),pr.texture=null,pr.params=null,pr.pixels=null,pr.refCount=0,delete ra[pr.id],gt.textureCount--}var Cr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},$r={repeat:10497,clamp:33071,mirror:33648},yr={nearest:9728,linear:9729},Gr=te({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},yr),rn={none:0,browser:37444},_r={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},bn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},xn={};Yt.ext_srgb&&(bn.srgb=35904,bn.srgba=35906),Yt.oes_texture_float&&(_r.float32=_r.float=5126),Yt.oes_texture_half_float&&(_r.float16=_r["half float"]=36193),Yt.webgl_depth_texture&&(te(bn,{depth:6402,"depth stencil":34041}),te(_r,{uint16:5123,uint32:5125,"depth stencil":34042})),Yt.webgl_compressed_texture_s3tc&&te(xn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Yt.webgl_compressed_texture_atc&&te(xn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Yt.webgl_compressed_texture_pvrtc&&te(xn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Yt.webgl_compressed_texture_etc1&&(xn["rgb etc1"]=36196);var fr=Array.prototype.slice.call(dt.getParameter(34467));Object.keys(xn).forEach(function(pr){var Jr=xn[pr];0<=fr.indexOf(Jr)&&(bn[pr]=Jr)});var Dr=Object.keys(bn);jt.textureFormats=Dr;var Nr=[];Object.keys(bn).forEach(function(pr){Nr[bn[pr]]=pr});var Ur=[];Object.keys(_r).forEach(function(pr){Ur[_r[pr]]=pr});var on=[];Object.keys(yr).forEach(function(pr){on[yr[pr]]=pr});var gn=[];Object.keys(Gr).forEach(function(pr){gn[Gr[pr]]=pr});var yn=[];Object.keys($r).forEach(function(pr){yn[$r[pr]]=pr});var Pn=Dr.reduce(function(pr,Jr){var Xr=bn[Jr];return Xr===6409||Xr===6406||Xr===6409||Xr===6410||Xr===6402||Xr===34041||Yt.ext_srgb&&(Xr===35904||Xr===35906)?pr[Xr]=Xr:Xr===32855||0<=Jr.indexOf("rgba")?pr[Xr]=6408:pr[Xr]=6407,pr},{}),zn=[],ta=[],Un=0,ra={},Jn=jt.maxTextureUnits,ea=Array(Jn).map(function(){return null});return te(Ot.prototype,{bind:function(){this.bindCount+=1;var pr=this.unit;if(0>pr){for(var Jr=0;Jr<Jn;++Jr){var Xr=ea[Jr];if(Xr){if(0<Xr.bindCount)continue;Xr.unit=-1}ea[Jr]=this,pr=Jr;break}st.profile&&gt.maxTextureUnits<pr+1&&(gt.maxTextureUnits=pr+1),this.unit=pr,dt.activeTexture(33984+pr),dt.bindTexture(this.target,this.texture)}return pr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&mr(this)}}),st.profile&&(gt.getTotalTextureSize=function(){var pr=0;return Object.keys(ra).forEach(function(Jr){pr+=ra[Jr].stats.size}),pr}),{create2D:function(pr,Jr){function Xr(Bn,Tn){var Mn=vn.texInfo;rr.call(Mn);var On=kt();return typeof Bn=="number"?typeof Tn=="number"?We(On,Bn|0,Tn|0):We(On,Bn|0,Bn|0):Bn?(lr(Mn,Bn),Ue(On,Bn)):We(On,1,1),Mn.genMipmaps&&(On.mipmask=(On.width<<1)-1),vn.mipmask=On.mipmask,Mt(vn,On),vn.internalformat=On.internalformat,Xr.width=On.width,Xr.height=On.height,tr(vn),Ft(On,3553),qt(Mn,3553),dr(),Zt(On),st.profile&&(vn.stats.size=p(vn.internalformat,vn.type,On.width,On.height,Mn.genMipmaps,!1)),Xr.format=Nr[vn.internalformat],Xr.type=Ur[vn.type],Xr.mag=on[Mn.magFilter],Xr.min=gn[Mn.minFilter],Xr.wrapS=yn[Mn.wrapS],Xr.wrapT=yn[Mn.wrapT],Xr}var vn=new Ot(3553);return ra[vn.id]=vn,gt.textureCount++,Xr(pr,Jr),Xr.subimage=function(Bn,Tn,Mn,On){Tn|=0,Mn|=0,On|=0;var Wn=ir();return Mt(Wn,vn),Wn.width=0,Wn.height=0,Bt(Wn,Bn),Wn.width=Wn.width||(vn.width>>On)-Tn,Wn.height=Wn.height||(vn.height>>On)-Mn,tr(vn),Xt(Wn,3553,Tn,Mn,On),dr(),or(Wn),Xr},Xr.resize=function(Bn,Tn){var Mn=Bn|0,On=Tn|0||Mn;if(Mn===vn.width&&On===vn.height)return Xr;Xr.width=vn.width=Mn,Xr.height=vn.height=On,tr(vn);for(var Wn=0;vn.mipmask>>Wn;++Wn){var oa=Mn>>Wn,Ra=On>>Wn;if(!oa||!Ra)break;dt.texImage2D(3553,Wn,vn.format,oa,Ra,0,vn.format,vn.type,null)}return dr(),st.profile&&(vn.stats.size=p(vn.internalformat,vn.type,Mn,On,!1,!1)),Xr},Xr._reglType="texture2d",Xr._texture=vn,st.profile&&(Xr.stats=vn.stats),Xr.destroy=function(){vn.decRef()},Xr},createCube:function(pr,Jr,Xr,vn,Bn,Tn){function Mn(oa,Ra,Ar,Ir,Tr,Fr){var dn,Ln=On.texInfo;for(rr.call(Ln),dn=0;6>dn;++dn)Wn[dn]=kt();if(typeof oa=="number"||!oa)for(oa=oa|0||1,dn=0;6>dn;++dn)We(Wn[dn],oa,oa);else if(typeof oa=="object")if(Ra)Ue(Wn[0],oa),Ue(Wn[1],Ra),Ue(Wn[2],Ar),Ue(Wn[3],Ir),Ue(Wn[4],Tr),Ue(Wn[5],Fr);else if(lr(Ln,oa),Rt(On,oa),"faces"in oa)for(oa=oa.faces,dn=0;6>dn;++dn)Mt(Wn[dn],On),Ue(Wn[dn],oa[dn]);else for(dn=0;6>dn;++dn)Ue(Wn[dn],oa);for(Mt(On,Wn[0]),On.mipmask=Ln.genMipmaps?(Wn[0].width<<1)-1:Wn[0].mipmask,On.internalformat=Wn[0].internalformat,Mn.width=Wn[0].width,Mn.height=Wn[0].height,tr(On),dn=0;6>dn;++dn)Ft(Wn[dn],34069+dn);for(qt(Ln,34067),dr(),st.profile&&(On.stats.size=p(On.internalformat,On.type,Mn.width,Mn.height,Ln.genMipmaps,!0)),Mn.format=Nr[On.internalformat],Mn.type=Ur[On.type],Mn.mag=on[Ln.magFilter],Mn.min=gn[Ln.minFilter],Mn.wrapS=yn[Ln.wrapS],Mn.wrapT=yn[Ln.wrapT],dn=0;6>dn;++dn)Zt(Wn[dn]);return Mn}var On=new Ot(34067);ra[On.id]=On,gt.cubeCount++;var Wn=Array(6);return Mn(pr,Jr,Xr,vn,Bn,Tn),Mn.subimage=function(oa,Ra,Ar,Ir,Tr){Ar|=0,Ir|=0,Tr|=0;var Fr=ir();return Mt(Fr,On),Fr.width=0,Fr.height=0,Bt(Fr,Ra),Fr.width=Fr.width||(On.width>>Tr)-Ar,Fr.height=Fr.height||(On.height>>Tr)-Ir,tr(On),Xt(Fr,34069+oa,Ar,Ir,Tr),dr(),or(Fr),Mn},Mn.resize=function(oa){if(oa|=0,oa!==On.width){Mn.width=On.width=oa,Mn.height=On.height=oa,tr(On);for(var Ra=0;6>Ra;++Ra)for(var Ar=0;On.mipmask>>Ar;++Ar)dt.texImage2D(34069+Ra,Ar,On.format,oa>>Ar,oa>>Ar,0,On.format,On.type,null);return dr(),st.profile&&(On.stats.size=p(On.internalformat,On.type,Mn.width,Mn.height,!1,!0)),Mn}},Mn._reglType="textureCube",Mn._texture=On,st.profile&&(Mn.stats=On.stats),Mn.destroy=function(){On.decRef()},Mn},clear:function(){for(var pr=0;pr<Jn;++pr)dt.activeTexture(33984+pr),dt.bindTexture(3553,null),ea[pr]=null;xe(ra).forEach(mr),gt.cubeCount=0,gt.textureCount=0},getTexture:function(pr){return null},restore:function(){for(var pr=0;pr<Jn;++pr){var Jr=ea[pr];Jr&&(Jr.bindCount=0,Jr.unit=-1,ea[pr]=null)}xe(ra).forEach(function(Xr){Xr.texture=dt.createTexture(),dt.bindTexture(Xr.target,Xr.texture);for(var vn=0;32>vn;++vn)if(Xr.mipmask&1<<vn)if(Xr.target===3553)dt.texImage2D(3553,vn,Xr.internalformat,Xr.width>>vn,Xr.height>>vn,0,Xr.internalformat,Xr.type,null);else for(var Bn=0;6>Bn;++Bn)dt.texImage2D(34069+Bn,vn,Xr.internalformat,Xr.width>>vn,Xr.height>>vn,0,Xr.internalformat,Xr.type,null);qt(Xr.texInfo,Xr.target)})},refresh:function(){for(var pr=0;pr<Jn;++pr){var Jr=ea[pr];Jr&&(Jr.bindCount=0,Jr.unit=-1,ea[pr]=null),dt.activeTexture(33984+pr),dt.bindTexture(3553,null),dt.bindTexture(34067,null)}}}}function R(dt,Yt,jt,gr,sr,gt){function st(Ot,tr,dr){this.target=Ot,this.texture=tr,this.renderbuffer=dr;var mr=Ot=0;tr?(Ot=tr.width,mr=tr.height):dr&&(Ot=dr.width,mr=dr.height),this.width=Ot,this.height=mr}function xt(Ot){Ot&&(Ot.texture&&Ot.texture._texture.decRef(),Ot.renderbuffer&&Ot.renderbuffer._renderbuffer.decRef())}function Mt(Ot,tr,dr){Ot&&(Ot.texture?Ot.texture._texture.refCount+=1:Ot.renderbuffer._renderbuffer.refCount+=1)}function Rt(Ot,tr){tr&&(tr.texture?dt.framebufferTexture2D(36160,Ot,tr.target,tr.texture._texture.texture,0):dt.framebufferRenderbuffer(36160,Ot,36161,tr.renderbuffer._renderbuffer.renderbuffer))}function Vt(Ot){var tr=3553,dr=null,mr=null,Cr=Ot;return typeof Ot=="object"&&(Cr=Ot.data,"target"in Ot&&(tr=Ot.target|0)),Ot=Cr._reglType,Ot==="texture2d"||Ot==="textureCube"?dr=Cr:Ot==="renderbuffer"&&(mr=Cr,tr=36161),new st(tr,dr,mr)}function Ct(Ot,tr,dr,mr,Cr){return dr?(Ot=gr.create2D({width:Ot,height:tr,format:mr,type:Cr}),Ot._texture.refCount=0,new st(3553,Ot,null)):(Ot=sr.create({width:Ot,height:tr,format:mr}),Ot._renderbuffer.refCount=0,new st(36161,null,Ot))}function Bt(Ot){return Ot&&(Ot.texture||Ot.renderbuffer)}function Xt(Ot,tr,dr){Ot&&(Ot.texture?Ot.texture.resize(tr,dr):Ot.renderbuffer&&Ot.renderbuffer.resize(tr,dr),Ot.width=tr,Ot.height=dr)}function ir(){this.id=lr++,qt[this.id]=this,this.framebuffer=dt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function or(Ot){Ot.colorAttachments.forEach(xt),xt(Ot.depthAttachment),xt(Ot.stencilAttachment),xt(Ot.depthStencilAttachment)}function cr(Ot){dt.deleteFramebuffer(Ot.framebuffer),Ot.framebuffer=null,gt.framebufferCount--,delete qt[Ot.id]}function We(Ot){var tr;dt.bindFramebuffer(36160,Ot.framebuffer);var dr=Ot.colorAttachments;for(tr=0;tr<dr.length;++tr)Rt(36064+tr,dr[tr]);for(tr=dr.length;tr<jt.maxColorAttachments;++tr)dt.framebufferTexture2D(36160,36064+tr,3553,null,0);dt.framebufferTexture2D(36160,33306,3553,null,0),dt.framebufferTexture2D(36160,36096,3553,null,0),dt.framebufferTexture2D(36160,36128,3553,null,0),Rt(36096,Ot.depthAttachment),Rt(36128,Ot.stencilAttachment),Rt(33306,Ot.depthStencilAttachment),dt.checkFramebufferStatus(36160),dt.isContextLost(),dt.bindFramebuffer(36160,Ft.next?Ft.next.framebuffer:null),Ft.cur=Ft.next,dt.getError()}function Ue(Ot,tr){function dr(Cr,$r){var yr,Gr=0,rn=0,_r=!0,bn=!0;yr=null;var xn=!0,fr="rgba",Dr="uint8",Nr=1,Ur=null,on=null,gn=null,yn=!1;typeof Cr=="number"?(Gr=Cr|0,rn=$r|0||Gr):Cr?("shape"in Cr?(rn=Cr.shape,Gr=rn[0],rn=rn[1]):("radius"in Cr&&(Gr=rn=Cr.radius),"width"in Cr&&(Gr=Cr.width),"height"in Cr&&(rn=Cr.height)),("color"in Cr||"colors"in Cr)&&(yr=Cr.color||Cr.colors,Array.isArray(yr)),yr||("colorCount"in Cr&&(Nr=Cr.colorCount|0),"colorTexture"in Cr&&(xn=!!Cr.colorTexture,fr="rgba4"),"colorType"in Cr&&(Dr=Cr.colorType,!xn)&&(Dr==="half float"||Dr==="float16"?fr="rgba16f":(Dr==="float"||Dr==="float32")&&(fr="rgba32f")),"colorFormat"in Cr&&(fr=Cr.colorFormat,0<=kt.indexOf(fr)?xn=!0:0<=Zt.indexOf(fr)&&(xn=!1))),("depthTexture"in Cr||"depthStencilTexture"in Cr)&&(yn=!(!Cr.depthTexture&&!Cr.depthStencilTexture)),"depth"in Cr&&(typeof Cr.depth=="boolean"?_r=Cr.depth:(Ur=Cr.depth,bn=!1)),"stencil"in Cr&&(typeof Cr.stencil=="boolean"?bn=Cr.stencil:(on=Cr.stencil,_r=!1)),"depthStencil"in Cr&&(typeof Cr.depthStencil=="boolean"?_r=bn=Cr.depthStencil:(gn=Cr.depthStencil,bn=_r=!1))):Gr=rn=1;var Pn=null,zn=null,ta=null,Un=null;if(Array.isArray(yr))Pn=yr.map(Vt);else if(yr)Pn=[Vt(yr)];else for(Pn=Array(Nr),yr=0;yr<Nr;++yr)Pn[yr]=Ct(Gr,rn,xn,fr,Dr);for(Gr=Gr||Pn[0].width,rn=rn||Pn[0].height,Ur?zn=Vt(Ur):_r&&!bn&&(zn=Ct(Gr,rn,yn,"depth","uint32")),on?ta=Vt(on):bn&&!_r&&(ta=Ct(Gr,rn,!1,"stencil","uint8")),gn?Un=Vt(gn):!Ur&&!on&&bn&&_r&&(Un=Ct(Gr,rn,yn,"depth stencil","depth stencil")),_r=null,yr=0;yr<Pn.length;++yr)Mt(Pn[yr],Gr,rn),Pn[yr]&&Pn[yr].texture&&(bn=Te[Pn[yr].texture._texture.format]*ye[Pn[yr].texture._texture.type],_r===null&&(_r=bn));return Mt(zn,Gr,rn),Mt(ta,Gr,rn),Mt(Un,Gr,rn),or(mr),mr.width=Gr,mr.height=rn,mr.colorAttachments=Pn,mr.depthAttachment=zn,mr.stencilAttachment=ta,mr.depthStencilAttachment=Un,dr.color=Pn.map(Bt),dr.depth=Bt(zn),dr.stencil=Bt(ta),dr.depthStencil=Bt(Un),dr.width=mr.width,dr.height=mr.height,We(mr),dr}var mr=new ir;return gt.framebufferCount++,dr(Ot,tr),te(dr,{resize:function(Cr,$r){var yr=Math.max(Cr|0,1),Gr=Math.max($r|0||yr,1);if(yr===mr.width&&Gr===mr.height)return dr;for(var rn=mr.colorAttachments,_r=0;_r<rn.length;++_r)Xt(rn[_r],yr,Gr);return Xt(mr.depthAttachment,yr,Gr),Xt(mr.stencilAttachment,yr,Gr),Xt(mr.depthStencilAttachment,yr,Gr),mr.width=dr.width=yr,mr.height=dr.height=Gr,We(mr),dr},_reglType:"framebuffer",_framebuffer:mr,destroy:function(){cr(mr),or(mr)},use:function(Cr){Ft.setFBO({framebuffer:dr},Cr)}})}var Ft={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];Yt.ext_srgb&&Zt.push("srgba"),Yt.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),Yt.webgl_color_buffer_float&&Zt.push("rgba32f");var rr=["uint8"];Yt.oes_texture_half_float&&rr.push("half float","float16"),Yt.oes_texture_float&&rr.push("float","float32");var lr=0,qt={};return te(Ft,{getFramebuffer:function(Ot){return typeof Ot=="function"&&Ot._reglType==="framebuffer"&&(Ot=Ot._framebuffer,Ot instanceof ir)?Ot:null},create:Ue,createCube:function(Ot){function tr(mr){var Cr,$r={color:null},yr=0,Gr=null;Cr="rgba";var rn="uint8",_r=1;if(typeof mr=="number"?yr=mr|0:mr?("shape"in mr?yr=mr.shape[0]:("radius"in mr&&(yr=mr.radius|0),"width"in mr?yr=mr.width|0:"height"in mr&&(yr=mr.height|0)),("color"in mr||"colors"in mr)&&(Gr=mr.color||mr.colors,Array.isArray(Gr)),Gr||("colorCount"in mr&&(_r=mr.colorCount|0),"colorType"in mr&&(rn=mr.colorType),"colorFormat"in mr&&(Cr=mr.colorFormat)),"depth"in mr&&($r.depth=mr.depth),"stencil"in mr&&($r.stencil=mr.stencil),"depthStencil"in mr&&($r.depthStencil=mr.depthStencil)):yr=1,Gr)if(Array.isArray(Gr))for(mr=[],Cr=0;Cr<Gr.length;++Cr)mr[Cr]=Gr[Cr];else mr=[Gr];else for(mr=Array(_r),Gr={radius:yr,format:Cr,type:rn},Cr=0;Cr<_r;++Cr)mr[Cr]=gr.createCube(Gr);for($r.color=Array(mr.length),Cr=0;Cr<mr.length;++Cr)_r=mr[Cr],yr=yr||_r.width,$r.color[Cr]={target:34069,data:mr[Cr]};for(Cr=0;6>Cr;++Cr){for(_r=0;_r<mr.length;++_r)$r.color[_r].target=34069+Cr;0<Cr&&($r.depth=dr[0].depth,$r.stencil=dr[0].stencil,$r.depthStencil=dr[0].depthStencil),dr[Cr]?dr[Cr]($r):dr[Cr]=Ue($r)}return te(tr,{width:yr,height:yr,color:mr})}var dr=Array(6);return tr(Ot),te(tr,{faces:dr,resize:function(mr){var Cr=mr|0;if(Cr===tr.width)return tr;var $r=tr.color;for(mr=0;mr<$r.length;++mr)$r[mr].resize(Cr);for(mr=0;6>mr;++mr)dr[mr].resize(Cr);return tr.width=tr.height=Cr,tr},_reglType:"framebufferCube",destroy:function(){dr.forEach(function(mr){mr.destroy()})}})},clear:function(){xe(qt).forEach(cr)},restore:function(){Ft.cur=null,Ft.next=null,Ft.dirty=!0,xe(qt).forEach(function(Ot){Ot.framebuffer=dt.createFramebuffer(),We(Ot)})}})}function B(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(dt,Yt,jt,gr,sr,gt,st){function xt(We){if(We!==cr.currentVAO){var Ue=Yt.oes_vertex_array_object;We?Ue.bindVertexArrayOES(We.vao):Ue.bindVertexArrayOES(null),cr.currentVAO=We}}function Mt(We){if(We!==cr.currentVAO){if(We)We.bindAttrs();else{for(var Ue=Yt.angle_instanced_arrays,Ft=0;Ft<Xt.length;++Ft){var kt=Xt[Ft];kt.buffer?(dt.enableVertexAttribArray(Ft),kt.buffer.bind(),dt.vertexAttribPointer(Ft,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ue&&kt.divisor&&Ue.vertexAttribDivisorANGLE(Ft,kt.divisor)):(dt.disableVertexAttribArray(Ft),dt.vertexAttrib4f(Ft,kt.x,kt.y,kt.z,kt.w))}st.elements?dt.bindBuffer(34963,st.elements.buffer.buffer):dt.bindBuffer(34963,null)}cr.currentVAO=We}}function Rt(){xe(or).forEach(function(We){We.destroy()})}function Vt(){this.id=++ir,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var We=Yt.oes_vertex_array_object;this.vao=We?We.createVertexArrayOES():null,or[this.id]=this,this.buffers=[]}function Ct(){Yt.oes_vertex_array_object&&xe(or).forEach(function(We){We.refresh()})}var Bt=jt.maxAttributes,Xt=Array(Bt);for(jt=0;jt<Bt;++jt)Xt[jt]=new B;var ir=0,or={},cr={Record:B,scope:{},state:Xt,currentVAO:null,targetVAO:null,restore:Yt.oes_vertex_array_object?Ct:function(){},createVAO:function(We){function Ue(kt){var Zt;Array.isArray(kt)?(Zt=kt,Ft.elements&&Ft.ownsElements&&Ft.elements.destroy(),Ft.elements=null,Ft.ownsElements=!1,Ft.offset=0,Ft.count=0,Ft.instances=-1,Ft.primitive=4):(kt.elements?(Zt=kt.elements,Ft.ownsElements?(typeof Zt=="function"&&Zt._reglType==="elements"?Ft.elements.destroy():Ft.elements(Zt),Ft.ownsElements=!1):gt.getElements(kt.elements)?(Ft.elements=kt.elements,Ft.ownsElements=!1):(Ft.elements=gt.create(kt.elements),Ft.ownsElements=!0)):(Ft.elements=null,Ft.ownsElements=!1),Zt=kt.attributes,Ft.offset=0,Ft.count=-1,Ft.instances=-1,Ft.primitive=4,Ft.elements&&(Ft.count=Ft.elements._elements.vertCount,Ft.primitive=Ft.elements._elements.primType),"offset"in kt&&(Ft.offset=kt.offset|0),"count"in kt&&(Ft.count=kt.count|0),"instances"in kt&&(Ft.instances=kt.instances|0),"primitive"in kt&&(Ft.primitive=He[kt.primitive])),kt={};var rr=Ft.attributes;rr.length=Zt.length;for(var lr=0;lr<Zt.length;++lr){var qt=Zt[lr],Ot=rr[lr]=new B,tr=qt.data||qt;if(Array.isArray(tr)||Ee(tr)||l(tr)){var dr;Ft.buffers[lr]&&(dr=Ft.buffers[lr],Ee(tr)&&dr._buffer.byteLength>=tr.byteLength?dr.subdata(tr):(dr.destroy(),Ft.buffers[lr]=null)),Ft.buffers[lr]||(dr=Ft.buffers[lr]=sr.create(qt,34962,!1,!0)),Ot.buffer=sr.getBuffer(dr),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1,kt[lr]=1}else sr.getBuffer(qt)?(Ot.buffer=sr.getBuffer(qt),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1):sr.getBuffer(qt.buffer)?(Ot.buffer=sr.getBuffer(qt.buffer),Ot.size=(+qt.size||Ot.buffer.dimension)|0,Ot.normalized=!!qt.normalized||!1,Ot.type="type"in qt?Ze[qt.type]:Ot.buffer.dtype,Ot.offset=(qt.offset||0)|0,Ot.stride=(qt.stride||0)|0,Ot.divisor=(qt.divisor||0)|0,Ot.state=1):"x"in qt&&(Ot.x=+qt.x||0,Ot.y=+qt.y||0,Ot.z=+qt.z||0,Ot.w=+qt.w||0,Ot.state=2)}for(dr=0;dr<Ft.buffers.length;++dr)!kt[dr]&&Ft.buffers[dr]&&(Ft.buffers[dr].destroy(),Ft.buffers[dr]=null);return Ft.refresh(),Ue}var Ft=new Vt;return gr.vaoCount+=1,Ue.destroy=function(){for(var kt=0;kt<Ft.buffers.length;++kt)Ft.buffers[kt]&&Ft.buffers[kt].destroy();Ft.buffers.length=0,Ft.ownsElements&&(Ft.elements.destroy(),Ft.elements=null,Ft.ownsElements=!1),Ft.destroy()},Ue._vao=Ft,Ue._reglType="vao",Ue(We)},getVAO:function(We){return typeof We=="function"&&We._vao?We._vao:null},destroyBuffer:function(We){for(var Ue=0;Ue<Xt.length;++Ue){var Ft=Xt[Ue];Ft.buffer===We&&(dt.disableVertexAttribArray(Ue),Ft.buffer=null)}},setVAO:Yt.oes_vertex_array_object?xt:Mt,clear:Yt.oes_vertex_array_object?Rt:function(){}};return Vt.prototype.bindAttrs=function(){for(var We=Yt.angle_instanced_arrays,Ue=this.attributes,Ft=0;Ft<Ue.length;++Ft){var kt=Ue[Ft];kt.buffer?(dt.enableVertexAttribArray(Ft),dt.bindBuffer(34962,kt.buffer.buffer),dt.vertexAttribPointer(Ft,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),We&&kt.divisor&&We.vertexAttribDivisorANGLE(Ft,kt.divisor)):(dt.disableVertexAttribArray(Ft),dt.vertexAttrib4f(Ft,kt.x,kt.y,kt.z,kt.w))}for(We=Ue.length;We<Bt;++We)dt.disableVertexAttribArray(We);(We=gt.getElements(this.elements))?dt.bindBuffer(34963,We.buffer.buffer):dt.bindBuffer(34963,null)},Vt.prototype.refresh=function(){var We=Yt.oes_vertex_array_object;We&&(We.bindVertexArrayOES(this.vao),this.bindAttrs(),cr.currentVAO=null,We.bindVertexArrayOES(null))},Vt.prototype.destroy=function(){if(this.vao){var We=Yt.oes_vertex_array_object;this===cr.currentVAO&&(cr.currentVAO=null,We.bindVertexArrayOES(null)),We.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),or[this.id]&&(delete or[this.id],--gr.vaoCount)},cr}function _(dt,Yt,jt,gr){function sr(ir,or,cr,We){this.name=ir,this.id=or,this.location=cr,this.info=We}function gt(ir,or){for(var cr=0;cr<ir.length;++cr)if(ir[cr].id===or.id){ir[cr].location=or.location;return}ir.push(or)}function st(ir,or,cr){cr=ir===35632?Rt:Vt;var We=cr[or];if(!We){var Ue=Yt.str(or),We=dt.createShader(ir);dt.shaderSource(We,Ue),dt.compileShader(We),cr[or]=We}return We}function xt(ir,or){this.id=Xt++,this.fragId=ir,this.vertId=or,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,gr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Mt(ir,or,cr){var We;We=st(35632,ir.fragId);var Ue=st(35633,ir.vertId);if(or=ir.program=dt.createProgram(),dt.attachShader(or,We),dt.attachShader(or,Ue),cr)for(We=0;We<cr.length;++We)Ue=cr[We],dt.bindAttribLocation(or,Ue[0],Ue[1]);dt.linkProgram(or),Ue=dt.getProgramParameter(or,35718),gr.profile&&(ir.stats.uniformsCount=Ue);var Ft=ir.uniforms;for(We=0;We<Ue;++We)if(cr=dt.getActiveUniform(or,We))if(1<cr.size)for(var kt=0;kt<cr.size;++kt){var Zt=cr.name.replace("[0]","["+kt+"]");gt(Ft,new sr(Zt,Yt.id(Zt),dt.getUniformLocation(or,Zt),cr))}else gt(Ft,new sr(cr.name,Yt.id(cr.name),dt.getUniformLocation(or,cr.name),cr));for(Ue=dt.getProgramParameter(or,35721),gr.profile&&(ir.stats.attributesCount=Ue),ir=ir.attributes,We=0;We<Ue;++We)(cr=dt.getActiveAttrib(or,We))&&gt(ir,new sr(cr.name,Yt.id(cr.name),dt.getAttribLocation(or,cr.name),cr))}var Rt={},Vt={},Ct={},Bt=[],Xt=0;return gr.profile&&(jt.getMaxUniformsCount=function(){var ir=0;return Bt.forEach(function(or){or.stats.uniformsCount>ir&&(ir=or.stats.uniformsCount)}),ir},jt.getMaxAttributesCount=function(){var ir=0;return Bt.forEach(function(or){or.stats.attributesCount>ir&&(ir=or.stats.attributesCount)}),ir}),{clear:function(){var ir=dt.deleteShader.bind(dt);xe(Rt).forEach(ir),Rt={},xe(Vt).forEach(ir),Vt={},Bt.forEach(function(or){dt.deleteProgram(or.program)}),Bt.length=0,Ct={},jt.shaderCount=0},program:function(ir,or,cr,We){var Ue=Ct[or];Ue||(Ue=Ct[or]={});var Ft=Ue[ir];if(Ft&&(Ft.refCount++,!We))return Ft;var kt=new xt(or,ir);return jt.shaderCount++,Mt(kt,cr,We),Ft||(Ue[ir]=kt),Bt.push(kt),te(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){dt.deleteProgram(kt.program);var Zt=Bt.indexOf(kt);Bt.splice(Zt,1),jt.shaderCount--}0>=Ue[kt.vertId].refCount&&(dt.deleteShader(Vt[kt.vertId]),delete Vt[kt.vertId],delete Ct[kt.fragId][kt.vertId]),Object.keys(Ct[kt.fragId]).length||(dt.deleteShader(Rt[kt.fragId]),delete Rt[kt.fragId],delete Ct[kt.fragId])}})},restore:function(){Rt={},Vt={};for(var ir=0;ir<Bt.length;++ir)Mt(Bt[ir],null,Bt[ir].attributes.map(function(or){return[or.location,or.name]}))},shader:st,frag:-1,vert:-1}}function O(dt,Yt,jt,gr,sr,gt,st){function xt(Rt){var Vt;Vt=Yt.next===null?5121:Yt.next.colorAttachments[0].texture._texture.type;var Ct=0,Bt=0,Xt=gr.framebufferWidth,ir=gr.framebufferHeight,or=null;return Ee(Rt)?or=Rt:Rt&&(Ct=Rt.x|0,Bt=Rt.y|0,Xt=(Rt.width||gr.framebufferWidth-Ct)|0,ir=(Rt.height||gr.framebufferHeight-Bt)|0,or=Rt.data||null),jt(),Rt=Xt*ir*4,or||(Vt===5121?or=new Uint8Array(Rt):Vt===5126&&(or=or||new Float32Array(Rt))),dt.pixelStorei(3333,4),dt.readPixels(Ct,Bt,Xt,ir,6408,Vt,or),or}function Mt(Rt){var Vt;return Yt.setFBO({framebuffer:Rt.framebuffer},function(){Vt=xt(Rt)}),Vt}return function(Rt){return Rt&&"framebuffer"in Rt?Mt(Rt):xt(Rt)}}function z(dt){for(var Yt=Array(dt.length>>2),gr=0;gr<Yt.length;gr++)Yt[gr]=0;for(gr=0;gr<8*dt.length;gr+=8)Yt[gr>>5]|=(dt.charCodeAt(gr/8)&255)<<24-gr%32;var jt=8*dt.length;dt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var gr=Array(64),sr,gt,st,xt,Mt,Rt,Vt,Ct,Bt,Xt,ir;for(Yt[jt>>5]|=128<<24-jt%32,Yt[(jt+64>>9<<4)+15]=jt,Ct=0;Ct<Yt.length;Ct+=16){for(jt=dt[0],sr=dt[1],gt=dt[2],st=dt[3],xt=dt[4],Mt=dt[5],Rt=dt[6],Vt=dt[7],Bt=0;64>Bt;Bt++){if(16>Bt)gr[Bt]=Yt[Bt+Ct];else{Xt=Bt,ir=gr[Bt-2],ir=J(ir,17)^J(ir,19)^ir>>>10,ir=ae(ir,gr[Bt-7]);var or;or=gr[Bt-15],or=J(or,7)^J(or,18)^or>>>3,gr[Xt]=ae(ae(ir,or),gr[Bt-16])}Xt=xt,Xt=J(Xt,6)^J(Xt,11)^J(Xt,25),Xt=ae(ae(ae(ae(Vt,Xt),xt&Mt^~xt&Rt),Se[Bt]),gr[Bt]),Vt=jt,Vt=J(Vt,2)^J(Vt,13)^J(Vt,22),ir=ae(Vt,jt&sr^jt&gt^sr&gt),Vt=Rt,Rt=Mt,Mt=xt,xt=ae(st,Xt),st=gt,gt=sr,sr=jt,jt=ae(Xt,ir)}dt[0]=ae(jt,dt[0]),dt[1]=ae(sr,dt[1]),dt[2]=ae(gt,dt[2]),dt[3]=ae(st,dt[3]),dt[4]=ae(xt,dt[4]),dt[5]=ae(Mt,dt[5]),dt[6]=ae(Rt,dt[6]),dt[7]=ae(Vt,dt[7])}for(Yt="",gr=0;gr<32*dt.length;gr+=8)Yt+=String.fromCharCode(dt[gr>>5]>>>24-gr%32&255);return Yt}function N(dt){for(var Yt="",jt,gr=0;gr<dt.length;gr++)jt=dt.charCodeAt(gr),Yt+="0123456789abcdef".charAt(jt>>>4&15)+"0123456789abcdef".charAt(jt&15);return Yt}function Y(dt){for(var Yt="",jt=-1,gr,sr;++jt<dt.length;)gr=dt.charCodeAt(jt),sr=jt+1<dt.length?dt.charCodeAt(jt+1):0,55296<=gr&&56319>=gr&&56320<=sr&&57343>=sr&&(gr=65536+((gr&1023)<<10)+(sr&1023),jt++),127>=gr?Yt+=String.fromCharCode(gr):2047>=gr?Yt+=String.fromCharCode(192|gr>>>6&31,128|gr&63):65535>=gr?Yt+=String.fromCharCode(224|gr>>>12&15,128|gr>>>6&63,128|gr&63):2097151>=gr&&(Yt+=String.fromCharCode(240|gr>>>18&7,128|gr>>>12&63,128|gr>>>6&63,128|gr&63));return Yt}function J(dt,Yt){return dt>>>Yt|dt<<32-Yt}function ae(dt,Yt){var jt=(dt&65535)+(Yt&65535);return(dt>>16)+(Yt>>16)+(jt>>16)<<16|jt&65535}function se(dt){return Array.prototype.slice.call(dt)}function ue(dt){return se(dt).join("")}function K(dt){function Yt(){var Vt=[],Ct=[];return te(function(){Vt.push.apply(Vt,se(arguments))},{def:function(){var Bt="v"+sr++;return Ct.push(Bt),0<arguments.length&&(Vt.push(Bt,"="),Vt.push.apply(Vt,se(arguments)),Vt.push(";")),Bt},toString:function(){return ue([0<Ct.length?"var "+Ct.join(",")+";":"",ue(Vt)])}})}function jt(){function Vt(or,cr){Bt(or,cr,"=",Ct.def(or,cr),";")}var Ct=Yt(),Bt=Yt(),Xt=Ct.toString,ir=Bt.toString;return te(function(){Ct.apply(Ct,se(arguments))},{def:Ct.def,entry:Ct,exit:Bt,save:Vt,set:function(or,cr,We){Vt(or,cr),Ct(or,cr,"=",We,";")},toString:function(){return Xt()+ir()}})}var gr=dt&&dt.cache,sr=0,gt=[],st=[],xt=[],Mt=Yt(),Rt={};return{global:Mt,link:function(Vt,Ct){var Bt=Ct&&Ct.stable;if(!Bt){for(var Xt=0;Xt<st.length;++Xt)if(st[Xt]===Vt&&!xt[Xt])return gt[Xt]}return Xt="g"+sr++,gt.push(Xt),st.push(Vt),xt.push(Bt),Xt},block:Yt,proc:function(Vt,Ct){function Bt(){var cr="a"+Xt.length;return Xt.push(cr),cr}var Xt=[];Ct=Ct||0;for(var ir=0;ir<Ct;++ir)Bt();var ir=jt(),or=ir.toString;return Rt[Vt]=te(ir,{arg:Bt,toString:function(){return ue(["function(",Xt.join(),"){",or(),"}"])}})},scope:jt,cond:function(){var Vt=ue(arguments),Ct=jt(),Bt=jt(),Xt=Ct.toString,ir=Bt.toString;return te(Ct,{then:function(){return Ct.apply(Ct,se(arguments)),this},else:function(){return Bt.apply(Bt,se(arguments)),this},toString:function(){var or=ir();return or&&(or="else{"+or+"}"),ue(["if(",Vt,"){",Xt(),"}",or])}})},compile:function(){var Vt=['"use strict";',Mt,"return {"];Object.keys(Rt).forEach(function(Xt){Vt.push('"',Xt,'":',Rt[Xt].toString(),",")}),Vt.push("}");var Ct=ue(Vt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Bt;return gr&&(Bt=N(z(Y(Ct))),gr[Bt])?gr[Bt].apply(null,st):(Ct=Function.apply(null,gt.concat(Ct)),gr&&(gr[Bt]=Ct),Ct.apply(null,st))}}}function j(dt){return Array.isArray(dt)||Ee(dt)||l(dt)}function ie(dt){return dt.sort(function(Yt,jt){return Yt==="viewport"?-1:jt==="viewport"?1:Yt<jt?-1:1})}function W(dt,Yt,jt,gr){this.thisDep=dt,this.contextDep=Yt,this.propDep=jt,this.append=gr}function Q(dt){return dt&&!(dt.thisDep||dt.contextDep||dt.propDep)}function ee(dt){return new W(!1,!1,!1,dt)}function $(dt,Yt){var jt=dt.type;if(jt===0)return jt=dt.data.length,new W(!0,1<=jt,2<=jt,Yt);if(jt===4)return jt=dt.data,new W(jt.thisDep,jt.contextDep,jt.propDep,Yt);if(jt===5)return new W(!1,!1,!1,Yt);if(jt===6){for(var gr=jt=!1,sr=!1,gt=0;gt<dt.data.length;++gt){var st=dt.data[gt];st.type===1?sr=!0:st.type===2?gr=!0:st.type===3?jt=!0:st.type===0?(jt=!0,st=st.data,1<=st&&(gr=!0),2<=st&&(sr=!0)):st.type===4&&(jt=jt||st.data.thisDep,gr=gr||st.data.contextDep,sr=sr||st.data.propDep)}return new W(jt,gr,sr,Yt)}return new W(jt===3,jt===2,jt===1,Yt)}function X(dt,Yt,jt,gr,sr,gt,st,xt,Mt,Rt,Vt,Ct,Bt,Xt,ir,or){function cr(Ar){return Ar.replace(".","_")}function We(Ar,Ir,Tr){var Fr=cr(Ar);Tn.push(Ar),Bn[Fr]=vn[Fr]=!!Tr,Mn[Fr]=Ir}function Ue(Ar,Ir,Tr){var Fr=cr(Ar);Tn.push(Ar),Array.isArray(Tr)?(vn[Fr]=Tr.slice(),Bn[Fr]=Tr.slice()):vn[Fr]=Bn[Fr]=Tr,On[Fr]=Ir}function Ft(){var Ar=K({cache:ir}),Ir=Ar.link,Tr=Ar.global;Ar.id=Ra++,Ar.batchId="0";var Fr=Ir(Wn),dn=Ar.shared={props:"a0"};Object.keys(Wn).forEach(function(Yr){dn[Yr]=Tr.def(Fr,".",Yr)});var Ln=Ar.next={},hn=Ar.current={};Object.keys(On).forEach(function(Yr){Array.isArray(vn[Yr])&&(Ln[Yr]=Tr.def(dn.next,".",Yr),hn[Yr]=Tr.def(dn.current,".",Yr))});var ln=Ar.constants={};Object.keys(oa).forEach(function(Yr){ln[Yr]=Tr.def(JSON.stringify(oa[Yr]))}),Ar.invoke=function(Yr,Br){switch(Br.type){case 0:var Qr=["this",dn.context,dn.props,Ar.batchId];return Yr.def(Ir(Br.data),".call(",Qr.slice(0,Math.max(Br.data.length+1,4)),")");case 1:return Yr.def(dn.props,Br.data);case 2:return Yr.def(dn.context,Br.data);case 3:return Yr.def("this",Br.data);case 4:return Br.data.append(Ar,Yr),Br.data.ref;case 5:return Br.data.toString();case 6:return Br.data.map(function(wn){return Ar.invoke(Yr,wn)})}},Ar.attribCache={};var Mr={};return Ar.scopeAttrib=function(Yr){if(Yr=Yt.id(Yr),Yr in Mr)return Mr[Yr];var Br=Rt.scope[Yr];return Br||(Br=Rt.scope[Yr]=new Jn),Mr[Yr]=Ir(Br)},Ar}function kt(Ar){var Ir=Ar.static;Ar=Ar.dynamic;var Tr;if("profile"in Ir){var Fr=!!Ir.profile;Tr=ee(function(Ln,hn){return Fr}),Tr.enable=Fr}else if("profile"in Ar){var dn=Ar.profile;Tr=$(dn,function(Ln,hn){return Ln.invoke(hn,dn)})}return Tr}function Zt(Ar,Ir){var Tr=Ar.static,Fr=Ar.dynamic;if("framebuffer"in Tr){var dn=Tr.framebuffer;return dn?(dn=xt.getFramebuffer(dn),ee(function(hn,ln){var Mr=hn.link(dn),Yr=hn.shared;return ln.set(Yr.framebuffer,".next",Mr),Yr=Yr.context,ln.set(Yr,".framebufferWidth",Mr+".width"),ln.set(Yr,".framebufferHeight",Mr+".height"),Mr})):ee(function(hn,ln){var Mr=hn.shared;return ln.set(Mr.framebuffer,".next","null"),Mr=Mr.context,ln.set(Mr,".framebufferWidth",Mr+".drawingBufferWidth"),ln.set(Mr,".framebufferHeight",Mr+".drawingBufferHeight"),"null"})}if("framebuffer"in Fr){var Ln=Fr.framebuffer;return $(Ln,function(hn,ln){var Br=hn.invoke(ln,Ln),Mr=hn.shared,Yr=Mr.framebuffer,Br=ln.def(Yr,".getFramebuffer(",Br,")");return ln.set(Yr,".next",Br),Mr=Mr.context,ln.set(Mr,".framebufferWidth",Br+"?"+Br+".width:"+Mr+".drawingBufferWidth"),ln.set(Mr,".framebufferHeight",Br+"?"+Br+".height:"+Mr+".drawingBufferHeight"),Br})}return null}function rr(Ar,Ir,Tr){function Fr(ln){if(ln in dn){var Mr=dn[ln];ln=!0;var Yr=Mr.x|0,Br=Mr.y|0,Qr,wn;return"width"in Mr?Qr=Mr.width|0:ln=!1,"height"in Mr?wn=Mr.height|0:ln=!1,new W(!ln&&Ir&&Ir.thisDep,!ln&&Ir&&Ir.contextDep,!ln&&Ir&&Ir.propDep,function(Cn,Fn){var kn=Cn.shared.context,ha=Qr;"width"in Mr||(ha=Fn.def(kn,".","framebufferWidth","-",Yr));var ca=wn;return"height"in Mr||(ca=Fn.def(kn,".","framebufferHeight","-",Br)),[Yr,Br,ha,ca]})}if(ln in Ln){var En=Ln[ln];return ln=$(En,function(Cn,Fn){var Da=Cn.invoke(Fn,En),kn=Cn.shared.context,ha=Fn.def(Da,".x|0"),ca=Fn.def(Da,".y|0"),sa=Fn.def('"width" in ',Da,"?",Da,".width|0:","(",kn,".","framebufferWidth","-",ha,")"),Da=Fn.def('"height" in ',Da,"?",Da,".height|0:","(",kn,".","framebufferHeight","-",ca,")");return[ha,ca,sa,Da]}),Ir&&(ln.thisDep=ln.thisDep||Ir.thisDep,ln.contextDep=ln.contextDep||Ir.contextDep,ln.propDep=ln.propDep||Ir.propDep),ln}return Ir?new W(Ir.thisDep,Ir.contextDep,Ir.propDep,function(Cn,Fn){var kn=Cn.shared.context;return[0,0,Fn.def(kn,".","framebufferWidth"),Fn.def(kn,".","framebufferHeight")]}):null}var dn=Ar.static,Ln=Ar.dynamic;if(Ar=Fr("viewport")){var hn=Ar;Ar=new W(Ar.thisDep,Ar.contextDep,Ar.propDep,function(ln,Mr){var Yr=hn.append(ln,Mr),Br=ln.shared.context;return Mr.set(Br,".viewportWidth",Yr[2]),Mr.set(Br,".viewportHeight",Yr[3]),Yr})}return{viewport:Ar,scissor_box:Fr("scissor.box")}}function lr(Ar,Ir){var Tr=Ar.static;if(typeof Tr.frag=="string"&&typeof Tr.vert=="string"){if(0<Object.keys(Ir.dynamic).length)return null;var Tr=Ir.static,Fr=Object.keys(Tr);if(0<Fr.length&&typeof Tr[Fr[0]]=="number"){for(var dn=[],Ln=0;Ln<Fr.length;++Ln)dn.push([Tr[Fr[Ln]]|0,Fr[Ln]]);return dn}}return null}function qt(Ar,Ir,Tr){function Fr(Yr){if(Yr in dn){var Br=Yt.id(dn[Yr]);return Yr=ee(function(){return Br}),Yr.id=Br,Yr}if(Yr in Ln){var Qr=Ln[Yr];return $(Qr,function(wn,En){var Cn=wn.invoke(En,Qr);return En.def(wn.shared.strings,".id(",Cn,")")})}return null}var dn=Ar.static,Ln=Ar.dynamic,hn=Fr("frag"),ln=Fr("vert"),Mr=null;return Q(hn)&&Q(ln)?(Mr=Vt.program(ln.id,hn.id,null,Tr),Ar=ee(function(Yr,Br){return Yr.link(Mr)})):Ar=new W(hn&&hn.thisDep||ln&&ln.thisDep,hn&&hn.contextDep||ln&&ln.contextDep,hn&&hn.propDep||ln&&ln.propDep,function(Yr,Br){var Qr=Yr.shared.shader,wn;wn=hn?hn.append(Yr,Br):Br.def(Qr,".","frag");var En;return En=ln?ln.append(Yr,Br):Br.def(Qr,".","vert"),Br.def(Qr+".program("+En+","+wn+")")}),{frag:hn,vert:ln,progVar:Ar,program:Mr}}function Ot(Ar,Ir){function Tr(Cn,Fn){if(Cn in Fr){var kn=Fr[Cn]|0;return Fn?Ln.offset=kn:Ln.instances=kn,ee(function(ca,sa){return Fn&&(ca.OFFSET=kn),kn})}if(Cn in dn){var ha=dn[Cn];return $(ha,function(ca,sa){var Da=ca.invoke(sa,ha);return Fn&&(ca.OFFSET=Da),Da})}if(Fn){if(Mr)return ee(function(ca,sa){return ca.OFFSET=0});if(hn)return new W(ln.thisDep,ln.contextDep,ln.propDep,function(ca,sa){return sa.def(ca.shared.vao+".currentVAO?"+ca.shared.vao+".currentVAO.offset:0")})}else if(hn)return new W(ln.thisDep,ln.contextDep,ln.propDep,function(ca,sa){return sa.def(ca.shared.vao+".currentVAO?"+ca.shared.vao+".currentVAO.instances:-1")});return null}var Fr=Ar.static,dn=Ar.dynamic,Ln={},hn=!1,ln=function(){if("vao"in Fr){var Cn=Fr.vao;return Cn!==null&&Rt.getVAO(Cn)===null&&(Cn=Rt.createVAO(Cn)),hn=!0,Ln.vao=Cn,ee(function(kn){var ha=Rt.getVAO(Cn);return ha?kn.link(ha):"null"})}if("vao"in dn){hn=!0;var Fn=dn.vao;return $(Fn,function(kn,ha){var ca=kn.invoke(ha,Fn);return ha.def(kn.shared.vao+".getVAO("+ca+")")})}return null}(),Mr=!1,Yr=function(){if("elements"in Fr){var Cn=Fr.elements;if(Ln.elements=Cn,j(Cn)){var Fn=Ln.elements=gt.create(Cn,!0),Cn=gt.getElements(Fn);Mr=!0}else Cn&&(Cn=gt.getElements(Cn),Mr=!0);return Fn=ee(function(ha,ca){if(Cn){var sa=ha.link(Cn);return ha.ELEMENTS=sa}return ha.ELEMENTS=null}),Fn.value=Cn,Fn}if("elements"in dn){Mr=!0;var kn=dn.elements;return $(kn,function(ha,ca){var sa=ha.shared,si=sa.isBufferArgs,sa=sa.elements,ii=ha.invoke(ca,kn),Da=ca.def("null"),si=ca.def(si,"(",ii,")"),ii=ha.cond(si).then(Da,"=",sa,".createStream(",ii,");").else(Da,"=",sa,".getElements(",ii,");");return ca.entry(ii),ca.exit(ha.cond(si).then(sa,".destroyStream(",Da,");")),ha.ELEMENTS=Da})}return hn?new W(ln.thisDep,ln.contextDep,ln.propDep,function(ha,ca){return ca.def(ha.shared.vao+".currentVAO?"+ha.shared.elements+".getElements("+ha.shared.vao+".currentVAO.elements):null")}):null}(),Br=Tr("offset",!0),Qr=function(){if("primitive"in Fr){var Cn=Fr.primitive;return Ln.primitive=Cn,ee(function(kn,ha){return He[Cn]})}if("primitive"in dn){var Fn=dn.primitive;return $(Fn,function(kn,ha){var ca=kn.constants.primTypes,sa=kn.invoke(ha,Fn);return ha.def(ca,"[",sa,"]")})}return Mr?Q(Yr)?Yr.value?ee(function(kn,ha){return ha.def(kn.ELEMENTS,".primType")}):ee(function(){return 4}):new W(Yr.thisDep,Yr.contextDep,Yr.propDep,function(kn,ha){var ca=kn.ELEMENTS;return ha.def(ca,"?",ca,".primType:",4)}):hn?new W(ln.thisDep,ln.contextDep,ln.propDep,function(kn,ha){return ha.def(kn.shared.vao+".currentVAO?"+kn.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in Fr){var Cn=Fr.count|0;return Ln.count=Cn,ee(function(){return Cn})}if("count"in dn){var Fn=dn.count;return $(Fn,function(kn,ha){return kn.invoke(ha,Fn)})}return Mr?Q(Yr)?Yr?Br?new W(Br.thisDep,Br.contextDep,Br.propDep,function(kn,ha){return ha.def(kn.ELEMENTS,".vertCount-",kn.OFFSET)}):ee(function(kn,ha){return ha.def(kn.ELEMENTS,".vertCount")}):ee(function(){return-1}):new W(Yr.thisDep||Br.thisDep,Yr.contextDep||Br.contextDep,Yr.propDep||Br.propDep,function(kn,ha){var ca=kn.ELEMENTS;return kn.OFFSET?ha.def(ca,"?",ca,".vertCount-",kn.OFFSET,":-1"):ha.def(ca,"?",ca,".vertCount:-1")}):hn?new W(ln.thisDep,ln.contextDep,ln.propDep,function(kn,ha){return ha.def(kn.shared.vao,".currentVAO?",kn.shared.vao,".currentVAO.count:-1")}):null}(),En=Tr("instances",!1);return{elements:Yr,primitive:Qr,count:wn,instances:En,offset:Br,vao:ln,vaoActive:hn,elementsActive:Mr,static:Ln}}function tr(Ar,Ir){var Tr=Ar.static,Fr=Ar.dynamic,dn={};return Tn.forEach(function(Ln){function hn(Mr,Yr){if(Ln in Tr){var Br=Mr(Tr[Ln]);dn[ln]=ee(function(){return Br})}else if(Ln in Fr){var Qr=Fr[Ln];dn[ln]=$(Qr,function(wn,En){return Yr(wn,En,wn.invoke(En,Qr))})}}var ln=cr(Ln);switch(Ln){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return hn(function(Mr){return Mr},function(Mr,Yr,Br){return Br});case"depth.func":return hn(function(Mr){return It[Mr]},function(Mr,Yr,Br){return Yr.def(Mr.constants.compareFuncs,"[",Br,"]")});case"depth.range":return hn(function(Mr){return Mr},function(Mr,Yr,Br){return Mr=Yr.def("+",Br,"[0]"),Yr=Yr.def("+",Br,"[1]"),[Mr,Yr]});case"blend.func":return hn(function(Mr){return[Lt["srcRGB"in Mr?Mr.srcRGB:Mr.src],Lt["dstRGB"in Mr?Mr.dstRGB:Mr.dst],Lt["srcAlpha"in Mr?Mr.srcAlpha:Mr.src],Lt["dstAlpha"in Mr?Mr.dstAlpha:Mr.dst]]},function(Mr,Yr,Br){function Qr(Fn,kn){return Yr.def('"',Fn,kn,'" in ',Br,"?",Br,".",Fn,kn,":",Br,".",Fn)}Mr=Mr.constants.blendFuncs;var wn=Qr("src","RGB"),Cn=Qr("dst","RGB"),wn=Yr.def(Mr,"[",wn,"]"),En=Yr.def(Mr,"[",Qr("src","Alpha"),"]"),Cn=Yr.def(Mr,"[",Cn,"]");return Mr=Yr.def(Mr,"[",Qr("dst","Alpha"),"]"),[wn,Cn,En,Mr]});case"blend.equation":return hn(function(Mr){if(typeof Mr=="string")return[ea[Mr],ea[Mr]];if(typeof Mr=="object")return[ea[Mr.rgb],ea[Mr.alpha]]},function(Mr,Yr,Br){var Qr=Mr.constants.blendEquations,wn=Yr.def(),En=Yr.def();return Mr=Mr.cond("typeof ",Br,'==="string"'),Mr.then(wn,"=",En,"=",Qr,"[",Br,"];"),Mr.else(wn,"=",Qr,"[",Br,".rgb];",En,"=",Qr,"[",Br,".alpha];"),Yr(Mr),[wn,En]});case"blend.color":return hn(function(Mr){return s(4,function(Yr){return+Mr[Yr]})},function(Mr,Yr,Br){return s(4,function(Qr){return Yr.def("+",Br,"[",Qr,"]")})});case"stencil.mask":return hn(function(Mr){return Mr|0},function(Mr,Yr,Br){return Yr.def(Br,"|0")});case"stencil.func":return hn(function(Mr){return[It[Mr.cmp||"keep"],Mr.ref||0,"mask"in Mr?Mr.mask:-1]},function(Mr,Yr,Br){Mr=Yr.def('"cmp" in ',Br,"?",Mr.constants.compareFuncs,"[",Br,".cmp]",":",7680);var Qr=Yr.def(Br,".ref|0");return Yr=Yr.def('"mask" in ',Br,"?",Br,".mask|0:-1"),[Mr,Qr,Yr]});case"stencil.opFront":case"stencil.opBack":return hn(function(Mr){return[Ln==="stencil.opBack"?1029:1028,wt[Mr.fail||"keep"],wt[Mr.zfail||"keep"],wt[Mr.zpass||"keep"]]},function(Mr,Yr,Br){function Qr(En){return Yr.def('"',En,'" in ',Br,"?",wn,"[",Br,".",En,"]:",7680)}var wn=Mr.constants.stencilOps;return[Ln==="stencil.opBack"?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return hn(function(Mr){return[Mr.factor|0,Mr.units|0]},function(Mr,Yr,Br){return Mr=Yr.def(Br,".factor|0"),Yr=Yr.def(Br,".units|0"),[Mr,Yr]});case"cull.face":return hn(function(Mr){var Yr=0;return Mr==="front"?Yr=1028:Mr==="back"&&(Yr=1029),Yr},function(Mr,Yr,Br){return Yr.def(Br,'==="front"?',1028,":",1029)});case"lineWidth":return hn(function(Mr){return Mr},function(Mr,Yr,Br){return Br});case"frontFace":return hn(function(Mr){return Et[Mr]},function(Mr,Yr,Br){return Yr.def(Br+'==="cw"?2304:2305')});case"colorMask":return hn(function(Mr){return Mr.map(function(Yr){return!!Yr})},function(Mr,Yr,Br){return s(4,function(Qr){return"!!"+Br+"["+Qr+"]"})});case"sample.coverage":return hn(function(Mr){return["value"in Mr?Mr.value:1,!!Mr.invert]},function(Mr,Yr,Br){return Mr=Yr.def('"value" in ',Br,"?+",Br,".value:1"),Yr=Yr.def("!!",Br,".invert"),[Mr,Yr]})}}),dn}function dr(Ar,Ir){var Tr=Ar.static,Fr=Ar.dynamic,dn={};return Object.keys(Tr).forEach(function(Ln){var hn=Tr[Ln],ln;if(typeof hn=="number"||typeof hn=="boolean")ln=ee(function(){return hn});else if(typeof hn=="function"){var Mr=hn._reglType;Mr==="texture2d"||Mr==="textureCube"?ln=ee(function(Yr){return Yr.link(hn)}):(Mr==="framebuffer"||Mr==="framebufferCube")&&(ln=ee(function(Yr){return Yr.link(hn.color[0])}))}else b(hn)&&(ln=ee(function(Yr){return Yr.global.def("[",s(hn.length,function(Br){return hn[Br]}),"]")}));ln.value=hn,dn[Ln]=ln}),Object.keys(Fr).forEach(function(Ln){var hn=Fr[Ln];dn[Ln]=$(hn,function(ln,Mr){return ln.invoke(Mr,hn)})}),dn}function mr(Ar,Ir){var Tr=Ar.static,Fr=Ar.dynamic,dn={};return Object.keys(Tr).forEach(function(Ln){var hn=Tr[Ln],ln=Yt.id(Ln),Mr=new Jn;if(j(hn))Mr.state=1,Mr.buffer=sr.getBuffer(sr.create(hn,34962,!1,!0)),Mr.type=0;else{var Yr=sr.getBuffer(hn);if(Yr)Mr.state=1,Mr.buffer=Yr,Mr.type=0;else if("constant"in hn){var Br=hn.constant;Mr.buffer="null",Mr.state=2,typeof Br=="number"?Mr.x=Br:Ke.forEach(function(kn,ha){ha<Br.length&&(Mr[kn]=Br[ha])})}else{var Yr=j(hn.buffer)?sr.getBuffer(sr.create(hn.buffer,34962,!1,!0)):sr.getBuffer(hn.buffer),Qr=hn.offset|0,wn=hn.stride|0,En=hn.size|0,Cn=!!hn.normalized,Fn=0;"type"in hn&&(Fn=Ze[hn.type]),hn=hn.divisor|0,Mr.buffer=Yr,Mr.state=1,Mr.size=En,Mr.normalized=Cn,Mr.type=Fn||Yr.dtype,Mr.offset=Qr,Mr.stride=wn,Mr.divisor=hn}}dn[Ln]=ee(function(kn,ha){var ca=kn.attribCache;if(ln in ca)return ca[ln];var sa={isStream:!1};return Object.keys(Mr).forEach(function(Da){sa[Da]=Mr[Da]}),Mr.buffer&&(sa.buffer=kn.link(Mr.buffer),sa.type=sa.type||sa.buffer+".dtype"),ca[ln]=sa})}),Object.keys(Fr).forEach(function(Ln){var hn=Fr[Ln];dn[Ln]=$(hn,function(ln,Mr){function Yr(ca){Mr(Cn[ca],"=",Br,".",ca,"|0;")}var Br=ln.invoke(Mr,hn),En=ln.shared,Qr=ln.constants,wn=En.isBufferArgs,En=En.buffer,Cn={isStream:Mr.def(!1)},Fn=new Jn;Fn.state=1,Object.keys(Fn).forEach(function(ca){Cn[ca]=Mr.def(""+Fn[ca])});var kn=Cn.buffer,ha=Cn.type;return Mr("if(",wn,"(",Br,")){",Cn.isStream,"=true;",kn,"=",En,".createStream(",34962,",",Br,");",ha,"=",kn,".dtype;","}else{",kn,"=",En,".getBuffer(",Br,");","if(",kn,"){",ha,"=",kn,".dtype;",'}else if("constant" in ',Br,"){",Cn.state,"=",2,";","if(typeof "+Br+'.constant === "number"){',Cn[Ke[0]],"=",Br,".constant;",Ke.slice(1).map(function(ca){return Cn[ca]}).join("="),"=0;","}else{",Ke.map(function(ca,sa){return Cn[ca]+"="+Br+".constant.length>"+sa+"?"+Br+".constant["+sa+"]:0;"}).join(""),"}}else{","if(",wn,"(",Br,".buffer)){",kn,"=",En,".createStream(",34962,",",Br,".buffer);","}else{",kn,"=",En,".getBuffer(",Br,".buffer);","}",ha,'="type" in ',Br,"?",Qr.glTypes,"[",Br,".type]:",kn,".dtype;",Cn.normalized,"=!!",Br,".normalized;"),Yr("size"),Yr("offset"),Yr("stride"),Yr("divisor"),Mr("}}"),Mr.exit("if(",Cn.isStream,"){",En,".destroyStream(",kn,");","}"),Cn})}),dn}function Cr(Ar){var Ir=Ar.static,Tr=Ar.dynamic,Fr={};return Object.keys(Ir).forEach(function(dn){var Ln=Ir[dn];Fr[dn]=ee(function(hn,ln){return typeof Ln=="number"||typeof Ln=="boolean"?""+Ln:hn.link(Ln)})}),Object.keys(Tr).forEach(function(dn){var Ln=Tr[dn];Fr[dn]=$(Ln,function(hn,ln){return hn.invoke(ln,Ln)})}),Fr}function $r(Ar,Ir,Tr,Fr,dn){function Ln(Fn){var kn=ln[Fn];kn&&(Yr[Fn]=kn)}var hn=lr(Ar,Ir),wn=Zt(Ar,dn),ln=rr(Ar,wn,dn),Mr=Ot(Ar,dn),Yr=tr(Ar,dn),Br=qt(Ar,dn,hn);Ln("viewport"),Ln(cr("scissor.box"));var Qr=0<Object.keys(Yr).length,wn={framebuffer:wn,draw:Mr,shader:Br,state:Yr,dirty:Qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=kt(Ar,dn),wn.uniforms=dr(Tr,dn),wn.drawVAO=wn.scopeVAO=Mr.vao,!wn.drawVAO&&Br.program&&!hn&&jt.angle_instanced_arrays&&Mr.static.elements){var En=!0;if(Ar=Br.program.attributes.map(function(Fn){return Fn=Ir.static[Fn],En=En&&!!Fn,Fn}),En&&0<Ar.length){var Cn=Rt.getVAO(Rt.createVAO({attributes:Ar,elements:Mr.static.elements}));wn.drawVAO=new W(null,null,null,function(Fn,kn){return Fn.link(Cn)}),wn.useVAO=!0}}return hn?wn.useVAO=!0:wn.attributes=mr(Ir,dn),wn.context=Cr(Fr,dn),wn}function yr(Ar,Ir,Tr){var Fr=Ar.shared.context,dn=Ar.scope();Object.keys(Tr).forEach(function(Ln){Ir.save(Fr,"."+Ln);var hn=Tr[Ln].append(Ar,Ir);Array.isArray(hn)?dn(Fr,".",Ln,"=[",hn.join(),"];"):dn(Fr,".",Ln,"=",hn,";")}),Ir(dn)}function Gr(Ar,Ir,Tr,Fr){var ln=Ar.shared,dn=ln.gl,Ln=ln.framebuffer,hn;Jr&&(hn=Ir.def(ln.extensions,".webgl_draw_buffers"));var Mr=Ar.constants,ln=Mr.drawBuffer,Mr=Mr.backBuffer;Ar=Tr?Tr.append(Ar,Ir):Ir.def(Ln,".next"),Fr||Ir("if(",Ar,"!==",Ln,".cur){"),Ir("if(",Ar,"){",dn,".bindFramebuffer(",36160,",",Ar,".framebuffer);"),Jr&&Ir(hn,".drawBuffersWEBGL(",ln,"[",Ar,".colorAttachments.length]);"),Ir("}else{",dn,".bindFramebuffer(",36160,",null);"),Jr&&Ir(hn,".drawBuffersWEBGL(",Mr,");"),Ir("}",Ln,".cur=",Ar,";"),Fr||Ir("}")}function rn(Ar,Ir,Tr){var Fr=Ar.shared,dn=Fr.gl,Ln=Ar.current,hn=Ar.next,ln=Fr.current,Mr=Fr.next,Yr=Ar.cond(ln,".dirty");Tn.forEach(function(Br){if(Br=cr(Br),!(Br in Tr.state)){var Qr,wn;if(Br in hn){Qr=hn[Br],wn=Ln[Br];var En=s(vn[Br].length,function(Cn){return Yr.def(Qr,"[",Cn,"]")});Yr(Ar.cond(En.map(function(Cn,Fn){return Cn+"!=="+wn+"["+Fn+"]"}).join("||")).then(dn,".",On[Br],"(",En,");",En.map(function(Cn,Fn){return wn+"["+Fn+"]="+Cn}).join(";"),";"))}else Qr=Yr.def(Mr,".",Br),En=Ar.cond(Qr,"!==",ln,".",Br),Yr(En),Br in Mn?En(Ar.cond(Qr).then(dn,".enable(",Mn[Br],");").else(dn,".disable(",Mn[Br],");"),ln,".",Br,"=",Qr,";"):En(dn,".",On[Br],"(",Qr,");",ln,".",Br,"=",Qr,";")}}),Object.keys(Tr.state).length===0&&Yr(ln,".dirty=false;"),Ir(Yr)}function _r(Ar,Ir,Tr,Fr){var dn=Ar.shared,Ln=Ar.current,hn=dn.current,ln=dn.gl,Mr;ie(Object.keys(Tr)).forEach(function(Yr){var Br=Tr[Yr];if(!Fr||Fr(Br)){var Qr=Br.append(Ar,Ir);if(Mn[Yr]){var wn=Mn[Yr];Q(Br)?(Mr=Ar.link(Qr,{stable:!0}),Ir(Ar.cond(Mr).then(ln,".enable(",wn,");").else(ln,".disable(",wn,");")),Ir(hn,".",Yr,"=",Mr,";")):(Ir(Ar.cond(Qr).then(ln,".enable(",wn,");").else(ln,".disable(",wn,");")),Ir(hn,".",Yr,"=",Qr,";"))}else if(b(Qr)){var En=Ln[Yr];Ir(ln,".",On[Yr],"(",Qr,");",Qr.map(function(Cn,Fn){return En+"["+Fn+"]="+Cn}).join(";"),";")}else Q(Br)?(Mr=Ar.link(Qr,{stable:!0}),Ir(ln,".",On[Yr],"(",Mr,");",hn,".",Yr,"=",Mr,";")):Ir(ln,".",On[Yr],"(",Qr,");",hn,".",Yr,"=",Qr,";")}})}function bn(Ar,Ir){pr&&(Ar.instancing=Ir.def(Ar.shared.extensions,".angle_instanced_arrays"))}function xn(Ar,Ir,Tr,Fr,dn){function Ln(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}function hn(Fn){En=Ir.def(),Fn(En,"=",Ln(),";"),typeof dn=="string"?Fn(Br,".count+=",dn,";"):Fn(Br,".count++;"),Xt&&(Fr?(Cn=Ir.def(),Fn(Cn,"=",wn,".getNumPendingQueries();")):Fn(wn,".beginQuery(",Br,");"))}function ln(Fn){Fn(Br,".cpuTime+=",Ln(),"-",En,";"),Xt&&(Fr?Fn(wn,".pushScopeStats(",Cn,",",wn,".getNumPendingQueries(),",Br,");"):Fn(wn,".endQuery();"))}function Mr(Fn){var kn=Ir.def(Qr,".profile");Ir(Qr,".profile=",Fn,";"),Ir.exit(Qr,".profile=",kn,";")}var Yr=Ar.shared,Br=Ar.stats,Qr=Yr.current,wn=Yr.timer;Tr=Tr.profile;var En,Cn;if(Tr){if(Q(Tr)){Tr.enable?(hn(Ir),ln(Ir.exit),Mr("true")):Mr("false");return}Tr=Tr.append(Ar,Ir),Mr(Tr)}else Tr=Ir.def(Qr,".profile");Yr=Ar.block(),hn(Yr),Ir("if(",Tr,"){",Yr,"}"),Ar=Ar.block(),ln(Ar),Ir.exit("if(",Tr,"){",Ar,"}")}function fr(Ar,Ir,Tr,Fr,dn){function Ln(Mr){switch(Mr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function hn(Mr,Yr,Br){function Qr(){Ir("if(!",Fn,".buffer){",En,".enableVertexAttribArray(",Cn,");}");var sa=Br.type,Da;Da=Br.size?Ir.def(Br.size,"||",Yr):Yr,Ir("if(",Fn,".type!==",sa,"||",Fn,".size!==",Da,"||",ca.map(function(si){return Fn+"."+si+"!=="+Br[si]}).join("||"),"){",En,".bindBuffer(",34962,",",kn,".buffer);",En,".vertexAttribPointer(",[Cn,Da,sa,Br.normalized,Br.stride,Br.offset],");",Fn,".type=",sa,";",Fn,".size=",Da,";",ca.map(function(si){return Fn+"."+si+"="+Br[si]+";"}).join(""),"}"),pr&&(sa=Br.divisor,Ir("if(",Fn,".divisor!==",sa,"){",Ar.instancing,".vertexAttribDivisorANGLE(",[Cn,sa],");",Fn,".divisor=",sa,";}"))}function wn(){Ir("if(",Fn,".buffer){",En,".disableVertexAttribArray(",Cn,");",Fn,".buffer=null;","}if(",Ke.map(function(sa,Da){return Fn+"."+sa+"!=="+ha[Da]}).join("||"),"){",En,".vertexAttrib4f(",Cn,",",ha,");",Ke.map(function(sa,Da){return Fn+"."+sa+"="+ha[Da]+";"}).join(""),"}")}var En=ln.gl,Cn=Ir.def(Mr,".location"),Fn=Ir.def(ln.attributes,"[",Cn,"]");Mr=Br.state;var kn=Br.buffer,ha=[Br.x,Br.y,Br.z,Br.w],ca=["buffer","normalized","offset","stride"];Mr===1?Qr():Mr===2?wn():(Ir("if(",Mr,"===",1,"){"),Qr(),Ir("}else{"),wn(),Ir("}"))}var ln=Ar.shared;Fr.forEach(function(Mr){var Yr=Mr.name,Br=Tr.attributes[Yr],Qr;if(Br){if(!dn(Br))return;Qr=Br.append(Ar,Ir)}else{if(!dn(Wt))return;var wn=Ar.scopeAttrib(Yr);Qr={},Object.keys(new Jn).forEach(function(En){Qr[En]=Ir.def(wn,".",En)})}hn(Ar.link(Mr),Ln(Mr.info.type),Qr)})}function Dr(Ar,Ir,Tr,Fr,dn,Ln){for(var hn=Ar.shared,ln=hn.gl,Mr,Yr=0;Yr<Fr.length;++Yr){var En=Fr[Yr],Br=En.name,Qr=En.info.type,wn=Tr.uniforms[Br],En=Ar.link(En)+".location",Cn;if(wn){if(!dn(wn))continue;if(Q(wn)){if(Br=wn.value,Qr===35678||Qr===35680)Qr=Ar.link(Br._texture||Br.color[0]._texture),Ir(ln,".uniform1i(",En,",",Qr+".bind());"),Ir.exit(Qr,".unbind();");else if(Qr===35674||Qr===35675||Qr===35676)Br=Ar.global.def("new Float32Array(["+Array.prototype.slice.call(Br)+"])"),wn=2,Qr===35675?wn=3:Qr===35676&&(wn=4),Ir(ln,".uniformMatrix",wn,"fv(",En,",false,",Br,");");else{switch(Qr){case 5126:Mr="1f";break;case 35664:Mr="2f";break;case 35665:Mr="3f";break;case 35666:Mr="4f";break;case 35670:Mr="1i";break;case 5124:Mr="1i";break;case 35671:Mr="2i";break;case 35667:Mr="2i";break;case 35672:Mr="3i";break;case 35668:Mr="3i";break;case 35673:Mr="4i";break;case 35669:Mr="4i"}Ir(ln,".uniform",Mr,"(",En,",",b(Br)?Array.prototype.slice.call(Br):Br,");")}continue}else Cn=wn.append(Ar,Ir)}else{if(!dn(Wt))continue;Cn=Ir.def(hn.uniforms,"[",Yt.id(Br),"]")}switch(Qr===35678?Ir("if(",Cn,"&&",Cn,'._reglType==="framebuffer"){',Cn,"=",Cn,".color[0];","}"):Qr===35680&&Ir("if(",Cn,"&&",Cn,'._reglType==="framebufferCube"){',Cn,"=",Cn,".color[0];","}"),Br=1,Qr){case 35678:case 35680:Qr=Ir.def(Cn,"._texture"),Ir(ln,".uniform1i(",En,",",Qr,".bind());"),Ir.exit(Qr,".unbind();");continue;case 5124:case 35670:Mr="1i";break;case 35667:case 35671:Mr="2i",Br=2;break;case 35668:case 35672:Mr="3i",Br=3;break;case 35669:case 35673:Mr="4i",Br=4;break;case 5126:Mr="1f";break;case 35664:Mr="2f",Br=2;break;case 35665:Mr="3f",Br=3;break;case 35666:Mr="4f",Br=4;break;case 35674:Mr="Matrix2fv";break;case 35675:Mr="Matrix3fv";break;case 35676:Mr="Matrix4fv"}if(Mr.charAt(0)==="M"){Ir(ln,".uniform",Mr,"(",En,",");var En=Math.pow(Qr-35674+2,2),Fn=Ar.global.def("new Float32Array(",En,")");Array.isArray(Cn)?Ir("false,(",s(En,function(ca){return Fn+"["+ca+"]="+Cn[ca]}),",",Fn,")"):Ir("false,(Array.isArray(",Cn,")||",Cn," instanceof Float32Array)?",Cn,":(",s(En,function(ca){return Fn+"["+ca+"]="+Cn+"["+ca+"]"}),",",Fn,")"),Ir(");")}else{if(1<Br){for(var Qr=[],kn=[],wn=0;wn<Br;++wn)Array.isArray(Cn)?kn.push(Cn[wn]):kn.push(Ir.def(Cn+"["+wn+"]")),Ln&&Qr.push(Ir.def());Ln&&Ir("if(!",Ar.batchId,"||",Qr.map(function(ha,ca){return ha+"!=="+kn[ca]}).join("||"),"){",Qr.map(function(ha,ca){return ha+"="+kn[ca]+";"}).join("")),Ir(ln,".uniform",Mr,"(",En,",",kn.join(","),");")}else Ln&&(Qr=Ir.def(),Ir("if(!",Ar.batchId,"||",Qr,"!==",Cn,"){",Qr,"=",Cn,";")),Ir(ln,".uniform",Mr,"(",En,",",Cn,");");Ln&&Ir("}")}}}function Nr(Ar,Ir,Tr,Fr){function dn(sa){var Da=Br[sa];return Da?Da.contextDep&&Fr.contextDynamic||Da.propDep?Da.append(Ar,Tr):Da.append(Ar,Ir):Ir.def(Yr,".",sa)}function Ln(){function sa(){Tr(kn,".drawElementsInstancedANGLE(",[wn,Cn,ha,En+"<<(("+ha+"-5121)>>1)",Fn],");")}function Da(){Tr(kn,".drawArraysInstancedANGLE(",[wn,En,Cn,Fn],");")}Qr&&Qr!=="null"?ca?sa():(Tr("if(",Qr,"){"),sa(),Tr("}else{"),Da(),Tr("}")):Da()}function hn(){function sa(){Tr(Mr+".drawElements("+[wn,Cn,ha,En+"<<(("+ha+"-5121)>>1)"]+");")}function Da(){Tr(Mr+".drawArrays("+[wn,En,Cn]+");")}Qr&&Qr!=="null"?ca?sa():(Tr("if(",Qr,"){"),sa(),Tr("}else{"),Da(),Tr("}")):Da()}var ln=Ar.shared,Mr=ln.gl,Yr=ln.draw,Br=Fr.draw,Qr=function(){var sa=Br.elements,Da=Ir;return sa?((sa.contextDep&&Fr.contextDynamic||sa.propDep)&&(Da=Tr),sa=sa.append(Ar,Da),Br.elementsActive&&Da("if("+sa+")"+Mr+".bindBuffer(34963,"+sa+".buffer.buffer);")):(sa=Da.def(),Da(sa,"=",Yr,".","elements",";","if(",sa,"){",Mr,".bindBuffer(",34963,",",sa,".buffer.buffer);}","else if(",ln.vao,".currentVAO){",sa,"=",Ar.shared.elements+".getElements("+ln.vao,".currentVAO.elements);",Xr?"":"if("+sa+")"+Mr+".bindBuffer(34963,"+sa+".buffer.buffer);","}")),sa}(),wn=dn("primitive"),En=dn("offset"),Cn=function(){var sa=Br.count,Da=Ir;return sa?((sa.contextDep&&Fr.contextDynamic||sa.propDep)&&(Da=Tr),sa=sa.append(Ar,Da)):sa=Da.def(Yr,".","count"),sa}();if(typeof Cn=="number"){if(Cn===0)return}else Tr("if(",Cn,"){"),Tr.exit("}");var Fn,kn;pr&&(Fn=dn("instances"),kn=Ar.instancing);var ha=Qr+".type",ca=Br.elements&&Q(Br.elements)&&!Br.vaoActive;pr&&(typeof Fn!="number"||0<=Fn)?typeof Fn=="string"?(Tr("if(",Fn,">0){"),Ln(),Tr("}else if(",Fn,"<0){"),hn(),Tr("}")):Ln():hn()}function Ur(Ar,Ir,Tr,Fr,dn){return Ir=Ft(),dn=Ir.proc("body",dn),pr&&(Ir.instancing=dn.def(Ir.shared.extensions,".angle_instanced_arrays")),Ar(Ir,dn,Tr,Fr),Ir.compile().body}function on(Ar,Ir,Tr,Fr){bn(Ar,Ir),Tr.useVAO?Tr.drawVAO?Ir(Ar.shared.vao,".setVAO(",Tr.drawVAO.append(Ar,Ir),");"):Ir(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Ir(Ar.shared.vao,".setVAO(null);"),fr(Ar,Ir,Tr,Fr.attributes,function(){return!0})),Dr(Ar,Ir,Tr,Fr.uniforms,function(){return!0},!1),Nr(Ar,Ir,Ir,Tr)}function gn(Ar,Ir){var Tr=Ar.proc("draw",1);bn(Ar,Tr),yr(Ar,Tr,Ir.context),Gr(Ar,Tr,Ir.framebuffer),rn(Ar,Tr,Ir),_r(Ar,Tr,Ir.state),xn(Ar,Tr,Ir,!1,!0);var Fr=Ir.shader.progVar.append(Ar,Tr);if(Tr(Ar.shared.gl,".useProgram(",Fr,".program);"),Ir.shader.program)on(Ar,Tr,Ir,Ir.shader.program);else{Tr(Ar.shared.vao,".setVAO(null);");var dn=Ar.global.def("{}"),Ln=Tr.def(Fr,".id"),hn=Tr.def(dn,"[",Ln,"]");Tr(Ar.cond(hn).then(hn,".call(this,a0);").else(hn,"=",dn,"[",Ln,"]=",Ar.link(function(ln){return Ur(on,Ar,Ir,ln,1)}),"(",Fr,");",hn,".call(this,a0);"))}0<Object.keys(Ir.state).length&&Tr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Tr(Ar.shared.vao,".setVAO(null);")}function yn(Ar,Ir,Tr,Fr){function dn(){return!0}Ar.batchId="a1",bn(Ar,Ir),fr(Ar,Ir,Tr,Fr.attributes,dn),Dr(Ar,Ir,Tr,Fr.uniforms,dn,!1),Nr(Ar,Ir,Ir,Tr)}function Pn(Ar,Ir,Tr,Fr){function dn(Qr){return Qr.contextDep&&hn||Qr.propDep}function Ln(Qr){return!dn(Qr)}bn(Ar,Ir);var hn=Tr.contextDep,ln=Ir.def(),Mr=Ir.def();Ar.shared.props=Mr,Ar.batchId=ln;var Yr=Ar.scope(),Br=Ar.scope();Ir(Yr.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",Mr,"=","a0","[",ln,"];",Br,"}",Yr.exit),Tr.needsContext&&yr(Ar,Br,Tr.context),Tr.needsFramebuffer&&Gr(Ar,Br,Tr.framebuffer),_r(Ar,Br,Tr.state,dn),Tr.profile&&dn(Tr.profile)&&xn(Ar,Br,Tr,!1,!0),Fr?(Tr.useVAO?Tr.drawVAO?dn(Tr.drawVAO)?Br(Ar.shared.vao,".setVAO(",Tr.drawVAO.append(Ar,Br),");"):Yr(Ar.shared.vao,".setVAO(",Tr.drawVAO.append(Ar,Yr),");"):Yr(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Yr(Ar.shared.vao,".setVAO(null);"),fr(Ar,Yr,Tr,Fr.attributes,Ln),fr(Ar,Br,Tr,Fr.attributes,dn)),Dr(Ar,Yr,Tr,Fr.uniforms,Ln,!1),Dr(Ar,Br,Tr,Fr.uniforms,dn,!0),Nr(Ar,Yr,Br,Tr)):(Ir=Ar.global.def("{}"),Fr=Tr.shader.progVar.append(Ar,Br),Mr=Br.def(Fr,".id"),Yr=Br.def(Ir,"[",Mr,"]"),Br(Ar.shared.gl,".useProgram(",Fr,".program);","if(!",Yr,"){",Yr,"=",Ir,"[",Mr,"]=",Ar.link(function(Qr){return Ur(yn,Ar,Tr,Qr,2)}),"(",Fr,");}",Yr,".call(this,a0[",ln,"],",ln,");"))}function zn(Ar,Ir){function Tr(Yr){return Yr.contextDep&&dn||Yr.propDep}var Fr=Ar.proc("batch",2);Ar.batchId="0",bn(Ar,Fr);var dn=!1,Ln=!0;Object.keys(Ir.context).forEach(function(Yr){dn=dn||Ir.context[Yr].propDep}),dn||(yr(Ar,Fr,Ir.context),Ln=!1);var hn=Ir.framebuffer,ln=!1;if(hn?(hn.propDep?dn=ln=!0:hn.contextDep&&dn&&(ln=!0),ln||Gr(Ar,Fr,hn)):Gr(Ar,Fr,null),Ir.state.viewport&&Ir.state.viewport.propDep&&(dn=!0),rn(Ar,Fr,Ir),_r(Ar,Fr,Ir.state,function(Yr){return!Tr(Yr)}),Ir.profile&&Tr(Ir.profile)||xn(Ar,Fr,Ir,!1,"a1"),Ir.contextDep=dn,Ir.needsContext=Ln,Ir.needsFramebuffer=ln,Ln=Ir.shader.progVar,Ln.contextDep&&dn||Ln.propDep)Pn(Ar,Fr,Ir,null);else if(Ln=Ln.append(Ar,Fr),Fr(Ar.shared.gl,".useProgram(",Ln,".program);"),Ir.shader.program)Pn(Ar,Fr,Ir,Ir.shader.program);else{Fr(Ar.shared.vao,".setVAO(null);");var hn=Ar.global.def("{}"),ln=Fr.def(Ln,".id"),Mr=Fr.def(hn,"[",ln,"]");Fr(Ar.cond(Mr).then(Mr,".call(this,a0,a1);").else(Mr,"=",hn,"[",ln,"]=",Ar.link(function(Qr){return Ur(Pn,Ar,Ir,Qr,2)}),"(",Ln,");",Mr,".call(this,a0,a1);"))}0<Object.keys(Ir.state).length&&Fr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Fr(Ar.shared.vao,".setVAO(null);")}function ta(Ar,Ir){function Tr(ln){var Mr=Ir.shader[ln];Mr&&(Mr=Mr.append(Ar,Fr),isNaN(Mr)?Fr.set(dn.shader,"."+ln,Mr):Fr.set(dn.shader,"."+ln,Ar.link(Mr,{stable:!0})))}var Fr=Ar.proc("scope",3);Ar.batchId="a2";var dn=Ar.shared,Ln=dn.current;if(yr(Ar,Fr,Ir.context),Ir.framebuffer&&Ir.framebuffer.append(Ar,Fr),ie(Object.keys(Ir.state)).forEach(function(ln){var Mr=Ir.state[ln],Yr=Mr.append(Ar,Fr);b(Yr)?Yr.forEach(function(Br,Qr){isNaN(Br)?Fr.set(Ar.next[ln],"["+Qr+"]",Br):Fr.set(Ar.next[ln],"["+Qr+"]",Ar.link(Br,{stable:!0}))}):Q(Mr)?Fr.set(dn.next,"."+ln,Ar.link(Yr,{stable:!0})):Fr.set(dn.next,"."+ln,Yr)}),xn(Ar,Fr,Ir,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var Mr=Ir.draw[ln];Mr&&(Mr=Mr.append(Ar,Fr),isNaN(Mr)?Fr.set(dn.draw,"."+ln,Mr):Fr.set(dn.draw,"."+ln,Ar.link(Mr),{stable:!0}))}),Object.keys(Ir.uniforms).forEach(function(ln){var Mr=Ir.uniforms[ln].append(Ar,Fr);Array.isArray(Mr)&&(Mr="["+Mr.map(function(Yr){return isNaN(Yr)?Yr:Ar.link(Yr,{stable:!0})})+"]"),Fr.set(dn.uniforms,"["+Ar.link(Yt.id(ln),{stable:!0})+"]",Mr)}),Object.keys(Ir.attributes).forEach(function(ln){var Mr=Ir.attributes[ln].append(Ar,Fr),Yr=Ar.scopeAttrib(ln);Object.keys(new Jn).forEach(function(Br){Fr.set(Yr,"."+Br,Mr[Br])})}),Ir.scopeVAO){var hn=Ir.scopeVAO.append(Ar,Fr);isNaN(hn)?Fr.set(dn.vao,".targetVAO",hn):Fr.set(dn.vao,".targetVAO",Ar.link(hn,{stable:!0}))}Tr("vert"),Tr("frag"),0<Object.keys(Ir.state).length&&(Fr(Ln,".dirty=true;"),Fr.exit(Ln,".dirty=true;")),Fr("a1(",Ar.shared.context,",a0,",Ar.batchId,");")}function Un(Ar){if(typeof Ar=="object"&&!b(Ar)){for(var Ir=Object.keys(Ar),Tr=0;Tr<Ir.length;++Tr)if(pe.isDynamic(Ar[Ir[Tr]]))return!0;return!1}}function ra(Ar,Ir,Tr){function Fr(Qr,wn){hn.forEach(function(En){var Cn=dn[En];pe.isDynamic(Cn)&&(Cn=Qr.invoke(wn,Cn),wn(Br,".",En,"=",Cn,";"))})}var dn=Ir.static[Tr];if(dn&&Un(dn)){var Ln=Ar.global,hn=Object.keys(dn),ln=!1,Mr=!1,Yr=!1,Br=Ar.global.def("{}");hn.forEach(function(Qr){var wn=dn[Qr];if(pe.isDynamic(wn))typeof wn=="function"&&(wn=dn[Qr]=pe.unbox(wn)),Qr=$(wn,null),ln=ln||Qr.thisDep,Yr=Yr||Qr.propDep,Mr=Mr||Qr.contextDep;else{switch(Ln(Br,".",Qr,"="),typeof wn){case"number":Ln(wn);break;case"string":Ln('"',wn,'"');break;case"object":Array.isArray(wn)&&Ln("[",wn.join(),"]");break;default:Ln(Ar.link(wn))}Ln(";")}}),Ir.dynamic[Tr]=new pe.DynamicVariable(4,{thisDep:ln,contextDep:Mr,propDep:Yr,ref:Br,append:Fr}),delete Ir.static[Tr]}}var Jn=Rt.Record,ea={add:32774,subtract:32778,"reverse subtract":32779};jt.ext_blend_minmax&&(ea.min=32775,ea.max=32776);var pr=jt.angle_instanced_arrays,Jr=jt.webgl_draw_buffers,Xr=jt.oes_vertex_array_object,vn={dirty:!0,profile:or.profile},Bn={},Tn=[],Mn={},On={};We("dither",3024),We("blend.enable",3042),Ue("blend.color","blendColor",[0,0,0,0]),Ue("blend.equation","blendEquationSeparate",[32774,32774]),Ue("blend.func","blendFuncSeparate",[1,0,1,0]),We("depth.enable",2929,!0),Ue("depth.func","depthFunc",513),Ue("depth.range","depthRange",[0,1]),Ue("depth.mask","depthMask",!0),Ue("colorMask","colorMask",[!0,!0,!0,!0]),We("cull.enable",2884),Ue("cull.face","cullFace",1029),Ue("frontFace","frontFace",2305),Ue("lineWidth","lineWidth",1),We("polygonOffset.enable",32823),Ue("polygonOffset.offset","polygonOffset",[0,0]),We("sample.alpha",32926),We("sample.enable",32928),Ue("sample.coverage","sampleCoverage",[1,!1]),We("stencil.enable",2960),Ue("stencil.mask","stencilMask",-1),Ue("stencil.func","stencilFunc",[519,0,-1]),Ue("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ue("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),We("scissor.enable",3089),Ue("scissor.box","scissor",[0,0,dt.drawingBufferWidth,dt.drawingBufferHeight]),Ue("viewport","viewport",[0,0,dt.drawingBufferWidth,dt.drawingBufferHeight]);var Wn={gl:dt,context:Bt,strings:Yt,next:Bn,current:vn,draw:Ct,elements:gt,buffer:sr,shader:Vt,attributes:Rt.state,vao:Rt,uniforms:Mt,framebuffer:xt,extensions:jt,timer:Xt,isBufferArgs:j},oa={primTypes:He,compareFuncs:It,blendFuncs:Lt,blendEquations:ea,stencilOps:wt,glTypes:Ze,orientationType:Et};Jr&&(oa.backBuffer=[1029],oa.drawBuffer=s(gr.maxDrawbuffers,function(Ar){return Ar===0?[0]:s(Ar,function(Ir){return 36064+Ir})}));var Ra=0;return{next:Bn,current:vn,procs:function(){var Ar=Ft(),Ir=Ar.proc("poll"),Tr=Ar.proc("refresh"),Fr=Ar.block();Ir(Fr),Tr(Fr);var Mr=Ar.shared,dn=Mr.gl,Ln=Mr.next,hn=Mr.current;Fr(hn,".dirty=false;"),Gr(Ar,Ir),Gr(Ar,Tr,null,!0);var ln;pr&&(ln=Ar.link(pr)),jt.oes_vertex_array_object&&Tr(Ar.link(jt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Mr=Tr.def(Mr.attributes),Yr=Tr.def(0),Br=Ar.cond(Yr,".buffer");Br.then(dn,".enableVertexAttribArray(i);",dn,".bindBuffer(",34962,",",Yr,".buffer.buffer);",dn,".vertexAttribPointer(i,",Yr,".size,",Yr,".type,",Yr,".normalized,",Yr,".stride,",Yr,".offset);").else(dn,".disableVertexAttribArray(i);",dn,".vertexAttrib4f(i,",Yr,".x,",Yr,".y,",Yr,".z,",Yr,".w);",Yr,".buffer=null;");var Qr=Ar.link(gr.maxAttributes,{stable:!0});return Tr("for(var i=0;i<",Qr,";++i){",Yr,"=",Mr,"[i];",Br,"}"),pr&&Tr("for(var i=0;i<",Qr,";++i){",ln,".vertexAttribDivisorANGLE(i,",Mr,"[i].divisor);","}"),Tr(Ar.shared.vao,".currentVAO=null;",Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"),Object.keys(Mn).forEach(function(wn){var En=Mn[wn],Cn=Fr.def(Ln,".",wn),Fn=Ar.block();Fn("if(",Cn,"){",dn,".enable(",En,")}else{",dn,".disable(",En,")}",hn,".",wn,"=",Cn,";"),Tr(Fn),Ir("if(",Cn,"!==",hn,".",wn,"){",Fn,"}")}),Object.keys(On).forEach(function(wn){var En=On[wn],Cn=vn[wn],Fn,kn,ha=Ar.block();ha(dn,".",En,"("),b(Cn)?(En=Cn.length,Fn=Ar.global.def(Ln,".",wn),kn=Ar.global.def(hn,".",wn),ha(s(En,function(ca){return Fn+"["+ca+"]"}),");",s(En,function(ca){return kn+"["+ca+"]="+Fn+"["+ca+"];"}).join("")),Ir("if(",s(En,function(ca){return Fn+"["+ca+"]!=="+kn+"["+ca+"]"}).join("||"),"){",ha,"}")):(Fn=Fr.def(Ln,".",wn),kn=Fr.def(hn,".",wn),ha(Fn,");",hn,".",wn,"=",Fn,";"),Ir("if(",Fn,"!==",kn,"){",ha,"}")),Tr(ha)}),Ar.compile()}(),compile:function(Ar,Ir,Tr,Fr,dn){var Ln=Ft();Ln.stats=Ln.link(dn),Object.keys(Ir.static).forEach(function(ln){ra(Ln,Ir,ln)}),rt.forEach(function(ln){ra(Ln,Ar,ln)});var hn=$r(Ar,Ir,Tr,Fr,Ln);return hn.shader.program&&(hn.shader.program.attributes.sort(function(ln,Mr){return ln.name<Mr.name?-1:1}),hn.shader.program.uniforms.sort(function(ln,Mr){return ln.name<Mr.name?-1:1})),gn(Ln,hn),ta(Ln,hn),zn(Ln,hn),te(Ln.compile(),{destroy:function(){hn.shader.program.destroy()}})}}}function oe(dt,Yt){for(var jt=0;jt<dt.length;++jt)if(dt[jt]===Yt)return jt;return-1}var te=function(dt,Yt){for(var jt=Object.keys(Yt),gr=0;gr<jt.length;++gr)dt[jt[gr]]=Yt[jt[gr]];return dt},fe=0,pe={DynamicVariable:U,define:function(dt,Yt){return new U(dt,x(Yt+""))},isDynamic:function(dt){return typeof dt=="function"&&!dt._reglType||dt instanceof U},unbox:P,accessor:x},Ae={next:typeof requestAnimationFrame=="function"?function(dt){return requestAnimationFrame(dt)}:function(dt){return setTimeout(dt,16)},cancel:typeof cancelAnimationFrame=="function"?function(dt){return cancelAnimationFrame(dt)}:clearTimeout},be=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date},Pe=u();Pe.zero=u();var me=function(dt,Yt){var jt=1;Yt.ext_texture_filter_anisotropic&&(jt=dt.getParameter(34047));var gr=1,sr=1;Yt.webgl_draw_buffers&&(gr=dt.getParameter(34852),sr=dt.getParameter(36063));var gt=!!Yt.oes_texture_float;if(gt){gt=dt.createTexture(),dt.bindTexture(3553,gt),dt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=dt.createFramebuffer();if(dt.bindFramebuffer(36160,st),dt.framebufferTexture2D(36160,36064,3553,gt,0),dt.bindTexture(3553,null),dt.checkFramebufferStatus(36160)!==36053)gt=!1;else{dt.viewport(0,0,1,1),dt.clearColor(1,0,0,1),dt.clear(16384);var xt=Pe.allocType(5126,4);dt.readPixels(0,0,1,1,6408,5126,xt),dt.getError()?gt=!1:(dt.deleteFramebuffer(st),dt.deleteTexture(gt),gt=xt[0]===1),Pe.freeType(xt)}}return xt=!0,typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=dt.createTexture(),st=Pe.allocType(5121,36),dt.activeTexture(33984),dt.bindTexture(34067,xt),dt.texImage2D(34069,0,6408,3,3,0,6408,5121,st),Pe.freeType(st),dt.bindTexture(34067,null),dt.deleteTexture(xt),xt=!dt.getError()),{colorBits:[dt.getParameter(3410),dt.getParameter(3411),dt.getParameter(3412),dt.getParameter(3413)],depthBits:dt.getParameter(3414),stencilBits:dt.getParameter(3415),subpixelBits:dt.getParameter(3408),extensions:Object.keys(Yt).filter(function(Mt){return!!Yt[Mt]}),maxAnisotropic:jt,maxDrawbuffers:gr,maxColorAttachments:sr,pointSizeDims:dt.getParameter(33901),lineWidthDims:dt.getParameter(33902),maxViewportDims:dt.getParameter(3386),maxCombinedTextureUnits:dt.getParameter(35661),maxCubeMapSize:dt.getParameter(34076),maxRenderbufferSize:dt.getParameter(34024),maxTextureUnits:dt.getParameter(34930),maxTextureSize:dt.getParameter(3379),maxAttributes:dt.getParameter(34921),maxVertexUniforms:dt.getParameter(36347),maxVertexTextureUnits:dt.getParameter(35660),maxVaryingVectors:dt.getParameter(36348),maxFragmentUniforms:dt.getParameter(36349),glsl:dt.getParameter(35724),renderer:dt.getParameter(7937),vendor:dt.getParameter(7936),version:dt.getParameter(7938),readFloat:gt,npotTextureCube:xt}},Ee=function(dt){return dt instanceof Uint8Array||dt instanceof Uint16Array||dt instanceof Uint32Array||dt instanceof Int8Array||dt instanceof Int16Array||dt instanceof Int32Array||dt instanceof Float32Array||dt instanceof Float64Array||dt instanceof Uint8ClampedArray},xe=function(dt){return Object.keys(dt).map(function(Yt){return dt[Yt]})},De={shape:function(dt){for(var Yt=[];dt.length;dt=dt[0])Yt.push(dt.length);return Yt},flatten:function(dt,Yt,jt,gr){var sr=1;if(Yt.length)for(var gt=0;gt<Yt.length;++gt)sr*=Yt[gt];else sr=0;switch(jt=gr||Pe.allocType(jt,sr),Yt.length){case 0:break;case 1:for(gr=Yt[0],Yt=0;Yt<gr;++Yt)jt[Yt]=dt[Yt];break;case 2:for(gr=Yt[0],Yt=Yt[1],gt=sr=0;gt<gr;++gt)for(var st=dt[gt],xt=0;xt<Yt;++xt)jt[sr++]=st[xt];break;case 3:f(dt,Yt[0],Yt[1],Yt[2],jt,0);break;default:g(dt,Yt,0,jt,0)}return jt}},Ve={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ze={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},Ye=De.flatten,lt=De.shape,yt=[];yt[5120]=1,yt[5122]=2,yt[5124]=4,yt[5121]=1,yt[5123]=2,yt[5125]=4,yt[5126]=4;var He={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Fe=new Float32Array(1),nt=new Uint32Array(Fe.buffer),ot=[9984,9986,9985,9987],ct=[0,6409,6410,6407,6408],ht={};ht[6409]=ht[6406]=ht[6402]=1,ht[34041]=ht[6410]=2,ht[6407]=ht[35904]=3,ht[6408]=ht[35906]=4;var mt=M("HTMLCanvasElement"),tt=M("OffscreenCanvas"),Re=M("CanvasRenderingContext2D"),Ge=M("ImageBitmap"),Je=M("HTMLImageElement"),Xe=M("HTMLVideoElement"),Oe=Object.keys(Ve).concat([mt,tt,Re,Ge,Je,Xe]),Ne=[];Ne[5121]=1,Ne[5126]=4,Ne[36193]=2,Ne[5123]=2,Ne[5125]=4;var ze=[];ze[32854]=2,ze[32855]=2,ze[36194]=2,ze[34041]=4,ze[33776]=.5,ze[33777]=.5,ze[33778]=1,ze[33779]=1,ze[35986]=.5,ze[35987]=1,ze[34798]=1,ze[35840]=.5,ze[35841]=.25,ze[35842]=.5,ze[35843]=.25,ze[36196]=.5;var et=[];et[32854]=2,et[32855]=2,et[36194]=2,et[33189]=2,et[36168]=1,et[34041]=4,et[35907]=4,et[34836]=16,et[34842]=8,et[34843]=6;var Le=function(dt,Yt,jt,gr,sr){function gt(Ct){this.id=Rt++,this.refCount=1,this.renderbuffer=Ct,this.format=32854,this.height=this.width=0,sr.profile&&(this.stats={size:0})}function st(Ct){var Bt=Ct.renderbuffer;dt.bindRenderbuffer(36161,null),dt.deleteRenderbuffer(Bt),Ct.renderbuffer=null,Ct.refCount=0,delete Vt[Ct.id],gr.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Yt.ext_srgb&&(xt.srgba=35907),Yt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Yt.webgl_color_buffer_float&&(xt.rgba32f=34836);var Mt=[];Object.keys(xt).forEach(function(Ct){Mt[xt[Ct]]=Ct});var Rt=0,Vt={};return gt.prototype.decRef=function(){0>=--this.refCount&&st(this)},sr.profile&&(gr.getTotalRenderbufferSize=function(){var Ct=0;return Object.keys(Vt).forEach(function(Bt){Ct+=Vt[Bt].stats.size}),Ct}),{create:function(Ct,Bt){function Xt(or,cr){var We=0,Ue=0,Ft=32854;if(typeof or=="object"&&or?("shape"in or?(Ue=or.shape,We=Ue[0]|0,Ue=Ue[1]|0):("radius"in or&&(We=Ue=or.radius|0),"width"in or&&(We=or.width|0),"height"in or&&(Ue=or.height|0)),"format"in or&&(Ft=xt[or.format])):typeof or=="number"?(We=or|0,Ue=typeof cr=="number"?cr|0:We):or||(We=Ue=1),We!==ir.width||Ue!==ir.height||Ft!==ir.format)return Xt.width=ir.width=We,Xt.height=ir.height=Ue,ir.format=Ft,dt.bindRenderbuffer(36161,ir.renderbuffer),dt.renderbufferStorage(36161,Ft,We,Ue),sr.profile&&(ir.stats.size=et[ir.format]*ir.width*ir.height),Xt.format=Mt[ir.format],Xt}var ir=new gt(dt.createRenderbuffer());return Vt[ir.id]=ir,gr.renderbufferCount++,Xt(Ct,Bt),Xt.resize=function(or,cr){var We=or|0,Ue=cr|0||We;return We===ir.width&&Ue===ir.height||(Xt.width=ir.width=We,Xt.height=ir.height=Ue,dt.bindRenderbuffer(36161,ir.renderbuffer),dt.renderbufferStorage(36161,ir.format,We,Ue),sr.profile&&(ir.stats.size=et[ir.format]*ir.width*ir.height)),Xt},Xt._reglType="renderbuffer",Xt._renderbuffer=ir,sr.profile&&(Xt.stats=ir.stats),Xt.destroy=function(){ir.decRef()},Xt},clear:function(){xe(Vt).forEach(st)},restore:function(){xe(Vt).forEach(function(Ct){Ct.renderbuffer=dt.createRenderbuffer(),dt.bindRenderbuffer(36161,Ct.renderbuffer),dt.renderbufferStorage(36161,Ct.format,Ct.width,Ct.height)}),dt.bindRenderbuffer(36161,null)}}},Te=[];Te[6408]=4,Te[6407]=3;var ye=[];ye[5121]=1,ye[5126]=4,ye[36193]=2;var Se=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ke=["x","y","z","w"],rt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Lt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},It={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},wt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Et={cw:2304,ccw:2305},Wt=new W(!1,!1,!1,function(){}),vr=function(dt,Yt){function jt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function gr(Vt,Ct,Bt){var Xt=st.pop()||new jt;Xt.startQueryIndex=Vt,Xt.endQueryIndex=Ct,Xt.sum=0,Xt.stats=Bt,xt.push(Xt)}if(!Yt.ext_disjoint_timer_query)return null;var sr=[],gt=[],st=[],xt=[],Mt=[],Rt=[];return{beginQuery:function(Vt){var Ct=sr.pop()||Yt.ext_disjoint_timer_query.createQueryEXT();Yt.ext_disjoint_timer_query.beginQueryEXT(35007,Ct),gt.push(Ct),gr(gt.length-1,gt.length,Vt)},endQuery:function(){Yt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:gr,update:function(){var Vt,Ct;if(Vt=gt.length,Vt!==0){Rt.length=Math.max(Rt.length,Vt+1),Mt.length=Math.max(Mt.length,Vt+1),Mt[0]=0;var Bt=Rt[0]=0;for(Ct=Vt=0;Ct<gt.length;++Ct){var Xt=gt[Ct];Yt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34919)?(Bt+=Yt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34918),sr.push(Xt)):gt[Vt++]=Xt,Mt[Ct+1]=Bt,Rt[Ct+1]=Vt}for(gt.length=Vt,Ct=Vt=0;Ct<xt.length;++Ct){var Bt=xt[Ct],ir=Bt.startQueryIndex,Xt=Bt.endQueryIndex;Bt.sum+=Mt[Xt]-Mt[ir],ir=Rt[ir],Xt=Rt[Xt],Xt===ir?(Bt.stats.gpuTime+=Bt.sum/1e6,st.push(Bt)):(Bt.startQueryIndex=ir,Bt.endQueryIndex=Xt,xt[Vt++]=Bt)}xt.length=Vt}},getNumPendingQueries:function(){return gt.length},clear:function(){sr.push.apply(sr,gt);for(var Vt=0;Vt<sr.length;Vt++)Yt.ext_disjoint_timer_query.deleteQueryEXT(sr[Vt]);gt.length=0,sr.length=0},restore:function(){gt.length=0,sr.length=0}}};return function(dt){function Yt(){if(xn.length===0)Ft&&Ft.update(),Ur=null;else{Ur=Ae.next(Yt),Vt();for(var gn=xn.length-1;0<=gn;--gn){var yn=xn[gn];yn&&yn(rr,null,0)}Xt.flush(),Ft&&Ft.update()}}function jt(){!Ur&&0<xn.length&&(Ur=Ae.next(Yt))}function gr(){Ur&&(Ae.cancel(Yt),Ur=null)}function sr(gn){gn.preventDefault(),gr(),fr.forEach(function(yn){yn()})}function gt(gn){Xt.getError(),or.restore(),mr.restore(),Ot.restore(),Cr.restore(),$r.restore(),yr.restore(),dr.restore(),Ft&&Ft.restore(),Gr.procs.refresh(),jt(),Dr.forEach(function(yn){yn()})}function st(gn){function yn(vn,Bn){var Tn={},Mn={};return Object.keys(vn).forEach(function(On){var Wn=vn[On];if(pe.isDynamic(Wn))Mn[On]=pe.unbox(Wn,On);else{if(Bn&&Array.isArray(Wn)){for(var oa=0;oa<Wn.length;++oa)if(pe.isDynamic(Wn[oa])){Mn[On]=pe.unbox(Wn,On);return}}Tn[On]=Wn}}),{dynamic:Mn,static:Tn}}function Pn(vn){for(;Xr.length<vn;)Xr.push(null);return Xr}var zn=yn(gn.context||{},!0),ta=yn(gn.uniforms||{},!0),Un=yn(gn.attributes||{},!1);gn=yn(function(vn){function Bn(Mn){if(Mn in Tn){var On=Tn[Mn];delete Tn[Mn],Object.keys(On).forEach(function(Wn){Tn[Mn+"."+Wn]=On[Wn]})}}var Tn=te({},vn);return delete Tn.uniforms,delete Tn.attributes,delete Tn.context,delete Tn.vao,"stencil"in Tn&&Tn.stencil.op&&(Tn.stencil.opBack=Tn.stencil.opFront=Tn.stencil.op,delete Tn.stencil.op),Bn("blend"),Bn("depth"),Bn("cull"),Bn("stencil"),Bn("polygonOffset"),Bn("scissor"),Bn("sample"),"vao"in vn&&(Tn.vao=vn.vao),Tn}(gn),!1);var ra={gpuTime:0,cpuTime:0,count:0},Jn=Gr.compile(gn,Un,ta,zn,ra),ea=Jn.draw,pr=Jn.batch,Jr=Jn.scope,Xr=[];return te(function(vn,Bn){var Tn;if(typeof vn=="function")return Jr.call(this,null,vn,0);if(typeof Bn=="function")if(typeof vn=="number")for(Tn=0;Tn<vn;++Tn)Jr.call(this,null,Bn,Tn);else if(Array.isArray(vn))for(Tn=0;Tn<vn.length;++Tn)Jr.call(this,vn[Tn],Bn,Tn);else return Jr.call(this,vn,Bn,0);else if(typeof vn=="number"){if(0<vn)return pr.call(this,Pn(vn|0),vn|0)}else if(Array.isArray(vn)){if(vn.length)return pr.call(this,vn,vn.length)}else return ea.call(this,vn)},{stats:ra,destroy:function(){Jn.destroy()}})}function xt(gn,yn){var Pn=0;Gr.procs.poll();var zn=yn.color;zn&&(Xt.clearColor(+zn[0]||0,+zn[1]||0,+zn[2]||0,+zn[3]||0),Pn|=16384),"depth"in yn&&(Xt.clearDepth(+yn.depth),Pn|=256),"stencil"in yn&&(Xt.clearStencil(yn.stencil|0),Pn|=1024),Xt.clear(Pn)}function Mt(gn){return xn.push(gn),jt(),{cancel:function(){function yn(){var zn=oe(xn,yn);xn[zn]=xn[xn.length-1],--xn.length,0>=xn.length&&gr()}var Pn=oe(xn,gn);xn[Pn]=yn}}}function Rt(){var gn=_r.viewport,yn=_r.scissor_box;gn[0]=gn[1]=yn[0]=yn[1]=0,rr.viewportWidth=rr.framebufferWidth=rr.drawingBufferWidth=gn[2]=yn[2]=Xt.drawingBufferWidth,rr.viewportHeight=rr.framebufferHeight=rr.drawingBufferHeight=gn[3]=yn[3]=Xt.drawingBufferHeight}function Vt(){rr.tick+=1,rr.time=Bt(),Rt(),Gr.procs.poll()}function Ct(){Cr.refresh(),Rt(),Gr.procs.refresh(),Ft&&Ft.update()}function Bt(){return(be()-kt)/1e3}if(dt=r(dt),!dt)return null;var Xt=dt.gl,ir=Xt.getContextAttributes();Xt.isContextLost();var or=t(Xt,dt);if(!or)return null;var rn=i(),cr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},We=dt.cachedCode||{},Ue=or.extensions,Ft=vr(Xt,Ue),kt=be(),lr=Xt.drawingBufferWidth,Zt=Xt.drawingBufferHeight,rr={tick:0,time:0,viewportWidth:lr,viewportHeight:Zt,framebufferWidth:lr,framebufferHeight:Zt,drawingBufferWidth:lr,drawingBufferHeight:Zt,pixelRatio:dt.pixelRatio},lr={elements:null,primitive:4,count:-1,offset:0,instances:-1},qt=me(Xt,Ue),Ot=o(Xt,cr,dt,function(gn){return dr.destroyBuffer(gn)}),tr=v(Xt,Ue,Ot,cr),dr=F(Xt,Ue,qt,cr,Ot,tr,lr),mr=_(Xt,rn,cr,dt),Cr=k(Xt,Ue,qt,function(){Gr.procs.poll()},rr,cr,dt),$r=Le(Xt,Ue,qt,cr,dt),yr=R(Xt,Ue,qt,Cr,$r,cr),Gr=X(Xt,rn,Ue,qt,Ot,tr,Cr,yr,{},dr,mr,lr,rr,Ft,We,dt),rn=O(Xt,yr,Gr.procs.poll,rr,ir,Ue,qt),_r=Gr.next,bn=Xt.canvas,xn=[],fr=[],Dr=[],Nr=[dt.onDestroy],Ur=null;bn&&(bn.addEventListener("webglcontextlost",sr,!1),bn.addEventListener("webglcontextrestored",gt,!1));var on=yr.setFBO=st({framebuffer:pe.define.call(null,1,"framebuffer")});return Ct(),ir=te(st,{clear:function(gn){if("framebuffer"in gn)if(gn.framebuffer&&gn.framebuffer_reglType==="framebufferCube")for(var yn=0;6>yn;++yn)on(te({framebuffer:gn.framebuffer.faces[yn]},gn),xt);else on(gn,xt);else xt(null,gn)},prop:pe.define.bind(null,1),context:pe.define.bind(null,2),this:pe.define.bind(null,3),draw:st({}),buffer:function(gn){return Ot.create(gn,34962,!1,!1)},elements:function(gn){return tr.create(gn,!1)},texture:Cr.create2D,cube:Cr.createCube,renderbuffer:$r.create,framebuffer:yr.create,framebufferCube:yr.createCube,vao:dr.createVAO,attributes:ir,frame:Mt,on:function(gn,yn){var Pn;switch(gn){case"frame":return Mt(yn);case"lost":Pn=fr;break;case"restore":Pn=Dr;break;case"destroy":Pn=Nr}return Pn.push(yn),{cancel:function(){for(var zn=0;zn<Pn.length;++zn)if(Pn[zn]===yn){Pn[zn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:qt,hasExtension:function(gn){return 0<=qt.extensions.indexOf(gn.toLowerCase())},read:rn,destroy:function(){xn.length=0,gr(),bn&&(bn.removeEventListener("webglcontextlost",sr),bn.removeEventListener("webglcontextrestored",gt)),mr.clear(),yr.clear(),$r.clear(),dr.clear(),Cr.clear(),tr.clear(),Ot.clear(),Ft&&Ft.clear(),Nr.forEach(function(gn){gn()})},_gl:Xt,_refresh:Ct,poll:function(){Vt(),Ft&&Ft.update()},now:Bt,stats:cr,getCachedCode:function(){return We},preloadCachedCode:function(gn){Object.entries(gn).forEach(function(yn){We[yn[0]]=yn[1]})}}),dt.onDone(null,ir),ir}})},30456:function(V,U,e){var x=e(33576),P=x.Buffer;function i(C,c){for(var y in C)c[y]=C[y]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?V.exports=x:(i(x,U),U.Buffer=L);function L(C,c,y){return P(C,c,y)}L.prototype=Object.create(P.prototype),i(P,L),L.from=function(C,c,y){if(typeof C=="number")throw new TypeError("Argument must not be a number");return P(C,c,y)},L.alloc=function(C,c,y){if(typeof C!="number")throw new TypeError("Argument must be a number");var r=P(C);return c!==void 0?typeof y=="string"?r.fill(c,y):r.fill(c):r.fill(0),r},L.allocUnsafe=function(C){if(typeof C!="number")throw new TypeError("Argument must be a number");return P(C)},L.allocUnsafeSlow=function(C){if(typeof C!="number")throw new TypeError("Argument must be a number");return x.SlowBuffer(C)}},14500:function(V,U,e){"use strict";var x=e(53664),P=e(64348),i=e(39640)(),L=e(2304),C=x("%TypeError%"),c=x("%Math.floor%");V.exports=function(r,t){if(typeof r!="function")throw new C("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||c(t)!==t)throw new C("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in r&&L){var l=L(r,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!s)&&(i?P(r,"length",t,!0,!0):P(r,"length",t)),r}},29936:function(V,U,e){V.exports=i;var x=e(61252).EventEmitter,P=e(6768);P(i,x),i.Readable=e(12348),i.Writable=e(11288),i.Duplex=e(15316),i.Transform=e(22477),i.PassThrough=e(27136),i.finished=e(15932),i.pipeline=e(38180),i.Stream=i;function i(){x.call(this)}i.prototype.pipe=function(L,C){var c=this;function y(f){L.writable&&L.write(f)===!1&&c.pause&&c.pause()}c.on("data",y);function r(){c.readable&&c.resume&&c.resume()}L.on("drain",r),!L._isStdio&&(!C||C.end!==!1)&&(c.on("end",s),c.on("close",n));var t=!1;function s(){t||(t=!0,L.end())}function n(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function u(f){if(l(),x.listenerCount(this,"error")===0)throw f}c.on("error",u),L.on("error",u);function l(){c.removeListener("data",y),L.removeListener("drain",r),c.removeListener("end",s),c.removeListener("close",n),c.removeListener("error",u),L.removeListener("error",u),c.removeListener("end",l),c.removeListener("close",l),L.removeListener("close",l)}return c.on("end",l),c.on("close",l),L.on("close",l),L.emit("pipe",c),L}},92784:function(V){"use strict";function U(c,y){c.prototype=Object.create(y.prototype),c.prototype.constructor=c,c.__proto__=y}var e={};function x(c,y,r){r||(r=Error);function t(n,u,l){return typeof y=="string"?y:y(n,u,l)}var s=function(n){U(u,n);function u(l,f,g){return n.call(this,t(l,f,g))||this}return u}(r);s.prototype.name=r.name,s.prototype.code=c,e[c]=s}function P(c,y){if(Array.isArray(c)){var r=c.length;return c=c.map(function(t){return String(t)}),r>2?"one of ".concat(y," ").concat(c.slice(0,r-1).join(", "),", or ")+c[r-1]:r===2?"one of ".concat(y," ").concat(c[0]," or ").concat(c[1]):"of ".concat(y," ").concat(c[0])}else return"of ".concat(y," ").concat(String(c))}function i(c,y,r){return c.substr(!r||r<0?0:+r,y.length)===y}function L(c,y,r){return(r===void 0||r>c.length)&&(r=c.length),c.substring(r-y.length,r)===y}function C(c,y,r){return typeof r!="number"&&(r=0),r+y.length>c.length?!1:c.indexOf(y,r)!==-1}x("ERR_INVALID_OPT_VALUE",function(c,y){return'The value "'+y+'" is invalid for option "'+c+'"'},TypeError),x("ERR_INVALID_ARG_TYPE",function(c,y,r){var t;typeof y=="string"&&i(y,"not ")?(t="must not be",y=y.replace(/^not /,"")):t="must be";var s;if(L(c," argument"))s="The ".concat(c," ").concat(t," ").concat(P(y,"type"));else{var n=C(c,".")?"property":"argument";s='The "'.concat(c,'" ').concat(n," ").concat(t," ").concat(P(y,"type"))}return s+=". Received type ".concat(typeof r),s},TypeError),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),x("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),x("ERR_STREAM_PREMATURE_CLOSE","Premature close"),x("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),x("ERR_STREAM_WRITE_AFTER_END","write after end"),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),V.exports.i=e},15316:function(V,U,e){"use strict";var x=e(4168),P=Object.keys||function(n){var u=[];for(var l in n)u.push(l);return u};V.exports=r;var i=e(12348),L=e(11288);e(6768)(r,i);for(var C=P(L.prototype),c=0;c<C.length;c++){var y=C[c];r.prototype[y]||(r.prototype[y]=L.prototype[y])}function r(n){if(!(this instanceof r))return new r(n);i.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||x.nextTick(s,this)}function s(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},27136:function(V,U,e){"use strict";V.exports=P;var x=e(22477);e(6768)(P,x);function P(i){if(!(this instanceof P))return new P(i);x.call(this,i)}P.prototype._transform=function(i,L,C){C(null,i)}},12348:function(V,U,e){"use strict";var x=e(4168);V.exports=E;var P;E.ReadableState=a;var i=e(61252).EventEmitter,L=function(oe,te){return oe.listeners(te).length},C=e(4776),c=e(33576).Buffer,y=e.g.Uint8Array||function(){};function r(X){return c.from(X)}function t(X){return c.isBuffer(X)||X instanceof y}var s=e(19768),n;s&&s.debuglog?n=s.debuglog("stream"):n=function(){};var u=e(47264),l=e(55324),f=e(24888),g=f.getHighWaterMark,h=e(92784).i,w=h.ERR_INVALID_ARG_TYPE,d=h.ERR_STREAM_PUSH_AFTER_EOF,o=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,b,M;e(6768)(E,C);var m=l.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(X,oe,te){if(typeof X.prependListener=="function")return X.prependListener(oe,te);!X._events||!X._events[oe]?X.on(oe,te):Array.isArray(X._events[oe])?X._events[oe].unshift(te):X._events[oe]=[te,X._events[oe]]}function a(X,oe,te){P=P||e(15316),X=X||{},typeof te!="boolean"&&(te=oe instanceof P),this.objectMode=!!X.objectMode,te&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=g(this,X,"readableHighWaterMark",te),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(A||(A=e(86032).o),this.decoder=new A(X.encoding),this.encoding=X.encoding)}function E(X){if(P=P||e(15316),!(this instanceof E))return new E(X);var oe=this instanceof P;this._readableState=new a(X,this,oe),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),C.call(this)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(oe){this._readableState&&(this._readableState.destroyed=oe)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(X,oe){oe(X)},E.prototype.push=function(X,oe){var te=this._readableState,fe;return te.objectMode?fe=!0:typeof X=="string"&&(oe=oe||te.defaultEncoding,oe!==te.encoding&&(X=c.from(X,oe),oe=""),fe=!0),p(this,X,oe,!1,fe)},E.prototype.unshift=function(X){return p(this,X,null,!0,!1)};function p(X,oe,te,fe,pe){n("readableAddChunk",oe);var Ae=X._readableState;if(oe===null)Ae.reading=!1,O(X,Ae);else{var be;if(pe||(be=R(Ae,oe)),be)m(X,be);else if(Ae.objectMode||oe&&oe.length>0)if(typeof oe!="string"&&!Ae.objectMode&&Object.getPrototypeOf(oe)!==c.prototype&&(oe=r(oe)),fe)Ae.endEmitted?m(X,new v):k(X,Ae,oe,!0);else if(Ae.ended)m(X,new d);else{if(Ae.destroyed)return!1;Ae.reading=!1,Ae.decoder&&!te?(oe=Ae.decoder.write(oe),Ae.objectMode||oe.length!==0?k(X,Ae,oe,!1):Y(X,Ae)):k(X,Ae,oe,!1)}else fe||(Ae.reading=!1,Y(X,Ae))}return!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.length===0)}function k(X,oe,te,fe){oe.flowing&&oe.length===0&&!oe.sync?(oe.awaitDrain=0,X.emit("data",te)):(oe.length+=oe.objectMode?1:te.length,fe?oe.buffer.unshift(te):oe.buffer.push(te),oe.needReadable&&z(X)),Y(X,oe)}function R(X,oe){var te;return!t(oe)&&typeof oe!="string"&&oe!==void 0&&!X.objectMode&&(te=new w("chunk",["string","Buffer","Uint8Array"],oe)),te}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(X){A||(A=e(86032).o);var oe=new A(X);this._readableState.decoder=oe,this._readableState.encoding=this._readableState.decoder.encoding;for(var te=this._readableState.buffer.head,fe="";te!==null;)fe+=oe.write(te.data),te=te.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var B=1073741824;function F(X){return X>=B?X=B:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function _(X,oe){return X<=0||oe.length===0&&oe.ended?0:oe.objectMode?1:X!==X?oe.flowing&&oe.length?oe.buffer.head.data.length:oe.length:(X>oe.highWaterMark&&(oe.highWaterMark=F(X)),X<=oe.length?X:oe.ended?oe.length:(oe.needReadable=!0,0))}E.prototype.read=function(X){n("read",X),X=parseInt(X,10);var oe=this._readableState,te=X;if(X!==0&&(oe.emittedReadable=!1),X===0&&oe.needReadable&&((oe.highWaterMark!==0?oe.length>=oe.highWaterMark:oe.length>0)||oe.ended))return n("read: emitReadable",oe.length,oe.ended),oe.length===0&&oe.ended?Q(this):z(this),null;if(X=_(X,oe),X===0&&oe.ended)return oe.length===0&&Q(this),null;var fe=oe.needReadable;n("need readable",fe),(oe.length===0||oe.length-X<oe.highWaterMark)&&(fe=!0,n("length less than watermark",fe)),oe.ended||oe.reading?(fe=!1,n("reading or ended",fe)):fe&&(n("do read"),oe.reading=!0,oe.sync=!0,oe.length===0&&(oe.needReadable=!0),this._read(oe.highWaterMark),oe.sync=!1,oe.reading||(X=_(te,oe)));var pe;return X>0?pe=W(X,oe):pe=null,pe===null?(oe.needReadable=oe.length<=oe.highWaterMark,X=0):(oe.length-=X,oe.awaitDrain=0),oe.length===0&&(oe.ended||(oe.needReadable=!0),te!==X&&oe.ended&&Q(this)),pe!==null&&this.emit("data",pe),pe};function O(X,oe){if(n("onEofChunk"),!oe.ended){if(oe.decoder){var te=oe.decoder.end();te&&te.length&&(oe.buffer.push(te),oe.length+=oe.objectMode?1:te.length)}oe.ended=!0,oe.sync?z(X):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,N(X)))}}function z(X){var oe=X._readableState;n("emitReadable",oe.needReadable,oe.emittedReadable),oe.needReadable=!1,oe.emittedReadable||(n("emitReadable",oe.flowing),oe.emittedReadable=!0,x.nextTick(N,X))}function N(X){var oe=X._readableState;n("emitReadable_",oe.destroyed,oe.length,oe.ended),!oe.destroyed&&(oe.length||oe.ended)&&(X.emit("readable"),oe.emittedReadable=!1),oe.needReadable=!oe.flowing&&!oe.ended&&oe.length<=oe.highWaterMark,ie(X)}function Y(X,oe){oe.readingMore||(oe.readingMore=!0,x.nextTick(J,X,oe))}function J(X,oe){for(;!oe.reading&&!oe.ended&&(oe.length<oe.highWaterMark||oe.flowing&&oe.length===0);){var te=oe.length;if(n("maybeReadMore read 0"),X.read(0),te===oe.length)break}oe.readingMore=!1}E.prototype._read=function(X){m(this,new o("_read()"))},E.prototype.pipe=function(X,oe){var te=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=X;break;case 1:fe.pipes=[fe.pipes,X];break;default:fe.pipes.push(X);break}fe.pipesCount+=1,n("pipe count=%d opts=%j",fe.pipesCount,oe);var pe=(!oe||oe.end!==!1)&&X!==x.stdout&&X!==x.stderr,Ae=pe?Pe:Ye;fe.endEmitted?x.nextTick(Ae):te.once("end",Ae),X.on("unpipe",be);function be(lt,yt){n("onunpipe"),lt===te&&yt&&yt.hasUnpiped===!1&&(yt.hasUnpiped=!0,xe())}function Pe(){n("onend"),X.end()}var me=ae(te);X.on("drain",me);var Ee=!1;function xe(){n("cleanup"),X.removeListener("close",Ze),X.removeListener("finish",ke),X.removeListener("drain",me),X.removeListener("error",Ve),X.removeListener("unpipe",be),te.removeListener("end",Pe),te.removeListener("end",Ye),te.removeListener("data",De),Ee=!0,fe.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&me()}te.on("data",De);function De(lt){n("ondata");var yt=X.write(lt);n("dest.write",yt),yt===!1&&((fe.pipesCount===1&&fe.pipes===X||fe.pipesCount>1&&$(fe.pipes,X)!==-1)&&!Ee&&(n("false write response, pause",fe.awaitDrain),fe.awaitDrain++),te.pause())}function Ve(lt){n("onerror",lt),Ye(),X.removeListener("error",Ve),L(X,"error")===0&&m(X,lt)}T(X,"error",Ve);function Ze(){X.removeListener("finish",ke),Ye()}X.once("close",Ze);function ke(){n("onfinish"),X.removeListener("close",Ze),Ye()}X.once("finish",ke);function Ye(){n("unpipe"),te.unpipe(X)}return X.emit("pipe",te),fe.flowing||(n("pipe resume"),te.resume()),X};function ae(X){return function(){var te=X._readableState;n("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&L(X,"data")&&(te.flowing=!0,ie(X))}}E.prototype.unpipe=function(X){var oe=this._readableState,te={hasUnpiped:!1};if(oe.pipesCount===0)return this;if(oe.pipesCount===1)return X&&X!==oe.pipes?this:(X||(X=oe.pipes),oe.pipes=null,oe.pipesCount=0,oe.flowing=!1,X&&X.emit("unpipe",this,te),this);if(!X){var fe=oe.pipes,pe=oe.pipesCount;oe.pipes=null,oe.pipesCount=0,oe.flowing=!1;for(var Ae=0;Ae<pe;Ae++)fe[Ae].emit("unpipe",this,{hasUnpiped:!1});return this}var be=$(oe.pipes,X);return be===-1?this:(oe.pipes.splice(be,1),oe.pipesCount-=1,oe.pipesCount===1&&(oe.pipes=oe.pipes[0]),X.emit("unpipe",this,te),this)},E.prototype.on=function(X,oe){var te=C.prototype.on.call(this,X,oe),fe=this._readableState;return X==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):X==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,n("on readable",fe.length,fe.reading),fe.length?z(this):fe.reading||x.nextTick(ue,this)),te},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(X,oe){var te=C.prototype.removeListener.call(this,X,oe);return X==="readable"&&x.nextTick(se,this),te},E.prototype.removeAllListeners=function(X){var oe=C.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&x.nextTick(se,this),oe};function se(X){var oe=X._readableState;oe.readableListening=X.listenerCount("readable")>0,oe.resumeScheduled&&!oe.paused?oe.flowing=!0:X.listenerCount("data")>0&&X.resume()}function ue(X){n("readable nexttick read 0"),X.read(0)}E.prototype.resume=function(){var X=this._readableState;return X.flowing||(n("resume"),X.flowing=!X.readableListening,K(this,X)),X.paused=!1,this};function K(X,oe){oe.resumeScheduled||(oe.resumeScheduled=!0,x.nextTick(j,X,oe))}function j(X,oe){n("resume",oe.reading),oe.reading||X.read(0),oe.resumeScheduled=!1,X.emit("resume"),ie(X),oe.flowing&&!oe.reading&&X.read(0)}E.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(X){var oe=X._readableState;for(n("flow",oe.flowing);oe.flowing&&X.read()!==null;);}E.prototype.wrap=function(X){var oe=this,te=this._readableState,fe=!1;X.on("end",function(){if(n("wrapped end"),te.decoder&&!te.ended){var be=te.decoder.end();be&&be.length&&oe.push(be)}oe.push(null)}),X.on("data",function(be){if(n("wrapped data"),te.decoder&&(be=te.decoder.write(be)),!(te.objectMode&&be==null)&&!(!te.objectMode&&(!be||!be.length))){var Pe=oe.push(be);Pe||(fe=!0,X.pause())}});for(var pe in X)this[pe]===void 0&&typeof X[pe]=="function"&&(this[pe]=function(Pe){return function(){return X[Pe].apply(X,arguments)}}(pe));for(var Ae=0;Ae<S.length;Ae++)X.on(S[Ae],this.emit.bind(this,S[Ae]));return this._read=function(be){n("wrapped _read",be),fe&&(fe=!1,X.resume())},this},typeof Symbol=="function"&&(E.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e(60328)),b(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(oe){this._readableState&&(this._readableState.flowing=oe)}}),E._fromList=W,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function W(X,oe){if(oe.length===0)return null;var te;return oe.objectMode?te=oe.buffer.shift():!X||X>=oe.length?(oe.decoder?te=oe.buffer.join(""):oe.buffer.length===1?te=oe.buffer.first():te=oe.buffer.concat(oe.length),oe.buffer.clear()):te=oe.buffer.consume(X,oe.decoder),te}function Q(X){var oe=X._readableState;n("endReadable",oe.endEmitted),oe.endEmitted||(oe.ended=!0,x.nextTick(ee,oe,X))}function ee(X,oe){if(n("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,oe.readable=!1,oe.emit("end"),X.autoDestroy)){var te=oe._writableState;(!te||te.autoDestroy&&te.finished)&&oe.destroy()}}typeof Symbol=="function"&&(E.from=function(X,oe){return M===void 0&&(M=e(90555)),M(E,X,oe)});function $(X,oe){for(var te=0,fe=X.length;te<fe;te++)if(X[te]===oe)return te;return-1}},22477:function(V,U,e){"use strict";V.exports=r;var x=e(92784).i,P=x.ERR_METHOD_NOT_IMPLEMENTED,i=x.ERR_MULTIPLE_CALLBACK,L=x.ERR_TRANSFORM_ALREADY_TRANSFORMING,C=x.ERR_TRANSFORM_WITH_LENGTH_0,c=e(15316);e(6768)(r,c);function y(n,u){var l=this._transformState;l.transforming=!1;var f=l.writecb;if(f===null)return this.emit("error",new i);l.writechunk=null,l.writecb=null,u!=null&&this.push(u),f(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);c.call(this,n),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(u,l){s(n,u,l)}):s(this,null,null)}r.prototype.push=function(n,u){return this._transformState.needTransform=!1,c.prototype.push.call(this,n,u)},r.prototype._transform=function(n,u,l){l(new P("_transform()"))},r.prototype._write=function(n,u,l){var f=this._transformState;if(f.writecb=l,f.writechunk=n,f.writeencoding=u,!f.transforming){var g=this._readableState;(f.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(n){var u=this._transformState;u.writechunk!==null&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},r.prototype._destroy=function(n,u){c.prototype._destroy.call(this,n,function(l){u(l)})};function s(n,u,l){if(u)return n.emit("error",u);if(l!=null&&n.push(l),n._writableState.length)throw new C;if(n._transformState.transforming)throw new L;return n.push(null)}},11288:function(V,U,e){"use strict";var x=e(4168);V.exports=a;function P(ie,W,Q){this.chunk=ie,this.encoding=W,this.callback=Q,this.next=null}function i(ie){var W=this;this.next=null,this.entry=null,this.finish=function(){j(W,ie)}}var L;a.WritableState=S;var C={deprecate:e(96656)},c=e(4776),y=e(33576).Buffer,r=e.g.Uint8Array||function(){};function t(ie){return y.from(ie)}function s(ie){return y.isBuffer(ie)||ie instanceof r}var n=e(55324),u=e(24888),l=u.getHighWaterMark,f=e(92784).i,g=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,w=f.ERR_MULTIPLE_CALLBACK,d=f.ERR_STREAM_CANNOT_PIPE,o=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,A=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,M=n.errorOrDestroy;e(6768)(a,c);function m(){}function S(ie,W,Q){L=L||e(15316),ie=ie||{},typeof Q!="boolean"&&(Q=W instanceof L),this.objectMode=!!ie.objectMode,Q&&(this.objectMode=this.objectMode||!!ie.writableObjectMode),this.highWaterMark=l(this,ie,"writableHighWaterMark",Q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=ie.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){O(W,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}S.prototype.getBuffer=function(){for(var W=this.bufferedRequest,Q=[];W;)Q.push(W),W=W.next;return Q},function(){try{Object.defineProperty(S.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(ie){}}();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(W){return T.call(this,W)?!0:this!==a?!1:W&&W._writableState instanceof S}})):T=function(W){return W instanceof this};function a(ie){L=L||e(15316);var W=this instanceof L;if(!W&&!T.call(a,this))return new a(ie);this._writableState=new S(ie,this,W),this.writable=!0,ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final)),c.call(this)}a.prototype.pipe=function(){M(this,new d)};function E(ie,W){var Q=new A;M(ie,Q),x.nextTick(W,Q)}function p(ie,W,Q,ee){var $;return Q===null?$=new v:typeof Q!="string"&&!W.objectMode&&($=new g("chunk",["string","Buffer"],Q)),$?(M(ie,$),x.nextTick(ee,$),!1):!0}a.prototype.write=function(ie,W,Q){var ee=this._writableState,$=!1,X=!ee.objectMode&&s(ie);return X&&!y.isBuffer(ie)&&(ie=t(ie)),typeof W=="function"&&(Q=W,W=null),X?W="buffer":W||(W=ee.defaultEncoding),typeof Q!="function"&&(Q=m),ee.ending?E(this,Q):(X||p(this,ee,ie,Q))&&(ee.pendingcb++,$=R(this,ee,X,ie,W,Q)),$},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,!ie.writing&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&Y(this,ie))},a.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new b(W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function k(ie,W,Q){return!ie.objectMode&&ie.decodeStrings!==!1&&typeof W=="string"&&(W=y.from(W,Q)),W}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(ie,W,Q,ee,$,X){if(!Q){var oe=k(W,ee,$);ee!==oe&&(Q=!0,$="buffer",ee=oe)}var te=W.objectMode?1:ee.length;W.length+=te;var fe=W.length<W.highWaterMark;if(fe||(W.needDrain=!0),W.writing||W.corked){var pe=W.lastBufferedRequest;W.lastBufferedRequest={chunk:ee,encoding:$,isBuf:Q,callback:X,next:null},pe?pe.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else B(ie,W,!1,te,ee,$,X);return fe}function B(ie,W,Q,ee,$,X,oe){W.writelen=ee,W.writecb=oe,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new o("write")):Q?ie._writev($,W.onwrite):ie._write($,X,W.onwrite),W.sync=!1}function F(ie,W,Q,ee,$){--W.pendingcb,Q?(x.nextTick($,ee),x.nextTick(ue,ie,W),ie._writableState.errorEmitted=!0,M(ie,ee)):($(ee),ie._writableState.errorEmitted=!0,M(ie,ee),ue(ie,W))}function _(ie){ie.writing=!1,ie.writecb=null,ie.length-=ie.writelen,ie.writelen=0}function O(ie,W){var Q=ie._writableState,ee=Q.sync,$=Q.writecb;if(typeof $!="function")throw new w;if(_(Q),W)F(ie,Q,ee,W,$);else{var X=J(Q)||ie.destroyed;!X&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&Y(ie,Q),ee?x.nextTick(z,ie,Q,X,$):z(ie,Q,X,$)}}function z(ie,W,Q,ee){Q||N(ie,W),W.pendingcb--,ee(),ue(ie,W)}function N(ie,W){W.length===0&&W.needDrain&&(W.needDrain=!1,ie.emit("drain"))}function Y(ie,W){W.bufferProcessing=!0;var Q=W.bufferedRequest;if(ie._writev&&Q&&Q.next){var ee=W.bufferedRequestCount,$=new Array(ee),X=W.corkedRequestsFree;X.entry=Q;for(var oe=0,te=!0;Q;)$[oe]=Q,Q.isBuf||(te=!1),Q=Q.next,oe+=1;$.allBuffers=te,B(ie,W,!0,W.length,$,"",X.finish),W.pendingcb++,W.lastBufferedRequest=null,X.next?(W.corkedRequestsFree=X.next,X.next=null):W.corkedRequestsFree=new i(W),W.bufferedRequestCount=0}else{for(;Q;){var fe=Q.chunk,pe=Q.encoding,Ae=Q.callback,be=W.objectMode?1:fe.length;if(B(ie,W,!1,be,fe,pe,Ae),Q=Q.next,W.bufferedRequestCount--,W.writing)break}Q===null&&(W.lastBufferedRequest=null)}W.bufferedRequest=Q,W.bufferProcessing=!1}a.prototype._write=function(ie,W,Q){Q(new h("_write()"))},a.prototype._writev=null,a.prototype.end=function(ie,W,Q){var ee=this._writableState;return typeof ie=="function"?(Q=ie,ie=null,W=null):typeof W=="function"&&(Q=W,W=null),ie!=null&&this.write(ie,W),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||K(this,ee,Q),this},Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function J(ie){return ie.ending&&ie.length===0&&ie.bufferedRequest===null&&!ie.finished&&!ie.writing}function ae(ie,W){ie._final(function(Q){W.pendingcb--,Q&&M(ie,Q),W.prefinished=!0,ie.emit("prefinish"),ue(ie,W)})}function se(ie,W){!W.prefinished&&!W.finalCalled&&(typeof ie._final=="function"&&!W.destroyed?(W.pendingcb++,W.finalCalled=!0,x.nextTick(ae,ie,W)):(W.prefinished=!0,ie.emit("prefinish")))}function ue(ie,W){var Q=J(W);if(Q&&(se(ie,W),W.pendingcb===0&&(W.finished=!0,ie.emit("finish"),W.autoDestroy))){var ee=ie._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&ie.destroy()}return Q}function K(ie,W,Q){W.ending=!0,ue(ie,W),Q&&(W.finished?x.nextTick(Q):ie.once("finish",Q)),W.ended=!0,ie.writable=!1}function j(ie,W,Q){var ee=ie.entry;for(ie.entry=null;ee;){var $=ee.callback;W.pendingcb--,$(Q),ee=ee.next}W.corkedRequestsFree.next=ie}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),a.prototype.destroy=n.destroy,a.prototype._undestroy=n.undestroy,a.prototype._destroy=function(ie,W){W(ie)}},60328:function(V,U,e){"use strict";var x=e(4168),P;function i(o,v,A){return v in o?Object.defineProperty(o,v,{value:A,enumerable:!0,configurable:!0,writable:!0}):o[v]=A,o}var L=e(15932),C=Symbol("lastResolve"),c=Symbol("lastReject"),y=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),s=Symbol("handlePromise"),n=Symbol("stream");function u(o,v){return{value:o,done:v}}function l(o){var v=o[C];if(v!==null){var A=o[n].read();A!==null&&(o[t]=null,o[C]=null,o[c]=null,v(u(A,!1)))}}function f(o){x.nextTick(l,o)}function g(o,v){return function(A,b){o.then(function(){if(v[r]){A(u(void 0,!0));return}v[s](A,b)},b)}}var h=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var v=this,A=this[y];if(A!==null)return Promise.reject(A);if(this[r])return Promise.resolve(u(void 0,!0));if(this[n].destroyed)return new Promise(function(S,T){x.nextTick(function(){v[y]?T(v[y]):S(u(void 0,!0))})});var b=this[t],M;if(b)M=new Promise(g(b,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(u(m,!1));M=new Promise(this[s])}return this[t]=M,M}},i(P,Symbol.asyncIterator,function(){return this}),i(P,"return",function(){var v=this;return new Promise(function(A,b){v[n].destroy(null,function(M){if(M){b(M);return}A(u(void 0,!0))})})}),P),h),d=function(v){var A,b=Object.create(w,(A={},i(A,n,{value:v,writable:!0}),i(A,C,{value:null,writable:!0}),i(A,c,{value:null,writable:!0}),i(A,y,{value:null,writable:!0}),i(A,r,{value:v._readableState.endEmitted,writable:!0}),i(A,s,{value:function(m,S){var T=b[n].read();T?(b[t]=null,b[C]=null,b[c]=null,m(u(T,!1))):(b[C]=m,b[c]=S)},writable:!0}),A));return b[t]=null,L(v,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=b[c];m!==null&&(b[t]=null,b[C]=null,b[c]=null,m(M)),b[y]=M;return}var S=b[C];S!==null&&(b[t]=null,b[C]=null,b[c]=null,S(u(void 0,!0))),b[r]=!0}),v.on("readable",f.bind(null,b)),b};V.exports=d},47264:function(V,U,e){"use strict";function x(l,f){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(l);f&&(h=h.filter(function(w){return Object.getOwnPropertyDescriptor(l,w).enumerable})),g.push.apply(g,h)}return g}function P(l){for(var f=1;f<arguments.length;f++){var g=arguments[f]!=null?arguments[f]:{};f%2?x(Object(g),!0).forEach(function(h){i(l,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):x(Object(g)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(g,h))})}return l}function i(l,f,g){return f in l?Object.defineProperty(l,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[f]=g,l}function L(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function C(l,f){for(var g=0;g<f.length;g++){var h=f[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}function c(l,f,g){return f&&C(l.prototype,f),g&&C(l,g),l}var y=e(33576),r=y.Buffer,t=e(21576),s=t.inspect,n=s&&s.custom||"inspect";function u(l,f,g){r.prototype.copy.call(l,f,g)}V.exports=function(){function l(){L(this,l),this.head=null,this.tail=null,this.length=0}return c(l,[{key:"push",value:function(g){var h={data:g,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(g){var h={data:g,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var h=this.head,w=""+h.data;h=h.next;)w+=g+h.data;return w}},{key:"concat",value:function(g){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(g>>>0),w=this.head,d=0;w;)u(w.data,h,d),d+=w.data.length,w=w.next;return h}},{key:"consume",value:function(g,h){var w;return g<this.head.data.length?(w=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?w=this.shift():w=h?this._getString(g):this._getBuffer(g),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var h=this.head,w=1,d=h.data;for(g-=d.length;h=h.next;){var o=h.data,v=g>o.length?o.length:g;if(v===o.length?d+=o:d+=o.slice(0,g),g-=v,g===0){v===o.length?(++w,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(v));break}++w}return this.length-=w,d}},{key:"_getBuffer",value:function(g){var h=r.allocUnsafe(g),w=this.head,d=1;for(w.data.copy(h),g-=w.data.length;w=w.next;){var o=w.data,v=g>o.length?o.length:g;if(o.copy(h,h.length-g,0,v),g-=v,g===0){v===o.length?(++d,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=o.slice(v));break}++d}return this.length-=d,h}},{key:n,value:function(g,h){return s(this,P({},h,{depth:0,customInspect:!1}))}}]),l}()},55324:function(V,U,e){"use strict";var x=e(4168);function P(r,t){var s=this,n=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return n||u?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,x.nextTick(c,this,r)):x.nextTick(c,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(l){!t&&l?s._writableState?s._writableState.errorEmitted?x.nextTick(L,s):(s._writableState.errorEmitted=!0,x.nextTick(i,s,l)):x.nextTick(i,s,l):t?(x.nextTick(L,s),t(l)):x.nextTick(L,s)}),this)}function i(r,t){c(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function C(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(r,t){r.emit("error",t)}function y(r,t){var s=r._readableState,n=r._writableState;s&&s.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}V.exports={destroy:P,undestroy:C,errorOrDestroy:y}},15932:function(V,U,e){"use strict";var x=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function P(c){var y=!1;return function(){if(!y){y=!0;for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];c.apply(this,t)}}}function i(){}function L(c){return c.setHeader&&typeof c.abort=="function"}function C(c,y,r){if(typeof y=="function")return C(c,null,y);y||(y={}),r=P(r||i);var t=y.readable||y.readable!==!1&&c.readable,s=y.writable||y.writable!==!1&&c.writable,n=function(){c.writable||l()},u=c._writableState&&c._writableState.finished,l=function(){s=!1,u=!0,t||r.call(c)},f=c._readableState&&c._readableState.endEmitted,g=function(){t=!1,f=!0,s||r.call(c)},h=function(v){r.call(c,v)},w=function(){var v;if(t&&!f)return(!c._readableState||!c._readableState.ended)&&(v=new x),r.call(c,v);if(s&&!u)return(!c._writableState||!c._writableState.ended)&&(v=new x),r.call(c,v)},d=function(){c.req.on("finish",l)};return L(c)?(c.on("complete",l),c.on("abort",w),c.req?d():c.on("request",d)):s&&!c._writableState&&(c.on("end",n),c.on("close",n)),c.on("end",g),c.on("finish",l),y.error!==!1&&c.on("error",h),c.on("close",w),function(){c.removeListener("complete",l),c.removeListener("abort",w),c.removeListener("request",d),c.req&&c.req.removeListener("finish",l),c.removeListener("end",n),c.removeListener("close",n),c.removeListener("finish",l),c.removeListener("end",g),c.removeListener("error",h),c.removeListener("close",w)}}V.exports=C},90555:function(V){V.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(V,U,e){"use strict";var x;function P(l){var f=!1;return function(){f||(f=!0,l.apply(void 0,arguments))}}var i=e(92784).i,L=i.ERR_MISSING_ARGS,C=i.ERR_STREAM_DESTROYED;function c(l){if(l)throw l}function y(l){return l.setHeader&&typeof l.abort=="function"}function r(l,f,g,h){h=P(h);var w=!1;l.on("close",function(){w=!0}),x===void 0&&(x=e(15932)),x(l,{readable:f,writable:g},function(o){if(o)return h(o);w=!0,h()});var d=!1;return function(o){if(!w&&!d){if(d=!0,y(l))return l.abort();if(typeof l.destroy=="function")return l.destroy();h(o||new C("pipe"))}}}function t(l){l()}function s(l,f){return l.pipe(f)}function n(l){return!l.length||typeof l[l.length-1]!="function"?c:l.pop()}function u(){for(var l=arguments.length,f=new Array(l),g=0;g<l;g++)f[g]=arguments[g];var h=n(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new L("streams");var w,d=f.map(function(o,v){var A=v<f.length-1,b=v>0;return r(o,A,b,function(M){w||(w=M),M&&d.forEach(t),!A&&(d.forEach(t),h(w))})});return f.reduce(s)}V.exports=u},24888:function(V,U,e){"use strict";var x=e(92784).i.ERR_INVALID_OPT_VALUE;function P(L,C,c){return L.highWaterMark!=null?L.highWaterMark:C?L[c]:null}function i(L,C,c,y){var r=P(C,y,c);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=y?c:"highWaterMark";throw new x(t,r)}return Math.floor(r)}return L.objectMode?16:16384}V.exports={getHighWaterMark:i}},4776:function(V,U,e){V.exports=e(61252).EventEmitter},86032:function(V,U,e){"use strict";var x=e(30456).Buffer,P=x.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(d){if(!d)return"utf8";for(var o;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(o)return;d=(""+d).toLowerCase(),o=!0}}function L(d){var o=i(d);if(typeof o!="string"&&(x.isEncoding===P||!P(d)))throw new Error("Unknown encoding: "+d);return o||d}U.o=C;function C(d){this.encoding=L(d);var o;switch(this.encoding){case"utf16le":this.text=u,this.end=l,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=f,this.end=g,o=3;break;default:this.write=h,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=x.allocUnsafe(o)}C.prototype.write=function(d){if(d.length===0)return"";var o,v;if(this.lastNeed){if(o=this.fillLast(d),o===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<d.length?o?o+this.text(d,v):this.text(d,v):o||""},C.prototype.end=n,C.prototype.text=s,C.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function c(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function y(d,o,v){var A=o.length-1;if(A<v)return 0;var b=c(o[A]);return b>=0?(b>0&&(d.lastNeed=b-1),b):--A<v||b===-2?0:(b=c(o[A]),b>=0?(b>0&&(d.lastNeed=b-2),b):--A<v||b===-2?0:(b=c(o[A]),b>=0?(b>0&&(b===2?b=0:d.lastNeed=b-3),b):0))}function r(d,o,v){if((o[0]&192)!==128)return d.lastNeed=0,"\uFFFD";if(d.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return d.lastNeed=1,"\uFFFD";if(d.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return d.lastNeed=2,"\uFFFD"}}function t(d){var o=this.lastTotal-this.lastNeed,v=r(this,d,o);if(v!==void 0)return v;if(this.lastNeed<=d.length)return d.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,o,0,d.length),this.lastNeed-=d.length}function s(d,o){var v=y(this,d,o);if(!this.lastNeed)return d.toString("utf8",o);this.lastTotal=v;var A=d.length-(v-this.lastNeed);return d.copy(this.lastChar,0,A),d.toString("utf8",o,A)}function n(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+"\uFFFD":o}function u(d,o){if((d.length-o)%2===0){var v=d.toString("utf16le",o);if(v){var A=v.charCodeAt(v.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",o,d.length-1)}function l(d){var o=d&&d.length?this.write(d):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,v)}return o}function f(d,o){var v=(d.length-o)%3;return v===0?d.toString("base64",o):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",o,d.length-v))}function g(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(d){return d.toString(this.encoding)}function w(d){return d&&d.length?this.write(d):""}},55619:function(V,U,e){var x=e(45408),P=e(86844)("stream-parser");V.exports=y;var i=-1,L=0,C=1,c=2;function y(d){var o=d&&typeof d._transform=="function",v=d&&typeof d._write=="function";if(!o&&!v)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),d._bytes=t,d._skipBytes=s,o&&(d._passthrough=n),o?d._transform=l:d._write=u}function r(d){P("initializing parser stream"),d._parserBytesLeft=0,d._parserBuffers=[],d._parserBuffered=0,d._parserState=i,d._parserCallback=null,typeof d.push=="function"&&(d._parserOutput=d.push.bind(d)),d._parserInit=!0}function t(d,o){x(!this._parserCallback,'there is already a "callback" set!'),x(isFinite(d)&&d>0,'can only buffer a finite number of bytes > 0, got "'+d+'"'),this._parserInit||r(this),P("buffering %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=L}function s(d,o){x(!this._parserCallback,'there is already a "callback" set!'),x(d>0,'can only skip > 0 bytes, got "'+d+'"'),this._parserInit||r(this),P("skipping %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=C}function n(d,o){x(!this._parserCallback,'There is already a "callback" set!'),x(d>0,'can only pass through > 0 bytes, got "'+d+'"'),this._parserInit||r(this),P("passing through %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=c}function u(d,o,v){this._parserInit||r(this),P("write(%o bytes)",d.length),typeof o=="function"&&(v=o),h(this,d,null,v)}function l(d,o,v){this._parserInit||r(this),P("transform(%o bytes)",d.length),typeof o!="function"&&(o=this._parserOutput),h(this,d,o,v)}function f(d,o,v,A){return d._parserBytesLeft<=0?A(new Error("got data but not currently parsing anything")):o.length<=d._parserBytesLeft?function(){return g(d,o,v,A)}:function(){var b=o.slice(0,d._parserBytesLeft);return g(d,b,v,function(M){if(M)return A(M);if(o.length>b.length)return function(){return f(d,o.slice(b.length),v,A)}})}}function g(d,o,v,A){if(d._parserBytesLeft-=o.length,P("%o bytes left for stream piece",d._parserBytesLeft),d._parserState===L?(d._parserBuffers.push(o),d._parserBuffered+=o.length):d._parserState===c&&v(o),d._parserBytesLeft===0){var b=d._parserCallback;if(b&&d._parserState===L&&d._parserBuffers.length>1&&(o=Buffer.concat(d._parserBuffers,d._parserBuffered)),d._parserState!==L&&(o=null),d._parserCallback=null,d._parserBuffered=0,d._parserState=i,d._parserBuffers.splice(0),b){var M=[];o&&M.push(o),v&&M.push(v);var m=b.length>M.length;m&&M.push(w(A));var S=b.apply(d,M);if(!m||A===S)return A}}else return A}var h=w(f);function w(d){return function(){for(var o=d.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(V,U,e){var x=e(4168);U=V.exports=e(89416),U.log=L,U.formatArgs=i,U.save=C,U.load=c,U.useColors=P,U.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:y(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window!="undefined"&&window.process&&window.process.type==="renderer"?!0:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function i(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+U.humanize(this.diff),!!t){var s="color: "+this.color;r.splice(1,0,s,"color: inherit");var n=0,u=0;r[0].replace(/%[a-zA-Z%]/g,function(l){l!=="%%"&&(n++,l==="%c"&&(u=n))}),r.splice(u,0,s)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function C(r){try{r==null?U.storage.removeItem("debug"):U.storage.debug=r}catch(t){}}function c(){var r;try{r=U.storage.debug}catch(t){}return!r&&typeof x!="undefined"&&"env"in x&&(r=x.env.DEBUG),r}U.enable(c());function y(){try{return window.localStorage}catch(r){}}},89416:function(V,U,e){U=V.exports=i.debug=i.default=i,U.coerce=y,U.disable=C,U.enable=L,U.enabled=c,U.humanize=e(93744),U.names=[],U.skips=[],U.formatters={};var x;function P(r){var t=0,s;for(s in r)t=(t<<5)-t+r.charCodeAt(s),t|=0;return U.colors[Math.abs(t)%U.colors.length]}function i(r){function t(){if(t.enabled){var s=t,n=+new Date,u=n-(x||n);s.diff=u,s.prev=x,s.curr=n,x=n;for(var l=new Array(arguments.length),f=0;f<l.length;f++)l[f]=arguments[f];l[0]=U.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");var g=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,function(w,d){if(w==="%%")return w;g++;var o=U.formatters[d];if(typeof o=="function"){var v=l[g];w=o.call(s,v),l.splice(g,1),g--}return w}),U.formatArgs.call(s,l);var h=t.log||U.log||console.log.bind(console);h.apply(s,l)}}return t.namespace=r,t.enabled=U.enabled(r),t.useColors=U.useColors(),t.color=P(r),typeof U.init=="function"&&U.init(t),t}function L(r){U.save(r),U.names=[],U.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),s=t.length,n=0;n<s;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?U.skips.push(new RegExp("^"+r.substr(1)+"$")):U.names.push(new RegExp("^"+r+"$")))}function C(){U.enable("")}function c(r){var t,s;for(t=0,s=U.skips.length;t<s;t++)if(U.skips[t].test(r))return!1;for(t=0,s=U.names.length;t<s;t++)if(U.names[t].test(r))return!0;return!1}function y(r){return r instanceof Error?r.stack||r.message:r}},93744:function(V){var U=1e3,e=U*60,x=e*60,P=x*24,i=P*365.25;V.exports=function(r,t){t=t||{};var s=typeof r;if(s==="string"&&r.length>0)return L(r);if(s==="number"&&isNaN(r)===!1)return t.long?c(r):C(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var s=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*i;case"days":case"day":case"d":return s*P;case"hours":case"hour":case"hrs":case"hr":case"h":return s*x;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function C(r){return r>=P?Math.round(r/P)+"d":r>=x?Math.round(r/x)+"h":r>=e?Math.round(r/e)+"m":r>=U?Math.round(r/U)+"s":r+"ms"}function c(r){return y(r,P,"day")||y(r,x,"hour")||y(r,e,"minute")||y(r,U,"second")||r+" ms"}function y(r,t,s){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+s:Math.ceil(r/t)+" "+s+"s"}},39956:function(V,U,e){"use strict";var x=e(32868);V.exports=function(i,L,C){if(i==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");C?(typeof C=="string"||Array.isArray(C))&&(C={ignore:C}):C={},C.escape==null&&(C.escape=!0),C.ignore==null?C.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof C.ignore=="string"&&(C.ignore=[C.ignore]),C.ignore=C.ignore.map(function(l){return l.length===1&&(l=l+l),l}));var c=x.parse(i,{flat:!0,brackets:C.ignore}),y=c[0],r=y.split(L);if(C.escape){for(var t=[],s=0;s<r.length;s++){var n=r[s],u=r[s+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+L+u),s++):t.push(n)}r=t}for(var s=0;s<r.length;s++)c[0]=r[s],r[s]=x.stringify(c,{flat:!0});return r}},78484:function(V){"use strict";V.exports=U;function U(e){for(var x=e.length,P=new Array(x),i=new Array(x),L=new Array(x),C=new Array(x),c=new Array(x),y=new Array(x),r=0;r<x;++r)P[r]=-1,i[r]=0,L[r]=!1,C[r]=0,c[r]=-1,y[r]=[];var t=0,s=[],n=[];function u(h){var w=[h],d=[h];for(P[h]=i[h]=t,L[h]=!0,t+=1;d.length>0;){h=d[d.length-1];var o=e[h];if(C[h]<o.length){for(var v=C[h];v<o.length;++v){var A=o[v];if(P[A]<0){P[A]=i[A]=t,L[A]=!0,t+=1,w.push(A),d.push(A);break}else L[A]&&(i[h]=Math.min(i[h],i[A])|0);c[A]>=0&&y[h].push(c[A])}C[h]=v}else{if(i[h]===P[h]){for(var b=[],M=[],m=0,v=w.length-1;v>=0;--v){var S=w[v];if(L[S]=!1,b.push(S),M.push(y[S]),m+=y[S].length,c[S]=s.length,S===h){w.length=v;break}}s.push(b);for(var T=new Array(m),v=0;v<M.length;v++)for(var a=0;a<M[v].length;a++)T[--m]=M[v][a];n.push(T)}d.pop()}}}for(var r=0;r<x;++r)P[r]<0&&u(r);for(var l,r=0;r<n.length;r++){var f=n[r];if(f.length!==0){f.sort(function(w,d){return w-d}),l=[f[0]];for(var g=1;g<f.length;g++)f[g]!==f[g-1]&&l.push(f[g]);n[r]=l}}return{components:s,adjacencyList:n}}},92848:function(V,U,e){"use strict";e.r(U);var x=function(){function r(t,s){var n=[],u=!0,l=!1,f=void 0;try{for(var g=t[Symbol.iterator](),h;!(u=(h=g.next()).done)&&(n.push(h.value),!(s&&n.length===s));u=!0);}catch(w){l=!0,f=w}finally{try{!u&&g.return&&g.return()}finally{if(l)throw f}}return n}return function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,i=function(t,s,n,u,l,f,g){var h=t.x,w=t.y;h*=s,w*=n;var d=u*h-l*w,o=l*h+u*w;return{x:d+f,y:o+g}},L=function(t,s){var n=s===1.5707963267948966?.551915024494:s===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(s/4),u=Math.cos(t),l=Math.sin(t),f=Math.cos(t+s),g=Math.sin(t+s);return[{x:u-l*n,y:l+u*n},{x:f+g*n,y:g-f*n},{x:f,y:g}]},C=function(t,s,n,u){var l=t*u-s*n<0?-1:1,f=t*n+s*u;return f>1&&(f=1),f<-1&&(f=-1),l*Math.acos(f)},c=function(t,s,n,u,l,f,g,h,w,d,o,v){var A=Math.pow(l,2),b=Math.pow(f,2),M=Math.pow(o,2),m=Math.pow(v,2),S=A*b-A*m-b*M;S<0&&(S=0),S/=A*m+b*M,S=Math.sqrt(S)*(g===h?-1:1);var T=S*l/f*v,a=S*-f/l*o,E=d*T-w*a+(t+n)/2,p=w*T+d*a+(s+u)/2,k=(o-T)/l,R=(v-a)/f,B=(-o-T)/l,F=(-v-a)/f,_=C(1,0,k,R),O=C(k,R,B,F);return h===0&&O>0&&(O-=P),h===1&&O<0&&(O+=P),[E,p,_,O]},y=function(t){var s=t.px,n=t.py,u=t.cx,l=t.cy,f=t.rx,g=t.ry,h=t.xAxisRotation,w=h===void 0?0:h,d=t.largeArcFlag,o=d===void 0?0:d,v=t.sweepFlag,A=v===void 0?0:v,b=[];if(f===0||g===0)return[];var M=Math.sin(w*P/360),m=Math.cos(w*P/360),S=m*(s-u)/2+M*(n-l)/2,T=-M*(s-u)/2+m*(n-l)/2;if(S===0&&T===0)return[];f=Math.abs(f),g=Math.abs(g);var a=Math.pow(S,2)/Math.pow(f,2)+Math.pow(T,2)/Math.pow(g,2);a>1&&(f*=Math.sqrt(a),g*=Math.sqrt(a));var E=c(s,n,u,l,f,g,o,A,M,m,S,T),p=x(E,4),k=p[0],R=p[1],B=p[2],F=p[3],_=Math.abs(F)/(P/4);Math.abs(1-_)<1e-7&&(_=1);var O=Math.max(Math.ceil(_),1);F/=O;for(var z=0;z<O;z++)b.push(L(B,F)),B+=F;return b.map(function(N){var Y=i(N[0],f,g,m,M,k,R),J=Y.x,ae=Y.y,se=i(N[1],f,g,m,M,k,R),ue=se.x,K=se.y,j=i(N[2],f,g,m,M,k,R),ie=j.x,W=j.y;return{x1:J,y1:ae,x2:ue,y2:K,x:ie,y:W}})};U.default=y},74840:function(V,U,e){"use strict";var x=e(21984),P=e(49972),i=e(41976),L=e(53520),C=e(45408);V.exports=c;function c(y){if(Array.isArray(y)&&y.length===1&&typeof y[0]=="string"&&(y=y[0]),typeof y=="string"&&(C(L(y),"String is not an SVG path."),y=x(y)),C(Array.isArray(y),"Argument should be a string or an array of path segments."),y=P(y),y=i(y),!y.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,s=y.length;t<s;t++)for(var n=y[t].slice(1),u=0;u<n.length;u+=2)n[u+0]<r[0]&&(r[0]=n[u+0]),n[u+1]<r[1]&&(r[1]=n[u+1]),n[u+0]>r[2]&&(r[2]=n[u+0]),n[u+1]>r[3]&&(r[3]=n[u+1]);return r}},41976:function(V,U,e){"use strict";V.exports=P;var x=e(92848);function P(C){for(var c,y=[],r=0,t=0,s=0,n=0,u=null,l=null,f=0,g=0,h=0,w=C.length;h<w;h++){var d=C[h],o=d[0];switch(o){case"M":s=d[1],n=d[2];break;case"A":var v=x({px:f,py:g,cx:d[6],cy:d[7],rx:d[1],ry:d[2],xAxisRotation:d[3],largeArcFlag:d[4],sweepFlag:d[5]});if(!v.length)continue;for(var A=0,b;A<v.length;A++)b=v[A],d=["C",b.x1,b.y1,b.x2,b.y2,b.x,b.y],A<v.length-1&&y.push(d);break;case"S":var M=f,m=g;(c=="C"||c=="S")&&(M+=M-r,m+=m-t),d=["C",M,m,d[1],d[2],d[3],d[4]];break;case"T":c=="Q"||c=="T"?(u=f*2-u,l=g*2-l):(u=f,l=g),d=L(f,g,u,l,d[1],d[2]);break;case"Q":u=d[1],l=d[2],d=L(f,g,d[1],d[2],d[3],d[4]);break;case"L":d=i(f,g,d[1],d[2]);break;case"H":d=i(f,g,d[1],g);break;case"V":d=i(f,g,f,d[1]);break;case"Z":d=i(f,g,s,n);break}c=o,f=d[d.length-2],g=d[d.length-1],d.length>4?(r=d[d.length-4],t=d[d.length-3]):(r=f,t=g),y.push(d)}return y}function i(C,c,y,r){return["C",C,c,y,r,y,r]}function L(C,c,y,r,t,s){return["C",C/3+.6666666666666666*y,c/3+.6666666666666666*r,t/3+.6666666666666666*y,s/3+.6666666666666666*r,t,s]}},20472:function(V,U,e){"use strict";var x=e(74840),P=e(21984),i=e(22235),L=e(53520),C=e(29620),c=document.createElement("canvas"),y=c.getContext("2d");V.exports=r;function r(n,u){if(!L(n))throw Error("Argument should be valid svg path string");u||(u={});var l,f;u.shape?(l=u.shape[0],f=u.shape[1]):(l=c.width=u.w||u.width||200,f=c.height=u.h||u.height||200);var g=Math.min(l,f),h=u.stroke||0,w=u.viewbox||u.viewBox||x(n),d=[l/(w[2]-w[0]),f/(w[3]-w[1])],o=Math.min(d[0]||0,d[1]||0)/2;if(y.fillStyle="black",y.fillRect(0,0,l,f),y.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?y.strokeStyle="white":y.strokeStyle="black",y.lineWidth=Math.abs(h)),y.translate(l*.5,f*.5),y.scale(o,o),s()){var v=new Path2D(n);y.fill(v),h&&y.stroke(v)}else{var A=P(n);i(y,A),y.fill(),h&&y.stroke()}y.setTransform(1,0,0,1,0,0);var b=C(y,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:g*.5});return b}var t;function s(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(u);var l=n.getImageData(0,0,1,1);return t=l&&l.data&&l.data[3]===255}},49760:function(V,U,e){var x;(function(P){var i=/^\s+/,L=/\s+$/,C=0,c=P.round,y=P.min,r=P.max,t=P.random;function s(X,oe){if(X=X||"",oe=oe||{},X instanceof s)return X;if(!(this instanceof s))return new s(X,oe);var te=n(X);this._originalInput=X,this._r=te.r,this._g=te.g,this._b=te.b,this._a=te.a,this._roundA=c(100*this._a)/100,this._format=oe.format||te.format,this._gradientType=oe.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=te.ok,this._tc_id=C++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(X.r*299+X.g*587+X.b*114)/1e3},getLuminance:function(){var X=this.toRgb(),oe,te,fe,pe,Ae,be;return oe=X.r/255,te=X.g/255,fe=X.b/255,oe<=.03928?pe=oe/12.92:pe=P.pow((oe+.055)/1.055,2.4),te<=.03928?Ae=te/12.92:Ae=P.pow((te+.055)/1.055,2.4),fe<=.03928?be=fe/12.92:be=P.pow((fe+.055)/1.055,2.4),.2126*pe+.7152*Ae+.0722*be},setAlpha:function(X){return this._a=z(X),this._roundA=c(100*this._a)/100,this},toHsv:function(){var X=g(this._r,this._g,this._b);return{h:X.h*360,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=g(this._r,this._g,this._b),oe=c(X.h*360),te=c(X.s*100),fe=c(X.v*100);return this._a==1?"hsv("+oe+", "+te+"%, "+fe+"%)":"hsva("+oe+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var X=l(this._r,this._g,this._b);return{h:X.h*360,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=l(this._r,this._g,this._b),oe=c(X.h*360),te=c(X.s*100),fe=c(X.l*100);return this._a==1?"hsl("+oe+", "+te+"%, "+fe+"%)":"hsla("+oe+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHex:function(X){return w(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return d(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(N(this._r,255)*100)+"%",g:c(N(this._g,255)*100)+"%",b:c(N(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+c(N(this._r,255)*100)+"%, "+c(N(this._g,255)*100)+"%, "+c(N(this._b,255)*100)+"%)":"rgba("+c(N(this._r,255)*100)+"%, "+c(N(this._g,255)*100)+"%, "+c(N(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:_[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(X){var oe="#"+o(this._r,this._g,this._b,this._a),te=oe,fe=this._gradientType?"GradientType = 1, ":"";if(X){var pe=s(X);te="#"+o(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+oe+",endColorstr="+te+")"},toString:function(X){var oe=!!X;X=X||this._format;var te=!1,fe=this._a<1&&this._a>=0,pe=!oe&&fe&&(X==="hex"||X==="hex6"||X==="hex3"||X==="hex4"||X==="hex8"||X==="name");return pe?X==="name"&&this._a===0?this.toName():this.toRgbString():(X==="rgb"&&(te=this.toRgbString()),X==="prgb"&&(te=this.toPercentageRgbString()),(X==="hex"||X==="hex6")&&(te=this.toHexString()),X==="hex3"&&(te=this.toHexString(!0)),X==="hex4"&&(te=this.toHex8String(!0)),X==="hex8"&&(te=this.toHex8String()),X==="name"&&(te=this.toName()),X==="hsl"&&(te=this.toHslString()),X==="hsv"&&(te=this.toHsvString()),te||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(X,oe){var te=X.apply(null,[this].concat([].slice.call(oe)));return this._r=te._r,this._g=te._g,this._b=te._b,this.setAlpha(te._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(X,oe){return X.apply(null,[this].concat([].slice.call(oe)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(a,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},s.fromRatio=function(X,oe){if(typeof X=="object"){var te={};for(var fe in X)X.hasOwnProperty(fe)&&(fe==="a"?te[fe]=X[fe]:te[fe]=K(X[fe]));X=te}return s(X,oe)};function n(X){var oe={r:0,g:0,b:0},te=1,fe=null,pe=null,Ae=null,be=!1,Pe=!1;return typeof X=="string"&&(X=ee(X)),typeof X=="object"&&(Q(X.r)&&Q(X.g)&&Q(X.b)?(oe=u(X.r,X.g,X.b),be=!0,Pe=String(X.r).substr(-1)==="%"?"prgb":"rgb"):Q(X.h)&&Q(X.s)&&Q(X.v)?(fe=K(X.s),pe=K(X.v),oe=h(X.h,fe,pe),be=!0,Pe="hsv"):Q(X.h)&&Q(X.s)&&Q(X.l)&&(fe=K(X.s),Ae=K(X.l),oe=f(X.h,fe,Ae),be=!0,Pe="hsl"),X.hasOwnProperty("a")&&(te=X.a)),te=z(te),{ok:be,format:X.format||Pe,r:y(255,r(oe.r,0)),g:y(255,r(oe.g,0)),b:y(255,r(oe.b,0)),a:te}}function u(X,oe,te){return{r:N(X,255)*255,g:N(oe,255)*255,b:N(te,255)*255}}function l(X,oe,te){X=N(X,255),oe=N(oe,255),te=N(te,255);var fe=r(X,oe,te),pe=y(X,oe,te),Ae,be,Pe=(fe+pe)/2;if(fe==pe)Ae=be=0;else{var me=fe-pe;switch(be=Pe>.5?me/(2-fe-pe):me/(fe+pe),fe){case X:Ae=(oe-te)/me+(oe<te?6:0);break;case oe:Ae=(te-X)/me+2;break;case te:Ae=(X-oe)/me+4;break}Ae/=6}return{h:Ae,s:be,l:Pe}}function f(X,oe,te){var fe,pe,Ae;X=N(X,360),oe=N(oe,100),te=N(te,100);function be(Ee,xe,De){return De<0&&(De+=1),De>1&&(De-=1),De<.16666666666666666?Ee+(xe-Ee)*6*De:De<.5?xe:De<.6666666666666666?Ee+(xe-Ee)*(.6666666666666666-De)*6:Ee}if(oe===0)fe=pe=Ae=te;else{var Pe=te<.5?te*(1+oe):te+oe-te*oe,me=2*te-Pe;fe=be(me,Pe,X+.3333333333333333),pe=be(me,Pe,X),Ae=be(me,Pe,X-.3333333333333333)}return{r:fe*255,g:pe*255,b:Ae*255}}function g(X,oe,te){X=N(X,255),oe=N(oe,255),te=N(te,255);var fe=r(X,oe,te),pe=y(X,oe,te),Ae,be,Pe=fe,me=fe-pe;if(be=fe===0?0:me/fe,fe==pe)Ae=0;else{switch(fe){case X:Ae=(oe-te)/me+(oe<te?6:0);break;case oe:Ae=(te-X)/me+2;break;case te:Ae=(X-oe)/me+4;break}Ae/=6}return{h:Ae,s:be,v:Pe}}function h(X,oe,te){X=N(X,360)*6,oe=N(oe,100),te=N(te,100);var fe=P.floor(X),pe=X-fe,Ae=te*(1-oe),be=te*(1-pe*oe),Pe=te*(1-(1-pe)*oe),me=fe%6,Ee=[te,be,Ae,Ae,Pe,te][me],xe=[Pe,te,te,be,Ae,Ae][me],De=[Ae,Ae,Pe,te,te,be][me];return{r:Ee*255,g:xe*255,b:De*255}}function w(X,oe,te,fe){var pe=[ue(c(X).toString(16)),ue(c(oe).toString(16)),ue(c(te).toString(16))];return fe&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function d(X,oe,te,fe,pe){var Ae=[ue(c(X).toString(16)),ue(c(oe).toString(16)),ue(c(te).toString(16)),ue(j(fe))];return pe&&Ae[0].charAt(0)==Ae[0].charAt(1)&&Ae[1].charAt(0)==Ae[1].charAt(1)&&Ae[2].charAt(0)==Ae[2].charAt(1)&&Ae[3].charAt(0)==Ae[3].charAt(1)?Ae[0].charAt(0)+Ae[1].charAt(0)+Ae[2].charAt(0)+Ae[3].charAt(0):Ae.join("")}function o(X,oe,te,fe){var pe=[ue(j(fe)),ue(c(X).toString(16)),ue(c(oe).toString(16)),ue(c(te).toString(16))];return pe.join("")}s.equals=function(X,oe){return!X||!oe?!1:s(X).toRgbString()==s(oe).toRgbString()},s.random=function(){return s.fromRatio({r:t(),g:t(),b:t()})};function v(X,oe){oe=oe===0?0:oe||10;var te=s(X).toHsl();return te.s-=oe/100,te.s=Y(te.s),s(te)}function A(X,oe){oe=oe===0?0:oe||10;var te=s(X).toHsl();return te.s+=oe/100,te.s=Y(te.s),s(te)}function b(X){return s(X).desaturate(100)}function M(X,oe){oe=oe===0?0:oe||10;var te=s(X).toHsl();return te.l+=oe/100,te.l=Y(te.l),s(te)}function m(X,oe){oe=oe===0?0:oe||10;var te=s(X).toRgb();return te.r=r(0,y(255,te.r-c(255*-(oe/100)))),te.g=r(0,y(255,te.g-c(255*-(oe/100)))),te.b=r(0,y(255,te.b-c(255*-(oe/100)))),s(te)}function S(X,oe){oe=oe===0?0:oe||10;var te=s(X).toHsl();return te.l-=oe/100,te.l=Y(te.l),s(te)}function T(X,oe){var te=s(X).toHsl(),fe=(te.h+oe)%360;return te.h=fe<0?360+fe:fe,s(te)}function a(X){var oe=s(X).toHsl();return oe.h=(oe.h+180)%360,s(oe)}function E(X){var oe=s(X).toHsl(),te=oe.h;return[s(X),s({h:(te+120)%360,s:oe.s,l:oe.l}),s({h:(te+240)%360,s:oe.s,l:oe.l})]}function p(X){var oe=s(X).toHsl(),te=oe.h;return[s(X),s({h:(te+90)%360,s:oe.s,l:oe.l}),s({h:(te+180)%360,s:oe.s,l:oe.l}),s({h:(te+270)%360,s:oe.s,l:oe.l})]}function k(X){var oe=s(X).toHsl(),te=oe.h;return[s(X),s({h:(te+72)%360,s:oe.s,l:oe.l}),s({h:(te+216)%360,s:oe.s,l:oe.l})]}function R(X,oe,te){oe=oe||6,te=te||30;var fe=s(X).toHsl(),pe=360/te,Ae=[s(X)];for(fe.h=(fe.h-(pe*oe>>1)+720)%360;--oe;)fe.h=(fe.h+pe)%360,Ae.push(s(fe));return Ae}function B(X,oe){oe=oe||6;for(var te=s(X).toHsv(),fe=te.h,pe=te.s,Ae=te.v,be=[],Pe=1/oe;oe--;)be.push(s({h:fe,s:pe,v:Ae})),Ae=(Ae+Pe)%1;return be}s.mix=function(X,oe,te){te=te===0?0:te||50;var fe=s(X).toRgb(),pe=s(oe).toRgb(),Ae=te/100,be={r:(pe.r-fe.r)*Ae+fe.r,g:(pe.g-fe.g)*Ae+fe.g,b:(pe.b-fe.b)*Ae+fe.b,a:(pe.a-fe.a)*Ae+fe.a};return s(be)},s.readability=function(X,oe){var te=s(X),fe=s(oe);return(P.max(te.getLuminance(),fe.getLuminance())+.05)/(P.min(te.getLuminance(),fe.getLuminance())+.05)},s.isReadable=function(X,oe,te){var fe=s.readability(X,oe),pe,Ae;switch(Ae=!1,pe=$(te),pe.level+pe.size){case"AAsmall":case"AAAlarge":Ae=fe>=4.5;break;case"AAlarge":Ae=fe>=3;break;case"AAAsmall":Ae=fe>=7;break}return Ae},s.mostReadable=function(X,oe,te){var fe=null,pe=0,Ae,be,Pe,me;te=te||{},be=te.includeFallbackColors,Pe=te.level,me=te.size;for(var Ee=0;Ee<oe.length;Ee++)Ae=s.readability(X,oe[Ee]),Ae>pe&&(pe=Ae,fe=s(oe[Ee]));return s.isReadable(X,fe,{level:Pe,size:me})||!be?fe:(te.includeFallbackColors=!1,s.mostReadable(X,["#fff","#000"],te))};var F=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_=s.hexNames=O(F);function O(X){var oe={};for(var te in X)X.hasOwnProperty(te)&&(oe[X[te]]=te);return oe}function z(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function N(X,oe){ae(X)&&(X="100%");var te=se(X);return X=y(oe,r(0,parseFloat(X))),te&&(X=parseInt(X*oe,10)/100),P.abs(X-oe)<1e-6?1:X%oe/parseFloat(oe)}function Y(X){return y(1,r(0,X))}function J(X){return parseInt(X,16)}function ae(X){return typeof X=="string"&&X.indexOf(".")!=-1&&parseFloat(X)===1}function se(X){return typeof X=="string"&&X.indexOf("%")!=-1}function ue(X){return X.length==1?"0"+X:""+X}function K(X){return X<=1&&(X=X*100+"%"),X}function j(X){return P.round(parseFloat(X)*255).toString(16)}function ie(X){return J(X)/255}var W=function(){var X="[-\\+]?\\d+%?",oe="[-\\+]?\\d*\\.\\d+%?",te="(?:"+oe+")|(?:"+X+")",fe="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?",pe="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?";return{CSS_UNIT:new RegExp(te),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+pe),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+pe),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(X){return!!W.CSS_UNIT.exec(X)}function ee(X){X=X.replace(i,"").replace(L,"").toLowerCase();var oe=!1;if(F[X])X=F[X],oe=!0;else if(X=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var te;return(te=W.rgb.exec(X))?{r:te[1],g:te[2],b:te[3]}:(te=W.rgba.exec(X))?{r:te[1],g:te[2],b:te[3],a:te[4]}:(te=W.hsl.exec(X))?{h:te[1],s:te[2],l:te[3]}:(te=W.hsla.exec(X))?{h:te[1],s:te[2],l:te[3],a:te[4]}:(te=W.hsv.exec(X))?{h:te[1],s:te[2],v:te[3]}:(te=W.hsva.exec(X))?{h:te[1],s:te[2],v:te[3],a:te[4]}:(te=W.hex8.exec(X))?{r:J(te[1]),g:J(te[2]),b:J(te[3]),a:ie(te[4]),format:oe?"name":"hex8"}:(te=W.hex6.exec(X))?{r:J(te[1]),g:J(te[2]),b:J(te[3]),format:oe?"name":"hex"}:(te=W.hex4.exec(X))?{r:J(te[1]+""+te[1]),g:J(te[2]+""+te[2]),b:J(te[3]+""+te[3]),a:ie(te[4]+""+te[4]),format:oe?"name":"hex8"}:(te=W.hex3.exec(X))?{r:J(te[1]+""+te[1]),g:J(te[2]+""+te[2]),b:J(te[3]+""+te[3]),format:oe?"name":"hex"}:!1}function $(X){var oe,te;return X=X||{level:"AA",size:"small"},oe=(X.level||"AA").toUpperCase(),te=(X.size||"small").toLowerCase(),oe!=="AA"&&oe!=="AAA"&&(oe="AA"),te!=="small"&&te!=="large"&&(te="small"),{level:oe,size:te}}V.exports?V.exports=s:(x=function(){return s}.call(U,e,U,V),x!==void 0&&(V.exports=x))})(Math)},37816:function(V){"use strict";V.exports=x,V.exports.float32=V.exports.float=x,V.exports.fract32=V.exports.fract=e;var U=new Float32Array(1);function e(P,i){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);i instanceof Float32Array||(i=x(P));for(var L=0,C=i.length;L<C;L++)i[L]=P[L]-i[L];return i}return x(P-x(P))}function x(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(U[0]=P,U[0])}},23464:function(V,U,e){"use strict";var x=e(65819);V.exports=C;var P=96;function i(c,y){var r=x(getComputedStyle(c).getPropertyValue(y));return r[0]*C(r[1],c)}function L(c,y){var r=document.createElement("div");r.style["font-size"]="128"+c,y.appendChild(r);var t=i(r,"font-size")/128;return y.removeChild(r),t}function C(c,y){switch(y=y||document.body,c=(c||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),c){case"%":return y.clientHeight/100;case"ch":case"ex":return L(c,y);case"em":return i(y,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},55712:function(V,U,e){"use strict";e.d(U,{NO:function(){return L}});function x(y,r){for(var t,s=y.length,n=s-r;n<--s;)t=y[n],y[n++]=y[s],y[s]=t}function P(y){return y}function i(y){if(y==null)return P;var r,t,s=y.scale[0],n=y.scale[1],u=y.translate[0],l=y.translate[1];return function(f,g){g||(r=t=0);var h=2,w=f.length,d=new Array(w);for(d[0]=(r+=f[0])*s+u,d[1]=(t+=f[1])*n+l;h<w;)d[h]=f[h],++h;return d}}function L(y,r){return typeof r=="string"&&(r=y.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return C(y,t)})}:C(y,r)}function C(y,r){var t=r.id,s=r.bbox,n=r.properties==null?{}:r.properties,u=c(y,r);return t==null&&s==null?{type:"Feature",properties:n,geometry:u}:s==null?{type:"Feature",id:t,properties:n,geometry:u}:{type:"Feature",id:t,bbox:s,properties:n,geometry:u}}function c(y,r){var t=i(y.transform),s=y.arcs;function n(w,d){d.length&&d.pop();for(var o=s[w<0?~w:w],v=0,A=o.length;v<A;++v)d.push(t(o[v],v));w<0&&x(d,A)}function u(w){return t(w)}function l(w){for(var d=[],o=0,v=w.length;o<v;++o)n(w[o],d);return d.length<2&&d.push(d[0]),d}function f(w){for(var d=l(w);d.length<4;)d.push(d[0]);return d}function g(w){return w.map(f)}function h(w){var d=w.type,o;switch(d){case"GeometryCollection":return{type:d,geometries:w.geometries.map(h)};case"Point":o=u(w.coordinates);break;case"MultiPoint":o=w.coordinates.map(u);break;case"LineString":o=l(w.arcs);break;case"MultiLineString":o=w.arcs.map(l);break;case"Polygon":o=g(w.arcs);break;case"MultiPolygon":o=w.arcs.map(g);break;default:return null}return{type:d,coordinates:o}}return h(r)}},73384:function(V,U,e){"use strict";var x=e(54612);V.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch(i){return!1}return!x(P)}},57980:function(V,U,e){"use strict";var x=e(81680),P=e(7328),i=e(33940),L=e(18856),C=function(c,y){return c.replace("%v",L(y))};V.exports=function(c,y,r){if(!P(r))throw new TypeError(C(y,c));if(!x(c)){if("default"in r)return r.default;if(r.isOptional)return null}var t=i(r.errorMessage);throw x(t)||(t=y),new TypeError(C(t,c))}},32336:function(V){"use strict";V.exports=function(U){try{return U.toString()}catch(e){try{return String(U)}catch(x){return null}}}},18856:function(V,U,e){"use strict";var x=e(32336),P=/[\n\r\u2028\u2029]/g;V.exports=function(i){var L=x(i);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+"\u2026"),L=L.replace(P,function(C){switch(C){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},7328:function(V,U,e){"use strict";var x=e(81680),P={object:!0,function:!0,undefined:!0};V.exports=function(i){return x(i)?hasOwnProperty.call(P,typeof i):!1}},87396:function(V,U,e){"use strict";var x=e(57980),P=e(85488);V.exports=function(i){return P(i)?i:x(i,"%v is not a plain function",arguments[1])}},85488:function(V,U,e){"use strict";var x=e(73384),P=/^\s*class[\s{/}]/,i=Function.prototype.toString;V.exports=function(L){return!(!x(L)||P.test(i.call(L)))}},54612:function(V,U,e){"use strict";var x=e(7328);V.exports=function(P){if(!x(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch(i){return!1}}},33940:function(V,U,e){"use strict";var x=e(81680),P=e(7328),i=Object.prototype.toString;V.exports=function(L){if(!x(L))return null;if(P(L)){var C=L.toString;if(typeof C!="function"||C===i)return null}try{return""+L}catch(c){return null}}},18496:function(V,U,e){"use strict";var x=e(57980),P=e(81680);V.exports=function(i){return P(i)?i:x(i,"Cannot use %v",arguments[1])}},81680:function(V){"use strict";var U=void 0;V.exports=function(e){return e!==U&&e!==null}},14144:function(V,U,e){"use strict";var x=e(308),P=e(10352),i=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray!="undefined",C=typeof BigUint64Array!="undefined",c=typeof BigInt64Array!="undefined",y=e.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=P([32,0])),y.BIGUINT64||(y.BIGUINT64=P([32,0])),y.BIGINT64||(y.BIGINT64=P([32,0])),y.BUFFER||(y.BUFFER=P([32,0]));var r=y.DATA,t=y.BUFFER;U.free=function(a){if(i.isBuffer(a))t[x.log2(a.length)].push(a);else{if(Object.prototype.toString.call(a)!=="[object ArrayBuffer]"&&(a=a.buffer),!a)return;var E=a.length||a.byteLength,p=x.log2(E)|0;r[p].push(a)}};function s(T){if(T){var a=T.length||T.byteLength,E=x.log2(a);r[E].push(T)}}function n(T){s(T.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=n,U.freeArrayBuffer=s,U.freeBuffer=function(a){t[x.log2(a.length)].push(a)},U.malloc=function(a,E){if(E===void 0||E==="arraybuffer")return u(a);switch(E){case"uint8":return l(a);case"uint16":return f(a);case"uint32":return g(a);case"int8":return h(a);case"int16":return w(a);case"int32":return d(a);case"float":case"float32":return o(a);case"double":case"float64":return v(a);case"uint8_clamped":return A(a);case"bigint64":return M(a);case"biguint64":return b(a);case"buffer":return S(a);case"data":case"dataview":return m(a);default:return null}return null};function u(a){var a=x.nextPow2(a),E=x.log2(a),p=r[E];return p.length>0?p.pop():new ArrayBuffer(a)}U.mallocArrayBuffer=u;function l(T){return new Uint8Array(u(T),0,T)}U.mallocUint8=l;function f(T){return new Uint16Array(u(2*T),0,T)}U.mallocUint16=f;function g(T){return new Uint32Array(u(4*T),0,T)}U.mallocUint32=g;function h(T){return new Int8Array(u(T),0,T)}U.mallocInt8=h;function w(T){return new Int16Array(u(2*T),0,T)}U.mallocInt16=w;function d(T){return new Int32Array(u(4*T),0,T)}U.mallocInt32=d;function o(T){return new Float32Array(u(4*T),0,T)}U.mallocFloat32=U.mallocFloat=o;function v(T){return new Float64Array(u(8*T),0,T)}U.mallocFloat64=U.mallocDouble=v;function A(T){return L?new Uint8ClampedArray(u(T),0,T):l(T)}U.mallocUint8Clamped=A;function b(T){return C?new BigUint64Array(u(8*T),0,T):null}U.mallocBigUint64=b;function M(T){return c?new BigInt64Array(u(8*T),0,T):null}U.mallocBigInt64=M;function m(T){return new DataView(u(T),0,T)}U.mallocDataView=m;function S(T){T=x.nextPow2(T);var a=x.log2(T),E=t[a];return E.length>0?E.pop():new i(T)}U.mallocBuffer=S,U.clearCache=function(){for(var a=0;a<32;++a)y.UINT8[a].length=0,y.UINT16[a].length=0,y.UINT32[a].length=0,y.INT8[a].length=0,y.INT16[a].length=0,y.INT32[a].length=0,y.FLOAT[a].length=0,y.DOUBLE[a].length=0,y.BIGUINT64[a].length=0,y.BIGINT64[a].length=0,y.UINT8C[a].length=0,r[a].length=0,t[a].length=0}},92384:function(V){var U=/[\'\"]/;V.exports=function(x){return x?(U.test(x.charAt(0))&&(x=x.substr(1)),U.test(x.charAt(x.length-1))&&(x=x.substr(0,x.length-1)),x):""}},45223:function(V){"use strict";V.exports=function(e,x,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var i=0,L=P.length;i<L;i++){var C=P[i];for(var c in C)if(!(x[c]!==void 0&&!Array.isArray(x[c])&&e[c]===x[c])&&c in x){var y;if(C[c]===!0)y=x[c];else{if(C[c]===!1)continue;if(typeof C[c]=="function"&&(y=C[c](x[c],e,x),y===void 0))continue}e[c]=y}}return e}},96656:function(V,U,e){V.exports=x;function x(i,L){if(P("noDeprecation"))return i;var C=!1;function c(){if(!C){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),C=!0}return i.apply(this,arguments)}return c}function P(i){try{if(!e.g.localStorage)return!1}catch(C){return!1}var L=e.g.localStorage[i];return L==null?!1:String(L).toLowerCase()==="true"}},75272:function(V){V.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(V,U,e){"use strict";var x=e(91148),P=e(84420),i=e(96632),L=e(7728);function C(Ae){return Ae.call.bind(Ae)}var c=typeof BigInt!="undefined",y=typeof Symbol!="undefined",r=C(Object.prototype.toString),t=C(Number.prototype.valueOf),s=C(String.prototype.valueOf),n=C(Boolean.prototype.valueOf);if(c)var u=C(BigInt.prototype.valueOf);if(y)var l=C(Symbol.prototype.valueOf);function f(Ae,be){if(typeof Ae!="object")return!1;try{return be(Ae),!0}catch(Pe){return!1}}U.isArgumentsObject=x,U.isGeneratorFunction=P,U.isTypedArray=L;function g(Ae){return typeof Promise!="undefined"&&Ae instanceof Promise||Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"&&typeof Ae.catch=="function"}U.isPromise=g;function h(Ae){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(Ae):L(Ae)||J(Ae)}U.isArrayBufferView=h;function w(Ae){return i(Ae)==="Uint8Array"}U.isUint8Array=w;function d(Ae){return i(Ae)==="Uint8ClampedArray"}U.isUint8ClampedArray=d;function o(Ae){return i(Ae)==="Uint16Array"}U.isUint16Array=o;function v(Ae){return i(Ae)==="Uint32Array"}U.isUint32Array=v;function A(Ae){return i(Ae)==="Int8Array"}U.isInt8Array=A;function b(Ae){return i(Ae)==="Int16Array"}U.isInt16Array=b;function M(Ae){return i(Ae)==="Int32Array"}U.isInt32Array=M;function m(Ae){return i(Ae)==="Float32Array"}U.isFloat32Array=m;function S(Ae){return i(Ae)==="Float64Array"}U.isFloat64Array=S;function T(Ae){return i(Ae)==="BigInt64Array"}U.isBigInt64Array=T;function a(Ae){return i(Ae)==="BigUint64Array"}U.isBigUint64Array=a;function E(Ae){return r(Ae)==="[object Map]"}E.working=typeof Map!="undefined"&&E(new Map);function p(Ae){return typeof Map=="undefined"?!1:E.working?E(Ae):Ae instanceof Map}U.isMap=p;function k(Ae){return r(Ae)==="[object Set]"}k.working=typeof Set!="undefined"&&k(new Set);function R(Ae){return typeof Set=="undefined"?!1:k.working?k(Ae):Ae instanceof Set}U.isSet=R;function B(Ae){return r(Ae)==="[object WeakMap]"}B.working=typeof WeakMap!="undefined"&&B(new WeakMap);function F(Ae){return typeof WeakMap=="undefined"?!1:B.working?B(Ae):Ae instanceof WeakMap}U.isWeakMap=F;function _(Ae){return r(Ae)==="[object WeakSet]"}_.working=typeof WeakSet!="undefined"&&_(new WeakSet);function O(Ae){return _(Ae)}U.isWeakSet=O;function z(Ae){return r(Ae)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer!="undefined"&&z(new ArrayBuffer);function N(Ae){return typeof ArrayBuffer=="undefined"?!1:z.working?z(Ae):Ae instanceof ArrayBuffer}U.isArrayBuffer=N;function Y(Ae){return r(Ae)==="[object DataView]"}Y.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Y(new DataView(new ArrayBuffer(1),0,1));function J(Ae){return typeof DataView=="undefined"?!1:Y.working?Y(Ae):Ae instanceof DataView}U.isDataView=J;var ae=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function se(Ae){return r(Ae)==="[object SharedArrayBuffer]"}function ue(Ae){return typeof ae=="undefined"?!1:(typeof se.working=="undefined"&&(se.working=se(new ae)),se.working?se(Ae):Ae instanceof ae)}U.isSharedArrayBuffer=ue;function K(Ae){return r(Ae)==="[object AsyncFunction]"}U.isAsyncFunction=K;function j(Ae){return r(Ae)==="[object Map Iterator]"}U.isMapIterator=j;function ie(Ae){return r(Ae)==="[object Set Iterator]"}U.isSetIterator=ie;function W(Ae){return r(Ae)==="[object Generator]"}U.isGeneratorObject=W;function Q(Ae){return r(Ae)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=Q;function ee(Ae){return f(Ae,t)}U.isNumberObject=ee;function $(Ae){return f(Ae,s)}U.isStringObject=$;function X(Ae){return f(Ae,n)}U.isBooleanObject=X;function oe(Ae){return c&&f(Ae,u)}U.isBigIntObject=oe;function te(Ae){return y&&f(Ae,l)}U.isSymbolObject=te;function fe(Ae){return ee(Ae)||$(Ae)||X(Ae)||oe(Ae)||te(Ae)}U.isBoxedPrimitive=fe;function pe(Ae){return typeof Uint8Array!="undefined"&&(N(Ae)||ue(Ae))}U.isAnyArrayBuffer=pe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ae){Object.defineProperty(U,Ae,{enumerable:!1,value:function(){throw new Error(Ae+" is not supported in userland")}})})},35840:function(V,U,e){var x=e(4168),P=Object.getOwnPropertyDescriptors||function(ae){for(var se=Object.keys(ae),ue={},K=0;K<se.length;K++)ue[se[K]]=Object.getOwnPropertyDescriptor(ae,se[K]);return ue},i=/%[sdj%]/g;U.format=function(J){if(!b(J)){for(var ae=[],se=0;se<arguments.length;se++)ae.push(y(arguments[se]));return ae.join(" ")}for(var se=1,ue=arguments,K=ue.length,j=String(J).replace(i,function(W){if(W==="%%")return"%";if(se>=K)return W;switch(W){case"%s":return String(ue[se++]);case"%d":return Number(ue[se++]);case"%j":try{return JSON.stringify(ue[se++])}catch(Q){return"[Circular]"}default:return W}}),ie=ue[se];se<K;ie=ue[++se])o(ie)||!T(ie)?j+=" "+ie:j+=" "+y(ie);return j},U.deprecate=function(J,ae){if(typeof x!="undefined"&&x.noDeprecation===!0)return J;if(typeof x=="undefined")return function(){return U.deprecate(J,ae).apply(this,arguments)};var se=!1;function ue(){if(!se){if(x.throwDeprecation)throw new Error(ae);x.traceDeprecation?console.trace(ae):console.error(ae),se=!0}return J.apply(this,arguments)}return ue};var L={},C=/^$/;if(x.env.NODE_DEBUG){var c=x.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),C=new RegExp("^"+c+"$","i")}U.debuglog=function(J){if(J=J.toUpperCase(),!L[J])if(C.test(J)){var ae=x.pid;L[J]=function(){var se=U.format.apply(U,arguments);console.error("%s %d: %s",J,ae,se)}}else L[J]=function(){};return L[J]};function y(J,ae){var se={seen:[],stylize:t};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),d(ae)?se.showHidden=ae:ae&&U._extend(se,ae),m(se.showHidden)&&(se.showHidden=!1),m(se.depth)&&(se.depth=2),m(se.colors)&&(se.colors=!1),m(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=r),n(se,J,se.depth)}U.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(J,ae){var se=y.styles[ae];return se?"\x1B["+y.colors[se][0]+"m"+J+"\x1B["+y.colors[se][1]+"m":J}function t(J,ae){return J}function s(J){var ae={};return J.forEach(function(se,ue){ae[se]=!0}),ae}function n(J,ae,se){if(J.customInspect&&ae&&p(ae.inspect)&&ae.inspect!==U.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var ue=ae.inspect(se,J);return b(ue)||(ue=n(J,ue,se)),ue}var K=u(J,ae);if(K)return K;var j=Object.keys(ae),ie=s(j);if(J.showHidden&&(j=Object.getOwnPropertyNames(ae)),E(ae)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return l(ae);if(j.length===0){if(p(ae)){var W=ae.name?": "+ae.name:"";return J.stylize("[Function"+W+"]","special")}if(S(ae))return J.stylize(RegExp.prototype.toString.call(ae),"regexp");if(a(ae))return J.stylize(Date.prototype.toString.call(ae),"date");if(E(ae))return l(ae)}var Q="",ee=!1,$=["{","}"];if(w(ae)&&(ee=!0,$=["[","]"]),p(ae)){var X=ae.name?": "+ae.name:"";Q=" [Function"+X+"]"}if(S(ae)&&(Q=" "+RegExp.prototype.toString.call(ae)),a(ae)&&(Q=" "+Date.prototype.toUTCString.call(ae)),E(ae)&&(Q=" "+l(ae)),j.length===0&&(!ee||ae.length==0))return $[0]+Q+$[1];if(se<0)return S(ae)?J.stylize(RegExp.prototype.toString.call(ae),"regexp"):J.stylize("[Object]","special");J.seen.push(ae);var oe;return ee?oe=f(J,ae,se,ie,j):oe=j.map(function(te){return g(J,ae,se,ie,te,ee)}),J.seen.pop(),h(oe,Q,$)}function u(J,ae){if(m(ae))return J.stylize("undefined","undefined");if(b(ae)){var se="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(se,"string")}if(A(ae))return J.stylize(""+ae,"number");if(d(ae))return J.stylize(""+ae,"boolean");if(o(ae))return J.stylize("null","null")}function l(J){return"["+Error.prototype.toString.call(J)+"]"}function f(J,ae,se,ue,K){for(var j=[],ie=0,W=ae.length;ie<W;++ie)O(ae,String(ie))?j.push(g(J,ae,se,ue,String(ie),!0)):j.push("");return K.forEach(function(Q){Q.match(/^\d+$/)||j.push(g(J,ae,se,ue,Q,!0))}),j}function g(J,ae,se,ue,K,j){var ie,W,Q;if(Q=Object.getOwnPropertyDescriptor(ae,K)||{value:ae[K]},Q.get?Q.set?W=J.stylize("[Getter/Setter]","special"):W=J.stylize("[Getter]","special"):Q.set&&(W=J.stylize("[Setter]","special")),O(ue,K)||(ie="["+K+"]"),W||(J.seen.indexOf(Q.value)<0?(o(se)?W=n(J,Q.value,null):W=n(J,Q.value,se-1),W.indexOf(`
`)>-1&&(j?W=W.split(`
`).map(function(ee){return"  "+ee}).join(`
`).slice(2):W=`
`+W.split(`
`).map(function(ee){return"   "+ee}).join(`
`))):W=J.stylize("[Circular]","special")),m(ie)){if(j&&K.match(/^\d+$/))return W;ie=JSON.stringify(""+K),ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.slice(1,-1),ie=J.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=J.stylize(ie,"string"))}return ie+": "+W}function h(J,ae,se){var ue=0,K=J.reduce(function(j,ie){return ue++,ie.indexOf(`
`)>=0&&ue++,j+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0);return K>60?se[0]+(ae===""?"":ae+`
 `)+" "+J.join(`,
  `)+" "+se[1]:se[0]+ae+" "+J.join(", ")+" "+se[1]}U.types=e(41088);function w(J){return Array.isArray(J)}U.isArray=w;function d(J){return typeof J=="boolean"}U.isBoolean=d;function o(J){return J===null}U.isNull=o;function v(J){return J==null}U.isNullOrUndefined=v;function A(J){return typeof J=="number"}U.isNumber=A;function b(J){return typeof J=="string"}U.isString=b;function M(J){return typeof J=="symbol"}U.isSymbol=M;function m(J){return J===void 0}U.isUndefined=m;function S(J){return T(J)&&R(J)==="[object RegExp]"}U.isRegExp=S,U.types.isRegExp=S;function T(J){return typeof J=="object"&&J!==null}U.isObject=T;function a(J){return T(J)&&R(J)==="[object Date]"}U.isDate=a,U.types.isDate=a;function E(J){return T(J)&&(R(J)==="[object Error]"||J instanceof Error)}U.isError=E,U.types.isNativeError=E;function p(J){return typeof J=="function"}U.isFunction=p;function k(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J=="undefined"}U.isPrimitive=k,U.isBuffer=e(75272);function R(J){return Object.prototype.toString.call(J)}function B(J){return J<10?"0"+J.toString(10):J.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var J=new Date,ae=[B(J.getHours()),B(J.getMinutes()),B(J.getSeconds())].join(":");return[J.getDate(),F[J.getMonth()],ae].join(" ")}U.log=function(){console.log("%s - %s",_(),U.format.apply(U,arguments))},U.inherits=e(6768),U._extend=function(J,ae){if(!ae||!T(ae))return J;for(var se=Object.keys(ae),ue=se.length;ue--;)J[se[ue]]=ae[se[ue]];return J};function O(J,ae){return Object.prototype.hasOwnProperty.call(J,ae)}var z=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;U.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&ae[z]){var se=ae[z];if(typeof se!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(se,z,{value:se,enumerable:!1,writable:!1,configurable:!0}),se}function se(){for(var ue,K,j=new Promise(function(Q,ee){ue=Q,K=ee}),ie=[],W=0;W<arguments.length;W++)ie.push(arguments[W]);ie.push(function(Q,ee){Q?K(Q):ue(ee)});try{ae.apply(this,ie)}catch(Q){K(Q)}return j}return Object.setPrototypeOf(se,Object.getPrototypeOf(ae)),z&&Object.defineProperty(se,z,{value:se,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(se,P(ae))},U.promisify.custom=z;function N(J,ae){if(!J){var se=new Error("Promise was rejected with a falsy value");se.reason=J,J=se}return ae(J)}function Y(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var se=[],ue=0;ue<arguments.length;ue++)se.push(arguments[ue]);var K=se.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var j=this,ie=function(){return K.apply(j,arguments)};J.apply(this,se).then(function(W){x.nextTick(ie.bind(null,null,W))},function(W){x.nextTick(N.bind(null,W,ie))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(J)),Object.defineProperties(ae,P(J)),ae}U.callbackify=Y},5408:function(V,U,e){var x=e(13380);V.exports=function(i){return x("webgl",i)}},96632:function(V,U,e){"use strict";var x=e(46492),P=e(63436),i=e(57916),L=e(99676),C=e(2304),c=L("Object.prototype.toString"),y=e(46672)(),r=typeof globalThis=="undefined"?e.g:globalThis,t=P(),s=L("String.prototype.slice"),n=Object.getPrototypeOf,u=L("Array.prototype.indexOf",!0)||function(w,d){for(var o=0;o<w.length;o+=1)if(w[o]===d)return o;return-1},l={__proto__:null};y&&C&&n?x(t,function(h){var w=new r[h];if(Symbol.toStringTag in w){var d=n(w),o=C(d,Symbol.toStringTag);if(!o){var v=n(d);o=C(v,Symbol.toStringTag)}l["$"+h]=i(o.get)}}):x(t,function(h){var w=new r[h],d=w.slice||w.set;d&&(l["$"+h]=i(d))});var f=function(w){var d=!1;return x(l,function(o,v){if(!d)try{"$"+o(w)===v&&(d=s(v,1))}catch(A){}}),d},g=function(w){var d=!1;return x(l,function(o,v){if(!d)try{o(w),d=s(v,1)}catch(A){}}),d};V.exports=function(w){if(!w||typeof w!="object")return!1;if(!y){var d=s(c(w),8,-1);return u(t,d)>-1?d:d!=="Object"?!1:g(w)}return C?f(w):null}},67020:function(V,U,e){var x=e(38700),P=e(50896),i=x.instance();function L(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}L.prototype=new x.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(l,f){if(typeof l=="string"){var g=l.match(c);return g?g[0]:""}var h=this._validateYear(l),w=l.month(),d=""+this.toChineseMonth(h,w);return f&&d.length<2&&(d="0"+d),this.isIntercalaryMonth(h,w)&&(d+="i"),d},monthNames:function(l){if(typeof l=="string"){var f=l.match(y);return f?f[0]:""}var g=this._validateYear(l),h=l.month(),w=this.toChineseMonth(g,h),d=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][w-1];return this.isIntercalaryMonth(g,h)&&(d="\u95F0"+d),d},monthNamesShort:function(l){if(typeof l=="string"){var f=l.match(r);return f?f[0]:""}var g=this._validateYear(l),h=l.month(),w=this.toChineseMonth(g,h),d=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][w-1];return this.isIntercalaryMonth(g,h)&&(d="\u95F0"+d),d},parseMonth:function(l,f){l=this._validateYear(l);var g=parseInt(f),h;if(isNaN(g))f[0]==="\u95F0"&&(h=!0,f=f.substring(1)),f[f.length-1]==="\u6708"&&(f=f.substring(0,f.length-1)),g=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(f);else{var w=f[f.length-1];h=w==="i"||w==="I"}var d=this.toMonthIndex(l,g,h);return d},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(l,f){if(l.year&&(l=l.year()),typeof l!="number"||l<1888||l>2111)throw f.replace(/\{0\}/,this.local.name);return l},toMonthIndex:function(l,f,g){var h=this.intercalaryMonth(l),w=g&&f!==h;if(w||f<1||f>12)throw x.local.invalidMonth.replace(/\{0\}/,this.local.name);var d;return h?!g&&f<=h?d=f-1:d=f:d=f-1,d},toChineseMonth:function(l,f){l.year&&(l=l.year(),f=l.month());var g=this.intercalaryMonth(l),h=g?12:11;if(f<0||f>h)throw x.local.invalidMonth.replace(/\{0\}/,this.local.name);var w;return g?f<g?w=f+1:w=f:w=f+1,w},intercalaryMonth:function(l){l=this._validateYear(l);var f=t[l-t[0]],g=f>>13;return g},isIntercalaryMonth:function(l,f){l.year&&(l=l.year(),f=l.month());var g=this.intercalaryMonth(l);return!!g&&g===f},leapYear:function(l){return this.intercalaryMonth(l)!==0},weekOfYear:function(l,f,g){var h=this._validateYear(l,x.local.invalidyear),w=s[h-s[0]],d=w>>9&4095,o=w>>5&15,v=w&31,A;A=i.newDate(d,o,v),A.add(4-(A.dayOfWeek()||7),"d");var b=this.toJD(l,f,g)-A.toJD();return 1+Math.floor(b/7)},monthsInYear:function(l){return this.leapYear(l)?13:12},daysInMonth:function(l,f){l.year&&(f=l.month(),l=l.year()),l=this._validateYear(l);var g=t[l-t[0]],h=g>>13,w=h?12:11;if(f>w)throw x.local.invalidMonth.replace(/\{0\}/,this.local.name);var d=g&1<<12-f?30:29;return d},weekDay:function(l,f,g){return(this.dayOfWeek(l,f,g)||7)<6},toJD:function(l,f,g){var h=this._validate(l,d,g,x.local.invalidDate);l=this._validateYear(h.year()),f=h.month(),g=h.day();var w=this.isIntercalaryMonth(l,f),d=this.toChineseMonth(l,f),o=u(l,d,g,w);return i.toJD(o.year,o.month,o.day)},fromJD:function(l){var f=i.fromJD(l),g=n(f.year(),f.month(),f.day()),h=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,h,g.day)},fromString:function(l){var f=l.match(C),g=this._validateYear(+f[1]),h=+f[2],w=!!f[3],d=this.toMonthIndex(g,h,w),o=+f[4];return this.newDate(g,d,o)},add:function(l,f,g){var h=l.year(),w=l.month(),d=this.isIntercalaryMonth(h,w),o=this.toChineseMonth(h,w),v=Object.getPrototypeOf(L.prototype).add.call(this,l,f,g);if(g==="y"){var A=v.year(),b=v.month(),M=this.isIntercalaryMonth(A,o),m=d&&M?this.toMonthIndex(A,o,!0):this.toMonthIndex(A,o,!1);m!==b&&v.month(m)}return v}});var C=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,c=/^\d?\d[iI]?/m,y=/^??[]?/m,r=/^??[]?/m;x.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(l,f,g,h){var w,d;if(typeof l=="object")w=l,d=f||{};else{var o=typeof l=="number"&&l>=1888&&l<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var v=typeof f=="number"&&f>=1&&f<=12;if(!v)throw new Error("Solar month outside range 1 - 12");var A=typeof g=="number"&&g>=1&&g<=31;if(!A)throw new Error("Solar day outside range 1 - 31");w={year:l,month:f,day:g},d=h||{}}var b=s[w.year-s[0]],M=w.year<<9|w.month<<5|w.day;d.year=M>=b?w.year:w.year-1,b=s[d.year-s[0]];var m=b>>9&4095,S=b>>5&15,T=b&31,a,E=new Date(m,S-1,T),p=new Date(w.year,w.month-1,w.day);a=Math.round((p-E)/864e5);var k=t[d.year-t[0]],R;for(R=0;R<13;R++){var B=k&1<<12-R?30:29;if(a<B)break;a-=B}var F=k>>13;return!F||R<F?(d.isIntercalary=!1,d.month=1+R):R===F?(d.isIntercalary=!0,d.month=R):(d.isIntercalary=!1,d.month=R),d.day=1+a,d}function u(l,f,g,h,w){var d,o;if(typeof l=="object")o=l,d=f||{};else{var v=typeof l=="number"&&l>=1888&&l<=2111;if(!v)throw new Error("Lunar year outside range 1888-2111");var A=typeof f=="number"&&f>=1&&f<=12;if(!A)throw new Error("Lunar month outside range 1 - 12");var b=typeof g=="number"&&g>=1&&g<=30;if(!b)throw new Error("Lunar day outside range 1 - 30");var M;typeof h=="object"?(M=!1,d=h):(M=!!h,d=w||{}),o={year:l,month:f,day:g,isIntercalary:M}}var m;m=o.day-1;var S=t[o.year-t[0]],T=S>>13,a;T&&(o.month>T||o.isIntercalary)?a=o.month:a=o.month-1;for(var E=0;E<a;E++){var p=S&1<<12-E?30:29;m+=p}var k=s[o.year-s[0]],R=k>>9&4095,B=k>>5&15,F=k&31,_=new Date(R,B-1,F+m);return d.year=_.getFullYear(),d.month=1+_.getMonth(),d.day=_.getDate(),d}},89792:function(V,U,e){var x=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,x.local.invalidYear),c=C.year()+(C.year()<0?1:0);return c%4===3||c%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear),13},weekOfYear:function(L,C,c){var y=this.newDate(L,C,c);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(L,C){var c=this._validate(L,C,this.minDay,x.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===13&&this.leapYear(c.year())?1:0)},weekDay:function(L,C,c){return(this.dayOfWeek(L,C,c)||7)<6},toJD:function(L,C,c){var y=this._validate(L,C,c,x.local.invalidDate);return L=y.year(),L<0&&L++,y.day()+(y.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var C=Math.floor(L)+.5-this.jdEpoch,c=Math.floor((C-Math.floor((C+366)/1461))/365)+1;c<=0&&c--,C=Math.floor(L)+.5-this.newDate(c,1,1).toJD();var y=Math.floor(C/30)+1,r=C-(y-1)*30+1;return this.newDate(c,y,r)}}),x.calendars.coptic=i},55668:function(V,U,e){var x=e(38700),P=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(C){return this._validate(C,this.minMonth,this.minDay,x.local.invalidYear),!1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,x.local.invalidYear),13},daysInYear:function(C){return this._validate(C,this.minMonth,this.minDay,x.local.invalidYear),400},weekOfYear:function(C,c,y){var r=this.newDate(C,c,y);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(C,c){var y=this._validate(C,c,this.minDay,x.local.invalidMonth);return this.daysPerMonth[y.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(C,c,y){var r=this._validate(C,c,y,x.local.invalidDate);return(r.day()+1)%8},weekDay:function(C,c,y){var r=this.dayOfWeek(C,c,y);return r>=2&&r<=6},extraInfo:function(C,c,y){var r=this._validate(C,c,y,x.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(C,c,y){var r=this._validate(C,c,y,x.local.invalidDate);return C=r.year()+(r.year()<0?1:0),c=r.month(),y=r.day(),y+(c>1?16:0)+(c>2?(c-2)*32:0)+(C-1)*400+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C+.5)-Math.floor(this.jdEpoch)-1;var c=Math.floor(C/400)+1;C-=(c-1)*400,C+=C>15?16:0;var y=Math.floor(C/32)+1,r=C-(y-1)*32+1;return this.newDate(c<=0?c-1:c,y,r)}});var L={20:"Fruitbat",21:"Anchovy"};x.calendars.discworld=i},65168:function(V,U,e){var x=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,x.local.invalidYear),c=C.year()+(C.year()<0?1:0);return c%4===3||c%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear),13},weekOfYear:function(L,C,c){var y=this.newDate(L,C,c);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(L,C){var c=this._validate(L,C,this.minDay,x.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===13&&this.leapYear(c.year())?1:0)},weekDay:function(L,C,c){return(this.dayOfWeek(L,C,c)||7)<6},toJD:function(L,C,c){var y=this._validate(L,C,c,x.local.invalidDate);return L=y.year(),L<0&&L++,y.day()+(y.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var C=Math.floor(L)+.5-this.jdEpoch,c=Math.floor((C-Math.floor((C+366)/1461))/365)+1;c<=0&&c--,C=Math.floor(L)+.5-this.newDate(c,1,1).toJD();var y=Math.floor(C/30)+1,r=C-(y-1)*30+1;return this.newDate(c,y,r)}}),x.calendars.ethiopian=i},2084:function(V,U,e){var x=e(38700),P=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var c=this._validate(C,this.minMonth,this.minDay,x.local.invalidYear);return this._leapYear(c.year())},_leapYear:function(C){return C=C<0?C+1:C,L(C*7+1,19)<7},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,x.local.invalidYear),this._leapYear(C.year?C.year():C)?13:12},weekOfYear:function(C,c,y){var r=this.newDate(C,c,y);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(C){var c=this._validate(C,this.minMonth,this.minDay,x.local.invalidYear);return C=c.year(),this.toJD(C===-1?1:C+1,7,1)-this.toJD(C,7,1)},daysInMonth:function(C,c){return C.year&&(c=C.month(),C=C.year()),this._validate(C,c,this.minDay,x.local.invalidMonth),c===12&&this.leapYear(C)||c===8&&L(this.daysInYear(C),10)===5?30:c===9&&L(this.daysInYear(C),10)===3?29:this.daysPerMonth[c-1]},weekDay:function(C,c,y){return this.dayOfWeek(C,c,y)!==6},extraInfo:function(C,c,y){var r=this._validate(C,c,y,x.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(C,c,y){var r=this._validate(C,c,y,x.local.invalidDate);C=r.year(),c=r.month(),y=r.day();var t=C<=0?C+1:C,s=this.jdEpoch+this._delay1(t)+this._delay2(t)+y+1;if(c<7){for(var n=7;n<=this.monthsInYear(C);n++)s+=this.daysInMonth(C,n);for(var n=1;n<c;n++)s+=this.daysInMonth(C,n)}else for(var n=7;n<c;n++)s+=this.daysInMonth(C,n);return s},_delay1:function(C){var c=Math.floor((235*C-234)/19),y=12084+13753*c,r=c*29+Math.floor(y/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(C){var c=this._delay1(C-1),y=this._delay1(C),r=this._delay1(C+1);return r-y===356?2:y-c===382?1:0},fromJD:function(C){C=Math.floor(C)+.5;for(var c=Math.floor((C-this.jdEpoch)*98496/35975351)-1;C>=this.toJD(c===-1?1:c+1,7,1);)c++;for(var y=C<this.toJD(c,1,1)?7:1;C>this.toJD(c,y,this.daysInMonth(c,y));)y++;var r=C-this.toJD(c,y,1)+1;return this.newDate(c,y,r)}});function L(C,c){return C-c*Math.floor(C/c)}x.calendars.hebrew=i},26368:function(V,U,e){var x=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var C=this._validate(L,this.minMonth,this.minDay,x.local.invalidYear);return(C.year()*11+14)%30<11},weekOfYear:function(L,C,c){var y=this.newDate(L,C,c);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,C){var c=this._validate(L,C,this.minDay,x.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===12&&this.leapYear(c.year())?1:0)},weekDay:function(L,C,c){return this.dayOfWeek(L,C,c)!==5},toJD:function(L,C,c){var y=this._validate(L,C,c,x.local.invalidDate);return L=y.year(),C=y.month(),c=y.day(),L=L<=0?L+1:L,c+Math.ceil(29.5*(C-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var C=Math.floor((30*(L-this.jdEpoch)+10646)/10631);C=C<=0?C-1:C;var c=Math.min(12,Math.ceil((L-29-this.toJD(C,1,1))/29.5)+1),y=L-this.toJD(C,c,1)+1;return this.newDate(C,c,y)}}),x.calendars.islamic=i},24747:function(V,U,e){var x=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,x.local.invalidYear),c=C.year()<0?C.year()+1:C.year();return c%4===0},weekOfYear:function(L,C,c){var y=this.newDate(L,C,c);return y.add(4-(y.dayOfWeek()||7),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(L,C){var c=this._validate(L,C,this.minDay,x.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===2&&this.leapYear(c.year())?1:0)},weekDay:function(L,C,c){return(this.dayOfWeek(L,C,c)||7)<6},toJD:function(L,C,c){var y=this._validate(L,C,c,x.local.invalidDate);return L=y.year(),C=y.month(),c=y.day(),L<0&&L++,C<=2&&(L--,C+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(C+1))+c-1524.5},fromJD:function(L){var C=Math.floor(L+.5),c=C+1524,y=Math.floor((c-122.1)/365.25),r=Math.floor(365.25*y),t=Math.floor((c-r)/30.6001),s=t-Math.floor(t<14?1:13),n=y-Math.floor(s>2?4716:4715),u=c-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,s,u)}}),x.calendars.julian=i},65616:function(V,U,e){var x=e(38700),P=e(50896);function i(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(c){return this._validate(c,this.minMonth,this.minDay,x.local.invalidYear),!1},formatYear:function(c){var y=this._validate(c,this.minMonth,this.minDay,x.local.invalidYear);c=y.year();var r=Math.floor(c/400);c=c%400,c+=c<0?400:0;var t=Math.floor(c/20);return r+"."+t+"."+c%20},forYear:function(c){if(c=c.split("."),c.length<3)throw"Invalid Mayan year";for(var y=0,r=0;r<c.length;r++){var t=parseInt(c[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";y=y*20+t}return y},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,x.local.invalidYear),18},weekOfYear:function(c,y,r){return this._validate(c,y,r,x.local.invalidDate),0},daysInYear:function(c){return this._validate(c,this.minMonth,this.minDay,x.local.invalidYear),360},daysInMonth:function(c,y){return this._validate(c,y,this.minDay,x.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(c,y,r){var t=this._validate(c,y,r,x.local.invalidDate);return t.day()},weekDay:function(c,y,r){return this._validate(c,y,r,x.local.invalidDate),!0},extraInfo:function(c,y,r){var t=this._validate(c,y,r,x.local.invalidDate),s=t.toJD(),n=this._toHaab(s),u=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(c){c-=this.jdEpoch;var y=L(c+8+17*20,365);return[Math.floor(y/20)+1,L(y,20)]},_toTzolkin:function(c){return c-=this.jdEpoch,[C(c+20,20),C(c+4,13)]},toJD:function(c,y,r){var t=this._validate(c,y,r,x.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(c){c=Math.floor(c)+.5-this.jdEpoch;var y=Math.floor(c/360);c=c%360,c+=c<0?360:0;var r=Math.floor(c/20),t=c%20;return this.newDate(y,r,t)}});function L(c,y){return c-y*Math.floor(c/y)}function C(c,y){return L(c-1,y)+1}x.calendars.mayan=i},30632:function(V,U,e){var x=e(38700),P=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar;var L=x.instance("gregorian");P(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var c=this._validate(C,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear);return L.leapYear(c.year()+(c.year()<1?1:0)+1469)},weekOfYear:function(C,c,y){var r=this.newDate(C,c,y);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(C,c){var y=this._validate(C,c,this.minDay,x.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(C,c,y){return(this.dayOfWeek(C,c,y)||7)<6},toJD:function(t,c,y){var r=this._validate(t,c,y,x.local.invalidMonth),t=r.year();t<0&&t++;for(var s=r.day(),n=1;n<r.month();n++)s+=this.daysPerMonth[n-1];return s+L.toJD(t+1468,3,13)},fromJD:function(C){C=Math.floor(C+.5);for(var c=Math.floor((C-(this.jdEpoch-1))/366);C>=this.toJD(c+1,1,1);)c++;for(var y=C-Math.floor(this.toJD(c,1,1)+.5)+1,r=1;y>this.daysInMonth(c,r);)y-=this.daysInMonth(c,r),r++;return this.newDate(c,r,y)}}),x.calendars.nanakshahi=i},73040:function(V,U,e){var x=e(38700),P=e(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,C,c){var y=this.newDate(L,C,c);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(L){var C=this._validate(L,this.minMonth,this.minDay,x.local.invalidYear);if(L=C.year(),typeof this.NEPALI_CALENDAR_DATA[L]=="undefined")return this.daysPerYear;for(var c=0,y=this.minMonth;y<=12;y++)c+=this.NEPALI_CALENDAR_DATA[L][y];return c},daysInMonth:function(L,C){return L.year&&(C=L.month(),L=L.year()),this._validate(L,C,this.minDay,x.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]=="undefined"?this.daysPerMonth[C-1]:this.NEPALI_CALENDAR_DATA[L][C]},weekDay:function(L,C,c){return this.dayOfWeek(L,C,c)!==6},toJD:function(L,C,c){var y=this._validate(L,C,c,x.local.invalidDate);L=y.year(),C=y.month(),c=y.day();var r=x.instance(),t=0,s=C,n=L;this._createMissingCalendarData(L);var u=L-(s>9||s===9&&c>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(C!==9&&(t=c,s--);s!==9;)s<=0&&(s=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][s],s--;return C===9?(t+=c-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(u))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(u,1,1).add(t,"d").toJD()},fromJD:function(L){var C=x.instance(),c=C.fromJD(L),y=c.year(),r=c.dayOfYear(),t=y+56;this._createMissingCalendarData(t);for(var s=9,n=this.NEPALI_CALENDAR_DATA[t][0],u=this.NEPALI_CALENDAR_DATA[t][s]-n+1;r>u;)s++,s>12&&(s=1,t++),u+=this.NEPALI_CALENDAR_DATA[t][s];var l=this.NEPALI_CALENDAR_DATA[t][s]-(u-r);return this.newDate(t,s,l)},_createMissingCalendarData:function(L){var C=this.daysPerMonth.slice(0);C.unshift(17);for(var c=L-1;c<L+2;c++)typeof this.NEPALI_CALENDAR_DATA[c]=="undefined"&&(this.NEPALI_CALENDAR_DATA[c]=C)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),x.calendars.nepali=i},1104:function(V,U,e){var x=e(38700),P=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var c=this._validate(C,this.minMonth,this.minDay,x.local.invalidYear);return((c.year()-(c.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(C,c,y){var r=this.newDate(C,c,y);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(C,c){var y=this._validate(C,c,this.minDay,x.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(C,c,y){return this.dayOfWeek(C,c,y)!==5},toJD:function(C,c,y){var r=this._validate(C,c,y,x.local.invalidDate);C=r.year(),c=r.month(),y=r.day();var t=C-(C>=0?474:473),s=474+L(t,2820);return y+(c<=7?(c-1)*31:(c-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var c=C-this.toJD(475,1,1),y=Math.floor(c/1029983),r=L(c,1029983),t=2820;if(r!==1029982){var s=Math.floor(r/366),n=L(r,366);t=Math.floor((2134*s+2816*n+2815)/1028522)+s+1}var u=t+2820*y+474;u=u<=0?u-1:u;var l=C-this.toJD(u,1,1)+1,f=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),g=C-this.toJD(u,f,1)+1;return this.newDate(u,f,g)}});function L(C,c){return C-c*Math.floor(C/c)}x.calendars.persian=i,x.calendars.jalali=i},51456:function(V,U,e){var x=e(38700),P=e(50896),i=x.instance();function L(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}L.prototype=new x.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(y){var c=this._validate(y,this.minMonth,this.minDay,x.local.invalidYear),y=this._t2gYear(c.year());return i.leapYear(y)},weekOfYear:function(t,c,y){var r=this._validate(t,this.minMonth,this.minDay,x.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(C,c){var y=this._validate(C,c,this.minDay,x.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(C,c,y){return(this.dayOfWeek(C,c,y)||7)<6},toJD:function(t,c,y){var r=this._validate(t,c,y,x.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(C){var c=i.fromJD(C),y=this._g2tYear(c.year());return this.newDate(y,c.month(),c.day())},_t2gYear:function(C){return C+this.yearsOffset+(C>=-this.yearsOffset&&C<=-1?1:0)},_g2tYear:function(C){return C-this.yearsOffset-(C>=1&&C<=this.yearsOffset?1:0)}}),x.calendars.taiwan=L},4592:function(V,U,e){var x=e(38700),P=e(50896),i=x.instance();function L(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}L.prototype=new x.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var c=this._validate(y,this.minMonth,this.minDay,x.local.invalidYear),y=this._t2gYear(c.year());return i.leapYear(y)},weekOfYear:function(t,c,y){var r=this._validate(t,this.minMonth,this.minDay,x.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(C,c){var y=this._validate(C,c,this.minDay,x.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(C,c,y){return(this.dayOfWeek(C,c,y)||7)<6},toJD:function(t,c,y){var r=this._validate(t,c,y,x.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(C){var c=i.fromJD(C),y=this._g2tYear(c.year());return this.newDate(y,c.month(),c.day())},_t2gYear:function(C){return C-this.yearsOffset-(C>=1&&C<=this.yearsOffset?1:0)},_g2tYear:function(C){return C+this.yearsOffset+(C>=-this.yearsOffset&&C<=-1?1:0)}}),x.calendars.thai=L},45348:function(V,U,e){var x=e(38700),P=e(50896);function i(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}i.prototype=new x.baseCalendar,P(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(C){var c=this._validate(C,this.minMonth,this.minDay,x.local.invalidYear);return this.daysInYear(c.year())===355},weekOfYear:function(C,c,y){var r=this.newDate(C,c,y);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(C){for(var c=0,y=1;y<=12;y++)c+=this.daysInMonth(C,y);return c},daysInMonth:function(C,c){for(var y=this._validate(C,c,this.minDay,x.local.invalidMonth),r=y.toJD()-24e5+.5,t=0,s=0;s<L.length;s++){if(L[s]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(C,c,y){return this.dayOfWeek(C,c,y)!==5},toJD:function(C,c,y){var r=this._validate(C,c,y,x.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,s=r.day()+L[t-1]-1;return s+24e5-.5},fromJD:function(C){for(var c=C-24e5+.5,y=0,r=0;r<L.length&&!(L[r]>c);r++)y++;var t=y+15292,s=Math.floor((t-1)/12),n=s+1,u=t-12*s,l=c-L[y-1]+1;return this.newDate(n,u,l)},isValid:function(C,c,y){var r=x.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(C=C.year!=null?C.year:C,r=C>=1276&&C<=1500),r},_validate:function(C,c,y,r){var t=x.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),x.calendars.ummalqura=i;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(V,U,e){var x=e(50896);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}x(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var s=this._localCals[r+"-"+t];if(!s&&this.calendars[r]&&(s=new this.calendars[r](t),this._localCals[r+"-"+t]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return s},newDate:function(r,t,s,n,u){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,u):n)||this.instance(),n.newDate(r,t,s)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(s){return r[s]})}},substituteChineseDigits:function(r,t){return function(s){for(var n="",u=0;s>0;){var l=s%10;n=(l===0?"":r[l]+t[u])+n,u++,s=Math.floor(s/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function i(r,t,s,n){if(this._calendar=r,this._year=t,this._month=s,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}x(i.prototype,{newDate:function(r,t,s){return this._calendar.newDate(r==null?this:r,t,s)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,s){if(!this._calendar.isValid(r,t,s))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function C(){this.shortYearCutoff="+10"}x(C.prototype,{_validateLevel:0,newDate:function(r,t,s){return r==null?this.today():(r.year&&(this._validate(r,t,s,y.local.invalidDate||y.regionalOptions[""].invalidDate),s=r.day(),t=r.month(),r=r.year()),new i(this,r,t,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var s=this._validate(r,t,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(r,t){var s=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,s,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth),s},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,s){var n=this._validate(r,t,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,s){var n=this._validate(r,t,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,s){return this._validate(r,t,s,y.local.invalidDate||y.regionalOptions[""].invalidDate),{}},add:function(r,t,s){return this._validate(r,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,s),t,s)},_add:function(r,t,s){if(this._validateLevel++,s==="d"||s==="w"){var n=r.toJD()+t*(s==="w"?this.daysInWeek():1),u=r.calendar().fromJD(n);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var l=r.year()+(s==="y"?t:0),f=r.monthOfYear()+(s==="m"?t:0),u=r.day(),g=function(d){for(;f<d.minMonth;)l--,f+=d.monthsInYear(l);for(var o=d.monthsInYear(l);f>o-1+d.minMonth;)l++,f-=o,o=d.monthsInYear(l)};s==="y"?(r.month()!==this.fromMonthOfYear(l,f)&&(f=this.newDate(l,r.month(),this.minDay).monthOfYear()),f=Math.min(f,this.monthsInYear(l)),u=Math.min(u,this.daysInMonth(l,this.fromMonthOfYear(l,f)))):s==="m"&&(g(this),u=Math.min(u,this.daysInMonth(l,this.fromMonthOfYear(l,f))));var h=[l,this.fromMonthOfYear(l,f),u];return this._validateLevel--,h}catch(w){throw this._validateLevel--,w}},_correctAdd:function(r,t,s,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],l=s<0?-1:1;t=this._add(r,s*u[0]+l*u[1],u[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,s){this._validate(r,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate);var n=s==="y"?t:r.year(),u=s==="m"?t:r.month(),l=s==="d"?t:r.day();return(s==="y"||s==="m")&&(l=Math.min(l,this.daysInMonth(n,u))),r.date(n,u,l)},isValid:function(r,t,s){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var u=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(u)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(u)}return this._validateLevel--,n},toJSDate:function(r,t,s){var n=this._validate(r,t,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);return y.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(y.instance().fromJSDate(r).toJD())},_validate:function(r,t,s,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,s))throw n.replace(/\{0\}/,this.local.name);var u=this.newDate(r,t,s);return this._validateLevel--,u}catch(l){throw this._validateLevel--,l}}});function c(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}c.prototype=new C,x(c.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var t=this._validate(s,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),s=t.year()+(t.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(r,t,s){var n=this.newDate(r,t,s);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var s=this._validate(r,t,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(r,t,s){return(this.dayOfWeek(r,t,s)||7)<6},toJD:function(r,t,s){var n=this._validate(r,t,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),s=n.day(),r<0&&r++,t<3&&(t+=12,r--);var u=Math.floor(r/100),l=2-u+Math.floor(u/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+s+l-1524.5},fromJD:function(r){var t=Math.floor(r+.5),s=Math.floor((t-186721625e-2)/36524.25);s=t+1+s-Math.floor(s/4);var n=s+1524,u=Math.floor((n-122.1)/365.25),l=Math.floor(365.25*u),f=Math.floor((n-l)/30.6001),g=n-l-Math.floor(f*30.6001),h=f-(f>13.5?13:1),w=u-(h>2.5?4716:4715);return w<=0&&w--,this.newDate(w,h,g)},toJSDate:function(r,t,s){var n=this._validate(r,t,s,y.local.invalidDate||y.regionalOptions[""].invalidDate),u=new Date(n.year(),n.month()-1,n.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var y=V.exports=new P;y.cdate=i,y.baseCalendar=C,y.calendars.gregorian=c},15168:function(V,U,e){var x=e(50896),P=e(38700);x(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],x(P.cdate.prototype,{formatDate:function(i,L){return typeof i!="string"&&(L=i,i=""),this._calendar.formatDate(i||"",this,L)}}),x(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,L,C){if(typeof i!="string"&&(C=L,L=i,i=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,C=C||{};for(var c=C.dayNamesShort||this.local.dayNamesShort,y=C.dayNames||this.local.dayNames,r=C.monthNumbers||this.local.monthNumbers,t=C.monthNamesShort||this.local.monthNamesShort,s=C.monthNames||this.local.monthNames,n=C.calculateWeek||this.local.calculateWeek,u=function(M,m){for(var S=1;b+S<i.length&&i.charAt(b+S)===M;)S++;return b+=S-1,Math.floor(S/(m||1))>1},l=function(M,m,S,T){var a=""+m;if(u(M,T))for(;a.length<S;)a="0"+a;return a},f=function(M,m,S,T){return u(M)?T[m]:S[m]},g=this,h=function(M){return typeof r=="function"?r.call(g,M,u("m")):o(l("m",M.month(),2))},w=function(M,m){return m?typeof s=="function"?s.call(g,M):s[M.month()-g.minMonth]:typeof t=="function"?t.call(g,M):t[M.month()-g.minMonth]},d=this.local.digits,o=function(M){return C.localNumbers&&d?d(M):M},v="",A=!1,b=0;b<i.length;b++)if(A)i.charAt(b)==="'"&&!u("'")?A=!1:v+=i.charAt(b);else switch(i.charAt(b)){case"d":v+=o(l("d",L.day(),2));break;case"D":v+=f("D",L.dayOfWeek(),c,y);break;case"o":v+=l("o",L.dayOfYear(),3);break;case"w":v+=l("w",L.weekOfYear(),2);break;case"m":v+=h(L);break;case"M":v+=w(L,u("M"));break;case"y":v+=u("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":u("Y",2),v+=L.formatYear();break;case"J":v+=L.toJD();break;case"@":v+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":v+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?v+="'":A=!0;break;default:v+=i.charAt(b)}return v},parseDate:function(i,L,C){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;i=i||this.local.dateFormat,C=C||{};var c=C.shortYearCutoff||this.shortYearCutoff;c=typeof c!="string"?c:this.today().year()%100+parseInt(c,10);for(var y=C.dayNamesShort||this.local.dayNamesShort,r=C.dayNames||this.local.dayNames,t=C.parseMonth||this.local.parseMonth,s=C.monthNumbers||this.local.monthNumbers,n=C.monthNamesShort||this.local.monthNamesShort,u=C.monthNames||this.local.monthNames,l=-1,f=-1,g=-1,h=-1,w=-1,d=!1,o=!1,v=function(R,B){for(var F=1;E+F<i.length&&i.charAt(E+F)===R;)F++;return E+=F-1,Math.floor(F/(B||1))>1},A=function(R,B){var F=v(R,B),_=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],O=new RegExp("^-?\\d{1,"+_+"}"),z=L.substring(a).match(O);if(!z)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,a);return a+=z[0].length,parseInt(z[0],10)},b=this,M=function(){if(typeof s=="function"){v("m");var R=s.call(b,L.substring(a));return a+=R.length,R}return A("m")},m=function(R,B,F,_){for(var O=v(R,_)?F:B,z=0;z<O.length;z++)if(L.substr(a,O[z].length).toLowerCase()===O[z].toLowerCase())return a+=O[z].length,z+b.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,a)},S=function(){if(typeof u=="function"){var R=v("M")?u.call(b,L.substring(a)):n.call(b,L.substring(a));return a+=R.length,R}return m("M",n,u)},T=function(){if(L.charAt(a)!==i.charAt(E))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,a);a++},a=0,E=0;E<i.length;E++)if(o)i.charAt(E)==="'"&&!v("'")?o=!1:T();else switch(i.charAt(E)){case"d":h=A("d");break;case"D":m("D",y,r);break;case"o":w=A("o");break;case"w":A("w");break;case"m":g=M();break;case"M":g=S();break;case"y":var p=E;d=!v("y",2),E=p,f=A("y",2);break;case"Y":f=A("Y",2);break;case"J":l=A("J")+.5,L.charAt(a)==="."&&(a++,A("J"));break;case"@":l=A("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=A("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":a=L.length;break;case"'":v("'")?T():o=!0;break;default:T()}if(a<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(f===-1?f=this.today().year():f<100&&d&&(f+=c===-1?1900:this.today().year()-this.today().year()%100-(f<=c?0:100)),typeof g=="string"&&(g=t.call(this,f,g)),w>-1){g=1,h=w;for(var k=this.daysInMonth(f,g);h>k;k=this.daysInMonth(f,g))g++,h-=k}return l>-1?this.fromJD(l):this.newDate(f,g,h)},determineDate:function(i,L,C,c,y){C&&typeof C!="object"&&(y=c,c=C,C=null),typeof c!="string"&&(y=c,c="");var r=this,t=function(s){try{return r.parseDate(c,s,y)}catch(f){}s=s.toLowerCase();for(var n=(s.match(/^c/)&&C?C.newDate():null)||r.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=u.exec(s);l;)n.add(parseInt(l[1],10),l[2]||"d"),l=u.exec(s);return n};return L=L?L.newDate():null,i=i==null?L:typeof i=="string"?t(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?L:r.today().add(i,"d"):r.newDate(i),i}})},21576:function(){},19768:function(){},63436:function(V,U,e){"use strict";var x=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis=="undefined"?e.g:globalThis;V.exports=function(){for(var L=[],C=0;C<x.length;C++)typeof P[x[C]]=="function"&&(L[L.length]=x[C]);return L}},67756:function(V,U,e){"use strict";e.d(U,{qy:function(){return yt},Gz:function(){return be}});function x(He,Fe,nt){He.prototype=Fe.prototype=nt,nt.constructor=He}function P(He,Fe){var nt=Object.create(He.prototype);for(var ot in Fe)nt[ot]=Fe[ot];return nt}function i(){}var L=.7,C=1/L,c="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(c,",").concat(c,",").concat(c,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),u=new RegExp("^rgba\\(".concat(c,",").concat(c,",").concat(c,",").concat(y,"\\)$")),l=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(y,"\\)$")),f=new RegExp("^hsl\\(".concat(y,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(y,",").concat(r,",").concat(r,",").concat(y,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x(i,A,{copy:function(Fe){return Object.assign(new this.constructor,this,Fe)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:d,formatHsl:o,formatRgb:v,toString:v});function w(){return this.rgb().formatHex()}function d(){return this.rgb().formatHex8()}function o(){return _(this).formatHsl()}function v(){return this.rgb().formatRgb()}function A(He){var Fe,nt;return He=(He+"").trim().toLowerCase(),(Fe=t.exec(He))?(nt=Fe[1].length,Fe=parseInt(Fe[1],16),nt===6?b(Fe):nt===3?new T(Fe>>8&15|Fe>>4&240,Fe>>4&15|Fe&240,(Fe&15)<<4|Fe&15,1):nt===8?M(Fe>>24&255,Fe>>16&255,Fe>>8&255,(Fe&255)/255):nt===4?M(Fe>>12&15|Fe>>8&240,Fe>>8&15|Fe>>4&240,Fe>>4&15|Fe&240,((Fe&15)<<4|Fe&15)/255):null):(Fe=s.exec(He))?new T(Fe[1],Fe[2],Fe[3],1):(Fe=n.exec(He))?new T(Fe[1]*255/100,Fe[2]*255/100,Fe[3]*255/100,1):(Fe=u.exec(He))?M(Fe[1],Fe[2],Fe[3],Fe[4]):(Fe=l.exec(He))?M(Fe[1]*255/100,Fe[2]*255/100,Fe[3]*255/100,Fe[4]):(Fe=f.exec(He))?F(Fe[1],Fe[2]/100,Fe[3]/100,1):(Fe=g.exec(He))?F(Fe[1],Fe[2]/100,Fe[3]/100,Fe[4]):h.hasOwnProperty(He)?b(h[He]):He==="transparent"?new T(NaN,NaN,NaN,0):null}function b(He){return new T(He>>16&255,He>>8&255,He&255,1)}function M(He,Fe,nt,ot){return ot<=0&&(He=Fe=nt=NaN),new T(He,Fe,nt,ot)}function m(He){return He instanceof i||(He=A(He)),He?(He=He.rgb(),new T(He.r,He.g,He.b,He.opacity)):new T}function S(He,Fe,nt,ot){return arguments.length===1?m(He):new T(He,Fe,nt,ot==null?1:ot)}function T(He,Fe,nt,ot){this.r=+He,this.g=+Fe,this.b=+nt,this.opacity=+ot}x(T,S,P(i,{brighter:function(Fe){return Fe=Fe==null?C:Math.pow(C,Fe),new T(this.r*Fe,this.g*Fe,this.b*Fe,this.opacity)},darker:function(Fe){return Fe=Fe==null?L:Math.pow(L,Fe),new T(this.r*Fe,this.g*Fe,this.b*Fe,this.opacity)},rgb:function(){return this},clamp:function(){return new T(R(this.r),R(this.g),R(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a,formatHex:a,formatHex8:E,formatRgb:p,toString:p}));function a(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b))}function E(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b)).concat(B((isNaN(this.opacity)?1:this.opacity)*255))}function p(){var He=k(this.opacity);return"".concat(He===1?"rgb(":"rgba(").concat(R(this.r),", ").concat(R(this.g),", ").concat(R(this.b)).concat(He===1?")":", ".concat(He,")"))}function k(He){return isNaN(He)?1:Math.max(0,Math.min(1,He))}function R(He){return Math.max(0,Math.min(255,Math.round(He)||0))}function B(He){return He=R(He),(He<16?"0":"")+He.toString(16)}function F(He,Fe,nt,ot){return ot<=0?He=Fe=nt=NaN:nt<=0||nt>=1?He=Fe=NaN:Fe<=0&&(He=NaN),new z(He,Fe,nt,ot)}function _(He){if(He instanceof z)return new z(He.h,He.s,He.l,He.opacity);if(He instanceof i||(He=A(He)),!He)return new z;if(He instanceof z)return He;He=He.rgb();var Fe=He.r/255,nt=He.g/255,ot=He.b/255,ct=Math.min(Fe,nt,ot),ht=Math.max(Fe,nt,ot),mt=NaN,tt=ht-ct,Re=(ht+ct)/2;return tt?(Fe===ht?mt=(nt-ot)/tt+(nt<ot)*6:nt===ht?mt=(ot-Fe)/tt+2:mt=(Fe-nt)/tt+4,tt/=Re<.5?ht+ct:2-ht-ct,mt*=60):tt=Re>0&&Re<1?0:mt,new z(mt,tt,Re,He.opacity)}function O(He,Fe,nt,ot){return arguments.length===1?_(He):new z(He,Fe,nt,ot==null?1:ot)}function z(He,Fe,nt,ot){this.h=+He,this.s=+Fe,this.l=+nt,this.opacity=+ot}x(z,O,P(i,{brighter:function(Fe){return Fe=Fe==null?C:Math.pow(C,Fe),new z(this.h,this.s,this.l*Fe,this.opacity)},darker:function(Fe){return Fe=Fe==null?L:Math.pow(L,Fe),new z(this.h,this.s,this.l*Fe,this.opacity)},rgb:function(){var Fe=this.h%360+(this.h<0)*360,nt=isNaN(Fe)||isNaN(this.s)?0:this.s,ot=this.l,ct=ot+(ot<.5?ot:1-ot)*nt,ht=2*ot-ct;return new T(J(Fe>=240?Fe-240:Fe+120,ht,ct),J(Fe,ht,ct),J(Fe<120?Fe+240:Fe-120,ht,ct),this.opacity)},clamp:function(){return new z(N(this.h),Y(this.s),Y(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Fe=k(this.opacity);return"".concat(Fe===1?"hsl(":"hsla(").concat(N(this.h),", ").concat(Y(this.s)*100,"%, ").concat(Y(this.l)*100,"%").concat(Fe===1?")":", ".concat(Fe,")"))}}));function N(He){return He=(He||0)%360,He<0?He+360:He}function Y(He){return Math.max(0,Math.min(1,He||0))}function J(He,Fe,nt){return(He<60?Fe+(nt-Fe)*He/60:He<180?nt:He<240?Fe+(nt-Fe)*(240-He)/60:Fe)*255}function ae(He,Fe,nt,ot,ct){var ht=He*He,mt=ht*He;return((1-3*He+3*ht-mt)*Fe+(4-6*ht+3*mt)*nt+(1+3*He+3*ht-3*mt)*ot+mt*ct)/6}function se(He){var Fe=He.length-1;return function(nt){var ot=nt<=0?nt=0:nt>=1?(nt=1,Fe-1):Math.floor(nt*Fe),ct=He[ot],ht=He[ot+1],mt=ot>0?He[ot-1]:2*ct-ht,tt=ot<Fe-1?He[ot+2]:2*ht-ct;return ae((nt-ot/Fe)*Fe,mt,ct,ht,tt)}}function ue(He){var Fe=He.length;return function(nt){var ot=Math.floor(((nt%=1)<0?++nt:nt)*Fe),ct=He[(ot+Fe-1)%Fe],ht=He[ot%Fe],mt=He[(ot+1)%Fe],tt=He[(ot+2)%Fe];return ae((nt-ot/Fe)*Fe,ct,ht,mt,tt)}}var K=function(He){return function(){return He}};function j(He,Fe){return function(nt){return He+nt*Fe}}function ie(He,Fe,nt){return He=Math.pow(He,nt),Fe=Math.pow(Fe,nt)-He,nt=1/nt,function(ot){return Math.pow(He+ot*Fe,nt)}}function W(He,Fe){var nt=Fe-He;return nt?j(He,nt>180||nt<-180?nt-360*Math.round(nt/360):nt):constant(isNaN(He)?Fe:He)}function Q(He){return(He=+He)==1?ee:function(Fe,nt){return nt-Fe?ie(Fe,nt,He):K(isNaN(Fe)?nt:Fe)}}function ee(He,Fe){var nt=Fe-He;return nt?j(He,nt):K(isNaN(He)?Fe:He)}var $=function He(Fe){var nt=Q(Fe);function ot(ct,ht){var mt=nt((ct=S(ct)).r,(ht=S(ht)).r),tt=nt(ct.g,ht.g),Re=nt(ct.b,ht.b),Ge=ee(ct.opacity,ht.opacity);return function(Je){return ct.r=mt(Je),ct.g=tt(Je),ct.b=Re(Je),ct.opacity=Ge(Je),ct+""}}return ot.gamma=He,ot}(1);function X(He){return function(Fe){var nt=Fe.length,ot=new Array(nt),ct=new Array(nt),ht=new Array(nt),mt,tt;for(mt=0;mt<nt;++mt)tt=S(Fe[mt]),ot[mt]=tt.r||0,ct[mt]=tt.g||0,ht[mt]=tt.b||0;return ot=He(ot),ct=He(ct),ht=He(ht),tt.opacity=1,function(Re){return tt.r=ot(Re),tt.g=ct(Re),tt.b=ht(Re),tt+""}}}var oe=X(se),te=X(ue);function fe(He,Fe){return(isNumberArray(Fe)?numberArray:pe)(He,Fe)}function pe(He,Fe){var nt=Fe?Fe.length:0,ot=He?Math.min(nt,He.length):0,ct=new Array(ot),ht=new Array(nt),mt;for(mt=0;mt<ot;++mt)ct[mt]=yt(He[mt],Fe[mt]);for(;mt<nt;++mt)ht[mt]=Fe[mt];return function(tt){for(mt=0;mt<ot;++mt)ht[mt]=ct[mt](tt);return ht}}function Ae(He,Fe){var nt=new Date;return He=+He,Fe=+Fe,function(ot){return nt.setTime(He*(1-ot)+Fe*ot),nt}}function be(He,Fe){return He=+He,Fe=+Fe,function(nt){return He*(1-nt)+Fe*nt}}function Pe(He){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},Pe(He)}function me(He,Fe){var nt={},ot={},ct;(He===null||Pe(He)!=="object")&&(He={}),(Fe===null||Pe(Fe)!=="object")&&(Fe={});for(ct in Fe)ct in He?nt[ct]=yt(He[ct],Fe[ct]):ot[ct]=Fe[ct];return function(ht){for(ct in nt)ot[ct]=nt[ct](ht);return ot}}var Ee=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xe=new RegExp(Ee.source,"g");function De(He){return function(){return He}}function Ve(He){return function(Fe){return He(Fe)+""}}function Ze(He,Fe){var nt=Ee.lastIndex=xe.lastIndex=0,ot,ct,ht,mt=-1,tt=[],Re=[];for(He=He+"",Fe=Fe+"";(ot=Ee.exec(He))&&(ct=xe.exec(Fe));)(ht=ct.index)>nt&&(ht=Fe.slice(nt,ht),tt[mt]?tt[mt]+=ht:tt[++mt]=ht),(ot=ot[0])===(ct=ct[0])?tt[mt]?tt[mt]+=ct:tt[++mt]=ct:(tt[++mt]=null,Re.push({i:mt,x:be(ot,ct)})),nt=xe.lastIndex;return nt<Fe.length&&(ht=Fe.slice(nt),tt[mt]?tt[mt]+=ht:tt[++mt]=ht),tt.length<2?Re[0]?Ve(Re[0].x):De(Fe):(Fe=Re.length,function(Ge){for(var Je=0,Xe;Je<Fe;++Je)tt[(Xe=Re[Je]).i]=Xe.x(Ge);return tt.join("")})}function ke(He,Fe){Fe||(Fe=[]);var nt=He?Math.min(Fe.length,He.length):0,ot=Fe.slice(),ct;return function(ht){for(ct=0;ct<nt;++ct)ot[ct]=He[ct]*(1-ht)+Fe[ct]*ht;return ot}}function Ye(He){return ArrayBuffer.isView(He)&&!(He instanceof DataView)}function lt(He){"@babel/helpers - typeof";return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},lt(He)}function yt(He,Fe){var nt=lt(Fe),ot;return Fe==null||nt==="boolean"?K(Fe):(nt==="number"?be:nt==="string"?(ot=A(Fe))?(Fe=ot,$):Ze:Fe instanceof A?$:Fe instanceof Date?Ae:Ye(Fe)?ke:Array.isArray(Fe)?pe:typeof Fe.valueOf!="function"&&typeof Fe.toString!="function"||isNaN(Fe)?me:be)(He,Fe)}},30584:function(V){"use strict";V.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(V){"use strict";V.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(V){"use strict";V.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(V){"use strict";V.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(V){"use strict";V.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(V){"use strict";V.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},re={};function ge(V){var U=re[V];if(U!==void 0)return U.exports;var e=re[V]={exports:{}};return G[V].call(e.exports,e,e.exports,ge),e.exports}(function(){ge.n=function(V){var U=V&&V.__esModule?function(){return V.default}:function(){return V};return ge.d(U,{a:U}),U}})(),function(){ge.d=function(V,U){for(var e in U)ge.o(U,e)&&!ge.o(V,e)&&Object.defineProperty(V,e,{enumerable:!0,get:U[e]})}}(),function(){ge.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(V){if(typeof window=="object")return window}}()}(),function(){ge.o=function(V,U){return Object.prototype.hasOwnProperty.call(V,U)}}(),function(){ge.r=function(V){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})}}();var Be=ge(13792);return Be}()})});var Gx=Os(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});O0.default=void 0;var i5=Hx(Ux()),o5=Hx(Vx());function Hx(G){return G&&G.__esModule?G:{default:G}}var s5=(0,i5.default)(o5.default),l5=s5;O0.default=l5});var a2=Os(Hi=>{"use strict";function Yg(G,re){var ge=G.length;G.push(re);e:for(;0<ge;){var Be=ge-1>>>1,V=G[Be];if(0<B0(V,re))G[Be]=re,G[ge]=V,ge=Be;else break e}}function Iu(G){return G.length===0?null:G[0]}function U0(G){if(G.length===0)return null;var re=G[0],ge=G.pop();if(ge!==re){G[0]=ge;e:for(var Be=0,V=G.length,U=V>>>1;Be<U;){var e=2*(Be+1)-1,x=G[e],P=e+1,i=G[P];if(0>B0(x,ge))P<V&&0>B0(i,x)?(G[Be]=i,G[P]=ge,Be=P):(G[Be]=x,G[e]=ge,Be=e);else if(P<V&&0>B0(i,ge))G[Be]=i,G[P]=ge,Be=P;else break e}}return re}function B0(G,re){var ge=G.sortIndex-re.sortIndex;return ge!==0?ge:G.id-re.id}typeof performance=="object"&&typeof performance.now=="function"?(Kx=performance,Hi.unstable_now=function(){return Kx.now()}):(Hg=Date,Jx=Hg.now(),Hi.unstable_now=function(){return Hg.now()-Jx});var Kx,Hg,Jx,sf=[],Rc=[],c5=1,Ql=null,ms=3,V0=!1,Mh=!1,hd=!1,qx=typeof setTimeout=="function"?setTimeout:null,e2=typeof clearTimeout=="function"?clearTimeout:null,Qx=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Xg(G){for(var re=Iu(Rc);re!==null;){if(re.callback===null)U0(Rc);else if(re.startTime<=G)U0(Rc),re.sortIndex=re.expirationTime,Yg(sf,re);else break;re=Iu(Rc)}}function Zg(G){if(hd=!1,Xg(G),!Mh)if(Iu(sf)!==null)Mh=!0,Kg(jg);else{var re=Iu(Rc);re!==null&&Jg(Zg,re.startTime-G)}}function jg(G,re){Mh=!1,hd&&(hd=!1,e2(vd),vd=-1),V0=!0;var ge=ms;try{for(Xg(re),Ql=Iu(sf);Ql!==null&&(!(Ql.expirationTime>re)||G&&!n2());){var Be=Ql.callback;if(typeof Be=="function"){Ql.callback=null,ms=Ql.priorityLevel;var V=Be(Ql.expirationTime<=re);re=Hi.unstable_now(),typeof V=="function"?Ql.callback=V:Ql===Iu(sf)&&U0(sf),Xg(re)}else U0(sf);Ql=Iu(sf)}if(Ql!==null)var U=!0;else{var e=Iu(Rc);e!==null&&Jg(Zg,e.startTime-re),U=!1}return U}finally{Ql=null,ms=ge,V0=!1}}var H0=!1,N0=null,vd=-1,t2=5,r2=-1;function n2(){return!(Hi.unstable_now()-r2<t2)}function Gg(){if(N0!==null){var G=Hi.unstable_now();r2=G;var re=!0;try{re=N0(!0,G)}finally{re?cd():(H0=!1,N0=null)}}else H0=!1}var cd;typeof Qx=="function"?cd=function(){Qx(Gg)}:typeof MessageChannel!="undefined"?(Wg=new MessageChannel,$x=Wg.port2,Wg.port1.onmessage=Gg,cd=function(){$x.postMessage(null)}):cd=function(){qx(Gg,0)};var Wg,$x;function Kg(G){N0=G,H0||(H0=!0,cd())}function Jg(G,re){vd=qx(function(){G(Hi.unstable_now())},re)}Hi.unstable_IdlePriority=5;Hi.unstable_ImmediatePriority=1;Hi.unstable_LowPriority=4;Hi.unstable_NormalPriority=3;Hi.unstable_Profiling=null;Hi.unstable_UserBlockingPriority=2;Hi.unstable_cancelCallback=function(G){G.callback=null};Hi.unstable_continueExecution=function(){Mh||V0||(Mh=!0,Kg(jg))};Hi.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):t2=0<G?Math.floor(1e3/G):5};Hi.unstable_getCurrentPriorityLevel=function(){return ms};Hi.unstable_getFirstCallbackNode=function(){return Iu(sf)};Hi.unstable_next=function(G){switch(ms){case 1:case 2:case 3:var re=3;break;default:re=ms}var ge=ms;ms=re;try{return G()}finally{ms=ge}};Hi.unstable_pauseExecution=function(){};Hi.unstable_requestPaint=function(){};Hi.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ge=ms;ms=G;try{return re()}finally{ms=ge}};Hi.unstable_scheduleCallback=function(G,re,ge){var Be=Hi.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ge+V,G={id:c5++,callback:re,priorityLevel:G,startTime:ge,expirationTime:V,sortIndex:-1},ge>Be?(G.sortIndex=ge,Yg(Rc,G),Iu(sf)===null&&G===Iu(Rc)&&(hd?(e2(vd),vd=-1):hd=!0,Jg(Zg,ge-Be))):(G.sortIndex=V,Yg(sf,G),Mh||V0||(Mh=!0,Kg(jg))),G};Hi.unstable_shouldYield=n2;Hi.unstable_wrapCallback=function(G){var re=ms;return function(){var ge=ms;ms=re;try{return G.apply(this,arguments)}finally{ms=ge}}}});var o2=Os((HM,i2)=>{"use strict";i2.exports=a2()});var hw=Os(Cl=>{"use strict";var v3=hv(),Sl=o2();function va(G){for(var re="https://reactjs.org/docs/error-decoder.html?invariant="+G,ge=1;ge<arguments.length;ge++)re+="&args[]="+encodeURIComponent(arguments[ge]);return"Minified React error #"+G+"; visit "+re+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d3=new Set,_d={};function Oh(G,re){kv(G,re),kv(G+"Capture",re)}function kv(G,re){for(_d[G]=re,G=0;G<re.length;G++)d3.add(re[G])}var Xf=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),xy=Object.prototype.hasOwnProperty,h5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s2={},l2={};function v5(G){return xy.call(l2,G)?!0:xy.call(s2,G)?!1:h5.test(G)?l2[G]=!0:(s2[G]=!0,!1)}function d5(G,re,ge,Be){if(ge!==null&&ge.type===0)return!1;switch(typeof re){case"function":case"symbol":return!0;case"boolean":return Be?!1:ge!==null?!ge.acceptsBooleans:(G=G.toLowerCase().slice(0,5),G!=="data-"&&G!=="aria-");default:return!1}}function p5(G,re,ge,Be){if(re===null||typeof re=="undefined"||d5(G,re,ge,Be))return!0;if(Be)return!1;if(ge!==null)switch(ge.type){case 3:return!re;case 4:return re===!1;case 5:return isNaN(re);case 6:return isNaN(re)||1>re}return!1}function Hs(G,re,ge,Be,V,U,e){this.acceptsBooleans=re===2||re===3||re===4,this.attributeName=Be,this.attributeNamespace=V,this.mustUseProperty=ge,this.propertyName=G,this.type=re,this.sanitizeURL=U,this.removeEmptyString=e}var as={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(G){as[G]=new Hs(G,0,!1,G,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(G){var re=G[0];as[re]=new Hs(re,1,!1,G[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(G){as[G]=new Hs(G,2,!1,G.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(G){as[G]=new Hs(G,2,!1,G,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(G){as[G]=new Hs(G,3,!1,G.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(G){as[G]=new Hs(G,3,!0,G,null,!1,!1)});["capture","download"].forEach(function(G){as[G]=new Hs(G,4,!1,G,null,!1,!1)});["cols","rows","size","span"].forEach(function(G){as[G]=new Hs(G,6,!1,G,null,!1,!1)});["rowSpan","start"].forEach(function(G){as[G]=new Hs(G,5,!1,G.toLowerCase(),null,!1,!1)});var cm=/[\-:]([a-z])/g;function hm(G){return G[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(G){var re=G.replace(cm,hm);as[re]=new Hs(re,1,!1,G,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(G){var re=G.replace(cm,hm);as[re]=new Hs(re,1,!1,G,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(G){var re=G.replace(cm,hm);as[re]=new Hs(re,1,!1,G,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(G){as[G]=new Hs(G,1,!1,G.toLowerCase(),null,!1,!1)});as.xlinkHref=new Hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(G){as[G]=new Hs(G,1,!1,G.toLowerCase(),null,!0,!0)});function vm(G,re,ge,Be){var V=as.hasOwnProperty(re)?as[re]:null;(V!==null?V.type!==0:Be||!(2<re.length)||re[0]!=="o"&&re[0]!=="O"||re[1]!=="n"&&re[1]!=="N")&&(p5(re,ge,V,Be)&&(ge=null),Be||V===null?v5(re)&&(ge===null?G.removeAttribute(re):G.setAttribute(re,""+ge)):V.mustUseProperty?G[V.propertyName]=ge===null?V.type===3?!1:"":ge:(re=V.attributeName,Be=V.attributeNamespace,ge===null?G.removeAttribute(re):(V=V.type,ge=V===3||V===4&&ge===!0?"":""+ge,Be?G.setAttributeNS(Be,re,ge):G.setAttribute(re,ge))))}var Jf=v3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G0=Symbol.for("react.element"),pv=Symbol.for("react.portal"),gv=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),p3=Symbol.for("react.provider"),g3=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),wy=Symbol.for("react.suspense"),Ty=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Ic=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var y3=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var u2=Symbol.iterator;function dd(G){return G===null||typeof G!="object"?null:(G=u2&&G[u2]||G["@@iterator"],typeof G=="function"?G:null)}var oo=Object.assign,Qg;function Td(G){if(Qg===void 0)try{throw Error()}catch(ge){var re=ge.stack.trim().match(/\n( *(at )?)/);Qg=re&&re[1]||""}return`
`+Qg+G}var $g=!1;function qg(G,re){if(!G||$g)return"";$g=!0;var ge=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(re)if(re=function(){throw Error()},Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(i){var Be=i}Reflect.construct(G,[],re)}else{try{re.call()}catch(i){Be=i}G.call(re.prototype)}else{try{throw Error()}catch(i){Be=i}G()}}catch(i){if(i&&Be&&typeof i.stack=="string"){for(var V=i.stack.split(`
`),U=Be.stack.split(`
`),e=V.length-1,x=U.length-1;1<=e&&0<=x&&V[e]!==U[x];)x--;for(;1<=e&&0<=x;e--,x--)if(V[e]!==U[x]){if(e!==1||x!==1)do if(e--,x--,0>x||V[e]!==U[x]){var P=`
`+V[e].replace(" at new "," at ");return G.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",G.displayName)),P}while(1<=e&&0<=x);break}}}finally{$g=!1,Error.prepareStackTrace=ge}return(G=G?G.displayName||G.name:"")?Td(G):""}function g5(G){switch(G.tag){case 5:return Td(G.type);case 16:return Td("Lazy");case 13:return Td("Suspense");case 19:return Td("SuspenseList");case 0:case 2:case 15:return G=qg(G.type,!1),G;case 11:return G=qg(G.type.render,!1),G;case 1:return G=qg(G.type,!0),G;default:return""}}function Ay(G){if(G==null)return null;if(typeof G=="function")return G.displayName||G.name||null;if(typeof G=="string")return G;switch(G){case gv:return"Fragment";case pv:return"Portal";case by:return"Profiler";case dm:return"StrictMode";case wy:return"Suspense";case Ty:return"SuspenseList"}if(typeof G=="object")switch(G.$$typeof){case g3:return(G.displayName||"Context")+".Consumer";case p3:return(G._context.displayName||"Context")+".Provider";case pm:var re=G.render;return G=G.displayName,G||(G=re.displayName||re.name||"",G=G!==""?"ForwardRef("+G+")":"ForwardRef"),G;case gm:return re=G.displayName||null,re!==null?re:Ay(G.type)||"Memo";case Ic:re=G._payload,G=G._init;try{return Ay(G(re))}catch(ge){}}return null}function y5(G){var re=G.type;switch(G.tag){case 24:return"Cache";case 9:return(re.displayName||"Context")+".Consumer";case 10:return(re._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return G=re.render,G=G.displayName||G.name||"",re.displayName||(G!==""?"ForwardRef("+G+")":"ForwardRef");case 7:return"Fragment";case 5:return re;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ay(re);case 8:return re===dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof re=="function")return re.displayName||re.name||null;if(typeof re=="string")return re}return null}function Xc(G){switch(typeof G){case"boolean":case"number":case"string":case"undefined":return G;case"object":return G;default:return""}}function m3(G){var re=G.type;return(G=G.nodeName)&&G.toLowerCase()==="input"&&(re==="checkbox"||re==="radio")}function m5(G){var re=m3(G)?"checked":"value",ge=Object.getOwnPropertyDescriptor(G.constructor.prototype,re),Be=""+G[re];if(!G.hasOwnProperty(re)&&typeof ge!="undefined"&&typeof ge.get=="function"&&typeof ge.set=="function"){var V=ge.get,U=ge.set;return Object.defineProperty(G,re,{configurable:!0,get:function(){return V.call(this)},set:function(e){Be=""+e,U.call(this,e)}}),Object.defineProperty(G,re,{enumerable:ge.enumerable}),{getValue:function(){return Be},setValue:function(e){Be=""+e},stopTracking:function(){G._valueTracker=null,delete G[re]}}}}function W0(G){G._valueTracker||(G._valueTracker=m5(G))}function x3(G){if(!G)return!1;var re=G._valueTracker;if(!re)return!0;var ge=re.getValue(),Be="";return G&&(Be=m3(G)?G.checked?"true":"false":G.value),G=Be,G!==ge?(re.setValue(G),!0):!1}function mp(G){if(G=G||(typeof document!="undefined"?document:void 0),typeof G=="undefined")return null;try{return G.activeElement||G.body}catch(re){return G.body}}function My(G,re){var ge=re.checked;return oo({},re,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ge!=null?ge:G._wrapperState.initialChecked})}function f2(G,re){var ge=re.defaultValue==null?"":re.defaultValue,Be=re.checked!=null?re.checked:re.defaultChecked;ge=Xc(re.value!=null?re.value:ge),G._wrapperState={initialChecked:Be,initialValue:ge,controlled:re.type==="checkbox"||re.type==="radio"?re.checked!=null:re.value!=null}}function b3(G,re){re=re.checked,re!=null&&vm(G,"checked",re,!1)}function Sy(G,re){b3(G,re);var ge=Xc(re.value),Be=re.type;if(ge!=null)Be==="number"?(ge===0&&G.value===""||G.value!=ge)&&(G.value=""+ge):G.value!==""+ge&&(G.value=""+ge);else if(Be==="submit"||Be==="reset"){G.removeAttribute("value");return}re.hasOwnProperty("value")?Ey(G,re.type,ge):re.hasOwnProperty("defaultValue")&&Ey(G,re.type,Xc(re.defaultValue)),re.checked==null&&re.defaultChecked!=null&&(G.defaultChecked=!!re.defaultChecked)}function c2(G,re,ge){if(re.hasOwnProperty("value")||re.hasOwnProperty("defaultValue")){var Be=re.type;if(!(Be!=="submit"&&Be!=="reset"||re.value!==void 0&&re.value!==null))return;re=""+G._wrapperState.initialValue,ge||re===G.value||(G.value=re),G.defaultValue=re}ge=G.name,ge!==""&&(G.name=""),G.defaultChecked=!!G._wrapperState.initialChecked,ge!==""&&(G.name=ge)}function Ey(G,re,ge){(re!=="number"||mp(G.ownerDocument)!==G)&&(ge==null?G.defaultValue=""+G._wrapperState.initialValue:G.defaultValue!==""+ge&&(G.defaultValue=""+ge))}var Ad=Array.isArray;function Cv(G,re,ge,Be){if(G=G.options,re){re={};for(var V=0;V<ge.length;V++)re["$"+ge[V]]=!0;for(ge=0;ge<G.length;ge++)V=re.hasOwnProperty("$"+G[ge].value),G[ge].selected!==V&&(G[ge].selected=V),V&&Be&&(G[ge].defaultSelected=!0)}else{for(ge=""+Xc(ge),re=null,V=0;V<G.length;V++){if(G[V].value===ge){G[V].selected=!0,Be&&(G[V].defaultSelected=!0);return}re!==null||G[V].disabled||(re=G[V])}re!==null&&(re.selected=!0)}}function Cy(G,re){if(re.dangerouslySetInnerHTML!=null)throw Error(va(91));return oo({},re,{value:void 0,defaultValue:void 0,children:""+G._wrapperState.initialValue})}function h2(G,re){var ge=re.value;if(ge==null){if(ge=re.children,re=re.defaultValue,ge!=null){if(re!=null)throw Error(va(92));if(Ad(ge)){if(1<ge.length)throw Error(va(93));ge=ge[0]}re=ge}re==null&&(re=""),ge=re}G._wrapperState={initialValue:Xc(ge)}}function w3(G,re){var ge=Xc(re.value),Be=Xc(re.defaultValue);ge!=null&&(ge=""+ge,ge!==G.value&&(G.value=ge),re.defaultValue==null&&G.defaultValue!==ge&&(G.defaultValue=ge)),Be!=null&&(G.defaultValue=""+Be)}function v2(G){var re=G.textContent;re===G._wrapperState.initialValue&&re!==""&&re!==null&&(G.value=re)}function T3(G){switch(G){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ly(G,re){return G==null||G==="http://www.w3.org/1999/xhtml"?T3(re):G==="http://www.w3.org/2000/svg"&&re==="foreignObject"?"http://www.w3.org/1999/xhtml":G}var Y0,A3=function(G){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(re,ge,Be,V){MSApp.execUnsafeLocalFunction(function(){return G(re,ge,Be,V)})}:G}(function(G,re){if(G.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in G)G.innerHTML=re;else{for(Y0=Y0||document.createElement("div"),Y0.innerHTML="<svg>"+re.valueOf().toString()+"</svg>",re=Y0.firstChild;G.firstChild;)G.removeChild(G.firstChild);for(;re.firstChild;)G.appendChild(re.firstChild)}});function zd(G,re){if(re){var ge=G.firstChild;if(ge&&ge===G.lastChild&&ge.nodeType===3){ge.nodeValue=re;return}}G.textContent=re}var Ed={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x5=["Webkit","ms","Moz","O"];Object.keys(Ed).forEach(function(G){x5.forEach(function(re){re=re+G.charAt(0).toUpperCase()+G.substring(1),Ed[re]=Ed[G]})});function M3(G,re,ge){return re==null||typeof re=="boolean"||re===""?"":ge||typeof re!="number"||re===0||Ed.hasOwnProperty(G)&&Ed[G]?(""+re).trim():re+"px"}function S3(G,re){G=G.style;for(var ge in re)if(re.hasOwnProperty(ge)){var Be=ge.indexOf("--")===0,V=M3(ge,re[ge],Be);ge==="float"&&(ge="cssFloat"),Be?G.setProperty(ge,V):G[ge]=V}}var b5=oo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Py(G,re){if(re){if(b5[G]&&(re.children!=null||re.dangerouslySetInnerHTML!=null))throw Error(va(137,G));if(re.dangerouslySetInnerHTML!=null){if(re.children!=null)throw Error(va(60));if(typeof re.dangerouslySetInnerHTML!="object"||!("__html"in re.dangerouslySetInnerHTML))throw Error(va(61))}if(re.style!=null&&typeof re.style!="object")throw Error(va(62))}}function Ry(G,re){if(G.indexOf("-")===-1)return typeof re.is=="string";switch(G){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dy=null;function ym(G){return G=G.target||G.srcElement||window,G.correspondingUseElement&&(G=G.correspondingUseElement),G.nodeType===3?G.parentNode:G}var Iy=null,Lv=null,Pv=null;function d2(G){if(G=e0(G)){if(typeof Iy!="function")throw Error(va(280));var re=G.stateNode;re&&(re=Xp(re),Iy(G.stateNode,G.type,re))}}function E3(G){Lv?Pv?Pv.push(G):Pv=[G]:Lv=G}function C3(){if(Lv){var G=Lv,re=Pv;if(Pv=Lv=null,d2(G),re)for(G=0;G<re.length;G++)d2(re[G])}}function L3(G,re){return G(re)}function P3(){}var ey=!1;function R3(G,re,ge){if(ey)return G(re,ge);ey=!0;try{return L3(G,re,ge)}finally{ey=!1,(Lv!==null||Pv!==null)&&(P3(),C3())}}function Od(G,re){var ge=G.stateNode;if(ge===null)return null;var Be=Xp(ge);if(Be===null)return null;ge=Be[re];e:switch(re){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Be=!Be.disabled)||(G=G.type,Be=!(G==="button"||G==="input"||G==="select"||G==="textarea")),G=!Be;break e;default:G=!1}if(G)return null;if(ge&&typeof ge!="function")throw Error(va(231,re,typeof ge));return ge}var ky=!1;if(Xf)try{vv={},Object.defineProperty(vv,"passive",{get:function(){ky=!0}}),window.addEventListener("test",vv,vv),window.removeEventListener("test",vv,vv)}catch(G){ky=!1}var vv;function w5(G,re,ge,Be,V,U,e,x,P){var i=Array.prototype.slice.call(arguments,3);try{re.apply(ge,i)}catch(L){this.onError(L)}}var Cd=!1,xp=null,bp=!1,Fy=null,T5={onError:function(G){Cd=!0,xp=G}};function A5(G,re,ge,Be,V,U,e,x,P){Cd=!1,xp=null,w5.apply(T5,arguments)}function M5(G,re,ge,Be,V,U,e,x,P){if(A5.apply(this,arguments),Cd){if(Cd){var i=xp;Cd=!1,xp=null}else throw Error(va(198));bp||(bp=!0,Fy=i)}}function Bh(G){var re=G,ge=G;if(G.alternate)for(;re.return;)re=re.return;else{G=re;do re=G,re.flags&4098&&(ge=re.return),G=re.return;while(G)}return re.tag===3?ge:null}function D3(G){if(G.tag===13){var re=G.memoizedState;if(re===null&&(G=G.alternate,G!==null&&(re=G.memoizedState)),re!==null)return re.dehydrated}return null}function p2(G){if(Bh(G)!==G)throw Error(va(188))}function S5(G){var re=G.alternate;if(!re){if(re=Bh(G),re===null)throw Error(va(188));return re!==G?null:G}for(var ge=G,Be=re;;){var V=ge.return;if(V===null)break;var U=V.alternate;if(U===null){if(Be=V.return,Be!==null){ge=Be;continue}break}if(V.child===U.child){for(U=V.child;U;){if(U===ge)return p2(V),G;if(U===Be)return p2(V),re;U=U.sibling}throw Error(va(188))}if(ge.return!==Be.return)ge=V,Be=U;else{for(var e=!1,x=V.child;x;){if(x===ge){e=!0,ge=V,Be=U;break}if(x===Be){e=!0,Be=V,ge=U;break}x=x.sibling}if(!e){for(x=U.child;x;){if(x===ge){e=!0,ge=U,Be=V;break}if(x===Be){e=!0,Be=U,ge=V;break}x=x.sibling}if(!e)throw Error(va(189))}}if(ge.alternate!==Be)throw Error(va(190))}if(ge.tag!==3)throw Error(va(188));return ge.stateNode.current===ge?G:re}function I3(G){return G=S5(G),G!==null?k3(G):null}function k3(G){if(G.tag===5||G.tag===6)return G;for(G=G.child;G!==null;){var re=k3(G);if(re!==null)return re;G=G.sibling}return null}var F3=Sl.unstable_scheduleCallback,g2=Sl.unstable_cancelCallback,E5=Sl.unstable_shouldYield,C5=Sl.unstable_requestPaint,mo=Sl.unstable_now,L5=Sl.unstable_getCurrentPriorityLevel,mm=Sl.unstable_ImmediatePriority,_3=Sl.unstable_UserBlockingPriority,wp=Sl.unstable_NormalPriority,P5=Sl.unstable_LowPriority,z3=Sl.unstable_IdlePriority,Hp=null,cf=null;function R5(G){if(cf&&typeof cf.onCommitFiberRoot=="function")try{cf.onCommitFiberRoot(Hp,G,void 0,(G.current.flags&128)===128)}catch(re){}}var Ou=Math.clz32?Math.clz32:k5,D5=Math.log,I5=Math.LN2;function k5(G){return G>>>=0,G===0?32:31-(D5(G)/I5|0)|0}var X0=64,Z0=4194304;function Md(G){switch(G&-G){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return G&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return G&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return G}}function Tp(G,re){var ge=G.pendingLanes;if(ge===0)return 0;var Be=0,V=G.suspendedLanes,U=G.pingedLanes,e=ge&268435455;if(e!==0){var x=e&~V;x!==0?Be=Md(x):(U&=e,U!==0&&(Be=Md(U)))}else e=ge&~V,e!==0?Be=Md(e):U!==0&&(Be=Md(U));if(Be===0)return 0;if(re!==0&&re!==Be&&!(re&V)&&(V=Be&-Be,U=re&-re,V>=U||V===16&&(U&4194240)!==0))return re;if(Be&4&&(Be|=ge&16),re=G.entangledLanes,re!==0)for(G=G.entanglements,re&=Be;0<re;)ge=31-Ou(re),V=1<<ge,Be|=G[ge],re&=~V;return Be}function F5(G,re){switch(G){case 1:case 2:case 4:return re+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return re+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _5(G,re){for(var ge=G.suspendedLanes,Be=G.pingedLanes,V=G.expirationTimes,U=G.pendingLanes;0<U;){var e=31-Ou(U),x=1<<e,P=V[e];P===-1?(!(x&ge)||x&Be)&&(V[e]=F5(x,re)):P<=re&&(G.expiredLanes|=x),U&=~x}}function _y(G){return G=G.pendingLanes&-1073741825,G!==0?G:G&1073741824?1073741824:0}function O3(){var G=X0;return X0<<=1,!(X0&4194240)&&(X0=64),G}function ty(G){for(var re=[],ge=0;31>ge;ge++)re.push(G);return re}function $d(G,re,ge){G.pendingLanes|=re,re!==536870912&&(G.suspendedLanes=0,G.pingedLanes=0),G=G.eventTimes,re=31-Ou(re),G[re]=ge}function z5(G,re){var ge=G.pendingLanes&~re;G.pendingLanes=re,G.suspendedLanes=0,G.pingedLanes=0,G.expiredLanes&=re,G.mutableReadLanes&=re,G.entangledLanes&=re,re=G.entanglements;var Be=G.eventTimes;for(G=G.expirationTimes;0<ge;){var V=31-Ou(ge),U=1<<V;re[V]=0,Be[V]=-1,G[V]=-1,ge&=~U}}function xm(G,re){var ge=G.entangledLanes|=re;for(G=G.entanglements;ge;){var Be=31-Ou(ge),V=1<<Be;V&re|G[Be]&re&&(G[Be]|=re),ge&=~V}}var ki=0;function B3(G){return G&=-G,1<G?4<G?G&268435455?16:536870912:4:1}var N3,bm,U3,V3,H3,zy=!1,j0=[],Bc=null,Nc=null,Uc=null,Bd=new Map,Nd=new Map,Fc=[],O5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(G,re){switch(G){case"focusin":case"focusout":Bc=null;break;case"dragenter":case"dragleave":Nc=null;break;case"mouseover":case"mouseout":Uc=null;break;case"pointerover":case"pointerout":Bd.delete(re.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(re.pointerId)}}function pd(G,re,ge,Be,V,U){return G===null||G.nativeEvent!==U?(G={blockedOn:re,domEventName:ge,eventSystemFlags:Be,nativeEvent:U,targetContainers:[V]},re!==null&&(re=e0(re),re!==null&&bm(re)),G):(G.eventSystemFlags|=Be,re=G.targetContainers,V!==null&&re.indexOf(V)===-1&&re.push(V),G)}function B5(G,re,ge,Be,V){switch(re){case"focusin":return Bc=pd(Bc,G,re,ge,Be,V),!0;case"dragenter":return Nc=pd(Nc,G,re,ge,Be,V),!0;case"mouseover":return Uc=pd(Uc,G,re,ge,Be,V),!0;case"pointerover":var U=V.pointerId;return Bd.set(U,pd(Bd.get(U)||null,G,re,ge,Be,V)),!0;case"gotpointercapture":return U=V.pointerId,Nd.set(U,pd(Nd.get(U)||null,G,re,ge,Be,V)),!0}return!1}function G3(G){var re=Ch(G.target);if(re!==null){var ge=Bh(re);if(ge!==null){if(re=ge.tag,re===13){if(re=D3(ge),re!==null){G.blockedOn=re,H3(G.priority,function(){U3(ge)});return}}else if(re===3&&ge.stateNode.current.memoizedState.isDehydrated){G.blockedOn=ge.tag===3?ge.stateNode.containerInfo:null;return}}}G.blockedOn=null}function lp(G){if(G.blockedOn!==null)return!1;for(var re=G.targetContainers;0<re.length;){var ge=Oy(G.domEventName,G.eventSystemFlags,re[0],G.nativeEvent);if(ge===null){ge=G.nativeEvent;var Be=new ge.constructor(ge.type,ge);Dy=Be,ge.target.dispatchEvent(Be),Dy=null}else return re=e0(ge),re!==null&&bm(re),G.blockedOn=ge,!1;re.shift()}return!0}function m2(G,re,ge){lp(G)&&ge.delete(re)}function N5(){zy=!1,Bc!==null&&lp(Bc)&&(Bc=null),Nc!==null&&lp(Nc)&&(Nc=null),Uc!==null&&lp(Uc)&&(Uc=null),Bd.forEach(m2),Nd.forEach(m2)}function gd(G,re){G.blockedOn===re&&(G.blockedOn=null,zy||(zy=!0,Sl.unstable_scheduleCallback(Sl.unstable_NormalPriority,N5)))}function Ud(G){function re(V){return gd(V,G)}if(0<j0.length){gd(j0[0],G);for(var ge=1;ge<j0.length;ge++){var Be=j0[ge];Be.blockedOn===G&&(Be.blockedOn=null)}}for(Bc!==null&&gd(Bc,G),Nc!==null&&gd(Nc,G),Uc!==null&&gd(Uc,G),Bd.forEach(re),Nd.forEach(re),ge=0;ge<Fc.length;ge++)Be=Fc[ge],Be.blockedOn===G&&(Be.blockedOn=null);for(;0<Fc.length&&(ge=Fc[0],ge.blockedOn===null);)G3(ge),ge.blockedOn===null&&Fc.shift()}var Rv=Jf.ReactCurrentBatchConfig,Ap=!0;function U5(G,re,ge,Be){var V=ki,U=Rv.transition;Rv.transition=null;try{ki=1,wm(G,re,ge,Be)}finally{ki=V,Rv.transition=U}}function V5(G,re,ge,Be){var V=ki,U=Rv.transition;Rv.transition=null;try{ki=4,wm(G,re,ge,Be)}finally{ki=V,Rv.transition=U}}function wm(G,re,ge,Be){if(Ap){var V=Oy(G,re,ge,Be);if(V===null)ly(G,re,Be,Mp,ge),y2(G,Be);else if(B5(V,G,re,ge,Be))Be.stopPropagation();else if(y2(G,Be),re&4&&-1<O5.indexOf(G)){for(;V!==null;){var U=e0(V);if(U!==null&&N3(U),U=Oy(G,re,ge,Be),U===null&&ly(G,re,Be,Mp,ge),U===V)break;V=U}V!==null&&Be.stopPropagation()}else ly(G,re,Be,null,ge)}}var Mp=null;function Oy(G,re,ge,Be){if(Mp=null,G=ym(Be),G=Ch(G),G!==null)if(re=Bh(G),re===null)G=null;else if(ge=re.tag,ge===13){if(G=D3(re),G!==null)return G;G=null}else if(ge===3){if(re.stateNode.current.memoizedState.isDehydrated)return re.tag===3?re.stateNode.containerInfo:null;G=null}else re!==G&&(G=null);return Mp=G,null}function W3(G){switch(G){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L5()){case mm:return 1;case _3:return 4;case wp:case P5:return 16;case z3:return 536870912;default:return 16}default:return 16}}var zc=null,Tm=null,up=null;function Y3(){if(up)return up;var G,re=Tm,ge=re.length,Be,V="value"in zc?zc.value:zc.textContent,U=V.length;for(G=0;G<ge&&re[G]===V[G];G++);var e=ge-G;for(Be=1;Be<=e&&re[ge-Be]===V[U-Be];Be++);return up=V.slice(G,1<Be?1-Be:void 0)}function fp(G){var re=G.keyCode;return"charCode"in G?(G=G.charCode,G===0&&re===13&&(G=13)):G=re,G===10&&(G=13),32<=G||G===13?G:0}function K0(){return!0}function x2(){return!1}function El(G){function re(ge,Be,V,U,e){this._reactName=ge,this._targetInst=V,this.type=Be,this.nativeEvent=U,this.target=e,this.currentTarget=null;for(var x in G)G.hasOwnProperty(x)&&(ge=G[x],this[x]=ge?ge(U):U[x]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?K0:x2,this.isPropagationStopped=x2,this}return oo(re.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ge=this.nativeEvent;ge&&(ge.preventDefault?ge.preventDefault():typeof ge.returnValue!="unknown"&&(ge.returnValue=!1),this.isDefaultPrevented=K0)},stopPropagation:function(){var ge=this.nativeEvent;ge&&(ge.stopPropagation?ge.stopPropagation():typeof ge.cancelBubble!="unknown"&&(ge.cancelBubble=!0),this.isPropagationStopped=K0)},persist:function(){},isPersistent:K0}),re}var Uv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(G){return G.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Am=El(Uv),qd=oo({},Uv,{view:0,detail:0}),H5=El(qd),ry,ny,yd,Gp=oo({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(G){return G.relatedTarget===void 0?G.fromElement===G.srcElement?G.toElement:G.fromElement:G.relatedTarget},movementX:function(G){return"movementX"in G?G.movementX:(G!==yd&&(yd&&G.type==="mousemove"?(ry=G.screenX-yd.screenX,ny=G.screenY-yd.screenY):ny=ry=0,yd=G),ry)},movementY:function(G){return"movementY"in G?G.movementY:ny}}),b2=El(Gp),G5=oo({},Gp,{dataTransfer:0}),W5=El(G5),Y5=oo({},qd,{relatedTarget:0}),ay=El(Y5),X5=oo({},Uv,{animationName:0,elapsedTime:0,pseudoElement:0}),Z5=El(X5),j5=oo({},Uv,{clipboardData:function(G){return"clipboardData"in G?G.clipboardData:window.clipboardData}}),K5=El(j5),J5=oo({},Uv,{data:0}),w2=El(J5),Q5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e6(G){var re=this.nativeEvent;return re.getModifierState?re.getModifierState(G):(G=q5[G])?!!re[G]:!1}function Mm(){return e6}var t6=oo({},qd,{key:function(G){if(G.key){var re=Q5[G.key]||G.key;if(re!=="Unidentified")return re}return G.type==="keypress"?(G=fp(G),G===13?"Enter":String.fromCharCode(G)):G.type==="keydown"||G.type==="keyup"?$5[G.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(G){return G.type==="keypress"?fp(G):0},keyCode:function(G){return G.type==="keydown"||G.type==="keyup"?G.keyCode:0},which:function(G){return G.type==="keypress"?fp(G):G.type==="keydown"||G.type==="keyup"?G.keyCode:0}}),r6=El(t6),n6=oo({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T2=El(n6),a6=oo({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),i6=El(a6),o6=oo({},Uv,{propertyName:0,elapsedTime:0,pseudoElement:0}),s6=El(o6),l6=oo({},Gp,{deltaX:function(G){return"deltaX"in G?G.deltaX:"wheelDeltaX"in G?-G.wheelDeltaX:0},deltaY:function(G){return"deltaY"in G?G.deltaY:"wheelDeltaY"in G?-G.wheelDeltaY:"wheelDelta"in G?-G.wheelDelta:0},deltaZ:0,deltaMode:0}),u6=El(l6),f6=[9,13,27,32],Sm=Xf&&"CompositionEvent"in window,Ld=null;Xf&&"documentMode"in document&&(Ld=document.documentMode);var c6=Xf&&"TextEvent"in window&&!Ld,X3=Xf&&(!Sm||Ld&&8<Ld&&11>=Ld),A2=" ",M2=!1;function Z3(G,re){switch(G){case"keyup":return f6.indexOf(re.keyCode)!==-1;case"keydown":return re.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j3(G){return G=G.detail,typeof G=="object"&&"data"in G?G.data:null}var yv=!1;function h6(G,re){switch(G){case"compositionend":return j3(re);case"keypress":return re.which!==32?null:(M2=!0,A2);case"textInput":return G=re.data,G===A2&&M2?null:G;default:return null}}function v6(G,re){if(yv)return G==="compositionend"||!Sm&&Z3(G,re)?(G=Y3(),up=Tm=zc=null,yv=!1,G):null;switch(G){case"paste":return null;case"keypress":if(!(re.ctrlKey||re.altKey||re.metaKey)||re.ctrlKey&&re.altKey){if(re.char&&1<re.char.length)return re.char;if(re.which)return String.fromCharCode(re.which)}return null;case"compositionend":return X3&&re.locale!=="ko"?null:re.data;default:return null}}var d6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S2(G){var re=G&&G.nodeName&&G.nodeName.toLowerCase();return re==="input"?!!d6[G.type]:re==="textarea"}function K3(G,re,ge,Be){E3(Be),re=Sp(re,"onChange"),0<re.length&&(ge=new Am("onChange","change",null,ge,Be),G.push({event:ge,listeners:re}))}var Pd=null,Vd=null;function p6(G){ob(G,0)}function Wp(G){var re=bv(G);if(x3(re))return G}function g6(G,re){if(G==="change")return re}var J3=!1;Xf&&(Xf?(Q0="oninput"in document,Q0||(iy=document.createElement("div"),iy.setAttribute("oninput","return;"),Q0=typeof iy.oninput=="function"),J0=Q0):J0=!1,J3=J0&&(!document.documentMode||9<document.documentMode));var J0,Q0,iy;function E2(){Pd&&(Pd.detachEvent("onpropertychange",Q3),Vd=Pd=null)}function Q3(G){if(G.propertyName==="value"&&Wp(Vd)){var re=[];K3(re,Vd,G,ym(G)),R3(p6,re)}}function y6(G,re,ge){G==="focusin"?(E2(),Pd=re,Vd=ge,Pd.attachEvent("onpropertychange",Q3)):G==="focusout"&&E2()}function m6(G){if(G==="selectionchange"||G==="keyup"||G==="keydown")return Wp(Vd)}function x6(G,re){if(G==="click")return Wp(re)}function b6(G,re){if(G==="input"||G==="change")return Wp(re)}function w6(G,re){return G===re&&(G!==0||1/G===1/re)||G!==G&&re!==re}var Nu=typeof Object.is=="function"?Object.is:w6;function Hd(G,re){if(Nu(G,re))return!0;if(typeof G!="object"||G===null||typeof re!="object"||re===null)return!1;var ge=Object.keys(G),Be=Object.keys(re);if(ge.length!==Be.length)return!1;for(Be=0;Be<ge.length;Be++){var V=ge[Be];if(!xy.call(re,V)||!Nu(G[V],re[V]))return!1}return!0}function C2(G){for(;G&&G.firstChild;)G=G.firstChild;return G}function L2(G,re){var ge=C2(G);G=0;for(var Be;ge;){if(ge.nodeType===3){if(Be=G+ge.textContent.length,G<=re&&Be>=re)return{node:ge,offset:re-G};G=Be}e:{for(;ge;){if(ge.nextSibling){ge=ge.nextSibling;break e}ge=ge.parentNode}ge=void 0}ge=C2(ge)}}function $3(G,re){return G&&re?G===re?!0:G&&G.nodeType===3?!1:re&&re.nodeType===3?$3(G,re.parentNode):"contains"in G?G.contains(re):G.compareDocumentPosition?!!(G.compareDocumentPosition(re)&16):!1:!1}function q3(){for(var G=window,re=mp();re instanceof G.HTMLIFrameElement;){try{var ge=typeof re.contentWindow.location.href=="string"}catch(Be){ge=!1}if(ge)G=re.contentWindow;else break;re=mp(G.document)}return re}function Em(G){var re=G&&G.nodeName&&G.nodeName.toLowerCase();return re&&(re==="input"&&(G.type==="text"||G.type==="search"||G.type==="tel"||G.type==="url"||G.type==="password")||re==="textarea"||G.contentEditable==="true")}function T6(G){var re=q3(),ge=G.focusedElem,Be=G.selectionRange;if(re!==ge&&ge&&ge.ownerDocument&&$3(ge.ownerDocument.documentElement,ge)){if(Be!==null&&Em(ge)){if(re=Be.start,G=Be.end,G===void 0&&(G=re),"selectionStart"in ge)ge.selectionStart=re,ge.selectionEnd=Math.min(G,ge.value.length);else if(G=(re=ge.ownerDocument||document)&&re.defaultView||window,G.getSelection){G=G.getSelection();var V=ge.textContent.length,U=Math.min(Be.start,V);Be=Be.end===void 0?U:Math.min(Be.end,V),!G.extend&&U>Be&&(V=Be,Be=U,U=V),V=L2(ge,U);var e=L2(ge,Be);V&&e&&(G.rangeCount!==1||G.anchorNode!==V.node||G.anchorOffset!==V.offset||G.focusNode!==e.node||G.focusOffset!==e.offset)&&(re=re.createRange(),re.setStart(V.node,V.offset),G.removeAllRanges(),U>Be?(G.addRange(re),G.extend(e.node,e.offset)):(re.setEnd(e.node,e.offset),G.addRange(re)))}}for(re=[],G=ge;G=G.parentNode;)G.nodeType===1&&re.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<re.length;ge++)G=re[ge],G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}var A6=Xf&&"documentMode"in document&&11>=document.documentMode,mv=null,By=null,Rd=null,Ny=!1;function P2(G,re,ge){var Be=ge.window===ge?ge.document:ge.nodeType===9?ge:ge.ownerDocument;Ny||mv==null||mv!==mp(Be)||(Be=mv,"selectionStart"in Be&&Em(Be)?Be={start:Be.selectionStart,end:Be.selectionEnd}:(Be=(Be.ownerDocument&&Be.ownerDocument.defaultView||window).getSelection(),Be={anchorNode:Be.anchorNode,anchorOffset:Be.anchorOffset,focusNode:Be.focusNode,focusOffset:Be.focusOffset}),Rd&&Hd(Rd,Be)||(Rd=Be,Be=Sp(By,"onSelect"),0<Be.length&&(re=new Am("onSelect","select",null,re,ge),G.push({event:re,listeners:Be}),re.target=mv)))}function $0(G,re){var ge={};return ge[G.toLowerCase()]=re.toLowerCase(),ge["Webkit"+G]="webkit"+re,ge["Moz"+G]="moz"+re,ge}var xv={animationend:$0("Animation","AnimationEnd"),animationiteration:$0("Animation","AnimationIteration"),animationstart:$0("Animation","AnimationStart"),transitionend:$0("Transition","TransitionEnd")},oy={},eb={};Xf&&(eb=document.createElement("div").style,"AnimationEvent"in window||(delete xv.animationend.animation,delete xv.animationiteration.animation,delete xv.animationstart.animation),"TransitionEvent"in window||delete xv.transitionend.transition);function Yp(G){if(oy[G])return oy[G];if(!xv[G])return G;var re=xv[G],ge;for(ge in re)if(re.hasOwnProperty(ge)&&ge in eb)return oy[G]=re[ge];return G}var tb=Yp("animationend"),rb=Yp("animationiteration"),nb=Yp("animationstart"),ab=Yp("transitionend"),ib=new Map,R2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jc(G,re){ib.set(G,re),Oh(re,[G])}for(q0=0;q0<R2.length;q0++)ep=R2[q0],D2=ep.toLowerCase(),I2=ep[0].toUpperCase()+ep.slice(1),jc(D2,"on"+I2);var ep,D2,I2,q0;jc(tb,"onAnimationEnd");jc(rb,"onAnimationIteration");jc(nb,"onAnimationStart");jc("dblclick","onDoubleClick");jc("focusin","onFocus");jc("focusout","onBlur");jc(ab,"onTransitionEnd");kv("onMouseEnter",["mouseout","mouseover"]);kv("onMouseLeave",["mouseout","mouseover"]);kv("onPointerEnter",["pointerout","pointerover"]);kv("onPointerLeave",["pointerout","pointerover"]);Oh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sd));function k2(G,re,ge){var Be=G.type||"unknown-event";G.currentTarget=ge,M5(Be,re,void 0,G),G.currentTarget=null}function ob(G,re){re=(re&4)!==0;for(var ge=0;ge<G.length;ge++){var Be=G[ge],V=Be.event;Be=Be.listeners;e:{var U=void 0;if(re)for(var e=Be.length-1;0<=e;e--){var x=Be[e],P=x.instance,i=x.currentTarget;if(x=x.listener,P!==U&&V.isPropagationStopped())break e;k2(V,x,i),U=P}else for(e=0;e<Be.length;e++){if(x=Be[e],P=x.instance,i=x.currentTarget,x=x.listener,P!==U&&V.isPropagationStopped())break e;k2(V,x,i),U=P}}}if(bp)throw G=Fy,bp=!1,Fy=null,G}function Zi(G,re){var ge=re[Wy];ge===void 0&&(ge=re[Wy]=new Set);var Be=G+"__bubble";ge.has(Be)||(sb(re,G,2,!1),ge.add(Be))}function sy(G,re,ge){var Be=0;re&&(Be|=4),sb(ge,G,Be,re)}var tp="_reactListening"+Math.random().toString(36).slice(2);function Gd(G){if(!G[tp]){G[tp]=!0,d3.forEach(function(ge){ge!=="selectionchange"&&(M6.has(ge)||sy(ge,!1,G),sy(ge,!0,G))});var re=G.nodeType===9?G:G.ownerDocument;re===null||re[tp]||(re[tp]=!0,sy("selectionchange",!1,re))}}function sb(G,re,ge,Be){switch(W3(re)){case 1:var V=U5;break;case 4:V=V5;break;default:V=wm}ge=V.bind(null,re,ge,G),V=void 0,!ky||re!=="touchstart"&&re!=="touchmove"&&re!=="wheel"||(V=!0),Be?V!==void 0?G.addEventListener(re,ge,{capture:!0,passive:V}):G.addEventListener(re,ge,!0):V!==void 0?G.addEventListener(re,ge,{passive:V}):G.addEventListener(re,ge,!1)}function ly(G,re,ge,Be,V){var U=Be;if(!(re&1)&&!(re&2)&&Be!==null)e:for(;;){if(Be===null)return;var e=Be.tag;if(e===3||e===4){var x=Be.stateNode.containerInfo;if(x===V||x.nodeType===8&&x.parentNode===V)break;if(e===4)for(e=Be.return;e!==null;){var P=e.tag;if((P===3||P===4)&&(P=e.stateNode.containerInfo,P===V||P.nodeType===8&&P.parentNode===V))return;e=e.return}for(;x!==null;){if(e=Ch(x),e===null)return;if(P=e.tag,P===5||P===6){Be=U=e;continue e}x=x.parentNode}}Be=Be.return}R3(function(){var i=U,L=ym(ge),C=[];e:{var c=ib.get(G);if(c!==void 0){var y=Am,r=G;switch(G){case"keypress":if(fp(ge)===0)break e;case"keydown":case"keyup":y=r6;break;case"focusin":r="focus",y=ay;break;case"focusout":r="blur",y=ay;break;case"beforeblur":case"afterblur":y=ay;break;case"click":if(ge.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=b2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=W5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=i6;break;case tb:case rb:case nb:y=Z5;break;case ab:y=s6;break;case"scroll":y=H5;break;case"wheel":y=u6;break;case"copy":case"cut":case"paste":y=K5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=T2}var t=(re&4)!==0,s=!t&&G==="scroll",n=t?c!==null?c+"Capture":null:c;t=[];for(var u=i,l;u!==null;){l=u;var f=l.stateNode;if(l.tag===5&&f!==null&&(l=f,n!==null&&(f=Od(u,n),f!=null&&t.push(Wd(u,f,l)))),s)break;u=u.return}0<t.length&&(c=new y(c,r,null,ge,L),C.push({event:c,listeners:t}))}}if(!(re&7)){e:{if(c=G==="mouseover"||G==="pointerover",y=G==="mouseout"||G==="pointerout",c&&ge!==Dy&&(r=ge.relatedTarget||ge.fromElement)&&(Ch(r)||r[Zf]))break e;if((y||c)&&(c=L.window===L?L:(c=L.ownerDocument)?c.defaultView||c.parentWindow:window,y?(r=ge.relatedTarget||ge.toElement,y=i,r=r?Ch(r):null,r!==null&&(s=Bh(r),r!==s||r.tag!==5&&r.tag!==6)&&(r=null)):(y=null,r=i),y!==r)){if(t=b2,f="onMouseLeave",n="onMouseEnter",u="mouse",(G==="pointerout"||G==="pointerover")&&(t=T2,f="onPointerLeave",n="onPointerEnter",u="pointer"),s=y==null?c:bv(y),l=r==null?c:bv(r),c=new t(f,u+"leave",y,ge,L),c.target=s,c.relatedTarget=l,f=null,Ch(L)===i&&(t=new t(n,u+"enter",r,ge,L),t.target=l,t.relatedTarget=s,f=t),s=f,y&&r)t:{for(t=y,n=r,u=0,l=t;l;l=dv(l))u++;for(l=0,f=n;f;f=dv(f))l++;for(;0<u-l;)t=dv(t),u--;for(;0<l-u;)n=dv(n),l--;for(;u--;){if(t===n||n!==null&&t===n.alternate)break t;t=dv(t),n=dv(n)}t=null}else t=null;y!==null&&F2(C,c,y,t,!1),r!==null&&s!==null&&F2(C,s,r,t,!0)}}e:{if(c=i?bv(i):window,y=c.nodeName&&c.nodeName.toLowerCase(),y==="select"||y==="input"&&c.type==="file")var g=g6;else if(S2(c))if(J3)g=b6;else{g=m6;var h=y6}else(y=c.nodeName)&&y.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(g=x6);if(g&&(g=g(G,i))){K3(C,g,ge,L);break e}h&&h(G,c,i),G==="focusout"&&(h=c._wrapperState)&&h.controlled&&c.type==="number"&&Ey(c,"number",c.value)}switch(h=i?bv(i):window,G){case"focusin":(S2(h)||h.contentEditable==="true")&&(mv=h,By=i,Rd=null);break;case"focusout":Rd=By=mv=null;break;case"mousedown":Ny=!0;break;case"contextmenu":case"mouseup":case"dragend":Ny=!1,P2(C,ge,L);break;case"selectionchange":if(A6)break;case"keydown":case"keyup":P2(C,ge,L)}var w;if(Sm)e:{switch(G){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else yv?Z3(G,ge)&&(d="onCompositionEnd"):G==="keydown"&&ge.keyCode===229&&(d="onCompositionStart");d&&(X3&&ge.locale!=="ko"&&(yv||d!=="onCompositionStart"?d==="onCompositionEnd"&&yv&&(w=Y3()):(zc=L,Tm="value"in zc?zc.value:zc.textContent,yv=!0)),h=Sp(i,d),0<h.length&&(d=new w2(d,G,null,ge,L),C.push({event:d,listeners:h}),w?d.data=w:(w=j3(ge),w!==null&&(d.data=w)))),(w=c6?h6(G,ge):v6(G,ge))&&(i=Sp(i,"onBeforeInput"),0<i.length&&(L=new w2("onBeforeInput","beforeinput",null,ge,L),C.push({event:L,listeners:i}),L.data=w))}ob(C,re)})}function Wd(G,re,ge){return{instance:G,listener:re,currentTarget:ge}}function Sp(G,re){for(var ge=re+"Capture",Be=[];G!==null;){var V=G,U=V.stateNode;V.tag===5&&U!==null&&(V=U,U=Od(G,ge),U!=null&&Be.unshift(Wd(G,U,V)),U=Od(G,re),U!=null&&Be.push(Wd(G,U,V))),G=G.return}return Be}function dv(G){if(G===null)return null;do G=G.return;while(G&&G.tag!==5);return G||null}function F2(G,re,ge,Be,V){for(var U=re._reactName,e=[];ge!==null&&ge!==Be;){var x=ge,P=x.alternate,i=x.stateNode;if(P!==null&&P===Be)break;x.tag===5&&i!==null&&(x=i,V?(P=Od(ge,U),P!=null&&e.unshift(Wd(ge,P,x))):V||(P=Od(ge,U),P!=null&&e.push(Wd(ge,P,x)))),ge=ge.return}e.length!==0&&G.push({event:re,listeners:e})}var S6=/\r\n?/g,E6=/\u0000|\uFFFD/g;function _2(G){return(typeof G=="string"?G:""+G).replace(S6,`
`).replace(E6,"")}function rp(G,re,ge){if(re=_2(re),_2(G)!==re&&ge)throw Error(va(425))}function Ep(){}var Uy=null,Vy=null;function Hy(G,re){return G==="textarea"||G==="noscript"||typeof re.children=="string"||typeof re.children=="number"||typeof re.dangerouslySetInnerHTML=="object"&&re.dangerouslySetInnerHTML!==null&&re.dangerouslySetInnerHTML.__html!=null}var Gy=typeof setTimeout=="function"?setTimeout:void 0,C6=typeof clearTimeout=="function"?clearTimeout:void 0,z2=typeof Promise=="function"?Promise:void 0,L6=typeof queueMicrotask=="function"?queueMicrotask:typeof z2!="undefined"?function(G){return z2.resolve(null).then(G).catch(P6)}:Gy;function P6(G){setTimeout(function(){throw G})}function uy(G,re){var ge=re,Be=0;do{var V=ge.nextSibling;if(G.removeChild(ge),V&&V.nodeType===8)if(ge=V.data,ge==="/$"){if(Be===0){G.removeChild(V),Ud(re);return}Be--}else ge!=="$"&&ge!=="$?"&&ge!=="$!"||Be++;ge=V}while(ge);Ud(re)}function Vc(G){for(;G!=null;G=G.nextSibling){var re=G.nodeType;if(re===1||re===3)break;if(re===8){if(re=G.data,re==="$"||re==="$!"||re==="$?")break;if(re==="/$")return null}}return G}function O2(G){G=G.previousSibling;for(var re=0;G;){if(G.nodeType===8){var ge=G.data;if(ge==="$"||ge==="$!"||ge==="$?"){if(re===0)return G;re--}else ge==="/$"&&re++}G=G.previousSibling}return null}var Vv=Math.random().toString(36).slice(2),ff="__reactFiber$"+Vv,Yd="__reactProps$"+Vv,Zf="__reactContainer$"+Vv,Wy="__reactEvents$"+Vv,R6="__reactListeners$"+Vv,D6="__reactHandles$"+Vv;function Ch(G){var re=G[ff];if(re)return re;for(var ge=G.parentNode;ge;){if(re=ge[Zf]||ge[ff]){if(ge=re.alternate,re.child!==null||ge!==null&&ge.child!==null)for(G=O2(G);G!==null;){if(ge=G[ff])return ge;G=O2(G)}return re}G=ge,ge=G.parentNode}return null}function e0(G){return G=G[ff]||G[Zf],!G||G.tag!==5&&G.tag!==6&&G.tag!==13&&G.tag!==3?null:G}function bv(G){if(G.tag===5||G.tag===6)return G.stateNode;throw Error(va(33))}function Xp(G){return G[Yd]||null}var Yy=[],wv=-1;function Kc(G){return{current:G}}function ji(G){0>wv||(G.current=Yy[wv],Yy[wv]=null,wv--)}function Gi(G,re){wv++,Yy[wv]=G.current,G.current=re}var Zc={},Ts=Kc(Zc),al=Kc(!1),Ih=Zc;function Fv(G,re){var ge=G.type.contextTypes;if(!ge)return Zc;var Be=G.stateNode;if(Be&&Be.__reactInternalMemoizedUnmaskedChildContext===re)return Be.__reactInternalMemoizedMaskedChildContext;var V={},U;for(U in ge)V[U]=re[U];return Be&&(G=G.stateNode,G.__reactInternalMemoizedUnmaskedChildContext=re,G.__reactInternalMemoizedMaskedChildContext=V),V}function il(G){return G=G.childContextTypes,G!=null}function Cp(){ji(al),ji(Ts)}function B2(G,re,ge){if(Ts.current!==Zc)throw Error(va(168));Gi(Ts,re),Gi(al,ge)}function lb(G,re,ge){var Be=G.stateNode;if(re=re.childContextTypes,typeof Be.getChildContext!="function")return ge;Be=Be.getChildContext();for(var V in Be)if(!(V in re))throw Error(va(108,y5(G)||"Unknown",V));return oo({},ge,Be)}function Lp(G){return G=(G=G.stateNode)&&G.__reactInternalMemoizedMergedChildContext||Zc,Ih=Ts.current,Gi(Ts,G),Gi(al,al.current),!0}function N2(G,re,ge){var Be=G.stateNode;if(!Be)throw Error(va(169));ge?(G=lb(G,re,Ih),Be.__reactInternalMemoizedMergedChildContext=G,ji(al),ji(Ts),Gi(Ts,G)):ji(al),Gi(al,ge)}var Hf=null,Zp=!1,fy=!1;function ub(G){Hf===null?Hf=[G]:Hf.push(G)}function I6(G){Zp=!0,ub(G)}function Jc(){if(!fy&&Hf!==null){fy=!0;var G=0,re=ki;try{var ge=Hf;for(ki=1;G<ge.length;G++){var Be=ge[G];do Be=Be(!0);while(Be!==null)}Hf=null,Zp=!1}catch(V){throw Hf!==null&&(Hf=Hf.slice(G+1)),F3(mm,Jc),V}finally{ki=re,fy=!1}}return null}var Tv=[],Av=0,Pp=null,Rp=0,$l=[],ql=0,kh=null,Gf=1,Wf="";function Sh(G,re){Tv[Av++]=Rp,Tv[Av++]=Pp,Pp=G,Rp=re}function fb(G,re,ge){$l[ql++]=Gf,$l[ql++]=Wf,$l[ql++]=kh,kh=G;var Be=Gf;G=Wf;var V=32-Ou(Be)-1;Be&=~(1<<V),ge+=1;var U=32-Ou(re)+V;if(30<U){var e=V-V%5;U=(Be&(1<<e)-1).toString(32),Be>>=e,V-=e,Gf=1<<32-Ou(re)+V|ge<<V|Be,Wf=U+G}else Gf=1<<U|ge<<V|Be,Wf=G}function Cm(G){G.return!==null&&(Sh(G,1),fb(G,1,0))}function Lm(G){for(;G===Pp;)Pp=Tv[--Av],Tv[Av]=null,Rp=Tv[--Av],Tv[Av]=null;for(;G===kh;)kh=$l[--ql],$l[ql]=null,Wf=$l[--ql],$l[ql]=null,Gf=$l[--ql],$l[ql]=null}var Ml=null,Al=null,Qi=!1,zu=null;function cb(G,re){var ge=eu(5,null,null,0);ge.elementType="DELETED",ge.stateNode=re,ge.return=G,re=G.deletions,re===null?(G.deletions=[ge],G.flags|=16):re.push(ge)}function U2(G,re){switch(G.tag){case 5:var ge=G.type;return re=re.nodeType!==1||ge.toLowerCase()!==re.nodeName.toLowerCase()?null:re,re!==null?(G.stateNode=re,Ml=G,Al=Vc(re.firstChild),!0):!1;case 6:return re=G.pendingProps===""||re.nodeType!==3?null:re,re!==null?(G.stateNode=re,Ml=G,Al=null,!0):!1;case 13:return re=re.nodeType!==8?null:re,re!==null?(ge=kh!==null?{id:Gf,overflow:Wf}:null,G.memoizedState={dehydrated:re,treeContext:ge,retryLane:1073741824},ge=eu(18,null,null,0),ge.stateNode=re,ge.return=G,G.child=ge,Ml=G,Al=null,!0):!1;default:return!1}}function Xy(G){return(G.mode&1)!==0&&(G.flags&128)===0}function Zy(G){if(Qi){var re=Al;if(re){var ge=re;if(!U2(G,re)){if(Xy(G))throw Error(va(418));re=Vc(ge.nextSibling);var Be=Ml;re&&U2(G,re)?cb(Be,ge):(G.flags=G.flags&-4097|2,Qi=!1,Ml=G)}}else{if(Xy(G))throw Error(va(418));G.flags=G.flags&-4097|2,Qi=!1,Ml=G}}}function V2(G){for(G=G.return;G!==null&&G.tag!==5&&G.tag!==3&&G.tag!==13;)G=G.return;Ml=G}function np(G){if(G!==Ml)return!1;if(!Qi)return V2(G),Qi=!0,!1;var re;if((re=G.tag!==3)&&!(re=G.tag!==5)&&(re=G.type,re=re!=="head"&&re!=="body"&&!Hy(G.type,G.memoizedProps)),re&&(re=Al)){if(Xy(G))throw hb(),Error(va(418));for(;re;)cb(G,re),re=Vc(re.nextSibling)}if(V2(G),G.tag===13){if(G=G.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(va(317));e:{for(G=G.nextSibling,re=0;G;){if(G.nodeType===8){var ge=G.data;if(ge==="/$"){if(re===0){Al=Vc(G.nextSibling);break e}re--}else ge!=="$"&&ge!=="$!"&&ge!=="$?"||re++}G=G.nextSibling}Al=null}}else Al=Ml?Vc(G.stateNode.nextSibling):null;return!0}function hb(){for(var G=Al;G;)G=Vc(G.nextSibling)}function _v(){Al=Ml=null,Qi=!1}function Pm(G){zu===null?zu=[G]:zu.push(G)}var k6=Jf.ReactCurrentBatchConfig;function Fu(G,re){if(G&&G.defaultProps){re=oo({},re),G=G.defaultProps;for(var ge in G)re[ge]===void 0&&(re[ge]=G[ge]);return re}return re}var Dp=Kc(null),Ip=null,Mv=null,Rm=null;function Dm(){Rm=Mv=Ip=null}function Im(G){var re=Dp.current;ji(Dp),G._currentValue=re}function jy(G,re,ge){for(;G!==null;){var Be=G.alternate;if((G.childLanes&re)!==re?(G.childLanes|=re,Be!==null&&(Be.childLanes|=re)):Be!==null&&(Be.childLanes&re)!==re&&(Be.childLanes|=re),G===ge)break;G=G.return}}function Dv(G,re){Ip=G,Rm=Mv=null,G=G.dependencies,G!==null&&G.firstContext!==null&&(G.lanes&re&&(nl=!0),G.firstContext=null)}function ru(G){var re=G._currentValue;if(Rm!==G)if(G={context:G,memoizedValue:re,next:null},Mv===null){if(Ip===null)throw Error(va(308));Mv=G,Ip.dependencies={lanes:0,firstContext:G}}else Mv=Mv.next=G;return re}var Lh=null;function km(G){Lh===null?Lh=[G]:Lh.push(G)}function vb(G,re,ge,Be){var V=re.interleaved;return V===null?(ge.next=ge,km(re)):(ge.next=V.next,V.next=ge),re.interleaved=ge,jf(G,Be)}function jf(G,re){G.lanes|=re;var ge=G.alternate;for(ge!==null&&(ge.lanes|=re),ge=G,G=G.return;G!==null;)G.childLanes|=re,ge=G.alternate,ge!==null&&(ge.childLanes|=re),ge=G,G=G.return;return ge.tag===3?ge.stateNode:null}var kc=!1;function Fm(G){G.updateQueue={baseState:G.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function db(G,re){G=G.updateQueue,re.updateQueue===G&&(re.updateQueue={baseState:G.baseState,firstBaseUpdate:G.firstBaseUpdate,lastBaseUpdate:G.lastBaseUpdate,shared:G.shared,effects:G.effects})}function Yf(G,re){return{eventTime:G,lane:re,tag:0,payload:null,callback:null,next:null}}function Hc(G,re,ge){var Be=G.updateQueue;if(Be===null)return null;if(Be=Be.shared,mi&2){var V=Be.pending;return V===null?re.next=re:(re.next=V.next,V.next=re),Be.pending=re,jf(G,ge)}return V=Be.interleaved,V===null?(re.next=re,km(Be)):(re.next=V.next,V.next=re),Be.interleaved=re,jf(G,ge)}function cp(G,re,ge){if(re=re.updateQueue,re!==null&&(re=re.shared,(ge&4194240)!==0)){var Be=re.lanes;Be&=G.pendingLanes,ge|=Be,re.lanes=ge,xm(G,ge)}}function H2(G,re){var ge=G.updateQueue,Be=G.alternate;if(Be!==null&&(Be=Be.updateQueue,ge===Be)){var V=null,U=null;if(ge=ge.firstBaseUpdate,ge!==null){do{var e={eventTime:ge.eventTime,lane:ge.lane,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null};U===null?V=U=e:U=U.next=e,ge=ge.next}while(ge!==null);U===null?V=U=re:U=U.next=re}else V=U=re;ge={baseState:Be.baseState,firstBaseUpdate:V,lastBaseUpdate:U,shared:Be.shared,effects:Be.effects},G.updateQueue=ge;return}G=ge.lastBaseUpdate,G===null?ge.firstBaseUpdate=re:G.next=re,ge.lastBaseUpdate=re}function kp(G,re,ge,Be){var V=G.updateQueue;kc=!1;var U=V.firstBaseUpdate,e=V.lastBaseUpdate,x=V.shared.pending;if(x!==null){V.shared.pending=null;var P=x,i=P.next;P.next=null,e===null?U=i:e.next=i,e=P;var L=G.alternate;L!==null&&(L=L.updateQueue,x=L.lastBaseUpdate,x!==e&&(x===null?L.firstBaseUpdate=i:x.next=i,L.lastBaseUpdate=P))}if(U!==null){var C=V.baseState;e=0,L=i=P=null,x=U;do{var c=x.lane,y=x.eventTime;if((Be&c)===c){L!==null&&(L=L.next={eventTime:y,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var r=G,t=x;switch(c=re,y=ge,t.tag){case 1:if(r=t.payload,typeof r=="function"){C=r.call(y,C,c);break e}C=r;break e;case 3:r.flags=r.flags&-65537|128;case 0:if(r=t.payload,c=typeof r=="function"?r.call(y,C,c):r,c==null)break e;C=oo({},C,c);break e;case 2:kc=!0}}x.callback!==null&&x.lane!==0&&(G.flags|=64,c=V.effects,c===null?V.effects=[x]:c.push(x))}else y={eventTime:y,lane:c,tag:x.tag,payload:x.payload,callback:x.callback,next:null},L===null?(i=L=y,P=C):L=L.next=y,e|=c;if(x=x.next,x===null){if(x=V.shared.pending,x===null)break;c=x,x=c.next,c.next=null,V.lastBaseUpdate=c,V.shared.pending=null}}while(!0);if(L===null&&(P=C),V.baseState=P,V.firstBaseUpdate=i,V.lastBaseUpdate=L,re=V.shared.interleaved,re!==null){V=re;do e|=V.lane,V=V.next;while(V!==re)}else U===null&&(V.shared.lanes=0);_h|=e,G.lanes=e,G.memoizedState=C}}function G2(G,re,ge){if(G=re.effects,re.effects=null,G!==null)for(re=0;re<G.length;re++){var Be=G[re],V=Be.callback;if(V!==null){if(Be.callback=null,Be=ge,typeof V!="function")throw Error(va(191,V));V.call(Be)}}}var pb=new v3.Component().refs;function Ky(G,re,ge,Be){re=G.memoizedState,ge=ge(Be,re),ge=ge==null?re:oo({},re,ge),G.memoizedState=ge,G.lanes===0&&(G.updateQueue.baseState=ge)}var jp={isMounted:function(G){return(G=G._reactInternals)?Bh(G)===G:!1},enqueueSetState:function(G,re,ge){G=G._reactInternals;var Be=Vs(),V=Wc(G),U=Yf(Be,V);U.payload=re,ge!=null&&(U.callback=ge),re=Hc(G,U,V),re!==null&&(Bu(re,G,V,Be),cp(re,G,V))},enqueueReplaceState:function(G,re,ge){G=G._reactInternals;var Be=Vs(),V=Wc(G),U=Yf(Be,V);U.tag=1,U.payload=re,ge!=null&&(U.callback=ge),re=Hc(G,U,V),re!==null&&(Bu(re,G,V,Be),cp(re,G,V))},enqueueForceUpdate:function(G,re){G=G._reactInternals;var ge=Vs(),Be=Wc(G),V=Yf(ge,Be);V.tag=2,re!=null&&(V.callback=re),re=Hc(G,V,Be),re!==null&&(Bu(re,G,Be,ge),cp(re,G,Be))}};function W2(G,re,ge,Be,V,U,e){return G=G.stateNode,typeof G.shouldComponentUpdate=="function"?G.shouldComponentUpdate(Be,U,e):re.prototype&&re.prototype.isPureReactComponent?!Hd(ge,Be)||!Hd(V,U):!0}function gb(G,re,ge){var Be=!1,V=Zc,U=re.contextType;return typeof U=="object"&&U!==null?U=ru(U):(V=il(re)?Ih:Ts.current,Be=re.contextTypes,U=(Be=Be!=null)?Fv(G,V):Zc),re=new re(ge,U),G.memoizedState=re.state!==null&&re.state!==void 0?re.state:null,re.updater=jp,G.stateNode=re,re._reactInternals=G,Be&&(G=G.stateNode,G.__reactInternalMemoizedUnmaskedChildContext=V,G.__reactInternalMemoizedMaskedChildContext=U),re}function Y2(G,re,ge,Be){G=re.state,typeof re.componentWillReceiveProps=="function"&&re.componentWillReceiveProps(ge,Be),typeof re.UNSAFE_componentWillReceiveProps=="function"&&re.UNSAFE_componentWillReceiveProps(ge,Be),re.state!==G&&jp.enqueueReplaceState(re,re.state,null)}function Jy(G,re,ge,Be){var V=G.stateNode;V.props=ge,V.state=G.memoizedState,V.refs=pb,Fm(G);var U=re.contextType;typeof U=="object"&&U!==null?V.context=ru(U):(U=il(re)?Ih:Ts.current,V.context=Fv(G,U)),V.state=G.memoizedState,U=re.getDerivedStateFromProps,typeof U=="function"&&(Ky(G,re,U,ge),V.state=G.memoizedState),typeof re.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(re=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),re!==V.state&&jp.enqueueReplaceState(V,V.state,null),kp(G,ge,V,Be),V.state=G.memoizedState),typeof V.componentDidMount=="function"&&(G.flags|=4194308)}function md(G,re,ge){if(G=ge.ref,G!==null&&typeof G!="function"&&typeof G!="object"){if(ge._owner){if(ge=ge._owner,ge){if(ge.tag!==1)throw Error(va(309));var Be=ge.stateNode}if(!Be)throw Error(va(147,G));var V=Be,U=""+G;return re!==null&&re.ref!==null&&typeof re.ref=="function"&&re.ref._stringRef===U?re.ref:(re=function(e){var x=V.refs;x===pb&&(x=V.refs={}),e===null?delete x[U]:x[U]=e},re._stringRef=U,re)}if(typeof G!="string")throw Error(va(284));if(!ge._owner)throw Error(va(290,G))}return G}function ap(G,re){throw G=Object.prototype.toString.call(re),Error(va(31,G==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":G))}function X2(G){var re=G._init;return re(G._payload)}function yb(G){function re(n,u){if(G){var l=n.deletions;l===null?(n.deletions=[u],n.flags|=16):l.push(u)}}function ge(n,u){if(!G)return null;for(;u!==null;)re(n,u),u=u.sibling;return null}function Be(n,u){for(n=new Map;u!==null;)u.key!==null?n.set(u.key,u):n.set(u.index,u),u=u.sibling;return n}function V(n,u){return n=Yc(n,u),n.index=0,n.sibling=null,n}function U(n,u,l){return n.index=l,G?(l=n.alternate,l!==null?(l=l.index,l<u?(n.flags|=2,u):l):(n.flags|=2,u)):(n.flags|=1048576,u)}function e(n){return G&&n.alternate===null&&(n.flags|=2),n}function x(n,u,l,f){return u===null||u.tag!==6?(u=yy(l,n.mode,f),u.return=n,u):(u=V(u,l),u.return=n,u)}function P(n,u,l,f){var g=l.type;return g===gv?L(n,u,l.props.children,f,l.key):u!==null&&(u.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Ic&&X2(g)===u.type)?(f=V(u,l.props),f.ref=md(n,u,l),f.return=n,f):(f=yp(l.type,l.key,l.props,null,n.mode,f),f.ref=md(n,u,l),f.return=n,f)}function i(n,u,l,f){return u===null||u.tag!==4||u.stateNode.containerInfo!==l.containerInfo||u.stateNode.implementation!==l.implementation?(u=my(l,n.mode,f),u.return=n,u):(u=V(u,l.children||[]),u.return=n,u)}function L(n,u,l,f,g){return u===null||u.tag!==7?(u=Dh(l,n.mode,f,g),u.return=n,u):(u=V(u,l),u.return=n,u)}function C(n,u,l){if(typeof u=="string"&&u!==""||typeof u=="number")return u=yy(""+u,n.mode,l),u.return=n,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case G0:return l=yp(u.type,u.key,u.props,null,n.mode,l),l.ref=md(n,null,u),l.return=n,l;case pv:return u=my(u,n.mode,l),u.return=n,u;case Ic:var f=u._init;return C(n,f(u._payload),l)}if(Ad(u)||dd(u))return u=Dh(u,n.mode,l,null),u.return=n,u;ap(n,u)}return null}function c(n,u,l,f){var g=u!==null?u.key:null;if(typeof l=="string"&&l!==""||typeof l=="number")return g!==null?null:x(n,u,""+l,f);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case G0:return l.key===g?P(n,u,l,f):null;case pv:return l.key===g?i(n,u,l,f):null;case Ic:return g=l._init,c(n,u,g(l._payload),f)}if(Ad(l)||dd(l))return g!==null?null:L(n,u,l,f,null);ap(n,l)}return null}function y(n,u,l,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return n=n.get(l)||null,x(u,n,""+f,g);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case G0:return n=n.get(f.key===null?l:f.key)||null,P(u,n,f,g);case pv:return n=n.get(f.key===null?l:f.key)||null,i(u,n,f,g);case Ic:var h=f._init;return y(n,u,l,h(f._payload),g)}if(Ad(f)||dd(f))return n=n.get(l)||null,L(u,n,f,g,null);ap(u,f)}return null}function r(n,u,l,f){for(var g=null,h=null,w=u,d=u=0,o=null;w!==null&&d<l.length;d++){w.index>d?(o=w,w=null):o=w.sibling;var v=c(n,w,l[d],f);if(v===null){w===null&&(w=o);break}G&&w&&v.alternate===null&&re(n,w),u=U(v,u,d),h===null?g=v:h.sibling=v,h=v,w=o}if(d===l.length)return ge(n,w),Qi&&Sh(n,d),g;if(w===null){for(;d<l.length;d++)w=C(n,l[d],f),w!==null&&(u=U(w,u,d),h===null?g=w:h.sibling=w,h=w);return Qi&&Sh(n,d),g}for(w=Be(n,w);d<l.length;d++)o=y(w,n,d,l[d],f),o!==null&&(G&&o.alternate!==null&&w.delete(o.key===null?d:o.key),u=U(o,u,d),h===null?g=o:h.sibling=o,h=o);return G&&w.forEach(function(A){return re(n,A)}),Qi&&Sh(n,d),g}function t(n,u,l,f){var g=dd(l);if(typeof g!="function")throw Error(va(150));if(l=g.call(l),l==null)throw Error(va(151));for(var h=g=null,w=u,d=u=0,o=null,v=l.next();w!==null&&!v.done;d++,v=l.next()){w.index>d?(o=w,w=null):o=w.sibling;var A=c(n,w,v.value,f);if(A===null){w===null&&(w=o);break}G&&w&&A.alternate===null&&re(n,w),u=U(A,u,d),h===null?g=A:h.sibling=A,h=A,w=o}if(v.done)return ge(n,w),Qi&&Sh(n,d),g;if(w===null){for(;!v.done;d++,v=l.next())v=C(n,v.value,f),v!==null&&(u=U(v,u,d),h===null?g=v:h.sibling=v,h=v);return Qi&&Sh(n,d),g}for(w=Be(n,w);!v.done;d++,v=l.next())v=y(w,n,d,v.value,f),v!==null&&(G&&v.alternate!==null&&w.delete(v.key===null?d:v.key),u=U(v,u,d),h===null?g=v:h.sibling=v,h=v);return G&&w.forEach(function(b){return re(n,b)}),Qi&&Sh(n,d),g}function s(n,u,l,f){if(typeof l=="object"&&l!==null&&l.type===gv&&l.key===null&&(l=l.props.children),typeof l=="object"&&l!==null){switch(l.$$typeof){case G0:e:{for(var g=l.key,h=u;h!==null;){if(h.key===g){if(g=l.type,g===gv){if(h.tag===7){ge(n,h.sibling),u=V(h,l.props.children),u.return=n,n=u;break e}}else if(h.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===Ic&&X2(g)===h.type){ge(n,h.sibling),u=V(h,l.props),u.ref=md(n,h,l),u.return=n,n=u;break e}ge(n,h);break}else re(n,h);h=h.sibling}l.type===gv?(u=Dh(l.props.children,n.mode,f,l.key),u.return=n,n=u):(f=yp(l.type,l.key,l.props,null,n.mode,f),f.ref=md(n,u,l),f.return=n,n=f)}return e(n);case pv:e:{for(h=l.key;u!==null;){if(u.key===h)if(u.tag===4&&u.stateNode.containerInfo===l.containerInfo&&u.stateNode.implementation===l.implementation){ge(n,u.sibling),u=V(u,l.children||[]),u.return=n,n=u;break e}else{ge(n,u);break}else re(n,u);u=u.sibling}u=my(l,n.mode,f),u.return=n,n=u}return e(n);case Ic:return h=l._init,s(n,u,h(l._payload),f)}if(Ad(l))return r(n,u,l,f);if(dd(l))return t(n,u,l,f);ap(n,l)}return typeof l=="string"&&l!==""||typeof l=="number"?(l=""+l,u!==null&&u.tag===6?(ge(n,u.sibling),u=V(u,l),u.return=n,n=u):(ge(n,u),u=yy(l,n.mode,f),u.return=n,n=u),e(n)):ge(n,u)}return s}var zv=yb(!0),mb=yb(!1),t0={},hf=Kc(t0),Xd=Kc(t0),Zd=Kc(t0);function Ph(G){if(G===t0)throw Error(va(174));return G}function _m(G,re){switch(Gi(Zd,re),Gi(Xd,G),Gi(hf,t0),G=re.nodeType,G){case 9:case 11:re=(re=re.documentElement)?re.namespaceURI:Ly(null,"");break;default:G=G===8?re.parentNode:re,re=G.namespaceURI||null,G=G.tagName,re=Ly(re,G)}ji(hf),Gi(hf,re)}function Ov(){ji(hf),ji(Xd),ji(Zd)}function xb(G){Ph(Zd.current);var re=Ph(hf.current),ge=Ly(re,G.type);re!==ge&&(Gi(Xd,G),Gi(hf,ge))}function zm(G){Xd.current===G&&(ji(hf),ji(Xd))}var ao=Kc(0);function Fp(G){for(var re=G;re!==null;){if(re.tag===13){var ge=re.memoizedState;if(ge!==null&&(ge=ge.dehydrated,ge===null||ge.data==="$?"||ge.data==="$!"))return re}else if(re.tag===19&&re.memoizedProps.revealOrder!==void 0){if(re.flags&128)return re}else if(re.child!==null){re.child.return=re,re=re.child;continue}if(re===G)break;for(;re.sibling===null;){if(re.return===null||re.return===G)return null;re=re.return}re.sibling.return=re.return,re=re.sibling}return null}var cy=[];function Om(){for(var G=0;G<cy.length;G++)cy[G]._workInProgressVersionPrimary=null;cy.length=0}var hp=Jf.ReactCurrentDispatcher,hy=Jf.ReactCurrentBatchConfig,Fh=0,io=null,Eo=null,Oo=null,_p=!1,Dd=!1,jd=0,F6=0;function xs(){throw Error(va(321))}function Bm(G,re){if(re===null)return!1;for(var ge=0;ge<re.length&&ge<G.length;ge++)if(!Nu(G[ge],re[ge]))return!1;return!0}function Nm(G,re,ge,Be,V,U){if(Fh=U,io=re,re.memoizedState=null,re.updateQueue=null,re.lanes=0,hp.current=G===null||G.memoizedState===null?B6:N6,G=ge(Be,V),Dd){U=0;do{if(Dd=!1,jd=0,25<=U)throw Error(va(301));U+=1,Oo=Eo=null,re.updateQueue=null,hp.current=U6,G=ge(Be,V)}while(Dd)}if(hp.current=zp,re=Eo!==null&&Eo.next!==null,Fh=0,Oo=Eo=io=null,_p=!1,re)throw Error(va(300));return G}function Um(){var G=jd!==0;return jd=0,G}function uf(){var G={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oo===null?io.memoizedState=Oo=G:Oo=Oo.next=G,Oo}function nu(){if(Eo===null){var G=io.alternate;G=G!==null?G.memoizedState:null}else G=Eo.next;var re=Oo===null?io.memoizedState:Oo.next;if(re!==null)Oo=re,Eo=G;else{if(G===null)throw Error(va(310));Eo=G,G={memoizedState:Eo.memoizedState,baseState:Eo.baseState,baseQueue:Eo.baseQueue,queue:Eo.queue,next:null},Oo===null?io.memoizedState=Oo=G:Oo=Oo.next=G}return Oo}function Kd(G,re){return typeof re=="function"?re(G):re}function vy(G){var re=nu(),ge=re.queue;if(ge===null)throw Error(va(311));ge.lastRenderedReducer=G;var Be=Eo,V=Be.baseQueue,U=ge.pending;if(U!==null){if(V!==null){var e=V.next;V.next=U.next,U.next=e}Be.baseQueue=V=U,ge.pending=null}if(V!==null){U=V.next,Be=Be.baseState;var x=e=null,P=null,i=U;do{var L=i.lane;if((Fh&L)===L)P!==null&&(P=P.next={lane:0,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null}),Be=i.hasEagerState?i.eagerState:G(Be,i.action);else{var C={lane:L,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null};P===null?(x=P=C,e=Be):P=P.next=C,io.lanes|=L,_h|=L}i=i.next}while(i!==null&&i!==U);P===null?e=Be:P.next=x,Nu(Be,re.memoizedState)||(nl=!0),re.memoizedState=Be,re.baseState=e,re.baseQueue=P,ge.lastRenderedState=Be}if(G=ge.interleaved,G!==null){V=G;do U=V.lane,io.lanes|=U,_h|=U,V=V.next;while(V!==G)}else V===null&&(ge.lanes=0);return[re.memoizedState,ge.dispatch]}function dy(G){var re=nu(),ge=re.queue;if(ge===null)throw Error(va(311));ge.lastRenderedReducer=G;var Be=ge.dispatch,V=ge.pending,U=re.memoizedState;if(V!==null){ge.pending=null;var e=V=V.next;do U=G(U,e.action),e=e.next;while(e!==V);Nu(U,re.memoizedState)||(nl=!0),re.memoizedState=U,re.baseQueue===null&&(re.baseState=U),ge.lastRenderedState=U}return[U,Be]}function bb(){}function wb(G,re){var ge=io,Be=nu(),V=re(),U=!Nu(Be.memoizedState,V);if(U&&(Be.memoizedState=V,nl=!0),Be=Be.queue,Vm(Mb.bind(null,ge,Be,G),[G]),Be.getSnapshot!==re||U||Oo!==null&&Oo.memoizedState.tag&1){if(ge.flags|=2048,Jd(9,Ab.bind(null,ge,Be,V,re),void 0,null),Bo===null)throw Error(va(349));Fh&30||Tb(ge,re,V)}return V}function Tb(G,re,ge){G.flags|=16384,G={getSnapshot:re,value:ge},re=io.updateQueue,re===null?(re={lastEffect:null,stores:null},io.updateQueue=re,re.stores=[G]):(ge=re.stores,ge===null?re.stores=[G]:ge.push(G))}function Ab(G,re,ge,Be){re.value=ge,re.getSnapshot=Be,Sb(re)&&Eb(G)}function Mb(G,re,ge){return ge(function(){Sb(re)&&Eb(G)})}function Sb(G){var re=G.getSnapshot;G=G.value;try{var ge=re();return!Nu(G,ge)}catch(Be){return!0}}function Eb(G){var re=jf(G,1);re!==null&&Bu(re,G,1,-1)}function Z2(G){var re=uf();return typeof G=="function"&&(G=G()),re.memoizedState=re.baseState=G,G={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:G},re.queue=G,G=G.dispatch=O6.bind(null,io,G),[re.memoizedState,G]}function Jd(G,re,ge,Be){return G={tag:G,create:re,destroy:ge,deps:Be,next:null},re=io.updateQueue,re===null?(re={lastEffect:null,stores:null},io.updateQueue=re,re.lastEffect=G.next=G):(ge=re.lastEffect,ge===null?re.lastEffect=G.next=G:(Be=ge.next,ge.next=G,G.next=Be,re.lastEffect=G)),G}function Cb(){return nu().memoizedState}function vp(G,re,ge,Be){var V=uf();io.flags|=G,V.memoizedState=Jd(1|re,ge,void 0,Be===void 0?null:Be)}function Kp(G,re,ge,Be){var V=nu();Be=Be===void 0?null:Be;var U=void 0;if(Eo!==null){var e=Eo.memoizedState;if(U=e.destroy,Be!==null&&Bm(Be,e.deps)){V.memoizedState=Jd(re,ge,U,Be);return}}io.flags|=G,V.memoizedState=Jd(1|re,ge,U,Be)}function j2(G,re){return vp(8390656,8,G,re)}function Vm(G,re){return Kp(2048,8,G,re)}function Lb(G,re){return Kp(4,2,G,re)}function Pb(G,re){return Kp(4,4,G,re)}function Rb(G,re){if(typeof re=="function")return G=G(),re(G),function(){re(null)};if(re!=null)return G=G(),re.current=G,function(){re.current=null}}function Db(G,re,ge){return ge=ge!=null?ge.concat([G]):null,Kp(4,4,Rb.bind(null,re,G),ge)}function Hm(){}function Ib(G,re){var ge=nu();re=re===void 0?null:re;var Be=ge.memoizedState;return Be!==null&&re!==null&&Bm(re,Be[1])?Be[0]:(ge.memoizedState=[G,re],G)}function kb(G,re){var ge=nu();re=re===void 0?null:re;var Be=ge.memoizedState;return Be!==null&&re!==null&&Bm(re,Be[1])?Be[0]:(G=G(),ge.memoizedState=[G,re],G)}function Fb(G,re,ge){return Fh&21?(Nu(ge,re)||(ge=O3(),io.lanes|=ge,_h|=ge,G.baseState=!0),re):(G.baseState&&(G.baseState=!1,nl=!0),G.memoizedState=ge)}function _6(G,re){var ge=ki;ki=ge!==0&&4>ge?ge:4,G(!0);var Be=hy.transition;hy.transition={};try{G(!1),re()}finally{ki=ge,hy.transition=Be}}function _b(){return nu().memoizedState}function z6(G,re,ge){var Be=Wc(G);if(ge={lane:Be,action:ge,hasEagerState:!1,eagerState:null,next:null},zb(G))Ob(re,ge);else if(ge=vb(G,re,ge,Be),ge!==null){var V=Vs();Bu(ge,G,Be,V),Bb(ge,re,Be)}}function O6(G,re,ge){var Be=Wc(G),V={lane:Be,action:ge,hasEagerState:!1,eagerState:null,next:null};if(zb(G))Ob(re,V);else{var U=G.alternate;if(G.lanes===0&&(U===null||U.lanes===0)&&(U=re.lastRenderedReducer,U!==null))try{var e=re.lastRenderedState,x=U(e,ge);if(V.hasEagerState=!0,V.eagerState=x,Nu(x,e)){var P=re.interleaved;P===null?(V.next=V,km(re)):(V.next=P.next,P.next=V),re.interleaved=V;return}}catch(i){}finally{}ge=vb(G,re,V,Be),ge!==null&&(V=Vs(),Bu(ge,G,Be,V),Bb(ge,re,Be))}}function zb(G){var re=G.alternate;return G===io||re!==null&&re===io}function Ob(G,re){Dd=_p=!0;var ge=G.pending;ge===null?re.next=re:(re.next=ge.next,ge.next=re),G.pending=re}function Bb(G,re,ge){if(ge&4194240){var Be=re.lanes;Be&=G.pendingLanes,ge|=Be,re.lanes=ge,xm(G,ge)}}var zp={readContext:ru,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},B6={readContext:ru,useCallback:function(G,re){return uf().memoizedState=[G,re===void 0?null:re],G},useContext:ru,useEffect:j2,useImperativeHandle:function(G,re,ge){return ge=ge!=null?ge.concat([G]):null,vp(4194308,4,Rb.bind(null,re,G),ge)},useLayoutEffect:function(G,re){return vp(4194308,4,G,re)},useInsertionEffect:function(G,re){return vp(4,2,G,re)},useMemo:function(G,re){var ge=uf();return re=re===void 0?null:re,G=G(),ge.memoizedState=[G,re],G},useReducer:function(G,re,ge){var Be=uf();return re=ge!==void 0?ge(re):re,Be.memoizedState=Be.baseState=re,G={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:G,lastRenderedState:re},Be.queue=G,G=G.dispatch=z6.bind(null,io,G),[Be.memoizedState,G]},useRef:function(G){var re=uf();return G={current:G},re.memoizedState=G},useState:Z2,useDebugValue:Hm,useDeferredValue:function(G){return uf().memoizedState=G},useTransition:function(){var G=Z2(!1),re=G[0];return G=_6.bind(null,G[1]),uf().memoizedState=G,[re,G]},useMutableSource:function(){},useSyncExternalStore:function(G,re,ge){var Be=io,V=uf();if(Qi){if(ge===void 0)throw Error(va(407));ge=ge()}else{if(ge=re(),Bo===null)throw Error(va(349));Fh&30||Tb(Be,re,ge)}V.memoizedState=ge;var U={value:ge,getSnapshot:re};return V.queue=U,j2(Mb.bind(null,Be,U,G),[G]),Be.flags|=2048,Jd(9,Ab.bind(null,Be,U,ge,re),void 0,null),ge},useId:function(){var G=uf(),re=Bo.identifierPrefix;if(Qi){var ge=Wf,Be=Gf;ge=(Be&~(1<<32-Ou(Be)-1)).toString(32)+ge,re=":"+re+"R"+ge,ge=jd++,0<ge&&(re+="H"+ge.toString(32)),re+=":"}else ge=F6++,re=":"+re+"r"+ge.toString(32)+":";return G.memoizedState=re},unstable_isNewReconciler:!1},N6={readContext:ru,useCallback:Ib,useContext:ru,useEffect:Vm,useImperativeHandle:Db,useInsertionEffect:Lb,useLayoutEffect:Pb,useMemo:kb,useReducer:vy,useRef:Cb,useState:function(){return vy(Kd)},useDebugValue:Hm,useDeferredValue:function(G){var re=nu();return Fb(re,Eo.memoizedState,G)},useTransition:function(){var G=vy(Kd)[0],re=nu().memoizedState;return[G,re]},useMutableSource:bb,useSyncExternalStore:wb,useId:_b,unstable_isNewReconciler:!1},U6={readContext:ru,useCallback:Ib,useContext:ru,useEffect:Vm,useImperativeHandle:Db,useInsertionEffect:Lb,useLayoutEffect:Pb,useMemo:kb,useReducer:dy,useRef:Cb,useState:function(){return dy(Kd)},useDebugValue:Hm,useDeferredValue:function(G){var re=nu();return Eo===null?re.memoizedState=G:Fb(re,Eo.memoizedState,G)},useTransition:function(){var G=dy(Kd)[0],re=nu().memoizedState;return[G,re]},useMutableSource:bb,useSyncExternalStore:wb,useId:_b,unstable_isNewReconciler:!1};function Bv(G,re){try{var ge="",Be=re;do ge+=g5(Be),Be=Be.return;while(Be);var V=ge}catch(U){V=`
Error generating stack: `+U.message+`
`+U.stack}return{value:G,source:re,stack:V,digest:null}}function py(G,re,ge){return{value:G,source:null,stack:ge!=null?ge:null,digest:re!=null?re:null}}function Qy(G,re){try{console.error(re.value)}catch(ge){setTimeout(function(){throw ge})}}var V6=typeof WeakMap=="function"?WeakMap:Map;function Nb(G,re,ge){ge=Yf(-1,ge),ge.tag=3,ge.payload={element:null};var Be=re.value;return ge.callback=function(){Bp||(Bp=!0,sm=Be),Qy(G,re)},ge}function Ub(G,re,ge){ge=Yf(-1,ge),ge.tag=3;var Be=G.type.getDerivedStateFromError;if(typeof Be=="function"){var V=re.value;ge.payload=function(){return Be(V)},ge.callback=function(){Qy(G,re)}}var U=G.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(ge.callback=function(){Qy(G,re),typeof Be!="function"&&(Gc===null?Gc=new Set([this]):Gc.add(this));var e=re.stack;this.componentDidCatch(re.value,{componentStack:e!==null?e:""})}),ge}function K2(G,re,ge){var Be=G.pingCache;if(Be===null){Be=G.pingCache=new V6;var V=new Set;Be.set(re,V)}else V=Be.get(re),V===void 0&&(V=new Set,Be.set(re,V));V.has(ge)||(V.add(ge),G=tM.bind(null,G,re,ge),re.then(G,G))}function J2(G){do{var re;if((re=G.tag===13)&&(re=G.memoizedState,re=re!==null?re.dehydrated!==null:!0),re)return G;G=G.return}while(G!==null);return null}function Q2(G,re,ge,Be,V){return G.mode&1?(G.flags|=65536,G.lanes=V,G):(G===re?G.flags|=65536:(G.flags|=128,ge.flags|=131072,ge.flags&=-52805,ge.tag===1&&(ge.alternate===null?ge.tag=17:(re=Yf(-1,1),re.tag=2,Hc(ge,re,1))),ge.lanes|=1),G)}var H6=Jf.ReactCurrentOwner,nl=!1;function Us(G,re,ge,Be){re.child=G===null?mb(re,null,ge,Be):zv(re,G.child,ge,Be)}function $2(G,re,ge,Be,V){ge=ge.render;var U=re.ref;return Dv(re,V),Be=Nm(G,re,ge,Be,U,V),ge=Um(),G!==null&&!nl?(re.updateQueue=G.updateQueue,re.flags&=-2053,G.lanes&=~V,Kf(G,re,V)):(Qi&&ge&&Cm(re),re.flags|=1,Us(G,re,Be,V),re.child)}function q2(G,re,ge,Be,V){if(G===null){var U=ge.type;return typeof U=="function"&&!Jm(U)&&U.defaultProps===void 0&&ge.compare===null&&ge.defaultProps===void 0?(re.tag=15,re.type=U,Vb(G,re,U,Be,V)):(G=yp(ge.type,null,Be,re,re.mode,V),G.ref=re.ref,G.return=re,re.child=G)}if(U=G.child,!(G.lanes&V)){var e=U.memoizedProps;if(ge=ge.compare,ge=ge!==null?ge:Hd,ge(e,Be)&&G.ref===re.ref)return Kf(G,re,V)}return re.flags|=1,G=Yc(U,Be),G.ref=re.ref,G.return=re,re.child=G}function Vb(G,re,ge,Be,V){if(G!==null){var U=G.memoizedProps;if(Hd(U,Be)&&G.ref===re.ref)if(nl=!1,re.pendingProps=Be=U,(G.lanes&V)!==0)G.flags&131072&&(nl=!0);else return re.lanes=G.lanes,Kf(G,re,V)}return $y(G,re,ge,Be,V)}function Hb(G,re,ge){var Be=re.pendingProps,V=Be.children,U=G!==null?G.memoizedState:null;if(Be.mode==="hidden")if(!(re.mode&1))re.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gi(Ev,Tl),Tl|=ge;else{if(!(ge&1073741824))return G=U!==null?U.baseLanes|ge:ge,re.lanes=re.childLanes=1073741824,re.memoizedState={baseLanes:G,cachePool:null,transitions:null},re.updateQueue=null,Gi(Ev,Tl),Tl|=G,null;re.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be=U!==null?U.baseLanes:ge,Gi(Ev,Tl),Tl|=Be}else U!==null?(Be=U.baseLanes|ge,re.memoizedState=null):Be=ge,Gi(Ev,Tl),Tl|=Be;return Us(G,re,V,ge),re.child}function Gb(G,re){var ge=re.ref;(G===null&&ge!==null||G!==null&&G.ref!==ge)&&(re.flags|=512,re.flags|=2097152)}function $y(G,re,ge,Be,V){var U=il(ge)?Ih:Ts.current;return U=Fv(re,U),Dv(re,V),ge=Nm(G,re,ge,Be,U,V),Be=Um(),G!==null&&!nl?(re.updateQueue=G.updateQueue,re.flags&=-2053,G.lanes&=~V,Kf(G,re,V)):(Qi&&Be&&Cm(re),re.flags|=1,Us(G,re,ge,V),re.child)}function e3(G,re,ge,Be,V){if(il(ge)){var U=!0;Lp(re)}else U=!1;if(Dv(re,V),re.stateNode===null)dp(G,re),gb(re,ge,Be),Jy(re,ge,Be,V),Be=!0;else if(G===null){var e=re.stateNode,x=re.memoizedProps;e.props=x;var P=e.context,i=ge.contextType;typeof i=="object"&&i!==null?i=ru(i):(i=il(ge)?Ih:Ts.current,i=Fv(re,i));var L=ge.getDerivedStateFromProps,C=typeof L=="function"||typeof e.getSnapshotBeforeUpdate=="function";C||typeof e.UNSAFE_componentWillReceiveProps!="function"&&typeof e.componentWillReceiveProps!="function"||(x!==Be||P!==i)&&Y2(re,e,Be,i),kc=!1;var c=re.memoizedState;e.state=c,kp(re,Be,e,V),P=re.memoizedState,x!==Be||c!==P||al.current||kc?(typeof L=="function"&&(Ky(re,ge,L,Be),P=re.memoizedState),(x=kc||W2(re,ge,x,Be,c,P,i))?(C||typeof e.UNSAFE_componentWillMount!="function"&&typeof e.componentWillMount!="function"||(typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount()),typeof e.componentDidMount=="function"&&(re.flags|=4194308)):(typeof e.componentDidMount=="function"&&(re.flags|=4194308),re.memoizedProps=Be,re.memoizedState=P),e.props=Be,e.state=P,e.context=i,Be=x):(typeof e.componentDidMount=="function"&&(re.flags|=4194308),Be=!1)}else{e=re.stateNode,db(G,re),x=re.memoizedProps,i=re.type===re.elementType?x:Fu(re.type,x),e.props=i,C=re.pendingProps,c=e.context,P=ge.contextType,typeof P=="object"&&P!==null?P=ru(P):(P=il(ge)?Ih:Ts.current,P=Fv(re,P));var y=ge.getDerivedStateFromProps;(L=typeof y=="function"||typeof e.getSnapshotBeforeUpdate=="function")||typeof e.UNSAFE_componentWillReceiveProps!="function"&&typeof e.componentWillReceiveProps!="function"||(x!==C||c!==P)&&Y2(re,e,Be,P),kc=!1,c=re.memoizedState,e.state=c,kp(re,Be,e,V);var r=re.memoizedState;x!==C||c!==r||al.current||kc?(typeof y=="function"&&(Ky(re,ge,y,Be),r=re.memoizedState),(i=kc||W2(re,ge,i,Be,c,r,P)||!1)?(L||typeof e.UNSAFE_componentWillUpdate!="function"&&typeof e.componentWillUpdate!="function"||(typeof e.componentWillUpdate=="function"&&e.componentWillUpdate(Be,r,P),typeof e.UNSAFE_componentWillUpdate=="function"&&e.UNSAFE_componentWillUpdate(Be,r,P)),typeof e.componentDidUpdate=="function"&&(re.flags|=4),typeof e.getSnapshotBeforeUpdate=="function"&&(re.flags|=1024)):(typeof e.componentDidUpdate!="function"||x===G.memoizedProps&&c===G.memoizedState||(re.flags|=4),typeof e.getSnapshotBeforeUpdate!="function"||x===G.memoizedProps&&c===G.memoizedState||(re.flags|=1024),re.memoizedProps=Be,re.memoizedState=r),e.props=Be,e.state=r,e.context=P,Be=i):(typeof e.componentDidUpdate!="function"||x===G.memoizedProps&&c===G.memoizedState||(re.flags|=4),typeof e.getSnapshotBeforeUpdate!="function"||x===G.memoizedProps&&c===G.memoizedState||(re.flags|=1024),Be=!1)}return qy(G,re,ge,Be,U,V)}function qy(G,re,ge,Be,V,U){Gb(G,re);var e=(re.flags&128)!==0;if(!Be&&!e)return V&&N2(re,ge,!1),Kf(G,re,U);Be=re.stateNode,H6.current=re;var x=e&&typeof ge.getDerivedStateFromError!="function"?null:Be.render();return re.flags|=1,G!==null&&e?(re.child=zv(re,G.child,null,U),re.child=zv(re,null,x,U)):Us(G,re,x,U),re.memoizedState=Be.state,V&&N2(re,ge,!0),re.child}function Wb(G){var re=G.stateNode;re.pendingContext?B2(G,re.pendingContext,re.pendingContext!==re.context):re.context&&B2(G,re.context,!1),_m(G,re.containerInfo)}function t3(G,re,ge,Be,V){return _v(),Pm(V),re.flags|=256,Us(G,re,ge,Be),re.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(G){return{baseLanes:G,cachePool:null,transitions:null}}function Yb(G,re,ge){var Be=re.pendingProps,V=ao.current,U=!1,e=(re.flags&128)!==0,x;if((x=e)||(x=G!==null&&G.memoizedState===null?!1:(V&2)!==0),x?(U=!0,re.flags&=-129):(G===null||G.memoizedState!==null)&&(V|=1),Gi(ao,V&1),G===null)return Zy(re),G=re.memoizedState,G!==null&&(G=G.dehydrated,G!==null)?(re.mode&1?G.data==="$!"?re.lanes=8:re.lanes=1073741824:re.lanes=1,null):(e=Be.children,G=Be.fallback,U?(Be=re.mode,U=re.child,e={mode:"hidden",children:e},!(Be&1)&&U!==null?(U.childLanes=0,U.pendingProps=e):U=$p(e,Be,0,null),G=Dh(G,Be,ge,null),U.return=re,G.return=re,U.sibling=G,re.child=U,re.child.memoizedState=tm(ge),re.memoizedState=em,G):Gm(re,e));if(V=G.memoizedState,V!==null&&(x=V.dehydrated,x!==null))return G6(G,re,e,Be,x,V,ge);if(U){U=Be.fallback,e=re.mode,V=G.child,x=V.sibling;var P={mode:"hidden",children:Be.children};return!(e&1)&&re.child!==V?(Be=re.child,Be.childLanes=0,Be.pendingProps=P,re.deletions=null):(Be=Yc(V,P),Be.subtreeFlags=V.subtreeFlags&14680064),x!==null?U=Yc(x,U):(U=Dh(U,e,ge,null),U.flags|=2),U.return=re,Be.return=re,Be.sibling=U,re.child=Be,Be=U,U=re.child,e=G.child.memoizedState,e=e===null?tm(ge):{baseLanes:e.baseLanes|ge,cachePool:null,transitions:e.transitions},U.memoizedState=e,U.childLanes=G.childLanes&~ge,re.memoizedState=em,Be}return U=G.child,G=U.sibling,Be=Yc(U,{mode:"visible",children:Be.children}),!(re.mode&1)&&(Be.lanes=ge),Be.return=re,Be.sibling=null,G!==null&&(ge=re.deletions,ge===null?(re.deletions=[G],re.flags|=16):ge.push(G)),re.child=Be,re.memoizedState=null,Be}function Gm(G,re){return re=$p({mode:"visible",children:re},G.mode,0,null),re.return=G,G.child=re}function ip(G,re,ge,Be){return Be!==null&&Pm(Be),zv(re,G.child,null,ge),G=Gm(re,re.pendingProps.children),G.flags|=2,re.memoizedState=null,G}function G6(G,re,ge,Be,V,U,e){if(ge)return re.flags&256?(re.flags&=-257,Be=py(Error(va(422))),ip(G,re,e,Be)):re.memoizedState!==null?(re.child=G.child,re.flags|=128,null):(U=Be.fallback,V=re.mode,Be=$p({mode:"visible",children:Be.children},V,0,null),U=Dh(U,V,e,null),U.flags|=2,Be.return=re,U.return=re,Be.sibling=U,re.child=Be,re.mode&1&&zv(re,G.child,null,e),re.child.memoizedState=tm(e),re.memoizedState=em,U);if(!(re.mode&1))return ip(G,re,e,null);if(V.data==="$!"){if(Be=V.nextSibling&&V.nextSibling.dataset,Be)var x=Be.dgst;return Be=x,U=Error(va(419)),Be=py(U,Be,void 0),ip(G,re,e,Be)}if(x=(e&G.childLanes)!==0,nl||x){if(Be=Bo,Be!==null){switch(e&-e){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}V=V&(Be.suspendedLanes|e)?0:V,V!==0&&V!==U.retryLane&&(U.retryLane=V,jf(G,V),Bu(Be,G,V,-1))}return Km(),Be=py(Error(va(421))),ip(G,re,e,Be)}return V.data==="$?"?(re.flags|=128,re.child=G.child,re=rM.bind(null,G),V._reactRetry=re,null):(G=U.treeContext,Al=Vc(V.nextSibling),Ml=re,Qi=!0,zu=null,G!==null&&($l[ql++]=Gf,$l[ql++]=Wf,$l[ql++]=kh,Gf=G.id,Wf=G.overflow,kh=re),re=Gm(re,Be.children),re.flags|=4096,re)}function r3(G,re,ge){G.lanes|=re;var Be=G.alternate;Be!==null&&(Be.lanes|=re),jy(G.return,re,ge)}function gy(G,re,ge,Be,V){var U=G.memoizedState;U===null?G.memoizedState={isBackwards:re,rendering:null,renderingStartTime:0,last:Be,tail:ge,tailMode:V}:(U.isBackwards=re,U.rendering=null,U.renderingStartTime=0,U.last=Be,U.tail=ge,U.tailMode=V)}function Xb(G,re,ge){var Be=re.pendingProps,V=Be.revealOrder,U=Be.tail;if(Us(G,re,Be.children,ge),Be=ao.current,Be&2)Be=Be&1|2,re.flags|=128;else{if(G!==null&&G.flags&128)e:for(G=re.child;G!==null;){if(G.tag===13)G.memoizedState!==null&&r3(G,ge,re);else if(G.tag===19)r3(G,ge,re);else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===re)break e;for(;G.sibling===null;){if(G.return===null||G.return===re)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}Be&=1}if(Gi(ao,Be),!(re.mode&1))re.memoizedState=null;else switch(V){case"forwards":for(ge=re.child,V=null;ge!==null;)G=ge.alternate,G!==null&&Fp(G)===null&&(V=ge),ge=ge.sibling;ge=V,ge===null?(V=re.child,re.child=null):(V=ge.sibling,ge.sibling=null),gy(re,!1,V,ge,U);break;case"backwards":for(ge=null,V=re.child,re.child=null;V!==null;){if(G=V.alternate,G!==null&&Fp(G)===null){re.child=V;break}G=V.sibling,V.sibling=ge,ge=V,V=G}gy(re,!0,ge,null,U);break;case"together":gy(re,!1,null,null,void 0);break;default:re.memoizedState=null}return re.child}function dp(G,re){!(re.mode&1)&&G!==null&&(G.alternate=null,re.alternate=null,re.flags|=2)}function Kf(G,re,ge){if(G!==null&&(re.dependencies=G.dependencies),_h|=re.lanes,!(ge&re.childLanes))return null;if(G!==null&&re.child!==G.child)throw Error(va(153));if(re.child!==null){for(G=re.child,ge=Yc(G,G.pendingProps),re.child=ge,ge.return=re;G.sibling!==null;)G=G.sibling,ge=ge.sibling=Yc(G,G.pendingProps),ge.return=re;ge.sibling=null}return re.child}function W6(G,re,ge){switch(re.tag){case 3:Wb(re),_v();break;case 5:xb(re);break;case 1:il(re.type)&&Lp(re);break;case 4:_m(re,re.stateNode.containerInfo);break;case 10:var Be=re.type._context,V=re.memoizedProps.value;Gi(Dp,Be._currentValue),Be._currentValue=V;break;case 13:if(Be=re.memoizedState,Be!==null)return Be.dehydrated!==null?(Gi(ao,ao.current&1),re.flags|=128,null):ge&re.child.childLanes?Yb(G,re,ge):(Gi(ao,ao.current&1),G=Kf(G,re,ge),G!==null?G.sibling:null);Gi(ao,ao.current&1);break;case 19:if(Be=(ge&re.childLanes)!==0,G.flags&128){if(Be)return Xb(G,re,ge);re.flags|=128}if(V=re.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),Gi(ao,ao.current),Be)break;return null;case 22:case 23:return re.lanes=0,Hb(G,re,ge)}return Kf(G,re,ge)}var Zb,rm,jb,Kb;Zb=function(G,re){for(var ge=re.child;ge!==null;){if(ge.tag===5||ge.tag===6)G.appendChild(ge.stateNode);else if(ge.tag!==4&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===re)break;for(;ge.sibling===null;){if(ge.return===null||ge.return===re)return;ge=ge.return}ge.sibling.return=ge.return,ge=ge.sibling}};rm=function(){};jb=function(G,re,ge,Be){var V=G.memoizedProps;if(V!==Be){G=re.stateNode,Ph(hf.current);var U=null;switch(ge){case"input":V=My(G,V),Be=My(G,Be),U=[];break;case"select":V=oo({},V,{value:void 0}),Be=oo({},Be,{value:void 0}),U=[];break;case"textarea":V=Cy(G,V),Be=Cy(G,Be),U=[];break;default:typeof V.onClick!="function"&&typeof Be.onClick=="function"&&(G.onclick=Ep)}Py(ge,Be);var e;ge=null;for(i in V)if(!Be.hasOwnProperty(i)&&V.hasOwnProperty(i)&&V[i]!=null)if(i==="style"){var x=V[i];for(e in x)x.hasOwnProperty(e)&&(ge||(ge={}),ge[e]="")}else i!=="dangerouslySetInnerHTML"&&i!=="children"&&i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_d.hasOwnProperty(i)?U||(U=[]):(U=U||[]).push(i,null));for(i in Be){var P=Be[i];if(x=V!=null?V[i]:void 0,Be.hasOwnProperty(i)&&P!==x&&(P!=null||x!=null))if(i==="style")if(x){for(e in x)!x.hasOwnProperty(e)||P&&P.hasOwnProperty(e)||(ge||(ge={}),ge[e]="");for(e in P)P.hasOwnProperty(e)&&x[e]!==P[e]&&(ge||(ge={}),ge[e]=P[e])}else ge||(U||(U=[]),U.push(i,ge)),ge=P;else i==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,x=x?x.__html:void 0,P!=null&&x!==P&&(U=U||[]).push(i,P)):i==="children"?typeof P!="string"&&typeof P!="number"||(U=U||[]).push(i,""+P):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&(_d.hasOwnProperty(i)?(P!=null&&i==="onScroll"&&Zi("scroll",G),U||x===P||(U=[])):(U=U||[]).push(i,P))}ge&&(U=U||[]).push("style",ge);var i=U;(re.updateQueue=i)&&(re.flags|=4)}};Kb=function(G,re,ge,Be){ge!==Be&&(re.flags|=4)};function xd(G,re){if(!Qi)switch(G.tailMode){case"hidden":re=G.tail;for(var ge=null;re!==null;)re.alternate!==null&&(ge=re),re=re.sibling;ge===null?G.tail=null:ge.sibling=null;break;case"collapsed":ge=G.tail;for(var Be=null;ge!==null;)ge.alternate!==null&&(Be=ge),ge=ge.sibling;Be===null?re||G.tail===null?G.tail=null:G.tail.sibling=null:Be.sibling=null}}function bs(G){var re=G.alternate!==null&&G.alternate.child===G.child,ge=0,Be=0;if(re)for(var V=G.child;V!==null;)ge|=V.lanes|V.childLanes,Be|=V.subtreeFlags&14680064,Be|=V.flags&14680064,V.return=G,V=V.sibling;else for(V=G.child;V!==null;)ge|=V.lanes|V.childLanes,Be|=V.subtreeFlags,Be|=V.flags,V.return=G,V=V.sibling;return G.subtreeFlags|=Be,G.childLanes=ge,re}function Y6(G,re,ge){var Be=re.pendingProps;switch(Lm(re),re.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(re),null;case 1:return il(re.type)&&Cp(),bs(re),null;case 3:return Be=re.stateNode,Ov(),ji(al),ji(Ts),Om(),Be.pendingContext&&(Be.context=Be.pendingContext,Be.pendingContext=null),(G===null||G.child===null)&&(np(re)?re.flags|=4:G===null||G.memoizedState.isDehydrated&&!(re.flags&256)||(re.flags|=1024,zu!==null&&(fm(zu),zu=null))),rm(G,re),bs(re),null;case 5:zm(re);var V=Ph(Zd.current);if(ge=re.type,G!==null&&re.stateNode!=null)jb(G,re,ge,Be,V),G.ref!==re.ref&&(re.flags|=512,re.flags|=2097152);else{if(!Be){if(re.stateNode===null)throw Error(va(166));return bs(re),null}if(G=Ph(hf.current),np(re)){Be=re.stateNode,ge=re.type;var U=re.memoizedProps;switch(Be[ff]=re,Be[Yd]=U,G=(re.mode&1)!==0,ge){case"dialog":Zi("cancel",Be),Zi("close",Be);break;case"iframe":case"object":case"embed":Zi("load",Be);break;case"video":case"audio":for(V=0;V<Sd.length;V++)Zi(Sd[V],Be);break;case"source":Zi("error",Be);break;case"img":case"image":case"link":Zi("error",Be),Zi("load",Be);break;case"details":Zi("toggle",Be);break;case"input":f2(Be,U),Zi("invalid",Be);break;case"select":Be._wrapperState={wasMultiple:!!U.multiple},Zi("invalid",Be);break;case"textarea":h2(Be,U),Zi("invalid",Be)}Py(ge,U),V=null;for(var e in U)if(U.hasOwnProperty(e)){var x=U[e];e==="children"?typeof x=="string"?Be.textContent!==x&&(U.suppressHydrationWarning!==!0&&rp(Be.textContent,x,G),V=["children",x]):typeof x=="number"&&Be.textContent!==""+x&&(U.suppressHydrationWarning!==!0&&rp(Be.textContent,x,G),V=["children",""+x]):_d.hasOwnProperty(e)&&x!=null&&e==="onScroll"&&Zi("scroll",Be)}switch(ge){case"input":W0(Be),c2(Be,U,!0);break;case"textarea":W0(Be),v2(Be);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(Be.onclick=Ep)}Be=V,re.updateQueue=Be,Be!==null&&(re.flags|=4)}else{e=V.nodeType===9?V:V.ownerDocument,G==="http://www.w3.org/1999/xhtml"&&(G=T3(ge)),G==="http://www.w3.org/1999/xhtml"?ge==="script"?(G=e.createElement("div"),G.innerHTML="<script><\/script>",G=G.removeChild(G.firstChild)):typeof Be.is=="string"?G=e.createElement(ge,{is:Be.is}):(G=e.createElement(ge),ge==="select"&&(e=G,Be.multiple?e.multiple=!0:Be.size&&(e.size=Be.size))):G=e.createElementNS(G,ge),G[ff]=re,G[Yd]=Be,Zb(G,re,!1,!1),re.stateNode=G;e:{switch(e=Ry(ge,Be),ge){case"dialog":Zi("cancel",G),Zi("close",G),V=Be;break;case"iframe":case"object":case"embed":Zi("load",G),V=Be;break;case"video":case"audio":for(V=0;V<Sd.length;V++)Zi(Sd[V],G);V=Be;break;case"source":Zi("error",G),V=Be;break;case"img":case"image":case"link":Zi("error",G),Zi("load",G),V=Be;break;case"details":Zi("toggle",G),V=Be;break;case"input":f2(G,Be),V=My(G,Be),Zi("invalid",G);break;case"option":V=Be;break;case"select":G._wrapperState={wasMultiple:!!Be.multiple},V=oo({},Be,{value:void 0}),Zi("invalid",G);break;case"textarea":h2(G,Be),V=Cy(G,Be),Zi("invalid",G);break;default:V=Be}Py(ge,V),x=V;for(U in x)if(x.hasOwnProperty(U)){var P=x[U];U==="style"?S3(G,P):U==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&A3(G,P)):U==="children"?typeof P=="string"?(ge!=="textarea"||P!=="")&&zd(G,P):typeof P=="number"&&zd(G,""+P):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(_d.hasOwnProperty(U)?P!=null&&U==="onScroll"&&Zi("scroll",G):P!=null&&vm(G,U,P,e))}switch(ge){case"input":W0(G),c2(G,Be,!1);break;case"textarea":W0(G),v2(G);break;case"option":Be.value!=null&&G.setAttribute("value",""+Xc(Be.value));break;case"select":G.multiple=!!Be.multiple,U=Be.value,U!=null?Cv(G,!!Be.multiple,U,!1):Be.defaultValue!=null&&Cv(G,!!Be.multiple,Be.defaultValue,!0);break;default:typeof V.onClick=="function"&&(G.onclick=Ep)}switch(ge){case"button":case"input":case"select":case"textarea":Be=!!Be.autoFocus;break e;case"img":Be=!0;break e;default:Be=!1}}Be&&(re.flags|=4)}re.ref!==null&&(re.flags|=512,re.flags|=2097152)}return bs(re),null;case 6:if(G&&re.stateNode!=null)Kb(G,re,G.memoizedProps,Be);else{if(typeof Be!="string"&&re.stateNode===null)throw Error(va(166));if(ge=Ph(Zd.current),Ph(hf.current),np(re)){if(Be=re.stateNode,ge=re.memoizedProps,Be[ff]=re,(U=Be.nodeValue!==ge)&&(G=Ml,G!==null))switch(G.tag){case 3:rp(Be.nodeValue,ge,(G.mode&1)!==0);break;case 5:G.memoizedProps.suppressHydrationWarning!==!0&&rp(Be.nodeValue,ge,(G.mode&1)!==0)}U&&(re.flags|=4)}else Be=(ge.nodeType===9?ge:ge.ownerDocument).createTextNode(Be),Be[ff]=re,re.stateNode=Be}return bs(re),null;case 13:if(ji(ao),Be=re.memoizedState,G===null||G.memoizedState!==null&&G.memoizedState.dehydrated!==null){if(Qi&&Al!==null&&re.mode&1&&!(re.flags&128))hb(),_v(),re.flags|=98560,U=!1;else if(U=np(re),Be!==null&&Be.dehydrated!==null){if(G===null){if(!U)throw Error(va(318));if(U=re.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(va(317));U[ff]=re}else _v(),!(re.flags&128)&&(re.memoizedState=null),re.flags|=4;bs(re),U=!1}else zu!==null&&(fm(zu),zu=null),U=!0;if(!U)return re.flags&65536?re:null}return re.flags&128?(re.lanes=ge,re):(Be=Be!==null,Be!==(G!==null&&G.memoizedState!==null)&&Be&&(re.child.flags|=8192,re.mode&1&&(G===null||ao.current&1?Co===0&&(Co=3):Km())),re.updateQueue!==null&&(re.flags|=4),bs(re),null);case 4:return Ov(),rm(G,re),G===null&&Gd(re.stateNode.containerInfo),bs(re),null;case 10:return Im(re.type._context),bs(re),null;case 17:return il(re.type)&&Cp(),bs(re),null;case 19:if(ji(ao),U=re.memoizedState,U===null)return bs(re),null;if(Be=(re.flags&128)!==0,e=U.rendering,e===null)if(Be)xd(U,!1);else{if(Co!==0||G!==null&&G.flags&128)for(G=re.child;G!==null;){if(e=Fp(G),e!==null){for(re.flags|=128,xd(U,!1),Be=e.updateQueue,Be!==null&&(re.updateQueue=Be,re.flags|=4),re.subtreeFlags=0,Be=ge,ge=re.child;ge!==null;)U=ge,G=Be,U.flags&=14680066,e=U.alternate,e===null?(U.childLanes=0,U.lanes=G,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=e.childLanes,U.lanes=e.lanes,U.child=e.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=e.memoizedProps,U.memoizedState=e.memoizedState,U.updateQueue=e.updateQueue,U.type=e.type,G=e.dependencies,U.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext}),ge=ge.sibling;return Gi(ao,ao.current&1|2),re.child}G=G.sibling}U.tail!==null&&mo()>Nv&&(re.flags|=128,Be=!0,xd(U,!1),re.lanes=4194304)}else{if(!Be)if(G=Fp(e),G!==null){if(re.flags|=128,Be=!0,ge=G.updateQueue,ge!==null&&(re.updateQueue=ge,re.flags|=4),xd(U,!0),U.tail===null&&U.tailMode==="hidden"&&!e.alternate&&!Qi)return bs(re),null}else 2*mo()-U.renderingStartTime>Nv&&ge!==1073741824&&(re.flags|=128,Be=!0,xd(U,!1),re.lanes=4194304);U.isBackwards?(e.sibling=re.child,re.child=e):(ge=U.last,ge!==null?ge.sibling=e:re.child=e,U.last=e)}return U.tail!==null?(re=U.tail,U.rendering=re,U.tail=re.sibling,U.renderingStartTime=mo(),re.sibling=null,ge=ao.current,Gi(ao,Be?ge&1|2:ge&1),re):(bs(re),null);case 22:case 23:return jm(),Be=re.memoizedState!==null,G!==null&&G.memoizedState!==null!==Be&&(re.flags|=8192),Be&&re.mode&1?Tl&1073741824&&(bs(re),re.subtreeFlags&6&&(re.flags|=8192)):bs(re),null;case 24:return null;case 25:return null}throw Error(va(156,re.tag))}function X6(G,re){switch(Lm(re),re.tag){case 1:return il(re.type)&&Cp(),G=re.flags,G&65536?(re.flags=G&-65537|128,re):null;case 3:return Ov(),ji(al),ji(Ts),Om(),G=re.flags,G&65536&&!(G&128)?(re.flags=G&-65537|128,re):null;case 5:return zm(re),null;case 13:if(ji(ao),G=re.memoizedState,G!==null&&G.dehydrated!==null){if(re.alternate===null)throw Error(va(340));_v()}return G=re.flags,G&65536?(re.flags=G&-65537|128,re):null;case 19:return ji(ao),null;case 4:return Ov(),null;case 10:return Im(re.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var op=!1,ws=!1,Z6=typeof WeakSet=="function"?WeakSet:Set,ka=null;function Sv(G,re){var ge=G.ref;if(ge!==null)if(typeof ge=="function")try{ge(null)}catch(Be){fo(G,re,Be)}else ge.current=null}function nm(G,re,ge){try{ge()}catch(Be){fo(G,re,Be)}}var n3=!1;function j6(G,re){if(Uy=Ap,G=q3(),Em(G)){if("selectionStart"in G)var ge={start:G.selectionStart,end:G.selectionEnd};else e:{ge=(ge=G.ownerDocument)&&ge.defaultView||window;var Be=ge.getSelection&&ge.getSelection();if(Be&&Be.rangeCount!==0){ge=Be.anchorNode;var V=Be.anchorOffset,U=Be.focusNode;Be=Be.focusOffset;try{ge.nodeType,U.nodeType}catch(f){ge=null;break e}var e=0,x=-1,P=-1,i=0,L=0,C=G,c=null;t:for(;;){for(var y;C!==ge||V!==0&&C.nodeType!==3||(x=e+V),C!==U||Be!==0&&C.nodeType!==3||(P=e+Be),C.nodeType===3&&(e+=C.nodeValue.length),(y=C.firstChild)!==null;)c=C,C=y;for(;;){if(C===G)break t;if(c===ge&&++i===V&&(x=e),c===U&&++L===Be&&(P=e),(y=C.nextSibling)!==null)break;C=c,c=C.parentNode}C=y}ge=x===-1||P===-1?null:{start:x,end:P}}else ge=null}ge=ge||{start:0,end:0}}else ge=null;for(Vy={focusedElem:G,selectionRange:ge},Ap=!1,ka=re;ka!==null;)if(re=ka,G=re.child,(re.subtreeFlags&1028)!==0&&G!==null)G.return=re,ka=G;else for(;ka!==null;){re=ka;try{var r=re.alternate;if(re.flags&1024)switch(re.tag){case 0:case 11:case 15:break;case 1:if(r!==null){var t=r.memoizedProps,s=r.memoizedState,n=re.stateNode,u=n.getSnapshotBeforeUpdate(re.elementType===re.type?t:Fu(re.type,t),s);n.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var l=re.stateNode.containerInfo;l.nodeType===1?l.textContent="":l.nodeType===9&&l.documentElement&&l.removeChild(l.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(va(163))}}catch(f){fo(re,re.return,f)}if(G=re.sibling,G!==null){G.return=re.return,ka=G;break}ka=re.return}return r=n3,n3=!1,r}function Id(G,re,ge){var Be=re.updateQueue;if(Be=Be!==null?Be.lastEffect:null,Be!==null){var V=Be=Be.next;do{if((V.tag&G)===G){var U=V.destroy;V.destroy=void 0,U!==void 0&&nm(re,ge,U)}V=V.next}while(V!==Be)}}function Jp(G,re){if(re=re.updateQueue,re=re!==null?re.lastEffect:null,re!==null){var ge=re=re.next;do{if((ge.tag&G)===G){var Be=ge.create;ge.destroy=Be()}ge=ge.next}while(ge!==re)}}function am(G){var re=G.ref;if(re!==null){var ge=G.stateNode;switch(G.tag){case 5:G=ge;break;default:G=ge}typeof re=="function"?re(G):re.current=G}}function Jb(G){var re=G.alternate;re!==null&&(G.alternate=null,Jb(re)),G.child=null,G.deletions=null,G.sibling=null,G.tag===5&&(re=G.stateNode,re!==null&&(delete re[ff],delete re[Yd],delete re[Wy],delete re[R6],delete re[D6])),G.stateNode=null,G.return=null,G.dependencies=null,G.memoizedProps=null,G.memoizedState=null,G.pendingProps=null,G.stateNode=null,G.updateQueue=null}function Qb(G){return G.tag===5||G.tag===3||G.tag===4}function a3(G){e:for(;;){for(;G.sibling===null;){if(G.return===null||Qb(G.return))return null;G=G.return}for(G.sibling.return=G.return,G=G.sibling;G.tag!==5&&G.tag!==6&&G.tag!==18;){if(G.flags&2||G.child===null||G.tag===4)continue e;G.child.return=G,G=G.child}if(!(G.flags&2))return G.stateNode}}function im(G,re,ge){var Be=G.tag;if(Be===5||Be===6)G=G.stateNode,re?ge.nodeType===8?ge.parentNode.insertBefore(G,re):ge.insertBefore(G,re):(ge.nodeType===8?(re=ge.parentNode,re.insertBefore(G,ge)):(re=ge,re.appendChild(G)),ge=ge._reactRootContainer,ge!=null||re.onclick!==null||(re.onclick=Ep));else if(Be!==4&&(G=G.child,G!==null))for(im(G,re,ge),G=G.sibling;G!==null;)im(G,re,ge),G=G.sibling}function om(G,re,ge){var Be=G.tag;if(Be===5||Be===6)G=G.stateNode,re?ge.insertBefore(G,re):ge.appendChild(G);else if(Be!==4&&(G=G.child,G!==null))for(om(G,re,ge),G=G.sibling;G!==null;)om(G,re,ge),G=G.sibling}var rs=null,_u=!1;function Dc(G,re,ge){for(ge=ge.child;ge!==null;)$b(G,re,ge),ge=ge.sibling}function $b(G,re,ge){if(cf&&typeof cf.onCommitFiberUnmount=="function")try{cf.onCommitFiberUnmount(Hp,ge)}catch(x){}switch(ge.tag){case 5:ws||Sv(ge,re);case 6:var Be=rs,V=_u;rs=null,Dc(G,re,ge),rs=Be,_u=V,rs!==null&&(_u?(G=rs,ge=ge.stateNode,G.nodeType===8?G.parentNode.removeChild(ge):G.removeChild(ge)):rs.removeChild(ge.stateNode));break;case 18:rs!==null&&(_u?(G=rs,ge=ge.stateNode,G.nodeType===8?uy(G.parentNode,ge):G.nodeType===1&&uy(G,ge),Ud(G)):uy(rs,ge.stateNode));break;case 4:Be=rs,V=_u,rs=ge.stateNode.containerInfo,_u=!0,Dc(G,re,ge),rs=Be,_u=V;break;case 0:case 11:case 14:case 15:if(!ws&&(Be=ge.updateQueue,Be!==null&&(Be=Be.lastEffect,Be!==null))){V=Be=Be.next;do{var U=V,e=U.destroy;U=U.tag,e!==void 0&&(U&2||U&4)&&nm(ge,re,e),V=V.next}while(V!==Be)}Dc(G,re,ge);break;case 1:if(!ws&&(Sv(ge,re),Be=ge.stateNode,typeof Be.componentWillUnmount=="function"))try{Be.props=ge.memoizedProps,Be.state=ge.memoizedState,Be.componentWillUnmount()}catch(x){fo(ge,re,x)}Dc(G,re,ge);break;case 21:Dc(G,re,ge);break;case 22:ge.mode&1?(ws=(Be=ws)||ge.memoizedState!==null,Dc(G,re,ge),ws=Be):Dc(G,re,ge);break;default:Dc(G,re,ge)}}function i3(G){var re=G.updateQueue;if(re!==null){G.updateQueue=null;var ge=G.stateNode;ge===null&&(ge=G.stateNode=new Z6),re.forEach(function(Be){var V=nM.bind(null,G,Be);ge.has(Be)||(ge.add(Be),Be.then(V,V))})}}function ku(G,re){var ge=re.deletions;if(ge!==null)for(var Be=0;Be<ge.length;Be++){var V=ge[Be];try{var U=G,e=re,x=e;e:for(;x!==null;){switch(x.tag){case 5:rs=x.stateNode,_u=!1;break e;case 3:rs=x.stateNode.containerInfo,_u=!0;break e;case 4:rs=x.stateNode.containerInfo,_u=!0;break e}x=x.return}if(rs===null)throw Error(va(160));$b(U,e,V),rs=null,_u=!1;var P=V.alternate;P!==null&&(P.return=null),V.return=null}catch(i){fo(V,re,i)}}if(re.subtreeFlags&12854)for(re=re.child;re!==null;)qb(re,G),re=re.sibling}function qb(G,re){var ge=G.alternate,Be=G.flags;switch(G.tag){case 0:case 11:case 14:case 15:if(ku(re,G),lf(G),Be&4){try{Id(3,G,G.return),Jp(3,G)}catch(t){fo(G,G.return,t)}try{Id(5,G,G.return)}catch(t){fo(G,G.return,t)}}break;case 1:ku(re,G),lf(G),Be&512&&ge!==null&&Sv(ge,ge.return);break;case 5:if(ku(re,G),lf(G),Be&512&&ge!==null&&Sv(ge,ge.return),G.flags&32){var V=G.stateNode;try{zd(V,"")}catch(t){fo(G,G.return,t)}}if(Be&4&&(V=G.stateNode,V!=null)){var U=G.memoizedProps,e=ge!==null?ge.memoizedProps:U,x=G.type,P=G.updateQueue;if(G.updateQueue=null,P!==null)try{x==="input"&&U.type==="radio"&&U.name!=null&&b3(V,U),Ry(x,e);var i=Ry(x,U);for(e=0;e<P.length;e+=2){var L=P[e],C=P[e+1];L==="style"?S3(V,C):L==="dangerouslySetInnerHTML"?A3(V,C):L==="children"?zd(V,C):vm(V,L,C,i)}switch(x){case"input":Sy(V,U);break;case"textarea":w3(V,U);break;case"select":var c=V._wrapperState.wasMultiple;V._wrapperState.wasMultiple=!!U.multiple;var y=U.value;y!=null?Cv(V,!!U.multiple,y,!1):c!==!!U.multiple&&(U.defaultValue!=null?Cv(V,!!U.multiple,U.defaultValue,!0):Cv(V,!!U.multiple,U.multiple?[]:"",!1))}V[Yd]=U}catch(t){fo(G,G.return,t)}}break;case 6:if(ku(re,G),lf(G),Be&4){if(G.stateNode===null)throw Error(va(162));V=G.stateNode,U=G.memoizedProps;try{V.nodeValue=U}catch(t){fo(G,G.return,t)}}break;case 3:if(ku(re,G),lf(G),Be&4&&ge!==null&&ge.memoizedState.isDehydrated)try{Ud(re.containerInfo)}catch(t){fo(G,G.return,t)}break;case 4:ku(re,G),lf(G);break;case 13:ku(re,G),lf(G),V=G.child,V.flags&8192&&(U=V.memoizedState!==null,V.stateNode.isHidden=U,!U||V.alternate!==null&&V.alternate.memoizedState!==null||(Xm=mo())),Be&4&&i3(G);break;case 22:if(L=ge!==null&&ge.memoizedState!==null,G.mode&1?(ws=(i=ws)||L,ku(re,G),ws=i):ku(re,G),lf(G),Be&8192){if(i=G.memoizedState!==null,(G.stateNode.isHidden=i)&&!L&&G.mode&1)for(ka=G,L=G.child;L!==null;){for(C=ka=L;ka!==null;){switch(c=ka,y=c.child,c.tag){case 0:case 11:case 14:case 15:Id(4,c,c.return);break;case 1:Sv(c,c.return);var r=c.stateNode;if(typeof r.componentWillUnmount=="function"){Be=c,ge=c.return;try{re=Be,r.props=re.memoizedProps,r.state=re.memoizedState,r.componentWillUnmount()}catch(t){fo(Be,ge,t)}}break;case 5:Sv(c,c.return);break;case 22:if(c.memoizedState!==null){s3(C);continue}}y!==null?(y.return=c,ka=y):s3(C)}L=L.sibling}e:for(L=null,C=G;;){if(C.tag===5){if(L===null){L=C;try{V=C.stateNode,i?(U=V.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(x=C.stateNode,P=C.memoizedProps.style,e=P!=null&&P.hasOwnProperty("display")?P.display:null,x.style.display=M3("display",e))}catch(t){fo(G,G.return,t)}}}else if(C.tag===6){if(L===null)try{C.stateNode.nodeValue=i?"":C.memoizedProps}catch(t){fo(G,G.return,t)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===G)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===G)break e;for(;C.sibling===null;){if(C.return===null||C.return===G)break e;L===C&&(L=null),C=C.return}L===C&&(L=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:ku(re,G),lf(G),Be&4&&i3(G);break;case 21:break;default:ku(re,G),lf(G)}}function lf(G){var re=G.flags;if(re&2){try{e:{for(var ge=G.return;ge!==null;){if(Qb(ge)){var Be=ge;break e}ge=ge.return}throw Error(va(160))}switch(Be.tag){case 5:var V=Be.stateNode;Be.flags&32&&(zd(V,""),Be.flags&=-33);var U=a3(G);om(G,U,V);break;case 3:case 4:var e=Be.stateNode.containerInfo,x=a3(G);im(G,x,e);break;default:throw Error(va(161))}}catch(P){fo(G,G.return,P)}G.flags&=-3}re&4096&&(G.flags&=-4097)}function K6(G,re,ge){ka=G,ew(G,re,ge)}function ew(G,re,ge){for(var Be=(G.mode&1)!==0;ka!==null;){var V=ka,U=V.child;if(V.tag===22&&Be){var e=V.memoizedState!==null||op;if(!e){var x=V.alternate,P=x!==null&&x.memoizedState!==null||ws;x=op;var i=ws;if(op=e,(ws=P)&&!i)for(ka=V;ka!==null;)e=ka,P=e.child,e.tag===22&&e.memoizedState!==null?l3(V):P!==null?(P.return=e,ka=P):l3(V);for(;U!==null;)ka=U,ew(U,re,ge),U=U.sibling;ka=V,op=x,ws=i}o3(G,re,ge)}else V.subtreeFlags&8772&&U!==null?(U.return=V,ka=U):o3(G,re,ge)}}function o3(G){for(;ka!==null;){var re=ka;if(re.flags&8772){var ge=re.alternate;try{if(re.flags&8772)switch(re.tag){case 0:case 11:case 15:ws||Jp(5,re);break;case 1:var Be=re.stateNode;if(re.flags&4&&!ws)if(ge===null)Be.componentDidMount();else{var V=re.elementType===re.type?ge.memoizedProps:Fu(re.type,ge.memoizedProps);Be.componentDidUpdate(V,ge.memoizedState,Be.__reactInternalSnapshotBeforeUpdate)}var U=re.updateQueue;U!==null&&G2(re,U,Be);break;case 3:var e=re.updateQueue;if(e!==null){if(ge=null,re.child!==null)switch(re.child.tag){case 5:ge=re.child.stateNode;break;case 1:ge=re.child.stateNode}G2(re,e,ge)}break;case 5:var x=re.stateNode;if(ge===null&&re.flags&4){ge=x;var P=re.memoizedProps;switch(re.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&ge.focus();break;case"img":P.src&&(ge.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(re.memoizedState===null){var i=re.alternate;if(i!==null){var L=i.memoizedState;if(L!==null){var C=L.dehydrated;C!==null&&Ud(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(va(163))}ws||re.flags&512&&am(re)}catch(c){fo(re,re.return,c)}}if(re===G){ka=null;break}if(ge=re.sibling,ge!==null){ge.return=re.return,ka=ge;break}ka=re.return}}function s3(G){for(;ka!==null;){var re=ka;if(re===G){ka=null;break}var ge=re.sibling;if(ge!==null){ge.return=re.return,ka=ge;break}ka=re.return}}function l3(G){for(;ka!==null;){var re=ka;try{switch(re.tag){case 0:case 11:case 15:var ge=re.return;try{Jp(4,re)}catch(P){fo(re,ge,P)}break;case 1:var Be=re.stateNode;if(typeof Be.componentDidMount=="function"){var V=re.return;try{Be.componentDidMount()}catch(P){fo(re,V,P)}}var U=re.return;try{am(re)}catch(P){fo(re,U,P)}break;case 5:var e=re.return;try{am(re)}catch(P){fo(re,e,P)}}}catch(P){fo(re,re.return,P)}if(re===G){ka=null;break}var x=re.sibling;if(x!==null){x.return=re.return,ka=x;break}ka=re.return}}var J6=Math.ceil,Op=Jf.ReactCurrentDispatcher,Wm=Jf.ReactCurrentOwner,tu=Jf.ReactCurrentBatchConfig,mi=0,Bo=null,Ao=null,ns=0,Tl=0,Ev=Kc(0),Co=0,Qd=null,_h=0,Qp=0,Ym=0,kd=null,rl=null,Xm=0,Nv=1/0,Vf=null,Bp=!1,sm=null,Gc=null,sp=!1,Oc=null,Np=0,Fd=0,lm=null,pp=-1,gp=0;function Vs(){return mi&6?mo():pp!==-1?pp:pp=mo()}function Wc(G){return G.mode&1?mi&2&&ns!==0?ns&-ns:k6.transition!==null?(gp===0&&(gp=O3()),gp):(G=ki,G!==0||(G=window.event,G=G===void 0?16:W3(G.type)),G):1}function Bu(G,re,ge,Be){if(50<Fd)throw Fd=0,lm=null,Error(va(185));$d(G,ge,Be),(!(mi&2)||G!==Bo)&&(G===Bo&&(!(mi&2)&&(Qp|=ge),Co===4&&_c(G,ns)),ol(G,Be),ge===1&&mi===0&&!(re.mode&1)&&(Nv=mo()+500,Zp&&Jc()))}function ol(G,re){var ge=G.callbackNode;_5(G,re);var Be=Tp(G,G===Bo?ns:0);if(Be===0)ge!==null&&g2(ge),G.callbackNode=null,G.callbackPriority=0;else if(re=Be&-Be,G.callbackPriority!==re){if(ge!=null&&g2(ge),re===1)G.tag===0?I6(u3.bind(null,G)):ub(u3.bind(null,G)),L6(function(){!(mi&6)&&Jc()}),ge=null;else{switch(B3(Be)){case 1:ge=mm;break;case 4:ge=_3;break;case 16:ge=wp;break;case 536870912:ge=z3;break;default:ge=wp}ge=lw(ge,tw.bind(null,G))}G.callbackPriority=re,G.callbackNode=ge}}function tw(G,re){if(pp=-1,gp=0,mi&6)throw Error(va(327));var ge=G.callbackNode;if(Iv()&&G.callbackNode!==ge)return null;var Be=Tp(G,G===Bo?ns:0);if(Be===0)return null;if(Be&30||Be&G.expiredLanes||re)re=Up(G,Be);else{re=Be;var V=mi;mi|=2;var U=nw();(Bo!==G||ns!==re)&&(Vf=null,Nv=mo()+500,Rh(G,re));do try{q6();break}catch(x){rw(G,x)}while(!0);Dm(),Op.current=U,mi=V,Ao!==null?re=0:(Bo=null,ns=0,re=Co)}if(re!==0){if(re===2&&(V=_y(G),V!==0&&(Be=V,re=um(G,V))),re===1)throw ge=Qd,Rh(G,0),_c(G,Be),ol(G,mo()),ge;if(re===6)_c(G,Be);else{if(V=G.current.alternate,!(Be&30)&&!Q6(V)&&(re=Up(G,Be),re===2&&(U=_y(G),U!==0&&(Be=U,re=um(G,U))),re===1))throw ge=Qd,Rh(G,0),_c(G,Be),ol(G,mo()),ge;switch(G.finishedWork=V,G.finishedLanes=Be,re){case 0:case 1:throw Error(va(345));case 2:Eh(G,rl,Vf);break;case 3:if(_c(G,Be),(Be&130023424)===Be&&(re=Xm+500-mo(),10<re)){if(Tp(G,0)!==0)break;if(V=G.suspendedLanes,(V&Be)!==Be){Vs(),G.pingedLanes|=G.suspendedLanes&V;break}G.timeoutHandle=Gy(Eh.bind(null,G,rl,Vf),re);break}Eh(G,rl,Vf);break;case 4:if(_c(G,Be),(Be&4194240)===Be)break;for(re=G.eventTimes,V=-1;0<Be;){var e=31-Ou(Be);U=1<<e,e=re[e],e>V&&(V=e),Be&=~U}if(Be=V,Be=mo()-Be,Be=(120>Be?120:480>Be?480:1080>Be?1080:1920>Be?1920:3e3>Be?3e3:4320>Be?4320:1960*J6(Be/1960))-Be,10<Be){G.timeoutHandle=Gy(Eh.bind(null,G,rl,Vf),Be);break}Eh(G,rl,Vf);break;case 5:Eh(G,rl,Vf);break;default:throw Error(va(329))}}}return ol(G,mo()),G.callbackNode===ge?tw.bind(null,G):null}function um(G,re){var ge=kd;return G.current.memoizedState.isDehydrated&&(Rh(G,re).flags|=256),G=Up(G,re),G!==2&&(re=rl,rl=ge,re!==null&&fm(re)),G}function fm(G){rl===null?rl=G:rl.push.apply(rl,G)}function Q6(G){for(var re=G;;){if(re.flags&16384){var ge=re.updateQueue;if(ge!==null&&(ge=ge.stores,ge!==null))for(var Be=0;Be<ge.length;Be++){var V=ge[Be],U=V.getSnapshot;V=V.value;try{if(!Nu(U(),V))return!1}catch(e){return!1}}}if(ge=re.child,re.subtreeFlags&16384&&ge!==null)ge.return=re,re=ge;else{if(re===G)break;for(;re.sibling===null;){if(re.return===null||re.return===G)return!0;re=re.return}re.sibling.return=re.return,re=re.sibling}}return!0}function _c(G,re){for(re&=~Ym,re&=~Qp,G.suspendedLanes|=re,G.pingedLanes&=~re,G=G.expirationTimes;0<re;){var ge=31-Ou(re),Be=1<<ge;G[ge]=-1,re&=~Be}}function u3(G){if(mi&6)throw Error(va(327));Iv();var re=Tp(G,0);if(!(re&1))return ol(G,mo()),null;var ge=Up(G,re);if(G.tag!==0&&ge===2){var Be=_y(G);Be!==0&&(re=Be,ge=um(G,Be))}if(ge===1)throw ge=Qd,Rh(G,0),_c(G,re),ol(G,mo()),ge;if(ge===6)throw Error(va(345));return G.finishedWork=G.current.alternate,G.finishedLanes=re,Eh(G,rl,Vf),ol(G,mo()),null}function Zm(G,re){var ge=mi;mi|=1;try{return G(re)}finally{mi=ge,mi===0&&(Nv=mo()+500,Zp&&Jc())}}function zh(G){Oc!==null&&Oc.tag===0&&!(mi&6)&&Iv();var re=mi;mi|=1;var ge=tu.transition,Be=ki;try{if(tu.transition=null,ki=1,G)return G()}finally{ki=Be,tu.transition=ge,mi=re,!(mi&6)&&Jc()}}function jm(){Tl=Ev.current,ji(Ev)}function Rh(G,re){G.finishedWork=null,G.finishedLanes=0;var ge=G.timeoutHandle;if(ge!==-1&&(G.timeoutHandle=-1,C6(ge)),Ao!==null)for(ge=Ao.return;ge!==null;){var Be=ge;switch(Lm(Be),Be.tag){case 1:Be=Be.type.childContextTypes,Be!=null&&Cp();break;case 3:Ov(),ji(al),ji(Ts),Om();break;case 5:zm(Be);break;case 4:Ov();break;case 13:ji(ao);break;case 19:ji(ao);break;case 10:Im(Be.type._context);break;case 22:case 23:jm()}ge=ge.return}if(Bo=G,Ao=G=Yc(G.current,null),ns=Tl=re,Co=0,Qd=null,Ym=Qp=_h=0,rl=kd=null,Lh!==null){for(re=0;re<Lh.length;re++)if(ge=Lh[re],Be=ge.interleaved,Be!==null){ge.interleaved=null;var V=Be.next,U=ge.pending;if(U!==null){var e=U.next;U.next=V,Be.next=e}ge.pending=Be}Lh=null}return G}function rw(G,re){do{var ge=Ao;try{if(Dm(),hp.current=zp,_p){for(var Be=io.memoizedState;Be!==null;){var V=Be.queue;V!==null&&(V.pending=null),Be=Be.next}_p=!1}if(Fh=0,Oo=Eo=io=null,Dd=!1,jd=0,Wm.current=null,ge===null||ge.return===null){Co=1,Qd=re,Ao=null;break}e:{var U=G,e=ge.return,x=ge,P=re;if(re=ns,x.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var i=P,L=x,C=L.tag;if(!(L.mode&1)&&(C===0||C===11||C===15)){var c=L.alternate;c?(L.updateQueue=c.updateQueue,L.memoizedState=c.memoizedState,L.lanes=c.lanes):(L.updateQueue=null,L.memoizedState=null)}var y=J2(e);if(y!==null){y.flags&=-257,Q2(y,e,x,U,re),y.mode&1&&K2(U,i,re),re=y,P=i;var r=re.updateQueue;if(r===null){var t=new Set;t.add(P),re.updateQueue=t}else r.add(P);break e}else{if(!(re&1)){K2(U,i,re),Km();break e}P=Error(va(426))}}else if(Qi&&x.mode&1){var s=J2(e);if(s!==null){!(s.flags&65536)&&(s.flags|=256),Q2(s,e,x,U,re),Pm(Bv(P,x));break e}}U=P=Bv(P,x),Co!==4&&(Co=2),kd===null?kd=[U]:kd.push(U),U=e;do{switch(U.tag){case 3:U.flags|=65536,re&=-re,U.lanes|=re;var n=Nb(U,P,re);H2(U,n);break e;case 1:x=P;var u=U.type,l=U.stateNode;if(!(U.flags&128)&&(typeof u.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Gc===null||!Gc.has(l)))){U.flags|=65536,re&=-re,U.lanes|=re;var f=Ub(U,x,re);H2(U,f);break e}}U=U.return}while(U!==null)}iw(ge)}catch(g){re=g,Ao===ge&&ge!==null&&(Ao=ge=ge.return);continue}break}while(!0)}function nw(){var G=Op.current;return Op.current=zp,G===null?zp:G}function Km(){(Co===0||Co===3||Co===2)&&(Co=4),Bo===null||!(_h&268435455)&&!(Qp&268435455)||_c(Bo,ns)}function Up(G,re){var ge=mi;mi|=2;var Be=nw();(Bo!==G||ns!==re)&&(Vf=null,Rh(G,re));do try{$6();break}catch(V){rw(G,V)}while(!0);if(Dm(),mi=ge,Op.current=Be,Ao!==null)throw Error(va(261));return Bo=null,ns=0,Co}function $6(){for(;Ao!==null;)aw(Ao)}function q6(){for(;Ao!==null&&!E5();)aw(Ao)}function aw(G){var re=sw(G.alternate,G,Tl);G.memoizedProps=G.pendingProps,re===null?iw(G):Ao=re,Wm.current=null}function iw(G){var re=G;do{var ge=re.alternate;if(G=re.return,re.flags&32768){if(ge=X6(ge,re),ge!==null){ge.flags&=32767,Ao=ge;return}if(G!==null)G.flags|=32768,G.subtreeFlags=0,G.deletions=null;else{Co=6,Ao=null;return}}else if(ge=Y6(ge,re,Tl),ge!==null){Ao=ge;return}if(re=re.sibling,re!==null){Ao=re;return}Ao=re=G}while(re!==null);Co===0&&(Co=5)}function Eh(G,re,ge){var Be=ki,V=tu.transition;try{tu.transition=null,ki=1,eM(G,re,ge,Be)}finally{tu.transition=V,ki=Be}return null}function eM(G,re,ge,Be){do Iv();while(Oc!==null);if(mi&6)throw Error(va(327));ge=G.finishedWork;var V=G.finishedLanes;if(ge===null)return null;if(G.finishedWork=null,G.finishedLanes=0,ge===G.current)throw Error(va(177));G.callbackNode=null,G.callbackPriority=0;var U=ge.lanes|ge.childLanes;if(z5(G,U),G===Bo&&(Ao=Bo=null,ns=0),!(ge.subtreeFlags&2064)&&!(ge.flags&2064)||sp||(sp=!0,lw(wp,function(){return Iv(),null})),U=(ge.flags&15990)!==0,ge.subtreeFlags&15990||U){U=tu.transition,tu.transition=null;var e=ki;ki=1;var x=mi;mi|=4,Wm.current=null,j6(G,ge),qb(ge,G),T6(Vy),Ap=!!Uy,Vy=Uy=null,G.current=ge,K6(ge,G,V),C5(),mi=x,ki=e,tu.transition=U}else G.current=ge;if(sp&&(sp=!1,Oc=G,Np=V),U=G.pendingLanes,U===0&&(Gc=null),R5(ge.stateNode,Be),ol(G,mo()),re!==null)for(Be=G.onRecoverableError,ge=0;ge<re.length;ge++)V=re[ge],Be(V.value,{componentStack:V.stack,digest:V.digest});if(Bp)throw Bp=!1,G=sm,sm=null,G;return Np&1&&G.tag!==0&&Iv(),U=G.pendingLanes,U&1?G===lm?Fd++:(Fd=0,lm=G):Fd=0,Jc(),null}function Iv(){if(Oc!==null){var G=B3(Np),re=tu.transition,ge=ki;try{if(tu.transition=null,ki=16>G?16:G,Oc===null)var Be=!1;else{if(G=Oc,Oc=null,Np=0,mi&6)throw Error(va(331));var V=mi;for(mi|=4,ka=G.current;ka!==null;){var U=ka,e=U.child;if(ka.flags&16){var x=U.deletions;if(x!==null){for(var P=0;P<x.length;P++){var i=x[P];for(ka=i;ka!==null;){var L=ka;switch(L.tag){case 0:case 11:case 15:Id(8,L,U)}var C=L.child;if(C!==null)C.return=L,ka=C;else for(;ka!==null;){L=ka;var c=L.sibling,y=L.return;if(Jb(L),L===i){ka=null;break}if(c!==null){c.return=y,ka=c;break}ka=y}}}var r=U.alternate;if(r!==null){var t=r.child;if(t!==null){r.child=null;do{var s=t.sibling;t.sibling=null,t=s}while(t!==null)}}ka=U}}if(U.subtreeFlags&2064&&e!==null)e.return=U,ka=e;else e:for(;ka!==null;){if(U=ka,U.flags&2048)switch(U.tag){case 0:case 11:case 15:Id(9,U,U.return)}var n=U.sibling;if(n!==null){n.return=U.return,ka=n;break e}ka=U.return}}var u=G.current;for(ka=u;ka!==null;){e=ka;var l=e.child;if(e.subtreeFlags&2064&&l!==null)l.return=e,ka=l;else e:for(e=u;ka!==null;){if(x=ka,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Jp(9,x)}}catch(g){fo(x,x.return,g)}if(x===e){ka=null;break e}var f=x.sibling;if(f!==null){f.return=x.return,ka=f;break e}ka=x.return}}if(mi=V,Jc(),cf&&typeof cf.onPostCommitFiberRoot=="function")try{cf.onPostCommitFiberRoot(Hp,G)}catch(g){}Be=!0}return Be}finally{ki=ge,tu.transition=re}}return!1}function f3(G,re,ge){re=Bv(ge,re),re=Nb(G,re,1),G=Hc(G,re,1),re=Vs(),G!==null&&($d(G,1,re),ol(G,re))}function fo(G,re,ge){if(G.tag===3)f3(G,G,ge);else for(;re!==null;){if(re.tag===3){f3(re,G,ge);break}else if(re.tag===1){var Be=re.stateNode;if(typeof re.type.getDerivedStateFromError=="function"||typeof Be.componentDidCatch=="function"&&(Gc===null||!Gc.has(Be))){G=Bv(ge,G),G=Ub(re,G,1),re=Hc(re,G,1),G=Vs(),re!==null&&($d(re,1,G),ol(re,G));break}}re=re.return}}function tM(G,re,ge){var Be=G.pingCache;Be!==null&&Be.delete(re),re=Vs(),G.pingedLanes|=G.suspendedLanes&ge,Bo===G&&(ns&ge)===ge&&(Co===4||Co===3&&(ns&130023424)===ns&&500>mo()-Xm?Rh(G,0):Ym|=ge),ol(G,re)}function ow(G,re){re===0&&(G.mode&1?(re=Z0,Z0<<=1,!(Z0&130023424)&&(Z0=4194304)):re=1);var ge=Vs();G=jf(G,re),G!==null&&($d(G,re,ge),ol(G,ge))}function rM(G){var re=G.memoizedState,ge=0;re!==null&&(ge=re.retryLane),ow(G,ge)}function nM(G,re){var ge=0;switch(G.tag){case 13:var Be=G.stateNode,V=G.memoizedState;V!==null&&(ge=V.retryLane);break;case 19:Be=G.stateNode;break;default:throw Error(va(314))}Be!==null&&Be.delete(re),ow(G,ge)}var sw;sw=function(G,re,ge){if(G!==null)if(G.memoizedProps!==re.pendingProps||al.current)nl=!0;else{if(!(G.lanes&ge)&&!(re.flags&128))return nl=!1,W6(G,re,ge);nl=!!(G.flags&131072)}else nl=!1,Qi&&re.flags&1048576&&fb(re,Rp,re.index);switch(re.lanes=0,re.tag){case 2:var Be=re.type;dp(G,re),G=re.pendingProps;var V=Fv(re,Ts.current);Dv(re,ge),V=Nm(null,re,Be,G,V,ge);var U=Um();return re.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(re.tag=1,re.memoizedState=null,re.updateQueue=null,il(Be)?(U=!0,Lp(re)):U=!1,re.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,Fm(re),V.updater=jp,re.stateNode=V,V._reactInternals=re,Jy(re,Be,G,ge),re=qy(null,re,Be,!0,U,ge)):(re.tag=0,Qi&&U&&Cm(re),Us(null,re,V,ge),re=re.child),re;case 16:Be=re.elementType;e:{switch(dp(G,re),G=re.pendingProps,V=Be._init,Be=V(Be._payload),re.type=Be,V=re.tag=iM(Be),G=Fu(Be,G),V){case 0:re=$y(null,re,Be,G,ge);break e;case 1:re=e3(null,re,Be,G,ge);break e;case 11:re=$2(null,re,Be,G,ge);break e;case 14:re=q2(null,re,Be,Fu(Be.type,G),ge);break e}throw Error(va(306,Be,""))}return re;case 0:return Be=re.type,V=re.pendingProps,V=re.elementType===Be?V:Fu(Be,V),$y(G,re,Be,V,ge);case 1:return Be=re.type,V=re.pendingProps,V=re.elementType===Be?V:Fu(Be,V),e3(G,re,Be,V,ge);case 3:e:{if(Wb(re),G===null)throw Error(va(387));Be=re.pendingProps,U=re.memoizedState,V=U.element,db(G,re),kp(re,Be,null,ge);var e=re.memoizedState;if(Be=e.element,U.isDehydrated)if(U={element:Be,isDehydrated:!1,cache:e.cache,pendingSuspenseBoundaries:e.pendingSuspenseBoundaries,transitions:e.transitions},re.updateQueue.baseState=U,re.memoizedState=U,re.flags&256){V=Bv(Error(va(423)),re),re=t3(G,re,Be,ge,V);break e}else if(Be!==V){V=Bv(Error(va(424)),re),re=t3(G,re,Be,ge,V);break e}else for(Al=Vc(re.stateNode.containerInfo.firstChild),Ml=re,Qi=!0,zu=null,ge=mb(re,null,Be,ge),re.child=ge;ge;)ge.flags=ge.flags&-3|4096,ge=ge.sibling;else{if(_v(),Be===V){re=Kf(G,re,ge);break e}Us(G,re,Be,ge)}re=re.child}return re;case 5:return xb(re),G===null&&Zy(re),Be=re.type,V=re.pendingProps,U=G!==null?G.memoizedProps:null,e=V.children,Hy(Be,V)?e=null:U!==null&&Hy(Be,U)&&(re.flags|=32),Gb(G,re),Us(G,re,e,ge),re.child;case 6:return G===null&&Zy(re),null;case 13:return Yb(G,re,ge);case 4:return _m(re,re.stateNode.containerInfo),Be=re.pendingProps,G===null?re.child=zv(re,null,Be,ge):Us(G,re,Be,ge),re.child;case 11:return Be=re.type,V=re.pendingProps,V=re.elementType===Be?V:Fu(Be,V),$2(G,re,Be,V,ge);case 7:return Us(G,re,re.pendingProps,ge),re.child;case 8:return Us(G,re,re.pendingProps.children,ge),re.child;case 12:return Us(G,re,re.pendingProps.children,ge),re.child;case 10:e:{if(Be=re.type._context,V=re.pendingProps,U=re.memoizedProps,e=V.value,Gi(Dp,Be._currentValue),Be._currentValue=e,U!==null)if(Nu(U.value,e)){if(U.children===V.children&&!al.current){re=Kf(G,re,ge);break e}}else for(U=re.child,U!==null&&(U.return=re);U!==null;){var x=U.dependencies;if(x!==null){e=U.child;for(var P=x.firstContext;P!==null;){if(P.context===Be){if(U.tag===1){P=Yf(-1,ge&-ge),P.tag=2;var i=U.updateQueue;if(i!==null){i=i.shared;var L=i.pending;L===null?P.next=P:(P.next=L.next,L.next=P),i.pending=P}}U.lanes|=ge,P=U.alternate,P!==null&&(P.lanes|=ge),jy(U.return,ge,re),x.lanes|=ge;break}P=P.next}}else if(U.tag===10)e=U.type===re.type?null:U.child;else if(U.tag===18){if(e=U.return,e===null)throw Error(va(341));e.lanes|=ge,x=e.alternate,x!==null&&(x.lanes|=ge),jy(e,ge,re),e=U.sibling}else e=U.child;if(e!==null)e.return=U;else for(e=U;e!==null;){if(e===re){e=null;break}if(U=e.sibling,U!==null){U.return=e.return,e=U;break}e=e.return}U=e}Us(G,re,V.children,ge),re=re.child}return re;case 9:return V=re.type,Be=re.pendingProps.children,Dv(re,ge),V=ru(V),Be=Be(V),re.flags|=1,Us(G,re,Be,ge),re.child;case 14:return Be=re.type,V=Fu(Be,re.pendingProps),V=Fu(Be.type,V),q2(G,re,Be,V,ge);case 15:return Vb(G,re,re.type,re.pendingProps,ge);case 17:return Be=re.type,V=re.pendingProps,V=re.elementType===Be?V:Fu(Be,V),dp(G,re),re.tag=1,il(Be)?(G=!0,Lp(re)):G=!1,Dv(re,ge),gb(re,Be,V),Jy(re,Be,V,ge),qy(null,re,Be,!0,G,ge);case 19:return Xb(G,re,ge);case 22:return Hb(G,re,ge)}throw Error(va(156,re.tag))};function lw(G,re){return F3(G,re)}function aM(G,re,ge,Be){this.tag=G,this.key=ge,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=re,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Be,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eu(G,re,ge,Be){return new aM(G,re,ge,Be)}function Jm(G){return G=G.prototype,!(!G||!G.isReactComponent)}function iM(G){if(typeof G=="function")return Jm(G)?1:0;if(G!=null){if(G=G.$$typeof,G===pm)return 11;if(G===gm)return 14}return 2}function Yc(G,re){var ge=G.alternate;return ge===null?(ge=eu(G.tag,re,G.key,G.mode),ge.elementType=G.elementType,ge.type=G.type,ge.stateNode=G.stateNode,ge.alternate=G,G.alternate=ge):(ge.pendingProps=re,ge.type=G.type,ge.flags=0,ge.subtreeFlags=0,ge.deletions=null),ge.flags=G.flags&14680064,ge.childLanes=G.childLanes,ge.lanes=G.lanes,ge.child=G.child,ge.memoizedProps=G.memoizedProps,ge.memoizedState=G.memoizedState,ge.updateQueue=G.updateQueue,re=G.dependencies,ge.dependencies=re===null?null:{lanes:re.lanes,firstContext:re.firstContext},ge.sibling=G.sibling,ge.index=G.index,ge.ref=G.ref,ge}function yp(G,re,ge,Be,V,U){var e=2;if(Be=G,typeof G=="function")Jm(G)&&(e=1);else if(typeof G=="string")e=5;else e:switch(G){case gv:return Dh(ge.children,V,U,re);case dm:e=8,V|=8;break;case by:return G=eu(12,ge,re,V|2),G.elementType=by,G.lanes=U,G;case wy:return G=eu(13,ge,re,V),G.elementType=wy,G.lanes=U,G;case Ty:return G=eu(19,ge,re,V),G.elementType=Ty,G.lanes=U,G;case y3:return $p(ge,V,U,re);default:if(typeof G=="object"&&G!==null)switch(G.$$typeof){case p3:e=10;break e;case g3:e=9;break e;case pm:e=11;break e;case gm:e=14;break e;case Ic:e=16,Be=null;break e}throw Error(va(130,G==null?G:typeof G,""))}return re=eu(e,ge,re,V),re.elementType=G,re.type=Be,re.lanes=U,re}function Dh(G,re,ge,Be){return G=eu(7,G,Be,re),G.lanes=ge,G}function $p(G,re,ge,Be){return G=eu(22,G,Be,re),G.elementType=y3,G.lanes=ge,G.stateNode={isHidden:!1},G}function yy(G,re,ge){return G=eu(6,G,null,re),G.lanes=ge,G}function my(G,re,ge){return re=eu(4,G.children!==null?G.children:[],G.key,re),re.lanes=ge,re.stateNode={containerInfo:G.containerInfo,pendingChildren:null,implementation:G.implementation},re}function oM(G,re,ge,Be,V){this.tag=re,this.containerInfo=G,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ty(0),this.expirationTimes=ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ty(0),this.identifierPrefix=Be,this.onRecoverableError=V,this.mutableSourceEagerHydrationData=null}function Qm(G,re,ge,Be,V,U,e,x,P){return G=new oM(G,re,ge,x,P),re===1?(re=1,U===!0&&(re|=8)):re=0,U=eu(3,null,null,re),G.current=U,U.stateNode=G,U.memoizedState={element:Be,isDehydrated:ge,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(U),G}function sM(G,re,ge){var Be=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pv,key:Be==null?null:""+Be,children:G,containerInfo:re,implementation:ge}}function uw(G){if(!G)return Zc;G=G._reactInternals;e:{if(Bh(G)!==G||G.tag!==1)throw Error(va(170));var re=G;do{switch(re.tag){case 3:re=re.stateNode.context;break e;case 1:if(il(re.type)){re=re.stateNode.__reactInternalMemoizedMergedChildContext;break e}}re=re.return}while(re!==null);throw Error(va(171))}if(G.tag===1){var ge=G.type;if(il(ge))return lb(G,ge,re)}return re}function fw(G,re,ge,Be,V,U,e,x,P){return G=Qm(ge,Be,!0,G,V,U,e,x,P),G.context=uw(null),ge=G.current,Be=Vs(),V=Wc(ge),U=Yf(Be,V),U.callback=re!=null?re:null,Hc(ge,U,V),G.current.lanes=V,$d(G,V,Be),ol(G,Be),G}function qp(G,re,ge,Be){var V=re.current,U=Vs(),e=Wc(V);return ge=uw(ge),re.context===null?re.context=ge:re.pendingContext=ge,re=Yf(U,e),re.payload={element:G},Be=Be===void 0?null:Be,Be!==null&&(re.callback=Be),G=Hc(V,re,e),G!==null&&(Bu(G,V,e,U),cp(G,V,e)),e}function Vp(G){if(G=G.current,!G.child)return null;switch(G.child.tag){case 5:return G.child.stateNode;default:return G.child.stateNode}}function c3(G,re){if(G=G.memoizedState,G!==null&&G.dehydrated!==null){var ge=G.retryLane;G.retryLane=ge!==0&&ge<re?ge:re}}function $m(G,re){c3(G,re),(G=G.alternate)&&c3(G,re)}function lM(){return null}var cw=typeof reportError=="function"?reportError:function(G){console.error(G)};function qm(G){this._internalRoot=G}eg.prototype.render=qm.prototype.render=function(G){var re=this._internalRoot;if(re===null)throw Error(va(409));qp(G,re,null,null)};eg.prototype.unmount=qm.prototype.unmount=function(){var G=this._internalRoot;if(G!==null){this._internalRoot=null;var re=G.containerInfo;zh(function(){qp(null,G,null,null)}),re[Zf]=null}};function eg(G){this._internalRoot=G}eg.prototype.unstable_scheduleHydration=function(G){if(G){var re=V3();G={blockedOn:null,target:G,priority:re};for(var ge=0;ge<Fc.length&&re!==0&&re<Fc[ge].priority;ge++);Fc.splice(ge,0,G),ge===0&&G3(G)}};function e1(G){return!(!G||G.nodeType!==1&&G.nodeType!==9&&G.nodeType!==11)}function tg(G){return!(!G||G.nodeType!==1&&G.nodeType!==9&&G.nodeType!==11&&(G.nodeType!==8||G.nodeValue!==" react-mount-point-unstable "))}function h3(){}function uM(G,re,ge,Be,V){if(V){if(typeof Be=="function"){var U=Be;Be=function(){var i=Vp(e);U.call(i)}}var e=fw(re,Be,G,0,null,!1,!1,"",h3);return G._reactRootContainer=e,G[Zf]=e.current,Gd(G.nodeType===8?G.parentNode:G),zh(),e}for(;V=G.lastChild;)G.removeChild(V);if(typeof Be=="function"){var x=Be;Be=function(){var i=Vp(P);x.call(i)}}var P=Qm(G,0,!1,null,null,!1,!1,"",h3);return G._reactRootContainer=P,G[Zf]=P.current,Gd(G.nodeType===8?G.parentNode:G),zh(function(){qp(re,P,ge,Be)}),P}function rg(G,re,ge,Be,V){var U=ge._reactRootContainer;if(U){var e=U;if(typeof V=="function"){var x=V;V=function(){var P=Vp(e);x.call(P)}}qp(re,e,G,V)}else e=uM(ge,re,G,V,Be);return Vp(e)}N3=function(G){switch(G.tag){case 3:var re=G.stateNode;if(re.current.memoizedState.isDehydrated){var ge=Md(re.pendingLanes);ge!==0&&(xm(re,ge|1),ol(re,mo()),!(mi&6)&&(Nv=mo()+500,Jc()))}break;case 13:zh(function(){var Be=jf(G,1);if(Be!==null){var V=Vs();Bu(Be,G,1,V)}}),$m(G,1)}};bm=function(G){if(G.tag===13){var re=jf(G,134217728);if(re!==null){var ge=Vs();Bu(re,G,134217728,ge)}$m(G,134217728)}};U3=function(G){if(G.tag===13){var re=Wc(G),ge=jf(G,re);if(ge!==null){var Be=Vs();Bu(ge,G,re,Be)}$m(G,re)}};V3=function(){return ki};H3=function(G,re){var ge=ki;try{return ki=G,re()}finally{ki=ge}};Iy=function(G,re,ge){switch(re){case"input":if(Sy(G,ge),re=ge.name,ge.type==="radio"&&re!=null){for(ge=G;ge.parentNode;)ge=ge.parentNode;for(ge=ge.querySelectorAll("input[name="+JSON.stringify(""+re)+'][type="radio"]'),re=0;re<ge.length;re++){var Be=ge[re];if(Be!==G&&Be.form===G.form){var V=Xp(Be);if(!V)throw Error(va(90));x3(Be),Sy(Be,V)}}}break;case"textarea":w3(G,ge);break;case"select":re=ge.value,re!=null&&Cv(G,!!ge.multiple,re,!1)}};L3=Zm;P3=zh;var fM={usingClientEntryPoint:!1,Events:[e0,bv,Xp,E3,C3,Zm]},bd={findFiberByHostInstance:Ch,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cM={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jf.ReactCurrentDispatcher,findHostInstanceByFiber:function(G){return G=I3(G),G===null?null:G.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||lM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(wd=__REACT_DEVTOOLS_GLOBAL_HOOK__,!wd.isDisabled&&wd.supportsFiber))try{Hp=wd.inject(cM),cf=wd}catch(G){}var wd;Cl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;Cl.createPortal=function(G,re){var ge=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e1(re))throw Error(va(200));return sM(G,re,null,ge)};Cl.createRoot=function(G,re){if(!e1(G))throw Error(va(299));var ge=!1,Be="",V=cw;return re!=null&&(re.unstable_strictMode===!0&&(ge=!0),re.identifierPrefix!==void 0&&(Be=re.identifierPrefix),re.onRecoverableError!==void 0&&(V=re.onRecoverableError)),re=Qm(G,1,!1,null,null,ge,!1,Be,V),G[Zf]=re.current,Gd(G.nodeType===8?G.parentNode:G),new qm(re)};Cl.findDOMNode=function(G){if(G==null)return null;if(G.nodeType===1)return G;var re=G._reactInternals;if(re===void 0)throw typeof G.render=="function"?Error(va(188)):(G=Object.keys(G).join(","),Error(va(268,G)));return G=I3(re),G=G===null?null:G.stateNode,G};Cl.flushSync=function(G){return zh(G)};Cl.hydrate=function(G,re,ge){if(!tg(re))throw Error(va(200));return rg(null,G,re,!0,ge)};Cl.hydrateRoot=function(G,re,ge){if(!e1(G))throw Error(va(405));var Be=ge!=null&&ge.hydratedSources||null,V=!1,U="",e=cw;if(ge!=null&&(ge.unstable_strictMode===!0&&(V=!0),ge.identifierPrefix!==void 0&&(U=ge.identifierPrefix),ge.onRecoverableError!==void 0&&(e=ge.onRecoverableError)),re=fw(re,null,G,1,ge!=null?ge:null,V,!1,U,e),G[Zf]=re.current,Gd(G),Be)for(G=0;G<Be.length;G++)ge=Be[G],V=ge._getVersion,V=V(ge._source),re.mutableSourceEagerHydrationData==null?re.mutableSourceEagerHydrationData=[ge,V]:re.mutableSourceEagerHydrationData.push(ge,V);return new eg(re)};Cl.render=function(G,re,ge){if(!tg(re))throw Error(va(200));return rg(null,G,re,!1,ge)};Cl.unmountComponentAtNode=function(G){if(!tg(G))throw Error(va(40));return G._reactRootContainer?(zh(function(){rg(null,null,G,!1,function(){G._reactRootContainer=null,G[Zf]=null})}),!0):!1};Cl.unstable_batchedUpdates=Zm;Cl.unstable_renderSubtreeIntoContainer=function(G,re,ge,Be){if(!tg(ge))throw Error(va(200));if(G==null||G._reactInternals===void 0)throw Error(va(38));return rg(G,re,ge,!1,Be)};Cl.version="18.2.0-next-9e3b772b8-20220608"});var pw=Os((WM,dw)=>{"use strict";function vw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vw)}catch(G){console.error(G)}}vw(),dw.exports=hw()});var yw=Os(t1=>{"use strict";var gw=pw();t1.createRoot=gw.createRoot,t1.hydrateRoot=gw.hydrateRoot;var YM});var hM={};MA(hM,{TokenTrace:()=>jx,render:()=>bw});var Zx=of(hv());var fd=of(Ah()),ZA=({index:G,value:re,highlight:ge,onMouseEnter:Be,onMouseLeave:V})=>{let e={feature:{display:"flex",flexDirection:"column",fontSize:"7px",color:"#555",margin:"2px 4px",textAlign:"center",border:`1px solid ${ge?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.0)"}`},featureValue:{width:"25px",height:"25px",margin:"2px",backgroundColor:"#EEE"},featureValueInner:{width:"25px",height:"25px",backgroundColor:`rgba(123, 94, 17, ${re})`,display:"flex",justifyContent:"center",alignItems:"center",color:re>.5?"#FFF":"#000"}};return(0,fd.jsxs)("div",{style:e.feature,onMouseEnter:Be,onMouseLeave:V,children:[(0,fd.jsx)("div",{className:"Feature-value",style:e.featureValue,children:(0,fd.jsx)("div",{style:e.featureValueInner,children:parseFloat(`${re}`).toFixed(2)})}),G]})},Ex=ZA;var Wx=of(Gx()),Xx=of(Ah()),u5=({vals:G,numFeatures:re})=>{let ge=[...Array(re).keys()],Be=ge.map(()=>0);for(let[e,x]of G)Be[e]=x;return(0,Xx.jsx)(Wx.default,{data:[{x:ge,y:Be,type:"line"}],layout:{width:180,height:50,margin:{l:0,r:0,t:0,b:0,pad:0},yAxis:{tickformat:","},xAxis:{tickformat:","}},config:{displayModeBar:!1}})},Yx=u5;var Ns=of(Ah()),f5=({tokens:G,layerVals:re,numFeatures:ge=24576})=>{let[Be,V]=(0,Zx.useState)(null),U={tokenTrace:{fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",backgroundColor:"#f9f9f9",padding:"10px",color:"#333",maxWidth:"100%",overflowX:"auto"},tokenTraceTable:{width:`${200*(re[0].length+1)}px`},tokenTraceHeader:{alignItems:"center",textAlign:"center",fontWeight:"light",fontSize:"12px"},tokenTraceToken:{textAlign:"right",padding:"5px"},tokenTraceTd:{width:"200px",border:"1px solid #e0e0e0"},tokenTraceBox:{display:"flex",flexWrap:"wrap",padding:"2px",margin:"2px"},tokenTraceBoxOuter:{display:"flex",flexDirection:"column"}},e=re[0].length;return(0,Ns.jsx)("div",{style:U.tokenTrace,children:(0,Ns.jsxs)("table",{style:U.tokenTraceTable,children:[(0,Ns.jsxs)("tr",{children:[(0,Ns.jsx)("th",{style:U.tokenTraceHeader}),Array.from({length:e},(x,P)=>(0,Ns.jsx)("th",{style:U.tokenTraceHeader,children:P},P))]}),G.map((x,P)=>(0,Ns.jsxs)("tr",{children:[(0,Ns.jsx)("td",{style:U.tokenTraceToken,children:x}),re[P].map((i,L)=>(0,Ns.jsx)("td",{style:U.tokenTraceTd,children:(0,Ns.jsxs)("div",{style:U.tokenTraceBoxOuter,children:[(0,Ns.jsx)("div",{style:U.tokenTraceBox,children:i.map((C,c)=>(0,Ns.jsx)(Ex,{index:C[0],value:C[1],onMouseEnter:()=>V([L,C[0]]),onMouseLeave:()=>V(null),highlight:Be!==null&&Be[0]===L&&Be[1]===C[0]},c))}),(0,Ns.jsx)("div",{children:(0,Ns.jsx)(Yx,{vals:i,numFeatures:ge})})]})},L))]},P))]})})},jx=f5;var mw=of(hv()),xw=of(yw());function bw(G,re,ge={}){let Be=document.querySelector(`#${G}`),V=xw.default.createRoot(Be),U=mw.default.createElement(re,ge);V.render(U)}return SA(hM);})();
//# sourceMappingURL=iife.js.map
